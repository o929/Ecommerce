const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-CSRC8Nse.js","assets/chevron-right-C898UTNX.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-DE6y6-I3.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function I1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var hd={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function D1(){if(a0)return ze;a0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function V(I,re,pe){this.props=I,this.context=re,this.refs=j,this.updater=pe||D}V.prototype.isReactComponent={},V.prototype.setState=function(I,re){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,re,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function H(){}H.prototype=V.prototype;function Y(I,re,pe){this.props=I,this.context=re,this.refs=j,this.updater=pe||D}var F=Y.prototype=new H;F.constructor=Y,k(F,V.prototype),F.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function M(I,re,pe,le,_e,Ce){return pe=Ce.ref,{$$typeof:a,type:I,key:re,ref:pe!==void 0?pe:null,props:Ce}}function x(I,re){return M(I.type,re,void 0,void 0,void 0,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function O(I){var re={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(pe){return re[pe]})}var P=/\/+/g;function z(I,re){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):re.toString(36)}function R(){}function $e(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(re){I.status==="pending"&&(I.status="fulfilled",I.value=re)},function(re){I.status==="pending"&&(I.status="rejected",I.reason=re)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Qe(I,re,pe,le,_e){var Ce=typeof I;(Ce==="undefined"||Ce==="boolean")&&(I=null);var Se=!1;if(I===null)Se=!0;else switch(Ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(I.$$typeof){case a:case e:Se=!0;break;case _:return Se=I._init,Qe(Se(I._payload),re,pe,le,_e)}}if(Se)return _e=_e(I),Se=le===""?"."+z(I,0):le,ue(_e)?(pe="",Se!=null&&(pe=Se.replace(P,"$&/")+"/"),Qe(_e,re,pe,"",function(mn){return mn})):_e!=null&&(N(_e)&&(_e=x(_e,pe+(_e.key==null||I&&I.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+Se)),re.push(_e)),1;Se=0;var Tt=le===""?".":le+":";if(ue(I))for(var Ye=0;Ye<I.length;Ye++)le=I[Ye],Ce=Tt+z(le,Ye),Se+=Qe(le,re,pe,Ce,_e);else if(Ye=A(I),typeof Ye=="function")for(I=Ye.call(I),Ye=0;!(le=I.next()).done;)le=le.value,Ce=Tt+z(le,Ye++),Se+=Qe(le,re,pe,Ce,_e);else if(Ce==="object"){if(typeof I.then=="function")return Qe($e(I),re,pe,le,_e);throw re=String(I),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Z(I,re,pe){if(I==null)return I;var le=[],_e=0;return Qe(I,le,"","",function(Ce){return re.call(pe,Ce,_e++)}),le}function me(I){if(I._status===-1){var re=I._result;re=re(),re.then(function(pe){(I._status===0||I._status===-1)&&(I._status=1,I._result=pe)},function(pe){(I._status===0||I._status===-1)&&(I._status=2,I._result=pe)}),I._status===-1&&(I._status=0,I._result=re)}if(I._status===1)return I._result.default;throw I._result}var Te=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Le(){}return ze.Children={map:Z,forEach:function(I,re,pe){Z(I,function(){re.apply(this,arguments)},pe)},count:function(I){var re=0;return Z(I,function(){re++}),re},toArray:function(I){return Z(I,function(re){return re})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ze.Component=V,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=Y,ze.StrictMode=s,ze.Suspense=g,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,ze.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ce.H.useMemoCache(I)}},ze.cache=function(I){return function(){return I.apply(null,arguments)}},ze.cloneElement=function(I,re,pe){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var le=k({},I.props),_e=I.key,Ce=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(_e=""+re.key),re)!fe.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(le[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)le.children=pe;else if(1<Se){for(var Tt=Array(Se),Ye=0;Ye<Se;Ye++)Tt[Ye]=arguments[Ye+2];le.children=Tt}return M(I.type,_e,void 0,void 0,Ce,le)},ze.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},ze.createElement=function(I,re,pe){var le,_e={},Ce=null;if(re!=null)for(le in re.key!==void 0&&(Ce=""+re.key),re)fe.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=re[le]);var Se=arguments.length-2;if(Se===1)_e.children=pe;else if(1<Se){for(var Tt=Array(Se),Ye=0;Ye<Se;Ye++)Tt[Ye]=arguments[Ye+2];_e.children=Tt}if(I&&I.defaultProps)for(le in Se=I.defaultProps,Se)_e[le]===void 0&&(_e[le]=Se[le]);return M(I,Ce,void 0,void 0,null,_e)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(I){return{$$typeof:p,render:I}},ze.isValidElement=N,ze.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:me}},ze.memo=function(I,re){return{$$typeof:v,type:I,compare:re===void 0?null:re}},ze.startTransition=function(I){var re=ce.T,pe={};ce.T=pe;try{var le=I(),_e=ce.S;_e!==null&&_e(pe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Le,Te)}catch(Ce){Te(Ce)}finally{ce.T=re}},ze.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},ze.use=function(I){return ce.H.use(I)},ze.useActionState=function(I,re,pe){return ce.H.useActionState(I,re,pe)},ze.useCallback=function(I,re){return ce.H.useCallback(I,re)},ze.useContext=function(I){return ce.H.useContext(I)},ze.useDebugValue=function(){},ze.useDeferredValue=function(I,re){return ce.H.useDeferredValue(I,re)},ze.useEffect=function(I,re,pe){var le=ce.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(I,re)},ze.useId=function(){return ce.H.useId()},ze.useImperativeHandle=function(I,re,pe){return ce.H.useImperativeHandle(I,re,pe)},ze.useInsertionEffect=function(I,re){return ce.H.useInsertionEffect(I,re)},ze.useLayoutEffect=function(I,re){return ce.H.useLayoutEffect(I,re)},ze.useMemo=function(I,re){return ce.H.useMemo(I,re)},ze.useOptimistic=function(I,re){return ce.H.useOptimistic(I,re)},ze.useReducer=function(I,re,pe){return ce.H.useReducer(I,re,pe)},ze.useRef=function(I){return ce.H.useRef(I)},ze.useState=function(I){return ce.H.useState(I)},ze.useSyncExternalStore=function(I,re,pe){return ce.H.useSyncExternalStore(I,re,pe)},ze.useTransition=function(){return ce.H.useTransition()},ze.version="19.1.1",ze}var i0;function $c(){return i0||(i0=1,hd.exports=D1()),hd.exports}var U=$c();const m=I1(U);var dd={exports:{}},go={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function V1(){return s0||(s0=1,(function(a){function e(Z,me){var Te=Z.length;Z.push(me);e:for(;0<Te;){var Le=Te-1>>>1,I=Z[Le];if(0<o(I,me))Z[Le]=me,Z[Te]=I,Te=Le;else break e}}function r(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var me=Z[0],Te=Z.pop();if(Te!==me){Z[0]=Te;e:for(var Le=0,I=Z.length,re=I>>>1;Le<re;){var pe=2*(Le+1)-1,le=Z[pe],_e=pe+1,Ce=Z[_e];if(0>o(le,Te))_e<I&&0>o(Ce,le)?(Z[Le]=Ce,Z[_e]=Te,Le=_e):(Z[Le]=le,Z[pe]=Te,Le=pe);else if(_e<I&&0>o(Ce,Te))Z[Le]=Ce,Z[_e]=Te,Le=_e;else break e}}return me}function o(Z,me){var Te=Z.sortIndex-me.sortIndex;return Te!==0?Te:Z.id-me.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var g=[],v=[],_=1,w=null,A=3,D=!1,k=!1,j=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ue(Z){for(var me=r(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=Z)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=r(v)}}function ce(Z){if(j=!1,ue(Z),!k)if(r(g)!==null)k=!0,fe||(fe=!0,z());else{var me=r(v);me!==null&&Qe(ce,me.startTime-Z)}}var fe=!1,M=-1,x=5,N=-1;function O(){return V?!0:!(a.unstable_now()-N<x)}function P(){if(V=!1,fe){var Z=a.unstable_now();N=Z;var me=!0;try{e:{k=!1,j&&(j=!1,Y(M),M=-1),D=!0;var Te=A;try{t:{for(ue(Z),w=r(g);w!==null&&!(w.expirationTime>Z&&O());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,A=w.priorityLevel;var I=Le(w.expirationTime<=Z);if(Z=a.unstable_now(),typeof I=="function"){w.callback=I,ue(Z),me=!0;break t}w===r(g)&&s(g),ue(Z)}else s(g);w=r(g)}if(w!==null)me=!0;else{var re=r(v);re!==null&&Qe(ce,re.startTime-Z),me=!1}}break e}finally{w=null,A=Te,D=!1}me=void 0}}finally{me?z():fe=!1}}}var z;if(typeof F=="function")z=function(){F(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$e=R.port2;R.port1.onmessage=P,z=function(){$e.postMessage(null)}}else z=function(){H(P,0)};function Qe(Z,me){M=H(function(){Z(a.unstable_now())},me)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var Te=A;A=me;try{return Z()}finally{A=Te}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(Z,me){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Te=A;A=Z;try{return me()}finally{A=Te}},a.unstable_scheduleCallback=function(Z,me,Te){var Le=a.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Le+Te:Le):Te=Le,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Te+I,Z={id:_++,callback:me,priorityLevel:Z,startTime:Te,expirationTime:I,sortIndex:-1},Te>Le?(Z.sortIndex=Te,e(v,Z),r(g)===null&&Z===r(v)&&(j?(Y(M),M=-1):j=!0,Qe(ce,Te-Le))):(Z.sortIndex=I,e(g,Z),k||D||(k=!0,fe||(fe=!0,z()))),Z},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(Z){var me=A;return function(){var Te=A;A=me;try{return Z.apply(this,arguments)}finally{A=Te}}}})(pd)),pd}var l0;function M1(){return l0||(l0=1,md.exports=V1()),md.exports}var gd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function P1(){if(o0)return gn;o0=1;var a=$c();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:v,implementation:_}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,_)},gn.flushSync=function(g){var v=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=v,s.p=_,s.d.f()}},gn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(g,v))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var _=v.as,w=p(_,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?s.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:D}):_==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=p(v.as,v.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(g)},gn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,w=p(_,v.crossOrigin);s.d.L(g,_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gn.preloadModule=function(g,v){if(typeof g=="string")if(v){var _=p(v.as,v.crossOrigin);s.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,v){return g(v)},gn.useFormState=function(g,v,_){return h.H.useFormState(g,v,_)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var u0;function k1(){if(u0)return gd.exports;u0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),gd.exports=P1(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function L1(){if(c0)return go;c0=1;var a=M1(),e=$c(),r=k1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,l=n;;){var f=i.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===i)return p(f),t;if(d===l)return p(f),n;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=d;else{for(var b=!1,T=f.child;T;){if(T===i){b=!0,i=f,l=d;break}if(T===l){b=!0,l=f,i=d;break}T=T.sibling}if(!b){for(T=d.child;T;){if(T===i){b=!0,i=d,l=f;break}if(T===l){b=!0,l=d,i=f;break}T=T.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case V:return"Profiler";case j:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case F:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:$e(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return $e(t(n))}catch{}}return null}var Qe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Le=[],I=-1;function re(t){return{current:t}}function pe(t){0>I||(t.current=Le[I],Le[I]=null,I--)}function le(t,n){I++,Le[I]=t.current,t.current=n}var _e=re(null),Ce=re(null),Se=re(null),Tt=re(null);function Ye(t,n){switch(le(Se,n),le(Ce,t),le(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Dy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Dy(n),t=Vy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(_e),le(_e,t)}function mn(){pe(_e),pe(Ce),pe(Se)}function rn(t){t.memoizedState!==null&&le(Tt,t);var n=_e.current,i=Vy(n,t.type);n!==i&&(le(Ce,t),le(_e,i))}function pt(t){Ce.current===t&&(pe(_e),pe(Ce)),Tt.current===t&&(pe(Tt),co._currentValue=Te)}var Pt=Object.prototype.hasOwnProperty,Nt=a.unstable_scheduleCallback,jr=a.unstable_cancelCallback,ba=a.unstable_shouldYield,mi=a.unstable_requestPaint,Sn=a.unstable_now,wa=a.unstable_getCurrentPriorityLevel,pi=a.unstable_ImmediatePriority,Br=a.unstable_UserBlockingPriority,tr=a.unstable_NormalPriority,Ta=a.unstable_LowPriority,hr=a.unstable_IdlePriority,gi=a.log,de=a.unstable_setDisableYieldValue,q=null,te=null;function he(t){if(typeof gi=="function"&&de(t),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(q,t)}catch{}}var Re=Math.clz32?Math.clz32:J,Ue=Math.log,et=Math.LN2;function J(t){return t>>>=0,t===0?32:31-(Ue(t)/et|0)|0}var ae=256,be=4194304;function ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ee(t,n,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=ve(l):(b&=T,b!==0?f=ve(b):i||(i=T&~t,i!==0&&(f=ve(i))))):(T=l&~d,T!==0?f=ve(T):b!==0?f=ve(b):i||(i=l&~t,i!==0&&(f=ve(i)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,i=n&-n,d>=i||d===32&&(i&4194048)!==0)?n:f}function Me(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var t=ae;return ae<<=1,(ae&4194048)===0&&(ae=256),t}function nt(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function gt(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function at(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rt(t,n,i,l,f,d){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,Q=t.hiddenUpdates;for(i=b&~i;0<i;){var ee=31-Re(i),se=1<<ee;T[ee]=0,C[ee]=-1;var K=Q[ee];if(K!==null)for(Q[ee]=null,ee=0;ee<K.length;ee++){var X=K[ee];X!==null&&(X.lane&=-536870913)}i&=~se}l!==0&&an(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~n))}function an(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Re(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function On(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-Re(i),f=1<<l;f&n|t[l]&n&&(t[l]|=n),i&=~f}}function In(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nr(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Wy(t.type))}function Ho(t,n){var i=me.p;try{return me.p=t,n()}finally{me.p=i}}var bt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+bt,kt="__reactProps$"+bt,jn="__reactContainer$"+bt,pl="__reactEvents$"+bt,pf="__reactListeners$"+bt,xa="__reactHandles$"+bt,Go="__reactResources$"+bt,yi="__reactMarker$"+bt;function Sa(t){delete t[Ft],delete t[kt],delete t[pl],delete t[pf],delete t[xa]}function Fr(t){var n=t[Ft];if(n)return n;for(var i=t.parentNode;i;){if(n=i[jn]||i[Ft]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Ly(t);t!==null;){if(i=t[Ft])return i;t=Ly(t)}return n}t=i,i=t.parentNode}return null}function dr(t){if(t=t[Ft]||t[jn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function mr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function _n(t){var n=t[Go];return n||(n=t[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[yi]=!0}var gl=new Set,as={};function rr(t,n){Hr(t,n),Hr(t+"Capture",n)}function Hr(t,n){for(as[t]=n,t=0;t<n.length;t++)gl.add(n[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},vi={};function Yo(t){return Pt.call(vi,t)?!0:Pt.call(Qo,t)?!1:$o.test(t)?vi[t]=!0:(Qo[t]=!0,!1)}function Aa(t,n,i){if(Yo(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function pr(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function sn(t,n,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+l)}}var Ei,Ko;function Gr(t){if(Ei===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ei=n&&n[1]||"",Ko=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+t+Ko}var is=!1;function ss(t,n){if(!t||is)return"";is=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var K=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){K=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){K=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],T=d[1];if(b&&T){var C=b.split(`
`),Q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===Q.length)for(l=C.length-1,f=Q.length-1;1<=l&&0<=f&&C[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==Q[f]){var ee=`
`+C[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=f);break}}}finally{is=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Gr(i):""}function yl(t){switch(t.tag){case 26:case 27:case 5:return Gr(t.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return Gr("Activity");default:return""}}function ls(t){try{var n="";do n+=yl(t),t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gf(t){var n=vl(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function os(t){t._valueTracker||(t._valueTracker=gf(t))}function El(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=vl(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yf=/[\n"\\]/g;function Lt(t){return t.replace(yf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dn(t,n,i,l,f,d,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Na(t,b,bn(n)):i!=null?Na(t,b,bn(i)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+bn(T):t.removeAttribute("name")}function bi(t,n,i,l,f,d,b,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Na(t,n,i){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function $r(t,n,i,l){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function ft(t,n,i){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+bn(i):""}function wi(t,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=bn(n),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function Bn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Ti=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,i):typeof i!="number"||i===0||Ti.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function _l(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&i[f]!==l&&Xo(t,f,l)}else for(var d in n)n.hasOwnProperty(d)&&Xo(t,d,n[d])}function bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(t){return Ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Qr=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yr=null,Kr=null;function wl(t){var n=dr(t);if(n&&(t=n.stateNode)){var i=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Dn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));Dn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===t.form&&El(l)}break e;case"textarea":ft(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&$r(t,!!i.multiple,n,!1)}}}var gr=!1;function Zo(t,n,i){if(gr)return t(n,i);gr=!0;try{var l=t(n);return l}finally{if(gr=!1,(Yr!==null||Kr!==null)&&(Hu(),Yr&&(n=Yr,t=Kr,Kr=Yr=null,wl(n),t)))for(n=0;n<t.length;n++)wl(t[n])}}function xi(t,n){var i=t.stateNode;if(i===null)return null;var l=i[kt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ar)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Fn=!1}var yr=null,Ra=null,Xr=null;function Tl(){if(Xr)return Xr;var t,n=Ra,i=n.length,l,f="value"in yr?yr.value:yr.textContent,d=f.length;for(t=0;t<i&&n[t]===f[t];t++);var b=i-t;for(l=1;l<=b&&n[i-l]===f[d-l];l++);return Xr=f.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function xl(){return!1}function Xt(t){function n(i,l,f,d,b){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:xl,this.isPropagationStopped=xl,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),n}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Xt(it),Ai=_({},it,{view:0,detail:0}),Wo=Xt(Ai),fs,hs,_r,Ni=_({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(fs=t.screenX-_r.screenX,hs=t.screenY-_r.screenY):hs=fs=0,_r=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:hs}}),Hn=Xt(Ni),Jo=_({},Ni,{dataTransfer:0}),_f=Xt(Jo),Ri=_({},Ai,{relatedTarget:0}),ds=Xt(Ri),Sl=_({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=Xt(Sl),eu=_({},it,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ps=Xt(eu),bf=_({},it,{data:0}),Al=Xt(bf),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=nu[t])?!!n[t]:!1}function Oi(){return Nl}var ru=_({},Ai,{key:function(t){if(t.key){var n=Ci[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gs=Xt(ru),au=_({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Xt(au),Zr=_({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),iu=Xt(Zr),su=_({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=Xt(su),ou=_({},Ni,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ys=Xt(ou),wn=_({},it,{newState:0,oldState:0}),uu=Xt(wn),cu=[9,13,27,32],br=ar&&"CompositionEvent"in window,c=null;ar&&"documentMode"in document&&(c=document.documentMode);var y=ar&&"TextEvent"in window&&!c,E=ar&&(!br||c&&8<c&&11>=c),S=" ",G=!1;function W(t,n){switch(t){case"keyup":return cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function Ht(t,n){switch(t){case"compositionend":return ge(n);case"keypress":return n.which!==32?null:(G=!0,S);case"textInput":return t=n.data,t===S&&G?null:t;default:return null}}function Xe(t,n){if(Ke)return t==="compositionend"||!br&&W(t,n)?(t=Tl(),Xr=Ra=yr=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return E&&n.locale!=="ko"?null:n.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Zt[t.type]:n==="textarea"}function Wr(t,n,i,l){Yr?Kr?Kr.push(l):Kr=[l]:Yr=l,n=Xu(n,"onChange"),0<n.length&&(i=new cs("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var ln=null,wr=null;function Cl(t){Ny(t,0)}function fu(t){var n=mr(t);if(El(n))return t}function Ym(t,n){if(t==="change")return n}var Km=!1;if(ar){var wf;if(ar){var Tf="oninput"in document;if(!Tf){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Tf=typeof Xm.oninput=="function"}wf=Tf}else wf=!1;Km=wf&&(!document.documentMode||9<document.documentMode)}function Zm(){ln&&(ln.detachEvent("onpropertychange",Wm),wr=ln=null)}function Wm(t){if(t.propertyName==="value"&&fu(wr)){var n=[];Wr(n,wr,t,qn(t)),Zo(Cl,n)}}function lb(t,n,i){t==="focusin"?(Zm(),ln=n,wr=i,ln.attachEvent("onpropertychange",Wm)):t==="focusout"&&Zm()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fu(wr)}function ub(t,n){if(t==="click")return fu(n)}function cb(t,n){if(t==="input"||t==="change")return fu(n)}function fb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:fb;function Ol(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Pt.call(n,f)||!Vn(t[f],n[f]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,n){var i=Jm(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Jm(i)}}function tp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?tp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=_i(t.document)}return n}function xf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hb=ar&&"documentMode"in document&&11>=document.documentMode,vs=null,Sf=null,Il=null,Af=!1;function rp(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Af||vs==null||vs!==_i(l)||(l=vs,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Ol(Il,l)||(Il=l,l=Xu(Sf,"onSelect"),0<l.length&&(n=new cs("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=vs)))}function Ii(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Es={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Nf={},ap={};ar&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Di(t){if(Nf[t])return Nf[t];if(!Es[t])return t;var n=Es[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in ap)return Nf[t]=n[i];return t}var ip=Di("animationend"),sp=Di("animationiteration"),lp=Di("animationstart"),db=Di("transitionrun"),mb=Di("transitionstart"),pb=Di("transitioncancel"),op=Di("transitionend"),up=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function ir(t,n){up.set(t,n),rr(n,[t])}var cp=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var i=cp.get(t);return i!==void 0?i:(n={value:t,source:n,stack:ls(n)},cp.set(t,n),n)}return{value:t,source:n,stack:ls(n)}}var $n=[],_s=0,Cf=0;function hu(){for(var t=_s,n=Cf=_s=0;n<t;){var i=$n[n];$n[n++]=null;var l=$n[n];$n[n++]=null;var f=$n[n];$n[n++]=null;var d=$n[n];if($n[n++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&fp(i,f,d)}}function du(t,n,i,l){$n[_s++]=t,$n[_s++]=n,$n[_s++]=i,$n[_s++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,n,i,l){return du(t,n,i,l),mu(t)}function bs(t,n){return du(t,null,null,n),mu(t)}function fp(t,n,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,d=t.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Re(i),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=i|536870912),d):null}function mu(t){if(50<no)throw no=0,kh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ws={};function gb(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,i,l){return new gb(t,n,i,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,n){var i=t.alternate;return i===null?(i=Mn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function hp(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function pu(t,n,i,l,f,d){var b=0;if(l=t,typeof t=="function")If(t)&&(b=1);else if(typeof t=="string")b=v1(t,i,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Mn(31,i,n,f),t.elementType=N,t.lanes=d,t;case k:return Vi(i.children,f,d,n);case j:b=8,f|=24;break;case V:return t=Mn(12,i,n,f|2),t.elementType=V,t.lanes=d,t;case ce:return t=Mn(13,i,n,f),t.elementType=ce,t.lanes=d,t;case fe:return t=Mn(19,i,n,f),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case F:b=10;break e;case Y:b=9;break e;case ue:b=11;break e;case M:b=14;break e;case x:b=16,l=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Mn(b,i,n,f),n.elementType=t,n.type=l,n.lanes=d,n}function Vi(t,n,i,l){return t=Mn(7,t,l,n),t.lanes=i,t}function Df(t,n,i){return t=Mn(6,t,null,n),t.lanes=i,t}function Vf(t,n,i){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ts=[],xs=0,gu=null,yu=0,Qn=[],Yn=0,Mi=null,ea=1,ta="";function Pi(t,n){Ts[xs++]=yu,Ts[xs++]=gu,gu=t,yu=n}function dp(t,n,i){Qn[Yn++]=ea,Qn[Yn++]=ta,Qn[Yn++]=Mi,Mi=t;var l=ea;t=ta;var f=32-Re(l)-1;l&=~(1<<f),i+=1;var d=32-Re(n)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,ea=1<<32-Re(n)+f|i<<f|l,ta=d+t}else ea=1<<d|i<<f|l,ta=t}function Mf(t){t.return!==null&&(Pi(t,1),dp(t,1,0))}function Pf(t){for(;t===gu;)gu=Ts[--xs],Ts[xs]=null,yu=Ts[--xs],Ts[xs]=null;for(;t===Mi;)Mi=Qn[--Yn],Qn[Yn]=null,ta=Qn[--Yn],Qn[Yn]=null,ea=Qn[--Yn],Qn[Yn]=null}var Tn=null,Ct=null,rt=!1,ki=null,Tr=!1,kf=Error(s(519));function Li(t){var n=Error(s(418,""));throw Ml(Gn(n,t)),kf}function mp(t){var n=t.stateNode,i=t.type,l=t.memoizedProps;switch(n[Ft]=t,n[kt]=l,i){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(i=0;i<ao.length;i++)Fe(ao[i],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),bi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),os(n);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),wi(n,l.value,l.defaultValue,l.children),os(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Iy(n.textContent,i)?(l.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),l.onScroll!=null&&Fe("scroll",n),l.onScrollEnd!=null&&Fe("scrollend",n),l.onClick!=null&&(n.onclick=Zu),n=!0):n=!1,n||Li(t)}function pp(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Tn=Tn.return}}function Dl(t){if(t!==Tn)return!1;if(!rt)return pp(t),rt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wh(t.type,t.memoizedProps)),i=!i),i&&Ct&&Li(t),pp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(n===0){Ct=lr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;t=t.nextSibling}Ct=null}}else n===27?(n=Ct,Ha(t.type)?(t=nd,nd=null,Ct=t):Ct=n):Ct=Tn?lr(t.stateNode.nextSibling):null;return!0}function Vl(){Ct=Tn=null,rt=!1}function gp(){var t=ki;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),ki=null),t}function Ml(t){ki===null?ki=[t]:ki.push(t)}var Lf=re(null),Ui=null,na=null;function Ca(t,n,i){le(Lf,n._currentValue),n._currentValue=i}function ra(t){t._currentValue=Lf.current,pe(Lf)}function Uf(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function zf(t,n,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=i,T=d.alternate,T!==null&&(T.lanes|=i),Uf(d.return,i,t),l||(b=null);break e}d=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=i,d=b.alternate,d!==null&&(d.lanes|=i),Uf(b,i,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Pl(t,n,i,l){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=f.type;Vn(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===Tt.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}f=f.return}t!==null&&zf(n,t,i,l),n.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zi(t){Ui=t,na=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return yp(Ui,t)}function Eu(t,n){return Ui===null&&zi(t),yp(t,n)}function yp(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},na===null){if(t===null)throw Error(s(308));na=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else na=na.next=n;return i}var yb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},vb=a.unstable_scheduleCallback,Eb=a.unstable_NormalPriority,$t={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new yb,data:new Map,refCount:0}}function kl(t){t.refCount--,t.refCount===0&&vb(Eb,function(){t.controller.abort()})}var Ll=null,Bf=0,Ss=0,As=null;function _b(t,n){if(Ll===null){var i=Ll=[];Bf=0,Ss=Fh(),As={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Bf++,n.then(vp,vp),n}function vp(){if(--Bf===0&&Ll!==null){As!==null&&(As.status="fulfilled");var t=Ll;Ll=null,Ss=0,As=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bb(t,n){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var Ep=Z.S;Z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&_b(t,n),Ep!==null&&Ep(t,n)};var ji=re(null);function qf(){var t=ji.current;return t!==null?t:Et.pooledCache}function _u(t,n){n===null?le(ji,ji.current):le(ji,n.pool)}function _p(){var t=qf();return t===null?null:{parent:$t._currentValue,pool:t}}var Ul=Error(s(460)),bp=Error(s(474)),bu=Error(s(542)),Ff={then:function(){}};function wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wu(){}function Tp(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(wu,wu),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t;default:if(typeof n.status=="string")n.then(wu,wu);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t}throw zl=n,Ul}}var zl=null;function xp(){if(zl===null)throw Error(s(459));var t=zl;return zl=null,t}function Sp(t){if(t===Ul||t===bu)throw Error(s(483))}var Oa=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=mu(t),fp(t,null,i),n}return du(t,l,n,i),mu(t)}function jl(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,On(t,i)}}function $f(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,i=i.next}while(i!==null);d===null?f=d=n:d=d.next=n}else f=d=n;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Qf=!1;function Bl(){if(Qf){var t=As;if(t!==null)throw t}}function ql(t,n,i,l){Qf=!1;var f=t.updateQueue;Oa=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,Q=C.next;C.next=null,b===null?d=Q:b.next=Q,b=C;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==b&&(T===null?ee.firstBaseUpdate=Q:T.next=Q,ee.lastBaseUpdate=C))}if(d!==null){var se=f.baseState;b=0,ee=Q=C=null,T=d;do{var K=T.lane&-536870913,X=K!==T.lane;if(X?(Ze&K)===K:(l&K)===K){K!==0&&K===Ss&&(Qf=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=t,Oe=T;K=n;var mt=i;switch(Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){se=Ve.call(mt,se,K);break e}se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,K=typeof Ve=="function"?Ve.call(mt,se,K):Ve,K==null)break e;se=_({},se,K);break e;case 2:Oa=!0}}K=T.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(Q=ee=X,C=se):ee=ee.next=X,b|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ee===null&&(C=se),f.baseState=C,f.firstBaseUpdate=Q,f.lastBaseUpdate=ee,d===null&&(f.shared.lanes=0),ja|=b,t.lanes=b,t.memoizedState=se}}function Ap(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Np(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Ap(i[t],n)}var Ns=re(null),Tu=re(0);function Rp(t,n){t=ca,le(Tu,t),le(Ns,n),ca=t|n.baseLanes}function Yf(){le(Tu,ca),le(Ns,Ns.current)}function Kf(){ca=Tu.current,pe(Ns),pe(Tu)}var Va=0,je=null,ht=null,Ut=null,xu=!1,Rs=!1,Bi=!1,Su=0,Fl=0,Cs=null,wb=0;function Dt(){throw Error(s(321))}function Xf(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Vn(t[i],n[i]))return!1;return!0}function Zf(t,n,i,l,f,d){return Va=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=t===null||t.memoizedState===null?fg:hg,Bi=!1,d=i(l,f),Bi=!1,Rs&&(d=Op(n,i,l,f)),Cp(t),d}function Cp(t){Z.H=Iu;var n=ht!==null&&ht.next!==null;if(Va=0,Ut=ht=je=null,xu=!1,Fl=0,Cs=null,n)throw Error(s(300));t===null||Wt||(t=t.dependencies,t!==null&&vu(t)&&(Wt=!0))}function Op(t,n,i,l){je=t;var f=0;do{if(Rs&&(Cs=null),Fl=0,Rs=!1,25<=f)throw Error(s(301));if(f+=1,Ut=ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=Cb,d=n(i,l)}while(Rs);return d}function Tb(){var t=Z.H,n=t.useState()[0];return n=typeof n.then=="function"?Hl(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),n}function Wf(){var t=Su!==0;return Su=0,t}function Jf(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function eh(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}Va=0,Ut=ht=je=null,Rs=!1,Fl=Su=0,Cs=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function zt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ut===null?je.memoizedState:Ut.next;if(n!==null)Ut=n,ht=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(t){var n=Fl;return Fl+=1,Cs===null&&(Cs=[]),t=Tp(Cs,t,n),n=je,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?fg:hg),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Hl(t);if(t.$$typeof===F)return pn(t)}throw Error(s(438,String(t)))}function nh(t){var n=null,i=je.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=th(),je.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),l=0;l<t;l++)i[l]=O;return n.index++,i}function aa(t,n){return typeof n=="function"?n(t):n}function Nu(t){var n=zt();return rh(n,ht,t)}function rh(t,n,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var T=b=null,C=null,Q=n,ee=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Ze&se)===se:(Va&se)===se){var K=Q.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===Ss&&(ee=!0);else if((Va&K)===K){Q=Q.next,K===Ss&&(ee=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},C===null?(T=C=se,b=d):C=C.next=se,je.lanes|=K,ja|=K;se=Q.action,Bi&&i(d,se),d=Q.hasEagerState?Q.eagerState:i(d,se)}else K={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},C===null?(T=C=K,b=d):C=C.next=K,je.lanes|=se,ja|=se;Q=Q.next}while(Q!==null&&Q!==n);if(C===null?b=d:C.next=T,!Vn(d,t.memoizedState)&&(Wt=!0,ee&&(i=As,i!==null)))throw i;t.memoizedState=d,t.baseState=b,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ah(t){var n=zt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,d=n.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do d=t(d,b.action),b=b.next;while(b!==f);Vn(d,n.memoizedState)||(Wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,l]}function Ip(t,n,i){var l=je,f=zt(),d=rt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!Vn((ht||f).memoizedState,i);b&&(f.memoizedState=i,Wt=!0),f=f.queue;var T=Mp.bind(null,l,f,t);if(Gl(2048,8,T,[t]),f.getSnapshot!==n||b||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Os(9,Ru(),Vp.bind(null,l,f,i,n),null),Et===null)throw Error(s(349));d||(Va&124)!==0||Dp(l,n,i)}return i}function Dp(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n=th(),je.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Vp(t,n,i,l){n.value=i,n.getSnapshot=l,Pp(n)&&kp(t)}function Mp(t,n,i){return i(function(){Pp(n)&&kp(t)})}function Pp(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Vn(t,i)}catch{return!0}}function kp(t){var n=bs(t,2);n!==null&&zn(n,t,2)}function ih(t){var n=An();if(typeof t=="function"){var i=t;if(t=i(),Bi){he(!0);try{i()}finally{he(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},n}function Lp(t,n,i,l){return t.baseState=i,rh(t,ht,typeof l=="function"?l:aa)}function xb(t,n,i,l,f){if(Ou(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};Z.T!==null?i(!0):d.isTransition=!1,l(d),i=n.pending,i===null?(d.next=n.pending=d,Up(n,d)):(d.next=i.next,n.pending=i.next=d)}}function Up(t,n){var i=n.action,l=n.payload,f=t.state;if(n.isTransition){var d=Z.T,b={};Z.T=b;try{var T=i(f,l),C=Z.S;C!==null&&C(b,T),zp(t,n,T)}catch(Q){sh(t,n,Q)}finally{Z.T=d}}else try{d=i(f,l),zp(t,n,d)}catch(Q){sh(t,n,Q)}}function zp(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){jp(t,n,l)},function(l){return sh(t,n,l)}):jp(t,n,i)}function jp(t,n,i){n.status="fulfilled",n.value=i,Bp(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,Up(t,i)))}function sh(t,n,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Bp(n),n=n.next;while(n!==l)}t.action=null}function Bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qp(t,n){return n}function Fp(t,n){if(rt){var i=Et.formState;if(i!==null){e:{var l=je;if(rt){if(Ct){t:{for(var f=Ct,d=Tr;f.nodeType!==8;){if(!d){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ct=lr(f.nextSibling),l=f.data==="F!";break e}}Li(l)}l=!1}l&&(n=i[0])}}return i=An(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:n},i.queue=l,i=og.bind(null,je,l),l.dispatch=i,l=ih(!1),d=fh.bind(null,je,!1,l.queue),l=An(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,i=xb.bind(null,je,f,d,i),f.dispatch=i,l.memoizedState=t,[n,i,!1]}function Hp(t){var n=zt();return Gp(n,ht,t)}function Gp(t,n,i){if(n=rh(t,n,qp)[0],t=Nu(aa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(b){throw b===Ul?bu:b}else l=n;n=zt();var f=n.queue,d=f.dispatch;return i!==n.memoizedState&&(je.flags|=2048,Os(9,Ru(),Sb.bind(null,f,i),null)),[l,d,t]}function Sb(t,n){t.action=n}function $p(t){var n=zt(),i=ht;if(i!==null)return Gp(n,i,t);zt(),n=n.memoizedState,i=zt();var l=i.queue.dispatch;return i.memoizedState=t,[n,l,!1]}function Os(t,n,i,l){return t={tag:t,create:i,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=th(),je.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t),t}function Ru(){return{destroy:void 0,resource:void 0}}function Qp(){return zt().memoizedState}function Cu(t,n,i,l){var f=An();l=l===void 0?null:l,je.flags|=t,f.memoizedState=Os(1|n,Ru(),i,l)}function Gl(t,n,i,l){var f=zt();l=l===void 0?null:l;var d=f.memoizedState.inst;ht!==null&&l!==null&&Xf(l,ht.memoizedState.deps)?f.memoizedState=Os(n,d,i,l):(je.flags|=t,f.memoizedState=Os(1|n,d,i,l))}function Yp(t,n){Cu(8390656,8,t,n)}function Kp(t,n){Gl(2048,8,t,n)}function Xp(t,n){return Gl(4,2,t,n)}function Zp(t,n){return Gl(4,4,t,n)}function Wp(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jp(t,n,i){i=i!=null?i.concat([t]):null,Gl(4,4,Wp.bind(null,n,t),i)}function lh(){}function eg(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Xf(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function tg(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Xf(n,l[1]))return l[0];if(l=t(),Bi){he(!0);try{t()}finally{he(!1)}}return i.memoizedState=[l,n],l}function oh(t,n,i){return i===void 0||(Va&1073741824)!==0?t.memoizedState=n:(t.memoizedState=i,t=ay(),je.lanes|=t,ja|=t,i)}function ng(t,n,i,l){return Vn(i,n)?i:Ns.current!==null?(t=oh(t,i,l),Vn(t,n)||(Wt=!0),t):(Va&42)===0?(Wt=!0,t.memoizedState=i):(t=ay(),je.lanes|=t,ja|=t,n)}function rg(t,n,i,l,f){var d=me.p;me.p=d!==0&&8>d?d:8;var b=Z.T,T={};Z.T=T,fh(t,!1,n,i);try{var C=f(),Q=Z.S;if(Q!==null&&Q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ee=bb(C,l);$l(t,n,ee,Un(t))}else $l(t,n,l,Un(t))}catch(se){$l(t,n,{then:function(){},status:"rejected",reason:se},Un())}finally{me.p=d,Z.T=b}}function Ab(){}function uh(t,n,i,l){if(t.tag!==5)throw Error(s(476));var f=ag(t).queue;rg(t,f,n,Te,i===null?Ab:function(){return ig(t),i(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Te},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=ag(t).next.queue;$l(t,n,{},Un())}function ch(){return pn(co)}function sg(){return zt().memoizedState}function lg(){return zt().memoizedState}function Nb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Un();t=Ia(i);var l=Da(n,t,i);l!==null&&(zn(l,n,i),jl(l,n,i)),n={cache:jf()},t.payload=n;return}n=n.return}}function Rb(t,n,i){var l=Un();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ou(t)?ug(n,i):(i=Of(t,n,i,l),i!==null&&(zn(i,t,l),cg(i,n,l)))}function og(t,n,i){var l=Un();$l(t,n,i,l)}function $l(t,n,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))ug(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,T=d(b,i);if(f.hasEagerState=!0,f.eagerState=T,Vn(T,b))return du(t,n,f,0),Et===null&&hu(),!1}catch{}finally{}if(i=Of(t,n,f,l),i!==null)return zn(i,t,l),cg(i,n,l),!0}return!1}function fh(t,n,i,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(n)throw Error(s(479))}else n=Of(t,i,l,2),n!==null&&zn(n,t,2)}function Ou(t){var n=t.alternate;return t===je||n!==null&&n===je}function ug(t,n){Rs=xu=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function cg(t,n,i){if((i&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,On(t,i)}}var Iu={readContext:pn,use:Au,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},fg={readContext:pn,use:Au,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:pn,useEffect:Yp,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,Cu(4194308,4,Wp.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Cu(4194308,4,t,n)},useInsertionEffect:function(t,n){Cu(4,2,t,n)},useMemo:function(t,n){var i=An();n=n===void 0?null:n;var l=t();if(Bi){he(!0);try{t()}finally{he(!1)}}return i.memoizedState=[l,n],l},useReducer:function(t,n,i){var l=An();if(i!==void 0){var f=i(n);if(Bi){he(!0);try{i(n)}finally{he(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Rb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=ih(t);var n=t.queue,i=og.bind(null,je,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:lh,useDeferredValue:function(t,n){var i=An();return oh(i,t,n)},useTransition:function(){var t=ih(!1);return t=rg.bind(null,je,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var l=je,f=An();if(rt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Et===null)throw Error(s(349));(Ze&124)!==0||Dp(l,n,i)}f.memoizedState=i;var d={value:i,getSnapshot:n};return f.queue=d,Yp(Mp.bind(null,l,d,t),[t]),l.flags|=2048,Os(9,Ru(),Vp.bind(null,l,d,i,n),null),i},useId:function(){var t=An(),n=Et.identifierPrefix;if(rt){var i=ta,l=ea;i=(l&~(1<<32-Re(l)-1)).toString(32)+i,n="«"+n+"R"+i,i=Su++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=wb++,n="«"+n+"r"+i.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:Fp,useActionState:Fp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=fh.bind(null,je,!0,i),i.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return An().memoizedState=Nb.bind(null,je)}},hg={readContext:pn,use:Au,useCallback:eg,useContext:pn,useEffect:Kp,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:tg,useReducer:Nu,useRef:Qp,useState:function(){return Nu(aa)},useDebugValue:lh,useDeferredValue:function(t,n){var i=zt();return ng(i,ht.memoizedState,t,n)},useTransition:function(){var t=Nu(aa)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:Hl(t),n]},useSyncExternalStore:Ip,useId:sg,useHostTransitionStatus:ch,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var i=zt();return Lp(i,ht,t,n)},useMemoCache:nh,useCacheRefresh:lg},Cb={readContext:pn,use:Au,useCallback:eg,useContext:pn,useEffect:Kp,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:tg,useReducer:ah,useRef:Qp,useState:function(){return ah(aa)},useDebugValue:lh,useDeferredValue:function(t,n){var i=zt();return ht===null?oh(i,t,n):ng(i,ht.memoizedState,t,n)},useTransition:function(){var t=ah(aa)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:Hl(t),n]},useSyncExternalStore:Ip,useId:sg,useHostTransitionStatus:ch,useFormState:$p,useActionState:$p,useOptimistic:function(t,n){var i=zt();return ht!==null?Lp(i,ht,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:nh,useCacheRefresh:lg},Is=null,Ql=0;function Du(t){var n=Ql;return Ql+=1,Is===null&&(Is=[]),Tp(Is,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){var n=t._init;return n(t._payload)}function mg(t){function n(B,L){if(t){var $=B.deletions;$===null?(B.deletions=[L],B.flags|=16):$.push(L)}}function i(B,L){if(!t)return null;for(;L!==null;)n(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Jr(B,L),B.index=0,B.sibling=null,B}function d(B,L,$){return B.index=$,t?($=B.alternate,$!==null?($=$.index,$<L?(B.flags|=67108866,L):$):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,L,$,ie){return L===null||L.tag!==6?(L=Df($,B.mode,ie),L.return=B,L):(L=f(L,$),L.return=B,L)}function C(B,L,$,ie){var xe=$.type;return xe===k?ee(B,L,$.props.children,ie,$.key):L!==null&&(L.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&dg(xe)===L.type)?(L=f(L,$.props),Yl(L,$),L.return=B,L):(L=pu($.type,$.key,$.props,null,B.mode,ie),Yl(L,$),L.return=B,L)}function Q(B,L,$,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=Vf($,B.mode,ie),L.return=B,L):(L=f(L,$.children||[]),L.return=B,L)}function ee(B,L,$,ie,xe){return L===null||L.tag!==7?(L=Vi($,B.mode,ie,xe),L.return=B,L):(L=f(L,$),L.return=B,L)}function se(B,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Df(""+L,B.mode,$),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return $=pu(L.type,L.key,L.props,null,B.mode,$),Yl($,L),$.return=B,$;case D:return L=Vf(L,B.mode,$),L.return=B,L;case x:var ie=L._init;return L=ie(L._payload),se(B,L,$)}if(Qe(L)||z(L))return L=Vi(L,B.mode,$,null),L.return=B,L;if(typeof L.then=="function")return se(B,Du(L),$);if(L.$$typeof===F)return se(B,Eu(B,L),$);Vu(B,L)}return null}function K(B,L,$,ie){var xe=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:T(B,L,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===xe?C(B,L,$,ie):null;case D:return $.key===xe?Q(B,L,$,ie):null;case x:return xe=$._init,$=xe($._payload),K(B,L,$,ie)}if(Qe($)||z($))return xe!==null?null:ee(B,L,$,ie,null);if(typeof $.then=="function")return K(B,L,Du($),ie);if($.$$typeof===F)return K(B,L,Eu(B,$),ie);Vu(B,$)}return null}function X(B,L,$,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get($)||null,T(L,B,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return B=B.get(ie.key===null?$:ie.key)||null,C(L,B,ie,xe);case D:return B=B.get(ie.key===null?$:ie.key)||null,Q(L,B,ie,xe);case x:var Be=ie._init;return ie=Be(ie._payload),X(B,L,$,ie,xe)}if(Qe(ie)||z(ie))return B=B.get($)||null,ee(L,B,ie,xe,null);if(typeof ie.then=="function")return X(B,L,$,Du(ie),xe);if(ie.$$typeof===F)return X(B,L,$,Eu(L,ie),xe);Vu(L,ie)}return null}function Ve(B,L,$,ie){for(var xe=null,Be=null,Ae=L,Ie=L=0,en=null;Ae!==null&&Ie<$.length;Ie++){Ae.index>Ie?(en=Ae,Ae=null):en=Ae.sibling;var tt=K(B,Ae,$[Ie],ie);if(tt===null){Ae===null&&(Ae=en);break}t&&Ae&&tt.alternate===null&&n(B,Ae),L=d(tt,L,Ie),Be===null?xe=tt:Be.sibling=tt,Be=tt,Ae=en}if(Ie===$.length)return i(B,Ae),rt&&Pi(B,Ie),xe;if(Ae===null){for(;Ie<$.length;Ie++)Ae=se(B,$[Ie],ie),Ae!==null&&(L=d(Ae,L,Ie),Be===null?xe=Ae:Be.sibling=Ae,Be=Ae);return rt&&Pi(B,Ie),xe}for(Ae=l(Ae);Ie<$.length;Ie++)en=X(Ae,B,Ie,$[Ie],ie),en!==null&&(t&&en.alternate!==null&&Ae.delete(en.key===null?Ie:en.key),L=d(en,L,Ie),Be===null?xe=en:Be.sibling=en,Be=en);return t&&Ae.forEach(function(Ka){return n(B,Ka)}),rt&&Pi(B,Ie),xe}function Oe(B,L,$,ie){if($==null)throw Error(s(151));for(var xe=null,Be=null,Ae=L,Ie=L=0,en=null,tt=$.next();Ae!==null&&!tt.done;Ie++,tt=$.next()){Ae.index>Ie?(en=Ae,Ae=null):en=Ae.sibling;var Ka=K(B,Ae,tt.value,ie);if(Ka===null){Ae===null&&(Ae=en);break}t&&Ae&&Ka.alternate===null&&n(B,Ae),L=d(Ka,L,Ie),Be===null?xe=Ka:Be.sibling=Ka,Be=Ka,Ae=en}if(tt.done)return i(B,Ae),rt&&Pi(B,Ie),xe;if(Ae===null){for(;!tt.done;Ie++,tt=$.next())tt=se(B,tt.value,ie),tt!==null&&(L=d(tt,L,Ie),Be===null?xe=tt:Be.sibling=tt,Be=tt);return rt&&Pi(B,Ie),xe}for(Ae=l(Ae);!tt.done;Ie++,tt=$.next())tt=X(Ae,B,Ie,tt.value,ie),tt!==null&&(t&&tt.alternate!==null&&Ae.delete(tt.key===null?Ie:tt.key),L=d(tt,L,Ie),Be===null?xe=tt:Be.sibling=tt,Be=tt);return t&&Ae.forEach(function(O1){return n(B,O1)}),rt&&Pi(B,Ie),xe}function mt(B,L,$,ie){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var xe=$.key;L!==null;){if(L.key===xe){if(xe=$.type,xe===k){if(L.tag===7){i(B,L.sibling),ie=f(L,$.props.children),ie.return=B,B=ie;break e}}else if(L.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&dg(xe)===L.type){i(B,L.sibling),ie=f(L,$.props),Yl(ie,$),ie.return=B,B=ie;break e}i(B,L);break}else n(B,L);L=L.sibling}$.type===k?(ie=Vi($.props.children,B.mode,ie,$.key),ie.return=B,B=ie):(ie=pu($.type,$.key,$.props,null,B.mode,ie),Yl(ie,$),ie.return=B,B=ie)}return b(B);case D:e:{for(xe=$.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){i(B,L.sibling),ie=f(L,$.children||[]),ie.return=B,B=ie;break e}else{i(B,L);break}else n(B,L);L=L.sibling}ie=Vf($,B.mode,ie),ie.return=B,B=ie}return b(B);case x:return xe=$._init,$=xe($._payload),mt(B,L,$,ie)}if(Qe($))return Ve(B,L,$,ie);if(z($)){if(xe=z($),typeof xe!="function")throw Error(s(150));return $=xe.call($),Oe(B,L,$,ie)}if(typeof $.then=="function")return mt(B,L,Du($),ie);if($.$$typeof===F)return mt(B,L,Eu(B,$),ie);Vu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,L!==null&&L.tag===6?(i(B,L.sibling),ie=f(L,$),ie.return=B,B=ie):(i(B,L),ie=Df($,B.mode,ie),ie.return=B,B=ie),b(B)):i(B,L)}return function(B,L,$,ie){try{Ql=0;var xe=mt(B,L,$,ie);return Is=null,xe}catch(Ae){if(Ae===Ul||Ae===bu)throw Ae;var Be=Mn(29,Ae,null,B.mode);return Be.lanes=ie,Be.return=B,Be}finally{}}}var Ds=mg(!0),pg=mg(!1),Kn=re(null),xr=null;function Ma(t){var n=t.alternate;le(Qt,Qt.current&1),le(Kn,t),xr===null&&(n===null||Ns.current!==null||n.memoizedState!==null)&&(xr=t)}function gg(t){if(t.tag===22){if(le(Qt,Qt.current),le(Kn,t),xr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(xr=t)}}else Pa()}function Pa(){le(Qt,Qt.current),le(Kn,Kn.current)}function ia(t){pe(Kn),xr===t&&(xr=null),pe(Qt)}var Qt=re(0);function Mu(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||td(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function hh(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:_({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var dh={enqueueSetState:function(t,n,i){t=t._reactInternals;var l=Un(),f=Ia(l);f.payload=n,i!=null&&(f.callback=i),n=Da(t,f,l),n!==null&&(zn(n,t,l),jl(n,t,l))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=Un(),f=Ia(l);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Da(t,f,l),n!==null&&(zn(n,t,l),jl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Un(),l=Ia(i);l.tag=2,n!=null&&(l.callback=n),n=Da(t,l,i),n!==null&&(zn(n,t,i),jl(n,t,i))}};function yg(t,n,i,l,f,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Ol(i,l)||!Ol(f,d):!0}function vg(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function qi(t,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(t=t.defaultProps){i===n&&(i=_({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){Pu(t)}function _g(t){console.error(t)}function bg(t){Pu(t)}function ku(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mh(t,n,i){return i=Ia(i),i.tag=3,i.payload={element:null},i.callback=function(){ku(t,n)},i}function Tg(t){return t=Ia(t),t.tag=3,t}function xg(t,n,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){wg(n,i,l)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){wg(n,i,l),typeof f!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ob(t,n,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Pl(n,i,f,!0),i=Kn.current,i!==null){switch(i.tag){case 13:return xr===null?Uh():i.alternate===null&&Ot===0&&(Ot=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===Ff?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),jh(t,l,f)),!1;case 22:return i.flags|=65536,l===Ff?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),jh(t,l,f)),!1}throw Error(s(435,i.tag))}return jh(t,l,f),Uh(),!1}if(rt)return n=Kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==kf&&(t=Error(s(422),{cause:l}),Ml(Gn(t,i)))):(l!==kf&&(n=Error(s(423),{cause:l}),Ml(Gn(n,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Gn(l,i),f=mh(t.stateNode,l,f),$f(t,f),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,i),to===null?to=[d]:to.push(d),Ot!==4&&(Ot=2),n===null)return!0;l=Gn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=mh(i.stateNode,l,t),$f(i,t),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ba===null||!Ba.has(d))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Tg(f),xg(f,t,i,l),$f(i,f),!1}i=i.return}while(i!==null);return!1}var Sg=Error(s(461)),Wt=!1;function on(t,n,i,l){n.child=t===null?pg(n,null,i,l):Ds(n,t.child,i,l)}function Ag(t,n,i,l,f){i=i.render;var d=n.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return zi(n),l=Zf(t,n,i,b,d,f),T=Wf(),t!==null&&!Wt?(Jf(t,n,f),sa(t,n,f)):(rt&&T&&Mf(n),n.flags|=1,on(t,n,l,f),n.child)}function Ng(t,n,i,l,f){if(t===null){var d=i.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,Rg(t,n,d,l,f)):(t=pu(i.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!wh(t,f)){var b=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ol,i(b,l)&&t.ref===n.ref)return sa(t,n,f)}return n.flags|=1,t=Jr(d,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,i,l,f){if(t!==null){var d=t.memoizedProps;if(Ol(d,l)&&t.ref===n.ref)if(Wt=!1,n.pendingProps=l=d,wh(t,f))(t.flags&131072)!==0&&(Wt=!0);else return n.lanes=t.lanes,sa(t,n,f)}return ph(t,n,i,l,f)}function Cg(t,n,i){var l=n.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Og(t,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(n,d!==null?d.cachePool:null),d!==null?Rp(n,d):Yf(),gg(n);else return n.lanes=n.childLanes=536870912,Og(t,n,d!==null?d.baseLanes|i:i,i)}else d!==null?(_u(n,d.cachePool),Rp(n,d),Pa(),n.memoizedState=null):(t!==null&&_u(n,null),Yf(),Pa());return on(t,n,f,i),n.child}function Og(t,n,i,l){var f=qf();return f=f===null?null:{parent:$t._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},t!==null&&_u(n,null),Yf(),gg(n),t!==null&&Pl(t,n,l,!0),null}function Lu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function ph(t,n,i,l,f){return zi(n),i=Zf(t,n,i,l,void 0,f),l=Wf(),t!==null&&!Wt?(Jf(t,n,f),sa(t,n,f)):(rt&&l&&Mf(n),n.flags|=1,on(t,n,i,f),n.child)}function Ig(t,n,i,l,f,d){return zi(n),n.updateQueue=null,i=Op(n,l,i,f),Cp(t),l=Wf(),t!==null&&!Wt?(Jf(t,n,d),sa(t,n,d)):(rt&&l&&Mf(n),n.flags|=1,on(t,n,i,d),n.child)}function Dg(t,n,i,l,f){if(zi(n),n.stateNode===null){var d=ws,b=i.contextType;typeof b=="object"&&b!==null&&(d=pn(b)),d=new i(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Hf(n),b=i.contextType,d.context=typeof b=="object"&&b!==null?pn(b):ws,d.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(hh(n,i,b,l),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&dh.enqueueReplaceState(d,d.state,null),ql(n,l,d,f),Bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,C=qi(i,T);d.props=C;var Q=d.context,ee=i.contextType;b=ws,typeof ee=="object"&&ee!==null&&(b=pn(ee));var se=i.getDerivedStateFromProps;ee=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||Q!==b)&&vg(n,d,l,b),Oa=!1;var K=n.memoizedState;d.state=K,ql(n,l,d,f),Bl(),Q=n.memoizedState,T||K!==Q||Oa?(typeof se=="function"&&(hh(n,i,se,l),Q=n.memoizedState),(C=Oa||yg(n,i,C,l,K,Q,b))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=b,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Gf(t,n),b=n.memoizedProps,ee=qi(i,b),d.props=ee,se=n.pendingProps,K=d.context,Q=i.contextType,C=ws,typeof Q=="object"&&Q!==null&&(C=pn(Q)),T=i.getDerivedStateFromProps,(Q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==se||K!==C)&&vg(n,d,l,C),Oa=!1,K=n.memoizedState,d.state=K,ql(n,l,d,f),Bl();var X=n.memoizedState;b!==se||K!==X||Oa||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof T=="function"&&(hh(n,i,T,l),X=n.memoizedState),(ee=Oa||yg(n,i,ee,l,K,X,C)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),d.props=l,d.state=X,d.context=C,l=ee):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Lu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ds(n,t.child,null,f),n.child=Ds(n,null,i,f)):on(t,n,i,f),n.memoizedState=d.state,t=n.child):t=sa(t,n,f),t}function Vg(t,n,i,l){return Vl(),n.flags|=256,on(t,n,i,l),n.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:_p()}}function vh(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Xn),t}function Mg(t,n,i){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(rt){if(f?Ma(n):Pa(),rt){var T=Ct,C;if(C=T){e:{for(C=T,T=Tr;C.nodeType!==8;){if(!T){T=null;break e}if(C=lr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:Mi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},C=Mn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,Tn=n,Ct=null,C=!0):C=!1}C||Li(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return td(T)?n.lanes=32:n.lanes=536870912,null;ia(n)}return T=l.children,l=l.fallback,f?(Pa(),f=n.mode,T=Uu({mode:"hidden",children:T},f),l=Vi(l,f,i,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=yh(i),f.childLanes=vh(t,b,i),n.memoizedState=gh,l):(Ma(n),Eh(n,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(Ma(n),n.flags&=-257,n=_h(t,n,i)):n.memoizedState!==null?(Pa(),n.child=t.child,n.flags|=128,n=null):(Pa(),f=l.fallback,T=n.mode,l=Uu({mode:"visible",children:l.children},T),f=Vi(f,T,i,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Ds(n,t.child,null,i),l=n.child,l.memoizedState=yh(i),l.childLanes=vh(t,b,i),n.memoizedState=gh,n=f);else if(Ma(n),td(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var Q=b.dgst;b=Q,l=Error(s(419)),l.stack="",l.digest=b,Ml({value:l,source:null,stack:null}),n=_h(t,n,i)}else if(Wt||Pl(t,n,i,!1),b=(i&t.childLanes)!==0,Wt||b){if(b=Et,b!==null&&(l=i&-i,l=(l&42)!==0?1:In(l),l=(l&(b.suspendedLanes|i))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,bs(t,l),zn(b,t,l),Sg;T.data==="$?"||Uh(),n=_h(t,n,i)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Ct=lr(T.nextSibling),Tn=n,rt=!0,ki=null,Tr=!1,t!==null&&(Qn[Yn++]=ea,Qn[Yn++]=ta,Qn[Yn++]=Mi,ea=t.id,ta=t.overflow,Mi=n),n=Eh(n,l.children),n.flags|=4096);return n}return f?(Pa(),f=l.fallback,T=n.mode,C=t.child,Q=C.sibling,l=Jr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,Q!==null?f=Jr(Q,f):(f=Vi(f,T,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=t.child.memoizedState,T===null?T=yh(i):(C=T.cachePool,C!==null?(Q=$t._currentValue,C=C.parent!==Q?{parent:Q,pool:Q}:C):C=_p(),T={baseLanes:T.baseLanes|i,cachePool:C}),f.memoizedState=T,f.childLanes=vh(t,b,i),n.memoizedState=gh,l):(Ma(n),i=t.child,t=i.sibling,i=Jr(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function Eh(t,n){return n=Uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uu(t,n){return t=Mn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _h(t,n,i){return Ds(n,t.child,null,i),t=Eh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uf(t.return,n,i)}function bh(t,n,i,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=f)}function kg(t,n,i){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(on(t,n,l.children,i),l=Qt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,i,n);else if(t.tag===19)Pg(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Qt,l),f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&Mu(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),bh(n,!1,f,i,d);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Mu(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}bh(n,!0,i,null,d);break;case"together":bh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function sa(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ja|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Pl(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=Jr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Jr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function wh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function Ib(t,n,i){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),Ca(n,$t,t.memoizedState.cache),Vl();break;case 27:case 5:rn(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:Ca(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Mg(t,n,i):(Ma(n),t=sa(t,n,i),t!==null?t.sibling:null);Ma(n);break;case 19:var f=(t.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Pl(t,n,i,!1),l=(i&n.childLanes)!==0),f){if(l)return kg(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Qt,Qt.current),l)break;return null;case 22:case 23:return n.lanes=0,Cg(t,n,i);case 24:Ca(n,$t,t.memoizedState.cache)}return sa(t,n,i)}function Lg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Wt=!0;else{if(!wh(t,i)&&(n.flags&128)===0)return Wt=!1,Ib(t,n,i);Wt=(t.flags&131072)!==0}else Wt=!1,rt&&(n.flags&1048576)!==0&&dp(n,yu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")If(l)?(t=qi(l,t),n.tag=1,n=Dg(null,n,l,t,i)):(n.tag=0,n=ph(null,n,l,t,i));else{if(l!=null){if(f=l.$$typeof,f===ue){n.tag=11,n=Ag(null,n,l,t,i);break e}else if(f===M){n.tag=14,n=Ng(null,n,l,t,i);break e}}throw n=$e(l)||l,Error(s(306,n,""))}}return n;case 0:return ph(t,n,n.type,n.pendingProps,i);case 1:return l=n.type,f=qi(l,n.pendingProps),Dg(t,n,l,f,i);case 3:e:{if(Ye(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,Gf(t,n),ql(n,l,null,i);var b=n.memoizedState;if(l=b.cache,Ca(n,$t,l),l!==d.cache&&zf(n,[$t],i,!0),Bl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Vg(t,n,l,i);break e}else if(l!==f){f=Gn(Error(s(424)),n),Ml(f),n=Vg(t,n,l,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ct=lr(t.firstChild),Tn=n,rt=!0,ki=null,Tr=!0,i=pg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Vl(),l===f){n=sa(t,n,i);break e}on(t,n,l,i)}n=n.child}return n;case 26:return Lu(t,n),t===null?(i=By(n.type,null,n.pendingProps,null))?n.memoizedState=i:rt||(i=n.type,t=n.pendingProps,l=Wu(Se.current).createElement(i),l[Ft]=n,l[kt]=t,cn(l,i,t),It(l),n.stateNode=l):n.memoizedState=By(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rn(n),t===null&&rt&&(l=n.stateNode=Uy(n.type,n.pendingProps,Se.current),Tn=n,Tr=!0,f=Ct,Ha(n.type)?(nd=f,Ct=lr(l.firstChild)):Ct=f),on(t,n,n.pendingProps.children,i),Lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rt&&((f=l=Ct)&&(l=i1(l,n.type,n.pendingProps,Tr),l!==null?(n.stateNode=l,Tn=n,Ct=lr(l.firstChild),Tr=!1,f=!0):f=!1),f||Li(n)),rn(n),f=n.type,d=n.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,Wh(f,d)?l=null:b!==null&&Wh(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Zf(t,n,Tb,null,null,i),co._currentValue=f),Lu(t,n),on(t,n,l,i),n.child;case 6:return t===null&&rt&&((t=i=Ct)&&(i=s1(i,n.pendingProps,Tr),i!==null?(n.stateNode=i,Tn=n,Ct=null,t=!0):t=!1),t||Li(n)),null;case 13:return Mg(t,n,i);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ds(n,null,l,i):on(t,n,l,i),n.child;case 11:return Ag(t,n,n.type,n.pendingProps,i);case 7:return on(t,n,n.pendingProps,i),n.child;case 8:return on(t,n,n.pendingProps.children,i),n.child;case 12:return on(t,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Ca(n,n.type,l.value),on(t,n,l.children,i),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,zi(n),f=pn(f),l=l(f),n.flags|=1,on(t,n,l,i),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,i);case 15:return Rg(t,n,n.type,n.pendingProps,i);case 19:return kg(t,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},t===null?(i=Uu(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Jr(t.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Cg(t,n,i);case 24:return zi(n),l=pn($t),t===null?(f=qf(),f===null&&(f=Et,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=i),f=d),n.memoizedState={parent:l,cache:f},Hf(n),Ca(n,$t,f)):((t.lanes&i)!==0&&(Gf(t,n),ql(n,null,null,i),Bl()),f=t.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ca(n,$t,l)):(l=d.cache,Ca(n,$t,l),l!==f.cache&&zf(n,[$t],i,!0))),on(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function la(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$y(n)){if(n=Kn.current,n!==null&&((Ze&4194048)===Ze?xr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||n!==xr))throw zl=Ff,bp;t.flags|=8192}}function zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nt():536870912,t.lanes|=n,ks|=n)}function Kl(t,n){if(!rt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function Db(t,n,i){var l=n.pendingProps;switch(Pf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return i=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ra($t),mn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Dl(n)?la(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gp())),xt(n),null;case 26:return i=n.memoizedState,t===null?(la(n),i!==null?(xt(n),Ug(n,i)):(xt(n),n.flags&=-16777217)):i?i!==t.memoizedState?(la(n),xt(n),Ug(n,i)):(xt(n),n.flags&=-16777217):(t.memoizedProps!==l&&la(n),xt(n),n.flags&=-16777217),null;case 27:pt(n),i=Se.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&la(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}t=_e.current,Dl(n)?mp(n):(t=Uy(f,l,i),n.stateNode=t,la(n))}return xt(n),null;case 5:if(pt(n),i=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&la(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}if(t=_e.current,Dl(n))mp(n);else{switch(f=Wu(Se.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}t[Ft]=n,t[kt]=l;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;e:switch(cn(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&la(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&la(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Se.current,Dl(n)){if(t=n.stateNode,i=n.memoizedProps,l=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ft]=n,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Iy(t.nodeValue,i)),t||Li(n)}else t=Wu(t).createTextNode(l),t[Ft]=n,n.stateNode=t}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Dl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ft]=n}else Vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),f=!1}else f=gp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ia(n),n):(ia(n),null)}if(ia(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return i!==t&&i&&(n.child.flags|=8192),zu(n,n.updateQueue),xt(n),null;case 4:return mn(),t===null&&Qh(n.stateNode.containerInfo),xt(n),null;case 10:return ra(n.type),xt(n),null;case 19:if(pe(Qt),f=n.memoizedState,f===null)return xt(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)Kl(f,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Mu(t),d!==null){for(n.flags|=128,Kl(f,!1),t=d.updateQueue,n.updateQueue=t,zu(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)hp(i,t),i=i.sibling;return le(Qt,Qt.current&1|2),n.child}t=t.sibling}f.tail!==null&&Sn()>qu&&(n.flags|=128,l=!0,Kl(f,!1),n.lanes=4194304)}else{if(!l)if(t=Mu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,zu(n,t),Kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!rt)return xt(n),null}else 2*Sn()-f.renderingStartTime>qu&&i!==536870912&&(n.flags|=128,l=!0,Kl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Sn(),n.sibling=null,t=Qt.current,le(Qt,l?t&1|2:t&1),n):(xt(n),null);case 22:case 23:return ia(n),Kf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),i=n.updateQueue,i!==null&&zu(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),t!==null&&pe(ji),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ra($t),xt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Vb(t,n){switch(Pf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ra($t),mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pt(n),null;case 13:if(ia(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Vl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return pe(Qt),null;case 4:return mn(),null;case 10:return ra(n.type),null;case 22:case 23:return ia(n),Kf(),t!==null&&pe(ji),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ra($t),null;case 25:return null;default:return null}}function zg(t,n){switch(Pf(n),n.tag){case 3:ra($t),mn();break;case 26:case 27:case 5:pt(n);break;case 4:mn();break;case 13:ia(n);break;case 19:pe(Qt);break;case 10:ra(n.type);break;case 22:case 23:ia(n),Kf(),t!==null&&pe(ji);break;case 24:ra($t)}}function Xl(t,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var d=i.create,b=i.inst;l=d(),b.destroy=l}i=i.next}while(i!==f)}}catch(T){yt(n,n.return,T)}}function ka(t,n,i){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=n;var C=i,Q=T;try{Q()}catch(ee){yt(f,C,ee)}}}l=l.next}while(l!==d)}}catch(ee){yt(n,n.return,ee)}}function jg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Np(n,i)}catch(l){yt(t,t.return,l)}}}function Bg(t,n,i){i.props=qi(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){yt(t,n,l)}}function Zl(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){yt(t,n,f)}}function Sr(t,n){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){yt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){yt(t,n,f)}else i.current=null}function qg(t){var n=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){yt(t,t.return,f)}}function Th(t,n,i){try{var l=t.stateNode;e1(l,t.type,i,n),l[kt]=n}catch(f){yt(t,t.return,f)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ha(t.type)||t.tag===4}function xh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ha(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Zu));else if(l!==4&&(l===27&&Ha(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Sh(t,n,i),t=t.sibling;t!==null;)Sh(t,n,i),t=t.sibling}function ju(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(l===27&&Ha(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ju(t,n,i),t=t.sibling;t!==null;)ju(t,n,i),t=t.sibling}function Hg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);cn(n,l,i),n[Ft]=t,n[kt]=i}catch(d){yt(t,t.return,d)}}var oa=!1,Vt=!1,Ah=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Mb(t,n){if(t=t.containerInfo,Xh=ac,t=np(t),xf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var b=0,T=-1,C=-1,Q=0,ee=0,se=t,K=null;t:for(;;){for(var X;se!==i||f!==0&&se.nodeType!==3||(T=b+f),se!==d||l!==0&&se.nodeType!==3||(C=b+l),se.nodeType===3&&(b+=se.nodeValue.length),(X=se.firstChild)!==null;)K=se,se=X;for(;;){if(se===t)break t;if(K===i&&++Q===f&&(T=b),K===d&&++ee===l&&(C=b),(X=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=X}i=T===-1||C===-1?null:{start:T,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zh={focusedElem:t,selectionRange:i},ac=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=n,f=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var Ve=qi(i.type,f,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){yt(i,i.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)ed(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function $g(t,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:La(t,i),l&4&&Xl(5,i);break;case 1:if(La(t,i),l&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){yt(i,i.return,b)}else{var f=qi(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){yt(i,i.return,b)}}l&64&&jg(i),l&512&&Zl(i,i.return);break;case 3:if(La(t,i),l&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Np(t,n)}catch(b){yt(i,i.return,b)}}break;case 27:n===null&&l&4&&Hg(i);case 26:case 5:La(t,i),n===null&&l&4&&qg(i),l&512&&Zl(i,i.return);break;case 12:La(t,i);break;case 13:La(t,i),l&4&&Kg(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Fb.bind(null,i),l1(t,i))));break;case 22:if(l=i.memoizedState!==null||oa,!l){n=n!==null&&n.memoizedState!==null||Vt,f=oa;var d=Vt;oa=l,(Vt=n)&&!d?Ua(t,i,(i.subtreeFlags&8772)!==0):La(t,i),oa=f,Vt=d}break;case 30:break;default:La(t,i)}}function Qg(t){var n=t.alternate;n!==null&&(t.alternate=null,Qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Sa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Nn=!1;function ua(t,n,i){for(i=i.child;i!==null;)Yg(t,n,i),i=i.sibling}function Yg(t,n,i){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(q,i)}catch{}switch(i.tag){case 26:Vt||Sr(i,n),ua(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Vt||Sr(i,n);var l=wt,f=Nn;Ha(i.type)&&(wt=i.stateNode,Nn=!1),ua(t,n,i),so(i.stateNode),wt=l,Nn=f;break;case 5:Vt||Sr(i,n);case 6:if(l=wt,f=Nn,wt=null,ua(t,n,i),wt=l,Nn=f,wt!==null)if(Nn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(i.stateNode)}catch(d){yt(i,n,d)}else try{wt.removeChild(i.stateNode)}catch(d){yt(i,n,d)}break;case 18:wt!==null&&(Nn?(t=wt,ky(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),po(t)):ky(wt,i.stateNode));break;case 4:l=wt,f=Nn,wt=i.stateNode.containerInfo,Nn=!0,ua(t,n,i),wt=l,Nn=f;break;case 0:case 11:case 14:case 15:Vt||ka(2,i,n),Vt||ka(4,i,n),ua(t,n,i);break;case 1:Vt||(Sr(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Bg(i,n,l)),ua(t,n,i);break;case 21:ua(t,n,i);break;case 22:Vt=(l=Vt)||i.memoizedState!==null,ua(t,n,i),Vt=l;break;default:ua(t,n,i)}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(i){yt(n,n.return,i)}}function Pb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(s(435,t.tag))}}function Nh(t,n){var i=Pb(t);n.forEach(function(l){var f=Hb.bind(null,t,l);i.has(l)||(i.add(l),l.then(f,f))})}function Pn(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],d=t,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ha(T.type)){wt=T.stateNode,Nn=!1;break e}break;case 5:wt=T.stateNode,Nn=!1;break e;case 3:case 4:wt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(wt===null)throw Error(s(160));Yg(d,b,f),wt=null,Nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xg(n,t),n=n.sibling}var sr=null;function Xg(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(n,t),kn(t),l&4&&(ka(3,t,t.return),Xl(3,t),ka(5,t,t.return));break;case 1:Pn(n,t),kn(t),l&512&&(Vt||i===null||Sr(i,i.return)),l&64&&oa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=sr;if(Pn(n,t),kn(t),l&512&&(Vt||i===null||Sr(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),cn(d,l,i),d[Ft]=t,It(d),l=d;break e;case"link":var b=Hy("link","href",f).get(l+(i.href||""));if(b){for(var T=0;T<b.length;T++)if(d=b[T],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(T,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;case"meta":if(b=Hy("meta","content",f).get(l+(i.content||""))){for(T=0;T<b.length;T++)if(d=b[T],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(T,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ft]=t,It(d),l=d}t.stateNode=l}else Gy(f,t.type,t.stateNode);else t.stateNode=Fy(f,l,t.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Gy(f,t.type,t.stateNode):Fy(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Th(t,t.memoizedProps,i.memoizedProps)}break;case 27:Pn(n,t),kn(t),l&512&&(Vt||i===null||Sr(i,i.return)),i!==null&&l&4&&Th(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Pn(n,t),kn(t),l&512&&(Vt||i===null||Sr(i,i.return)),t.flags&32){f=t.stateNode;try{Bn(f,"")}catch(X){yt(t,t.return,X)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Th(t,f,i!==null?i.memoizedProps:f)),l&1024&&(Ah=!0);break;case 6:if(Pn(n,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(X){yt(t,t.return,X)}}break;case 3:if(tc=null,f=sr,sr=Ju(n.containerInfo),Pn(n,t),sr=f,kn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{po(n.containerInfo)}catch(X){yt(t,t.return,X)}Ah&&(Ah=!1,Zg(t));break;case 4:l=sr,sr=Ju(t.stateNode.containerInfo),Pn(n,t),kn(t),sr=l;break;case 12:Pn(n,t),kn(t);break;case 13:Pn(n,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vh=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 22:f=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,Q=oa,ee=Vt;if(oa=Q||f,Vt=ee||C,Pn(n,t),Vt=ee,oa=Q,kn(t),l&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||C||oa||Vt||Fi(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){C=i=n;try{if(d=C.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=C.stateNode;var se=C.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){yt(C,C.return,X)}}}else if(n.tag===6){if(i===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(X){yt(C,C.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Nh(t,i))));break;case 19:Pn(n,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 30:break;case 21:break;default:Pn(n,t),kn(t)}}function kn(t){var n=t.flags;if(n&2){try{for(var i,l=t.return;l!==null;){if(Fg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,d=xh(t);ju(t,d,f);break;case 5:var b=i.stateNode;i.flags&32&&(Bn(b,""),i.flags&=-33);var T=xh(t);ju(t,T,b);break;case 3:case 4:var C=i.stateNode.containerInfo,Q=xh(t);Sh(t,Q,C);break;default:throw Error(s(161))}}catch(ee){yt(t,t.return,ee)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function La(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function Fi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ka(4,n,n.return),Fi(n);break;case 1:Sr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Bg(n,n.return,i),Fi(n);break;case 27:so(n.stateNode);case 26:case 5:Sr(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}t=t.sibling}}function Ua(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ua(f,d,i),Xl(4,d);break;case 1:if(Ua(f,d,i),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){yt(l,l.return,Q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Ap(C[f],T)}catch(Q){yt(l,l.return,Q)}}i&&b&64&&jg(d),Zl(d,d.return);break;case 27:Hg(d);case 26:case 5:Ua(f,d,i),i&&l===null&&b&4&&qg(d),Zl(d,d.return);break;case 12:Ua(f,d,i);break;case 13:Ua(f,d,i),i&&b&4&&Kg(f,d);break;case 22:d.memoizedState===null&&Ua(f,d,i),Zl(d,d.return);break;case 30:break;default:Ua(f,d,i)}n=n.sibling}}function Rh(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&kl(i))}function Ch(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&kl(t))}function Ar(t,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,i,l),n=n.sibling}function Wg(t,n,i,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ar(t,n,i,l),f&2048&&Xl(9,n);break;case 1:Ar(t,n,i,l);break;case 3:Ar(t,n,i,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&kl(t)));break;case 12:if(f&2048){Ar(t,n,i,l),t=n.stateNode;try{var d=n.memoizedProps,b=d.id,T=d.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){yt(n,n.return,C)}}else Ar(t,n,i,l);break;case 13:Ar(t,n,i,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ar(t,n,i,l):Wl(t,n):d._visibility&2?Ar(t,n,i,l):(d._visibility|=2,Vs(t,n,i,l,(n.subtreeFlags&10256)!==0)),f&2048&&Rh(b,n);break;case 24:Ar(t,n,i,l),f&2048&&Ch(n.alternate,n);break;default:Ar(t,n,i,l)}}function Vs(t,n,i,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,b=n,T=i,C=l,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Vs(d,b,T,C,f),Xl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Vs(d,b,T,C,f):Wl(d,b):(ee._visibility|=2,Vs(d,b,T,C,f)),f&&Q&2048&&Rh(b.alternate,b);break;case 24:Vs(d,b,T,C,f),f&&Q&2048&&Ch(b.alternate,b);break;default:Vs(d,b,T,C,f)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,l=n,f=l.flags;switch(l.tag){case 22:Wl(i,l),f&2048&&Rh(l.alternate,l);break;case 24:Wl(i,l),f&2048&&Ch(l.alternate,l);break;default:Wl(i,l)}n=n.sibling}}var Jl=8192;function Ms(t){if(t.subtreeFlags&Jl)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Ms(t),t.flags&Jl&&t.memoizedState!==null&&_1(sr,t.memoizedState,t.memoizedProps);break;case 5:Ms(t);break;case 3:case 4:var n=sr;sr=Ju(t.stateNode.containerInfo),Ms(t),sr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Jl,Jl=16777216,Ms(t),Jl=n):Ms(t));break;default:Ms(t)}}function ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Jt=l,ny(l,t)}ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&ka(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bu(t)):eo(t);break;default:eo(t)}}function Bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Jt=l,ny(l,t)}ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ka(8,n,n.return),Bu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Bu(n));break;default:Bu(n)}t=t.sibling}}function ny(t,n){for(;Jt!==null;){var i=Jt;switch(i.tag){case 0:case 11:case 15:ka(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Jt=l;else e:for(i=t;Jt!==null;){l=Jt;var f=l.sibling,d=l.return;if(Qg(l),l===i){Jt=null;break e}if(f!==null){f.return=d,Jt=f;break e}Jt=d}}}var kb={getCacheForType:function(t){var n=pn($t),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i}},Lb=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,qe=null,Ze=0,ct=0,Ln=null,za=!1,Ps=!1,Oh=!1,ca=0,Ot=0,ja=0,Hi=0,Ih=0,Xn=0,ks=0,to=null,Rn=null,Dh=!1,Vh=0,qu=1/0,Fu=null,Ba=null,un=0,qa=null,Ls=null,Us=0,Mh=0,Ph=null,ry=null,no=0,kh=null;function Un(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(Z.T!==null){var t=Ss;return t!==0?t:Fh()}return nr()}function ay(){Xn===0&&(Xn=(Ze&536870912)===0||rt?ot():536870912);var t=Kn.current;return t!==null&&(t.flags|=32),Xn}function zn(t,n,i){(t===Et&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(zs(t,0),Fa(t,Ze,Xn,!1)),at(t,i),((ut&2)===0||t!==Et)&&(t===Et&&((ut&2)===0&&(Hi|=i),Ot===4&&Fa(t,Ze,Xn,!1)),Nr(t))}function iy(t,n,i){if((ut&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&t.expiredLanes)===0||Me(t,n),f=l?jb(t,n):zh(t,n,!0),d=l;do{if(f===0){Ps&&!l&&Fa(t,n,0,!1);break}else{if(i=t.current.alternate,d&&!Ub(i)){f=zh(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=t;f=to;var C=T.current.memoizedState.isDehydrated;if(C&&(zs(T,b).flags|=256),b=zh(T,b,!1),b!==2){if(Oh&&!C){T.errorRecoveryDisabledLanes|=d,Hi|=d,f=4;break e}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){zs(t,0),Fa(t,n,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Fa(l,n,Xn,!za);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Vh+300-Sn(),10<f)){if(Fa(l,n,Xn,!za),Ee(l,0,!0)!==0)break e;l.timeoutHandle=My(sy.bind(null,l,i,Rn,Fu,Dh,n,Xn,Hi,ks,za,d,2,-0,0),f);break e}sy(l,i,Rn,Fu,Dh,n,Xn,Hi,ks,za,d,0,-0,0)}}break}while(!0);Nr(t)}function sy(t,n,i,l,f,d,b,T,C,Q,ee,se,K,X){if(t.timeoutHandle=-1,se=n.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(uo={stylesheets:null,count:0,unsuspend:E1},Jg(n),se=b1(),se!==null)){t.cancelPendingCommit=se(dy.bind(null,t,n,d,i,l,f,b,T,C,ee,1,K,X)),Fa(t,d,b,!Q);return}dy(t,n,d,i,l,f,b,T,C)}function Ub(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],d=f.getSnapshot;f=f.value;try{if(!Vn(d(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fa(t,n,i,l){n&=~Ih,n&=~Hi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var d=31-Re(f),b=1<<d;l[d]=-1,f&=~b}i!==0&&an(t,i,n)}function Hu(){return(ut&6)===0?(ro(0),!1):!0}function Lh(){if(qe!==null){if(ct===0)var t=qe.return;else t=qe,na=Ui=null,eh(t),Is=null,Ql=0,t=qe;for(;t!==null;)zg(t.alternate,t),t=t.return;qe=null}}function zs(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,n1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Lh(),Et=t,qe=i=Jr(t.current,null),Ze=n,ct=0,Ln=null,za=!1,Ps=Me(t,n),Oh=!1,ks=Xn=Ih=Hi=ja=Ot=0,Rn=to=null,Dh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-Re(l),d=1<<f;n|=t[f],l&=~d}return ca=n,hu(),i}function ly(t,n){je=null,Z.H=Iu,n===Ul||n===bu?(n=xp(),ct=3):n===bp?(n=xp(),ct=4):ct=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,qe===null&&(Ot=1,ku(t,Gn(n,t.current)))}function oy(){var t=Z.H;return Z.H=Iu,t===null?Iu:t}function uy(){var t=Z.A;return Z.A=kb,t}function Uh(){Ot=4,za||(Ze&4194048)!==Ze&&Kn.current!==null||(Ps=!0),(ja&134217727)===0&&(Hi&134217727)===0||Et===null||Fa(Et,Ze,Xn,!1)}function zh(t,n,i){var l=ut;ut|=2;var f=oy(),d=uy();(Et!==t||Ze!==n)&&(Fu=null,zs(t,n)),n=!1;var b=Ot;e:do try{if(ct!==0&&qe!==null){var T=qe,C=Ln;switch(ct){case 8:Lh(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(n=!0);var Q=ct;if(ct=0,Ln=null,js(t,T,C,Q),i&&Ps){b=0;break e}break;default:Q=ct,ct=0,Ln=null,js(t,T,C,Q)}}zb(),b=Ot;break}catch(ee){ly(t,ee)}while(!0);return n&&t.shellSuspendCounter++,na=Ui=null,ut=l,Z.H=f,Z.A=d,qe===null&&(Et=null,Ze=0,hu()),b}function zb(){for(;qe!==null;)cy(qe)}function jb(t,n){var i=ut;ut|=2;var l=oy(),f=uy();Et!==t||Ze!==n?(Fu=null,qu=Sn()+500,zs(t,n)):Ps=Me(t,n);e:do try{if(ct!==0&&qe!==null){n=qe;var d=Ln;t:switch(ct){case 1:ct=0,Ln=null,js(t,n,d,1);break;case 2:case 9:if(wp(d)){ct=0,Ln=null,fy(n);break}n=function(){ct!==2&&ct!==9||Et!==t||(ct=7),Nr(t)},d.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:wp(d)?(ct=0,Ln=null,fy(n)):(ct=0,Ln=null,js(t,n,d,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var T=qe;if(!b||$y(b)){ct=0,Ln=null;var C=T.sibling;if(C!==null)qe=C;else{var Q=T.return;Q!==null?(qe=Q,Gu(Q)):qe=null}break t}}ct=0,Ln=null,js(t,n,d,5);break;case 6:ct=0,Ln=null,js(t,n,d,6);break;case 8:Lh(),Ot=6;break e;default:throw Error(s(462))}}Bb();break}catch(ee){ly(t,ee)}while(!0);return na=Ui=null,Z.H=l,Z.A=f,ut=i,qe!==null?0:(Et=null,Ze=0,hu(),Ot)}function Bb(){for(;qe!==null&&!ba();)cy(qe)}function cy(t){var n=Lg(t.alternate,t,ca);t.memoizedProps=t.pendingProps,n===null?Gu(t):qe=n}function fy(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Ig(i,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=Ig(i,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:eh(n);default:zg(i,n),n=qe=hp(n,ca),n=Lg(i,n,ca)}t.memoizedProps=t.pendingProps,n===null?Gu(t):qe=n}function js(t,n,i,l){na=Ui=null,eh(n),Is=null,Ql=0;var f=n.return;try{if(Ob(t,f,n,i,Ze)){Ot=1,ku(t,Gn(i,t.current)),qe=null;return}}catch(d){if(f!==null)throw qe=f,d;Ot=1,ku(t,Gn(i,t.current)),qe=null;return}n.flags&32768?(rt||l===1?t=!0:Ps||(Ze&536870912)!==0?t=!1:(za=t=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hy(n,t)):Gu(n)}function Gu(t){var n=t;do{if((n.flags&32768)!==0){hy(n,za);return}t=n.return;var i=Db(n.alternate,n,ca);if(i!==null){qe=i;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);Ot===0&&(Ot=5)}function hy(t,n){do{var i=Vb(t.alternate,t);if(i!==null){i.flags&=32767,qe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=i}while(t!==null);Ot=6,qe=null}function dy(t,n,i,l,f,d,b,T,C){t.cancelPendingCommit=null;do $u();while(un!==0);if((ut&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Cf,Rt(t,i,d,b,T,C),t===Et&&(qe=Et=null,Ze=0),Ls=n,qa=t,Us=i,Mh=d,Ph=f,ry=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gb(tr,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=me.p,me.p=2,b=ut,ut|=4;try{Mb(t,n,i)}finally{ut=b,me.p=f,Z.T=l}}un=1,my(),py(),gy()}}function my(){if(un===1){un=0;var t=qa,n=Ls,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=Z.T,Z.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{Xg(n,t);var d=Zh,b=np(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(b!==T&&T&&T.ownerDocument&&tp(T.ownerDocument.documentElement,T)){if(C!==null&&xf(T)){var Q=C.start,ee=C.end;if(ee===void 0&&(ee=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(ee,T.value.length);else{var se=T.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var X=K.getSelection(),Ve=T.textContent.length,Oe=Math.min(C.start,Ve),mt=C.end===void 0?Oe:Math.min(C.end,Ve);!X.extend&&Oe>mt&&(b=mt,mt=Oe,Oe=b);var B=ep(T,Oe),L=ep(T,mt);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var $=se.createRange();$.setStart(B.node,B.offset),X.removeAllRanges(),Oe>mt?(X.addRange($),X.extend(L.node,L.offset)):($.setEnd(L.node,L.offset),X.addRange($))}}}}for(se=[],X=T;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ie=se[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ac=!!Xh,Zh=Xh=null}finally{ut=f,me.p=l,Z.T=i}}t.current=n,un=2}}function py(){if(un===2){un=0;var t=qa,n=Ls,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=Z.T,Z.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{$g(t,n.alternate,n)}finally{ut=f,me.p=l,Z.T=i}}un=3}}function gy(){if(un===4||un===3){un=0,mi();var t=qa,n=Ls,i=Us,l=ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?un=5:(un=0,Ls=qa=null,yy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ba=null),qr(i),n=n.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(q,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Z.T,f=me.p,me.p=2,Z.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];d(T.value,{componentStack:T.stack})}}finally{Z.T=n,me.p=f}}(Us&3)!==0&&$u(),Nr(t),f=t.pendingLanes,(i&4194090)!==0&&(f&42)!==0?t===kh?no++:(no=0,kh=t):no=0,ro(0)}}function yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,kl(n)))}function $u(t){return my(),py(),gy(),vy()}function vy(){if(un!==5)return!1;var t=qa,n=Mh;Mh=0;var i=qr(Us),l=Z.T,f=me.p;try{me.p=32>i?32:i,Z.T=null,i=Ph,Ph=null;var d=qa,b=Us;if(un=0,Ls=qa=null,Us=0,(ut&6)!==0)throw Error(s(331));var T=ut;if(ut|=4,ty(d.current),Wg(d,d.current,b,i),ut=T,ro(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(q,d)}catch{}return!0}finally{me.p=f,Z.T=l,yy(t,n)}}function Ey(t,n,i){n=Gn(i,n),n=mh(t.stateNode,n,2),t=Da(t,n,2),t!==null&&(at(t,2),Nr(t))}function yt(t,n,i){if(t.tag===3)Ey(t,t,i);else for(;n!==null;){if(n.tag===3){Ey(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){t=Gn(i,t),i=Tg(2),l=Da(n,i,2),l!==null&&(xg(i,l,n,t),at(l,2),Nr(l));break}}n=n.return}}function jh(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Lb;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(i)||(Oh=!0,f.add(i),t=qb.bind(null,t,n,i),n.then(t,t))}function qb(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Et===t&&(Ze&i)===i&&(Ot===4||Ot===3&&(Ze&62914560)===Ze&&300>Sn()-Vh?(ut&2)===0&&zs(t,0):Ih|=i,ks===Ze&&(ks=0)),Nr(t)}function _y(t,n){n===0&&(n=nt()),t=bs(t,n),t!==null&&(at(t,n),Nr(t))}function Fb(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),_y(t,i)}function Hb(t,n){var i=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),_y(t,i)}function Gb(t,n){return Nt(t,n)}var Qu=null,Bs=null,Bh=!1,Yu=!1,qh=!1,Gi=0;function Nr(t){t!==Bs&&t.next===null&&(Bs===null?Qu=Bs=t:Bs=Bs.next=t),Yu=!0,Bh||(Bh=!0,Qb())}function ro(t,n){if(!qh&&Yu){qh=!0;do for(var i=!1,l=Qu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Re(42|t)+1)-1,d&=f&~(b&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,xy(l,d))}else d=Ze,d=Ee(l,l===Et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Me(l,d)||(i=!0,xy(l,d));l=l.next}while(i);qh=!1}}function $b(){by()}function by(){Yu=Bh=!1;var t=0;Gi!==0&&(t1()&&(t=Gi),Gi=0);for(var n=Sn(),i=null,l=Qu;l!==null;){var f=l.next,d=wy(l,n);d===0?(l.next=null,i===null?Qu=f:i.next=f,f===null&&(Bs=i)):(i=l,(t!==0||(d&3)!==0)&&(Yu=!0)),l=f}ro(t)}function wy(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-Re(d),T=1<<b,C=f[b];C===-1?((T&i)===0||(T&l)!==0)&&(f[b]=lt(T,n)):C<=n&&(t.expiredLanes|=T),d&=~T}if(n=Et,i=Ze,i=Ee(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Me(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(l!==null&&jr(l),qr(i)){case 2:case 8:i=Br;break;case 32:i=tr;break;case 268435456:i=hr;break;default:i=tr}return l=Ty.bind(null,t),i=Nt(i,l),t.callbackPriority=n,t.callbackNode=i,n}return l!==null&&l!==null&&jr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ty(t,n){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if($u()&&t.callbackNode!==i)return null;var l=Ze;return l=Ee(t,t===Et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(iy(t,l,n),wy(t,Sn()),t.callbackNode!=null&&t.callbackNode===i?Ty.bind(null,t):null)}function xy(t,n){if($u())return null;iy(t,n,!0)}function Qb(){r1(function(){(ut&6)!==0?Nt(pi,$b):by()})}function Fh(){return Gi===0&&(Gi=ot()),Gi}function Sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:us(""+t)}function Ay(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function Yb(t,n,i,l,f){if(n==="submit"&&i&&i.stateNode===f){var d=Sy((f[kt]||null).action),b=l.submitter;b&&(n=(n=b[kt]||null)?Sy(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var T=new cs("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gi!==0){var C=b?Ay(f,b):new FormData(f);uh(i,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=b?Ay(f,b):new FormData(f),uh(i,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Hh=0;Hh<Rf.length;Hh++){var Gh=Rf[Hh],Kb=Gh.toLowerCase(),Xb=Gh[0].toUpperCase()+Gh.slice(1);ir(Kb,"on"+Xb)}ir(ip,"onAnimationEnd"),ir(sp,"onAnimationIteration"),ir(lp,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(db,"onTransitionRun"),ir(mb,"onTransitionStart"),ir(pb,"onTransitionCancel"),ir(op,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function Ny(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var T=l[b],C=T.instance,Q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=Q;try{d(f)}catch(ee){Pu(ee)}f.currentTarget=null,d=C}else for(b=0;b<l.length;b++){if(T=l[b],C=T.instance,Q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=Q;try{d(f)}catch(ee){Pu(ee)}f.currentTarget=null,d=C}}}}function Fe(t,n){var i=n[pl];i===void 0&&(i=n[pl]=new Set);var l=t+"__bubble";i.has(l)||(Ry(n,t,2,!1),i.add(l))}function $h(t,n,i){var l=0;n&&(l|=4),Ry(i,t,l,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[Ku]){t[Ku]=!0,gl.forEach(function(i){i!=="selectionchange"&&(Zb.has(i)||$h(i,!1,t),$h(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,$h("selectionchange",!1,n))}}function Ry(t,n,i,l){switch(Wy(n)){case 2:var f=x1;break;case 8:f=S1;break;default:f=ld}i=f.bind(null,n,i,t),f=void 0,!Fn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function Yh(t,n,i,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=l.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Fr(T),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){l=d=b;continue e}T=T.parentNode}}l=l.return}Zo(function(){var Q=d,ee=qn(i),se=[];e:{var K=up.get(t);if(K!==void 0){var X=cs,Ve=t;switch(t){case"keypress":if(vr(i)===0)break e;case"keydown":case"keyup":X=gs;break;case"focusin":Ve="focus",X=ds;break;case"focusout":Ve="blur",X=ds;break;case"beforeblur":case"afterblur":X=ds;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=iu;break;case ip:case sp:case lp:X=ms;break;case op:X=lu;break;case"scroll":case"scrollend":X=Wo;break;case"wheel":X=ys;break;case"copy":case"cut":case"paste":X=ps;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Rl;break;case"toggle":case"beforetoggle":X=uu}var Oe=(n&4)!==0,mt=!Oe&&(t==="scroll"||t==="scrollend"),B=Oe?K!==null?K+"Capture":null:K;Oe=[];for(var L=Q,$;L!==null;){var ie=L;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||B===null||(ie=xi(L,B),ie!=null&&Oe.push(io(L,ie,$))),mt)break;L=L.return}0<Oe.length&&(K=new X(K,Ve,null,i,ee),se.push({event:K,listeners:Oe}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&i!==Qr&&(Ve=i.relatedTarget||i.fromElement)&&(Fr(Ve)||Ve[jn]))break e;if((X||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Ve=i.relatedTarget||i.toElement,X=Q,Ve=Ve?Fr(Ve):null,Ve!==null&&(mt=u(Ve),Oe=Ve.tag,Ve!==mt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ve=null)):(X=null,Ve=Q),X!==Ve)){if(Oe=Hn,ie="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=Rl,ie="onPointerLeave",B="onPointerEnter",L="pointer"),mt=X==null?K:mr(X),$=Ve==null?K:mr(Ve),K=new Oe(ie,L+"leave",X,i,ee),K.target=mt,K.relatedTarget=$,ie=null,Fr(ee)===Q&&(Oe=new Oe(B,L+"enter",Ve,i,ee),Oe.target=$,Oe.relatedTarget=mt,ie=Oe),mt=ie,X&&Ve)t:{for(Oe=X,B=Ve,L=0,$=Oe;$;$=qs($))L++;for($=0,ie=B;ie;ie=qs(ie))$++;for(;0<L-$;)Oe=qs(Oe),L--;for(;0<$-L;)B=qs(B),$--;for(;L--;){if(Oe===B||B!==null&&Oe===B.alternate)break t;Oe=qs(Oe),B=qs(B)}Oe=null}else Oe=null;X!==null&&Cy(se,K,X,Oe,!1),Ve!==null&&mt!==null&&Cy(se,mt,Ve,Oe,!0)}}e:{if(K=Q?mr(Q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var xe=Ym;else if(Gt(K))if(Km)xe=cb;else{xe=ob;var Be=lb}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&bl(Q.elementType)&&(xe=Ym):xe=ub;if(xe&&(xe=xe(t,Q))){Wr(se,xe,i,ee);break e}Be&&Be(t,K,Q),t==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&Na(K,"number",K.value)}switch(Be=Q?mr(Q):window,t){case"focusin":(Gt(Be)||Be.contentEditable==="true")&&(vs=Be,Sf=Q,Il=null);break;case"focusout":Il=Sf=vs=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,rp(se,i,ee);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":rp(se,i,ee)}var Ae;if(br)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ke?W(t,i)&&(Ie="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ie="onCompositionStart");Ie&&(E&&i.locale!=="ko"&&(Ke||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ke&&(Ae=Tl()):(yr=ee,Ra="value"in yr?yr.value:yr.textContent,Ke=!0)),Be=Xu(Q,Ie),0<Be.length&&(Ie=new Al(Ie,t,null,i,ee),se.push({event:Ie,listeners:Be}),Ae?Ie.data=Ae:(Ae=ge(i),Ae!==null&&(Ie.data=Ae)))),(Ae=y?Ht(t,i):Xe(t,i))&&(Ie=Xu(Q,"onBeforeInput"),0<Ie.length&&(Be=new Al("onBeforeInput","beforeinput",null,i,ee),se.push({event:Be,listeners:Ie}),Be.data=Ae)),Yb(se,t,Q,i,ee)}Ny(se,n)})}function io(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Xu(t,n){for(var i=n+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xi(t,i),f!=null&&l.unshift(io(t,f,d)),f=xi(t,n),f!=null&&l.push(io(t,f,d))),t.tag===3)return l;t=t.return}return[]}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,n,i,l,f){for(var d=n._reactName,b=[];i!==null&&i!==l;){var T=i,C=T.alternate,Q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||Q===null||(C=Q,f?(Q=xi(i,d),Q!=null&&b.unshift(io(i,Q,C))):f||(Q=xi(i,d),Q!=null&&b.push(io(i,Q,C)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var Wb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(Jb,"")}function Iy(t,n){return n=Oy(n),Oy(t)===n}function Zu(){}function dt(t,n,i,l,f,d){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Bn(t,""+l);break;case"className":pr(t,"class",l);break;case"tabIndex":pr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(t,i,l);break;case"style":_l(t,l,d);break;case"data":if(n!=="object"){pr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=us(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&dt(t,n,"name",f.name,f,null),dt(t,n,"formEncType",f.formEncType,f,null),dt(t,n,"formMethod",f.formMethod,f,null),dt(t,n,"formTarget",f.formTarget,f,null)):(dt(t,n,"encType",f.encType,f,null),dt(t,n,"method",f.method,f,null),dt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=us(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Zu);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Aa(t,"popover",l);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=vf.get(i)||i,Aa(t,i,l))}}function Kh(t,n,i,l,f,d){switch(i){case"style":_l(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),d=t[kt]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Aa(t,i,l)}}}function cn(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,f=!1,d;for(d in i)if(i.hasOwnProperty(d)){var b=i[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,d,b,i,null)}}f&&dt(t,n,"srcSet",i.srcSet,i,null),l&&dt(t,n,"src",i.src,i,null);return;case"input":Fe("invalid",t);var T=d=b=f=null,C=null,Q=null;for(l in i)if(i.hasOwnProperty(l)){var ee=i[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":b=ee;break;case"checked":C=ee;break;case"defaultChecked":Q=ee;break;case"value":d=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:dt(t,n,l,ee,i,null)}}bi(t,d,T,C,Q,b,f,!1),os(t);return;case"select":Fe("invalid",t),l=b=d=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:dt(t,n,f,T,i,null)}n=d,i=b,t.multiple=!!l,n!=null?$r(t,!!l,n,!1):i!=null&&$r(t,!!l,i,!0);return;case"textarea":Fe("invalid",t),d=f=l=null;for(b in i)if(i.hasOwnProperty(b)&&(T=i[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:dt(t,n,b,T,i,null)}wi(t,l,f,d),os(t);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,n,C,l,i,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)Fe(ao[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in i)if(i.hasOwnProperty(Q)&&(l=i[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,Q,l,i,null)}return;default:if(bl(n)){for(ee in i)i.hasOwnProperty(ee)&&(l=i[ee],l!==void 0&&Kh(t,n,ee,l,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null&&dt(t,n,T,l,i,null))}function e1(t,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,T=null,C=null,Q=null,ee=null;for(X in i){var se=i[X];if(i.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=se;default:l.hasOwnProperty(X)||dt(t,n,X,null,l,se)}}for(var K in l){var X=l[K];if(se=i[K],l.hasOwnProperty(K)&&(X!=null||se!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":Q=X;break;case"defaultChecked":ee=X;break;case"value":b=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:X!==se&&dt(t,n,K,X,l,se)}}Dn(t,b,T,C,Q,ee,d,f);return;case"select":X=b=T=K=null;for(d in i)if(C=i[d],i.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||dt(t,n,d,null,l,C)}for(f in l)if(d=l[f],C=i[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":b=d;default:d!==C&&dt(t,n,f,d,l,C)}n=T,i=b,l=X,K!=null?$r(t,!!i,K,!1):!!l!=!!i&&(n!=null?$r(t,!!i,n,!0):$r(t,!!i,i?[]:"",!1));return;case"textarea":X=K=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(t,n,T,null,l,f)}for(b in l)if(f=l[b],d=i[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&dt(t,n,b,f,l,d)}ft(t,K,X);return;case"option":for(var Ve in i)if(K=i[Ve],i.hasOwnProperty(Ve)&&K!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:dt(t,n,Ve,null,l,K)}for(C in l)if(K=l[C],X=i[C],l.hasOwnProperty(C)&&K!==X&&(K!=null||X!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:dt(t,n,C,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in i)K=i[Oe],i.hasOwnProperty(Oe)&&K!=null&&!l.hasOwnProperty(Oe)&&dt(t,n,Oe,null,l,K);for(Q in l)if(K=l[Q],X=i[Q],l.hasOwnProperty(Q)&&K!==X&&(K!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:dt(t,n,Q,K,l,X)}return;default:if(bl(n)){for(var mt in i)K=i[mt],i.hasOwnProperty(mt)&&K!==void 0&&!l.hasOwnProperty(mt)&&Kh(t,n,mt,void 0,l,K);for(ee in l)K=l[ee],X=i[ee],!l.hasOwnProperty(ee)||K===X||K===void 0&&X===void 0||Kh(t,n,ee,K,l,X);return}}for(var B in i)K=i[B],i.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&dt(t,n,B,null,l,K);for(se in l)K=l[se],X=i[se],!l.hasOwnProperty(se)||K===X||K==null&&X==null||dt(t,n,se,K,l,X)}var Xh=null,Zh=null;function Wu(t){return t.nodeType===9?t:t.ownerDocument}function Dy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===Jh?!1:(Jh=t,!0):(Jh=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(a1)}:My;function a1(t){setTimeout(function(){throw t})}function Ha(t){return t==="head"}function ky(t,n){var i=n,l=0,f=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var b=t.ownerDocument;if(i&1&&so(b.documentElement),i&2&&so(b.body),i&4)for(i=b.head,so(i),b=i.firstChild;b;){var T=b.nextSibling,C=b.nodeName;b[yi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=T}}if(f===0){t.removeChild(d),po(n);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);po(n)}function ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ed(i),Sa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function i1(t,n,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=lr(t.nextSibling),t===null)break}return null}function s1(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=lr(t.nextSibling),t===null))return null;return t}function td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function l1(t,n){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function lr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nd=null;function Ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}function Uy(t,n,i){switch(n=Wu(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function so(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Sa(t)}var Zn=new Map,zy=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=me.d;me.d={f:o1,r:u1,D:c1,C:f1,L:h1,m:d1,X:p1,S:m1,M:g1};function o1(){var t=fa.f(),n=Hu();return t||n}function u1(t){var n=dr(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):fa.r(t)}var Fs=typeof document>"u"?null:document;function jy(t,n,i){var l=Fs;if(l&&typeof n=="string"&&n){var f=Lt(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),zy.has(f)||(zy.add(f),t={rel:t,crossOrigin:i,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),cn(n,"link",t),It(n),l.head.appendChild(n)))}}function c1(t){fa.D(t),jy("dns-prefetch",t,null)}function f1(t,n){fa.C(t,n),jy("preconnect",t,n)}function h1(t,n,i){fa.L(t,n,i);var l=Fs;if(l&&t&&n){var f='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Lt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Lt(i.imageSizes)+'"]')):f+='[href="'+Lt(t)+'"]';var d=f;switch(n){case"style":d=Hs(t);break;case"script":d=Gs(t)}Zn.has(d)||(t=_({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),Zn.set(d,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(lo(d))||n==="script"&&l.querySelector(oo(d))||(n=l.createElement("link"),cn(n,"link",t),It(n),l.head.appendChild(n)))}}function d1(t,n){fa.m(t,n);var i=Fs;if(i&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(t)}if(!Zn.has(d)&&(t=_({rel:"modulepreload",href:t},n),Zn.set(d,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(oo(d)))return}l=i.createElement("link"),cn(l,"link",t),It(l),i.head.appendChild(l)}}}function m1(t,n,i){fa.S(t,n,i);var l=Fs;if(l&&t){var f=_n(l).hoistableStyles,d=Hs(t);n=n||"default";var b=f.get(d);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(lo(d)))T.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},i),(i=Zn.get(d))&&rd(t,i);var C=b=l.createElement("link");It(C),cn(C,"link",t),C._p=new Promise(function(Q,ee){C.onload=Q,C.onerror=ee}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ec(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(d,b)}}}function p1(t,n){fa.X(t,n);var i=Fs;if(i&&t){var l=_n(i).hoistableScripts,f=Gs(t),d=l.get(f);d||(d=i.querySelector(oo(f)),d||(t=_({src:t,async:!0},n),(n=Zn.get(f))&&ad(t,n),d=i.createElement("script"),It(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g1(t,n){fa.M(t,n);var i=Fs;if(i&&t){var l=_n(i).hoistableScripts,f=Gs(t),d=l.get(f);d||(d=i.querySelector(oo(f)),d||(t=_({src:t,async:!0,type:"module"},n),(n=Zn.get(f))&&ad(t,n),d=i.createElement("script"),It(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function By(t,n,i,l){var f=(f=Se.current)?Ju(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Hs(i.href),i=_n(f).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Hs(i.href);var d=_n(f).hoistableStyles,b=d.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=f.querySelector(lo(t)))&&!d._p&&(b.instance=d,b.state.loading=5),Zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zn.set(t,i),d||y1(f,t,i,b.state))),n&&l===null)throw Error(s(528,""));return b}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gs(i),i=_n(f).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Hs(t){return'href="'+Lt(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function qy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,n,i,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",i),It(n),t.head.appendChild(n))}function Gs(t){return'[src="'+Lt(t)+'"]'}function oo(t){return"script[async]"+t}function Fy(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(i.href)+'"]');if(l)return n.instance=l,It(l),l;var f=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),cn(l,"style",f),ec(l,i.precedence,t),n.instance=l;case"stylesheet":f=Hs(i.href);var d=t.querySelector(lo(f));if(d)return n.state.loading|=4,n.instance=d,It(d),d;l=qy(i),(f=Zn.get(f))&&rd(l,f),d=(t.ownerDocument||t).createElement("link"),It(d);var b=d;return b._p=new Promise(function(T,C){b.onload=T,b.onerror=C}),cn(d,"link",l),n.state.loading|=4,ec(d,i.precedence,t),n.instance=d;case"script":return d=Gs(i.src),(f=t.querySelector(oo(d)))?(n.instance=f,It(f),f):(l=i,(f=Zn.get(d))&&(l=_({},i),ad(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),It(f),cn(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ec(l,i.precedence,t));return n.instance}function ec(t,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function Hy(t,n,i){if(tc===null){var l=new Map,f=tc=new Map;f.set(i,l)}else f=tc,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var d=i[f];if(!(d[yi]||d[Ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=t+b;var T=l.get(b);T?T.push(d):l.set(b,[d])}}return l}function Gy(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function v1(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var uo=null;function E1(){}function _1(t,n,i){if(uo===null)throw Error(s(475));var l=uo;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Hs(i.href),d=t.querySelector(lo(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,It(d);return}d=t.ownerDocument||t,i=qy(i),(f=Zn.get(f))&&rd(i,f),d=d.createElement("link"),It(d);var b=d;b._p=new Promise(function(T,C){b.onload=T,b.onerror=C}),cn(d,"link",i),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=nc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function b1(){if(uo===null)throw Error(s(475));var t=uo;return t.stylesheets&&t.count===0&&id(t,t.stylesheets),0<t.count?function(n){var i=setTimeout(function(){if(t.stylesheets&&id(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function id(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,n.forEach(w1,t),rc=null,nc.call(t))}function w1(t,n){if(!(n.state.loading&4)){var i=rc.get(t);if(i)var l=i.get(null);else{i=new Map,rc.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),l=b)}l&&i.set(null,l)}f=n.instance,b=f.getAttribute("data-precedence"),d=i.get(b)||l,d===l&&i.set(null,f),i.set(b,f),this.count++,l=nc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var co={$$typeof:F,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function T1(t,n,i,l,f,d,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Qy(t,n,i,l,f,d,b,T,C,Q,ee,se){return t=new T1(t,n,i,b,T,C,Q,se),n=1,d===!0&&(n|=24),d=Mn(3,null,null,n),t.current=d,d.stateNode=t,n=jf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:n},Hf(d),t}function Yy(t){return t?(t=ws,t):ws}function Ky(t,n,i,l,f,d){f=Yy(f),l.context===null?l.context=f:l.pendingContext=f,l=Ia(n),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Da(t,l,n),i!==null&&(zn(i,t,n),jl(i,t,n))}function Xy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function sd(t,n){Xy(t,n),(t=t.alternate)&&Xy(t,n)}function Zy(t){if(t.tag===13){var n=bs(t,67108864);n!==null&&zn(n,t,67108864),sd(t,67108864)}}var ac=!0;function x1(t,n,i,l){var f=Z.T;Z.T=null;var d=me.p;try{me.p=2,ld(t,n,i,l)}finally{me.p=d,Z.T=f}}function S1(t,n,i,l){var f=Z.T;Z.T=null;var d=me.p;try{me.p=8,ld(t,n,i,l)}finally{me.p=d,Z.T=f}}function ld(t,n,i,l){if(ac){var f=od(l);if(f===null)Yh(t,n,l,ic,i),Jy(t,l);else if(N1(f,t,n,i,l))l.stopPropagation();else if(Jy(t,l),n&4&&-1<A1.indexOf(t)){for(;f!==null;){var d=dr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ve(d.pendingLanes);if(b!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var C=1<<31-Re(b);T.entanglements[1]|=C,b&=~C}Nr(d),(ut&6)===0&&(qu=Sn()+500,ro(0))}}break;case 13:T=bs(d,2),T!==null&&zn(T,d,2),Hu(),sd(d,2)}if(d=od(l),d===null&&Yh(t,n,l,ic,i),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yh(t,n,l,null,i)}}function od(t){return t=qn(t),ud(t)}var ic=null;function ud(t){if(ic=null,t=Fr(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=h(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ic=t,null}function Wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case pi:return 2;case Br:return 8;case tr:case Ta:return 32;case hr:return 268435456;default:return 32}default:return 32}}var cd=!1,Ga=null,$a=null,Qa=null,fo=new Map,ho=new Map,Ya=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function mo(t,n,i,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=dr(n),n!==null&&Zy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function N1(t,n,i,l,f){switch(n){case"focusin":return Ga=mo(Ga,t,n,i,l,f),!0;case"dragenter":return $a=mo($a,t,n,i,l,f),!0;case"mouseover":return Qa=mo(Qa,t,n,i,l,f),!0;case"pointerover":var d=f.pointerId;return fo.set(d,mo(fo.get(d)||null,t,n,i,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ho.set(d,mo(ho.get(d)||null,t,n,i,l,f)),!0}return!1}function e0(t){var n=Fr(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){t.blockedOn=n,Ho(t.priority,function(){if(i.tag===13){var l=Un();l=In(l);var f=bs(i,l);f!==null&&zn(f,i,l),sd(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=od(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Qr=l,i.target.dispatchEvent(l),Qr=null}else return n=dr(i),n!==null&&Zy(n),t.blockedOn=i,!1;n.shift()}return!0}function t0(t,n,i){sc(t)&&i.delete(n)}function R1(){cd=!1,Ga!==null&&sc(Ga)&&(Ga=null),$a!==null&&sc($a)&&($a=null),Qa!==null&&sc(Qa)&&(Qa=null),fo.forEach(t0),ho.forEach(t0)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,cd||(cd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,R1)))}var oc=null;function n0(t){oc!==t&&(oc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var i=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(ud(l||i)===null)continue;break}var d=dr(i);d!==null&&(t.splice(n,3),n-=3,uh(d,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function po(t){function n(C){return lc(C,t)}Ga!==null&&lc(Ga,t),$a!==null&&lc($a,t),Qa!==null&&lc(Qa,t),fo.forEach(n),ho.forEach(n);for(var i=0;i<Ya.length;i++){var l=Ya[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ya.length&&(i=Ya[0],i.blockedOn===null);)e0(i),i.blockedOn===null&&Ya.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],d=i[l+1],b=f[kt]||null;if(typeof d=="function")b||n0(i);else if(b){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[kt]||null)T=b.formAction;else if(ud(f)!==null)continue}else T=b.action;typeof T=="function"?i[l+1]=T:(i.splice(l,3),l-=3),n0(i)}}}function fd(t){this._internalRoot=t}uc.prototype.render=fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Un();Ky(i,l,t,n,null,null)},uc.prototype.unmount=fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ky(t.current,2,null,t,null,null),Hu(),n[jn]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nr();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Ya.length&&n!==0&&n<Ya[i].priority;i++);Ya.splice(i,0,t),i===0&&e0(t)}};var r0=e.version;if(r0!=="19.1.1")throw Error(s(527,r0,"19.1.1"));me.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var C1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{q=cc.inject(C1),te=cc}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(s(299));var i=!1,l="",f=Eg,d=_g,b=bg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Qy(t,1,!1,null,null,i,l,f,d,b,T,null),t[jn]=n.current,Qh(t),new fd(n)},go.hydrateRoot=function(t,n,i){if(!o(t))throw Error(s(299));var l=!1,f="",d=Eg,b=_g,T=bg,C=null,Q=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks),i.formState!==void 0&&(Q=i.formState)),n=Qy(t,1,!0,n,i??null,l,f,d,b,T,C,Q),n.context=Yy(null),i=n.current,l=Un(),l=In(l),f=Ia(l),f.callback=null,Da(i,f,l),i=l,n.current.lanes=i,at(n,i),Nr(n),t[jn]=n.current,Qh(t),new uc(n)},go.version="19.1.1",go}var f0;function U1(){if(f0)return dd.exports;f0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),dd.exports=L1(),dd.exports}var z1=U1();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h0="popstate";function j1(a={}){function e(o,u){let{pathname:h="/",search:p="",hash:g=""}=Zi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Dd("",{pathname:h,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,v=g.indexOf("#");p=v===-1?g:g.slice(0,v)}return p+"#"+(typeof u=="string"?u:Ao(u))}function s(o,u){cr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return q1(e,r,s,a)}function St(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function cr(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B1(){return Math.random().toString(36).substring(2,10)}function d0(a,e){return{usr:a.state,key:a.key,idx:e}}function Dd(a,e,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Zi(e):e,state:r,key:e&&e.key||s||B1()}}function Ao({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Zi(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function q1(a,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",g=null,v=_();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function _(){return(h.state||{idx:null}).idx}function w(){p="POP";let V=_(),H=V==null?null:V-v;v=V,g&&g({action:p,location:j.location,delta:H})}function A(V,H){p="PUSH";let Y=Dd(j.location,V,H);r&&r(Y,V),v=_()+1;let F=d0(Y,v),ue=j.createHref(Y);try{h.pushState(F,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&g&&g({action:p,location:j.location,delta:1})}function D(V,H){p="REPLACE";let Y=Dd(j.location,V,H);r&&r(Y,V),v=_();let F=d0(Y,v),ue=j.createHref(Y);h.replaceState(F,"",ue),u&&g&&g({action:p,location:j.location,delta:0})}function k(V){return F1(V)}let j={get action(){return p},get location(){return a(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(h0,w),g=V,()=>{o.removeEventListener(h0,w),g=null}},createHref(V){return e(o,V)},createURL:k,encodeLocation(V){let H=k(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:D,go(V){return h.go(V)}};return j}function F1(a,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),St(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Ao(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Uv(a,e,r="/"){return H1(a,e,r,!1)}function H1(a,e,r,s){let o=typeof e=="string"?Zi(e):e,u=ga(o.pathname||"/",r);if(u==null)return null;let h=zv(a);G1(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=nw(u);p=ew(h[g],v,s)}return p}function zv(a,e=[],r=[],s="",o=!1){let u=(h,p,g=o,v)=>{let _={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;St(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let w=da([s,_.relativePath]),A=r.concat(_);h.children&&h.children.length>0&&(St(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),zv(h.children,e,A,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:W1(w,h.index),routesMeta:A})};return a.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of jv(h.path))u(h,p,!0,g)}),e}function jv(a){let e=a.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=jv(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function G1(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:J1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var $1=/^:[\w-]+$/,Q1=3,Y1=2,K1=1,X1=10,Z1=-2,m0=a=>a==="*";function W1(a,e){let r=a.split("/"),s=r.length;return r.some(m0)&&(s+=Z1),e&&(s+=Y1),r.filter(o=>!m0(o)).reduce((o,u)=>o+($1.test(u)?Q1:u===""?K1:X1),s)}function J1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function ew(a,e,r=!1){let{routesMeta:s}=a,o={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],v=p===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},_),A=g.route;if(!w&&v&&r&&!s[s.length-1].route.index&&(w=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:da([u,w.pathname]),pathnameBase:sw(da([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=da([u,w.pathnameBase]))}return h}function Ac(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=tw(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:_,isOptional:w},A)=>{if(_==="*"){let k=p[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=p[A];return w&&!D?v[_]=void 0:v[_]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:a}}function tw(a,e=!1,r=!0){cr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ga(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function rw(a,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?Zi(a):a;return{pathname:r?r.startsWith("/")?r:aw(r,e):e,search:lw(s),hash:ow(o)}}function aw(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function yd(a,e,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iw(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Bv(a){let e=iw(a);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function qv(a,e,r,s=!1){let o;typeof a=="string"?o=Zi(a):(o={...a},St(!o.pathname||!o.pathname.includes("?"),yd("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),yd("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),yd("#","search","hash",o)));let u=a===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=r;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}p=w>=0?e[w]:"/"}let g=rw(o,p),v=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(v||_)&&(g.pathname+="/"),g}var da=a=>a.join("/").replace(/\/\/+/g,"/"),sw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,ow=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function uw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Fv=["POST","PUT","PATCH","DELETE"];new Set(Fv);var cw=["GET",...Fv];new Set(cw);var ol=U.createContext(null);ol.displayName="DataRouter";var Qc=U.createContext(null);Qc.displayName="DataRouterState";U.createContext(!1);var Hv=U.createContext({isTransitioning:!1});Hv.displayName="ViewTransition";var fw=U.createContext(new Map);fw.displayName="Fetchers";var hw=U.createContext(null);hw.displayName="Await";var kr=U.createContext(null);kr.displayName="Navigation";var Po=U.createContext(null);Po.displayName="Location";var Lr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var rm=U.createContext(null);rm.displayName="RouteError";function dw(a,{relative:e}={}){St(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=U.useContext(kr),{hash:o,pathname:u,search:h}=Lo(a,{relative:e}),p=u;return r!=="/"&&(p=u==="/"?r:da([r,u])),s.createHref({pathname:p,search:h,hash:o})}function ko(){return U.useContext(Po)!=null}function hi(){return St(ko(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Po).location}var Gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(a){U.useContext(kr).static||U.useLayoutEffect(a)}function Qv(){let{isDataRoute:a}=U.useContext(Lr);return a?Nw():mw()}function mw(){St(ko(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(ol),{basename:e,navigator:r}=U.useContext(kr),{matches:s}=U.useContext(Lr),{pathname:o}=hi(),u=JSON.stringify(Bv(s)),h=U.useRef(!1);return $v(()=>{h.current=!0}),U.useCallback((g,v={})=>{if(cr(h.current,Gv),!h.current)return;if(typeof g=="number"){r.go(g);return}let _=qv(g,JSON.parse(u),o,v.relative==="path");a==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:da([e,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[e,r,u,o,a])}U.createContext(null);function pw(){let{matches:a}=U.useContext(Lr),e=a[a.length-1];return e?e.params:{}}function Lo(a,{relative:e}={}){let{matches:r}=U.useContext(Lr),{pathname:s}=hi(),o=JSON.stringify(Bv(r));return U.useMemo(()=>qv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function gw(a,e){return Yv(a,e)}function Yv(a,e,r,s,o){St(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(kr),{matches:h}=U.useContext(Lr),p=h[h.length-1],g=p?p.params:{},v=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let Y=w&&w.path||"";Kv(v,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=hi(),D;if(e){let Y=typeof e=="string"?Zi(e):e;St(_==="/"||Y.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=A;let k=D.pathname||"/",j=k;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=Uv(a,{pathname:j});cr(w||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),cr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=bw(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:da([_,u.encodeLocation?u.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:da([_,u.encodeLocation?u.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,r,s,o);return e&&H?U.createElement(Po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},H):H}function yw(){let a=Aw(),e=uw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:o},r):null,h)}var vw=U.createElement(yw,null),Ew=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?U.createElement(Lr.Provider,{value:this.props.routeContext},U.createElement(rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:a,match:e,children:r}){let s=U.useContext(ol);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Lr.Provider,{value:a},r)}function bw(a,e=[],r=null,s=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,h=r?.errors;if(h!=null){let v=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,g=-1;if(r)for(let v=0;v<u.length;v++){let _=u[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=v),_.route.id){let{loaderData:w,errors:A}=r,D=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||D){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((v,_,w)=>{let A,D=!1,k=null,j=null;r&&(A=h&&_.route.id?h[_.route.id]:void 0,k=_.route.errorElement||vw,p&&(g<0&&w===0?(Kv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):g===w&&(D=!0,j=_.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,w+1)),H=()=>{let Y;return A?Y=k:D?Y=j:_.route.Component?Y=U.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=v,U.createElement(_w,{match:_,routeContext:{outlet:v,matches:V,isDataRoute:r!=null},children:Y})};return r&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?U.createElement(Ew,{location:r.location,revalidation:r.revalidation,component:k,error:A,children:H(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):H()},null)}function am(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(a){let e=U.useContext(ol);return St(e,am(a)),e}function Tw(a){let e=U.useContext(Qc);return St(e,am(a)),e}function xw(a){let e=U.useContext(Lr);return St(e,am(a)),e}function im(a){let e=xw(a),r=e.matches[e.matches.length-1];return St(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function Sw(){return im("useRouteId")}function Aw(){let a=U.useContext(rm),e=Tw("useRouteError"),r=im("useRouteError");return a!==void 0?a:e.errors?.[r]}function Nw(){let{router:a}=ww("useNavigate"),e=im("useNavigate"),r=U.useRef(!1);return $v(()=>{r.current=!0}),U.useCallback(async(o,u={})=>{cr(r.current,Gv),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var p0={};function Kv(a,e,r){!e&&!p0[a]&&(p0[a]=!0,cr(!1,r))}U.memo(Rw);function Rw({routes:a,future:e,state:r,unstable_onError:s}){return Yv(a,void 0,r,s,e)}function ha(a){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cw({basename:a="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){St(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=Zi(r));let{pathname:g="/",search:v="",hash:_="",state:w=null,key:A="default"}=r,D=U.useMemo(()=>{let k=ga(g,h);return k==null?null:{location:{pathname:k,search:v,hash:_,state:w,key:A},navigationType:s}},[h,g,v,_,w,A,s]);return cr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(kr.Provider,{value:p},U.createElement(Po.Provider,{children:e,value:D}))}function Ow({children:a,location:e}){return gw(Vd(a),e)}function Vd(a,e=[]){let r=[];return U.Children.forEach(a,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){r.push.apply(r,Vd(s.props.children,u));return}St(s.type===ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Vd(s.props.children,u)),r.push(h)}),r}var vc="get",Ec="application/x-www-form-urlencoded";function Yc(a){return a!=null&&typeof a.tagName=="string"}function Iw(a){return Yc(a)&&a.tagName.toLowerCase()==="button"}function Dw(a){return Yc(a)&&a.tagName.toLowerCase()==="form"}function Vw(a){return Yc(a)&&a.tagName.toLowerCase()==="input"}function Mw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Pw(a,e){return a.button===0&&(!e||e==="_self")&&!Mw(a)}var fc=null;function kw(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var Lw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(a){return a!=null&&!Lw.has(a)?(cr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):a}function Uw(a,e){let r,s,o,u,h;if(Dw(a)){let p=a.getAttribute("action");s=p?ga(p,e):null,r=a.getAttribute("method")||vc,o=vd(a.getAttribute("enctype"))||Ec,u=new FormData(a)}else if(Iw(a)||Vw(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?ga(g,e):null,r=a.getAttribute("formmethod")||p.getAttribute("method")||vc,o=vd(a.getAttribute("formenctype"))||vd(p.getAttribute("enctype"))||Ec,u=new FormData(p,a),!kw()){let{name:v,type:_,value:w}=a;if(_==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,w)}}else{if(Yc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vc,s=null,o=Ec,h=a}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function zw(a,e,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&ga(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function jw(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function qw(a,e,r){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await jw(u,r);return h.links?h.links():[]}return[]}));return $w(s.flat(1).filter(Bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g0(a,e,r,s,o,u){let h=(g,v)=>r[v]?g.route.id!==r[v].route.id:!0,p=(g,v)=>r[v].pathname!==g.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,v)=>h(g,v)||p(g,v)):u==="data"?e.filter((g,v)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Fw(a,e,{includeHydrateFallback:r}={}){return Hw(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Hw(a){return[...new Set(a)]}function Gw(a){let e={},r=Object.keys(a).sort();for(let s of r)e[s]=a[s];return e}function $w(a,e){let r=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(Gw(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function Xv(){let a=U.useContext(ol);return sm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Qw(){let a=U.useContext(Qc);return sm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var lm=U.createContext(void 0);lm.displayName="FrameworkContext";function Zv(){let a=U.useContext(lm);return sm(a,"You must render this element inside a <HydratedRouter> element"),a}function Yw(a,e){let r=U.useContext(lm),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:_,onTouchStart:w}=e,A=U.useRef(null);U.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let j=H=>{H.forEach(Y=>{h(Y.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[a]),U.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let D=()=>{o(!0)},k=()=>{o(!1),h(!1)};return r?a!=="intent"?[u,A,{}]:[u,A,{onFocus:yo(p,D),onBlur:yo(g,k),onMouseEnter:yo(v,D),onMouseLeave:yo(_,k),onTouchStart:yo(w,D)}]:[!1,A,{}]}function yo(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function Kw({page:a,...e}){let{router:r}=Xv(),s=U.useMemo(()=>Uv(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?U.createElement(Zw,{page:a,matches:s,...e}):null}function Xw(a){let{manifest:e,routeModules:r}=Zv(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return qw(a,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[a,e,r]),s}function Zw({page:a,matches:e,...r}){let s=hi(),{manifest:o,routeModules:u}=Zv(),{basename:h}=Xv(),{loaderData:p,matches:g}=Qw(),v=U.useMemo(()=>g0(a,e,g,o,s,"data"),[a,e,g,o,s]),_=U.useMemo(()=>g0(a,e,g,o,s,"assets"),[a,e,g,o,s]),w=U.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let k=new Set,j=!1;if(e.forEach(H=>{let Y=o.routes[H.route.id];!Y||!Y.hasLoader||(!v.some(F=>F.route.id===H.route.id)&&H.route.id in p&&u[H.route.id]?.shouldRevalidate||Y.hasClientLoader?j=!0:k.add(H.route.id))}),k.size===0)return[];let V=zw(a,h,"data");return j&&k.size>0&&V.searchParams.set("_routes",e.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[h,p,s,o,v,e,a,u]),A=U.useMemo(()=>Fw(_,o),[_,o]),D=Xw(_);return U.createElement(U.Fragment,null,w.map(k=>U.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),A.map(k=>U.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),D.map(({key:k,link:j})=>U.createElement("link",{key:k,nonce:r.nonce,...j})))}function Ww(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wv&&(window.__reactRouterVersion="7.9.1")}catch{}function Jw({basename:a,children:e,window:r}){let s=U.useRef();s.current==null&&(s.current=j1({window:r,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),p=U.useCallback(g=>{U.startTransition(()=>h(g))},[h]);return U.useLayoutEffect(()=>o.listen(p),[o,p]),U.createElement(Cw,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=U.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:v,preventScrollReset:_,viewTransition:w,...A},D){let{basename:k}=U.useContext(kr),j=typeof v=="string"&&Jv.test(v),V,H=!1;if(typeof v=="string"&&j&&(V=v,Wv))try{let N=new URL(window.location.href),O=v.startsWith("//")?new URL(N.protocol+v):new URL(v),P=ga(O.pathname,k);O.origin===N.origin&&P!=null?v=P+O.search+O.hash:H=!0}catch{cr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=dw(v,{relative:o}),[F,ue,ce]=Yw(s,A),fe=nT(v,{replace:h,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:w});function M(N){e&&e(N),N.defaultPrevented||fe(N)}let x=U.createElement("a",{...A,...ce,href:V||Y,onClick:H||u?e:M,ref:Ww(D,ue),target:g,"data-discover":!j&&r==="render"?"true":void 0});return F&&!j?U.createElement(U.Fragment,null,x,U.createElement(Kw,{page:Y})):x});Ur.displayName="Link";var Xa=U.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...v},_){let w=Lo(h,{relative:v.relative}),A=hi(),D=U.useContext(Qc),{navigator:k,basename:j}=U.useContext(kr),V=D!=null&&lT(w)&&p===!0,H=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,Y=A.pathname,F=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(Y=Y.toLowerCase(),F=F?F.toLowerCase():null,H=H.toLowerCase()),F&&j&&(F=ga(F,j)||F);const ue=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ce=Y===H||!o&&Y.startsWith(H)&&Y.charAt(ue)==="/",fe=F!=null&&(F===H||!o&&F.startsWith(H)&&F.charAt(H.length)==="/"),M={isActive:ce,isPending:fe,isTransitioning:V},x=ce?e:void 0,N;typeof s=="function"?N=s(M):N=[s,ce?"active":null,fe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return U.createElement(Ur,{...v,"aria-current":x,className:N,ref:_,style:O,to:h,viewTransition:p},typeof g=="function"?g(M):g)});Xa.displayName="NavLink";var eT=U.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:h=vc,action:p,onSubmit:g,relative:v,preventScrollReset:_,viewTransition:w,...A},D)=>{let k=iT(),j=sT(p,{relative:v}),V=h.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&Jv.test(p),Y=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let ue=F.nativeEvent.submitter,ce=ue?.getAttribute("formmethod")||h;k(ue||F.currentTarget,{fetcherKey:e,method:ce,navigate:r,replace:o,state:u,relative:v,preventScrollReset:_,viewTransition:w})};return U.createElement("form",{ref:D,method:V,action:j,onSubmit:s?g:Y,...A,"data-discover":!H&&a==="render"?"true":void 0})});eT.displayName="Form";function tT(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(a){let e=U.useContext(ol);return St(e,tT(a)),e}function nT(a,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Qv(),g=hi(),v=Lo(a,{relative:u});return U.useCallback(_=>{if(Pw(_,e)){_.preventDefault();let w=r!==void 0?r:Ao(g)===Ao(v);p(a,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,v,r,s,e,a,o,u,h])}var rT=0,aT=()=>`__${String(++rT)}__`;function iT(){let{router:a}=eE("useSubmit"),{basename:e}=U.useContext(kr),r=Sw();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:g,body:v}=Uw(s,e);if(o.navigate===!1){let _=o.fetcherKey||aT();await a.fetch(_,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,r])}function sT(a,{relative:e}={}){let{basename:r}=U.useContext(kr),s=U.useContext(Lr);St(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Lo(a||".",{relative:e})},h=hi();if(a==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:da([r,u.pathname])),Ao(u)}function lT(a,{relative:e}={}){let r=U.useContext(Hv);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eE("useViewTransitionState"),o=Lo(a,{relative:e});if(!r.isTransitioning)return!1;let u=ga(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=ga(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ac(o.pathname,h)!=null||Ac(o.pathname,u)!=null}const oT="modulepreload",uT=function(a){return"/Ecommerce/"+a},y0={},_a=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=g(r.map(v=>{if(v=uT(v),v in y0)return;y0[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const A=document.createElement("link");if(A.rel=_?"stylesheet":oT,_||(A.as="script"),A.crossOrigin="",A.href=v,p&&A.setAttribute("nonce",p),document.head.appendChild(A),_)return new Promise((D,k)=>{A.addEventListener("load",D),A.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return o.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},cT=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(a){const e=[];let r=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},fT=function(a){const e=[];let r=0,s=0;for(;r<a.length;){const o=a[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],h=a[r++],p=a[r++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=a[r++],h=a[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,p=h?a[o+1]:0,g=o+2<a.length,v=g?a[o+2]:0,_=u>>2,w=(u&3)<<4|p>>4;let A=(p&15)<<2|v>>6,D=v&63;g||(D=64,h||(A=64)),s.push(r[_],r[w],r[A],r[D])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(tE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):fT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],p=o<a.length?r[a.charAt(o)]:0;++o;const v=o<a.length?r[a.charAt(o)]:64;++o;const w=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||p==null||v==null||w==null)throw new hT;const A=u<<2|p>>4;if(s.push(A),v!==64){const D=p<<4&240|v>>2;if(s.push(D),w!==64){const k=v<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class hT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dT=function(a){const e=tE(a);return nE.encodeByteArray(e,!0)},Nc=function(a){return dT(a).replace(/\./g,"")},mT=function(a){try{return nE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=()=>pT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof v0>"u")return;const a=v0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},vT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&mT(a[1]);return e&&JSON.parse(e)},om=()=>{try{return cT()||gT()||yT()||vT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},ET=a=>om()?.emulatorHosts?.[a],rE=a=>{const e=ET(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},aE=()=>om()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Nc(JSON.stringify(r)),Nc(JSON.stringify(h)),""].join(".")}const wo={};function bT(){const a={prod:[],emulator:[]};for(const e of Object.keys(wo))wo[e]?a.emulator.push(e):a.prod.push(e);return a}function wT(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let E0=!1;function lE(a,e){if(typeof window>"u"||typeof document>"u"||!Kc(window.location.host)||wo[a]===e||wo[a]||E0)return;wo[a]=e;function r(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=bT().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{E0=!0,h()},A}function _(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=wT(s),D=r("text"),k=document.getElementById(D)||document.createElement("span"),j=r("learnmore"),V=document.getElementById(j)||document.createElement("a"),H=r("preprendIcon"),Y=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const F=A.element;p(F),_(V,j);const ue=v();g(Y,H),F.append(Y,k,V,ue),document.body.appendChild(F)}u?(k.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){const a=om()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return!xT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((a,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="FirebaseError";class Wi extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=RT,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oE.prototype.create)}}class oE{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?CT(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Wi(o,p,s)}}function CT(a,e){return a.replace(OT,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const OT=/\{\$([^}]+)}/g;function Rc(a,e){if(a===e)return!0;const r=Object.keys(a),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=a[o],h=e[o];if(_0(u)&&_0(h)){if(!Rc(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function _0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(a){return a&&a._delegate?a._delegate:a}class Js{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new _T;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VT(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DT(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DT(a){return a===$i?void 0:a}function VT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new IT(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Je||(Je={}));const PT={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},kT=Je.INFO,LT={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},UT=(a,e,...r)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=LT[e];if(o)console[o](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uE{constructor(e){this.name=e,this._logLevel=kT,this._logHandler=UT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const zT=(a,e)=>e.some(r=>a instanceof r);let b0,w0;function jT(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Md=new WeakMap,fE=new WeakMap,Ed=new WeakMap,um=new WeakMap;function qT(a){const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{r(Wa(a.result)),o()},h=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&cE.set(r,a)}).catch(()=>{}),um.set(e,a),e}function FT(a){if(Md.has(a))return;const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Md.set(a,e)}let Pd={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return Md.get(a);if(e==="objectStoreNames")return a.objectStoreNames||fE.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wa(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function HT(a){Pd=a(Pd)}function GT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=a.call(_d(this),e,...r);return fE.set(s,e.sort?e.sort():[e]),Wa(s)}:BT().includes(a)?function(...e){return a.apply(_d(this),e),Wa(cE.get(this))}:function(...e){return Wa(a.apply(_d(this),e))}}function $T(a){return typeof a=="function"?GT(a):(a instanceof IDBTransaction&&FT(a),zT(a,jT())?new Proxy(a,Pd):a)}function Wa(a){if(a instanceof IDBRequest)return qT(a);if(Ed.has(a))return Ed.get(a);const e=$T(a);return e!==a&&(Ed.set(a,e),um.set(e,a)),e}const _d=a=>um.get(a);function QT(a,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(a,e),p=Wa(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Wa(h.result),g.oldVersion,g.newVersion,Wa(h.transaction),g)}),r&&h.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const YT=["get","getKey","getAll","getAllKeys","count"],KT=["put","add","delete","clear"],bd=new Map;function T0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=KT.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YT.includes(r)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[r](...p),o&&g.done]))[0]};return bd.set(e,u),u}HT(a=>({...a,get:(e,r,s)=>T0(e,r)||a.get(e,r,s),has:(e,r)=>!!T0(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ZT(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function ZT(a){return a.getComponent()?.type==="VERSION"}const kd="@firebase/app",x0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new uE("@firebase/app"),WT="@firebase/app-compat",JT="@firebase/analytics-compat",ex="@firebase/analytics",tx="@firebase/app-check-compat",nx="@firebase/app-check",rx="@firebase/auth",ax="@firebase/auth-compat",ix="@firebase/database",sx="@firebase/data-connect",lx="@firebase/database-compat",ox="@firebase/functions",ux="@firebase/functions-compat",cx="@firebase/installations",fx="@firebase/installations-compat",hx="@firebase/messaging",dx="@firebase/messaging-compat",mx="@firebase/performance",px="@firebase/performance-compat",gx="@firebase/remote-config",yx="@firebase/remote-config-compat",vx="@firebase/storage",Ex="@firebase/storage-compat",_x="@firebase/firestore",bx="@firebase/ai",wx="@firebase/firestore-compat",Tx="firebase",xx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",Sx={[kd]:"fire-core",[WT]:"fire-core-compat",[ex]:"fire-analytics",[JT]:"fire-analytics-compat",[nx]:"fire-app-check",[tx]:"fire-app-check-compat",[rx]:"fire-auth",[ax]:"fire-auth-compat",[ix]:"fire-rtdb",[sx]:"fire-data-connect",[lx]:"fire-rtdb-compat",[ox]:"fire-fn",[ux]:"fire-fn-compat",[cx]:"fire-iid",[fx]:"fire-iid-compat",[hx]:"fire-fcm",[dx]:"fire-fcm-compat",[mx]:"fire-perf",[px]:"fire-perf-compat",[gx]:"fire-rc",[yx]:"fire-rc-compat",[vx]:"fire-gcs",[Ex]:"fire-gcs-compat",[_x]:"fire-fst",[wx]:"fire-fst-compat",[bx]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,Ax=new Map,Ud=new Map;function S0(a,e){try{a.container.addComponent(e)}catch(r){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function No(a){const e=a.name;if(Ud.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,a);for(const r of Cc.values())S0(r,a);for(const r of Ax.values())S0(r,a);return!0}function hE(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function dE(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new oE("app","Firebase",Nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=xx;function pE(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const s={name:Ld,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ja.create("bad-app-name",{appName:String(o)});if(r||(r=aE()),!r)throw Ja.create("no-options");const u=Cc.get(o);if(u){if(Rc(r,u.options)&&Rc(s,u.config))return u;throw Ja.create("duplicate-app",{appName:o})}const h=new MT(o);for(const g of Ud.values())h.addComponent(g);const p=new Rx(r,s,h);return Cc.set(o,p),p}function gE(a=Ld){const e=Cc.get(a);if(!e&&a===Ld&&aE())return pE();if(!e)throw Ja.create("no-app",{appName:a});return e}function ei(a,e,r){let s=Sx[a]??a;r&&(s+=`-${r}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(h.join(" "));return}No(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebase-heartbeat-database",Ox=1,Ro="firebase-heartbeat-store";let wd=null;function yE(){return wd||(wd=QT(Cx,Ox,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ro)}catch(r){console.warn(r)}}}}).catch(a=>{throw Ja.create("idb-open",{originalErrorMessage:a.message})})),wd}async function Ix(a){try{const r=(await yE()).transaction(Ro),s=await r.objectStore(Ro).get(vE(a));return await r.done,s}catch(e){if(e instanceof Wi)ya.warn(e.message);else{const r=Ja.create("idb-get",{originalErrorMessage:e?.message});ya.warn(r.message)}}}async function A0(a,e){try{const s=(await yE()).transaction(Ro,"readwrite");await s.objectStore(Ro).put(e,vE(a)),await s.done}catch(r){if(r instanceof Wi)ya.warn(r.message);else{const s=Ja.create("idb-set",{originalErrorMessage:r?.message});ya.warn(s.message)}}}function vE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1024,Vx=30;class Mx{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new kx(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Vx){const o=Lx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:r,unsentEntries:s}=Px(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ya.warn(e),""}}}function N0(){return new Date().toISOString().substring(0,10)}function Px(a,e=Dx){const r=[];let s=a.slice();for(const o of a){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),R0(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),R0(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?NT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ix(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function R0(a){return Nc(JSON.stringify({version:2,heartbeats:a})).length}function Lx(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(a){No(new Js("platform-logger",e=>new XT(e),"PRIVATE")),No(new Js("heartbeat",e=>new Mx(e),"PRIVATE")),ei(kd,x0,a),ei(kd,x0,"esm2020"),ei("fire-js","")}Ux("");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,EE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function N(){}N.prototype=x.prototype,M.D=x.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(O,P,z){for(var R=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)R[$e-2]=arguments[$e];return x.prototype[P].apply(O,R)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,N){N||(N=0);var O=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)O[P]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(P=0;16>P;++P)O[P]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=M.g[0],N=M.g[1],P=M.g[2];var z=M.g[3],R=x+(z^N&(P^z))+O[0]+3614090360&4294967295;x=N+(R<<7&4294967295|R>>>25),R=z+(P^x&(N^P))+O[1]+3905402710&4294967295,z=x+(R<<12&4294967295|R>>>20),R=P+(N^z&(x^N))+O[2]+606105819&4294967295,P=z+(R<<17&4294967295|R>>>15),R=N+(x^P&(z^x))+O[3]+3250441966&4294967295,N=P+(R<<22&4294967295|R>>>10),R=x+(z^N&(P^z))+O[4]+4118548399&4294967295,x=N+(R<<7&4294967295|R>>>25),R=z+(P^x&(N^P))+O[5]+1200080426&4294967295,z=x+(R<<12&4294967295|R>>>20),R=P+(N^z&(x^N))+O[6]+2821735955&4294967295,P=z+(R<<17&4294967295|R>>>15),R=N+(x^P&(z^x))+O[7]+4249261313&4294967295,N=P+(R<<22&4294967295|R>>>10),R=x+(z^N&(P^z))+O[8]+1770035416&4294967295,x=N+(R<<7&4294967295|R>>>25),R=z+(P^x&(N^P))+O[9]+2336552879&4294967295,z=x+(R<<12&4294967295|R>>>20),R=P+(N^z&(x^N))+O[10]+4294925233&4294967295,P=z+(R<<17&4294967295|R>>>15),R=N+(x^P&(z^x))+O[11]+2304563134&4294967295,N=P+(R<<22&4294967295|R>>>10),R=x+(z^N&(P^z))+O[12]+1804603682&4294967295,x=N+(R<<7&4294967295|R>>>25),R=z+(P^x&(N^P))+O[13]+4254626195&4294967295,z=x+(R<<12&4294967295|R>>>20),R=P+(N^z&(x^N))+O[14]+2792965006&4294967295,P=z+(R<<17&4294967295|R>>>15),R=N+(x^P&(z^x))+O[15]+1236535329&4294967295,N=P+(R<<22&4294967295|R>>>10),R=x+(P^z&(N^P))+O[1]+4129170786&4294967295,x=N+(R<<5&4294967295|R>>>27),R=z+(N^P&(x^N))+O[6]+3225465664&4294967295,z=x+(R<<9&4294967295|R>>>23),R=P+(x^N&(z^x))+O[11]+643717713&4294967295,P=z+(R<<14&4294967295|R>>>18),R=N+(z^x&(P^z))+O[0]+3921069994&4294967295,N=P+(R<<20&4294967295|R>>>12),R=x+(P^z&(N^P))+O[5]+3593408605&4294967295,x=N+(R<<5&4294967295|R>>>27),R=z+(N^P&(x^N))+O[10]+38016083&4294967295,z=x+(R<<9&4294967295|R>>>23),R=P+(x^N&(z^x))+O[15]+3634488961&4294967295,P=z+(R<<14&4294967295|R>>>18),R=N+(z^x&(P^z))+O[4]+3889429448&4294967295,N=P+(R<<20&4294967295|R>>>12),R=x+(P^z&(N^P))+O[9]+568446438&4294967295,x=N+(R<<5&4294967295|R>>>27),R=z+(N^P&(x^N))+O[14]+3275163606&4294967295,z=x+(R<<9&4294967295|R>>>23),R=P+(x^N&(z^x))+O[3]+4107603335&4294967295,P=z+(R<<14&4294967295|R>>>18),R=N+(z^x&(P^z))+O[8]+1163531501&4294967295,N=P+(R<<20&4294967295|R>>>12),R=x+(P^z&(N^P))+O[13]+2850285829&4294967295,x=N+(R<<5&4294967295|R>>>27),R=z+(N^P&(x^N))+O[2]+4243563512&4294967295,z=x+(R<<9&4294967295|R>>>23),R=P+(x^N&(z^x))+O[7]+1735328473&4294967295,P=z+(R<<14&4294967295|R>>>18),R=N+(z^x&(P^z))+O[12]+2368359562&4294967295,N=P+(R<<20&4294967295|R>>>12),R=x+(N^P^z)+O[5]+4294588738&4294967295,x=N+(R<<4&4294967295|R>>>28),R=z+(x^N^P)+O[8]+2272392833&4294967295,z=x+(R<<11&4294967295|R>>>21),R=P+(z^x^N)+O[11]+1839030562&4294967295,P=z+(R<<16&4294967295|R>>>16),R=N+(P^z^x)+O[14]+4259657740&4294967295,N=P+(R<<23&4294967295|R>>>9),R=x+(N^P^z)+O[1]+2763975236&4294967295,x=N+(R<<4&4294967295|R>>>28),R=z+(x^N^P)+O[4]+1272893353&4294967295,z=x+(R<<11&4294967295|R>>>21),R=P+(z^x^N)+O[7]+4139469664&4294967295,P=z+(R<<16&4294967295|R>>>16),R=N+(P^z^x)+O[10]+3200236656&4294967295,N=P+(R<<23&4294967295|R>>>9),R=x+(N^P^z)+O[13]+681279174&4294967295,x=N+(R<<4&4294967295|R>>>28),R=z+(x^N^P)+O[0]+3936430074&4294967295,z=x+(R<<11&4294967295|R>>>21),R=P+(z^x^N)+O[3]+3572445317&4294967295,P=z+(R<<16&4294967295|R>>>16),R=N+(P^z^x)+O[6]+76029189&4294967295,N=P+(R<<23&4294967295|R>>>9),R=x+(N^P^z)+O[9]+3654602809&4294967295,x=N+(R<<4&4294967295|R>>>28),R=z+(x^N^P)+O[12]+3873151461&4294967295,z=x+(R<<11&4294967295|R>>>21),R=P+(z^x^N)+O[15]+530742520&4294967295,P=z+(R<<16&4294967295|R>>>16),R=N+(P^z^x)+O[2]+3299628645&4294967295,N=P+(R<<23&4294967295|R>>>9),R=x+(P^(N|~z))+O[0]+4096336452&4294967295,x=N+(R<<6&4294967295|R>>>26),R=z+(N^(x|~P))+O[7]+1126891415&4294967295,z=x+(R<<10&4294967295|R>>>22),R=P+(x^(z|~N))+O[14]+2878612391&4294967295,P=z+(R<<15&4294967295|R>>>17),R=N+(z^(P|~x))+O[5]+4237533241&4294967295,N=P+(R<<21&4294967295|R>>>11),R=x+(P^(N|~z))+O[12]+1700485571&4294967295,x=N+(R<<6&4294967295|R>>>26),R=z+(N^(x|~P))+O[3]+2399980690&4294967295,z=x+(R<<10&4294967295|R>>>22),R=P+(x^(z|~N))+O[10]+4293915773&4294967295,P=z+(R<<15&4294967295|R>>>17),R=N+(z^(P|~x))+O[1]+2240044497&4294967295,N=P+(R<<21&4294967295|R>>>11),R=x+(P^(N|~z))+O[8]+1873313359&4294967295,x=N+(R<<6&4294967295|R>>>26),R=z+(N^(x|~P))+O[15]+4264355552&4294967295,z=x+(R<<10&4294967295|R>>>22),R=P+(x^(z|~N))+O[6]+2734768916&4294967295,P=z+(R<<15&4294967295|R>>>17),R=N+(z^(P|~x))+O[13]+1309151649&4294967295,N=P+(R<<21&4294967295|R>>>11),R=x+(P^(N|~z))+O[4]+4149444226&4294967295,x=N+(R<<6&4294967295|R>>>26),R=z+(N^(x|~P))+O[11]+3174756917&4294967295,z=x+(R<<10&4294967295|R>>>22),R=P+(x^(z|~N))+O[2]+718787259&4294967295,P=z+(R<<15&4294967295|R>>>17),R=N+(z^(P|~x))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var N=x-this.blockSize,O=this.B,P=this.h,z=0;z<x;){if(P==0)for(;z<=N;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<x;)if(O[P++]=M.charCodeAt(z++),P==this.blockSize){o(this,O),P=0;break}}else for(;z<x;)if(O[P++]=M[z++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=x},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var N=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=N&255,N/=256;for(this.u(M),M=Array(16),x=N=0;4>x;++x)for(var O=0;32>O;O+=8)M[N++]=this.g[x]>>>O&255;return M};function u(M,x){var N=p;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=x(M)}function h(M,x){this.h=x;for(var N=[],O=!0,P=M.length-1;0<=P;P--){var z=M[P]|0;O&&z==x||(N[P]=z,O=!1)}this.g=N}var p={};function g(M){return-128<=M&&128>M?u(M,function(x){return new h([x|0],0>x?-1:0)}):new h([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return V(v(-M));for(var x=[],N=1,O=0;M>=N;O++)x[O]=M/N|0,N*=4294967296;return new h(x,0)}function _(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return V(_(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=v(Math.pow(x,8)),O=w,P=0;P<M.length;P+=8){var z=Math.min(8,M.length-P),R=parseInt(M.substring(P,P+z),x);8>z?(z=v(Math.pow(x,z)),O=O.j(z).add(v(R))):(O=O.j(N),O=O.add(v(R)))}return O}var w=g(0),A=g(1),D=g(16777216);a=h.prototype,a.m=function(){if(j(this))return-V(this).m();for(var M=0,x=1,N=0;N<this.g.length;N++){var O=this.i(N);M+=(0<=O?O:4294967296+O)*x,x*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(j(this))return"-"+V(this).toString(M);for(var x=v(Math.pow(M,6)),N=this,O="";;){var P=ue(N,x).g;N=H(N,P.j(x));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=P,k(N))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function j(M){return M.h==-1}a.l=function(M){return M=H(this,M),j(M)?-1:k(M)?0:1};function V(M){for(var x=M.g.length,N=[],O=0;O<x;O++)N[O]=~M.g[O];return new h(N,~M.h).add(A)}a.abs=function(){return j(this)?V(this):this},a.add=function(M){for(var x=Math.max(this.g.length,M.g.length),N=[],O=0,P=0;P<=x;P++){var z=O+(this.i(P)&65535)+(M.i(P)&65535),R=(z>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=R>>>16,z&=65535,R&=65535,N[P]=R<<16|z}return new h(N,N[N.length-1]&-2147483648?-1:0)};function H(M,x){return M.add(V(x))}a.j=function(M){if(k(this)||k(M))return w;if(j(this))return j(M)?V(this).j(V(M)):V(V(this).j(M));if(j(M))return V(this.j(V(M)));if(0>this.l(D)&&0>M.l(D))return v(this.m()*M.m());for(var x=this.g.length+M.g.length,N=[],O=0;O<2*x;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var z=this.i(O)>>>16,R=this.i(O)&65535,$e=M.i(P)>>>16,Qe=M.i(P)&65535;N[2*O+2*P]+=R*Qe,Y(N,2*O+2*P),N[2*O+2*P+1]+=z*Qe,Y(N,2*O+2*P+1),N[2*O+2*P+1]+=R*$e,Y(N,2*O+2*P+1),N[2*O+2*P+2]+=z*$e,Y(N,2*O+2*P+2)}for(O=0;O<x;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=x;O<2*x;O++)N[O]=0;return new h(N,0)};function Y(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function F(M,x){this.g=M,this.h=x}function ue(M,x){if(k(x))throw Error("division by zero");if(k(M))return new F(w,w);if(j(M))return x=ue(V(M),x),new F(V(x.g),V(x.h));if(j(x))return x=ue(M,V(x)),new F(V(x.g),x.h);if(30<M.g.length){if(j(M)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var N=A,O=x;0>=O.l(M);)N=ce(N),O=ce(O);var P=fe(N,1),z=fe(O,1);for(O=fe(O,2),N=fe(N,2);!k(O);){var R=z.add(O);0>=R.l(M)&&(P=P.add(N),z=R),O=fe(O,1),N=fe(N,1)}return x=H(M,P.j(x)),new F(P,x)}for(P=w;0<=M.l(x);){for(N=Math.max(1,Math.floor(M.m()/x.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=v(N),R=z.j(x);j(R)||0<R.l(M);)N-=O,z=v(N),R=z.j(x);k(z)&&(z=A),P=P.add(z),M=H(M,R)}return new F(P,M)}a.A=function(M){return ue(this,M).h},a.and=function(M){for(var x=Math.max(this.g.length,M.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)&M.i(O);return new h(N,this.h&M.h)},a.or=function(M){for(var x=Math.max(this.g.length,M.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)|M.i(O);return new h(N,this.h|M.h)},a.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)^M.i(O);return new h(N,this.h^M.h)};function ce(M){for(var x=M.g.length+1,N=[],O=0;O<x;O++)N[O]=M.i(O)<<1|M.i(O-1)>>>31;return new h(N,M.h)}function fe(M,x){var N=x>>5;x%=32;for(var O=M.g.length-N,P=[],z=0;z<O;z++)P[z]=0<x?M.i(z+N)>>>x|M.i(z+N+1)<<32-x:M.i(z+N);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,EE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=_,ti=h}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _E,vo,bE,_c,zd,wE,TE,xE;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=r(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var G=c[S];if(!(G in E))break e;E=E[G]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,S=!1,G={next:function(){if(!S&&E<c.length){var W=E++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function v(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,E){return c.call.apply(c.bind,arguments)}function w(c,y,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function A(c,y,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,A.apply(null,arguments)}function D(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,G,W){for(var ge=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ge[Ke-2]=arguments[Ke];return y.prototype[G].apply(S,ge)}}function j(c){const y=c.length;if(0<y){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function V(c,y){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(g(S)){const G=c.length||0,W=S.length||0;c.length=G+W;for(let ge=0;ge<W;ge++)c[G+ge]=S[ge]}else c.push(S)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function fe(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function M(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function x(c){const y={};for(const E in c)y[E]=c[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(E in S)c[E]=S[E];for(let W=0;W<N.length;W++)E=N[W],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function P(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function z(c){p.setTimeout(()=>{throw c},0)}function R(){var c=Le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,E){const S=Qe.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var Qe=new H(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Te=!1,Le=new $e,I=()=>{const c=p.Promise.resolve(void 0);me=()=>{c.then(re)}};var re=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){z(E)}var y=Qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};p.addEventListener("test",E,y),p.removeEventListener("test",E,y)}catch{}return c})();function Ce(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ue(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,le);var Se={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function mn(c,y,E,S,G){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=G,this.key=++Ye,this.da=this.fa=!1}function rn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c){this.src=c,this.g={},this.h=0}pt.prototype.add=function(c,y,E,S,G){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ge=Nt(c,y,S,G);return-1<ge?(y=c[ge],E||(y.fa=!1)):(y=new mn(y,this.src,W,!!S,G),y.fa=E,c.push(y)),y};function Pt(c,y){var E=y.type;if(E in c.g){var S=c.g[E],G=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=G)&&Array.prototype.splice.call(S,G,1),W&&(rn(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Nt(c,y,E,S){for(var G=0;G<c.length;++G){var W=c[G];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==S)return G}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),ba={};function mi(c,y,E,S,G){if(Array.isArray(y)){for(var W=0;W<y.length;W++)mi(c,y[W],E,S,G);return null}return E=de(E),c&&c[Tt]?c.K(y,E,v(S)?!!S.capture:!1,G):Sn(c,y,E,!1,S,G)}function Sn(c,y,E,S,G,W){if(!y)throw Error("Invalid event type");var ge=v(G)?!!G.capture:!!G,Ke=hr(c);if(Ke||(c[jr]=Ke=new pt(c)),E=Ke.add(y,E,S,ge,W),E.proxy)return E;if(S=wa(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)_e||(G=ge),G===void 0&&(G=!1),c.addEventListener(y.toString(),S,G);else if(c.attachEvent)c.attachEvent(tr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wa(){function c(E){return y.call(c.src,c.listener,E)}const y=Ta;return c}function pi(c,y,E,S,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)pi(c,y[W],E,S,G);else S=v(S)?!!S.capture:!!S,E=de(E),c&&c[Tt]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],E=Nt(W,E,S,G),-1<E&&(rn(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=hr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Nt(y,E,S,G)),(E=-1<c?y[c]:null)&&Br(E))}function Br(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Tt])Pt(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(tr(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=hr(y))?(Pt(E,c),E.h==0&&(E.src=null,y[jr]=null)):rn(c)}}}function tr(c){return c in ba?ba[c]:ba[c]="on"+c}function Ta(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var E=c.listener,S=c.ha||c.src;c.fa&&Br(c),c=E.call(S,y)}return c}function hr(c){return c=c[jr],c instanceof pt?c:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(c){return typeof c=="function"?c:(c[gi]||(c[gi]=function(y){return c.handleEvent(y)}),c[gi])}function q(){pe.call(this),this.i=new pt(this),this.M=this,this.F=null}k(q,pe),q.prototype[Tt]=!0,q.prototype.removeEventListener=function(c,y,E,S){pi(this,c,y,E,S)};function te(c,y){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var G=y;y=new le(S,c),O(y,G)}if(G=!0,E)for(var W=E.length-1;0<=W;W--){var ge=y.g=E[W];G=he(ge,S,!0,y)&&G}if(ge=y.g=c,G=he(ge,S,!0,y)&&G,G=he(ge,S,!1,y)&&G,E)for(W=0;W<E.length;W++)ge=y.g=E[W],G=he(ge,S,!1,y)&&G}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],S=0;S<E.length;S++)rn(E[S]);delete c.g[y],c.h--}}this.F=null},q.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},q.prototype.L=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function he(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,W=0;W<y.length;++W){var ge=y[W];if(ge&&!ge.da&&ge.capture==E){var Ke=ge.listener,Ht=ge.ha||ge.src;ge.fa&&Pt(c.i,ge),G=Ke.call(Ht,S)!==!1&&G}}return G&&!S.defaultPrevented}function Re(c,y,E){if(typeof c=="function")E&&(c=A(c,E));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Ue(c){c.g=Re(()=>{c.g=null,c.i&&(c.i=!1,Ue(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class et extends pe{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(c){pe.call(this),this.h=c,this.g={}}k(J,pe);var ae=[];function be(c){fe(c.g,function(y,E){this.g.hasOwnProperty(E)&&Br(y)},c),c.g={}}J.prototype.N=function(){J.aa.N.call(this),be(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=p.JSON.stringify,Ee=p.JSON.parse,Me=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function lt(){}lt.prototype.h=null;function ot(c){return c.h||(c.h=c.i())}function nt(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){le.call(this,"d")}k(at,le);function Rt(){le.call(this,"c")}k(Rt,le);var an={},On=null;function In(){return On=On||new q}an.La="serverreachability";function qr(c){le.call(this,an.La,c)}k(qr,le);function nr(c){const y=In();te(y,new qr(y))}an.STAT_EVENT="statevent";function Ho(c,y){le.call(this,an.STAT_EVENT,c),this.stat=y}k(Ho,le);function bt(c){const y=In();te(y,new Ho(y,c))}an.Ma="timingevent";function Ft(c,y){le.call(this,an.Ma,c),this.size=y}k(Ft,le);function kt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function pl(c,y,E,S,G,W){c.info(function(){if(c.g)if(W)for(var ge="",Ke=W.split("&"),Ht=0;Ht<Ke.length;Ht++){var Xe=Ke[Ht].split("=");if(1<Xe.length){var Zt=Xe[0];Xe=Xe[1];var Gt=Zt.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(Zt+"="+Xe+"&"):ge+(Zt+"=redacted&")}}else ge=null;else ge=W;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+y+`
`+E+`
`+ge})}function pf(c,y,E,S,G,W,ge){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+y+`
`+E+`
`+W+" "+ge})}function xa(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yi(c,E)+(S?" "+S:"")})}function Go(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function yi(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return ve(E)}catch{return y}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function mr(){}k(mr,lt),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},dr=new mr;function _n(c,y,E,S){this.j=c,this.i=y,this.l=E,this.R=S||1,this.U=new J(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var gl={},as={};function rr(c,y,E){c.L=1,c.v=wi(Dn(y)),c.m=E,c.P=!0,Hr(c,null)}function Hr(c,y){c.F=Date.now(),vi(c),c.A=Dn(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),wl(E.i,"t",S),c.C=0,E=c.j.J,c.h=new It,c.g=lu(c.j,E?y:null,!c.m),0<c.O&&(c.M=new et(A(c.Y,c,c.g),c.O)),y=c.U,E=c.g,S=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(ae[0]=G.toString()),G=ae);for(var W=0;W<G.length;W++){var ge=mi(E,G[W],S||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),nr(),pl(c.i,c.u,c.A,c.l,c.R,c.m)}_n.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},_n.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=Hn(this.g);var y=this.g.Ba();const Wr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=Wr?nr(3):nr(2)),Aa(this);var E=this.g.Z();this.X=E;t:if($o(this)){var S=Jo(this.g);c="";var G=S.length,W=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),pr(this);var ge="";break t}this.h.i=new p.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==G-1)});S.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,pf(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ht=this.g;if((Ke=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ke)){var Xe=Ke;break t}}Xe=null}if(E=Xe)xa(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,E);else{this.o=!1,this.s=3,bt(12),sn(this),pr(this);break e}}if(this.P){E=!0;let ln;for(;!this.J&&this.C<ge.length;)if(ln=Qo(this,ge),ln==as){Gt==4&&(this.s=4,bt(14),E=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==gl){this.s=4,bt(15),xa(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else xa(this.i,this.l,ln,null),Ei(this,ln);if($o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,bt(16),E=!1),this.o=this.o&&E,!E)xa(this.i,this.l,ge,"[Invalid Chunked Response]"),sn(this),pr(this);else if(0<ge.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Oi(Zt),Zt.M=!0,bt(11))}}else xa(this.i,this.l,ge,null),Ei(this,ge);Gt==4&&sn(this),this.o&&!this.J&&(Gt==4?au(this.j,this):(this.o=!1,vi(this)))}else _f(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),sn(this),pr(this)}}}catch{}finally{}};function $o(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qo(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?as:(E=Number(y.substring(E,S)),isNaN(E)?gl:(S+=1,S+E>y.length?as:(y=y.slice(S,S+E),c.C=S+E,y)))}_n.prototype.cancel=function(){this.J=!0,sn(this)};function vi(c){c.S=Date.now()+c.I,Yo(c,c.I)}function Yo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kt(A(c.ba,c),y)}function Aa(c){c.B&&(p.clearTimeout(c.B),c.B=null)}_n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Go(this.i,this.A),this.L!=2&&(nr(),bt(17)),sn(this),this.s=2,pr(this)):Yo(this,this.S-c)};function pr(c){c.j.G==0||c.J||au(c.j,c)}function sn(c){Aa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,be(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ei(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||yl(E.h,c))){if(!c.K&&yl(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)gs(E),ms(E);else break e;Nl(E),bt(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=kt(A(E.Za,E),6e3));if(1>=ss(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zr(E,11)}else if((c.K||E.g==c)&&gs(E),!Y(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let Xe=G[y];if(E.T=Xe[0],Xe=Xe[1],E.G==2)if(Xe[0]=="c"){E.K=Xe[1],E.ia=Xe[2];const Zt=Xe[3];Zt!=null&&(E.la=Zt,E.j.info("VER="+E.la));const Gt=Xe[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const Wr=Xe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(S=1.5*Wr,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ln=c.g;if(ln){const wr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var W=S.h;W.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ls(W,W.h),W.h=null))}if(S.D){const Cl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(S.ya=Cl,ft(S.I,S.D,Cl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ge=c;if(S.qa=su(S,S.J?S.ia:null,S.W),ge.K){bn(S.h,ge);var Ke=ge,Ht=S.L;Ht&&(Ke.I=Ht),Ke.B&&(Aa(Ke),vi(Ke)),S.g=ge}else nu(S);0<E.i.length&&ps(E)}else Xe[0]!="stop"&&Xe[0]!="close"||Zr(E,7);else E.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Zr(E,7):Sl(E):Xe[0]!="noop"&&E.l&&E.l.ta(Xe),E.v=0)}}nr(4)}catch{}}var Ko=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function is(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ss(c){return c.h?1:c.g?c.g.size:0}function yl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ls(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return j(c.i)}function gf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],E=c.length,S=0;S<E;S++)y.push(c[S]);return y}y=[],E=0;for(S in c)y[E++]=c[S];return y}function os(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const S in c)y[E++]=S;return y}}}function El(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=os(c),S=gf(c),G=S.length,W=0;W<G;W++)y.call(void 0,S[W],E&&E[W],c)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),G=null;if(0<=S){var W=c[E].substring(0,S);G=c[E].substring(S+1)}else W=c[E];y(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Lt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lt){this.h=c.h,bi(this,c.j),this.o=c.o,this.g=c.g,Na(this,c.s),this.l=c.l;var y=c.i,E=new Qr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),$r(this,E),this.m=c.m}else c&&(y=String(c).match(_i))?(this.h=!1,bi(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Na(this,y[4]),this.l=Bn(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}Lt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ti(y,_l,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ti(y,_l,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ti(E,E.charAt(0)=="/"?vf:bl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ti(E,us)),c.join("")};function Dn(c){return new Lt(c)}function bi(c,y,E){c.j=E?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Na(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $r(c,y,E){y instanceof Qr?(c.i=y,Zo(c.i,c.h)):(E||(y=Ti(y,Ef)),c.i=new Qr(y,c.h))}function ft(c,y,E){c.i.set(y,E)}function wi(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ti(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Xo),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,bl=/[#\?:]/g,vf=/[#\?]/g,Ef=/[#\?@]/g,us=/#/g;function Qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&yf(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}a=Qr.prototype,a.add=function(c,y){qn(this),this.i=null,c=gr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Yr(c,y){qn(c),y=gr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Kr(c,y){return qn(c),y=gr(c,y),c.g.has(y)}a.forEach=function(c,y){qn(this),this.g.forEach(function(E,S){E.forEach(function(G){c.call(y,G,S,this)},this)},this)},a.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let S=0;S<y.length;S++){const G=c[S];for(let W=0;W<G.length;W++)E.push(y[S])}return E},a.V=function(c){qn(this);let y=[];if(typeof c=="string")Kr(this,c)&&(y=y.concat(this.g.get(gr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},a.set=function(c,y){return qn(this),this.i=null,c=gr(this,c),Kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function wl(c,y,E){Yr(c,y),0<E.length&&(c.i=null,c.g.set(gr(c,y),j(E)),c.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var S=y[E];const W=encodeURIComponent(String(S)),ge=this.V(S);for(S=0;S<ge.length;S++){var G=W;ge[S]!==""&&(G+="="+encodeURIComponent(String(ge[S]))),c.push(G)}}return this.i=c.join("&")};function gr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zo(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(E,S){var G=S.toLowerCase();S!=G&&(Yr(this,S),wl(this,G,E))},c)),c.j=y}function xi(c,y){const E=new jn;if(p.Image){const S=new Image;S.onload=D(Fn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=D(Fn,E,"TestLoadImage: error",!1,y,S),S.onabort=D(Fn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(Fn,E,"TestLoadImage: timeout",!1,y,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ar(c,y){const E=new jn,S=new AbortController,G=setTimeout(()=>{S.abort(),Fn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(G),W.ok?Fn(E,"TestPingServer: ok",!0,y):Fn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Fn(E,"TestPingServer: error",!1,y)})}function Fn(c,y,E,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(E)}catch{}}function Si(){this.g=new Me}function yr(c,y,E){const S=E||"";try{El(c,function(G,W){let ge=G;v(G)&&(ge=ve(G)),y.push(S+W+"="+encodeURIComponent(ge))})}catch(G){throw y.push(S+"type="+encodeURIComponent("_badmap")),G}}function Ra(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ra,lt),Ra.prototype.g=function(){return new Xr(this.l,this.j)},Ra.prototype.i=(function(c){return function(){return c}})({});function Xr(c,y){q.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Xr,q),a=Xr.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Er(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vr(this):Er(this),this.readyState==3&&Tl(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,vr(this))},a.Qa=function(c){this.g&&(this.response=c,vr(this))},a.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}a.setRequestHeader=function(c,y){this.u.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xl(c){let y="";return fe(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Xt(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=xl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):ft(c,y,E))}function it(c){q.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(it,q);var cs=/^https?$/i,Ai=["POST","PUT"];a=it.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?ot(this.o):ot(dr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Wo(this,W);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)E.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())E.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ai,y,void 0))||S||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ge]of E)this.g.setRequestHeader(W,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ni(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Wo(this,W)}};function Wo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fs(c),_r(c)}function fs(c){c.A||(c.A=!0,te(c,"complete"),te(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,te(this,"complete"),te(this,"abort"),_r(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),it.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?hs(this):this.bb())},a.bb=function(){hs(this)};function hs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Re(c.Ea,0,c);else if(te(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=ge===0){var G=String(c.D).match(_i)[1]||null;!G&&p.self&&p.self.location&&(G=p.self.location.protocol.slice(0,-1)),S=!cs.test(G?G.toLowerCase():"")}E=S}if(E)te(c,"complete"),te(c,"success");else{c.m=6;try{var W=2<Hn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",fs(c)}}finally{_r(c)}}}}function _r(c,y){if(c.g){Ni(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||te(c,"ready");try{E.onreadystatechange=S}catch{}}}function Ni(c){c.I&&(p.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ee(y)}};function Jo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Y(c[S]))continue;var E=P(c[S]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[G]||[];y[G]=W,W.push(E)}M(y,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function ds(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ri("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ri("baseRetryDelayMs",5e3,c),this.cb=Ri("retryDelaySeedMs",1e4,c),this.Wa=Ri("forwardChannelMaxRetries",2,c),this.wa=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new Si,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ds.prototype,a.la=8,a.G=1,a.connect=function(c,y,E,S){bt(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=su(this,null,this.W),ps(this)};function Sl(c){if(eu(c),c.G==3){var y=c.U++,E=Dn(c.I);if(ft(E,"SID",c.K),ft(E,"RID",y),ft(E,"TYPE","terminate"),Ci(c,E),y=new _n(c,c.j,y),y.L=2,y.v=wi(Dn(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=y.v,E=!0),E||(y.g=lu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vi(y)}iu(c)}function ms(c){c.g&&(Oi(c),c.g.cancel(),c.g=null)}function eu(c){ms(c),c.u&&(p.clearTimeout(c.u),c.u=null),gs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ps(c){if(!is(c.h)&&!c.s){c.s=!0;var y=c.Ga;me||I(),Te||(me(),Te=!0),Le.add(y,c),c.B=0}}function bf(c,y){return ss(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kt(A(c.Ga,c,y),Rl(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new _n(this,this.j,c);let W=this.o;if(this.S&&(W?(W=x(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=tu(this,G,y),E=Dn(this.I),ft(E,"RID",c),ft(E,"CVER",22),this.D&&ft(E,"X-HTTP-Session-Id",this.D),Ci(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(xl(W)))+"&"+y:this.m&&Xt(E,this.m,W)),ls(this.h,G),this.Ua&&ft(E,"TYPE","init"),this.P?(ft(E,"$req",y),ft(E,"SID","null"),G.T=!0,rr(G,E,null)):rr(G,E,y),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||is(this.h)||Al(this))};function Al(c,y){var E;y?E=y.l:E=c.U++;const S=Dn(c.I);ft(S,"SID",c.K),ft(S,"RID",E),ft(S,"AID",c.T),Ci(c,S),c.m&&c.o&&Xt(S,c.m,c.o),E=new _n(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tu(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ls(c.h,E),rr(E,S,y)}function Ci(c,y){c.H&&fe(c.H,function(E,S){ft(y,S,E)}),c.l&&El({},function(E,S){ft(y,S,E)})}function tu(c,y,E){E=Math.min(c.i.length,E);var S=c.l?A(c.l.Na,c.l,c):null;e:{var G=c.i;let W=-1;for(;;){const ge=["count="+E];W==-1?0<E?(W=G[0].g,ge.push("ofs="+W)):W=0:ge.push("ofs="+W);let Ke=!0;for(let Ht=0;Ht<E;Ht++){let Xe=G[Ht].g;const Zt=G[Ht].map;if(Xe-=W,0>Xe)W=Math.max(0,G[Ht].g-100),Ke=!1;else try{yr(Zt,ge,"req"+Xe+"_")}catch{S&&S(Zt)}}if(Ke){S=ge.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,S}function nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;me||I(),Te||(me(),Te=!0),Le.add(y,c),c.v=0}}function Nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kt(A(c.Fa,c),Rl(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kt(A(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),ms(this),ru(this))};function Oi(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ru(c){c.g=new _n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);ft(y,"RID","rpc"),ft(y,"SID",c.K),ft(y,"AID",c.T),ft(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(y,"TO",c.ja),ft(y,"TYPE","xmlhttp"),Ci(c,y),c.m&&c.o&&Xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=wi(Dn(y)),E.m=null,E.P=!0,Hr(E,c)}a.Za=function(){this.C!=null&&(this.C=null,ms(this),Nl(this),bt(19))};function gs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function au(c,y){var E=null;if(c.g==y){gs(c),Oi(c),c.g=null;var S=2}else if(yl(c.h,y))E=y.D,bn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;S=In(),te(S,new Ft(S,E)),ps(c)}else nu(c);else if(G=y.s,G==3||G==0&&0<y.X||!(S==1&&bf(c,y)||S==2&&Nl(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),G){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function Rl(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Zr(c,y){if(c.j.info("Error code "+y),y==2){var E=A(c.fb,c),S=c.Xa;const G=!S;S=new Lt(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||bi(S,"https"),wi(S),G?xi(S.toString(),E):ar(S.toString(),E)}else bt(2);c.G=0,c.l&&c.l.sa(y),iu(c),eu(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function iu(c){if(c.G=0,c.ka=[],c.l){const y=vl(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function su(c,y,E){var S=E instanceof Lt?Dn(E):new Lt(E);if(S.g!="")y&&(S.g=y+"."+S.g),Na(S,S.s);else{var G=p.location;S=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var W=new Lt(null);S&&bi(W,S),y&&(W.g=y),G&&Na(W,G),E&&(W.l=E),S=W}return E=c.D,y=c.ya,E&&y&&ft(S,E,y),ft(S,"VER",c.la),Ci(c,S),S}function lu(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new it(new Ra({eb:E})):new it(c.pa),y.Ha(c.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}a=ou.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ys(){}ys.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){q.call(this),this.g=new ds(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}k(wn,q),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Sl(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ve(c),c=E);y.i.push(new Ko(y.Ya++,c)),y.G==3&&ps(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,wn.aa.N.call(this)};function uu(c){at.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(uu,at);function cu(){Rt.call(this),this.status=1}k(cu,Rt);function br(c){this.g=c}k(br,ou),br.prototype.ua=function(){te(this.g,"a")},br.prototype.ta=function(c){te(this.g,new uu(c))},br.prototype.sa=function(c){te(this.g,new cu)},br.prototype.ra=function(){te(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,xE=function(){return new ys},TE=function(){return In()},wE=an,zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,_c=Sa,Fr.COMPLETE="complete",bE=Fr,nt.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",q.prototype.listen=q.prototype.K,vo=nt,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,_E=it}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",I0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new uE("@firebase/firestore");function $s(){return Ki.logLevel}function we(a,...e){if(Ki.logLevel<=Je.DEBUG){const r=e.map(cm);Ki.debug(`Firestore (${ul}): ${a}`,...r)}}function va(a,...e){if(Ki.logLevel<=Je.ERROR){const r=e.map(cm);Ki.error(`Firestore (${ul}): ${a}`,...r)}}function el(a,...e){if(Ki.logLevel<=Je.WARN){const r=e.map(cm);Ki.warn(`Firestore (${ul}): ${a}`,...r)}}function cm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(a,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,SE(a,s,r)}function SE(a,e,r){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw va(s),new Error(s)}function st(a,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,a||SE(e,o,s)}function ke(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Wi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(vn.UNAUTHENTICATED)))}shutdown(){}}class jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Bx{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){st(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ma,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ma)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class qx{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fx{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new qx(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){st(this.o===void 0,3512);const s=u=>{u.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,we("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(st(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new D0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Gx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function He(a,e){return a<e?-1:a>e?1:0}function jd(a,e){const r=Math.min(a.length,e.length);for(let s=0;s<r;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return Td(o)===Td(u)?He(o,u):Td(o)?1:-1}return He(a.length,e.length)}const $x=55296,Qx=57343;function Td(a){const e=a.charCodeAt(0);return e>=$x&&e<=Qx}function tl(a,e,r){return a.length===e.length&&a.every(((s,o)=>r(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="__name__";class Rr{constructor(e,r,s){r===void 0?r=0:r>e.length&&De(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&De(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Rr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return He(e.length,r.length)}static compareSegments(e,r){const s=Rr.isNumericId(e),o=Rr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(r)):jd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class vt extends Rr{construct(e,r,s){return new vt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new vt(r)}static emptyPath(){return new vt([])}}const Yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Rr{construct(e,r,s){return new hn(e,r,s)}static isValidIdentifier(e){return Yx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bd}static keyField(){return new hn([Bd])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(r)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(vt.fromString(e))}static fromName(e){return new Ne(vt.fromString(e).popFirst(5))}static empty(){return new Ne(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(a,e,r){if(!r)throw new ye(ne.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Kx(a,e,r,s){if(e===!0&&s===!0)throw new ye(ne.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function V0(a){if(!Ne.isDocumentKey(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function M0(a){if(Ne.isDocumentKey(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function RE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Xc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":De(12329,{type:typeof a})}function nl(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xc(a);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a,e){const r={typeString:a};return e&&(r.value=e),r}function Uo(a,e){if(!RE(a))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const h=a[s];if(o&&typeof h!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new ye(ne.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,k0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*k0);return new _t(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<P0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uo(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:qt("string",_t._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new _t(0,0))}static max(){return new Pe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function Xx(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new _t(r+1,0):new _t(r,s));return new ai(o,Ne.empty(),e)}function Zx(a){return new ai(a.readTime,a.key,Co)}class ai{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ai(Pe.min(),Ne.empty(),Co)}static max(){return new ai(Pe.max(),Ne.empty(),Co)}}function Wx(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(a.documentKey,e.documentKey),r!==0?r:He(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(a){if(a.code!==ne.FAILED_PRECONDITION||a.message!==Jx)throw a;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof oe?r:oe.resolve(r)}catch(r){return oe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):oe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):oe.reject(r)}static resolve(e){return new oe(((r,s)=>{r(e)}))}static reject(e){return new oe(((r,s)=>{s(e)}))}static waitFor(e){return new oe(((r,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&r()}),(g=>s(g)))})),h=!0,u===o&&r()}))}static or(e){let r=oe.resolve(!1);for(const s of e)r=r.next((o=>o?oe.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(e,r){return new oe(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;r(e[v]).next((_=>{h[v]=_,++p,p===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,r){return new oe(((s,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):s()};u()}))}}function t2(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function fl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Wc(a){return a==null}function Oc(a){return a===0&&1/a==-1/0}function n2(a){return typeof a=="number"&&Number.isInteger(a)&&!Oc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="";function r2(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=L0(e)),e=a2(a.get(r),e);return L0(e)}function a2(a,e){let r=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case CE:r+="";break;default:r+=u}}return r}function L0(a){return a+CE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ji(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function OE(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,r){this.comparator=e,this.root=r||fn.EMPTY}insert(e,r){return new At(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new fn(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Kt(this.comparator);return r.data=e,r}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new or([])}unionWith(e){let r=new Kt(hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new or(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}})(e);return new dn(r)}static fromUint8Array(e){const r=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new dn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(a){if(st(!!a,39018),typeof a=="string"){let e=0;const r=i2.exec(a);if(st(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(a.seconds),nanos:Mt(a.nanos)}}function Mt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function si(a){return typeof a=="string"?dn.fromBase64String(a):dn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="server_timestamp",VE="__type__",ME="__previous_value__",PE="__local_write_time__";function Jc(a){return(a?.mapValue?.fields||{})[VE]?.stringValue===DE}function ef(a){const e=a.mapValue.fields[ME];return Jc(e)?ef(e):e}function Oo(a){const e=ii(a.mapValue.fields[PE].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,r,s,o,u,h,p,g,v,_){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=_}}const Ic="(default)";class Io{constructor(e,r){this.projectId=e,this.database=r||Ic}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",l2="__max__",mc={mapValue:{}},LE="__vector__",Dc="value";function li(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Jc(a)?4:u2(a)?9007199254740991:o2(a)?10:11:De(28295,{value:a})}function Mr(a,e){if(a===e)return!0;const r=li(a);if(r!==li(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Oo(a).isEqual(Oo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ii(o.timestampValue),p=ii(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return si(o.bytesValue).isEqual(si(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return Mt(o.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Mt(o.integerValue)===Mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Mt(o.doubleValue),p=Mt(u.doubleValue);return h===p?Oc(h)===Oc(p):isNaN(h)&&isNaN(p)}return!1})(a,e);case 9:return tl(a.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(U0(h)!==U0(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Mr(h[g],p[g])))return!1;return!0})(a,e);default:return De(52216,{left:a})}}function Do(a,e){return(a.values||[]).find((r=>Mr(r,e)))!==void 0}function rl(a,e){if(a===e)return 0;const r=li(a),s=li(e);if(r!==s)return He(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return He(a.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Mt(u.integerValue||u.doubleValue),g=Mt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return j0(a.timestampValue,e.timestampValue);case 4:return j0(Oo(a),Oo(e));case 5:return jd(a.stringValue,e.stringValue);case 6:return(function(u,h){const p=si(u),g=si(h);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let v=0;v<p.length&&v<g.length;v++){const _=He(p[v],g[v]);if(_!==0)return _}return He(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=He(Mt(u.latitude),Mt(h.latitude));return p!==0?p:He(Mt(u.longitude),Mt(h.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return B0(a.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},v=p[Dc]?.arrayValue,_=g[Dc]?.arrayValue,w=He(v?.values?.length||0,_?.values?.length||0);return w!==0?w:B0(v,_)})(a.mapValue,e.mapValue);case 11:return(function(u,h){if(u===mc.mapValue&&h===mc.mapValue)return 0;if(u===mc.mapValue)return 1;if(h===mc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=h.fields||{},_=Object.keys(v);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const A=jd(g[w],_[w]);if(A!==0)return A;const D=rl(p[g[w]],v[_[w]]);if(D!==0)return D}return He(g.length,_.length)})(a.mapValue,e.mapValue);default:throw De(23264,{he:r})}}function j0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return He(a,e);const r=ii(a),s=ii(e),o=He(r.seconds,s.seconds);return o!==0?o:He(r.nanos,s.nanos)}function B0(a,e){const r=a.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=rl(r[o],s[o]);if(u)return u}return He(r.length,s.length)}function al(a){return qd(a)}function qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=ii(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return si(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Ne.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=qd(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${qd(r.fields[h])}`;return o+"}"})(a.mapValue):De(61005,{value:a})}function bc(a){switch(li(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(a);return e?16+bc(e):16;case 5:return 2*a.stringValue.length;case 6:return si(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ji(s.fields,((u,h)=>{o+=u.length+bc(h)})),o})(a.mapValue);default:throw De(13486,{value:a})}}function Vc(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Fd(a){return!!a&&"integerValue"in a}function dm(a){return!!a&&"arrayValue"in a}function q0(a){return!!a&&"nullValue"in a}function F0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function wc(a){return!!a&&"mapValue"in a}function o2(a){return(a?.mapValue?.fields||{})[kE]?.stringValue===LE}function To(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ji(a.mapValue.fields,((r,s)=>e.mapValue.fields[r]=To(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=To(a.arrayValue.values[r]);return e}return{...a}}function u2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===l2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!wc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(r)}setAll(e){let r=hn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!r.isImmediateParentOf(p)){const g=this.getFieldsMap(r);this.applyChanges(g,s,o),s={},o=[],r=p.popLast()}h?s[p.lastSegment()]=To(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());wc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Ji(r,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Wn(To(this.value))}}function UE(a){const e=[];return Ji(a.fields,((r,s)=>{const o=new hn([r]);if(wc(s)){const u=UE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,r,s,o,u,h,p){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new En(e,0,Pe.min(),Pe.min(),Pe.min(),Wn.empty(),0)}static newFoundDocument(e,r,s,o){return new En(e,1,r,Pe.min(),s,o,0)}static newNoDocument(e,r){return new En(e,2,r,Pe.min(),Pe.min(),Wn.empty(),0)}static newUnknownDocument(e,r){return new En(e,3,r,Pe.min(),Pe.min(),Wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,r){this.position=e,this.inclusive=r}}function H0(a,e,r){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],h=a.position[o];if(u.field.isKeyField()?s=Ne.comparator(Ne.fromName(h.referenceValue),r.key):s=rl(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function G0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Mr(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r="asc"){this.field=e,this.dir=r}}function c2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class Bt extends zE{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new h2(e,r,s):r==="array-contains"?new p2(e,s):r==="in"?new g2(e,s):r==="not-in"?new y2(e,s):r==="array-contains-any"?new v2(e,s):new Bt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new d2(e,s):new m2(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(rl(r,this.value)):r!==null&&li(this.value)===li(r)&&this.matchesComparison(rl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends zE{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new fr(e,r)}matches(e){return jE(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(a){return a.op==="and"}function BE(a){return f2(a)&&jE(a)}function f2(a){for(const e of a.filters)if(e instanceof fr)return!1;return!0}function Hd(a){if(a instanceof Bt)return a.field.canonicalString()+a.op.toString()+al(a.value);if(BE(a))return a.filters.map((e=>Hd(e))).join(",");{const e=a.filters.map((r=>Hd(r))).join(",");return`${a.op}(${e})`}}function qE(a,e){return a instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)})(a,e):a instanceof fr?(function(s,o){return o instanceof fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&qE(h,o.filters[p])),!0):!1})(a,e):void De(19439)}function FE(a){return a instanceof Bt?(function(r){return`${r.field.canonicalString()} ${r.op} ${al(r.value)}`})(a):a instanceof fr?(function(r){return r.op.toString()+" {"+r.getFilters().map(FE).join(" ,")+"}"})(a):"Filter"}class h2 extends Bt{constructor(e,r,s){super(e,r,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class d2 extends Bt{constructor(e,r){super(e,"in",r),this.keys=HE("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class m2 extends Bt{constructor(e,r){super(e,"not-in",r),this.keys=HE("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function HE(a,e){return(e.arrayValue?.values||[]).map((r=>Ne.fromName(r.referenceValue)))}class p2 extends Bt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return dm(r)&&Do(r.arrayValue,this.value)}}class g2 extends Bt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Do(this.value.arrayValue,r)}}class y2 extends Bt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Do(this.value.arrayValue,r)}}class v2 extends Bt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!dm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Do(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function $0(a,e=null,r=[],s=[],o=null,u=null,h=null){return new E2(a,e,r,s,o,u,h)}function mm(a){const e=ke(a);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>Hd(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=r}return e.Te}function pm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!c2(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!qE(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!G0(a.startAt,e.startAt)&&G0(a.endAt,e.endAt)}function Gd(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r=null,s=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _2(a,e,r,s,o,u,h,p){return new hl(a,e,r,s,o,u,h,p)}function gm(a){return new hl(a)}function Q0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ym(a){return a.collectionGroup!==null}function Xs(a){const e=ke(a);if(e.Ie===null){e.Ie=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Kt(hn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Mc(u,s))})),r.has(hn.keyField().canonicalString())||e.Ie.push(new Mc(hn.keyField(),s))}return e.Ie}function Cr(a){const e=ke(a);return e.Ee||(e.Ee=b2(e,Xs(a))),e.Ee}function b2(a,e){if(a.limitType==="F")return $0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mc(o.field,u)}));const r=a.endAt?new il(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new il(a.startAt.position,a.startAt.inclusive):null;return $0(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}function $d(a,e){const r=a.filters.concat([e]);return new hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Pc(a,e,r){return new hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function tf(a,e){return pm(Cr(a),Cr(e))&&a.limitType===e.limitType}function GE(a){return`${mm(Cr(a))}|lt:${a.limitType}`}function Qs(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>FE(o))).join(", ")}]`),Wc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>al(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>al(o))).join(",")),`Target(${s})`})(Cr(a))}; limitType=${a.limitType})`}function nf(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ne.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of Xs(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const v=H0(h,p,g);return h.inclusive?v<=0:v<0})(s.startAt,Xs(s),o)||s.endAt&&!(function(h,p,g){const v=H0(h,p,g);return h.inclusive?v>=0:v>0})(s.endAt,Xs(s),o))})(a,e)}function w2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $E(a){return(e,r)=>{let s=!1;for(const o of Xs(a)){const u=T2(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function T2(a,e,r){const s=a.field.isKeyField()?Ne.comparator(e.key,r.key):(function(u,h,p){const g=h.data.field(u),v=p.data.field(u);return g!==null&&v!==null?rl(g,v):De(42886)})(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,((r,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new At(Ne.comparator);function Ea(){return x2}const QE=new At(Ne.comparator);function Eo(...a){let e=QE;for(const r of a)e=e.insert(r.key,r);return e}function YE(a){let e=QE;return a.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function Qi(){return xo()}function KE(){return xo()}function xo(){return new es((a=>a.toString()),((a,e)=>a.isEqual(e)))}const S2=new At(Ne.comparator),A2=new Kt(Ne.comparator);function Ge(...a){let e=A2;for(const r of a)e=e.add(r);return e}const N2=new Kt(He);function R2(){return N2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function XE(a){return{integerValue:""+a}}function C2(a,e){return n2(e)?XE(e):vm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function O2(a,e,r){return a instanceof kc?(function(o,u){const h={fields:{[VE]:{stringValue:DE},[PE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jc(u)&&(u=ef(u)),u&&(h.fields[ME]=u),{mapValue:h}})(r,e):a instanceof Vo?WE(a,e):a instanceof Mo?JE(a,e):(function(o,u){const h=ZE(o,u),p=Y0(h)+Y0(o.Ae);return Fd(h)&&Fd(o.Ae)?XE(p):vm(o.serializer,p)})(a,e)}function I2(a,e,r){return a instanceof Vo?WE(a,e):a instanceof Mo?JE(a,e):r}function ZE(a,e){return a instanceof Lc?(function(s){return Fd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class kc extends rf{}class Vo extends rf{constructor(e){super(),this.elements=e}}function WE(a,e){const r=e_(e);for(const s of a.elements)r.some((o=>Mr(o,s)))||r.push(s);return{arrayValue:{values:r}}}class Mo extends rf{constructor(e){super(),this.elements=e}}function JE(a,e){let r=e_(e);for(const s of a.elements)r=r.filter((o=>!Mr(o,s)));return{arrayValue:{values:r}}}class Lc extends rf{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Y0(a){return Mt(a.integerValue||a.doubleValue)}function e_(a){return dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function D2(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof Mo&&o instanceof Mo?tl(s.elements,o.elements,Mr):s instanceof Lc&&o instanceof Lc?Mr(s.Ae,o.Ae):s instanceof kc&&o instanceof kc})(a.transform,e.transform)}class V2{constructor(e,r){this.version=e,this.transformResults=r}}class pa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class af{}function t_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new r_(a.key,pa.none()):new zo(a.key,a.data,pa.none());{const r=a.data,s=Wn.empty();let o=new Kt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ts(a.key,s,new or(o.toArray()),pa.none())}}function M2(a,e,r){a instanceof zo?(function(o,u,h){const p=o.value.clone(),g=X0(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(a,e,r):a instanceof ts?(function(o,u,h){if(!Tc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=X0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(n_(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(a,e,r):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,r)}function So(a,e,r,s){return a instanceof zo?(function(u,h,p,g){if(!Tc(u.precondition,h))return p;const v=u.value.clone(),_=Z0(u.fieldTransforms,g,h);return v.setAll(_),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(a,e,r,s):a instanceof ts?(function(u,h,p,g){if(!Tc(u.precondition,h))return p;const v=Z0(u.fieldTransforms,g,h),_=h.data;return _.setAll(n_(u)),_.setAll(v),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(a,e,r,s):(function(u,h,p){return Tc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(a,e,r)}function P2(a,e){let r=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=ZE(s.transform,o||null);u!=null&&(r===null&&(r=Wn.empty()),r.set(s.field,u))}return r||null}function K0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&tl(s,o,((u,h)=>D2(u,h)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class zo extends af{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends af{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function n_(a){const e=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}})),e}function X0(a,e,r){const s=new Map;st(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,I2(h,p,r[o]))}return s}function Z0(a,e,r){const s=new Map;for(const o of a){const u=o.transform,h=r.data.field(o.field);s.set(o.field,O2(u,h,e))}return s}class r_ extends af{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends af{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&M2(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=So(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=So(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=KE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=r.has(o.key)?null:p;const g=t_(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((r,s)=>K0(r,s)))&&tl(this.baseMutations,e.baseMutations,((r,s)=>K0(r,s)))}}class Em{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return S2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Em(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,We;function j2(a){switch(a){case ne.OK:return De(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return De(15467,{code:a})}}function a_(a){if(a===void 0)return va("GRPC error has no .code"),ne.UNKNOWN;switch(a){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return De(39323,{code:a})}}(We=jt||(jt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new ti([4294967295,4294967295],0);function W0(a){const e=B2().encode(a),r=new EE;return r.update(e),new Uint8Array(r.digest())}function J0(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ti([r,s],0),new ti([o,u],0)]}class _m{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new _o(`Invalid padding: ${r}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new _o(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ti.fromNumber(this.ge)}ye(e,r,s){let o=e.add(r.multiply(ti.fromNumber(s)));return o.compare(q2)===1&&(o=new ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=W0(e),[s,o]=J0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _m(u,o,r);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const r=W0(e),[s,o]=J0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new sf(Pe.min(),o,new At(He),Ea(),Ge())}}class jo{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new jo(s,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,r,s,o){this.be=e,this.removedTargetIds=r,this.key=s,this.De=o}}class i_{constructor(e,r){this.targetId=e,this.Ce=r}}class s_{constructor(e,r,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),r=Ge(),s=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}})),new jo(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ea(),this.Je=pc(),this.He=pc(),this.Ye=new At(He)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,s=e.Ce.count,o=this.ot(r);if(o){const u=o.target;if(Gd(u))if(s===0){const h=new Ne(u.path);this.et(r,h,En.newNoDocument(h,Pe.min()))}else st(s===1,20013,{expectedCount:s});else{const h=this._t(r);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(r);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,v)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,p;try{h=si(s).toUint8Array()}catch(g){if(g instanceof IE)return el("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new _m(h,o,u)}catch(g){return el(g instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(r,u,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Gd(p.target)){const g=new Ne(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,En.newNoDocument(g,e))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let s=Ge();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new sf(e,r,this.Ye,this.je,s);return this.je=Ea(),this.Je=pc(),this.He=pc(),this.Ye=new At(He),o}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new ev,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Kt(He),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Kt(He),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function pc(){return new At(Ne.comparator)}function tv(){return new At(Ne.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$2={and:"AND",or:"OR"};class Q2{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Qd(a,e){return a.useProto3Json||Wc(e)?e:{value:e}}function Uc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(a,e){return Uc(a,e.toTimestamp())}function Or(a){return st(!!a,49232),Pe.fromTimestamp((function(r){const s=ii(r);return new _t(s.seconds,s.nanos)})(a))}function bm(a,e){return Yd(a,e).canonicalString()}function Yd(a,e){const r=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?r:r.child(e)}function o_(a){const e=vt.fromString(a);return st(d_(e),10190,{key:e.toString()}),e}function Kd(a,e){return bm(a.databaseId,e.path)}function xd(a,e){const r=o_(e);if(r.get(1)!==a.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ne(c_(r))}function u_(a,e){return bm(a.databaseId,e)}function K2(a){const e=o_(a);return e.length===4?vt.emptyPath():c_(e)}function Xd(a){return new vt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function c_(a){return st(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function nv(a,e,r){return{name:Kd(a,e),fields:r.value.mapValue.fields}}function X2(a,e){let r;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:De(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,_){return v.useProto3Json?(st(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))})(a,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const _=v.code===void 0?ne.UNKNOWN:a_(v.code);return new ye(_,v.message||"")})(h);r=new s_(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xd(a,s.document.name),u=Or(s.document.updateTime),h=s.document.createTime?Or(s.document.createTime):Pe.min(),p=new Wn({mapValue:{fields:s.document.fields}}),g=En.newFoundDocument(o,u,h,p),v=s.targetIds||[],_=s.removedTargetIds||[];r=new xc(v,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xd(a,s.document),u=s.readTime?Or(s.readTime):Pe.min(),h=En.newNoDocument(o,u),p=s.removedTargetIds||[];r=new xc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xd(a,s.document),u=s.removedTargetIds||[];r=new xc([],u,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new z2(o,u),p=s.targetId;r=new i_(p,h)}}return r}function Z2(a,e){let r;if(e instanceof zo)r={update:nv(a,e.key,e.value)};else if(e instanceof r_)r={delete:Kd(a,e.key)};else if(e instanceof ts)r={update:nv(a,e.key,e.data),updateMask:sS(e.fieldMask)};else{if(!(e instanceof k2))return De(16599,{Vt:e.type});r={verify:Kd(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof kc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Lc)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw De(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Y2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(a,e.precondition)),r}function W2(a,e){return a&&a.length>0?(st(e!==void 0,14353),a.map((r=>(function(o,u){let h=o.updateTime?Or(o.updateTime):Or(u);return h.isEqual(Pe.min())&&(h=Or(u)),new V2(h,o.transformResults||[])})(r,e)))):[]}function J2(a,e){return{documents:[u_(a,e.path)]}}function eS(a,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=u_(a,o);const u=(function(v){if(v.length!==0)return h_(fr.create(v,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((_=>(function(A){return{field:Ys(A.field),direction:rS(A.dir)}})(_)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const p=Qd(a,e.limit);return p!==null&&(r.structuredQuery.limit=p),e.startAt&&(r.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:r,parent:o}}function tS(a){let e=K2(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){st(s===1,65062);const _=r.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];r.where&&(u=(function(w){const A=f_(w);return A instanceof fr&&BE(A)?A.getFilters():[A]})(r.where));let h=[];r.orderBy&&(h=(function(w){return w.map((A=>(function(k){return new Mc(Ks(k.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(r.orderBy));let p=null;r.limit&&(p=(function(w){let A;return A=typeof w=="object"?w.value:w,Wc(A)?null:A})(r.limit));let g=null;r.startAt&&(g=(function(w){const A=!!w.before,D=w.values||[];return new il(D,A)})(r.startAt));let v=null;return r.endAt&&(v=(function(w){const A=!w.before,D=w.values||[];return new il(D,A)})(r.endAt)),_2(e,o,h,u,p,"F",g,v)}function nS(a,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function f_(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ks(r.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(r.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(r.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(r.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Bt.create(Ks(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return fr.create(r.compositeFilter.filters.map((s=>f_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(r.compositeFilter.op))})(a):De(30097,{filter:a})}function rS(a){return H2[a]}function aS(a){return G2[a]}function iS(a){return $2[a]}function Ys(a){return{fieldPath:a.canonicalString()}}function Ks(a){return hn.fromServerFormat(a.fieldPath)}function h_(a){return a instanceof Bt?(function(r){if(r.op==="=="){if(F0(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NAN"}};if(q0(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(F0(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NAN"}};if(q0(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(r.field),op:aS(r.op),value:r.value}}})(a):a instanceof fr?(function(r){const s=r.getFilters().map((o=>h_(o)));return s.length===1?s[0]:{compositeFilter:{op:iS(r.op),filters:s}}})(a):De(54877,{filter:a})}function sS(a){const e=[];return a.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function d_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,r,s,o,u=Pe.min(),h=Pe.min(),p=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.yt=e}}function oS(a){const e=tS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Pc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Cn=new cS}addToCollectionParentIndex(e,r){return this.Cn.add(r),oe.resolve()}getCollectionParents(e,r){return oe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return oe.resolve()}deleteFieldIndex(e,r){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,r){return oe.resolve()}getDocumentsMatchingTarget(e,r){return oe.resolve(null)}getIndexType(e,r){return oe.resolve(0)}getFieldIndexes(e,r){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,r){return oe.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,r){return oe.resolve(ai.min())}updateCollectionGroup(e,r,s){return oe.resolve()}updateIndexEntries(e,r){return oe.resolve()}}class cS{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Kt(vt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(m_,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LruGarbageCollector",fS=1048576;function iv([a,e],[r,s]){const o=He(a,r);return o===0?He(e,s):o}class hS{constructor(e){this.Ir=e,this.buffer=new Kt(iv),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();iv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class dS{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){fl(r)?we(av,"Ignoring IndexedDB error during garbage collection: ",r):await cl(r)}await this.Vr(3e5)}))}}class mS{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return oe.resolve(Zc.ce);const s=new hS(r);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(rv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,o,u,h,p,g,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,p=Date.now(),this.removeTargets(e,s,r)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(v=Date.now(),$s()<=Je.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-_}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function pS(a,e){return new mS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.changes=new es((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?oe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&So(s.mutation,o,or.empty(),_t.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Ge()){const o=Qi();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((u=>{let h=Eo();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const s=Qi();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Ge())))}populateOverlays(e,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{r.set(h,p)}))}))}computeViews(e,r,s,o){let u=Ea();const h=xo(),p=(function(){return xo()})();return r.forEach(((g,v)=>{const _=s.get(v.key);o.has(v.key)&&(_===void 0||_.mutation instanceof ts)?u=u.insert(v.key,v):_!==void 0?(h.set(v.key,_.mutation.getFieldMask()),So(_.mutation,v,_.mutation.getFieldMask(),_t.now())):h.set(v.key,or.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,_)=>h.set(v,_))),r.forEach(((v,_)=>p.set(v,new yS(_,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,r){const s=xo();let o=new At(((h,p)=>h-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const p of h)p.keys().forEach((g=>{const v=r.get(g);if(v===null)return;let _=s.get(g)||or.empty();_=p.applyToLocalView(v,_),s.set(g,_);const w=(o.get(p.batchId)||Ge()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,_=g.value,w=KE();_.forEach((A=>{if(!u.has(A)){const D=t_(r.get(A),s.get(A));D!==null&&w.set(A,D),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,w))}return oe.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(h){return Ne.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ym(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):oe.resolve(Qi());let p=Co,g=u;return h.next((v=>oe.forEach(v,((_,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(_)?oe.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,Ge()))).next((_=>({batchId:p,changes:YE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next((s=>{let o=Eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let h=Eo();return this.indexManager.getCollectionParents(e,u).next((p=>oe.forEach(p,(g=>{const v=(function(w,A){return new hl(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((_=>{_.forEach(((w,A)=>{h=h.insert(w,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o)))).next((h=>{u.forEach(((g,v)=>{const _=v.getKey();h.get(_)===null&&(h=h.insert(_,En.newInvalidDocument(_)))}));let p=Eo();return h.forEach(((g,v)=>{const _=u.get(g);_!==void 0&&So(_.mutation,v,or.empty(),_t.now()),nf(r,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return oe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}})(r)),oe.resolve()}getNamedQuery(e,r){return oe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:oS(o.bundledQuery),readTime:Or(o.readTime)}})(r)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.overlays=new At(Ne.comparator),this.qr=new Map}getOverlay(e,r){return oe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Qi();return oe.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,u)=>{this.St(e,r,u)})),oe.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,r,s){const o=Qi(),u=r.length+1,h=new Ne(r.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new At(((v,_)=>v-_));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>s){let _=u.get(v.largestBatchId);_===null&&(_=Qi(),u=u.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const p=Qi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,_)=>p.set(v,_))),!(p.size()>=o)););return oe.resolve(p)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new U2(r,s));let u=this.qr.get(r);u===void 0&&(u=Ge(),this.qr.set(r,u)),this.qr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Qr=new Kt(tn.$r),this.Ur=new Kt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new tn(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Gr(new tn(e,r))}zr(e,r){e.forEach((s=>this.removeReference(s,r)))}jr(e){const r=new Ne(new vt([])),s=new tn(r,e),o=new tn(r,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ne(new vt([])),s=new tn(r,e),o=new tn(r,e+1);let u=Ge();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new tn(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ne.comparator(e.key,r.key)||He(e.Yr,r.Yr)}static Kr(e,r){return He(e.Yr,r.Yr)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(tn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new L2(u,r,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new tn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,r){return oe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ei(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Kt(He);return r.forEach((o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Ne.isDocumentKey(u)||(u=u.child(""));const h=new tn(new Ne(u),0);let p=new Kt(He);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Yr)),!0)}),h),oe.resolve(this.ti(p))}ti(e){const r=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){st(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(r.mutations,(o=>{const u=new tn(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,r){const s=new tn(r,0),o=this.Zr.firstAfterOrEqual(s);return oe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.ri=e,this.docs=(function(){return new At(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return oe.resolve(s?s.document.mutableCopy():En.newInvalidDocument(r))}getEntries(e,r){let s=Ea();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Ea();const h=r.path,p=new Ne(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||Wx(Zx(_),s)<=0||(o.has(_.key)||nf(r,_))&&(u=u.insert(_.key,_.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,r,s,o){De(9500)}ii(e,r){return oe.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new xS(this)}getSize(e){return oe.resolve(this.size)}}class xS extends gS{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),oe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.persistence=e,this.si=new es((r=>mm(r)),pm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new wm,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,r){return this.si.forEach(((s,o)=>r(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),oe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new sl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,oe.resolve()}updateTargetData(e,r){return this.Pr(r),oe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=r&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return oe.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),oe.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),oe.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return oe.resolve(s)}containsKey(e,r){return oe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,r){this.ui={},this.overlays={},this.ci=new Zc(0),this.li=!1,this.li=!0,this.hi=new bS,this.referenceDelegate=e(this),this.Pi=new SS(this),this.indexManager=new uS,this.remoteDocumentCache=(function(o){return new TS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lS(r),this.Ii=new ES(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _S,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new wS(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){we("MemoryPersistence","Starting transaction:",e);const o=new AS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,r){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,r))))}}class AS extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Ri=new wm,this.Vi=null}static mi(e){return new Tm(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),oe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const o=Ne.fromPath(s);return this.gi(e,o).next((u=>{u||r.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return oe.or([()=>oe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class zc{constructor(e,r){this.persistence=e,this.pi=new es((s=>r2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pS(this,r)}static mi(e,r){return new zc(e,r)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}wr(e){let r=0;return this.pr(e,(s=>{r++})).next((()=>r))}pr(e,r){return oe.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?oe.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,r).next((p=>{p||(s++,u.removeEntry(h,Pe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=bc(e.data.value)),r}br(e,r,s){return oe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=o}static As(e,r){let s=Ge(),o=Ge();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ST()?8:t2(TT())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.ys(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,r,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new NS;return this.Ss(e,r,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,r,h,p.size)}))})).next((()=>u.result))}bs(e,r,s,o){return s.documentReadCount<this.fs?($s()<=Je.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):($s()<=Je.DEBUG&&we("QueryEngine","Query:",Qs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?($s()<=Je.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(r))):oe.resolve())}ys(e,r){if(Q0(r))return oe.resolve(null);let s=Cr(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Pc(r,null,"F"),s=Cr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ge(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.Ds(r,p);return this.Cs(r,v,h,g.readTime)?this.ys(e,Pc(r,null,"F")):this.vs(e,v,r,g)}))))})))))}ws(e,r,s,o){return Q0(r)||o.isEqual(Pe.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,s,o)?oe.resolve(null):($s()<=Je.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(r)),this.vs(e,h,r,Xx(o,Co)).next((p=>p)))}))}Ds(e,r){let s=new Kt($E(e));return r.forEach(((o,u)=>{nf(e,u)&&(s=s.add(u))})),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,r,s){return $s()<=Je.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Qs(r)),this.ps.getDocumentsMatchingQuery(e,r,ai.min(),s)}vs(e,r,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",CS=3e8;class OS{constructor(e,r,s,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new At(He),this.xs=new es((u=>mm(u)),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function IS(a,e,r,s){return new OS(a,e,r,s)}async function g_(a,e){const r=ke(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Bs(e),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=Ge();for(const v of o){h.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of u){p.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return r.localDocuments.getDocuments(s,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function DS(a,e){const r=ke(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,_){const w=v.batch,A=w.keys();let D=oe.resolve();return A.forEach((k=>{D=D.next((()=>_.getEntry(g,k))).next((j=>{const V=v.docVersions.get(k);st(V!==null,48541),j.version.compareTo(V)<0&&(w.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),_.addEntry(j)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(r,s,e,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ge();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function y_(a){const e=ke(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function VS(a,e){const r=ke(a),s=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const p=[];e.targetChanges.forEach(((_,w)=>{const A=o.get(w);if(!A)return;p.push(r.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>r.Pi.addMatchingKeys(u,_.addedDocuments,w))));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(dn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(w,D),(function(j,V,H){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=CS?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(A,D,_)&&p.push(r.Pi.updateTargetData(u,D))}));let g=Ea(),v=Ge();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(MS(u,h,e.documentUpdates).next((_=>{g=_.ks,v=_.qs}))),!s.isEqual(Pe.min())){const _=r.Pi.getLastRemoteSnapshotVersion(u).next((w=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(_)}return oe.waitFor(p).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(r.Ms=o,u)))}function MS(a,e,r){let s=Ge(),o=Ge();return r.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let h=Ea();return r.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Pe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):we(Sm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function PS(a,e){const r=ke(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function kS(a,e){const r=ke(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.Pi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):r.Pi.allocateTargetId(s).next((h=>(o=new Za(e,h,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s}))}async function Zd(a,e,r){const s=ke(a),o=s.Ms.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!fl(h))throw h;we(Sm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function sv(a,e,r){const s=ke(a);let o=Pe.min(),u=Ge();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,_){const w=ke(g),A=w.xs.get(_);return A!==void 0?oe.resolve(w.Ms.get(A)):w.Pi.getTargetData(v,_)})(s,h,Cr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,r?o:Pe.min(),r?u:Ge()))).next((p=>(LS(s,w2(e),p),{documents:p,Qs:u})))))}function LS(a,e,r){let s=a.Os.get(e)||Pe.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class lv{constructor(){this.activeTargetIds=R2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class US{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function Wd(){return gc===null?gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,r,s,o,u){const h=Wd(),p=this.zo(e,r.toUriEncodedString());we(Sd,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:v}=new URL(p),_=Kc(v);return this.Jo(e,p,g,s,_).then((w=>(we(Sd,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw el(Sd,`RPC '${e}' ${h} failed with error: `,w,"url: ",p,"request:",s),w}))}Ho(e,r,s,o,u,h){return this.Go(e,r,s,o,u)}jo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,r){const s=jS[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class FS extends BS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,u){const h=Wd();return new Promise(((p,g)=>{const v=new _E;v.setWithCredentials(!0),v.listenOnce(bE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case _c.NO_ERROR:const w=v.getResponseJson();we(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),p(w);break;case _c.TIMEOUT:we(yn,`RPC '${e}' ${h} timed out`),g(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const A=v.getStatus();if(we(yn,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D?.error;if(k&&k.status&&k.message){const j=(function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(k.status);g(new ye(j,k.message))}else g(new ye(ne.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{we(yn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);we(yn,`RPC '${e}' ${h} sending request:`,o),v.send(r,"POST",_,s,15)}))}T_(e,r,s){const o=Wd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=xE(),p=TE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const _=u.join("");we(yn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const w=h.createWebChannel(_,g);this.I_(w);let A=!1,D=!1;const k=new qS({Yo:V=>{D?we(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(A||(we(yn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),we(yn,`RPC '${e}' stream ${o} sending:`,V),w.send(V))},Zo:()=>w.close()}),j=(V,H,Y)=>{V.listen(H,(F=>{try{Y(F)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return j(w,vo.EventType.OPEN,(()=>{D||(we(yn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),j(w,vo.EventType.CLOSE,(()=>{D||(D=!0,we(yn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(w))})),j(w,vo.EventType.ERROR,(V=>{D||(D=!0,el(yn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),k.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),j(w,vo.EventType.MESSAGE,(V=>{if(!D){const H=V.data[0];st(!!H,16349);const Y=H,F=Y?.error||Y[0]?.error;if(F){we(yn,`RPC '${e}' stream ${o} received error:`,F);const ue=F.status;let ce=(function(x){const N=jt[x];if(N!==void 0)return a_(N)})(ue),fe=F.message;ce===void 0&&(ce=ne.INTERNAL,fe="Unknown error status: "+ue+" with message "+F.message),D=!0,k.a_(new ye(ce,fe)),w.close()}else we(yn,`RPC '${e}' stream ${o} received:`,H),k.u_(H)}})),j(p,wE.STAT_EVENT,(V=>{V.stat===zd.PROXY?we(yn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===zd.NOPROXY&&we(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(a){return new Q2(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class E_{constructor(e,r,s,o,u,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v_(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(va(r.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(we(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HS extends E_{constructor(e,r,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=X2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pe.min():h.readTime?Or(h.readTime):Pe.min()})(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=Xd(this.serializer),r.addTarget=(function(u,h){let p;const g=h.target;if(p=Gd(g)?{documents:J2(u,g)}:{query:eS(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=l_(u,h.resumeToken);const v=Qd(u,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Pe.min())>0){p.readTime=Uc(u,h.snapshotVersion.toTimestamp());const v=Qd(u,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=nS(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=Xd(this.serializer),r.removeTarget=e,this.q_(r)}}class GS extends E_{constructor(e,r,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=W2(e.writeResults,e.commitTime),s=Or(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=Xd(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>Z2(this.serializer,s)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class QS extends $S{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Yd(r,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())}))}Ho(e,r,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Yd(r,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YS{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(va(r),this.aa=!1):we("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class KS{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ns(this)&&(we(Xi,"Restarting streams for network reachability change."),await(async function(g){const v=ke(g);v.Ea.add(4),await Bo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await of(v)})(this))}))})),this.Ra=new YS(s,o)}}async function of(a){if(ns(a))for(const e of a.da)await e(!0)}async function Bo(a){for(const e of a.da)await e(!1)}function __(a,e){const r=ke(a);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Cm(r)?Rm(r):dl(r).O_()&&Nm(r,e))}function Am(a,e){const r=ke(a),s=dl(r);r.Ia.delete(e),s.O_()&&b_(r,e),r.Ia.size===0&&(s.O_()?s.L_():ns(r)&&r.Ra.set("Unknown"))}function Nm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}dl(a).Y_(e)}function b_(a,e){a.Va.Ue(e),dl(a).Z_(e)}function Rm(a){a.Va=new F2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),dl(a).start(),a.Ra.ua()}function Cm(a){return ns(a)&&!dl(a).x_()&&a.Ia.size>0}function ns(a){return ke(a).Ea.size===0}function w_(a){a.Va=void 0}async function XS(a){a.Ra.set("Online")}async function ZS(a){a.Ia.forEach(((e,r)=>{Nm(a,e)}))}async function WS(a,e){w_(a),Cm(a)?(a.Ra.ha(e),Rm(a)):a.Ra.set("Unknown")}async function JS(a,e,r){if(a.Ra.set("Online"),e instanceof s_&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){we(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jc(a,s)}else if(e instanceof xc?a.Va.Ze(e):e instanceof i_?a.Va.st(e):a.Va.tt(e),!r.isEqual(Pe.min()))try{const s=await y_(a.localStore);r.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(v);_&&u.Ia.set(v,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,v)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),b_(u,g);const w=new Za(_.target,g,v,_.sequenceNumber);Nm(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(a,r)}catch(s){we(Xi,"Failed to raise snapshot:",s),await jc(a,s)}}async function jc(a,e,r){if(!fl(e))throw e;a.Ea.add(1),await Bo(a),a.Ra.set("Offline"),r||(r=()=>y_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{we(Xi,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await of(a)}))}function T_(a,e){return e().catch((r=>jc(a,r,e)))}async function uf(a){const e=ke(a),r=oi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hm;for(;eA(e);)try{const o=await PS(e.localStore,s);if(o===null){e.Ta.length===0&&r.L_();break}s=o.batchId,tA(e,o)}catch(o){await jc(e,o)}x_(e)&&S_(e)}function eA(a){return ns(a)&&a.Ta.length<10}function tA(a,e){a.Ta.push(e);const r=oi(a);r.O_()&&r.X_&&r.ea(e.mutations)}function x_(a){return ns(a)&&!oi(a).x_()&&a.Ta.length>0}function S_(a){oi(a).start()}async function nA(a){oi(a).ra()}async function rA(a){const e=oi(a);for(const r of a.Ta)e.ea(r.mutations)}async function aA(a,e,r){const s=a.Ta.shift(),o=Em.from(s,e,r);await T_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await uf(a)}async function iA(a,e){e&&oi(a).X_&&await(async function(s,o){if((function(h){return j2(h)&&h!==ne.ABORTED})(o.code)){const u=s.Ta.shift();oi(s).B_(),await T_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(a,e),x_(a)&&S_(a)}async function fv(a,e){const r=ke(a);r.asyncQueue.verifyOperationInProgress(),we(Xi,"RemoteStore received new credentials");const s=ns(r);r.Ea.add(3),await Bo(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await of(r)}async function sA(a,e){const r=ke(a);e?(r.Ea.delete(2),await of(r)):e||(r.Ea.add(2),await Bo(r),r.Ra.set("Unknown"))}function dl(a){return a.ma||(a.ma=(function(r,s,o){const u=ke(r);return u.sa(),new HS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:XS.bind(null,a),t_:ZS.bind(null,a),r_:WS.bind(null,a),H_:JS.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Cm(a)?Rm(a):a.Ra.set("Unknown")):(await a.ma.stop(),w_(a))}))),a.ma}function oi(a){return a.fa||(a.fa=(function(r,s,o){const u=ke(r);return u.sa(),new GS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:nA.bind(null,a),r_:iA.bind(null,a),ta:rA.bind(null,a),na:aA.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await uf(a)):(await a.fa.stop(),a.Ta.length>0&&(we(Xi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const h=Date.now()+s,p=new Om(e,r,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(a,e){if(va("AsyncQueue",`${e}: ${a}`),fl(a))return new ye(ne.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ne.comparator(r.key,s.key):(r,s)=>Ne.comparator(r.key,s.key),this.keyedMap=Eo(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.ga=new At(Ne.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,s)=>{e.push(s)})),e}}class ll{constructor(e,r,s,o,u,h,p,g,v){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,r,s,o,u){const h=[];return r.forEach((p=>{h.push({type:0,doc:p})})),new ll(e,r,Zs.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oA{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=ke(r),u=o.queries;o.queries=dv(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function dv(){return new es((a=>GE(a)),tf)}async function A_(a,e){const r=ke(a);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lA,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const p=Im(h,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(p)}r.queries.set(o,u),u.Sa.push(e),e.va(r.onlineState),u.wa&&e.Fa(u.wa)&&Dm(r)}async function N_(a,e){const r=ke(a),s=e.query;let o=3;const u=r.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function uA(a,e){const r=ke(a);let s=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&Dm(r)}function cA(a,e,r){const s=ke(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(r);s.queries.delete(e)}function Dm(a){a.Ca.forEach((e=>{e.next()}))}var Jd,mv;(mv=Jd||(Jd={})).Ma="default",mv.Cache="cache";class R_{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.key=e}}class O_{constructor(e){this.key=e}}class fA{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=$E(e),this.tu=new Zs(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new hv,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const A=o.get(_),D=nf(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;A&&D?A.data.isEqual(D.data)?k!==j&&(s.track({type:3,doc:D}),V=!0):this.su(A,D)||(s.track({type:2,doc:D}),V=!0,(g&&this.eu(D,g)>0||v&&this.eu(D,v)<0)&&(p=!0)):!A&&D?(s.track({type:0,doc:D}),V=!0):A&&!D&&(s.track({type:1,doc:A}),V=!0,(g||v)&&(p=!0)),V&&(D?(h=h.add(D),u=j?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,w)=>(function(D,k){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:V})}};return j(D)-j(k)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(s),o=o??!1;const p=r&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new ll(this.query,e.tu,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return e.forEach((s=>{this.Xa.has(s)||r.push(new O_(s))})),this.Xa.forEach((s=>{e.has(s)||r.push(new C_(s))})),r}cu(e){this.Ya=e.Qs,this.Xa=Ge();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class hA{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class dA{constructor(e){this.key=e,this.hu=!1}}class mA{constructor(e,r,s,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new es((p=>GE(p)),tf),this.Iu=new Map,this.Eu=new Set,this.du=new At(Ne.comparator),this.Au=new Map,this.Ru=new wm,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pA(a,e,r=!0){const s=k_(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await I_(s,e,r,!0),o}async function gA(a,e){const r=k_(a);await I_(r,e,!0,!1)}async function I_(a,e,r,s){const o=await kS(a.localStore,Cr(e)),u=o.targetId,h=a.sharedClientState.addLocalQueryTarget(u,r);let p;return s&&(p=await yA(a,e,u,h==="current",o.resumeToken)),a.isPrimaryClient&&r&&__(a.remoteStore,o),p}async function yA(a,e,r,s,o){a.pu=(w,A,D)=>(async function(j,V,H,Y){let F=V.view.ru(H);F.Cs&&(F=await sv(j.localStore,V.query,!1).then((({documents:M})=>V.view.ru(M,F))));const ue=Y&&Y.targetChanges.get(V.targetId),ce=Y&&Y.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(F,j.isPrimaryClient,ue,ce);return gv(j,V.targetId,fe.au),fe.snapshot})(a,w,A,D);const u=await sv(a.localStore,e,!0),h=new fA(e,u.Qs),p=h.ru(u.documents),g=jo.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",o),v=h.applyChanges(p,a.isPrimaryClient,g);gv(a,r,v.au);const _=new hA(e,r,h);return a.Tu.set(e,_),a.Iu.has(r)?a.Iu.get(r).push(e):a.Iu.set(r,[e]),v.snapshot}async function vA(a,e,r){const s=ke(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!tf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Am(s.remoteStore,o.targetId),em(s,o.targetId)})).catch(cl)):(em(s,o.targetId),await Zd(s.localStore,o.targetId,!0))}async function EA(a,e){const r=ke(a),s=r.Tu.get(e),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Am(r.remoteStore,s.targetId))}async function _A(a,e,r){const s=NA(a);try{const o=await(function(h,p){const g=ke(h),v=_t.now(),_=p.reduce(((D,k)=>D.add(k.key)),Ge());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let k=Ea(),j=Ge();return g.Ns.getEntries(D,_).next((V=>{k=V,k.forEach(((H,Y)=>{Y.isValidDocument()||(j=j.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,k))).next((V=>{w=V;const H=[];for(const Y of p){const F=P2(Y,w.get(Y.key).overlayedDocument);F!=null&&H.push(new ts(Y.key,F,UE(F.value.mapValue),pa.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,H,p)})).next((V=>{A=V;const H=V.applyToLocalDocumentSet(w,j);return g.documentOverlayCache.saveOverlays(D,V.batchId,H)}))})).then((()=>({batchId:A.batchId,changes:YE(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new At(He)),v=v.insert(p,g),h.Vu[h.currentUser.toKey()]=v})(s,o.batchId,r),await qo(s,o.changes),await uf(s.remoteStore)}catch(o){const u=Im(o,"Failed to persist write");r.reject(u)}}async function D_(a,e){const r=ke(a);try{const s=await VS(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=r.Au.get(u);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?st(h.hu,14607):o.removedDocuments.size>0&&(st(h.hu,42227),h.hu=!1))})),await qo(r,s,e)}catch(s){await cl(s)}}function pv(a,e,r){const s=ke(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=ke(h);g.onlineState=p;let v=!1;g.queries.forEach(((_,w)=>{for(const A of w.Sa)A.va(p)&&(v=!0)})),v&&Dm(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bA(a,e,r){const s=ke(a);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new At(Ne.comparator);h=h.insert(u,En.newNoDocument(u,Pe.min()));const p=Ge().add(u),g=new sf(Pe.min(),new Map,new At(He),h,p);await D_(s,g),s.du=s.du.remove(u),s.Au.delete(e),Mm(s)}else await Zd(s.localStore,e,!1).then((()=>em(s,e,r))).catch(cl)}async function wA(a,e){const r=ke(a),s=e.batch.batchId;try{const o=await DS(r.localStore,e);M_(r,s,null),V_(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await qo(r,o)}catch(o){await cl(o)}}async function TA(a,e,r){const s=ke(a);try{const o=await(function(h,p){const g=ke(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return g.mutationQueue.lookupMutationBatch(v,p).next((w=>(st(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(v,w)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>g.localDocuments.getDocuments(v,_)))}))})(s.localStore,e);M_(s,e,r),V_(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await qo(s,o)}catch(o){await cl(o)}}function V_(a,e){(a.mu.get(e)||[]).forEach((r=>{r.resolve()})),a.mu.delete(e)}function M_(a,e,r){const s=ke(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function em(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||P_(a,s)}))}function P_(a,e){a.Eu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(Am(a.remoteStore,r),a.du=a.du.remove(e),a.Au.delete(r),Mm(a))}function gv(a,e,r){for(const s of r)s instanceof C_?(a.Ru.addReference(s.key,e),xA(a,s)):s instanceof O_?(we(Vm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||P_(a,s.key)):De(19791,{wu:s})}function xA(a,e){const r=e.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(we(Vm,"New document in limbo: "+r),a.Eu.add(s),Mm(a))}function Mm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const r=new Ne(vt.fromString(e)),s=a.fu.next();a.Au.set(s,new dA(r)),a.du=a.du.insert(r,s),__(a.remoteStore,new Za(Cr(gm(r.path)),s,"TargetPurposeLimboResolution",Zc.ce))}}async function qo(a,e,r){const s=ke(a),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,r).then((v=>{if((v||r)&&s.isPrimaryClient){const _=v?!v.fromCache:r?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(v){o.push(v);const _=xm.As(g.targetId,v);u.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,v){const _=ke(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(v,(A=>oe.forEach(A.Es,(D=>_.persistence.referenceDelegate.addReference(w,A.targetId,D))).next((()=>oe.forEach(A.ds,(D=>_.persistence.referenceDelegate.removeReference(w,A.targetId,D)))))))))}catch(w){if(!fl(w))throw w;we(Sm,"Failed to update sequence numbers: "+w)}for(const w of v){const A=w.targetId;if(!w.fromCache){const D=_.Ms.get(A),k=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(A,j)}}})(s.localStore,u))}async function SA(a,e){const r=ke(a);if(!r.currentUser.isEqual(e)){we(Vm,"User change. New user:",e.toKey());const s=await g_(r.localStore,e);r.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ye(ne.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qo(r,s.Ls)}}function AA(a,e){const r=ke(a),s=r.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const u=r.Iu.get(e);if(!u)return o;for(const h of u){const p=r.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function k_(a){const e=ke(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bA.bind(null,e),e.Pu.H_=uA.bind(null,e.eventManager),e.Pu.yu=cA.bind(null,e.eventManager),e}function NA(a){const e=ke(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TA.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return IS(this.persistence,new RS,e.initialUser,this.serializer)}Cu(e){return new p_(Tm.mi,this.serializer)}Du(e){return new US}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class RA extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){st(this.persistence.referenceDelegate instanceof zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dS(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new p_((s=>zc.mi(s,r)),this.serializer)}}class tm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SA.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oA})()}createDatastore(e){const r=lf(e.databaseInfo.databaseId),s=(function(u){return new FS(u)})(e.databaseInfo);return(function(u,h,p,g){return new QS(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(s,o,u,h,p){return new KS(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(r=>pv(this.syncEngine,r,0)),(function(){return uv.v()?new uv:new zS})())}createSyncEngine(e,r){return(function(o,u,h,p,g,v,_){const w=new mA(o,u,h,p,g,v);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ke(r);we(Xi,"RemoteStore shutting down."),s.Ea.add(5),await Bo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class CA{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{we(ui,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(we(ui,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Im(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nd(a,e){a.asyncQueue.verifyOperationInProgress(),we(ui,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await g_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function yv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await OA(a);we(ui,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener((s=>fv(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>fv(e.remoteStore,o))),a._onlineComponents=e}async function OA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){we(ui,"Using user provided OfflineComponentProvider");try{await Nd(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;el("Error using user provided cache. Falling back to memory cache: "+r),await Nd(a,new Bc)}}else we(ui,"Using default OfflineComponentProvider"),await Nd(a,new RA(void 0));return a._offlineComponents}async function U_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(we(ui,"Using user provided OnlineComponentProvider"),await yv(a,a._uninitializedComponentsProvider._online)):(we(ui,"Using default OnlineComponentProvider"),await yv(a,new tm))),a._onlineComponents}function IA(a){return U_(a).then((e=>e.syncEngine))}async function z_(a){const e=await U_(a),r=e.eventManager;return r.onListen=pA.bind(null,e.syncEngine),r.onUnlisten=vA.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=gA.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=EA.bind(null,e.syncEngine),r}function DA(a,e,r={}){const s=new ma;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const _=new L_({next:A=>{_.Nu(),h.enqueueAndForget((()=>N_(u,w)));const D=A.docs.has(p);!D&&A.fromCache?v.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&g&&g.source==="server"?v.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new R_(gm(p.path),_,{includeMetadataChanges:!0,qa:!0});return A_(u,w)})(await z_(a),a.asyncQueue,e,r,s))),s.promise}function VA(a,e,r={}){const s=new ma;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const _=new L_({next:A=>{_.Nu(),h.enqueueAndForget((()=>N_(u,w))),A.fromCache&&g.source==="server"?v.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new R_(p,_,{includeMetadataChanges:!0,qa:!0});return A_(u,w)})(await z_(a),a.asyncQueue,e,r,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="firestore.googleapis.com",Ev=!0;class _v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B_,this.ssl=Ev}else this.host=e.host,this.ssl=e.ssl??Ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fS)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zx;switch(s.type){case"firstParty":return new Fx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=vv.get(r);s&&(we("ComponentProvider","Removing Datastore"),vv.delete(r),s.terminate())})(this),Promise.resolve()}}function MA(a,e,r,s={}){a=nl(a,cf);const o=Kc(e),u=a._getSettings(),h={...u,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${r}`;o&&(iE(`https://${p}`),lE("Firestore",!0)),u.host!==B_&&u.host!==p&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Rc(g,h)&&(a._setSettings(g),s.mockUserToken)){let v,_;if(typeof s.mockUserToken=="string")v=s.mockUserToken,_=vn.MOCK_USER;else{v=sE(s.mockUserToken,a._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new vn(w)}a._authCredentials=new jx(new AE(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class Yt{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Uo(r,Yt._jsonSchema))return new Yt(e,s||null,new Ne(vt.fromString(r.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:qt("string",Yt._jsonSchemaVersion),referencePath:qt("string")};class ni extends di{constructor(e,r,s){super(e,r,gm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Ne(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function ml(a,e,...r){if(a=ri(a),NE("collection","path",e),a instanceof cf){const s=vt.fromString(e,...r);return M0(s),new ni(a,null,s)}{if(!(a instanceof Yt||a instanceof ni))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return M0(s),new ni(a.firestore,null,s)}}function q_(a,e,...r){if(a=ri(a),arguments.length===1&&(e=fm.newId()),NE("doc","path",e),a instanceof cf){const s=vt.fromString(e,...r);return V0(s),new Yt(a,null,new Ne(s))}{if(!(a instanceof Yt||a instanceof ni))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return V0(s),new Yt(a.firestore,a instanceof ni?a.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v_(this,"async_queue_retry"),this._c=()=>{const s=Ad();s&&we(bv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=Ad();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Ad();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;we(bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,va("INTERNAL UNHANDLED ERROR: ",Tv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=Om.createAndSchedule(this,e,r,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function Tv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class ff extends cf{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function PA(a,e){const r=typeof a=="object"?a:gE(),s=typeof a=="string"?a:Ic,o=hE(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rE("firestore");u&&MA(o,...u)}return o}function Pm(a){if(a._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||kA(a),a._firestoreClient}function kA(a){const e=a._freezeSettings(),r=(function(o,u,h,p){return new s2(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,j_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new CA(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(dn.fromBase64String(e))}catch(r){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Jn(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uo(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:qt("string",Jn._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function LA(){return new hf(Bd)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Uo(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:qt("string",Ir._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uo(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Dr(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:qt("string",Dr._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=/^__.*__$/;class zA{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,r,this.fieldTransforms):new zo(e,this.data,r,this.fieldTransforms)}}function H_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:a})}}class km{constructor(e,r,s,o,u,h){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(H_(this.Ac)&&UA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jA{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||lf(e)}Cc(e,r,s,o=!1){return new km({Ac:e,methodName:r,Dc:s,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(a){const e=a._freezeSettings(),r=lf(a._databaseId);return new jA(a._databaseId,!!e.ignoreUndefinedProperties,r)}function BA(a,e,r,s,o,u={}){const h=a.Cc(u.merge||u.mergeFields?2:0,e,r,o);Y_("Data must be an object, but it was:",h,s);const p=$_(s,h);let g,v;if(u.merge)g=new or(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const A=qA(e,w,r);if(!h.contains(A))throw new ye(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);HA(_,A)||_.push(A)}g=new or(_),v=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,v=h.fieldTransforms;return new zA(new Wn(p),g,v)}function G_(a,e,r,s=!1){return Um(r,a.Cc(s?4:3,e))}function Um(a,e){if(Q_(a=ri(a)))return Y_("Unsupported field value:",e,a),$_(a,e);if(a instanceof F_)return(function(s,o){if(!H_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let g=Um(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=ri(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_t.fromDate(s);return{timestampValue:Uc(o.serializer,u)}}if(s instanceof _t){const u=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,u)}}if(s instanceof Ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:l_(o.serializer,s._byteString)};if(s instanceof Yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dr)return(function(h,p){return{mapValue:{fields:{[kE]:{stringValue:LE},[Dc]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return vm(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xc(s)}`)})(a,e)}function $_(a,e){const r={};return OE(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(a,((s,o)=>{const u=Um(o,e.mc(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function Q_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof _t||a instanceof Ir||a instanceof Jn||a instanceof Yt||a instanceof F_||a instanceof Dr)}function Y_(a,e,r){if(!Q_(r)||!RE(r)){const s=Xc(r);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function qA(a,e,r){if((e=ri(e))instanceof hf)return e._internalPath;if(typeof e=="string")return K_(a,e);throw qc("Field path arguments must be of type string or ",a,!1,void 0,r)}const FA=new RegExp("[~\\*/\\[\\]]");function K_(a,e,r){if(e.search(FA)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new hf(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function qc(a,e,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ye(ne.INVALID_ARGUMENT,p+a+g)}function HA(a,e){return a.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class GA extends zm{data(){return super.data()}}function jm(a,e){return typeof e=="string"?K_(a,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class qm extends Bm{}function xn(a,e,...r){let s=[];e instanceof Bm&&s.push(e),s=s.concat(r),(function(u){const h=u.filter((g=>g instanceof Fm)).length,p=u.filter((g=>g instanceof df)).length;if(h>1||h>0&&p>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class df extends qm{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new df(e,r,s)}_apply(e){const r=this._parse(e);return X_(e._query,r),new di(e.firestore,e.converter,$d(e._query,r))}_parse(e){const r=Lm(e.firestore);return(function(u,h,p,g,v,_,w){let A;if(v.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Sv(w,_);const k=[];for(const j of w)k.push(xv(g,u,j));A={arrayValue:{values:k}}}else A=xv(g,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Sv(w,_),A=G_(p,h,w,_==="in"||_==="not-in");return Bt.create(v,_,A)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vr(a,e,r){const s=e,o=jm("where",a);return df._create(o,s,r)}class Fm extends Bm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Fm(e,r)}_parse(e){const r=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:fr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)X_(h,g),h=$d(h,g)})(e._query,r),new di(e.firestore,e.converter,$d(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hm extends qm{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Hm(e,r,s)}_apply(e){return new di(e.firestore,e.converter,Pc(e._query,this._limit,this._limitType))}}function ci(a){return Hm._create("limit",a,"F")}class Gm extends qm{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Gm(e,r,s)}_apply(e){const r=QA(e,this.type,this._docOrFields,this._inclusive);return new di(e.firestore,e.converter,(function(o,u){return new hl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,r))}}function mf(...a){return Gm._create("startAfter",a,!1)}function QA(a,e,r,s){if(r[0]=ri(r[0]),r[0]instanceof zm)return(function(u,h,p,g,v){if(!g)throw new ye(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const _=[];for(const w of Xs(u))if(w.field.isKeyField())_.push(Vc(h,g.key));else{const A=g.data.field(w.field);if(Jc(A))throw new ye(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const D=w.field.canonicalString();throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(A)}return new il(_,v)})(a._query,a.firestore._databaseId,e,r[0]._document,s);{const o=Lm(a.firestore);return(function(h,p,g,v,_,w){const A=h.explicitOrderBy;if(_.length>A.length)throw new ye(ne.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let k=0;k<_.length;k++){const j=_[k];if(A[k].field.isKeyField()){if(typeof j!="string")throw new ye(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof j}`);if(!ym(h)&&j.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${j}' contains a slash.`);const V=h.path.child(vt.fromString(j));if(!Ne.isDocumentKey(V))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const H=new Ne(V);D.push(Vc(p,H))}else{const V=G_(g,v,j);D.push(V)}}return new il(D,w)})(a._query,a.firestore._databaseId,o,e,r,s)}}function xv(a,e,r){if(typeof(r=ri(r))=="string"){if(r==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ym(e)&&r.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(vt.fromString(r));if(!Ne.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vc(a,new Ne(s))}if(r instanceof Yt)return Vc(a,r._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(r)}.`)}function Sv(a,e){if(!Array.isArray(a)||a.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X_(a,e){const r=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class YA{convertValue(e,r="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ji(e,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(e){const r=e.fields?.[Dc].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Dr(r)}convertGeoPoint(e){return new Ir(Mt(e.latitude),Mt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const r=ii(e);return new _t(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=vt.fromString(e);st(d_(s),9688,{name:e});const o=new Io(s.get(1),s.get(3)),u=new Ne(s.popFirst(5));return o.isEqual(r)||va(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(a,e,r){let s;return s=a?a.toFirestore(e):e,s}class bo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yi extends zm{constructor(e,r,s,o,u,h){super(e,r,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(jm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Yi._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Yi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yi._jsonSchema={type:qt("string",Yi._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Sc extends Yi{data(e={}){return super.data(e)}}class Ws{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new Sc(this._firestore,this._userDataWriter,s.key,s,new bo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,_=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:XA(p.type),doc:g,oldIndex:v,newIndex:_}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(a){a=nl(a,Yt);const e=nl(a.firestore,ff);return DA(Pm(e),a._key).then((r=>eN(e,a,r)))}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:qt("string",Ws._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Z_ extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,r)}}function Fo(a){a=nl(a,di);const e=nl(a.firestore,ff),r=Pm(e),s=new Z_(e);return $A(a._query),VA(r,a._query).then((o=>new Ws(e,s,a,o)))}function WA(a,e){const r=nl(a.firestore,ff),s=q_(a),o=KA(a.converter,e);return JA(r,[BA(Lm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,pa.exists(!1))]).then((()=>s))}function JA(a,e){return(function(s,o){const u=new ma;return s.asyncQueue.enqueueAndForget((async()=>_A(await IA(s),o,u))),u.promise})(Pm(a),e)}function eN(a,e,r){const s=r.docs.get(e._key),o=new Z_(a);return new Yi(a,o,e._key,s,new bo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(o){ul=o})(mE),No(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new ff(new Bx(s.getProvider("auth-internal")),new Hx(h,s.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(v.options.projectId,_)})(h,o),h);return u={useFetchStreams:r,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ei(O0,I0,e),ei(O0,I0,"esm2020")})();var tN="firebase",nN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(tN,nN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firebasestorage.googleapis.com",rN="storageBucket",aN=120*1e3,iN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Wi{constructor(e,r,s=0){super(Rd(e),`Firebase Storage: ${r} (${Rd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pr;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pr||(Pr={}));function Rd(a){return"storage/"+a}function sN(){const a="An unknown error occurred, please check the error payload for server response.";return new zr(Pr.UNKNOWN,a)}function lN(){return new zr(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oN(){return new zr(Pr.CANCELED,"User canceled the upload/download.")}function uN(a){return new zr(Pr.INVALID_URL,"Invalid URL '"+a+"'.")}function cN(a){return new zr(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Av(a){return new zr(Pr.INVALID_ARGUMENT,a)}function J_(){return new zr(Pr.APP_DELETED,"The Firebase app was deleted.")}function fN(a){return new zr(Pr.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=ur.makeFromUrl(e,r)}catch{return new ur(e,"")}if(s.path==="")return s;throw cN(e)}static makeFromUrl(e,r){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function v(ue){ue.path_=decodeURIComponent(ue.path)}const _="v[A-Za-z0-9_]+",w=r.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${_}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},j=r===W_?"(?:storage.googleapis.com|storage.cloud.google.com)":r,V="([^?#]*)",H=new RegExp(`^https?://${j}/${o}/${V}`,"i"),F=[{regex:p,indices:g,postModify:u},{regex:D,indices:k,postModify:v},{regex:H,indices:{bucket:1,path:2},postModify:v}];for(let ue=0;ue<F.length;ue++){const ce=F[ue],fe=ce.regex.exec(e);if(fe){const M=fe[ce.indices.bucket];let x=fe[ce.indices.path];x||(x=""),s=new ur(M,x),ce.postModify(s);break}}if(s==null)throw uN(e);return s}}class hN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(a,e,r){let s=1,o=null,u=null,h=!1,p=0;function g(){return p===2}let v=!1;function _(...V){v||(v=!0,e.apply(null,V))}function w(V){o=setTimeout(()=>{o=null,a(D,g())},V)}function A(){u&&clearTimeout(u)}function D(V,...H){if(v){A();return}if(V){A(),_.call(null,V,...H);return}if(g()||h){A(),_.call(null,V,...H);return}s<64&&(s*=2);let F;p===1?(p=2,F=0):F=(s+Math.random())*1e3,w(F)}let k=!1;function j(V){k||(k=!0,A(),!v&&(o!==null?(V||(p=2),clearTimeout(o),w(0)):V||(p=1)))}return w(0),u=setTimeout(()=>{h=!0,j(!0)},r),j}function mN(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(a){return a!==void 0}function Nv(a,e,r,s){if(s<e)throw Av(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>r)throw Av(`Invalid value for '${a}'. Expected ${r} or less.`)}function gN(a){const e=encodeURIComponent;let r="?";for(const s in a)if(a.hasOwnProperty(s)){const o=e(s)+"="+e(a[s]);r=r+o+"&"}return r=r.slice(0,-1),r}var Fc;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Fc||(Fc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(a,e){const r=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return r||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,r,s,o,u,h,p,g,v,_,w,A=!0,D=!1){this.url_=e,this.method_=r,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=_,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,j)=>{this.resolve_=k,this.reject_=j,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===Fc.NO_ERROR,g=u.getStatus();if(!p||yN(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Fc.ABORT;s(!1,new yc(!1,null,_));return}const v=this.successCodes_.indexOf(g)!==-1;s(!0,new yc(v,u))})},r=(s,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());pN(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=sN();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?J_():oN();h(g)}else{const g=lN();h(g)}};this.canceled_?r(!1,new yc(!1,null,!0)):this.backoffId_=dN(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yc{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function EN(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function _N(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bN(a,e){e&&(a["X-Firebase-GMPID"]=e)}function wN(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function TN(a,e,r,s,o,u,h=!0,p=!1){const g=gN(a.urlParams),v=a.url+g,_=Object.assign({},a.headers);return bN(_,e),EN(_,r),_N(_,u),wN(_,s),new vN(v,a.method,_,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function SN(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,r){this._service=e,r instanceof ur?this._location=r:this._location=ur.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Hc(e,r)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SN(this._location.path)}get storage(){return this._service}get parent(){const e=xN(this._location.path);if(e===null)return null;const r=new ur(this._location.bucket,e);return new Hc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fN(e)}}function Rv(a,e){const r=e?.[rN];return r==null?null:ur.makeFromBucketSpec(r,a)}function AN(a,e,r,s={}){a.host=`${e}:${r}`;const o=Kc(e);o&&(iE(`https://${a.host}/b`),lE("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:sE(u,a.app.options.projectId))}class NN{constructor(e,r,s,o,u,h=!1){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=W_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aN,this._maxUploadRetryTime=iN,this._requests=new Set,o!=null?this._bucket=ur.makeFromBucketSpec(o,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=Rv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(dE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,r,s,o,u=!0){if(this._deleted)return new hN(J_());{const h=TN(e,this._appId,s,o,r,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,r){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,o).getPromise()}}const Cv="@firebase/storage",Ov="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="storage";function RN(a=gE(),e){a=ri(a);const s=hE(a,eb).getImmediate({identifier:e}),o=rE("storage");return o&&CN(s,...o),s}function CN(a,e,r,s={}){AN(a,e,r,s)}function ON(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new NN(r,s,o,e,mE)}function IN(){No(new Js(eb,ON,"PUBLIC").setMultipleInstances(!0)),ei(Cv,Ov,""),ei(Cv,Ov,"esm2020")}IN();const DN={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},tb=pE(DN),rs=PA(tb);RN(tb);var Cd={exports:{}},Iv;function VN(){return Iv||(Iv=1,(()=>{var a={296:(o,u,h)=>{var p=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,_=/^0o[0-7]+$/i,w=parseInt,A=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,D=typeof self=="object"&&self&&self.Object===Object&&self,k=A||D||Function("return this")(),j=Object.prototype.toString,V=Math.max,H=Math.min,Y=function(){return k.Date.now()};function F(ce){var fe=typeof ce;return!!ce&&(fe=="object"||fe=="function")}function ue(ce){if(typeof ce=="number")return ce;if((function(x){return typeof x=="symbol"||(function(N){return!!N&&typeof N=="object"})(x)&&j.call(x)=="[object Symbol]"})(ce))return NaN;if(F(ce)){var fe=typeof ce.valueOf=="function"?ce.valueOf():ce;ce=F(fe)?fe+"":fe}if(typeof ce!="string")return ce===0?ce:+ce;ce=ce.replace(p,"");var M=v.test(ce);return M||_.test(ce)?w(ce.slice(2),M?2:8):g.test(ce)?NaN:+ce}o.exports=function(ce,fe,M){var x,N,O,P,z,R,$e=0,Qe=!1,Z=!1,me=!0;if(typeof ce!="function")throw new TypeError("Expected a function");function Te(le){var _e=x,Ce=N;return x=N=void 0,$e=le,P=ce.apply(Ce,_e)}function Le(le){var _e=le-R;return R===void 0||_e>=fe||_e<0||Z&&le-$e>=O}function I(){var le=Y();if(Le(le))return re(le);z=setTimeout(I,(function(_e){var Ce=fe-(_e-R);return Z?H(Ce,O-(_e-$e)):Ce})(le))}function re(le){return z=void 0,me&&x?Te(le):(x=N=void 0,P)}function pe(){var le=Y(),_e=Le(le);if(x=arguments,N=this,R=le,_e){if(z===void 0)return(function(Ce){return $e=Ce,z=setTimeout(I,fe),Qe?Te(Ce):P})(R);if(Z)return z=setTimeout(I,fe),Te(R)}return z===void 0&&(z=setTimeout(I,fe)),P}return fe=ue(fe)||0,F(M)&&(Qe=!!M.leading,O=(Z="maxWait"in M)?V(ue(M.maxWait)||0,fe):O,me="trailing"in M?!!M.trailing:me),pe.cancel=function(){z!==void 0&&clearTimeout(z),$e=0,x=R=N=z=void 0},pe.flush=function(){return z===void 0?P:re(Y())},pe}},96:(o,u,h)=>{var p="Expected a function",g=NaN,v="[object Symbol]",_=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,D=/^0o[0-7]+$/i,k=parseInt,j=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,V=typeof self=="object"&&self&&self.Object===Object&&self,H=j||V||Function("return this")(),Y=Object.prototype.toString,F=Math.max,ue=Math.min,ce=function(){return H.Date.now()};function fe(x){var N=typeof x;return!!x&&(N=="object"||N=="function")}function M(x){if(typeof x=="number")return x;if((function(P){return typeof P=="symbol"||(function(z){return!!z&&typeof z=="object"})(P)&&Y.call(P)==v})(x))return g;if(fe(x)){var N=typeof x.valueOf=="function"?x.valueOf():x;x=fe(N)?N+"":N}if(typeof x!="string")return x===0?x:+x;x=x.replace(_,"");var O=A.test(x);return O||D.test(x)?k(x.slice(2),O?2:8):w.test(x)?g:+x}o.exports=function(x,N,O){var P=!0,z=!0;if(typeof x!="function")throw new TypeError(p);return fe(O)&&(P="leading"in O?!!O.leading:P,z="trailing"in O?!!O.trailing:z),(function(R,$e,Qe){var Z,me,Te,Le,I,re,pe=0,le=!1,_e=!1,Ce=!0;if(typeof R!="function")throw new TypeError(p);function Se(pt){var Pt=Z,Nt=me;return Z=me=void 0,pe=pt,Le=R.apply(Nt,Pt)}function Tt(pt){var Pt=pt-re;return re===void 0||Pt>=$e||Pt<0||_e&&pt-pe>=Te}function Ye(){var pt=ce();if(Tt(pt))return mn(pt);I=setTimeout(Ye,(function(Pt){var Nt=$e-(Pt-re);return _e?ue(Nt,Te-(Pt-pe)):Nt})(pt))}function mn(pt){return I=void 0,Ce&&Z?Se(pt):(Z=me=void 0,Le)}function rn(){var pt=ce(),Pt=Tt(pt);if(Z=arguments,me=this,re=pt,Pt){if(I===void 0)return(function(Nt){return pe=Nt,I=setTimeout(Ye,$e),le?Se(Nt):Le})(re);if(_e)return I=setTimeout(Ye,$e),Se(re)}return I===void 0&&(I=setTimeout(Ye,$e)),Le}return $e=M($e)||0,fe(Qe)&&(le=!!Qe.leading,Te=(_e="maxWait"in Qe)?F(M(Qe.maxWait)||0,$e):Te,Ce="trailing"in Qe?!!Qe.trailing:Ce),rn.cancel=function(){I!==void 0&&clearTimeout(I),pe=0,Z=re=me=I=void 0},rn.flush=function(){return I===void 0?Le:mn(ce())},rn})(x,N,{leading:P,maxWait:N,trailing:z})}},703:(o,u,h)=>{var p=h(414);function g(){}function v(){}v.resetWarningCache=g,o.exports=function(){function _(D,k,j,V,H,Y){if(Y!==p){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function w(){return _}_.isRequired=_;var A={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:w,element:_,elementType:_,instanceOf:w,node:_,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:v,resetWarningCache:g};return A.PropTypes=A,A}},697:(o,u,h)=>{o.exports=h(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function r(o){var u=e[o];if(u!==void 0)return u.exports;var h=e[o]={exports:{}};return a[o](h,h.exports,r),h.exports}r.n=o=>{var u=o&&o.__esModule?()=>o.default:()=>o;return r.d(u,{a:u}),u},r.d=(o,u)=>{for(var h in u)r.o(u,h)&&!r.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:u[h]})},r.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),r.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{LazyLoadComponent:()=>Pt,LazyLoadImage:()=>gi,trackWindowScroll:()=>Le});const o=$c();var u=r.n(o),h=r(697);function p(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function g(de){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},g(de)}function v(de,q){var te=Object.keys(de);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(de);q&&(he=he.filter((function(Re){return Object.getOwnPropertyDescriptor(de,Re).enumerable}))),te.push.apply(te,he)}return te}function _(de,q,te){return(q=A(q))in de?Object.defineProperty(de,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):de[q]=te,de}function w(de,q){for(var te=0;te<q.length;te++){var he=q[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(de,A(he.key),he)}}function A(de){var q=(function(te,he){if(g(te)!=="object"||te===null)return te;var Re=te[Symbol.toPrimitive];if(Re!==void 0){var Ue=Re.call(te,"string");if(g(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)})(de);return g(q)==="symbol"?q:String(q)}function D(de,q){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,he){return te.__proto__=he,te},D(de,q)}function k(de){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},k(de)}var j=function(de){de.forEach((function(q){q.isIntersecting&&q.target.onVisible()}))},V={},H=(function(de){(function(J,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(ae&&ae.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),ae&&D(J,ae)})(et,de);var q,te,he,Re,Ue=(he=et,Re=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var J,ae=k(he);if(Re){var be=k(this).constructor;J=Reflect.construct(ae,arguments,be)}else J=ae.apply(this,arguments);return(function(ve,Ee){if(Ee&&(g(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,J)});function et(J){var ae;if((function(ve,Ee){if(!(ve instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),(ae=Ue.call(this,J)).supportsObserver=!J.scrollPosition&&J.useIntersectionObserver&&p(),ae.supportsObserver){var be=J.threshold;ae.observer=(function(ve){return V[ve]=V[ve]||new IntersectionObserver(j,{rootMargin:ve+"px"}),V[ve]})(be)}return ae}return q=et,te=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ae=this.placeholder.getBoundingClientRect(),be=this.placeholder.style,ve=parseInt(be.getPropertyValue("margin-left"),10)||0,Ee=parseInt(be.getPropertyValue("margin-top"),10)||0;return{bottom:J.y+ae.bottom+Ee,left:J.x+ae.left+ve,right:J.x+ae.right+ve,top:J.y+ae.top+Ee}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var J=this.props,ae=J.scrollPosition,be=J.threshold,ve=this.getPlaceholderBoundingBox(ae),Ee=ae.y+window.innerHeight,Me=ae.x,lt=ae.x+window.innerWidth,ot=ae.y;return ot-be<=ve.bottom&&Ee+be>=ve.top&&Me-be<=ve.right&&lt+be>=ve.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var J=this,ae=this.props,be=ae.className,ve=ae.height,Ee=ae.placeholder,Me=ae.style,lt=ae.width;if(Ee&&typeof Ee.type!="function")return u().cloneElement(Ee,{ref:function(nt){return J.placeholder=nt}});var ot=(function(nt){for(var gt=1;gt<arguments.length;gt++){var at=arguments[gt]!=null?arguments[gt]:{};gt%2?v(Object(at),!0).forEach((function(Rt){_(nt,Rt,at[Rt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):v(Object(at)).forEach((function(Rt){Object.defineProperty(nt,Rt,Object.getOwnPropertyDescriptor(at,Rt))}))}return nt})({display:"inline-block"},Me);return lt!==void 0&&(ot.width=lt),ve!==void 0&&(ot.height=ve),u().createElement("span",{className:be,ref:function(nt){return J.placeholder=nt},style:ot},Ee)}}],te&&w(q.prototype,te),Object.defineProperty(q,"prototype",{writable:!1}),et})(u().Component);H.propTypes={onVisible:h.PropTypes.func.isRequired,className:h.PropTypes.string,height:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),placeholder:h.PropTypes.element,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,scrollPosition:h.PropTypes.shape({x:h.PropTypes.number.isRequired,y:h.PropTypes.number.isRequired}),width:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string])},H.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const Y=H;var F=r(296),ue=r.n(F),ce=r(96),fe=r.n(ce),M=function(de){var q=getComputedStyle(de,null);return q.getPropertyValue("overflow")+q.getPropertyValue("overflow-y")+q.getPropertyValue("overflow-x")};const x=function(de){if(!(de instanceof HTMLElement))return window;for(var q=de;q&&q instanceof HTMLElement;){if(/(scroll|auto)/.test(M(q)))return q;q=q.parentNode}return window};function N(de){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},N(de)}var O=["delayMethod","delayTime"];function P(){return P=Object.assign?Object.assign.bind():function(de){for(var q=1;q<arguments.length;q++){var te=arguments[q];for(var he in te)Object.prototype.hasOwnProperty.call(te,he)&&(de[he]=te[he])}return de},P.apply(this,arguments)}function z(de,q){for(var te=0;te<q.length;te++){var he=q[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(de,(Re=(function(Ue,et){if(N(Ue)!=="object"||Ue===null)return Ue;var J=Ue[Symbol.toPrimitive];if(J!==void 0){var ae=J.call(Ue,"string");if(N(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(he.key),N(Re)==="symbol"?Re:String(Re)),he)}var Re}function R(de,q){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,he){return te.__proto__=he,te},R(de,q)}function $e(de,q){if(q&&(N(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qe(de)}function Qe(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function Z(de){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},Z(de)}var me=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},Te=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Le=function(de){var q=(function(te){(function(be,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(ve&&ve.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),ve&&R(be,ve)})(ae,te);var he,Re,Ue,et,J=(Ue=ae,et=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var be,ve=Z(Ue);if(et){var Ee=Z(this).constructor;be=Reflect.construct(ve,arguments,Ee)}else be=ve.apply(this,arguments);return $e(this,be)});function ae(be){var ve;if((function(Me,lt){if(!(Me instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,ae),(ve=J.call(this,be)).useIntersectionObserver=be.useIntersectionObserver&&p(),ve.useIntersectionObserver)return $e(ve);var Ee=ve.onChangeScroll.bind(Qe(ve));return be.delayMethod==="debounce"?ve.delayedScroll=ue()(Ee,be.delayTime):be.delayMethod==="throttle"&&(ve.delayedScroll=fe()(Ee,be.delayTime)),ve.state={scrollPosition:{x:me(),y:Te()}},ve.baseComponentRef=u().createRef(),ve}return he=ae,(Re=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||x(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=x(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:me(),y:Te()}})}},{key:"render",value:function(){var be=this.props,ve=(be.delayMethod,be.delayTime,(function(Me,lt){if(Me==null)return{};var ot,nt,gt=(function(Rt,an){if(Rt==null)return{};var On,In,qr={},nr=Object.keys(Rt);for(In=0;In<nr.length;In++)On=nr[In],an.indexOf(On)>=0||(qr[On]=Rt[On]);return qr})(Me,lt);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Me);for(nt=0;nt<at.length;nt++)ot=at[nt],lt.indexOf(ot)>=0||Object.prototype.propertyIsEnumerable.call(Me,ot)&&(gt[ot]=Me[ot])}return gt})(be,O)),Ee=this.useIntersectionObserver?null:this.state.scrollPosition;return u().createElement(de,P({forwardRef:this.baseComponentRef,scrollPosition:Ee},ve))}}])&&z(he.prototype,Re),Object.defineProperty(he,"prototype",{writable:!1}),ae})(u().Component);return q.propTypes={delayMethod:h.PropTypes.oneOf(["debounce","throttle"]),delayTime:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool},q.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},q};function I(de){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},I(de)}function re(de,q){for(var te=0;te<q.length;te++){var he=q[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(de,(Re=(function(Ue,et){if(I(Ue)!=="object"||Ue===null)return Ue;var J=Ue[Symbol.toPrimitive];if(J!==void 0){var ae=J.call(Ue,"string");if(I(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(he.key),I(Re)==="symbol"?Re:String(Re)),he)}var Re}function pe(de,q){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,he){return te.__proto__=he,te},pe(de,q)}function le(de){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},le(de)}var _e=(function(de){(function(J,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(ae&&ae.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),ae&&pe(J,ae)})(et,de);var q,te,he,Re,Ue=(he=et,Re=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var J,ae=le(he);if(Re){var be=le(this).constructor;J=Reflect.construct(ae,arguments,be)}else J=ae.apply(this,arguments);return(function(ve,Ee){if(Ee&&(I(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,J)});function et(J){return(function(ae,be){if(!(ae instanceof be))throw new TypeError("Cannot call a class as a function")})(this,et),Ue.call(this,J)}return q=et,(te=[{key:"render",value:function(){return u().createElement(Y,this.props)}}])&&re(q.prototype,te),Object.defineProperty(q,"prototype",{writable:!1}),et})(u().Component);const Ce=Le(_e);function Se(de){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},Se(de)}function Tt(de,q){for(var te=0;te<q.length;te++){var he=q[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(de,(Re=(function(Ue,et){if(Se(Ue)!=="object"||Ue===null)return Ue;var J=Ue[Symbol.toPrimitive];if(J!==void 0){var ae=J.call(Ue,"string");if(Se(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(he.key),Se(Re)==="symbol"?Re:String(Re)),he)}var Re}function Ye(de,q){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,he){return te.__proto__=he,te},Ye(de,q)}function mn(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function rn(de){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},rn(de)}var pt=(function(de){(function(J,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(ae&&ae.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),ae&&Ye(J,ae)})(et,de);var q,te,he,Re,Ue=(he=et,Re=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var J,ae=rn(he);if(Re){var be=rn(this).constructor;J=Reflect.construct(ae,arguments,be)}else J=ae.apply(this,arguments);return(function(ve,Ee){if(Ee&&(Se(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mn(ve)})(this,J)});function et(J){var ae;(function(lt,ot){if(!(lt instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,et),ae=Ue.call(this,J);var be=J.afterLoad,ve=J.beforeLoad,Ee=J.scrollPosition,Me=J.visibleByDefault;return ae.state={visible:Me},Me&&(ve(),be()),ae.onVisible=ae.onVisible.bind(mn(ae)),ae.isScrollTracked=!!(Ee&&Number.isFinite(Ee.x)&&Ee.x>=0&&Number.isFinite(Ee.y)&&Ee.y>=0),ae}return q=et,(te=[{key:"componentDidUpdate",value:function(J,ae){ae.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var J=this.props,ae=J.className,be=J.delayMethod,ve=J.delayTime,Ee=J.height,Me=J.placeholder,lt=J.scrollPosition,ot=J.style,nt=J.threshold,gt=J.useIntersectionObserver,at=J.width;return this.isScrollTracked||gt&&p()?u().createElement(Y,{className:ae,height:Ee,onVisible:this.onVisible,placeholder:Me,scrollPosition:lt,style:ot,threshold:nt,useIntersectionObserver:gt,width:at}):u().createElement(Ce,{className:ae,delayMethod:be,delayTime:ve,height:Ee,onVisible:this.onVisible,placeholder:Me,style:ot,threshold:nt,width:at})}}])&&Tt(q.prototype,te),Object.defineProperty(q,"prototype",{writable:!1}),et})(u().Component);pt.propTypes={afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool},pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Pt=pt;function Nt(de){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},Nt(de)}var jr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ba(de,q){var te=Object.keys(de);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(de);q&&(he=he.filter((function(Re){return Object.getOwnPropertyDescriptor(de,Re).enumerable}))),te.push.apply(te,he)}return te}function mi(de){for(var q=1;q<arguments.length;q++){var te=arguments[q]!=null?arguments[q]:{};q%2?ba(Object(te),!0).forEach((function(he){Sn(de,he,te[he])})):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(te)):ba(Object(te)).forEach((function(he){Object.defineProperty(de,he,Object.getOwnPropertyDescriptor(te,he))}))}return de}function Sn(de,q,te){return(q=Br(q))in de?Object.defineProperty(de,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):de[q]=te,de}function wa(){return wa=Object.assign?Object.assign.bind():function(de){for(var q=1;q<arguments.length;q++){var te=arguments[q];for(var he in te)Object.prototype.hasOwnProperty.call(te,he)&&(de[he]=te[he])}return de},wa.apply(this,arguments)}function pi(de,q){for(var te=0;te<q.length;te++){var he=q[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(de,Br(he.key),he)}}function Br(de){var q=(function(te,he){if(Nt(te)!=="object"||te===null)return te;var Re=te[Symbol.toPrimitive];if(Re!==void 0){var Ue=Re.call(te,"string");if(Nt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)})(de);return Nt(q)==="symbol"?q:String(q)}function tr(de,q){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,he){return te.__proto__=he,te},tr(de,q)}function Ta(de){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},Ta(de)}var hr=(function(de){(function(J,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(ae&&ae.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),ae&&tr(J,ae)})(et,de);var q,te,he,Re,Ue=(he=et,Re=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var J,ae=Ta(he);if(Re){var be=Ta(this).constructor;J=Reflect.construct(ae,arguments,be)}else J=ae.apply(this,arguments);return(function(ve,Ee){if(Ee&&(Nt(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,J)});function et(J){var ae;return(function(be,ve){if(!(be instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,et),(ae=Ue.call(this,J)).state={loaded:!1},ae}return q=et,(te=[{key:"onImageLoad",value:function(){var J=this;return this.state.loaded?null:function(ae){J.props.onLoad(ae),J.props.afterLoad(),J.setState({loaded:!0})}}},{key:"getImg",value:function(){var J=this.props,ae=(J.afterLoad,J.beforeLoad,J.delayMethod,J.delayTime,J.effect,J.placeholder,J.placeholderSrc,J.scrollPosition,J.threshold,J.useIntersectionObserver,J.visibleByDefault,J.wrapperClassName,J.wrapperProps,(function(be,ve){if(be==null)return{};var Ee,Me,lt=(function(nt,gt){if(nt==null)return{};var at,Rt,an={},On=Object.keys(nt);for(Rt=0;Rt<On.length;Rt++)at=On[Rt],gt.indexOf(at)>=0||(an[at]=nt[at]);return an})(be,ve);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(be);for(Me=0;Me<ot.length;Me++)Ee=ot[Me],ve.indexOf(Ee)>=0||Object.prototype.propertyIsEnumerable.call(be,Ee)&&(lt[Ee]=be[Ee])}return lt})(J,jr));return u().createElement("img",wa({},ae,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var J=this.props,ae=J.beforeLoad,be=J.className,ve=J.delayMethod,Ee=J.delayTime,Me=J.height,lt=J.placeholder,ot=J.scrollPosition,nt=J.style,gt=J.threshold,at=J.useIntersectionObserver,Rt=J.visibleByDefault,an=J.width;return u().createElement(Pt,{beforeLoad:ae,className:be,delayMethod:ve,delayTime:Ee,height:Me,placeholder:lt,scrollPosition:ot,style:nt,threshold:gt,useIntersectionObserver:at,visibleByDefault:Rt,width:an},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(J){var ae=this.props,be=ae.effect,ve=ae.height,Ee=ae.placeholderSrc,Me=ae.width,lt=ae.wrapperClassName,ot=ae.wrapperProps,nt=this.state.loaded,gt=nt?" lazy-load-image-loaded":"",at=nt||!Ee?{}:{backgroundImage:"url(".concat(Ee,")"),backgroundSize:"100% 100%"};return u().createElement("span",wa({className:lt+" lazy-load-image-background "+be+gt,style:mi(mi({},at),{},{color:"transparent",display:"inline-block",height:ve,width:Me})},ot),J)}},{key:"render",value:function(){var J=this.props,ae=J.effect,be=J.placeholderSrc,ve=J.visibleByDefault,Ee=J.wrapperClassName,Me=J.wrapperProps,lt=this.getLazyLoadImage();return(ae||be)&&!ve||Ee||Me?this.getWrappedLazyLoadImage(lt):lt}}])&&pi(q.prototype,te),Object.defineProperty(q,"prototype",{writable:!1}),et})(u().Component);hr.propTypes={onLoad:h.PropTypes.func,afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,delayMethod:h.PropTypes.string,delayTime:h.PropTypes.number,effect:h.PropTypes.string,placeholderSrc:h.PropTypes.string,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool,wrapperClassName:h.PropTypes.string,wrapperProps:h.PropTypes.object},hr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const gi=hr})(),Cd.exports=s})()),Cd.exports}var nb=VN();const MN="/Ecommerce/assets/women-Dfw609QD.jpg",PN="/Ecommerce/assets/man-BNem_KT8.jpg",kN="/Ecommerce/assets/kid-aD3lXmzM.jpg",LN=U.lazy(()=>_a(()=>import("./HeroSlider-CSRC8Nse.js"),__vite__mapDeps([0,1,2]))),UN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.ShoppingCart}))),$m=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.WifiOff}))),zN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Heart}))),jN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Search}))),BN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Expand}))),qN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.X}))),FN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Grid}))),HN=U.lazy(()=>_a(()=>import("./lucide-react-DE6y6-I3.js"),__vite__mapDeps([3,1])).then(a=>({default:a.List})));class GN extends m.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?m.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},m.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},m.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},m.createElement($m,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),m.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),m.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),m.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const $N=(a,e)=>{let r;return function(...o){const u=()=>{clearTimeout(r),a(...o)};clearTimeout(r),r=setTimeout(u,e)}},QN={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function YN(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_SEARCH_QUERY":return{...a,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"SET_VIEW_MODE":return{...a,viewMode:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const KN=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},XN=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},Od=m.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const[o,u]=U.useState(!1),[h,p]=U.useState(!1),g=parseFloat(a.price),v=parseFloat(a.newPrice),_=a.images&&a.images.length>0?a.images[0]:null;return m.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},_?m.createElement(nb.LazyLoadImage,{src:_,alt:a.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>p(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):m.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},m.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},m.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),!o&&!h&&_&&m.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},m.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),h&&m.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},m.createElement($m,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),m.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},m.createElement(zN,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${s?"fill-current":""}`})),m.createElement(Ur,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},m.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},m.createElement(BN,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),g>v&&m.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((g-v)/g*100),"% OFF")),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},a.name),m.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},g>v&&m.createElement("span",{className:"line-through text-xs text-gray-500"},"$",g.toFixed(2)),m.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",v.toFixed(2))),m.createElement("button",{onClick:()=>e(a),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},m.createElement(UN,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),ZN=()=>m.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},m.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),m.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},m.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),m.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),WN=m.memo(({searchQuery:a,setSearchQuery:e,filteredCount:r})=>{const s=U.useCallback($N(o=>e(o),300),[e]);return m.createElement("div",{className:"w-full mb-10 mx-auto px-4"},m.createElement("div",{className:"max-w-2xl mx-auto"},m.createElement("div",{className:"relative"},m.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},m.createElement(jN,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),m.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:a,onChange:o=>s(o.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),a&&m.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},m.createElement(qN,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),a.trim()!==""&&m.createElement("div",{className:"mt-2 text-center"},m.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",m.createElement("span",{className:"font-semibold text-red-700"},'"',a,'"')),m.createElement("p",{className:"text-gray-600 text-xs"},"Found ",m.createElement("span",{className:"font-bold"},r)," result",r!==1?"s":""))))}),JN=m.memo(()=>{const a=[{name:"men",img:PN},{name:"women",img:MN},{name:"kids",img:kN}];return m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},m.createElement("div",{className:"text-center mb-6"},m.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),m.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),m.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},a.map(e=>m.createElement("div",{key:e.name,className:"flex flex-col items-center group"},m.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},m.createElement(nb.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),m.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),m.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),Id=m.memo(({title:a,count:e})=>m.createElement("div",{className:"flex items-center justify-between mb-4"},m.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),m.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),eR=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const[s,o]=U.useReducer(YN,QN),{products:u,loading:h,searchQuery:p,favoriteState:g,lastVisible:v,hasMore:_,page:w,viewMode:A}=s,D=12,k=U.useRef(g);U.useEffect(()=>{k.current=g},[g]),U.useEffect(()=>{const fe=KN();o({type:"SET_FAVORITE_STATE",payload:fe})},[]);const j=U.useCallback(async(fe=1,M=p)=>{fe===1&&(o({type:"SET_LOADING",payload:!0}),o({type:"RESET_PAGINATION"}));try{let x=ml(rs,"products");M.trim()!==""&&(x=xn(x,Vr("name",">=",M),Vr("name","<=",M+""))),fe>1&&v?x=xn(x,mf(v),ci(D)):x=xn(x,ci(D));const N=await Fo(x),O=N.docs.map(P=>({id:P.id,...P.data()}));o(fe===1?{type:"SET_PRODUCTS",payload:O}:{type:"SET_PRODUCTS",payload:[...u,...O]}),o({type:"SET_LAST_VISIBLE",payload:N.docs[N.docs.length-1]}),o({type:"SET_HAS_MORE",payload:N.docs.length===D}),o({type:"SET_PAGE",payload:fe})}catch(x){console.error("Error fetching products:",x)}finally{o({type:"SET_LOADING",payload:!1})}},[p,v,u,D]);U.useEffect(()=>{j()},[]),U.useEffect(()=>{p!==s.searchQuery&&j(1,p)},[p]);const V=U.useCallback(()=>{!h&&_&&j(w+1)},[h,_,w,j]),H=U.useCallback(fe=>{const M=Array.isArray(k.current)?[...k.current]:typeof k.current=="object"&&k.current!==null?Object.values(k.current):[],x=M.includes(fe);let N;if(x?N=M.filter(O=>O!==fe):N=[...M,fe],XN(N),o({type:"SET_FAVORITE_STATE",payload:N}),e){const O=u.find(P=>P.id===fe);O&&e(O)}},[e,u]),Y=Array.isArray(g)?g:typeof g=="object"&&g!==null?Object.values(g):[],F=u.filter(fe=>fe.category==="men"),ue=u.filter(fe=>fe.category==="women"),ce=u.filter(fe=>fe.category==="kids");return h&&u.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"text-center mb-8"},m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),m.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),m.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((fe,M)=>m.createElement(ZN,{key:M}))))):u.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},m.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},m.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},m.createElement($m,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),m.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),m.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),m.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):m.createElement(GN,null,m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement(U.Suspense,{fallback:m.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},m.createElement(LN,null)),m.createElement(JN,null),m.createElement(WN,{searchQuery:p,setSearchQuery:fe=>o({type:"SET_SEARCH_QUERY",payload:fe}),filteredCount:u.length}),m.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},m.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},m.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${A==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},m.createElement(FN,{className:"w-4 h-4 sm:w-5 sm:h-5"})),m.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${A==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},m.createElement(HN,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),F.length>0&&m.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},m.createElement(Id,{title:"Men's Collection",count:F.length}),m.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},F.map(fe=>m.createElement(Od,{key:fe.id,product:fe,onAddToCart:a,onAddToFavorites:H,isFav:Y.includes(fe.id)})))),ue.length>0&&m.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},m.createElement(Id,{title:"Women's Collection",count:ue.length}),m.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ue.map(fe=>m.createElement(Od,{key:fe.id,product:fe,onAddToCart:a,onAddToFavorites:H,isFav:Y.includes(fe.id)})))),ce.length>0&&m.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},m.createElement(Id,{title:"Kids' Collection",count:ce.length}),m.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ce.map(fe=>m.createElement(Od,{key:fe.id,product:fe,onAddToCart:a,onAddToFavorites:H,isFav:Y.includes(fe.id)})))),_&&m.createElement("div",{className:"flex justify-center my-8"},m.createElement("button",{onClick:V,disabled:h,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},h?m.createElement(m.Fragment,null,m.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},Dv=m.memo(eR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Vv=a=>{const e=nR(a);return e.charAt(0).toUpperCase()+e.slice(1)},rb=(...a)=>a.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),rR=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=U.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...p},g)=>U.createElement("svg",{ref:g,...aR,width:e,height:e,stroke:a,strokeWidth:s?Number(r)*24/Number(e):r,className:rb("lucide",o),...!u&&!rR(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,_])=>U.createElement(v,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(a,e)=>{const r=U.forwardRef(({className:s,...o},u)=>U.createElement(iR,{ref:u,iconNode:e,className:rb(`lucide-${tR(Vv(a))}`,`lucide-${a}`,s),...o}));return r.displayName=Vv(a),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mv=nn("arrow-left",sR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oR=nn("circle-alert",lR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ab=nn("circle-check-big",uR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],Qm=nn("expand",cR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ib=nn("heart-off",fR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fi=nn("heart",hR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pv=nn("house",dR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pR=nn("list",mR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yR=nn("mail",gR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kv=nn("map-pin",vR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M5 12h14",key:"1ays0h"}]],_R=nn("minus",ER);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wR=nn("phone",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xR=nn("plus",TR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],er=nn("shopping-cart",SR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nm=nn("trash-2",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RR=nn("user",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sb=nn("wifi-off",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gc=nn("x",OR),IR={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function DR(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const VR=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},MR=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},PR=m.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const o=parseFloat(a.price)||0,u=parseFloat(a.newprice||a.newPrice)||o,h=a.images&&a.images.length>0?a.images[0]:null;return m.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?m.createElement("img",{src:h,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):m.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},m.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},m.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},m.createElement(fi,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${s?"fill-current":""}`})),m.createElement(Ur,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},m.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},m.createElement(Qm,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&m.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},a.name),m.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},o>u&&m.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),m.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),m.createElement("button",{onClick:()=>e(a),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},m.createElement(er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),kR=()=>m.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},m.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),m.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},m.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),m.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),LR=m.memo(({title:a,count:e})=>m.createElement("div",{className:"flex items-center justify-between mb-4"},m.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),m.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),UR=({onAddToCart:a,searchQuery:e})=>{const[r,s]=U.useReducer(DR,IR),{products:o,loading:u,favoriteState:h,lastVisible:p,hasMore:g,page:v}=r,_=12;U.useEffect(()=>{const j=VR();s({type:"SET_FAVORITE_STATE",payload:j})},[]);const w=U.useCallback(async(j=1)=>{j===1&&(s({type:"SET_LOADING",payload:!0}),s({type:"RESET_PAGINATION"}));try{let V=ml(rs,"products");V=xn(V,Vr("category","==","men")),e&&e.trim()!==""&&(V=xn(V,Vr("name",">=",e),Vr("name","<=",e+""))),j>1&&p?V=xn(V,mf(p),ci(_)):V=xn(V,ci(_));const H=await Fo(V),Y=H.docs.map(F=>({id:F.id,...F.data()}));s(j===1?{type:"SET_PRODUCTS",payload:Y}:{type:"SET_PRODUCTS",payload:[...o,...Y]}),s({type:"SET_LAST_VISIBLE",payload:H.docs[H.docs.length-1]}),s({type:"SET_HAS_MORE",payload:H.docs.length===_}),s({type:"SET_PAGE",payload:j})}catch(V){console.error("Error fetching men products:",V)}finally{s({type:"SET_LOADING",payload:!1})}},[e,p,o,_]);U.useEffect(()=>{w()},[]),U.useEffect(()=>{e&&w(1)},[e]);const A=U.useCallback(j=>{const V=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],H=V.includes(j);let Y;H?Y=V.filter(F=>F!==j):Y=[...V,j],MR(Y),s({type:"SET_FAVORITE_STATE",payload:Y})},[h]),D=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],k=U.useCallback(()=>{!u&&g&&w(v+1)},[u,g,v,w]);return u&&o.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"text-center mb-8"},m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),m.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),m.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((j,V)=>m.createElement(kR,{key:V}))))):o.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},m.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},m.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},m.createElement(sb,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),m.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),m.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),m.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"mb-8"},m.createElement(LR,{title:"Men's Collection",count:o.length}),m.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),m.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(j=>m.createElement(PR,{key:j.id,product:j,onAddToCart:a,onAddToFavorites:A,isFav:D.includes(j.id)}))),g&&m.createElement("div",{className:"flex justify-center my-8"},m.createElement("button",{onClick:k,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?m.createElement(m.Fragment,null,m.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),m.createElement("div",{className:"mt-12 text-center"},m.createElement(Ur,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},zR={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function jR(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const BR=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},qR=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},FR=m.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const o=parseFloat(a.price)||0,u=parseFloat(a.newprice||a.newPrice)||o,h=a.images&&a.images.length>0?a.images[0]:null;return m.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?m.createElement("img",{src:h,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):m.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},m.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},m.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},m.createElement(fi,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${s?"fill-current":""}`})),m.createElement(Ur,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},m.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},m.createElement(Qm,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&m.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},a.name),m.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},o>u&&m.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),m.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),m.createElement("button",{onClick:()=>e(a),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},m.createElement(er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),HR=()=>m.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},m.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),m.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},m.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),m.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),GR=m.memo(({title:a,count:e})=>m.createElement("div",{className:"flex items-center justify-between mb-4"},m.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),m.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),$R=({onAddToCart:a,searchQuery:e})=>{const[r,s]=U.useReducer(jR,zR),{products:o,loading:u,favoriteState:h,lastVisible:p,hasMore:g,page:v}=r,_=12;U.useEffect(()=>{const j=BR();s({type:"SET_FAVORITE_STATE",payload:j})},[]);const w=U.useCallback(async(j=1)=>{j===1&&(s({type:"SET_LOADING",payload:!0}),s({type:"RESET_PAGINATION"}));try{let V=ml(rs,"products");V=xn(V,Vr("category","==","women")),e&&e.trim()!==""&&(V=xn(V,Vr("name",">=",e),Vr("name","<=",e+""))),j>1&&p?V=xn(V,mf(p),ci(_)):V=xn(V,ci(_));const H=await Fo(V),Y=H.docs.map(F=>({id:F.id,...F.data()}));s(j===1?{type:"SET_PRODUCTS",payload:Y}:{type:"SET_PRODUCTS",payload:[...o,...Y]}),s({type:"SET_LAST_VISIBLE",payload:H.docs[H.docs.length-1]}),s({type:"SET_HAS_MORE",payload:H.docs.length===_}),s({type:"SET_PAGE",payload:j})}catch(V){console.error("Error fetching women products:",V)}finally{s({type:"SET_LOADING",payload:!1})}},[e,p,o,_]);U.useEffect(()=>{w()},[]),U.useEffect(()=>{e&&w(1)},[e]);const A=U.useCallback(j=>{const V=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],H=V.includes(j);let Y;H?Y=V.filter(F=>F!==j):Y=[...V,j],qR(Y),s({type:"SET_FAVORITE_STATE",payload:Y})},[h]),D=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],k=U.useCallback(()=>{!u&&g&&w(v+1)},[u,g,v,w]);return u&&o.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"text-center mb-8"},m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),m.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),m.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((j,V)=>m.createElement(HR,{key:V}))))):o.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},m.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},m.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},m.createElement(sb,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),m.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),m.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),m.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"mb-8"},m.createElement(GR,{title:"Women's Collection",count:o.length}),m.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),m.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(j=>m.createElement(FR,{key:j.id,product:j,onAddToCart:a,onAddToFavorites:A,isFav:D.includes(j.id)}))),g&&m.createElement("div",{className:"flex justify-center my-8"},m.createElement("button",{onClick:k,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?m.createElement(m.Fragment,null,m.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),m.createElement("div",{className:"mt-12 text-center"},m.createElement(Ur,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},QR={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function YR(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const KR=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},XR=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},ZR=m.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const o=parseFloat(a.price)||0,u=parseFloat(a.newPrice||a.newprice)||o,h=a.images&&a.images.length>0?a.images[0]:null;return m.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?m.createElement("img",{src:h,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):m.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},m.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},m.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},m.createElement(fi,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${s?"fill-current":""}`})),m.createElement(Ur,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},m.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},m.createElement(Qm,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&m.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},a.name),m.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},o>u&&m.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),m.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),m.createElement("button",{onClick:()=>e(a),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},m.createElement(er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),WR=()=>m.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},m.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},m.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),m.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),m.createElement("div",{className:"p-2 flex flex-col flex-grow"},m.createElement("div",{className:"flex justify-between items-start mb-1"},m.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),m.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),m.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),m.createElement("div",{className:"flex items-center justify-between mt-auto"},m.createElement("div",{className:"flex items-center space-x-1"},m.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),m.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),m.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),JR=m.memo(({title:a,count:e})=>m.createElement("div",{className:"flex items-center justify-between mb-4"},m.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),m.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),e4=({onAddToCart:a})=>{const[e,r]=U.useReducer(YR,QR),{products:s,loading:o,favoriteState:u,lastVisible:h,hasMore:p,page:g}=e,v=12;U.useEffect(()=>{const k=KR();r({type:"SET_FAVORITE_STATE",payload:k})},[]);const _=U.useCallback(async(k=1)=>{k===1&&(r({type:"SET_LOADING",payload:!0}),r({type:"RESET_PAGINATION"}));try{let j=ml(rs,"products");j=xn(j,Vr("category","==","kids")),k>1&&h?j=xn(j,mf(h),ci(v)):j=xn(j,ci(v));const V=await Fo(j),H=V.docs.map(Y=>({id:Y.id,...Y.data()}));r(k===1?{type:"SET_PRODUCTS",payload:H}:{type:"SET_PRODUCTS",payload:[...s,...H]}),r({type:"SET_LAST_VISIBLE",payload:V.docs[V.docs.length-1]}),r({type:"SET_HAS_MORE",payload:V.docs.length===v}),r({type:"SET_PAGE",payload:k})}catch(j){console.error("Error fetching kids products:",j)}finally{r({type:"SET_LOADING",payload:!1})}},[h,s,v]);U.useEffect(()=>{_()},[]);const w=U.useCallback(k=>{const j=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],V=j.includes(k);let H;V?H=j.filter(Y=>Y!==k):H=[...j,k],XR(H),r({type:"SET_FAVORITE_STATE",payload:H})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],D=U.useCallback(()=>{!o&&p&&_(g+1)},[o,p,g,_]);return o&&s.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"text-center mb-8"},m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),m.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),m.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((k,j)=>m.createElement(WR,{key:j}))))):s.length===0?m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},m.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},m.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},m.createElement(ib,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),m.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),m.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),m.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"mb-8"},m.createElement(JR,{title:"Kids' Collection",count:s.length}),m.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),m.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},s.map(k=>m.createElement(ZR,{key:k.id,product:k,onAddToCart:a,onAddToFavorites:w,isFav:A.includes(k.id)}))),p&&m.createElement("div",{className:"flex justify-center my-8"},m.createElement("button",{onClick:D,disabled:o,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},o?m.createElement(m.Fragment,null,m.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),m.createElement("div",{className:"mt-12 text-center"},m.createElement(Ur,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},t4=({onAddToCart:a})=>{const[e,r]=U.useState([]),[s,o]=U.useState(!0),[u,h]=U.useState(null),p=()=>{try{const w=localStorage.getItem("favorites");if(!w)return[];const A=JSON.parse(w);return Array.isArray(A)?A:[]}catch(w){return console.error("Error getting favorites from localStorage:",w),[]}},g=U.useCallback(async()=>{o(!0),h(null);try{const w=p();if(w.length===0){r([]),o(!1);return}const A=xn(ml(rs,"products"),Vr(LA(),"in",w)),k=(await Fo(A)).docs.map(j=>({id:j.id,...j.data()}));r(k)}catch(w){console.error("Error fetching favorite products:",w),h("Failed to load your favorites. Please try again later.")}finally{o(!1)}},[]),v=U.useCallback(w=>{try{const D=p().filter(k=>k!==w);localStorage.setItem("favorites",JSON.stringify(D)),r(k=>k.filter(j=>j.id!==w))}catch(A){console.error("Error removing favorite:",A)}},[]),_=U.useCallback(w=>{a&&a(w)},[a]);return U.useEffect(()=>{g()},[g]),s?m.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},m.createElement("div",{className:"flex justify-center items-center h-64"},m.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):u?m.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},m.createElement("div",{className:"text-center"},m.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),m.createElement("p",{className:"text-gray-600 text-lg mb-8"},u),m.createElement("button",{onClick:g,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?m.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},m.createElement("div",{className:"text-center"},m.createElement(ib,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),m.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),m.createElement(Xa,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},m.createElement(fi,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):m.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},m.createElement("div",{className:"mb-8"},m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),m.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),m.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(w=>m.createElement("div",{key:w.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},m.createElement("div",{className:"relative overflow-hidden"},m.createElement(Ur,{to:`/product/${w.id}`,"aria-label":`View details for ${w.name}`},m.createElement("img",{src:w.images&&w.images.length>0?w.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:w.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),m.createElement("button",{onClick:()=>v(w.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${w.name} from favorites`},m.createElement(nm,{className:"w-4 h-4"})),parseFloat(w.price)>parseFloat(w.newprice||w.newPrice)&&m.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(w.newprice||w.newPrice)/parseFloat(w.price))*100),"% OFF"),m.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},m.createElement(fi,{className:"w-4 h-4 fill-current"}))),m.createElement("div",{className:"p-3 sm:p-4"},m.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},w.name),m.createElement("div",{className:"mb-3"},m.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},w.category)),m.createElement("div",{className:"flex items-center justify-between mb-4"},m.createElement("div",{className:"flex items-center space-x-2"},m.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(w.price).toFixed(2)),m.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(w.newprice||w.newPrice).toFixed(2))),m.createElement("button",{onClick:()=>_(w),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},m.createElement(er,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),m.createElement("div",{className:"mt-12 text-center"},m.createElement(Xa,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function n4({cartItemCount:a,onCartClick:e}){const[r,s]=U.useState(!1),[o,u]=U.useState(!1),h=hi(),p=["Home","Men","Women","Kids","Favorites","contact"];return U.useEffect(()=>{s(!1)},[h]),m.createElement(m.Fragment,null,m.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},m.createElement("div",{className:"flex items-center justify-between h-16"},m.createElement("div",{className:"flex items-center space-x-8"},m.createElement(Xa,{to:"/",className:"flex items-center space-x-2"},m.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center"},m.createElement("span",{className:"text-white font-bold text-lg"},"S")),m.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop")),m.createElement("nav",{className:"hidden md:flex space-x-1"},p.map(g=>m.createElement(Xa,{key:g,to:`/${g==="Home"?"":g.toLowerCase()}`,className:({isActive:v})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${v?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},g)))),m.createElement("div",{className:"flex items-center"},m.createElement("div",{className:"relative"},m.createElement("button",{onClick:()=>{e(),u(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},m.createElement(er,{className:"w-6 h-6"}),a>0&&m.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},a>99?"99+":a))),m.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>s(!r)},r?m.createElement(Gc,{className:"w-6 h-6"}):m.createElement(pR,{className:"w-6 h-6"})))))),r&&m.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>s(!1)}),m.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${r?"translate-x-0":"translate-x-full"}`},m.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},m.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),m.createElement("button",{onClick:()=>s(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},m.createElement(Gc,{className:"w-6 h-6"}))),m.createElement("div",{className:"p-4"},m.createElement("nav",{className:"flex flex-col space-y-1"},p.map(g=>{const v=g==="Home"?Pv:g==="Favorites"?fi:null;return m.createElement(Xa,{key:g,to:`/${g==="Home"?"":g.toLowerCase()}`,className:({isActive:_})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${_?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>s(!1)},v&&m.createElement(v,{className:"w-5 h-5 mr-3"}),g)})))),m.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},m.createElement(Xa,{to:"/",className:({isActive:g})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${g?"text-red-700 scale-110":"text-gray-500"}`},m.createElement(Pv,{className:"w-6 h-6"}),m.createElement("span",{className:"text-xs mt-1"},"Home")),m.createElement(Xa,{to:"/favorites",className:({isActive:g})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${g?"text-red-700 scale-110":"text-gray-500"}`},m.createElement(fi,{className:"w-6 h-6"}),m.createElement("span",{className:"text-xs mt-1"},"Favorites")),m.createElement("button",{onClick:()=>{e(),u(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${o?"text-red-700 scale-110":"text-gray-500"}`},m.createElement(er,{className:"w-6 h-6"}),m.createElement("span",{className:"text-xs mt-1"},"Cart"),a>0&&m.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},a>99?"99+":a))))}function r4({isOpen:a,onClose:e,cart:r,onIncreaseQty:s,onDecreaseQty:o,onRemoveItem:u,onClearCart:h,onCheckout:p,total:g}){const[v,_]=U.useState(null),[w,A]=U.useState(!1),D=(F,ue="success")=>{_({text:F,type:ue}),setTimeout(()=>_(null),2e3)},k=F=>{o(F)},j=F=>{s(F)},V=(F,ue)=>{u(F),D(`${ue} removed from cart`)},H=()=>{h(),D("Cart cleared")},Y=async()=>{A(!0);try{await p(),D("Checkout successful!")}catch{D("Checkout failed. Please try again.","error")}finally{A(!1)}};return m.createElement("div",{className:`fixed inset-0 z-50 ${a?"block":"hidden"}`},m.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:e}),m.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"translate-x-full"}`},m.createElement("div",{className:"flex flex-col h-full"},m.createElement("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-red-50 to-red-100 border-b border-red-200"},m.createElement("div",{className:"flex items-center space-x-2"},m.createElement(er,{className:"w-6 h-6 text-red-700"}),m.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Shopping Cart"),r.length>0&&m.createElement("span",{className:"bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},r.reduce((F,ue)=>F+ue.qty,0))),m.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-red-200 transition-colors duration-200","aria-label":"Close cart"},m.createElement(Gc,{className:"w-5 h-5 text-red-700"}))),v&&m.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${v.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},m.createElement(ab,{className:"w-5 h-5"}),m.createElement("span",null,v.text)),m.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},r.length===0?m.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},m.createElement("div",{className:"bg-red-100 p-4 rounded-full mb-4"},m.createElement(er,{className:"w-16 h-16 text-red-500"})),m.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),m.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),m.createElement("button",{onClick:e,className:"px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-md"},"Continue Shopping")):m.createElement("div",{className:"space-y-4"},r.map(F=>m.createElement("div",{key:`${F.id}-${F.selectedSize||"default"}`,className:"flex items-center p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300"},m.createElement("div",{className:"relative"},m.createElement("img",{src:F.image||(Array.isArray(F.images)?F.images[0]:F.images),alt:F.name,className:"w-16 h-16 object-cover rounded-lg",onError:ue=>{ue.target.src="/placeholder.jpg"}}),F.selectedSize&&m.createElement("span",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},F.selectedSize)),m.createElement("div",{className:"flex-1 min-w-0 ml-4"},m.createElement("h4",{className:"text-base font-semibold text-gray-900 truncate"},F.name),F.selectedSize&&m.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",m.createElement("span",{className:"font-medium"},F.selectedSize)),m.createElement("div",{className:"flex items-center mt-1"},m.createElement("span",{className:"text-red-700 font-bold"},"$",parseFloat(F.price).toFixed(2)),F.originalPrice&&F.originalPrice>F.price&&m.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(F.originalPrice).toFixed(2)))),m.createElement("div",{className:"flex flex-col items-end space-y-2"},m.createElement("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full p-1"},m.createElement("button",{onClick:()=>k(F.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Decrease quantity"},m.createElement(_R,{className:"w-3 h-3"})),m.createElement("span",{className:"text-sm font-medium w-8 text-center"},F.qty),m.createElement("button",{onClick:()=>j(F.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Increase quantity"},m.createElement(xR,{className:"w-3 h-3"}))),m.createElement("button",{onClick:()=>V(F.id,F.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},m.createElement(nm,{className:"w-4 h-4"}))))))),r.length>0&&m.createElement("div",{className:"border-t border-gray-200 p-5 bg-gradient-to-b from-white to-gray-50"},m.createElement("div",{className:"flex justify-between items-center mb-4"},m.createElement("span",{className:"text-gray-600"},"Subtotal:"),m.createElement("span",{className:"text-lg font-semibold text-gray-900"},"$",g.toFixed(2))),m.createElement("div",{className:"flex justify-between items-center mb-4"},m.createElement("span",{className:"text-gray-600"},"Shipping:"),m.createElement("span",{className:"text-gray-900"},"Free")),m.createElement("div",{className:"flex justify-between items-center mb-6 text-lg font-bold"},m.createElement("span",null,"Total:"),m.createElement("span",{className:"text-red-700 text-xl"},"$",g.toFixed(2))),m.createElement("button",{onClick:Y,disabled:w,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${w?"bg-gray-400 cursor-not-allowed":"bg-red-700 hover:bg-red-800 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"} text-white`},w?m.createElement(m.Fragment,null,m.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):m.createElement(m.Fragment,null,m.createElement(er,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),m.createElement("button",{onClick:H,className:"w-full mt-3 py-2 px-4 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-300 text-sm font-medium flex items-center justify-center"},m.createElement(nm,{className:"w-4 h-4 mr-2"}),"Clear Cart"),m.createElement("button",{onClick:e,className:"w-full mt-2 py-2 text-red-600 hover:text-red-800 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}function a4({address:a}){if(!a)return m.createElement("p",{className:"text-gray-500 p-4 text-center"},"Enter your address or use location to preview on map.");const e=encodeURIComponent(a);return m.createElement("iframe",{title:"map-preview",src:`https://www.google.com/maps?q=${e}&t=k&z=15&output=embed`,width:"100%",height:"250",style:{border:0},loading:"lazy",allowFullScreen:!0})}function i4({isOpen:a,onClose:e,total:r,cart:s,onOrderSuccess:o}){const[u,h]=U.useState({name:"",email:"",phone:"",address:""}),[p,g]=U.useState(!1),[v,_]=U.useState(""),[w,A]=U.useState({}),D=H=>{h(Y=>({...Y,[H.target.name]:H.target.value})),w[H.target.name]&&A(Y=>({...Y,[H.target.name]:null}))},k=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(H=>{const{latitude:Y,longitude:F}=H.coords,ue=`${Y},${F}`;h(ce=>({...ce,address:ue}))},H=>{alert("Failed to get location: "+H.message)})},j=()=>{const H={};return u.name.trim()||(H.name="Name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(H.email="Please enter a valid email address"):H.email="Email is required",u.phone.trim()?/^\+?[0-9\s\-()]{10,15}$/.test(u.phone.replace(/\s/g,""))||(H.phone="Please enter a valid phone number"):H.phone="Phone number is required",u.address.trim()||(H.address="Address is required"),A(H),Object.keys(H).length===0},V=async H=>{if(H.preventDefault(),!j()){_("Please correct the errors in the form.");return}if(!s||s.length===0){_("Your cart is empty.");return}try{g(!0),await WA(ml(rs,"orders"),{client:u,items:s,total:r,status:"pending",timestamp:new Date().toISOString()}),_("Order placed successfully!"),h({name:"",email:"",phone:"",address:""}),o?.(),setTimeout(()=>e(),2e3)}catch(Y){console.error("Error placing order:",Y),_("Failed to place order. Try again.")}finally{g(!1)}};return U.useEffect(()=>{if(v){const H=setTimeout(()=>_(""),3e3);return()=>clearTimeout(H)}},[v]),a?m.createElement(m.Fragment,null,v&&m.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},m.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${v.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},v.includes("success")?m.createElement(ab,{className:"w-8 h-8 flex-shrink-0"}):m.createElement(oR,{className:"w-8 h-8 flex-shrink-0"}),m.createElement("span",{className:"text-lg font-medium"},v))),m.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},m.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),m.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},m.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},m.createElement(Gc,{className:"w-5 h-5"})),m.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},m.createElement("div",{className:"flex items-center space-x-3"},m.createElement(er,{className:"w-8 h-8"}),m.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),m.createElement("div",{className:"flex-1 overflow-y-auto p-6"},m.createElement("div",{className:"mb-8"},m.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},m.createElement(er,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),m.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},s.map((H,Y)=>m.createElement("div",{key:`${H.id}-${Y}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},m.createElement("div",{className:"flex items-center gap-4"},m.createElement("img",{src:H.image||(Array.isArray(H.images)?H.images[0]:H.images),alt:H.name,className:"w-16 h-16 object-cover rounded-lg",onError:F=>F.target.src="/placeholder.jpg"}),m.createElement("div",null,m.createElement("div",{className:"text-sm font-semibold text-gray-900"},H.name),m.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},m.createElement("span",null,"Qty: ",H.qty),H.selectedSize&&m.createElement("span",null,"Size: ",H.selectedSize)))),m.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(H.qty*H.price).toFixed(2))))),m.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},m.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),m.createElement("span",{className:"text-xl font-bold text-red-700"},"$",r.toFixed(2)))),m.createElement("form",{onSubmit:V,className:"space-y-5"},m.createElement("div",null,m.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},m.createElement(RR,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),m.createElement("input",{type:"text",name:"name",value:u.name,onChange:D,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 ${w.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your full name",disabled:p}),w.name&&m.createElement("p",{className:"mt-1 text-sm text-red-600"},w.name)),m.createElement("div",null,m.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},m.createElement(yR,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),m.createElement("input",{type:"email",name:"email",value:u.email,onChange:D,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 ${w.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your email",disabled:p}),w.email&&m.createElement("p",{className:"mt-1 text-sm text-red-600"},w.email)),m.createElement("div",null,m.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},m.createElement(wR,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),m.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:D,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 ${w.phone?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your phone number",disabled:p}),w.phone&&m.createElement("p",{className:"mt-1 text-sm text-red-600"},w.phone)),m.createElement("div",null,m.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},m.createElement(kv,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),m.createElement("div",{className:"flex gap-2 mb-2"},m.createElement("textarea",{name:"address",value:u.address,onChange:D,rows:2,className:`flex-1 px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 resize-none ${w.address?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your shipping address or coords",disabled:p}),m.createElement("button",{type:"button",onClick:k,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm"},"Use My Location")),w.address&&m.createElement("p",{className:"mt-1 text-sm text-red-600"},w.address)),m.createElement("div",null,m.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},m.createElement(kv,{className:"w-4 h-4 mr-2 text-red-600"}),"Location Preview"),m.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},m.createElement(a4,{address:u.address}))),m.createElement("button",{type:"submit",disabled:p,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed"},p?"Processing Order...":"Place Order")))))):null}const s4=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},Lv=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},l4=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const{id:s}=pw(),o=Qv(),[u,h]=U.useState(null),[p,g]=U.useState(!0),[v,_]=U.useState(null),[w,A]=U.useState(null),[D,k]=U.useState(""),[j,V]=U.useState(!1),[H,Y]=U.useState([]);U.useEffect(()=>{const x=s4();Y(x)},[]);const F=H.includes(s);U.useEffect(()=>{(async()=>{g(!0);try{const N=q_(rs,"products",s),O=await ZA(N);if(O.exists()){const P={id:O.id,...O.data()};h(P),_(P.images?.[0]||null)}else h(null)}catch(N){console.error("Error fetching product:",N),h(null)}finally{g(!1)}})()},[s]),U.useEffect(()=>{window.scrollTo(0,0)},[s]);const ue=u?.sizes&&u.sizes.length>0,ce=()=>{if(ue&&!w){k("⚠️ Please select a size before adding to cart.");return}k("✅ Added to cart!"),a({id:u.id,name:u.name,price:u.newprice||u.price,image:u.images?.[0]||"",selectedSize:w,quantity:1}),setTimeout(()=>k(""),3e3)},fe=()=>{const x=[...H],N=u.id;if(F){const O=x.filter(P=>P!==N);Lv(O),Y(O),k("💔 Removed from favorites!")}else{const O=[...x,N];Lv(O),Y(O),e(u),k("❤️ Added to favorites!")}setTimeout(()=>k(""),3e3)},M=()=>{V(!0)};return p?m.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},m.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):u?m.createElement("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},m.createElement("button",{onClick:()=>o(-1),className:"flex items-center text-red-600 hover:text-red-800 mb-6 transition-colors"},m.createElement(Mv,{className:"w-5 h-5 mr-1"})," Back"),m.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},m.createElement("div",{className:"flex flex-col lg:flex-row"},m.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8"},m.createElement("div",{className:"flex flex-col md:flex-row gap-6"},m.createElement("div",{className:"flex-1"},m.createElement("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-inner flex items-center justify-center"},v&&!j?m.createElement("img",{src:v,alt:u.name,className:"w-full h-full object-contain",onError:M}):m.createElement("div",{className:"text-center p-8"},m.createElement("div",{className:"text-5xl mb-2"},"🖼️"),m.createElement("p",{className:"text-gray-500"},"Image not available")))),m.createElement("div",{className:"flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-y-auto max-w-full md:max-w-[100px] lg:max-w-[120px]"},u.images?.map((x,N)=>m.createElement("button",{key:N,onClick:()=>{_(x),V(!1)},className:`flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${v===x?"border-red-500 scale-105 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`},m.createElement("img",{src:x,alt:`${u.name} thumbnail ${N+1}`,className:"w-full h-full object-cover",onError:O=>{O.target.src="/placeholder.jpg"}})))))),m.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8 border-t lg:border-t-0 lg:border-l border-gray-200"},m.createElement("div",{className:"flex flex-col h-full"},m.createElement("div",null,m.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},u.name),m.createElement("p",{className:"text-gray-600 mb-6"},u.category),ue&&m.createElement("div",{className:"mb-6"},m.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Select Size"),m.createElement("div",{className:"flex flex-wrap gap-2"},u.sizes.map(x=>m.createElement("button",{key:x,onClick:()=>A(x),className:`px-4 py-2 rounded-lg border font-medium transition-all duration-200 ${w===x?"bg-red-600 text-white border-red-600 shadow-md":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`},x.toUpperCase()))),ue&&!w&&m.createElement("p",{className:"mt-2 text-sm text-red-500"},"Please select a size")),m.createElement("div",{className:"mb-6"},m.createElement("div",{className:"flex items-baseline gap-3"},m.createElement("span",{className:"text-3xl font-bold text-gray-900"},"$",u.newPrice||u.price),u.newPrice&&u.newPrice<u.price&&m.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",u.price),u.newPrice&&u.newPrice<u.price&&m.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},"Save $",(u.price-u.newPrice).toFixed(2)))),m.createElement("div",{className:"flex flex-wrap gap-4 mb-6"},m.createElement("button",{onClick:ce,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300"},m.createElement(er,{className:"w-5 h-5"})," Add to Cart"),m.createElement("button",{onClick:fe,className:`p-3 rounded-xl border transition-all duration-300 ${F?"bg-red-50 text-red-600 border-red-200 shadow-sm":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100 hover:shadow-sm"}`,title:F?"Remove from favorites":"Add to favorites"},m.createElement(fi,{className:`w-6 h-6 transition-all duration-300 ${F?"fill-red-600 text-red-600 scale-110":""}`}))),D&&m.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 animate-fadeIn"},D)),m.createElement("div",{className:"mt-auto pt-6 border-t border-gray-200"},m.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-3"},"Description"),m.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line break-words"},u.det||"No description available for this product."))))))):m.createElement("div",{className:"text-center py-20 px-4"},m.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md p-8"},m.createElement("div",{className:"text-6xl mb-4"},"😕"),m.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),m.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),m.createElement("button",{onClick:()=>o(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},m.createElement(Mv,{className:"w-4 h-4 mr-2"})," Go Back")))},o4=({navLinks:a=[],socialLinks:e=[],contactInfo:r={},copyrightYear:s=new Date().getFullYear()})=>{const[o,u]=U.useState(""),[h,p]=U.useState(""),[g,v]=U.useState(!1),[_,w]=U.useState(!1),A=async D=>{if(D.preventDefault(),!o.trim()){p("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){p("Please enter a valid email address");return}w(!0),p("");try{await new Promise(k=>setTimeout(k,1e3)),console.log("Subscribed email:",o),v(!0),u("")}catch(k){console.error("Subscription error:",k),p("Subscription failed. Please try again.")}finally{w(!1)}};return m.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},m.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},m.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),m.createElement("ul",{className:"space-y-2"},a.map((D,k)=>m.createElement("li",{key:k},m.createElement("a",{href:D.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${D.name}`},D.name))))),m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),m.createElement("ul",{className:"space-y-3"},r.email&&m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),m.createElement("a",{href:`mailto:${r.email}`,className:"text-gray-300 hover:text-white transition-colors"},r.email)),r.phone&&m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),m.createElement("a",{href:`tel:${r.phone}`,className:"text-gray-300 hover:text-white transition-colors"},r.phone)),r.address&&m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),m.createElement("span",{className:"text-gray-300"},r.address)))),m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),m.createElement("div",{className:"flex space-x-4"},e.map((D,k)=>m.createElement("a",{key:k,href:D.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${D.name}`},D.icon&&m.createElement("span",{className:"w-5 h-5"},D.icon))))),m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),m.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),g?m.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},m.createElement("div",{className:"flex items-center"},m.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),m.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):m.createElement("form",{onSubmit:A,className:"space-y-3"},m.createElement("div",null,m.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),m.createElement("input",{type:"email",id:"footer-email",value:o,onChange:D=>u(D.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${h?"border-red-500":"border-gray-700"}`,"aria-invalid":!!h,"aria-describedby":h?"footer-email-error":void 0}),h&&m.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},h)),m.createElement("button",{type:"submit",disabled:_,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},_?"Subscribing...":"Subscribe")))),m.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},m.createElement("p",null,"© ",s," Your Company Name. All rights reserved."))))},u4=()=>{const[a,e]=U.useState({name:"",email:"",subject:"",message:""}),[r,s]=U.useState({name:"",email:"",subject:"",message:""}),[o,u]=U.useState(!1),[h,p]=U.useState(!1),g=()=>{let w=!0;const A={name:"",email:"",subject:"",message:""};return a.name.trim()||(A.name="Name is required",w=!1),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(A.email="Please enter a valid email address",w=!1):(A.email="Email is required",w=!1),a.subject.trim()||(A.subject="Subject is required",w=!1),a.message.trim()||(A.message="Message is required",w=!1),s(A),w},v=w=>{const{name:A,value:D}=w.target;e(k=>({...k,[A]:D})),r[A]&&s(k=>({...k,[A]:""}))},_=async w=>{if(w.preventDefault(),!!g()){p(!0);try{await new Promise(A=>setTimeout(A,1e3)),console.log("Form submitted:",a),u(!0),e({name:"",email:"",subject:"",message:""})}catch(A){console.error("Submission error:",A)}finally{p(!1)}}};return m.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},m.createElement("div",{className:"max-w-7xl mx-auto"},m.createElement("div",{className:"text-center mb-12"},m.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),m.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),m.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},m.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},m.createElement("div",null,m.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),o?m.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},m.createElement("div",{className:"flex items-center"},m.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),m.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),m.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),m.createElement("button",{onClick:()=>u(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):m.createElement("form",{onSubmit:_,noValidate:!0},m.createElement("div",{className:"space-y-6"},m.createElement("div",null,m.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",m.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),m.createElement("input",{type:"text",id:"name",name:"name",value:a.name,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${r.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!r.name,"aria-describedby":r.name?"name-error":void 0}),r.name&&m.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},r.name)),m.createElement("div",null,m.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",m.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),m.createElement("input",{type:"email",id:"email",name:"email",value:a.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${r.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!r.email,"aria-describedby":r.email?"email-error":void 0}),r.email&&m.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},r.email)),m.createElement("div",null,m.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",m.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),m.createElement("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${r.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!r.subject,"aria-describedby":r.subject?"subject-error":void 0}),r.subject&&m.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},r.subject)),m.createElement("div",null,m.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",m.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),m.createElement("textarea",{id:"message",name:"message",rows:"4",value:a.message,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${r.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!r.message,"aria-describedby":r.message?"message-error":void 0}),r.message&&m.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},r.message)),m.createElement("div",null,m.createElement("button",{type:"submit",disabled:h,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},h?m.createElement("span",{className:"flex items-center justify-center"},m.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},m.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),m.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},m.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),m.createElement("div",{className:"space-y-6"},m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),m.createElement("ul",{className:"space-y-3"},m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),m.createElement("span",{className:"text-gray-700"},"contact@example.com")),m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),m.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),m.createElement("li",{className:"flex items-start"},m.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),m.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",m.createElement("br",null),"San Francisco, CA 94107")))),m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),m.createElement("ul",{className:"space-y-2"},m.createElement("li",{className:"flex justify-between"},m.createElement("span",{className:"text-gray-700"},"Monday - Friday"),m.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),m.createElement("li",{className:"flex justify-between"},m.createElement("span",{className:"text-gray-700"},"Saturday"),m.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),m.createElement("li",{className:"flex justify-between"},m.createElement("span",{className:"text-gray-700"},"Sunday"),m.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),m.createElement("div",null,m.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),m.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},m.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};function c4(){const[a,e]=U.useState([]),[r,s]=U.useState(!1),[o,u]=U.useState(!1),[h,p]=U.useState([]),[g,v]=U.useState(""),_=F=>{p(ue=>ue.find(ce=>ce.id===F.id)?ue:[...ue,F])},w=F=>{p(ue=>ue.filter(ce=>ce.id!==F))},A=F=>{e(ue=>ue.find(fe=>fe.id===F.id)?ue.map(fe=>fe.id===F.id?{...fe,qty:fe.qty+1}:fe):[...ue,{...F,qty:1}])},D=F=>{e(a.map(ue=>ue.id===F?{...ue,qty:ue.qty+1}:ue))},k=F=>{e(a.map(ue=>ue.id===F?{...ue,qty:ue.qty>1?ue.qty-1:1}:ue))},j=F=>e(a.filter(ue=>ue.id!==F)),V=()=>e([]),H=()=>a.reduce((F,ue)=>F+ue.qty,0),Y=()=>a.reduce((F,ue)=>F+parseFloat(ue.price)*ue.qty,0);return m.createElement(Jw,null,m.createElement(n4,{cartItemCount:H(),onCartClick:()=>s(!0),onSearch:v}),m.createElement(r4,{isOpen:r,onClose:()=>s(!1),cart:a,onIncreaseQty:D,onDecreaseQty:k,onRemoveItem:j,onClearCart:V,onCheckout:()=>{u(!0),s(!1)},total:Y()}),m.createElement(i4,{isOpen:o,onClose:()=>u(!1),cart:a,total:Y(),onOrderSuccess:V}),m.createElement(Ow,null,m.createElement(ha,{path:"/",element:m.createElement(Dv,{onAddToCart:A,onAddToFavorites:_,onRemoveFromFavorites:w,favorites:h,searchQuery:g})}),m.createElement(ha,{path:"/Ecommerce",element:m.createElement(Dv,{onAddToCart:A,onAddToFavorites:_,onRemoveFromFavorites:w,favorites:h,searchQuery:g})}),m.createElement(ha,{path:"/men",element:m.createElement(UR,{onAddToCart:A,onAddToFavorites:_,onRemoveFromFavorites:w,favorites:h,searchQuery:g})}),m.createElement(ha,{path:"/women",element:m.createElement($R,{onAddToCart:A,onAddToFavorites:_,onRemoveFromFavorites:w,favorites:h,searchQuery:g})}),m.createElement(ha,{path:"/kids",element:m.createElement(e4,{onAddToCart:A,onAddToFavorites:_,onRemoveFromFavorites:w,favorites:h,searchQuery:g})}),m.createElement(ha,{path:"/favorites",element:m.createElement(t4,{favorites:h,onRemoveFromFavorites:w,onAddToCart:A})}),m.createElement(ha,{path:"/product/:id",element:m.createElement(l4,{onAddToCart:A,onAddToFavorites:_,favorites:h})}),m.createElement(ha,{path:"/contact",element:m.createElement(u4,null)})),m.createElement(o4,null))}z1.createRoot(document.getElementById("root")).render(m.createElement(U.StrictMode,null,m.createElement(c4,null)));export{Mv as A,oR as C,Qm as E,fi as H,iR as I,pR as L,yR as M,wR as P,m as R,er as S,nm as T,RR as U,sb as W,Gc as X,nn as a,ab as b,ml as c,rs as d,ib as e,Pv as f,Fo as g,kv as h,_R as i,xR as j,U as r};
