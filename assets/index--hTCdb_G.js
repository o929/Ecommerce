const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-D42ZUieF.js","assets/chevron-right-ChTS7Apo.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-DnqzM68R.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function C1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ud={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function O1(){if(n0)return ze;n0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function M(D,re,pe){this.props=D,this.context=re,this.refs=G,this.updater=pe||N}M.prototype.isReactComponent={},M.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function J(){}J.prototype=M.prototype;function W(D,re,pe){this.props=D,this.context=re,this.refs=G,this.updater=pe||N}var Q=W.prototype=new J;Q.constructor=W,k(Q,M.prototype),Q.isPureReactComponent=!0;var he=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function I(D,re,pe,oe,Ee,Ce){return pe=Ce.ref,{$$typeof:a,type:D,key:re,ref:pe!==void 0?pe:null,props:Ce}}function A(D,re){return I(D.type,re,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(pe){return re[pe]})}var P=/\/+/g;function U(D,re){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):re.toString(36)}function C(){}function Qe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function $e(D,re,pe,oe,Ee){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case a:case e:Ae=!0;break;case E:return Ae=D._init,$e(Ae(D._payload),re,pe,oe,Ee)}}if(Ae)return Ee=Ee(D),Ae=oe===""?"."+U(D,0):oe,he(Ee)?(pe="",Ae!=null&&(pe=Ae.replace(P,"$&/")+"/"),$e(Ee,re,pe,"",function(mn){return mn})):Ee!=null&&(R(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Ae)),re.push(Ee)),1;Ae=0;var wt=oe===""?".":oe+":";if(he(D))for(var Ye=0;Ye<D.length;Ye++)oe=D[Ye],Ce=wt+U(oe,Ye),Ae+=$e(oe,re,pe,Ce,Ee);else if(Ye=x(D),typeof Ye=="function")for(D=Ye.call(D),Ye=0;!(oe=D.next()).done;)oe=oe.value,Ce=wt+U(oe,Ye++),Ae+=$e(oe,re,pe,Ce,Ee);else if(Ce==="object"){if(typeof D.then=="function")return $e(Qe(D),re,pe,oe,Ee);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(D,re,pe){if(D==null)return D;var oe=[],Ee=0;return $e(D,oe,"","",function(Ce){return re.call(pe,Ce,Ee++)}),oe}function me(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(pe){(D._status===0||D._status===-1)&&(D._status=1,D._result=pe)},function(pe){(D._status===0||D._status===-1)&&(D._status=2,D._result=pe)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var we=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Le(){}return ze.Children={map:K,forEach:function(D,re,pe){K(D,function(){re.apply(this,arguments)},pe)},count:function(D){var re=0;return K(D,function(){re++}),re},toArray:function(D){return K(D,function(re){return re})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ze.Component=M,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=W,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ce.H.useMemoCache(D)}},ze.cache=function(D){return function(){return D.apply(null,arguments)}},ze.cloneElement=function(D,re,pe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=k({},D.props),Ee=D.key,Ce=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(Ee=""+re.key),re)!se.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(oe[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=pe;else if(1<Ae){for(var wt=Array(Ae),Ye=0;Ye<Ae;Ye++)wt[Ye]=arguments[Ye+2];oe.children=wt}return I(D.type,Ee,void 0,void 0,Ce,oe)},ze.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},ze.createElement=function(D,re,pe){var oe,Ee={},Ce=null;if(re!=null)for(oe in re.key!==void 0&&(Ce=""+re.key),re)se.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=re[oe]);var Ae=arguments.length-2;if(Ae===1)Ee.children=pe;else if(1<Ae){for(var wt=Array(Ae),Ye=0;Ye<Ae;Ye++)wt[Ye]=arguments[Ye+2];Ee.children=wt}if(D&&D.defaultProps)for(oe in Ae=D.defaultProps,Ae)Ee[oe]===void 0&&(Ee[oe]=Ae[oe]);return I(D,Ce,void 0,void 0,null,Ee)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:m,render:D}},ze.isValidElement=R,ze.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:me}},ze.memo=function(D,re){return{$$typeof:y,type:D,compare:re===void 0?null:re}},ze.startTransition=function(D){var re=ce.T,pe={};ce.T=pe;try{var oe=D(),Ee=ce.S;Ee!==null&&Ee(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Le,we)}catch(Ce){we(Ce)}finally{ce.T=re}},ze.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},ze.use=function(D){return ce.H.use(D)},ze.useActionState=function(D,re,pe){return ce.H.useActionState(D,re,pe)},ze.useCallback=function(D,re){return ce.H.useCallback(D,re)},ze.useContext=function(D){return ce.H.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D,re){return ce.H.useDeferredValue(D,re)},ze.useEffect=function(D,re,pe){var oe=ce.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(D,re)},ze.useId=function(){return ce.H.useId()},ze.useImperativeHandle=function(D,re,pe){return ce.H.useImperativeHandle(D,re,pe)},ze.useInsertionEffect=function(D,re){return ce.H.useInsertionEffect(D,re)},ze.useLayoutEffect=function(D,re){return ce.H.useLayoutEffect(D,re)},ze.useMemo=function(D,re){return ce.H.useMemo(D,re)},ze.useOptimistic=function(D,re){return ce.H.useOptimistic(D,re)},ze.useReducer=function(D,re,pe){return ce.H.useReducer(D,re,pe)},ze.useRef=function(D){return ce.H.useRef(D)},ze.useState=function(D){return ce.H.useState(D)},ze.useSyncExternalStore=function(D,re,pe){return ce.H.useSyncExternalStore(D,re,pe)},ze.useTransition=function(){return ce.H.useTransition()},ze.version="19.1.1",ze}var r0;function Fc(){return r0||(r0=1,ud.exports=O1()),ud.exports}var j=Fc();const v=C1(j);var cd={exports:{}},ho={},fd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function D1(){return a0||(a0=1,(function(a){function e(K,me){var we=K.length;K.push(me);e:for(;0<we;){var Le=we-1>>>1,D=K[Le];if(0<o(D,me))K[Le]=me,K[we]=D,we=Le;else break e}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var me=K[0],we=K.pop();if(we!==me){K[0]=we;e:for(var Le=0,D=K.length,re=D>>>1;Le<re;){var pe=2*(Le+1)-1,oe=K[pe],Ee=pe+1,Ce=K[Ee];if(0>o(oe,we))Ee<D&&0>o(Ce,oe)?(K[Le]=Ce,K[Ee]=we,Le=Ee):(K[Le]=oe,K[pe]=we,Le=pe);else if(Ee<D&&0>o(Ce,we))K[Le]=Ce,K[Ee]=we,Le=Ee;else break e}}return me}function o(K,me){var we=K.sortIndex-me.sortIndex;return we!==0?we:K.id-me.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],y=[],E=1,T=null,x=3,N=!1,k=!1,G=!1,M=!1,J=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var me=r(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=K)s(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=r(y)}}function ce(K){if(G=!1,he(K),!k)if(r(p)!==null)k=!0,se||(se=!0,U());else{var me=r(y);me!==null&&$e(ce,me.startTime-K)}}var se=!1,I=-1,A=5,R=-1;function V(){return M?!0:!(a.unstable_now()-R<A)}function P(){if(M=!1,se){var K=a.unstable_now();R=K;var me=!0;try{e:{k=!1,G&&(G=!1,W(I),I=-1),N=!0;var we=x;try{t:{for(he(K),T=r(p);T!==null&&!(T.expirationTime>K&&V());){var Le=T.callback;if(typeof Le=="function"){T.callback=null,x=T.priorityLevel;var D=Le(T.expirationTime<=K);if(K=a.unstable_now(),typeof D=="function"){T.callback=D,he(K),me=!0;break t}T===r(p)&&s(p),he(K)}else s(p);T=r(p)}if(T!==null)me=!0;else{var re=r(y);re!==null&&$e(ce,re.startTime-K),me=!1}}break e}finally{T=null,x=we,N=!1}me=void 0}}finally{me?U():se=!1}}}var U;if(typeof Q=="function")U=function(){Q(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Qe=C.port2;C.port1.onmessage=P,U=function(){Qe.postMessage(null)}}else U=function(){J(P,0)};function $e(K,me){I=J(function(){K(a.unstable_now())},me)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(K){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var we=x;x=me;try{return K()}finally{x=we}},a.unstable_requestPaint=function(){M=!0},a.unstable_runWithPriority=function(K,me){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var we=x;x=K;try{return me()}finally{x=we}},a.unstable_scheduleCallback=function(K,me,we){var Le=a.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Le+we:Le):we=Le,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=we+D,K={id:E++,callback:me,priorityLevel:K,startTime:we,expirationTime:D,sortIndex:-1},we>Le?(K.sortIndex=we,e(y,K),r(p)===null&&K===r(y)&&(G?(W(I),I=-1):G=!0,$e(ce,we-Le))):(K.sortIndex=D,e(p,K),k||N||(k=!0,se||(se=!0,U()))),K},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(K){var me=x;return function(){var we=x;x=me;try{return K.apply(this,arguments)}finally{x=we}}}})(hd)),hd}var i0;function I1(){return i0||(i0=1,fd.exports=D1()),fd.exports}var dd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function V1(){if(s0)return gn;s0=1;var a=Fc();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},gn.flushSync=function(p){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=E,s.d.f()}},gn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},gn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},gn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},gn.requestFormReset=function(p){s.d.r(p)},gn.unstable_batchedUpdates=function(p,y){return p(y)},gn.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var l0;function M1(){if(l0)return dd.exports;l0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),dd.exports=V1(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function P1(){if(o0)return ho;o0=1;var a=I1(),e=Fc(),r=M1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,l=n;;){var f=i.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===i)return m(f),t;if(d===l)return m(f),n;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=d;else{for(var b=!1,w=f.child;w;){if(w===i){b=!0,i=f,l=d;break}if(w===l){b=!0,l=f,i=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===i){b=!0,i=d,l=f;break}if(w===l){b=!0,l=d,i=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case M:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var $e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Le=[],D=-1;function re(t){return{current:t}}function pe(t){0>D||(t.current=Le[D],Le[D]=null,D--)}function oe(t,n){D++,Le[D]=t.current,t.current=n}var Ee=re(null),Ce=re(null),Ae=re(null),wt=re(null);function Ye(t,n){switch(oe(Ae,n),oe(Ce,t),oe(Ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Oy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Oy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(Ee),oe(Ee,t)}function mn(){pe(Ee),pe(Ce),pe(Ae)}function rn(t){t.memoizedState!==null&&oe(wt,t);var n=Ee.current,i=Dy(n,t.type);n!==i&&(oe(Ce,t),oe(Ee,i))}function pt(t){Ce.current===t&&(pe(Ee),pe(Ce)),wt.current===t&&(pe(wt),lo._currentValue=we)}var Pt=Object.prototype.hasOwnProperty,Rt=a.unstable_scheduleCallback,Lr=a.unstable_cancelCallback,va=a.unstable_shouldYield,ui=a.unstable_requestPaint,Sn=a.unstable_now,_a=a.unstable_getCurrentPriorityLevel,ci=a.unstable_ImmediatePriority,Ur=a.unstable_UserBlockingPriority,er=a.unstable_NormalPriority,Ea=a.unstable_LowPriority,fr=a.unstable_IdlePriority,fi=a.log,de=a.unstable_setDisableYieldValue,B=null,te=null;function fe(t){if(typeof fi=="function"&&de(t),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(B,t)}catch{}}var Ne=Math.clz32?Math.clz32:Z,Ue=Math.log,et=Math.LN2;function Z(t){return t>>>=0,t===0?32:31-(Ue(t)/et|0)|0}var ae=256,be=4194304;function ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _e(t,n,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=ve(l):(b&=w,b!==0?f=ve(b):i||(i=w&~t,i!==0&&(f=ve(i))))):(w=l&~d,w!==0?f=ve(w):b!==0?f=ve(b):i||(i=l&~t,i!==0&&(f=ve(i)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,i=n&-n,d>=i||d===32&&(i&4194048)!==0)?n:f}function Me(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var t=ae;return ae<<=1,(ae&4194048)===0&&(ae=256),t}function nt(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function gt(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function at(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nt(t,n,i,l,f,d){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(i=b&~i;0<i;){var ee=31-Ne(i),le=1<<ee;w[ee]=0,O[ee]=-1;var $=F[ee];if($!==null)for(F[ee]=null,ee=0;ee<$.length;ee++){var Y=$[ee];Y!==null&&(Y.lane&=-536870913)}i&=~le}l!==0&&an(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~n))}function an(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ne(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Cn(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-Ne(i),f=1<<l;f&n|t[l]&n&&(t[l]|=n),i&=~f}}function On(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Xy(t.type))}function Bo(t,n){var i=me.p;try{return me.p=t,n()}finally{me.p=i}}var bt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+bt,kt="__reactProps$"+bt,zn="__reactContainer$"+bt,hl="__reactEvents$"+bt,hf="__reactListeners$"+bt,ba="__reactHandles$"+bt,qo="__reactResources$"+bt,hi="__reactMarker$"+bt;function Ta(t){delete t[Ht],delete t[kt],delete t[hl],delete t[hf],delete t[ba]}function jr(t){var n=t[Ht];if(n)return n;for(var i=t.parentNode;i;){if(n=i[zn]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Py(t);t!==null;){if(i=t[Ht])return i;t=Py(t)}return n}t=i,i=t.parentNode}return null}function hr(t){if(t=t[Ht]||t[zn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function dr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function En(t){var n=t[qo];return n||(n=t[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[hi]=!0}var dl=new Set,Ji={};function nr(t,n){Br(t,n),Br(t+"Capture",n)}function Br(t,n){for(Ji[t]=n,t=0;t<n.length;t++)dl.add(n[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},di={};function Go(t){return Pt.call(di,t)?!0:Pt.call(Fo,t)?!1:Ho.test(t)?di[t]=!0:(Fo[t]=!0,!1)}function wa(t,n,i){if(Go(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function mr(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function sn(t,n,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+l)}}var mi,Qo;function qr(t){if(mi===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);mi=n&&n[1]||"",Qo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mi+t+Qo}var es=!1;function ts(t,n){if(!t||es)return"";es=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Y){var $=Y}Reflect.construct(t,[],le)}else{try{le.call()}catch(Y){$=Y}t.call(le.prototype)}}else{try{throw Error()}catch(Y){$=Y}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var O=b.split(`
`),F=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var ee=`
`+O[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=f);break}}}finally{es=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?qr(i):""}function ml(t){switch(t.tag){case 26:case 27:case 5:return qr(t.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return ts(t.type,!1);case 11:return ts(t.type.render,!1);case 1:return ts(t.type,!0);case 31:return qr("Activity");default:return""}}function ns(t){try{var n="";do n+=ml(t),t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function df(t){var n=pl(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rs(t){t._valueTracker||(t._valueTracker=df(t))}function gl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=pl(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function Lt(t){return t.replace(mf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dn(t,n,i,l,f,d,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,b,bn(n)):i!=null?Sa(t,b,bn(i)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+bn(w):t.removeAttribute("name")}function gi(t,n,i,l,f,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Sa(t,n,i){n==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Hr(t,n,i,l){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function ft(t,n,i){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+bn(i):""}function yi(t,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=bn(n),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function jn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,i):typeof i!="number"||i===0||vi.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function yl(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&i[f]!==l&&$o(t,f,l)}else for(var d in n)n.hasOwnProperty(d)&&$o(t,d,n[d])}function vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fr=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Qr=null;function _l(t){var n=hr(t);if(n&&(t=n.stateNode)){var i=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Dn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));Dn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===t.form&&gl(l)}break e;case"textarea":ft(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Hr(t,!!i.multiple,n,!1)}}}var pr=!1;function Yo(t,n,i){if(pr)return t(n,i);pr=!0;try{var l=t(n);return l}finally{if(pr=!1,(Gr!==null||Qr!==null)&&(Bu(),Gr&&(n=Gr,t=Qr,Qr=Gr=null,_l(n),t)))for(n=0;n<t.length;n++)_l(t[n])}}function _i(t,n){var i=t.stateNode;if(i===null)return null;var l=i[kt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(rr)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{qn=!1}var gr=null,Aa=null,$r=null;function El(){if($r)return $r;var t,n=Aa,i=n.length,l,f="value"in gr?gr.value:gr.textContent,d=f.length;for(t=0;t<i&&n[t]===f[t];t++);var b=i-t;for(l=1;l<=b&&n[i-l]===f[d-l];l++);return $r=f.slice(t,1<l?1-l:void 0)}function yr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function vr(){return!0}function bl(){return!1}function Xt(t){function n(i,l,f,d,b){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vr:bl,this.isPropagationStopped=bl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),n}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Xt(it),bi=E({},it,{view:0,detail:0}),Ko=Xt(bi),ss,ls,_r,Ti=E({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(ss=t.screenX-_r.screenX,ls=t.screenY-_r.screenY):ls=ss=0,_r=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),Hn=Xt(Ti),Xo=E({},Ti,{dataTransfer:0}),yf=Xt(Xo),wi=E({},bi,{relatedTarget:0}),os=Xt(wi),Tl=E({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),us=Xt(Tl),Zo=E({},it,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cs=Xt(Zo),vf=E({},it,{data:0}),wl=Xt(vf),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ai(){return Sl}var eu=E({},bi,{key:function(t){if(t.key){var n=Si[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fs=Xt(eu),tu=E({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Xt(tu),Yr=E({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),nu=Xt(Yr),ru=E({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Xt(ru),iu=E({},Ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=Xt(iu),Tn=E({},it,{newState:0,oldState:0}),su=Xt(Tn),lu=[9,13,27,32],Er=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var g=rr&&"TextEvent"in window&&!c,_=rr&&(!Er||c&&8<c&&11>=c),S=" ",q=!1;function X(t,n){switch(t){case"keyup":return lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function Ft(t,n){switch(t){case"compositionend":return ge(n);case"keypress":return n.which!==32?null:(q=!0,S);case"textInput":return t=n.data,t===S&&q?null:t;default:return null}}function Xe(t,n){if(Ke)return t==="compositionend"||!Er&&X(t,n)?(t=El(),$r=Aa=gr=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Zt[t.type]:n==="textarea"}function Kr(t,n,i,l){Gr?Qr?Qr.push(l):Qr=[l]:Gr=l,n=$u(n,"onChange"),0<n.length&&(i=new is("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var ln=null,br=null;function xl(t){Ay(t,0)}function ou(t){var n=dr(t);if(gl(n))return t}function Qm(t,n){if(t==="change")return n}var $m=!1;if(rr){var _f;if(rr){var Ef="oninput"in document;if(!Ef){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Ef=typeof Ym.oninput=="function"}_f=Ef}else _f=!1;$m=_f&&(!document.documentMode||9<document.documentMode)}function Km(){ln&&(ln.detachEvent("onpropertychange",Xm),br=ln=null)}function Xm(t){if(t.propertyName==="value"&&ou(br)){var n=[];Kr(n,br,t,Bn(t)),Yo(xl,n)}}function ib(t,n,i){t==="focusin"?(Km(),ln=n,br=i,ln.attachEvent("onpropertychange",Xm)):t==="focusout"&&Km()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(br)}function lb(t,n){if(t==="click")return ou(n)}function ob(t,n){if(t==="input"||t==="change")return ou(n)}function ub(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:ub;function Rl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Pt.call(n,f)||!In(t[f],n[f]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,n){var i=Zm(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zm(i)}}function Jm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=pi(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=pi(t.document)}return n}function bf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cb=rr&&"documentMode"in document&&11>=document.documentMode,ds=null,Tf=null,Nl=null,wf=!1;function tp(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wf||ds==null||ds!==pi(l)||(l=ds,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Rl(Nl,l)||(Nl=l,l=$u(Tf,"onSelect"),0<l.length&&(n=new is("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=ds)))}function xi(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var ms={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Sf={},np={};rr&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ri(t){if(Sf[t])return Sf[t];if(!ms[t])return t;var n=ms[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in np)return Sf[t]=n[i];return t}var rp=Ri("animationend"),ap=Ri("animationiteration"),ip=Ri("animationstart"),fb=Ri("transitionrun"),hb=Ri("transitionstart"),db=Ri("transitioncancel"),sp=Ri("transitionend"),lp=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ar(t,n){lp.set(t,n),nr(n,[t])}var op=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var i=op.get(t);return i!==void 0?i:(n={value:t,source:n,stack:ns(n)},op.set(t,n),n)}return{value:t,source:n,stack:ns(n)}}var Gn=[],ps=0,xf=0;function uu(){for(var t=ps,n=xf=ps=0;n<t;){var i=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var f=Gn[n];Gn[n++]=null;var d=Gn[n];if(Gn[n++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&up(i,f,d)}}function cu(t,n,i,l){Gn[ps++]=t,Gn[ps++]=n,Gn[ps++]=i,Gn[ps++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,n,i,l){return cu(t,n,i,l),fu(t)}function gs(t,n){return cu(t,null,null,n),fu(t)}function up(t,n,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,d=t.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Ne(i),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=i|536870912),d):null}function fu(t){if(50<Jl)throw Jl=0,Vh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ys={};function mb(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,i,l){return new mb(t,n,i,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,n){var i=t.alternate;return i===null?(i=Vn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function cp(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function hu(t,n,i,l,f,d){var b=0;if(l=t,typeof t=="function")Nf(t)&&(b=1);else if(typeof t=="string")b=g1(t,i,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Vn(31,i,n,f),t.elementType=R,t.lanes=d,t;case k:return Ni(i.children,f,d,n);case G:b=8,f|=24;break;case M:return t=Vn(12,i,n,f|2),t.elementType=M,t.lanes=d,t;case ce:return t=Vn(13,i,n,f),t.elementType=ce,t.lanes=d,t;case se:return t=Vn(19,i,n,f),t.elementType=se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case Q:b=10;break e;case W:b=9;break e;case he:b=11;break e;case I:b=14;break e;case A:b=16,l=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(b,i,n,f),n.elementType=t,n.type=l,n.lanes=d,n}function Ni(t,n,i,l){return t=Vn(7,t,l,n),t.lanes=i,t}function Cf(t,n,i){return t=Vn(6,t,null,n),t.lanes=i,t}function Of(t,n,i){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vs=[],_s=0,du=null,mu=0,Qn=[],$n=0,Ci=null,Zr=1,Wr="";function Oi(t,n){vs[_s++]=mu,vs[_s++]=du,du=t,mu=n}function fp(t,n,i){Qn[$n++]=Zr,Qn[$n++]=Wr,Qn[$n++]=Ci,Ci=t;var l=Zr;t=Wr;var f=32-Ne(l)-1;l&=~(1<<f),i+=1;var d=32-Ne(n)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Zr=1<<32-Ne(n)+f|i<<f|l,Wr=d+t}else Zr=1<<d|i<<f|l,Wr=t}function Df(t){t.return!==null&&(Oi(t,1),fp(t,1,0))}function If(t){for(;t===du;)du=vs[--_s],vs[_s]=null,mu=vs[--_s],vs[_s]=null;for(;t===Ci;)Ci=Qn[--$n],Qn[$n]=null,Wr=Qn[--$n],Qn[$n]=null,Zr=Qn[--$n],Qn[$n]=null}var wn=null,Ct=null,rt=!1,Di=null,Tr=!1,Vf=Error(s(519));function Ii(t){var n=Error(s(418,""));throw Dl(Fn(n,t)),Vf}function hp(t){var n=t.stateNode,i=t.type,l=t.memoizedProps;switch(n[Ht]=t,n[kt]=l,i){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<to.length;i++)He(to[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),gi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rs(n);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),yi(n,l.value,l.defaultValue,l.children),rs(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Cy(n.textContent,i)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=Yu),n=!0):n=!1,n||Ii(t)}function dp(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:wn=wn.return}}function Cl(t){if(t!==wn)return!1;if(!rt)return dp(t),rt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Kh(t.type,t.memoizedProps)),i=!i),i&&Ct&&Ii(t),dp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(n===0){Ct=sr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;t=t.nextSibling}Ct=null}}else n===27?(n=Ct,Ba(t.type)?(t=Jh,Jh=null,Ct=t):Ct=n):Ct=wn?sr(t.stateNode.nextSibling):null;return!0}function Ol(){Ct=wn=null,rt=!1}function mp(){var t=Di;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Di=null),t}function Dl(t){Di===null?Di=[t]:Di.push(t)}var Mf=re(null),Vi=null,Jr=null;function xa(t,n,i){oe(Mf,n._currentValue),n._currentValue=i}function ea(t){t._currentValue=Mf.current,pe(Mf)}function Pf(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function kf(t,n,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var O=0;O<n.length;O++)if(w.context===n[O]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Pf(d.return,i,t),l||(b=null);break e}d=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=i,d=b.alternate,d!==null&&(d.lanes|=i),Pf(b,i,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Il(t,n,i,l){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;In(f.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(f===wt.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(lo):t=[lo])}f=f.return}t!==null&&kf(n,t,i,l),n.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){Vi=t,Jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return pp(Vi,t)}function gu(t,n){return Vi===null&&Mi(t),pp(t,n)}function pp(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Jr===null){if(t===null)throw Error(s(308));Jr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jr=Jr.next=n;return i}var pb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},gb=a.unstable_scheduleCallback,yb=a.unstable_NormalPriority,Qt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new pb,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&gb(yb,function(){t.controller.abort()})}var Ml=null,Uf=0,Es=0,bs=null;function vb(t,n){if(Ml===null){var i=Ml=[];Uf=0,Es=jh(),bs={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Uf++,n.then(gp,gp),n}function gp(){if(--Uf===0&&Ml!==null){bs!==null&&(bs.status="fulfilled");var t=Ml;Ml=null,Es=0,bs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _b(t,n){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var yp=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&vb(t,n),yp!==null&&yp(t,n)};var Pi=re(null);function zf(){var t=Pi.current;return t!==null?t:_t.pooledCache}function yu(t,n){n===null?oe(Pi,Pi.current):oe(Pi,n.pool)}function vp(){var t=zf();return t===null?null:{parent:Qt._currentValue,pool:t}}var Pl=Error(s(460)),_p=Error(s(474)),vu=Error(s(542)),jf={then:function(){}};function Ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _u(){}function bp(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(_u,_u),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t;default:if(typeof n.status=="string")n.then(_u,_u);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t}throw kl=n,Pl}}var kl=null;function Tp(){if(kl===null)throw Error(s(459));var t=kl;return kl=null,t}function wp(t){if(t===Pl||t===vu)throw Error(s(483))}var Ra=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=fu(t),up(t,null,i),n}return cu(t,l,n,i),fu(t)}function Ll(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Cn(t,i)}}function Hf(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,i=i.next}while(i!==null);d===null?f=d=n:d=d.next=n}else f=d=n;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Ff=!1;function Ul(){if(Ff){var t=bs;if(t!==null)throw t}}function zl(t,n,i,l){Ff=!1;var f=t.updateQueue;Ra=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,F=O.next;O.next=null,b===null?d=F:b.next=F,b=O;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=F:w.next=F,ee.lastBaseUpdate=O))}if(d!==null){var le=f.baseState;b=0,ee=F=O=null,w=d;do{var $=w.lane&-536870913,Y=$!==w.lane;if(Y?(Ze&$)===$:(l&$)===$){$!==0&&$===Es&&(Ff=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ve=t,Oe=w;$=n;var mt=i;switch(Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){le=Ve.call(mt,le,$);break e}le=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,$=typeof Ve=="function"?Ve.call(mt,le,$):Ve,$==null)break e;le=E({},le,$);break e;case 2:Ra=!0}}$=w.callback,$!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[$]:Y.push($))}else Y={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(F=ee=Y,O=le):ee=ee.next=Y,b|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);ee===null&&(O=le),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=ee,d===null&&(f.shared.lanes=0),La|=b,t.lanes=b,t.memoizedState=le}}function Sp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ap(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Sp(i[t],n)}var Ts=re(null),Eu=re(0);function xp(t,n){t=la,oe(Eu,t),oe(Ts,n),la=t|n.baseLanes}function Gf(){oe(Eu,la),oe(Ts,Ts.current)}function Qf(){la=Eu.current,pe(Ts),pe(Eu)}var Oa=0,je=null,ht=null,Ut=null,bu=!1,ws=!1,ki=!1,Tu=0,jl=0,Ss=null,Eb=0;function It(){throw Error(s(321))}function $f(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!In(t[i],n[i]))return!1;return!0}function Yf(t,n,i,l,f,d){return Oa=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?ug:cg,ki=!1,d=i(l,f),ki=!1,ws&&(d=Np(n,i,l,f)),Rp(t),d}function Rp(t){K.H=Nu;var n=ht!==null&&ht.next!==null;if(Oa=0,Ut=ht=je=null,bu=!1,jl=0,Ss=null,n)throw Error(s(300));t===null||Wt||(t=t.dependencies,t!==null&&pu(t)&&(Wt=!0))}function Np(t,n,i,l){je=t;var f=0;do{if(ws&&(Ss=null),jl=0,ws=!1,25<=f)throw Error(s(301));if(f+=1,Ut=ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Rb,d=n(i,l)}while(ws);return d}function bb(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Bl(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),n}function Kf(){var t=Tu!==0;return Tu=0,t}function Xf(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function Zf(t){if(bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}bu=!1}Oa=0,Ut=ht=je=null,ws=!1,jl=Tu=0,Ss=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function zt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ut===null?je.memoizedState:Ut.next;if(n!==null)Ut=n,ht=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var n=jl;return jl+=1,Ss===null&&(Ss=[]),t=bp(Ss,t,n),n=je,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?ug:cg),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===Q)return pn(t)}throw Error(s(438,String(t)))}function Jf(t){var n=null,i=je.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Wf(),je.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),l=0;l<t;l++)i[l]=V;return n.index++,i}function ta(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=zt();return eh(n,ht,t)}function eh(t,n,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var w=b=null,O=null,F=n,ee=!1;do{var le=F.lane&-536870913;if(le!==F.lane?(Ze&le)===le:(Oa&le)===le){var $=F.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),le===Es&&(ee=!0);else if((Oa&$)===$){F=F.next,$===Es&&(ee=!0);continue}else le={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=le,b=d):O=O.next=le,je.lanes|=$,La|=$;le=F.action,ki&&i(d,le),d=F.hasEagerState?F.eagerState:i(d,le)}else $={lane:le,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=$,b=d):O=O.next=$,je.lanes|=le,La|=le;F=F.next}while(F!==null&&F!==n);if(O===null?b=d:O.next=w,!In(d,t.memoizedState)&&(Wt=!0,ee&&(i=bs,i!==null)))throw i;t.memoizedState=d,t.baseState=b,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function th(t){var n=zt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,d=n.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do d=t(d,b.action),b=b.next;while(b!==f);In(d,n.memoizedState)||(Wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,l]}function Cp(t,n,i){var l=je,f=zt(),d=rt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!In((ht||f).memoizedState,i);b&&(f.memoizedState=i,Wt=!0),f=f.queue;var w=Ip.bind(null,l,f,t);if(ql(2048,8,w,[t]),f.getSnapshot!==n||b||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,As(9,Au(),Dp.bind(null,l,f,i,n),null),_t===null)throw Error(s(349));d||(Oa&124)!==0||Op(l,n,i)}return i}function Op(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n=Wf(),je.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Dp(t,n,i,l){n.value=i,n.getSnapshot=l,Vp(n)&&Mp(t)}function Ip(t,n,i){return i(function(){Vp(n)&&Mp(t)})}function Vp(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!In(t,i)}catch{return!0}}function Mp(t){var n=gs(t,2);n!==null&&Un(n,t,2)}function nh(t){var n=An();if(typeof t=="function"){var i=t;if(t=i(),ki){fe(!0);try{i()}finally{fe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},n}function Pp(t,n,i,l){return t.baseState=i,eh(t,ht,typeof l=="function"?l:ta)}function Tb(t,n,i,l,f){if(Ru(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};K.T!==null?i(!0):d.isTransition=!1,l(d),i=n.pending,i===null?(d.next=n.pending=d,kp(n,d)):(d.next=i.next,n.pending=i.next=d)}}function kp(t,n){var i=n.action,l=n.payload,f=t.state;if(n.isTransition){var d=K.T,b={};K.T=b;try{var w=i(f,l),O=K.S;O!==null&&O(b,w),Lp(t,n,w)}catch(F){rh(t,n,F)}finally{K.T=d}}else try{d=i(f,l),Lp(t,n,d)}catch(F){rh(t,n,F)}}function Lp(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Up(t,n,l)},function(l){return rh(t,n,l)}):Up(t,n,i)}function Up(t,n,i){n.status="fulfilled",n.value=i,zp(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,kp(t,i)))}function rh(t,n,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,zp(n),n=n.next;while(n!==l)}t.action=null}function zp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jp(t,n){return n}function Bp(t,n){if(rt){var i=_t.formState;if(i!==null){e:{var l=je;if(rt){if(Ct){t:{for(var f=Ct,d=Tr;f.nodeType!==8;){if(!d){f=null;break t}if(f=sr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ct=sr(f.nextSibling),l=f.data==="F!";break e}}Ii(l)}l=!1}l&&(n=i[0])}}return i=An(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:n},i.queue=l,i=sg.bind(null,je,l),l.dispatch=i,l=nh(!1),d=oh.bind(null,je,!1,l.queue),l=An(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,i=Tb.bind(null,je,f,d,i),f.dispatch=i,l.memoizedState=t,[n,i,!1]}function qp(t){var n=zt();return Hp(n,ht,t)}function Hp(t,n,i){if(n=eh(t,n,jp)[0],t=Su(ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Bl(n)}catch(b){throw b===Pl?vu:b}else l=n;n=zt();var f=n.queue,d=f.dispatch;return i!==n.memoizedState&&(je.flags|=2048,As(9,Au(),wb.bind(null,f,i),null)),[l,d,t]}function wb(t,n){t.action=n}function Fp(t){var n=zt(),i=ht;if(i!==null)return Hp(n,i,t);zt(),n=n.memoizedState,i=zt();var l=i.queue.dispatch;return i.memoizedState=t,[n,l,!1]}function As(t,n,i,l){return t={tag:t,create:i,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=Wf(),je.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t),t}function Au(){return{destroy:void 0,resource:void 0}}function Gp(){return zt().memoizedState}function xu(t,n,i,l){var f=An();l=l===void 0?null:l,je.flags|=t,f.memoizedState=As(1|n,Au(),i,l)}function ql(t,n,i,l){var f=zt();l=l===void 0?null:l;var d=f.memoizedState.inst;ht!==null&&l!==null&&$f(l,ht.memoizedState.deps)?f.memoizedState=As(n,d,i,l):(je.flags|=t,f.memoizedState=As(1|n,d,i,l))}function Qp(t,n){xu(8390656,8,t,n)}function $p(t,n){ql(2048,8,t,n)}function Yp(t,n){return ql(4,2,t,n)}function Kp(t,n){return ql(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zp(t,n,i){i=i!=null?i.concat([t]):null,ql(4,4,Xp.bind(null,n,t),i)}function ah(){}function Wp(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&$f(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function Jp(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&$f(n,l[1]))return l[0];if(l=t(),ki){fe(!0);try{t()}finally{fe(!1)}}return i.memoizedState=[l,n],l}function ih(t,n,i){return i===void 0||(Oa&1073741824)!==0?t.memoizedState=n:(t.memoizedState=i,t=ny(),je.lanes|=t,La|=t,i)}function eg(t,n,i,l){return In(i,n)?i:Ts.current!==null?(t=ih(t,i,l),In(t,n)||(Wt=!0),t):(Oa&42)===0?(Wt=!0,t.memoizedState=i):(t=ny(),je.lanes|=t,La|=t,n)}function tg(t,n,i,l,f){var d=me.p;me.p=d!==0&&8>d?d:8;var b=K.T,w={};K.T=w,oh(t,!1,n,i);try{var O=f(),F=K.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=_b(O,l);Hl(t,n,ee,Ln(t))}else Hl(t,n,l,Ln(t))}catch(le){Hl(t,n,{then:function(){},status:"rejected",reason:le},Ln())}finally{me.p=d,K.T=b}}function Sb(){}function sh(t,n,i,l){if(t.tag!==5)throw Error(s(476));var f=ng(t).queue;tg(t,f,n,we,i===null?Sb:function(){return rg(t),i(l)})}function ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:we},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=ng(t).next.queue;Hl(t,n,{},Ln())}function lh(){return pn(lo)}function ag(){return zt().memoizedState}function ig(){return zt().memoizedState}function Ab(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ln();t=Na(i);var l=Ca(n,t,i);l!==null&&(Un(l,n,i),Ll(l,n,i)),n={cache:Lf()},t.payload=n;return}n=n.return}}function xb(t,n,i){var l=Ln();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ru(t)?lg(n,i):(i=Rf(t,n,i,l),i!==null&&(Un(i,t,l),og(i,n,l)))}function sg(t,n,i){var l=Ln();Hl(t,n,i,l)}function Hl(t,n,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))lg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,w=d(b,i);if(f.hasEagerState=!0,f.eagerState=w,In(w,b))return cu(t,n,f,0),_t===null&&uu(),!1}catch{}finally{}if(i=Rf(t,n,f,l),i!==null)return Un(i,t,l),og(i,n,l),!0}return!1}function oh(t,n,i,l){if(l={lane:2,revertLane:jh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(n)throw Error(s(479))}else n=Rf(t,i,l,2),n!==null&&Un(n,t,2)}function Ru(t){var n=t.alternate;return t===je||n!==null&&n===je}function lg(t,n){ws=bu=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function og(t,n,i){if((i&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Cn(t,i)}}var Nu={readContext:pn,use:wu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},ug={readContext:pn,use:wu,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:pn,useEffect:Qp,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,xu(4194308,4,Xp.bind(null,n,t),i)},useLayoutEffect:function(t,n){return xu(4194308,4,t,n)},useInsertionEffect:function(t,n){xu(4,2,t,n)},useMemo:function(t,n){var i=An();n=n===void 0?null:n;var l=t();if(ki){fe(!0);try{t()}finally{fe(!1)}}return i.memoizedState=[l,n],l},useReducer:function(t,n,i){var l=An();if(i!==void 0){var f=i(n);if(ki){fe(!0);try{i(n)}finally{fe(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=xb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=nh(t);var n=t.queue,i=sg.bind(null,je,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:ah,useDeferredValue:function(t,n){var i=An();return ih(i,t,n)},useTransition:function(){var t=nh(!1);return t=tg.bind(null,je,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var l=je,f=An();if(rt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),_t===null)throw Error(s(349));(Ze&124)!==0||Op(l,n,i)}f.memoizedState=i;var d={value:i,getSnapshot:n};return f.queue=d,Qp(Ip.bind(null,l,d,t),[t]),l.flags|=2048,As(9,Au(),Dp.bind(null,l,d,i,n),null),i},useId:function(){var t=An(),n=_t.identifierPrefix;if(rt){var i=Wr,l=Zr;i=(l&~(1<<32-Ne(l)-1)).toString(32)+i,n=""+n+"R"+i,i=Tu++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=Eb++,n=""+n+"r"+i.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:lh,useFormState:Bp,useActionState:Bp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=oh.bind(null,je,!0,i),i.dispatch=n,[t,n]},useMemoCache:Jf,useCacheRefresh:function(){return An().memoizedState=Ab.bind(null,je)}},cg={readContext:pn,use:wu,useCallback:Wp,useContext:pn,useEffect:$p,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Su,useRef:Gp,useState:function(){return Su(ta)},useDebugValue:ah,useDeferredValue:function(t,n){var i=zt();return eg(i,ht.memoizedState,t,n)},useTransition:function(){var t=Su(ta)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:Cp,useId:ag,useHostTransitionStatus:lh,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var i=zt();return Pp(i,ht,t,n)},useMemoCache:Jf,useCacheRefresh:ig},Rb={readContext:pn,use:wu,useCallback:Wp,useContext:pn,useEffect:$p,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Jp,useReducer:th,useRef:Gp,useState:function(){return th(ta)},useDebugValue:ah,useDeferredValue:function(t,n){var i=zt();return ht===null?ih(i,t,n):eg(i,ht.memoizedState,t,n)},useTransition:function(){var t=th(ta)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:Cp,useId:ag,useHostTransitionStatus:lh,useFormState:Fp,useActionState:Fp,useOptimistic:function(t,n){var i=zt();return ht!==null?Pp(i,ht,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:ig},xs=null,Fl=0;function Cu(t){var n=Fl;return Fl+=1,xs===null&&(xs=[]),bp(xs,t,n)}function Gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){var n=t._init;return n(t._payload)}function hg(t){function n(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function i(z,L){if(!t)return null;for(;L!==null;)n(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=Xr(z,L),z.index=0,z.sibling=null,z}function d(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,L,H,ie){return L===null||L.tag!==6?(L=Cf(H,z.mode,ie),L.return=z,L):(L=f(L,H),L.return=z,L)}function O(z,L,H,ie){var Se=H.type;return Se===k?ee(z,L,H.props.children,ie,H.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&fg(Se)===L.type)?(L=f(L,H.props),Gl(L,H),L.return=z,L):(L=hu(H.type,H.key,H.props,null,z.mode,ie),Gl(L,H),L.return=z,L)}function F(z,L,H,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Of(H,z.mode,ie),L.return=z,L):(L=f(L,H.children||[]),L.return=z,L)}function ee(z,L,H,ie,Se){return L===null||L.tag!==7?(L=Ni(H,z.mode,ie,Se),L.return=z,L):(L=f(L,H),L.return=z,L)}function le(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cf(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return H=hu(L.type,L.key,L.props,null,z.mode,H),Gl(H,L),H.return=z,H;case N:return L=Of(L,z.mode,H),L.return=z,L;case A:var ie=L._init;return L=ie(L._payload),le(z,L,H)}if($e(L)||U(L))return L=Ni(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return le(z,Cu(L),H);if(L.$$typeof===Q)return le(z,gu(z,L),H);Ou(z,L)}return null}function $(z,L,H,ie){var Se=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:w(z,L,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===Se?O(z,L,H,ie):null;case N:return H.key===Se?F(z,L,H,ie):null;case A:return Se=H._init,H=Se(H._payload),$(z,L,H,ie)}if($e(H)||U(H))return Se!==null?null:ee(z,L,H,ie,null);if(typeof H.then=="function")return $(z,L,Cu(H),ie);if(H.$$typeof===Q)return $(z,L,gu(z,H),ie);Ou(z,H)}return null}function Y(z,L,H,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return z=z.get(H)||null,w(L,z,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return z=z.get(ie.key===null?H:ie.key)||null,O(L,z,ie,Se);case N:return z=z.get(ie.key===null?H:ie.key)||null,F(L,z,ie,Se);case A:var Be=ie._init;return ie=Be(ie._payload),Y(z,L,H,ie,Se)}if($e(ie)||U(ie))return z=z.get(H)||null,ee(L,z,ie,Se,null);if(typeof ie.then=="function")return Y(z,L,H,Cu(ie),Se);if(ie.$$typeof===Q)return Y(z,L,H,gu(L,ie),Se);Ou(L,ie)}return null}function Ve(z,L,H,ie){for(var Se=null,Be=null,xe=L,De=L=0,en=null;xe!==null&&De<H.length;De++){xe.index>De?(en=xe,xe=null):en=xe.sibling;var tt=$(z,xe,H[De],ie);if(tt===null){xe===null&&(xe=en);break}t&&xe&&tt.alternate===null&&n(z,xe),L=d(tt,L,De),Be===null?Se=tt:Be.sibling=tt,Be=tt,xe=en}if(De===H.length)return i(z,xe),rt&&Oi(z,De),Se;if(xe===null){for(;De<H.length;De++)xe=le(z,H[De],ie),xe!==null&&(L=d(xe,L,De),Be===null?Se=xe:Be.sibling=xe,Be=xe);return rt&&Oi(z,De),Se}for(xe=l(xe);De<H.length;De++)en=Y(xe,z,De,H[De],ie),en!==null&&(t&&en.alternate!==null&&xe.delete(en.key===null?De:en.key),L=d(en,L,De),Be===null?Se=en:Be.sibling=en,Be=en);return t&&xe.forEach(function(Qa){return n(z,Qa)}),rt&&Oi(z,De),Se}function Oe(z,L,H,ie){if(H==null)throw Error(s(151));for(var Se=null,Be=null,xe=L,De=L=0,en=null,tt=H.next();xe!==null&&!tt.done;De++,tt=H.next()){xe.index>De?(en=xe,xe=null):en=xe.sibling;var Qa=$(z,xe,tt.value,ie);if(Qa===null){xe===null&&(xe=en);break}t&&xe&&Qa.alternate===null&&n(z,xe),L=d(Qa,L,De),Be===null?Se=Qa:Be.sibling=Qa,Be=Qa,xe=en}if(tt.done)return i(z,xe),rt&&Oi(z,De),Se;if(xe===null){for(;!tt.done;De++,tt=H.next())tt=le(z,tt.value,ie),tt!==null&&(L=d(tt,L,De),Be===null?Se=tt:Be.sibling=tt,Be=tt);return rt&&Oi(z,De),Se}for(xe=l(xe);!tt.done;De++,tt=H.next())tt=Y(xe,z,De,tt.value,ie),tt!==null&&(t&&tt.alternate!==null&&xe.delete(tt.key===null?De:tt.key),L=d(tt,L,De),Be===null?Se=tt:Be.sibling=tt,Be=tt);return t&&xe.forEach(function(N1){return n(z,N1)}),rt&&Oi(z,De),Se}function mt(z,L,H,ie){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var Se=H.key;L!==null;){if(L.key===Se){if(Se=H.type,Se===k){if(L.tag===7){i(z,L.sibling),ie=f(L,H.props.children),ie.return=z,z=ie;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&fg(Se)===L.type){i(z,L.sibling),ie=f(L,H.props),Gl(ie,H),ie.return=z,z=ie;break e}i(z,L);break}else n(z,L);L=L.sibling}H.type===k?(ie=Ni(H.props.children,z.mode,ie,H.key),ie.return=z,z=ie):(ie=hu(H.type,H.key,H.props,null,z.mode,ie),Gl(ie,H),ie.return=z,z=ie)}return b(z);case N:e:{for(Se=H.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){i(z,L.sibling),ie=f(L,H.children||[]),ie.return=z,z=ie;break e}else{i(z,L);break}else n(z,L);L=L.sibling}ie=Of(H,z.mode,ie),ie.return=z,z=ie}return b(z);case A:return Se=H._init,H=Se(H._payload),mt(z,L,H,ie)}if($e(H))return Ve(z,L,H,ie);if(U(H)){if(Se=U(H),typeof Se!="function")throw Error(s(150));return H=Se.call(H),Oe(z,L,H,ie)}if(typeof H.then=="function")return mt(z,L,Cu(H),ie);if(H.$$typeof===Q)return mt(z,L,gu(z,H),ie);Ou(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(i(z,L.sibling),ie=f(L,H),ie.return=z,z=ie):(i(z,L),ie=Cf(H,z.mode,ie),ie.return=z,z=ie),b(z)):i(z,L)}return function(z,L,H,ie){try{Fl=0;var Se=mt(z,L,H,ie);return xs=null,Se}catch(xe){if(xe===Pl||xe===vu)throw xe;var Be=Vn(29,xe,null,z.mode);return Be.lanes=ie,Be.return=z,Be}finally{}}}var Rs=hg(!0),dg=hg(!1),Yn=re(null),wr=null;function Da(t){var n=t.alternate;oe($t,$t.current&1),oe(Yn,t),wr===null&&(n===null||Ts.current!==null||n.memoizedState!==null)&&(wr=t)}function mg(t){if(t.tag===22){if(oe($t,$t.current),oe(Yn,t),wr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(wr=t)}}else Ia()}function Ia(){oe($t,$t.current),oe(Yn,Yn.current)}function na(t){pe(Yn),wr===t&&(wr=null),pe($t)}var $t=re(0);function Du(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Wh(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function uh(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:E({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ch={enqueueSetState:function(t,n,i){t=t._reactInternals;var l=Ln(),f=Na(l);f.payload=n,i!=null&&(f.callback=i),n=Ca(t,f,l),n!==null&&(Un(n,t,l),Ll(n,t,l))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=Ln(),f=Na(l);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Ca(t,f,l),n!==null&&(Un(n,t,l),Ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Ln(),l=Na(i);l.tag=2,n!=null&&(l.callback=n),n=Ca(t,l,i),n!==null&&(Un(n,t,i),Ll(n,t,i))}};function pg(t,n,i,l,f,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Rl(i,l)||!Rl(f,d):!0}function gg(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&ch.enqueueReplaceState(n,n.state,null)}function Li(t,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(t=t.defaultProps){i===n&&(i=E({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yg(t){Iu(t)}function vg(t){console.error(t)}function _g(t){Iu(t)}function Vu(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Eg(t,n,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fh(t,n,i){return i=Na(i),i.tag=3,i.payload={element:null},i.callback=function(){Vu(t,n)},i}function bg(t){return t=Na(t),t.tag=3,t}function Tg(t,n,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Eg(n,i,l)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Eg(n,i,l),typeof f!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Nb(t,n,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Il(n,i,f,!0),i=Yn.current,i!==null){switch(i.tag){case 13:return wr===null?Ph():i.alternate===null&&Ot===0&&(Ot=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===jf?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Lh(t,l,f)),!1;case 22:return i.flags|=65536,l===jf?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Lh(t,l,f)),!1}throw Error(s(435,i.tag))}return Lh(t,l,f),Ph(),!1}if(rt)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Vf&&(t=Error(s(422),{cause:l}),Dl(Fn(t,i)))):(l!==Vf&&(n=Error(s(423),{cause:l}),Dl(Fn(n,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Fn(l,i),f=fh(t.stateNode,l,f),Hf(t,f),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,i),Wl===null?Wl=[d]:Wl.push(d),Ot!==4&&(Ot=2),n===null)return!0;l=Fn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=fh(i.stateNode,l,t),Hf(i,t),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ua===null||!Ua.has(d))))return i.flags|=65536,f&=-f,i.lanes|=f,f=bg(f),Tg(f,t,i,l),Hf(i,f),!1}i=i.return}while(i!==null);return!1}var wg=Error(s(461)),Wt=!1;function on(t,n,i,l){n.child=t===null?dg(n,null,i,l):Rs(n,t.child,i,l)}function Sg(t,n,i,l,f){i=i.render;var d=n.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Mi(n),l=Yf(t,n,i,b,d,f),w=Kf(),t!==null&&!Wt?(Xf(t,n,f),ra(t,n,f)):(rt&&w&&Df(n),n.flags|=1,on(t,n,l,f),n.child)}function Ag(t,n,i,l,f){if(t===null){var d=i.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,xg(t,n,d,l,f)):(t=hu(i.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!_h(t,f)){var b=d.memoizedProps;if(i=i.compare,i=i!==null?i:Rl,i(b,l)&&t.ref===n.ref)return ra(t,n,f)}return n.flags|=1,t=Xr(d,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,i,l,f){if(t!==null){var d=t.memoizedProps;if(Rl(d,l)&&t.ref===n.ref)if(Wt=!1,n.pendingProps=l=d,_h(t,f))(t.flags&131072)!==0&&(Wt=!0);else return n.lanes=t.lanes,ra(t,n,f)}return hh(t,n,i,l,f)}function Rg(t,n,i){var l=n.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Ng(t,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(n,d!==null?d.cachePool:null),d!==null?xp(n,d):Gf(),mg(n);else return n.lanes=n.childLanes=536870912,Ng(t,n,d!==null?d.baseLanes|i:i,i)}else d!==null?(yu(n,d.cachePool),xp(n,d),Ia(),n.memoizedState=null):(t!==null&&yu(n,null),Gf(),Ia());return on(t,n,f,i),n.child}function Ng(t,n,i,l){var f=zf();return f=f===null?null:{parent:Qt._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},t!==null&&yu(n,null),Gf(),mg(n),t!==null&&Il(t,n,l,!0),null}function Mu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function hh(t,n,i,l,f){return Mi(n),i=Yf(t,n,i,l,void 0,f),l=Kf(),t!==null&&!Wt?(Xf(t,n,f),ra(t,n,f)):(rt&&l&&Df(n),n.flags|=1,on(t,n,i,f),n.child)}function Cg(t,n,i,l,f,d){return Mi(n),n.updateQueue=null,i=Np(n,l,i,f),Rp(t),l=Kf(),t!==null&&!Wt?(Xf(t,n,d),ra(t,n,d)):(rt&&l&&Df(n),n.flags|=1,on(t,n,i,d),n.child)}function Og(t,n,i,l,f){if(Mi(n),n.stateNode===null){var d=ys,b=i.contextType;typeof b=="object"&&b!==null&&(d=pn(b)),d=new i(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ch,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Bf(n),b=i.contextType,d.context=typeof b=="object"&&b!==null?pn(b):ys,d.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(uh(n,i,b,l),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&ch.enqueueReplaceState(d,d.state,null),zl(n,l,d,f),Ul(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var w=n.memoizedProps,O=Li(i,w);d.props=O;var F=d.context,ee=i.contextType;b=ys,typeof ee=="object"&&ee!==null&&(b=pn(ee));var le=i.getDerivedStateFromProps;ee=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==b)&&gg(n,d,l,b),Ra=!1;var $=n.memoizedState;d.state=$,zl(n,l,d,f),Ul(),F=n.memoizedState,w||$!==F||Ra?(typeof le=="function"&&(uh(n,i,le,l),F=n.memoizedState),(O=Ra||pg(n,i,O,l,$,F,b))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=b,l=O):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,qf(t,n),b=n.memoizedProps,ee=Li(i,b),d.props=ee,le=n.pendingProps,$=d.context,F=i.contextType,O=ys,typeof F=="object"&&F!==null&&(O=pn(F)),w=i.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==le||$!==O)&&gg(n,d,l,O),Ra=!1,$=n.memoizedState,d.state=$,zl(n,l,d,f),Ul();var Y=n.memoizedState;b!==le||$!==Y||Ra||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof w=="function"&&(uh(n,i,w,l),Y=n.memoizedState),(ee=Ra||pg(n,i,ee,l,$,Y,O)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=ee):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Mu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Rs(n,t.child,null,f),n.child=Rs(n,null,i,f)):on(t,n,i,f),n.memoizedState=d.state,t=n.child):t=ra(t,n,f),t}function Dg(t,n,i,l){return Ol(),n.flags|=256,on(t,n,i,l),n.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mh(t){return{baseLanes:t,cachePool:vp()}}function ph(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Kn),t}function Ig(t,n,i){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(rt){if(f?Da(n):Ia(),rt){var w=Ct,O;if(O=w){e:{for(O=w,w=Tr;O.nodeType!==8;){if(!w){w=null;break e}if(O=sr(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(n.memoizedState={dehydrated:w,treeContext:Ci!==null?{id:Zr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},O=Vn(18,null,null,0),O.stateNode=w,O.return=n,n.child=O,wn=n,Ct=null,O=!0):O=!1}O||Ii(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Wh(w)?n.lanes=32:n.lanes=536870912,null;na(n)}return w=l.children,l=l.fallback,f?(Ia(),f=n.mode,w=Pu({mode:"hidden",children:w},f),l=Ni(l,f,i,null),w.return=n,l.return=n,w.sibling=l,n.child=w,f=n.child,f.memoizedState=mh(i),f.childLanes=ph(t,b,i),n.memoizedState=dh,l):(Da(n),gh(n,w))}if(O=t.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(d)n.flags&256?(Da(n),n.flags&=-257,n=yh(t,n,i)):n.memoizedState!==null?(Ia(),n.child=t.child,n.flags|=128,n=null):(Ia(),f=l.fallback,w=n.mode,l=Pu({mode:"visible",children:l.children},w),f=Ni(f,w,i,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Rs(n,t.child,null,i),l=n.child,l.memoizedState=mh(i),l.childLanes=ph(t,b,i),n.memoizedState=dh,n=f);else if(Da(n),Wh(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(s(419)),l.stack="",l.digest=b,Dl({value:l,source:null,stack:null}),n=yh(t,n,i)}else if(Wt||Il(t,n,i,!1),b=(i&t.childLanes)!==0,Wt||b){if(b=_t,b!==null&&(l=i&-i,l=(l&42)!==0?1:On(l),l=(l&(b.suspendedLanes|i))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,gs(t,l),Un(b,t,l),wg;w.data==="$?"||Ph(),n=yh(t,n,i)}else w.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,Ct=sr(w.nextSibling),wn=n,rt=!0,Di=null,Tr=!1,t!==null&&(Qn[$n++]=Zr,Qn[$n++]=Wr,Qn[$n++]=Ci,Zr=t.id,Wr=t.overflow,Ci=n),n=gh(n,l.children),n.flags|=4096);return n}return f?(Ia(),f=l.fallback,w=n.mode,O=t.child,F=O.sibling,l=Xr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?f=Xr(F,f):(f=Ni(f,w,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,w=t.child.memoizedState,w===null?w=mh(i):(O=w.cachePool,O!==null?(F=Qt._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=vp(),w={baseLanes:w.baseLanes|i,cachePool:O}),f.memoizedState=w,f.childLanes=ph(t,b,i),n.memoizedState=dh,l):(Da(n),i=t.child,t=i.sibling,i=Xr(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function gh(t,n){return n=Pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Pu(t,n){return t=Vn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yh(t,n,i){return Rs(n,t.child,null,i),t=gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vg(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Pf(t.return,n,i)}function vh(t,n,i,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=f)}function Mg(t,n,i){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(on(t,n,l.children,i),l=$t.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,i,n);else if(t.tag===19)Vg(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe($t,l),f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&Du(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),vh(n,!1,f,i,d);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Du(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}vh(n,!0,i,null,d);break;case"together":vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),La|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Il(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=Xr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Xr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function _h(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function Cb(t,n,i){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),xa(n,Qt,t.memoizedState.cache),Ol();break;case 27:case 5:rn(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:xa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Da(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ig(t,n,i):(Da(n),t=ra(t,n,i),t!==null?t.sibling:null);Da(n);break;case 19:var f=(t.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Il(t,n,i,!1),l=(i&n.childLanes)!==0),f){if(l)return Mg(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe($t,$t.current),l)break;return null;case 22:case 23:return n.lanes=0,Rg(t,n,i);case 24:xa(n,Qt,t.memoizedState.cache)}return ra(t,n,i)}function Pg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Wt=!0;else{if(!_h(t,i)&&(n.flags&128)===0)return Wt=!1,Cb(t,n,i);Wt=(t.flags&131072)!==0}else Wt=!1,rt&&(n.flags&1048576)!==0&&fp(n,mu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")Nf(l)?(t=Li(l,t),n.tag=1,n=Og(null,n,l,t,i)):(n.tag=0,n=hh(null,n,l,t,i));else{if(l!=null){if(f=l.$$typeof,f===he){n.tag=11,n=Sg(null,n,l,t,i);break e}else if(f===I){n.tag=14,n=Ag(null,n,l,t,i);break e}}throw n=Qe(l)||l,Error(s(306,n,""))}}return n;case 0:return hh(t,n,n.type,n.pendingProps,i);case 1:return l=n.type,f=Li(l,n.pendingProps),Og(t,n,l,f,i);case 3:e:{if(Ye(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,qf(t,n),zl(n,l,null,i);var b=n.memoizedState;if(l=b.cache,xa(n,Qt,l),l!==d.cache&&kf(n,[Qt],i,!0),Ul(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Dg(t,n,l,i);break e}else if(l!==f){f=Fn(Error(s(424)),n),Dl(f),n=Dg(t,n,l,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ct=sr(t.firstChild),wn=n,rt=!0,Di=null,Tr=!0,i=dg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ol(),l===f){n=ra(t,n,i);break e}on(t,n,l,i)}n=n.child}return n;case 26:return Mu(t,n),t===null?(i=zy(n.type,null,n.pendingProps,null))?n.memoizedState=i:rt||(i=n.type,t=n.pendingProps,l=Ku(Ae.current).createElement(i),l[Ht]=n,l[kt]=t,cn(l,i,t),Dt(l),n.stateNode=l):n.memoizedState=zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rn(n),t===null&&rt&&(l=n.stateNode=ky(n.type,n.pendingProps,Ae.current),wn=n,Tr=!0,f=Ct,Ba(n.type)?(Jh=f,Ct=sr(l.firstChild)):Ct=f),on(t,n,n.pendingProps.children,i),Mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rt&&((f=l=Ct)&&(l=r1(l,n.type,n.pendingProps,Tr),l!==null?(n.stateNode=l,wn=n,Ct=sr(l.firstChild),Tr=!1,f=!0):f=!1),f||Ii(n)),rn(n),f=n.type,d=n.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,Kh(f,d)?l=null:b!==null&&Kh(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Yf(t,n,bb,null,null,i),lo._currentValue=f),Mu(t,n),on(t,n,l,i),n.child;case 6:return t===null&&rt&&((t=i=Ct)&&(i=a1(i,n.pendingProps,Tr),i!==null?(n.stateNode=i,wn=n,Ct=null,t=!0):t=!1),t||Ii(n)),null;case 13:return Ig(t,n,i);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Rs(n,null,l,i):on(t,n,l,i),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,i);case 7:return on(t,n,n.pendingProps,i),n.child;case 8:return on(t,n,n.pendingProps.children,i),n.child;case 12:return on(t,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,xa(n,n.type,l.value),on(t,n,l.children,i),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Mi(n),f=pn(f),l=l(f),n.flags|=1,on(t,n,l,i),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,i);case 15:return xg(t,n,n.type,n.pendingProps,i);case 19:return Mg(t,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},t===null?(i=Pu(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Xr(t.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Rg(t,n,i);case 24:return Mi(n),l=pn(Qt),t===null?(f=zf(),f===null&&(f=_t,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=i),f=d),n.memoizedState={parent:l,cache:f},Bf(n),xa(n,Qt,f)):((t.lanes&i)!==0&&(qf(t,n),zl(n,null,null,i),Ul()),f=t.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),xa(n,Qt,l)):(l=d.cache,xa(n,Qt,l),l!==f.cache&&kf(n,[Qt],i,!0))),on(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function aa(t){t.flags|=4}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(n)){if(n=Yn.current,n!==null&&((Ze&4194048)===Ze?wr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||n!==wr))throw kl=jf,_p;t.flags|=8192}}function ku(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nt():536870912,t.lanes|=n,Ds|=n)}function Ql(t,n){if(!rt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function Ob(t,n,i){var l=n.pendingProps;switch(If(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return i=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ea(Qt),mn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Cl(n)?aa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mp())),St(n),null;case 26:return i=n.memoizedState,t===null?(aa(n),i!==null?(St(n),kg(n,i)):(St(n),n.flags&=-16777217)):i?i!==t.memoizedState?(aa(n),St(n),kg(n,i)):(St(n),n.flags&=-16777217):(t.memoizedProps!==l&&aa(n),St(n),n.flags&=-16777217),null;case 27:pt(n),i=Ae.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}t=Ee.current,Cl(n)?hp(n):(t=ky(f,l,i),n.stateNode=t,aa(n))}return St(n),null;case 5:if(pt(n),i=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}if(t=Ee.current,Cl(n))hp(n);else{switch(f=Ku(Ae.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}t[Ht]=n,t[kt]=l;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;e:switch(cn(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&aa(n)}}return St(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ae.current,Cl(n)){if(t=n.stateNode,i=n.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ht]=n,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Cy(t.nodeValue,i)),t||Ii(n)}else t=Ku(t).createTextNode(l),t[Ht]=n,n.stateNode=t}return St(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ht]=n}else Ol(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),f=!1}else f=mp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(na(n),n):(na(n),null)}if(na(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return i!==t&&i&&(n.child.flags|=8192),ku(n,n.updateQueue),St(n),null;case 4:return mn(),t===null&&Fh(n.stateNode.containerInfo),St(n),null;case 10:return ea(n.type),St(n),null;case 19:if(pe($t),f=n.memoizedState,f===null)return St(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)Ql(f,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Du(t),d!==null){for(n.flags|=128,Ql(f,!1),t=d.updateQueue,n.updateQueue=t,ku(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)cp(i,t),i=i.sibling;return oe($t,$t.current&1|2),n.child}t=t.sibling}f.tail!==null&&Sn()>zu&&(n.flags|=128,l=!0,Ql(f,!1),n.lanes=4194304)}else{if(!l)if(t=Du(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ku(n,t),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!rt)return St(n),null}else 2*Sn()-f.renderingStartTime>zu&&i!==536870912&&(n.flags|=128,l=!0,Ql(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Sn(),n.sibling=null,t=$t.current,oe($t,l?t&1|2:t&1),n):(St(n),null);case 22:case 23:return na(n),Qf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),i=n.updateQueue,i!==null&&ku(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),t!==null&&pe(Pi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ea(Qt),St(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Db(t,n){switch(If(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ea(Qt),mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pt(n),null;case 13:if(na(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return pe($t),null;case 4:return mn(),null;case 10:return ea(n.type),null;case 22:case 23:return na(n),Qf(),t!==null&&pe(Pi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ea(Qt),null;case 25:return null;default:return null}}function Lg(t,n){switch(If(n),n.tag){case 3:ea(Qt),mn();break;case 26:case 27:case 5:pt(n);break;case 4:mn();break;case 13:na(n);break;case 19:pe($t);break;case 10:ea(n.type);break;case 22:case 23:na(n),Qf(),t!==null&&pe(Pi);break;case 24:ea(Qt)}}function $l(t,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var d=i.create,b=i.inst;l=d(),b.destroy=l}i=i.next}while(i!==f)}}catch(w){yt(n,n.return,w)}}function Va(t,n,i){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var O=i,F=w;try{F()}catch(ee){yt(f,O,ee)}}}l=l.next}while(l!==d)}}catch(ee){yt(n,n.return,ee)}}function Ug(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Ap(n,i)}catch(l){yt(t,t.return,l)}}}function zg(t,n,i){i.props=Li(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){yt(t,n,l)}}function Yl(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){yt(t,n,f)}}function Sr(t,n){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){yt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){yt(t,n,f)}else i.current=null}function jg(t){var n=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){yt(t,t.return,f)}}function Eh(t,n,i){try{var l=t.stateNode;Wb(l,t.type,i,n),l[kt]=n}catch(f){yt(t,t.return,f)}}function Bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function bh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Yu));else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Th(t,n,i),t=t.sibling;t!==null;)Th(t,n,i),t=t.sibling}function Lu(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Lu(t,n,i),t=t.sibling;t!==null;)Lu(t,n,i),t=t.sibling}function qg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);cn(n,l,i),n[Ht]=t,n[kt]=i}catch(d){yt(t,t.return,d)}}var ia=!1,Vt=!1,wh=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Ib(t,n){if(t=t.containerInfo,$h=tc,t=ep(t),bf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var b=0,w=-1,O=-1,F=0,ee=0,le=t,$=null;t:for(;;){for(var Y;le!==i||f!==0&&le.nodeType!==3||(w=b+f),le!==d||l!==0&&le.nodeType!==3||(O=b+l),le.nodeType===3&&(b+=le.nodeValue.length),(Y=le.firstChild)!==null;)$=le,le=Y;for(;;){if(le===t)break t;if($===i&&++F===f&&(w=b),$===d&&++ee===l&&(O=b),(Y=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=Y}i=w===-1||O===-1?null:{start:w,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yh={focusedElem:t,selectionRange:i},tc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=n,f=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var Ve=Li(i.type,f,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){yt(i,i.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)Zh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Fg(t,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ma(t,i),l&4&&$l(5,i);break;case 1:if(Ma(t,i),l&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){yt(i,i.return,b)}else{var f=Li(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){yt(i,i.return,b)}}l&64&&Ug(i),l&512&&Yl(i,i.return);break;case 3:if(Ma(t,i),l&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Ap(t,n)}catch(b){yt(i,i.return,b)}}break;case 27:n===null&&l&4&&qg(i);case 26:case 5:Ma(t,i),n===null&&l&4&&jg(i),l&512&&Yl(i,i.return);break;case 12:Ma(t,i);break;case 13:Ma(t,i),l&4&&$g(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Bb.bind(null,i),i1(t,i))));break;case 22:if(l=i.memoizedState!==null||ia,!l){n=n!==null&&n.memoizedState!==null||Vt,f=ia;var d=Vt;ia=l,(Vt=n)&&!d?Pa(t,i,(i.subtreeFlags&8772)!==0):Ma(t,i),ia=f,Vt=d}break;case 30:break;default:Ma(t,i)}}function Gg(t){var n=t.alternate;n!==null&&(t.alternate=null,Gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,xn=!1;function sa(t,n,i){for(i=i.child;i!==null;)Qg(t,n,i),i=i.sibling}function Qg(t,n,i){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(B,i)}catch{}switch(i.tag){case 26:Vt||Sr(i,n),sa(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Vt||Sr(i,n);var l=Tt,f=xn;Ba(i.type)&&(Tt=i.stateNode,xn=!1),sa(t,n,i),ro(i.stateNode),Tt=l,xn=f;break;case 5:Vt||Sr(i,n);case 6:if(l=Tt,f=xn,Tt=null,sa(t,n,i),Tt=l,xn=f,Tt!==null)if(xn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(i.stateNode)}catch(d){yt(i,n,d)}else try{Tt.removeChild(i.stateNode)}catch(d){yt(i,n,d)}break;case 18:Tt!==null&&(xn?(t=Tt,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),fo(t)):My(Tt,i.stateNode));break;case 4:l=Tt,f=xn,Tt=i.stateNode.containerInfo,xn=!0,sa(t,n,i),Tt=l,xn=f;break;case 0:case 11:case 14:case 15:Vt||Va(2,i,n),Vt||Va(4,i,n),sa(t,n,i);break;case 1:Vt||(Sr(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&zg(i,n,l)),sa(t,n,i);break;case 21:sa(t,n,i);break;case 22:Vt=(l=Vt)||i.memoizedState!==null,sa(t,n,i),Vt=l;break;default:sa(t,n,i)}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(i){yt(n,n.return,i)}}function Vb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hg),n;default:throw Error(s(435,t.tag))}}function Sh(t,n){var i=Vb(t);n.forEach(function(l){var f=qb.bind(null,t,l);i.has(l)||(i.add(l),l.then(f,f))})}function Mn(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],d=t,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ba(w.type)){Tt=w.stateNode,xn=!1;break e}break;case 5:Tt=w.stateNode,xn=!1;break e;case 3:case 4:Tt=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(Tt===null)throw Error(s(160));Qg(d,b,f),Tt=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var ir=null;function Yg(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Pn(t),l&4&&(Va(3,t,t.return),$l(3,t),Va(5,t,t.return));break;case 1:Mn(n,t),Pn(t),l&512&&(Vt||i===null||Sr(i,i.return)),l&64&&ia&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=ir;if(Mn(n,t),Pn(t),l&512&&(Vt||i===null||Sr(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),cn(d,l,i),d[Ht]=t,Dt(d),l=d;break e;case"link":var b=qy("link","href",f).get(l+(i.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(w,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;case"meta":if(b=qy("meta","content",f).get(l+(i.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(w,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ht]=t,Dt(d),l=d}t.stateNode=l}else Hy(f,t.type,t.stateNode);else t.stateNode=By(f,l,t.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Hy(f,t.type,t.stateNode):By(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Eh(t,t.memoizedProps,i.memoizedProps)}break;case 27:Mn(n,t),Pn(t),l&512&&(Vt||i===null||Sr(i,i.return)),i!==null&&l&4&&Eh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Mn(n,t),Pn(t),l&512&&(Vt||i===null||Sr(i,i.return)),t.flags&32){f=t.stateNode;try{jn(f,"")}catch(Y){yt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Eh(t,f,i!==null?i.memoizedProps:f)),l&1024&&(wh=!0);break;case 6:if(Mn(n,t),Pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(Y){yt(t,t.return,Y)}}break;case 3:if(Wu=null,f=ir,ir=Xu(n.containerInfo),Mn(n,t),ir=f,Pn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{fo(n.containerInfo)}catch(Y){yt(t,t.return,Y)}wh&&(wh=!1,Kg(t));break;case 4:l=ir,ir=Xu(t.stateNode.containerInfo),Mn(n,t),Pn(t),ir=l;break;case 12:Mn(n,t),Pn(t);break;case 13:Mn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oh=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 22:f=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,F=ia,ee=Vt;if(ia=F||f,Vt=ee||O,Mn(n,t),Vt=ee,ia=F,Pn(t),l&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||O||ia||Vt||Ui(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){O=i=n;try{if(d=O.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var le=O.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){yt(O,O.return,Y)}}}else if(n.tag===6){if(i===null){O=n;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Y){yt(O,O.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Sh(t,i))));break;case 19:Mn(n,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 30:break;case 21:break;default:Mn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var i,l=t.return;l!==null;){if(Bg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,d=bh(t);Lu(t,d,f);break;case 5:var b=i.stateNode;i.flags&32&&(jn(b,""),i.flags&=-33);var w=bh(t);Lu(t,w,b);break;case 3:case 4:var O=i.stateNode.containerInfo,F=bh(t);Th(t,F,O);break;default:throw Error(s(161))}}catch(ee){yt(t,t.return,ee)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ma(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function Ui(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Va(4,n,n.return),Ui(n);break;case 1:Sr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&zg(n,n.return,i),Ui(n);break;case 27:ro(n.stateNode);case 26:case 5:Sr(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}t=t.sibling}}function Pa(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(f,d,i),$l(4,d);break;case 1:if(Pa(f,d,i),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){yt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Sp(O[f],w)}catch(F){yt(l,l.return,F)}}i&&b&64&&Ug(d),Yl(d,d.return);break;case 27:qg(d);case 26:case 5:Pa(f,d,i),i&&l===null&&b&4&&jg(d),Yl(d,d.return);break;case 12:Pa(f,d,i);break;case 13:Pa(f,d,i),i&&b&4&&$g(f,d);break;case 22:d.memoizedState===null&&Pa(f,d,i),Yl(d,d.return);break;case 30:break;default:Pa(f,d,i)}n=n.sibling}}function Ah(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Vl(i))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t))}function Ar(t,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,i,l),n=n.sibling}function Xg(t,n,i,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ar(t,n,i,l),f&2048&&$l(9,n);break;case 1:Ar(t,n,i,l);break;case 3:Ar(t,n,i,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t)));break;case 12:if(f&2048){Ar(t,n,i,l),t=n.stateNode;try{var d=n.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){yt(n,n.return,O)}}else Ar(t,n,i,l);break;case 13:Ar(t,n,i,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ar(t,n,i,l):Kl(t,n):d._visibility&2?Ar(t,n,i,l):(d._visibility|=2,Ns(t,n,i,l,(n.subtreeFlags&10256)!==0)),f&2048&&Ah(b,n);break;case 24:Ar(t,n,i,l),f&2048&&xh(n.alternate,n);break;default:Ar(t,n,i,l)}}function Ns(t,n,i,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,b=n,w=i,O=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ns(d,b,w,O,f),$l(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Ns(d,b,w,O,f):Kl(d,b):(ee._visibility|=2,Ns(d,b,w,O,f)),f&&F&2048&&Ah(b.alternate,b);break;case 24:Ns(d,b,w,O,f),f&&F&2048&&xh(b.alternate,b);break;default:Ns(d,b,w,O,f)}n=n.sibling}}function Kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,l=n,f=l.flags;switch(l.tag){case 22:Kl(i,l),f&2048&&Ah(l.alternate,l);break;case 24:Kl(i,l),f&2048&&xh(l.alternate,l);break;default:Kl(i,l)}n=n.sibling}}var Xl=8192;function Cs(t){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Cs(t),t.flags&Xl&&t.memoizedState!==null&&v1(ir,t.memoizedState,t.memoizedProps);break;case 5:Cs(t);break;case 3:case 4:var n=ir;ir=Xu(t.stateNode.containerInfo),Cs(t),ir=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Xl,Xl=16777216,Cs(t),Xl=n):Cs(t));break;default:Cs(t)}}function Wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Jt=l,ey(l,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&Va(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uu(t)):Zl(t);break;default:Zl(t)}}function Uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Jt=l,ey(l,t)}Wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Va(8,n,n.return),Uu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Uu(n));break;default:Uu(n)}t=t.sibling}}function ey(t,n){for(;Jt!==null;){var i=Jt;switch(i.tag){case 0:case 11:case 15:Va(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Jt=l;else e:for(i=t;Jt!==null;){l=Jt;var f=l.sibling,d=l.return;if(Gg(l),l===i){Jt=null;break e}if(f!==null){f.return=d,Jt=f;break e}Jt=d}}}var Mb={getCacheForType:function(t){var n=pn(Qt),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i}},Pb=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,qe=null,Ze=0,ct=0,kn=null,ka=!1,Os=!1,Rh=!1,la=0,Ot=0,La=0,zi=0,Nh=0,Kn=0,Ds=0,Wl=null,Rn=null,Ch=!1,Oh=0,zu=1/0,ju=null,Ua=null,un=0,za=null,Is=null,Vs=0,Dh=0,Ih=null,ty=null,Jl=0,Vh=null;function Ln(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(K.T!==null){var t=Es;return t!==0?t:jh()}return tr()}function ny(){Kn===0&&(Kn=(Ze&536870912)===0||rt?ot():536870912);var t=Yn.current;return t!==null&&(t.flags|=32),Kn}function Un(t,n,i){(t===_t&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),ja(t,Ze,Kn,!1)),at(t,i),((ut&2)===0||t!==_t)&&(t===_t&&((ut&2)===0&&(zi|=i),Ot===4&&ja(t,Ze,Kn,!1)),xr(t))}function ry(t,n,i){if((ut&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&t.expiredLanes)===0||Me(t,n),f=l?Ub(t,n):kh(t,n,!0),d=l;do{if(f===0){Os&&!l&&ja(t,n,0,!1);break}else{if(i=t.current.alternate,d&&!kb(i)){f=kh(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=t;f=Wl;var O=w.current.memoizedState.isDehydrated;if(O&&(Ms(w,b).flags|=256),b=kh(w,b,!1),b!==2){if(Rh&&!O){w.errorRecoveryDisabledLanes|=d,zi|=d,f=4;break e}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){Ms(t,0),ja(t,n,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ja(l,n,Kn,!ka);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Oh+300-Sn(),10<f)){if(ja(l,n,Kn,!ka),_e(l,0,!0)!==0)break e;l.timeoutHandle=Iy(ay.bind(null,l,i,Rn,ju,Ch,n,Kn,zi,Ds,ka,d,2,-0,0),f);break e}ay(l,i,Rn,ju,Ch,n,Kn,zi,Ds,ka,d,0,-0,0)}}break}while(!0);xr(t)}function ay(t,n,i,l,f,d,b,w,O,F,ee,le,$,Y){if(t.timeoutHandle=-1,le=n.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(so={stylesheets:null,count:0,unsuspend:y1},Zg(n),le=_1(),le!==null)){t.cancelPendingCommit=le(fy.bind(null,t,n,d,i,l,f,b,w,O,ee,1,$,Y)),ja(t,d,b,!F);return}fy(t,n,d,i,l,f,b,w,O)}function kb(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(t,n,i,l){n&=~Nh,n&=~zi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var d=31-Ne(f),b=1<<d;l[d]=-1,f&=~b}i!==0&&an(t,i,n)}function Bu(){return(ut&6)===0?(eo(0),!1):!0}function Mh(){if(qe!==null){if(ct===0)var t=qe.return;else t=qe,Jr=Vi=null,Zf(t),xs=null,Fl=0,t=qe;for(;t!==null;)Lg(t.alternate,t),t=t.return;qe=null}}function Ms(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,e1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Mh(),_t=t,qe=i=Xr(t.current,null),Ze=n,ct=0,kn=null,ka=!1,Os=Me(t,n),Rh=!1,Ds=Kn=Nh=zi=La=Ot=0,Rn=Wl=null,Ch=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-Ne(l),d=1<<f;n|=t[f],l&=~d}return la=n,uu(),i}function iy(t,n){je=null,K.H=Nu,n===Pl||n===vu?(n=Tp(),ct=3):n===_p?(n=Tp(),ct=4):ct=n===wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,qe===null&&(Ot=1,Vu(t,Fn(n,t.current)))}function sy(){var t=K.H;return K.H=Nu,t===null?Nu:t}function ly(){var t=K.A;return K.A=Mb,t}function Ph(){Ot=4,ka||(Ze&4194048)!==Ze&&Yn.current!==null||(Os=!0),(La&134217727)===0&&(zi&134217727)===0||_t===null||ja(_t,Ze,Kn,!1)}function kh(t,n,i){var l=ut;ut|=2;var f=sy(),d=ly();(_t!==t||Ze!==n)&&(ju=null,Ms(t,n)),n=!1;var b=Ot;e:do try{if(ct!==0&&qe!==null){var w=qe,O=kn;switch(ct){case 8:Mh(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(n=!0);var F=ct;if(ct=0,kn=null,Ps(t,w,O,F),i&&Os){b=0;break e}break;default:F=ct,ct=0,kn=null,Ps(t,w,O,F)}}Lb(),b=Ot;break}catch(ee){iy(t,ee)}while(!0);return n&&t.shellSuspendCounter++,Jr=Vi=null,ut=l,K.H=f,K.A=d,qe===null&&(_t=null,Ze=0,uu()),b}function Lb(){for(;qe!==null;)oy(qe)}function Ub(t,n){var i=ut;ut|=2;var l=sy(),f=ly();_t!==t||Ze!==n?(ju=null,zu=Sn()+500,Ms(t,n)):Os=Me(t,n);e:do try{if(ct!==0&&qe!==null){n=qe;var d=kn;t:switch(ct){case 1:ct=0,kn=null,Ps(t,n,d,1);break;case 2:case 9:if(Ep(d)){ct=0,kn=null,uy(n);break}n=function(){ct!==2&&ct!==9||_t!==t||(ct=7),xr(t)},d.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Ep(d)?(ct=0,kn=null,uy(n)):(ct=0,kn=null,Ps(t,n,d,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var w=qe;if(!b||Fy(b)){ct=0,kn=null;var O=w.sibling;if(O!==null)qe=O;else{var F=w.return;F!==null?(qe=F,qu(F)):qe=null}break t}}ct=0,kn=null,Ps(t,n,d,5);break;case 6:ct=0,kn=null,Ps(t,n,d,6);break;case 8:Mh(),Ot=6;break e;default:throw Error(s(462))}}zb();break}catch(ee){iy(t,ee)}while(!0);return Jr=Vi=null,K.H=l,K.A=f,ut=i,qe!==null?0:(_t=null,Ze=0,uu(),Ot)}function zb(){for(;qe!==null&&!va();)oy(qe)}function oy(t){var n=Pg(t.alternate,t,la);t.memoizedProps=t.pendingProps,n===null?qu(t):qe=n}function uy(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Cg(i,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=Cg(i,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:Zf(n);default:Lg(i,n),n=qe=cp(n,la),n=Pg(i,n,la)}t.memoizedProps=t.pendingProps,n===null?qu(t):qe=n}function Ps(t,n,i,l){Jr=Vi=null,Zf(n),xs=null,Fl=0;var f=n.return;try{if(Nb(t,f,n,i,Ze)){Ot=1,Vu(t,Fn(i,t.current)),qe=null;return}}catch(d){if(f!==null)throw qe=f,d;Ot=1,Vu(t,Fn(i,t.current)),qe=null;return}n.flags&32768?(rt||l===1?t=!0:Os||(Ze&536870912)!==0?t=!1:(ka=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cy(n,t)):qu(n)}function qu(t){var n=t;do{if((n.flags&32768)!==0){cy(n,ka);return}t=n.return;var i=Ob(n.alternate,n,la);if(i!==null){qe=i;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);Ot===0&&(Ot=5)}function cy(t,n){do{var i=Db(t.alternate,t);if(i!==null){i.flags&=32767,qe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=i}while(t!==null);Ot=6,qe=null}function fy(t,n,i,l,f,d,b,w,O){t.cancelPendingCommit=null;do Hu();while(un!==0);if((ut&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=xf,Nt(t,i,d,b,w,O),t===_t&&(qe=_t=null,Ze=0),Is=n,za=t,Vs=i,Dh=d,Ih=f,ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hb(er,function(){return gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=me.p,me.p=2,b=ut,ut|=4;try{Ib(t,n,i)}finally{ut=b,me.p=f,K.T=l}}un=1,hy(),dy(),my()}}function hy(){if(un===1){un=0;var t=za,n=Is,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{Yg(n,t);var d=Yh,b=ep(t.containerInfo),w=d.focusedElem,O=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&Jm(w.ownerDocument.documentElement,w)){if(O!==null&&bf(w)){var F=O.start,ee=O.end;if(ee===void 0&&(ee=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(ee,w.value.length);else{var le=w.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var Y=$.getSelection(),Ve=w.textContent.length,Oe=Math.min(O.start,Ve),mt=O.end===void 0?Oe:Math.min(O.end,Ve);!Y.extend&&Oe>mt&&(b=mt,mt=Oe,Oe=b);var z=Wm(w,Oe),L=Wm(w,mt);if(z&&L&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=le.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),Oe>mt?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(le=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&le.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var ie=le[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}tc=!!$h,Yh=$h=null}finally{ut=f,me.p=l,K.T=i}}t.current=n,un=2}}function dy(){if(un===2){un=0;var t=za,n=Is,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{Fg(t,n.alternate,n)}finally{ut=f,me.p=l,K.T=i}}un=3}}function my(){if(un===4||un===3){un=0,ui();var t=za,n=Is,i=Vs,l=ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?un=5:(un=0,Is=za=null,py(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ua=null),zr(i),n=n.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(B,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,f=me.p,me.p=2,K.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];d(w.value,{componentStack:w.stack})}}finally{K.T=n,me.p=f}}(Vs&3)!==0&&Hu(),xr(t),f=t.pendingLanes,(i&4194090)!==0&&(f&42)!==0?t===Vh?Jl++:(Jl=0,Vh=t):Jl=0,eo(0)}}function py(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Vl(n)))}function Hu(t){return hy(),dy(),my(),gy()}function gy(){if(un!==5)return!1;var t=za,n=Dh;Dh=0;var i=zr(Vs),l=K.T,f=me.p;try{me.p=32>i?32:i,K.T=null,i=Ih,Ih=null;var d=za,b=Vs;if(un=0,Is=za=null,Vs=0,(ut&6)!==0)throw Error(s(331));var w=ut;if(ut|=4,Jg(d.current),Xg(d,d.current,b,i),ut=w,eo(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(B,d)}catch{}return!0}finally{me.p=f,K.T=l,py(t,n)}}function yy(t,n,i){n=Fn(i,n),n=fh(t.stateNode,n,2),t=Ca(t,n,2),t!==null&&(at(t,2),xr(t))}function yt(t,n,i){if(t.tag===3)yy(t,t,i);else for(;n!==null;){if(n.tag===3){yy(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ua===null||!Ua.has(l))){t=Fn(i,t),i=bg(2),l=Ca(n,i,2),l!==null&&(Tg(i,l,n,t),at(l,2),xr(l));break}}n=n.return}}function Lh(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Pb;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(i)||(Rh=!0,f.add(i),t=jb.bind(null,t,n,i),n.then(t,t))}function jb(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,_t===t&&(Ze&i)===i&&(Ot===4||Ot===3&&(Ze&62914560)===Ze&&300>Sn()-Oh?(ut&2)===0&&Ms(t,0):Nh|=i,Ds===Ze&&(Ds=0)),xr(t)}function vy(t,n){n===0&&(n=nt()),t=gs(t,n),t!==null&&(at(t,n),xr(t))}function Bb(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),vy(t,i)}function qb(t,n){var i=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),vy(t,i)}function Hb(t,n){return Rt(t,n)}var Fu=null,ks=null,Uh=!1,Gu=!1,zh=!1,ji=0;function xr(t){t!==ks&&t.next===null&&(ks===null?Fu=ks=t:ks=ks.next=t),Gu=!0,Uh||(Uh=!0,Gb())}function eo(t,n){if(!zh&&Gu){zh=!0;do for(var i=!1,l=Fu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Ne(42|t)+1)-1,d&=f&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Ty(l,d))}else d=Ze,d=_e(l,l===_t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Me(l,d)||(i=!0,Ty(l,d));l=l.next}while(i);zh=!1}}function Fb(){_y()}function _y(){Gu=Uh=!1;var t=0;ji!==0&&(Jb()&&(t=ji),ji=0);for(var n=Sn(),i=null,l=Fu;l!==null;){var f=l.next,d=Ey(l,n);d===0?(l.next=null,i===null?Fu=f:i.next=f,f===null&&(ks=i)):(i=l,(t!==0||(d&3)!==0)&&(Gu=!0)),l=f}eo(t)}function Ey(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-Ne(d),w=1<<b,O=f[b];O===-1?((w&i)===0||(w&l)!==0)&&(f[b]=lt(w,n)):O<=n&&(t.expiredLanes|=w),d&=~w}if(n=_t,i=Ze,i=_e(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Me(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(l!==null&&Lr(l),zr(i)){case 2:case 8:i=Ur;break;case 32:i=er;break;case 268435456:i=fr;break;default:i=er}return l=by.bind(null,t),i=Rt(i,l),t.callbackPriority=n,t.callbackNode=i,n}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function by(t,n){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Hu()&&t.callbackNode!==i)return null;var l=Ze;return l=_e(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ry(t,l,n),Ey(t,Sn()),t.callbackNode!=null&&t.callbackNode===i?by.bind(null,t):null)}function Ty(t,n){if(Hu())return null;ry(t,n,!0)}function Gb(){t1(function(){(ut&6)!==0?Rt(ci,Fb):_y()})}function jh(){return ji===0&&(ji=ot()),ji}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:as(""+t)}function Sy(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function Qb(t,n,i,l,f){if(n==="submit"&&i&&i.stateNode===f){var d=wy((f[kt]||null).action),b=l.submitter;b&&(n=(n=b[kt]||null)?wy(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var w=new is("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ji!==0){var O=b?Sy(f,b):new FormData(f);sh(i,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=b?Sy(f,b):new FormData(f),sh(i,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Bh=0;Bh<Af.length;Bh++){var qh=Af[Bh],$b=qh.toLowerCase(),Yb=qh[0].toUpperCase()+qh.slice(1);ar($b,"on"+Yb)}ar(rp,"onAnimationEnd"),ar(ap,"onAnimationIteration"),ar(ip,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(fb,"onTransitionRun"),ar(hb,"onTransitionStart"),ar(db,"onTransitionCancel"),ar(sp,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function Ay(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var w=l[b],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(ee){Iu(ee)}f.currentTarget=null,d=O}else for(b=0;b<l.length;b++){if(w=l[b],O=w.instance,F=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(ee){Iu(ee)}f.currentTarget=null,d=O}}}}function He(t,n){var i=n[hl];i===void 0&&(i=n[hl]=new Set);var l=t+"__bubble";i.has(l)||(xy(n,t,2,!1),i.add(l))}function Hh(t,n,i){var l=0;n&&(l|=4),xy(i,t,l,n)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[Qu]){t[Qu]=!0,dl.forEach(function(i){i!=="selectionchange"&&(Kb.has(i)||Hh(i,!1,t),Hh(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qu]||(n[Qu]=!0,Hh("selectionchange",!1,n))}}function xy(t,n,i,l){switch(Xy(n)){case 2:var f=T1;break;case 8:f=w1;break;default:f=ad}i=f.bind(null,n,i,t),f=void 0,!qn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function Gh(t,n,i,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=jr(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=d=b;continue e}w=w.parentNode}}l=l.return}Yo(function(){var F=d,ee=Bn(i),le=[];e:{var $=lp.get(t);if($!==void 0){var Y=is,Ve=t;switch(t){case"keypress":if(yr(i)===0)break e;case"keydown":case"keyup":Y=fs;break;case"focusin":Ve="focus",Y=os;break;case"focusout":Ve="blur",Y=os;break;case"beforeblur":case"afterblur":Y=os;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=nu;break;case rp:case ap:case ip:Y=us;break;case sp:Y=au;break;case"scroll":case"scrollend":Y=Ko;break;case"wheel":Y=hs;break;case"copy":case"cut":case"paste":Y=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Al;break;case"toggle":case"beforetoggle":Y=su}var Oe=(n&4)!==0,mt=!Oe&&(t==="scroll"||t==="scrollend"),z=Oe?$!==null?$+"Capture":null:$;Oe=[];for(var L=F,H;L!==null;){var ie=L;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||z===null||(ie=_i(L,z),ie!=null&&Oe.push(no(L,ie,H))),mt)break;L=L.return}0<Oe.length&&($=new Y($,Ve,null,i,ee),le.push({event:$,listeners:Oe}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",$&&i!==Fr&&(Ve=i.relatedTarget||i.fromElement)&&(jr(Ve)||Ve[zn]))break e;if((Y||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Ve=i.relatedTarget||i.toElement,Y=F,Ve=Ve?jr(Ve):null,Ve!==null&&(mt=u(Ve),Oe=Ve.tag,Ve!==mt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ve=null)):(Y=null,Ve=F),Y!==Ve)){if(Oe=Hn,ie="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=Al,ie="onPointerLeave",z="onPointerEnter",L="pointer"),mt=Y==null?$:dr(Y),H=Ve==null?$:dr(Ve),$=new Oe(ie,L+"leave",Y,i,ee),$.target=mt,$.relatedTarget=H,ie=null,jr(ee)===F&&(Oe=new Oe(z,L+"enter",Ve,i,ee),Oe.target=H,Oe.relatedTarget=mt,ie=Oe),mt=ie,Y&&Ve)t:{for(Oe=Y,z=Ve,L=0,H=Oe;H;H=Ls(H))L++;for(H=0,ie=z;ie;ie=Ls(ie))H++;for(;0<L-H;)Oe=Ls(Oe),L--;for(;0<H-L;)z=Ls(z),H--;for(;L--;){if(Oe===z||z!==null&&Oe===z.alternate)break t;Oe=Ls(Oe),z=Ls(z)}Oe=null}else Oe=null;Y!==null&&Ry(le,$,Y,Oe,!1),Ve!==null&&mt!==null&&Ry(le,mt,Ve,Oe,!0)}}e:{if($=F?dr(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var Se=Qm;else if(Gt($))if($m)Se=ob;else{Se=sb;var Be=ib}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&vl(F.elementType)&&(Se=Qm):Se=lb;if(Se&&(Se=Se(t,F))){Kr(le,Se,i,ee);break e}Be&&Be(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Sa($,"number",$.value)}switch(Be=F?dr(F):window,t){case"focusin":(Gt(Be)||Be.contentEditable==="true")&&(ds=Be,Tf=F,Nl=null);break;case"focusout":Nl=Tf=ds=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,tp(le,i,ee);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":tp(le,i,ee)}var xe;if(Er)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ke?X(t,i)&&(De="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(De="onCompositionStart");De&&(_&&i.locale!=="ko"&&(Ke||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ke&&(xe=El()):(gr=ee,Aa="value"in gr?gr.value:gr.textContent,Ke=!0)),Be=$u(F,De),0<Be.length&&(De=new wl(De,t,null,i,ee),le.push({event:De,listeners:Be}),xe?De.data=xe:(xe=ge(i),xe!==null&&(De.data=xe)))),(xe=g?Ft(t,i):Xe(t,i))&&(De=$u(F,"onBeforeInput"),0<De.length&&(Be=new wl("onBeforeInput","beforeinput",null,i,ee),le.push({event:Be,listeners:De}),Be.data=xe)),Qb(le,t,F,i,ee)}Ay(le,n)})}function no(t,n,i){return{instance:t,listener:n,currentTarget:i}}function $u(t,n){for(var i=n+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_i(t,i),f!=null&&l.unshift(no(t,f,d)),f=_i(t,n),f!=null&&l.push(no(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ry(t,n,i,l,f){for(var d=n._reactName,b=[];i!==null&&i!==l;){var w=i,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||F===null||(O=F,f?(F=_i(i,d),F!=null&&b.unshift(no(i,F,O))):f||(F=_i(i,d),F!=null&&b.push(no(i,F,O)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var Xb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace(Zb,"")}function Cy(t,n){return n=Ny(n),Ny(t)===n}function Yu(){}function dt(t,n,i,l,f,d){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||jn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&jn(t,""+l);break;case"className":mr(t,"class",l);break;case"tabIndex":mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,i,l);break;case"style":yl(t,l,d);break;case"data":if(n!=="object"){mr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=as(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&dt(t,n,"name",f.name,f,null),dt(t,n,"formEncType",f.formEncType,f,null),dt(t,n,"formMethod",f.formMethod,f,null),dt(t,n,"formTarget",f.formTarget,f,null)):(dt(t,n,"encType",f.encType,f,null),dt(t,n,"method",f.method,f,null),dt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=as(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Yu);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=as(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":He("beforetoggle",t),He("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=pf.get(i)||i,wa(t,i,l))}}function Qh(t,n,i,l,f,d){switch(i){case"style":yl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?jn(t,l):(typeof l=="number"||typeof l=="bigint")&&jn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),d=t[kt]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):wa(t,i,l)}}}function cn(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,f=!1,d;for(d in i)if(i.hasOwnProperty(d)){var b=i[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,d,b,i,null)}}f&&dt(t,n,"srcSet",i.srcSet,i,null),l&&dt(t,n,"src",i.src,i,null);return;case"input":He("invalid",t);var w=d=b=f=null,O=null,F=null;for(l in i)if(i.hasOwnProperty(l)){var ee=i[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":b=ee;break;case"checked":O=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:dt(t,n,l,ee,i,null)}}gi(t,d,w,O,F,b,f,!1),rs(t);return;case"select":He("invalid",t),l=b=d=null;for(f in i)if(i.hasOwnProperty(f)&&(w=i[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:dt(t,n,f,w,i,null)}n=d,i=b,t.multiple=!!l,n!=null?Hr(t,!!l,n,!1):i!=null&&Hr(t,!!l,i,!0);return;case"textarea":He("invalid",t),d=f=l=null;for(b in i)if(i.hasOwnProperty(b)&&(w=i[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:dt(t,n,b,w,i,null)}yi(t,l,f,d),rs(t);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(l=i[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,n,O,l,i,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<to.length;l++)He(to[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in i)if(i.hasOwnProperty(F)&&(l=i[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,F,l,i,null)}return;default:if(vl(n)){for(ee in i)i.hasOwnProperty(ee)&&(l=i[ee],l!==void 0&&Qh(t,n,ee,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&dt(t,n,w,l,i,null))}function Wb(t,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,w=null,O=null,F=null,ee=null;for(Y in i){var le=i[Y];if(i.hasOwnProperty(Y)&&le!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=le;default:l.hasOwnProperty(Y)||dt(t,n,Y,null,l,le)}}for(var $ in l){var Y=l[$];if(le=i[$],l.hasOwnProperty($)&&(Y!=null||le!=null))switch($){case"type":d=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":ee=Y;break;case"value":b=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==le&&dt(t,n,$,Y,l,le)}}Dn(t,b,w,O,F,ee,d,f);return;case"select":Y=b=w=$=null;for(d in i)if(O=i[d],i.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||dt(t,n,d,null,l,O)}for(f in l)if(d=l[f],O=i[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==O&&dt(t,n,f,d,l,O)}n=w,i=b,l=Y,$!=null?Hr(t,!!i,$,!1):!!l!=!!i&&(n!=null?Hr(t,!!i,n,!0):Hr(t,!!i,i?[]:"",!1));return;case"textarea":Y=$=null;for(w in i)if(f=i[w],i.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:dt(t,n,w,null,l,f)}for(b in l)if(f=l[b],d=i[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":$=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&dt(t,n,b,f,l,d)}ft(t,$,Y);return;case"option":for(var Ve in i)if($=i[Ve],i.hasOwnProperty(Ve)&&$!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:dt(t,n,Ve,null,l,$)}for(O in l)if($=l[O],Y=i[O],l.hasOwnProperty(O)&&$!==Y&&($!=null||Y!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:dt(t,n,O,$,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in i)$=i[Oe],i.hasOwnProperty(Oe)&&$!=null&&!l.hasOwnProperty(Oe)&&dt(t,n,Oe,null,l,$);for(F in l)if($=l[F],Y=i[F],l.hasOwnProperty(F)&&$!==Y&&($!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:dt(t,n,F,$,l,Y)}return;default:if(vl(n)){for(var mt in i)$=i[mt],i.hasOwnProperty(mt)&&$!==void 0&&!l.hasOwnProperty(mt)&&Qh(t,n,mt,void 0,l,$);for(ee in l)$=l[ee],Y=i[ee],!l.hasOwnProperty(ee)||$===Y||$===void 0&&Y===void 0||Qh(t,n,ee,$,l,Y);return}}for(var z in i)$=i[z],i.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&dt(t,n,z,null,l,$);for(le in l)$=l[le],Y=i[le],!l.hasOwnProperty(le)||$===Y||$==null&&Y==null||dt(t,n,le,$,l,Y)}var $h=null,Yh=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function Jb(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(t){return Vy.resolve(null).then(t).catch(n1)}:Iy;function n1(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function My(t,n){var i=n,l=0,f=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var b=t.ownerDocument;if(i&1&&ro(b.documentElement),i&2&&ro(b.body),i&4)for(i=b.head,ro(i),b=i.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[hi]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=w}}if(f===0){t.removeChild(d),fo(n);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);fo(n)}function Zh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Zh(i),Ta(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function r1(t,n,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function a1(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=sr(t.nextSibling),t===null))return null;return t}function Wh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function i1(t,n){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Jh=null;function Py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}function ky(t,n,i){switch(n=Ku(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ro(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var Xn=new Map,Ly=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=me.d;me.d={f:s1,r:l1,D:o1,C:u1,L:c1,m:f1,X:d1,S:h1,M:m1};function s1(){var t=oa.f(),n=Bu();return t||n}function l1(t){var n=hr(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):oa.r(t)}var Us=typeof document>"u"?null:document;function Uy(t,n,i){var l=Us;if(l&&typeof n=="string"&&n){var f=Lt(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Ly.has(f)||(Ly.add(f),t={rel:t,crossOrigin:i,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),cn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function o1(t){oa.D(t),Uy("dns-prefetch",t,null)}function u1(t,n){oa.C(t,n),Uy("preconnect",t,n)}function c1(t,n,i){oa.L(t,n,i);var l=Us;if(l&&t&&n){var f='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Lt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Lt(i.imageSizes)+'"]')):f+='[href="'+Lt(t)+'"]';var d=f;switch(n){case"style":d=zs(t);break;case"script":d=js(t)}Xn.has(d)||(t=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),Xn.set(d,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(ao(d))||n==="script"&&l.querySelector(io(d))||(n=l.createElement("link"),cn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function f1(t,n){oa.m(t,n);var i=Us;if(i&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=js(t)}if(!Xn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Xn.set(d,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(io(d)))return}l=i.createElement("link"),cn(l,"link",t),Dt(l),i.head.appendChild(l)}}}function h1(t,n,i){oa.S(t,n,i);var l=Us;if(l&&t){var f=En(l).hoistableStyles,d=zs(t);n=n||"default";var b=f.get(d);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(ao(d)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},i),(i=Xn.get(d))&&ed(t,i);var O=b=l.createElement("link");Dt(O),cn(O,"link",t),O._p=new Promise(function(F,ee){O.onload=F,O.onerror=ee}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zu(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(d,b)}}}function d1(t,n){oa.X(t,n);var i=Us;if(i&&t){var l=En(i).hoistableScripts,f=js(t),d=l.get(f);d||(d=i.querySelector(io(f)),d||(t=E({src:t,async:!0},n),(n=Xn.get(f))&&td(t,n),d=i.createElement("script"),Dt(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function m1(t,n){oa.M(t,n);var i=Us;if(i&&t){var l=En(i).hoistableScripts,f=js(t),d=l.get(f);d||(d=i.querySelector(io(f)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Xn.get(f))&&td(t,n),d=i.createElement("script"),Dt(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function zy(t,n,i,l){var f=(f=Ae.current)?Xu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=zs(i.href),i=En(f).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=zs(i.href);var d=En(f).hoistableStyles,b=d.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=f.querySelector(ao(t)))&&!d._p&&(b.instance=d,b.state.loading=5),Xn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xn.set(t,i),d||p1(f,t,i,b.state))),n&&l===null)throw Error(s(528,""));return b}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=js(i),i=En(f).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function zs(t){return'href="'+Lt(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function p1(t,n,i,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",i),Dt(n),t.head.appendChild(n))}function js(t){return'[src="'+Lt(t)+'"]'}function io(t){return"script[async]"+t}function By(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(i.href)+'"]');if(l)return n.instance=l,Dt(l),l;var f=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),cn(l,"style",f),Zu(l,i.precedence,t),n.instance=l;case"stylesheet":f=zs(i.href);var d=t.querySelector(ao(f));if(d)return n.state.loading|=4,n.instance=d,Dt(d),d;l=jy(i),(f=Xn.get(f))&&ed(l,f),d=(t.ownerDocument||t).createElement("link"),Dt(d);var b=d;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),cn(d,"link",l),n.state.loading|=4,Zu(d,i.precedence,t),n.instance=d;case"script":return d=js(i.src),(f=t.querySelector(io(d)))?(n.instance=f,Dt(f),f):(l=i,(f=Xn.get(d))&&(l=E({},i),td(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Dt(f),cn(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zu(l,i.precedence,t));return n.instance}function Zu(t,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===n)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wu=null;function qy(t,n,i){if(Wu===null){var l=new Map,f=Wu=new Map;f.set(i,l)}else f=Wu,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var d=i[f];if(!(d[hi]||d[Ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=t+b;var w=l.get(b);w?w.push(d):l.set(b,[d])}}return l}function Hy(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function g1(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var so=null;function y1(){}function v1(t,n,i){if(so===null)throw Error(s(475));var l=so;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=zs(i.href),d=t.querySelector(ao(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ju.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Dt(d);return}d=t.ownerDocument||t,i=jy(i),(f=Xn.get(f))&&ed(i,f),d=d.createElement("link"),Dt(d);var b=d;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),cn(d,"link",i),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ju.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function _1(){if(so===null)throw Error(s(475));var t=so;return t.stylesheets&&t.count===0&&nd(t,t.stylesheets),0<t.count?function(n){var i=setTimeout(function(){if(t.stylesheets&&nd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function nd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,n.forEach(E1,t),ec=null,Ju.call(t))}function E1(t,n){if(!(n.state.loading&4)){var i=ec.get(t);if(i)var l=i.get(null);else{i=new Map,ec.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),l=b)}l&&i.set(null,l)}f=n.instance,b=f.getAttribute("data-precedence"),d=i.get(b)||l,d===l&&i.set(null,f),i.set(b,f),this.count++,l=Ju.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var lo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function b1(t,n,i,l,f,d,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Gy(t,n,i,l,f,d,b,w,O,F,ee,le){return t=new b1(t,n,i,b,w,O,F,le),n=1,d===!0&&(n|=24),d=Vn(3,null,null,n),t.current=d,d.stateNode=t,n=Lf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:n},Bf(d),t}function Qy(t){return t?(t=ys,t):ys}function $y(t,n,i,l,f,d){f=Qy(f),l.context===null?l.context=f:l.pendingContext=f,l=Na(n),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Ca(t,l,n),i!==null&&(Un(i,t,n),Ll(i,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function rd(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13){var n=gs(t,67108864);n!==null&&Un(n,t,67108864),rd(t,67108864)}}var tc=!0;function T1(t,n,i,l){var f=K.T;K.T=null;var d=me.p;try{me.p=2,ad(t,n,i,l)}finally{me.p=d,K.T=f}}function w1(t,n,i,l){var f=K.T;K.T=null;var d=me.p;try{me.p=8,ad(t,n,i,l)}finally{me.p=d,K.T=f}}function ad(t,n,i,l){if(tc){var f=id(l);if(f===null)Gh(t,n,l,nc,i),Zy(t,l);else if(A1(f,t,n,i,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<S1.indexOf(t)){for(;f!==null;){var d=hr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ve(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-Ne(b);w.entanglements[1]|=O,b&=~O}xr(d),(ut&6)===0&&(zu=Sn()+500,eo(0))}}break;case 13:w=gs(d,2),w!==null&&Un(w,d,2),Bu(),rd(d,2)}if(d=id(l),d===null&&Gh(t,n,l,nc,i),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gh(t,n,l,null,i)}}function id(t){return t=Bn(t),sd(t)}var nc=null;function sd(t){if(nc=null,t=jr(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=h(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nc=t,null}function Xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case ci:return 2;case Ur:return 8;case er:case Ea:return 32;case fr:return 268435456;default:return 32}default:return 32}}var ld=!1,qa=null,Ha=null,Fa=null,oo=new Map,uo=new Map,Ga=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(t,n,i,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=hr(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function A1(t,n,i,l,f){switch(n){case"focusin":return qa=co(qa,t,n,i,l,f),!0;case"dragenter":return Ha=co(Ha,t,n,i,l,f),!0;case"mouseover":return Fa=co(Fa,t,n,i,l,f),!0;case"pointerover":var d=f.pointerId;return oo.set(d,co(oo.get(d)||null,t,n,i,l,f)),!0;case"gotpointercapture":return d=f.pointerId,uo.set(d,co(uo.get(d)||null,t,n,i,l,f)),!0}return!1}function Wy(t){var n=jr(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){t.blockedOn=n,Bo(t.priority,function(){if(i.tag===13){var l=Ln();l=On(l);var f=gs(i,l);f!==null&&Un(f,i,l),rd(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=id(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Fr=l,i.target.dispatchEvent(l),Fr=null}else return n=hr(i),n!==null&&Ky(n),t.blockedOn=i,!1;n.shift()}return!0}function Jy(t,n,i){rc(t)&&i.delete(n)}function x1(){ld=!1,qa!==null&&rc(qa)&&(qa=null),Ha!==null&&rc(Ha)&&(Ha=null),Fa!==null&&rc(Fa)&&(Fa=null),oo.forEach(Jy),uo.forEach(Jy)}function ac(t,n){t.blockedOn===n&&(t.blockedOn=null,ld||(ld=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,x1)))}var ic=null;function e0(t){ic!==t&&(ic=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ic===t&&(ic=null);for(var n=0;n<t.length;n+=3){var i=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(sd(l||i)===null)continue;break}var d=hr(i);d!==null&&(t.splice(n,3),n-=3,sh(d,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function fo(t){function n(O){return ac(O,t)}qa!==null&&ac(qa,t),Ha!==null&&ac(Ha,t),Fa!==null&&ac(Fa,t),oo.forEach(n),uo.forEach(n);for(var i=0;i<Ga.length;i++){var l=Ga[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ga.length&&(i=Ga[0],i.blockedOn===null);)Wy(i),i.blockedOn===null&&Ga.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],d=i[l+1],b=f[kt]||null;if(typeof d=="function")b||e0(i);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[kt]||null)w=b.formAction;else if(sd(f)!==null)continue}else w=b.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),e0(i)}}}function od(t){this._internalRoot=t}sc.prototype.render=od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Ln();$y(i,l,t,n,null,null)},sc.prototype.unmount=od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$y(t.current,2,null,t,null,null),Bu(),n[zn]=null}};function sc(t){this._internalRoot=t}sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Ga.length&&n!==0&&n<Ga[i].priority;i++);Ga.splice(i,0,t),i===0&&Wy(t)}};var t0=e.version;if(t0!=="19.1.1")throw Error(s(527,t0,"19.1.1"));me.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{B=lc.inject(R1),te=lc}catch{}}return ho.createRoot=function(t,n){if(!o(t))throw Error(s(299));var i=!1,l="",f=yg,d=vg,b=_g,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=Gy(t,1,!1,null,null,i,l,f,d,b,w,null),t[zn]=n.current,Fh(t),new od(n)},ho.hydrateRoot=function(t,n,i){if(!o(t))throw Error(s(299));var l=!1,f="",d=yg,b=vg,w=_g,O=null,F=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks),i.formState!==void 0&&(F=i.formState)),n=Gy(t,1,!0,n,i??null,l,f,d,b,w,O,F),n.context=Qy(null),i=n.current,l=Ln(),l=On(l),f=Na(l),f.callback=null,Ca(i,f,l),i=l,n.current.lanes=i,at(n,i),xr(n),t[zn]=n.current,Fh(t),new sc(n)},ho.version="19.1.1",ho}var u0;function k1(){if(u0)return cd.exports;u0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),cd.exports=P1(),cd.exports}var L1=k1();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c0="popstate";function U1(a={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Qi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Cd("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:wo(u))}function s(o,u){ur(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return j1(e,r,s,a)}function At(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ur(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z1(){return Math.random().toString(36).substring(2,10)}function f0(a,e){return{usr:a.state,key:a.key,idx:e}}function Cd(a,e,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Qi(e):e,state:r,key:e&&e.key||s||z1()}}function wo({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Qi(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function j1(a,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let M=E(),J=M==null?null:M-y;y=M,p&&p({action:m,location:G.location,delta:J})}function x(M,J){m="PUSH";let W=Cd(G.location,M,J);r&&r(W,M),y=E()+1;let Q=f0(W,y),he=G.createHref(W);try{h.pushState(Q,"",he)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(he)}u&&p&&p({action:m,location:G.location,delta:1})}function N(M,J){m="REPLACE";let W=Cd(G.location,M,J);r&&r(W,M),y=E();let Q=f0(W,y),he=G.createHref(W);h.replaceState(Q,"",he),u&&p&&p({action:m,location:G.location,delta:0})}function k(M){return B1(M)}let G={get action(){return m},get location(){return a(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(c0,T),p=M,()=>{o.removeEventListener(c0,T),p=null}},createHref(M){return e(o,M)},createURL:k,encodeLocation(M){let J=k(M);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:x,replace:N,go(M){return h.go(M)}};return G}function B1(a,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),At(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:wo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Pv(a,e,r="/"){return q1(a,e,r,!1)}function q1(a,e,r,s){let o=typeof e=="string"?Qi(e):e,u=ha(o.pathname||"/",r);if(u==null)return null;let h=kv(a);H1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=eT(u);m=W1(h[p],y,s)}return m}function kv(a,e=[],r=[],s="",o=!1){let u=(h,m,p=o,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;At(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ua([s,E.relativePath]),x=r.concat(E);h.children&&h.children.length>0&&(At(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kv(h.children,e,x,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:X1(T,h.index),routesMeta:x})};return a.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Lv(h.path))u(h,m,!0,p)}),e}function Lv(a){let e=a.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Lv(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function H1(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:Z1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var F1=/^:[\w-]+$/,G1=3,Q1=2,$1=1,Y1=10,K1=-2,h0=a=>a==="*";function X1(a,e){let r=a.split("/"),s=r.length;return r.some(h0)&&(s+=K1),e&&(s+=Q1),r.filter(o=>!h0(o)).reduce((o,u)=>o+(F1.test(u)?G1:u===""?$1:Y1),s)}function Z1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function W1(a,e,r=!1){let{routesMeta:s}=a,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),x=p.route;if(!T&&y&&r&&!s[s.length-1].route.index&&(T=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ua([u,T.pathname]),pathnameBase:aT(ua([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=ua([u,T.pathnameBase]))}return h}function Sc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=J1(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},x)=>{if(E==="*"){let k=m[x]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const N=m[x];return T&&!N?y[E]=void 0:y[E]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:a}}function J1(a,e=!1,r=!0){ur(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ha(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function tT(a,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?Qi(a):a;return{pathname:r?r.startsWith("/")?r:nT(r,e):e,search:iT(s),hash:sT(o)}}function nT(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function md(a,e,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rT(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Uv(a){let e=rT(a);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function zv(a,e,r,s=!1){let o;typeof a=="string"?o=Qi(a):(o={...a},At(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let u=a===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=r;else{let T=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=tT(o,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ua=a=>a.join("/").replace(/\/\/+/g,"/"),aT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,sT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function lT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var oT=["GET",...jv];new Set(oT);var al=j.createContext(null);al.displayName="DataRouter";var Gc=j.createContext(null);Gc.displayName="DataRouterState";j.createContext(!1);var Bv=j.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var uT=j.createContext(new Map);uT.displayName="Fetchers";var cT=j.createContext(null);cT.displayName="Await";var Mr=j.createContext(null);Mr.displayName="Navigation";var Io=j.createContext(null);Io.displayName="Location";var Pr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var tm=j.createContext(null);tm.displayName="RouteError";function fT(a,{relative:e}={}){At(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=j.useContext(Mr),{hash:o,pathname:u,search:h}=Mo(a,{relative:e}),m=u;return r!=="/"&&(m=u==="/"?r:ua([r,u])),s.createHref({pathname:m,search:h,hash:o})}function Vo(){return j.useContext(Io)!=null}function li(){return At(Vo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Io).location}var qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hv(a){j.useContext(Mr).static||j.useLayoutEffect(a)}function Fv(){let{isDataRoute:a}=j.useContext(Pr);return a?AT():hT()}function hT(){At(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(al),{basename:e,navigator:r}=j.useContext(Mr),{matches:s}=j.useContext(Pr),{pathname:o}=li(),u=JSON.stringify(Uv(s)),h=j.useRef(!1);return Hv(()=>{h.current=!0}),j.useCallback((p,y={})=>{if(ur(h.current,qv),!h.current)return;if(typeof p=="number"){r.go(p);return}let E=zv(p,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ua([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,u,o,a])}j.createContext(null);function dT(){let{matches:a}=j.useContext(Pr),e=a[a.length-1];return e?e.params:{}}function Mo(a,{relative:e}={}){let{matches:r}=j.useContext(Pr),{pathname:s}=li(),o=JSON.stringify(Uv(r));return j.useMemo(()=>zv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function mT(a,e){return Gv(a,e)}function Gv(a,e,r,s,o){At(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Mr),{matches:h}=j.useContext(Pr),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";Qv(y,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=li(),N;if(e){let W=typeof e=="string"?Qi(e):e;At(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),N=W}else N=x;let k=N.pathname||"/",G=k;if(E!=="/"){let W=E.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=Pv(a,{pathname:G});ur(T||M!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ur(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=_T(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ua([E,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:ua([E,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,r,s,o);return e&&J?j.createElement(Io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function pT(){let a=ST(),e=lT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:o},r):null,h)}var gT=j.createElement(pT,null),yT=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(Pr.Provider,{value:this.props.routeContext},j.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vT({routeContext:a,match:e,children:r}){let s=j.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Pr.Provider,{value:a},r)}function _T(a,e=[],r=null,s=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,h=r?.errors;if(h!=null){let y=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);At(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(r)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:x}=r,N=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||N){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let x,N=!1,k=null,G=null;r&&(x=h&&E.route.id?h[E.route.id]:void 0,k=E.route.errorElement||gT,m&&(p<0&&T===0?(Qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,G=null):p===T&&(N=!0,G=E.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,T+1)),J=()=>{let W;return x?W=k:N?W=G:E.route.Component?W=j.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=y,j.createElement(vT,{match:E,routeContext:{outlet:y,matches:M,isDataRoute:r!=null},children:W})};return r&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?j.createElement(yT,{location:r.location,revalidation:r.revalidation,component:k,error:x,children:J(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:s}):J()},null)}function nm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(a){let e=j.useContext(al);return At(e,nm(a)),e}function bT(a){let e=j.useContext(Gc);return At(e,nm(a)),e}function TT(a){let e=j.useContext(Pr);return At(e,nm(a)),e}function rm(a){let e=TT(a),r=e.matches[e.matches.length-1];return At(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function wT(){return rm("useRouteId")}function ST(){let a=j.useContext(tm),e=bT("useRouteError"),r=rm("useRouteError");return a!==void 0?a:e.errors?.[r]}function AT(){let{router:a}=ET("useNavigate"),e=rm("useNavigate"),r=j.useRef(!1);return Hv(()=>{r.current=!0}),j.useCallback(async(o,u={})=>{ur(r.current,qv),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var d0={};function Qv(a,e,r){!e&&!d0[a]&&(d0[a]=!0,ur(!1,r))}j.memo(xT);function xT({routes:a,future:e,state:r,unstable_onError:s}){return Gv(a,void 0,r,s,e)}function $a(a){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RT({basename:a="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){At(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=Qi(r));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:x="default"}=r,N=j.useMemo(()=>{let k=ha(p,h);return k==null?null:{location:{pathname:k,search:y,hash:E,state:T,key:x},navigationType:s}},[h,p,y,E,T,x,s]);return ur(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Mr.Provider,{value:m},j.createElement(Io.Provider,{children:e,value:N}))}function NT({children:a,location:e}){return mT(Od(a),e)}function Od(a,e=[]){let r=[];return j.Children.forEach(a,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){r.push.apply(r,Od(s.props.children,u));return}At(s.type===$a,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Od(s.props.children,u)),r.push(h)}),r}var pc="get",gc="application/x-www-form-urlencoded";function Qc(a){return a!=null&&typeof a.tagName=="string"}function CT(a){return Qc(a)&&a.tagName.toLowerCase()==="button"}function OT(a){return Qc(a)&&a.tagName.toLowerCase()==="form"}function DT(a){return Qc(a)&&a.tagName.toLowerCase()==="input"}function IT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function VT(a,e){return a.button===0&&(!e||e==="_self")&&!IT(a)}var oc=null;function MT(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(a){return a!=null&&!PT.has(a)?(ur(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):a}function kT(a,e){let r,s,o,u,h;if(OT(a)){let m=a.getAttribute("action");s=m?ha(m,e):null,r=a.getAttribute("method")||pc,o=pd(a.getAttribute("enctype"))||gc,u=new FormData(a)}else if(CT(a)||DT(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?ha(p,e):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||pc,o=pd(a.getAttribute("formenctype"))||pd(m.getAttribute("enctype"))||gc,u=new FormData(m,a),!MT()){let{name:y,type:E,value:T}=a;if(E==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,T)}}else{if(Qc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pc,s=null,o=gc,h=a}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function am(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function LT(a,e,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&ha(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function UT(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function jT(a,e,r){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await UT(u,r);return h.links?h.links():[]}return[]}));return FT(s.flat(1).filter(zT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m0(a,e,r,s,o,u){let h=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function BT(a,e,{includeHydrateFallback:r}={}){return qT(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qT(a){return[...new Set(a)]}function HT(a){let e={},r=Object.keys(a).sort();for(let s of r)e[s]=a[s];return e}function FT(a,e){let r=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(HT(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function $v(){let a=j.useContext(al);return am(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function GT(){let a=j.useContext(Gc);return am(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var im=j.createContext(void 0);im.displayName="FrameworkContext";function Yv(){let a=j.useContext(im);return am(a,"You must render this element inside a <HydratedRouter> element"),a}function QT(a,e){let r=j.useContext(im),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,x=j.useRef(null);j.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let G=J=>{J.forEach(W=>{h(W.isIntersecting)})},M=new IntersectionObserver(G,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[a]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},k=()=>{o(!1),h(!1)};return r?a!=="intent"?[u,x,{}]:[u,x,{onFocus:mo(m,N),onBlur:mo(p,k),onMouseEnter:mo(y,N),onMouseLeave:mo(E,k),onTouchStart:mo(T,N)}]:[!1,x,{}]}function mo(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function $T({page:a,...e}){let{router:r}=$v(),s=j.useMemo(()=>Pv(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?j.createElement(KT,{page:a,matches:s,...e}):null}function YT(a){let{manifest:e,routeModules:r}=Yv(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return jT(a,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[a,e,r]),s}function KT({page:a,matches:e,...r}){let s=li(),{manifest:o,routeModules:u}=Yv(),{basename:h}=$v(),{loaderData:m,matches:p}=GT(),y=j.useMemo(()=>m0(a,e,p,o,s,"data"),[a,e,p,o,s]),E=j.useMemo(()=>m0(a,e,p,o,s,"assets"),[a,e,p,o,s]),T=j.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(e.forEach(J=>{let W=o.routes[J.route.id];!W||!W.hasLoader||(!y.some(Q=>Q.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||W.hasClientLoader?G=!0:k.add(J.route.id))}),k.size===0)return[];let M=LT(a,h,"data");return G&&k.size>0&&M.searchParams.set("_routes",e.filter(J=>k.has(J.route.id)).map(J=>J.route.id).join(",")),[M.pathname+M.search]},[h,m,s,o,y,e,a,u]),x=j.useMemo(()=>BT(E,o),[E,o]),N=YT(E);return j.createElement(j.Fragment,null,T.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),x.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),N.map(({key:k,link:G})=>j.createElement("link",{key:k,nonce:r.nonce,...G})))}function XT(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kv&&(window.__reactRouterVersion="7.9.1")}catch{}function ZT({basename:a,children:e,window:r}){let s=j.useRef();s.current==null&&(s.current=U1({window:r,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>h(p))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(RT,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,il=j.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...x},N){let{basename:k}=j.useContext(Mr),G=typeof y=="string"&&Xv.test(y),M,J=!1;if(typeof y=="string"&&G&&(M=y,Kv))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),P=ha(V.pathname,k);V.origin===R.origin&&P!=null?y=P+V.search+V.hash:J=!0}catch{ur(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=fT(y,{relative:o}),[Q,he,ce]=QT(s,x),se=ew(y,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function I(R){e&&e(R),R.defaultPrevented||se(R)}let A=j.createElement("a",{...x,...ce,href:M||W,onClick:J||u?e:I,ref:XT(N,he),target:p,"data-discover":!G&&r==="render"?"true":void 0});return Q&&!G?j.createElement(j.Fragment,null,A,j.createElement($T,{page:W})):A});il.displayName="Link";var Bs=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...y},E){let T=Mo(h,{relative:y.relative}),x=li(),N=j.useContext(Gc),{navigator:k,basename:G}=j.useContext(Mr),M=N!=null&&iw(T)&&m===!0,J=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,W=x.pathname,Q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(W=W.toLowerCase(),Q=Q?Q.toLowerCase():null,J=J.toLowerCase()),Q&&G&&(Q=ha(Q,G)||Q);const he=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ce=W===J||!o&&W.startsWith(J)&&W.charAt(he)==="/",se=Q!=null&&(Q===J||!o&&Q.startsWith(J)&&Q.charAt(J.length)==="/"),I={isActive:ce,isPending:se,isTransitioning:M},A=ce?e:void 0,R;typeof s=="function"?R=s(I):R=[s,ce?"active":null,se?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return j.createElement(il,{...y,"aria-current":A,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(I):p)});Bs.displayName="NavLink";var WT=j.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:h=pc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...x},N)=>{let k=rw(),G=aw(m,{relative:y}),M=h.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&Xv.test(m),W=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let he=Q.nativeEvent.submitter,ce=he?.getAttribute("formmethod")||h;k(he||Q.currentTarget,{fetcherKey:e,method:ce,navigate:r,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return j.createElement("form",{ref:N,method:M,action:G,onSubmit:s?p:W,...x,"data-discover":!J&&a==="render"?"true":void 0})});WT.displayName="Form";function JT(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(a){let e=j.useContext(al);return At(e,JT(a)),e}function ew(a,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Fv(),p=li(),y=Mo(a,{relative:u});return j.useCallback(E=>{if(VT(E,e)){E.preventDefault();let T=r!==void 0?r:wo(p)===wo(y);m(a,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,y,r,s,e,a,o,u,h])}var tw=0,nw=()=>`__${String(++tw)}__`;function rw(){let{router:a}=Zv("useSubmit"),{basename:e}=j.useContext(Mr),r=wT();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=kT(s,e);if(o.navigate===!1){let E=o.fetcherKey||nw();await a.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,r])}function aw(a,{relative:e}={}){let{basename:r}=j.useContext(Mr),s=j.useContext(Pr);At(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mo(a||".",{relative:e})},h=li();if(a==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ua([r,u.pathname])),wo(u)}function iw(a,{relative:e}={}){let r=j.useContext(Bv);At(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zv("useViewTransitionState"),o=Mo(a,{relative:e});if(!r.isTransitioning)return!1;let u=ha(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=ha(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Sc(o.pathname,h)!=null||Sc(o.pathname,u)!=null}const sw="modulepreload",lw=function(a){return"/Ecommerce/"+a},p0={},ya=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let p=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(r.map(y=>{if(y=lw(y),y in p0)return;p0[y]=!0;const E=y.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${T}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":sw,E||(x.as="script"),x.crossOrigin="",x.href=y,m&&x.setAttribute("nonce",m),document.head.appendChild(x),E)return new Promise((N,k)=>{x.addEventListener("load",N),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},ow=()=>{};var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(a){const e=[];let r=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},uw=function(a){const e=[];let r=0,s=0;for(;r<a.length;){const o=a[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],h=a[r++],m=a[r++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[r++],h=a[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,m=h?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,N=y&63;p||(N=64,h||(x=64)),s.push(r[E],r[T],r[x],r[N])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Wv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):uw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],m=o<a.length?r[a.charAt(o)]:0;++o;const y=o<a.length?r[a.charAt(o)]:64;++o;const T=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new cw;const x=u<<2|m>>4;if(s.push(x),y!==64){const N=m<<4&240|y>>2;if(s.push(N),T!==64){const k=y<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fw=function(a){const e=Wv(a);return Jv.encodeByteArray(e,!0)},Ac=function(a){return fw(a).replace(/\./g,"")},hw=function(a){try{return Jv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=()=>dw().__FIREBASE_DEFAULTS__,pw=()=>{if(typeof process>"u"||typeof g0>"u")return;const a=g0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},gw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&hw(a[1]);return e&&JSON.parse(e)},sm=()=>{try{return ow()||mw()||pw()||gw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},yw=a=>sm()?.emulatorHosts?.[a],e_=a=>{const e=yw(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},t_=()=>sm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n_(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ac(JSON.stringify(r)),Ac(JSON.stringify(h)),""].join(".")}const _o={};function _w(){const a={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?a.emulator.push(e):a.prod.push(e);return a}function Ew(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let y0=!1;function a_(a,e){if(typeof window>"u"||typeof document>"u"||!$c(window.location.host)||_o[a]===e||_o[a]||y0)return;_o[a]=e;function r(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=_w().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y0=!0,h()},x}function E(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=Ew(s),N=r("text"),k=document.getElementById(N)||document.createElement("span"),G=r("learnmore"),M=document.getElementById(G)||document.createElement("a"),J=r("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Q=x.element;m(Q),E(M,G);const he=y();p(W,J),Q.append(W,k,M,he),document.body.appendChild(Q)}u?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tw(){const a=sm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ww(){return!Tw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((a,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="FirebaseError";class $i extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=xw,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i_.prototype.create)}}class i_{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Rw(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new $i(o,m,s)}}function Rw(a,e){return a.replace(Nw,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Nw=/\{\$([^}]+)}/g;function xc(a,e){if(a===e)return!0;const r=Object.keys(a),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=a[o],h=e[o];if(v0(u)&&v0(h)){if(!xc(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function v0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(a){return a&&a._delegate?a._delegate:a}class Ks{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new vw;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dw(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(a){return a===Bi?void 0:a}function Dw(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Cw(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Je||(Je={}));const Vw={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},Mw=Je.INFO,Pw={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},kw=(a,e,...r)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=Pw[e];if(o)console[o](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=Mw,this._logHandler=kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Lw=(a,e)=>e.some(r=>a instanceof r);let _0,E0;function Uw(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zw(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l_=new WeakMap,Dd=new WeakMap,o_=new WeakMap,gd=new WeakMap,lm=new WeakMap;function jw(a){const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{r(Ka(a.result)),o()},h=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&l_.set(r,a)}).catch(()=>{}),lm.set(e,a),e}function Bw(a){if(Dd.has(a))return;const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Dd.set(a,e)}let Id={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return Dd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||o_.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ka(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function qw(a){Id=a(Id)}function Hw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=a.call(yd(this),e,...r);return o_.set(s,e.sort?e.sort():[e]),Ka(s)}:zw().includes(a)?function(...e){return a.apply(yd(this),e),Ka(l_.get(this))}:function(...e){return Ka(a.apply(yd(this),e))}}function Fw(a){return typeof a=="function"?Hw(a):(a instanceof IDBTransaction&&Bw(a),Lw(a,Uw())?new Proxy(a,Id):a)}function Ka(a){if(a instanceof IDBRequest)return jw(a);if(gd.has(a))return gd.get(a);const e=Fw(a);return e!==a&&(gd.set(a,e),lm.set(e,a)),e}const yd=a=>lm.get(a);function Gw(a,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(a,e),m=Ka(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Ka(h.result),p.oldVersion,p.newVersion,Ka(h.transaction),p)}),r&&h.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Qw=["get","getKey","getAll","getAllKeys","count"],$w=["put","add","delete","clear"],vd=new Map;function b0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=$w.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Qw.includes(r)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),o&&p.done]))[0]};return vd.set(e,u),u}qw(a=>({...a,get:(e,r,s)=>b0(e,r)||a.get(e,r,s),has:(e,r)=>!!b0(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Kw(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Kw(a){return a.getComponent()?.type==="VERSION"}const Vd="@firebase/app",T0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new s_("@firebase/app"),Xw="@firebase/app-compat",Zw="@firebase/analytics-compat",Ww="@firebase/analytics",Jw="@firebase/app-check-compat",eS="@firebase/app-check",tS="@firebase/auth",nS="@firebase/auth-compat",rS="@firebase/database",aS="@firebase/data-connect",iS="@firebase/database-compat",sS="@firebase/functions",lS="@firebase/functions-compat",oS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",fS="@firebase/messaging-compat",hS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",pS="@firebase/remote-config-compat",gS="@firebase/storage",yS="@firebase/storage-compat",vS="@firebase/firestore",_S="@firebase/ai",ES="@firebase/firestore-compat",bS="firebase",TS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",wS={[Vd]:"fire-core",[Xw]:"fire-core-compat",[Ww]:"fire-analytics",[Zw]:"fire-analytics-compat",[eS]:"fire-app-check",[Jw]:"fire-app-check-compat",[tS]:"fire-auth",[nS]:"fire-auth-compat",[rS]:"fire-rtdb",[aS]:"fire-data-connect",[iS]:"fire-rtdb-compat",[sS]:"fire-fn",[lS]:"fire-fn-compat",[oS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[fS]:"fire-fcm-compat",[hS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[pS]:"fire-rc-compat",[gS]:"fire-gcs",[yS]:"fire-gcs-compat",[vS]:"fire-fst",[ES]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[bS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,SS=new Map,Pd=new Map;function w0(a,e){try{a.container.addComponent(e)}catch(r){da.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function So(a){const e=a.name;if(Pd.has(e))return da.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,a);for(const r of Rc.values())w0(r,a);for(const r of SS.values())w0(r,a);return!0}function u_(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function c_(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new i_("app","Firebase",AS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=TS;function h_(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const s={name:Md,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(r||(r=t_()),!r)throw Xa.create("no-options");const u=Rc.get(o);if(u){if(xc(r,u.options)&&xc(s,u.config))return u;throw Xa.create("duplicate-app",{appName:o})}const h=new Iw(o);for(const p of Pd.values())h.addComponent(p);const m=new xS(r,s,h);return Rc.set(o,m),m}function d_(a=Md){const e=Rc.get(a);if(!e&&a===Md&&t_())return h_();if(!e)throw Xa.create("no-app",{appName:a});return e}function Za(a,e,r){let s=wS[a]??a;r&&(s+=`-${r}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),da.warn(h.join(" "));return}So(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",NS=1,Ao="firebase-heartbeat-store";let _d=null;function m_(){return _d||(_d=Gw(RS,NS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ao)}catch(r){console.warn(r)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),_d}async function CS(a){try{const r=(await m_()).transaction(Ao),s=await r.objectStore(Ao).get(p_(a));return await r.done,s}catch(e){if(e instanceof $i)da.warn(e.message);else{const r=Xa.create("idb-get",{originalErrorMessage:e?.message});da.warn(r.message)}}}async function S0(a,e){try{const s=(await m_()).transaction(Ao,"readwrite");await s.objectStore(Ao).put(e,p_(a)),await s.done}catch(r){if(r instanceof $i)da.warn(r.message);else{const s=Xa.create("idb-set",{originalErrorMessage:r?.message});da.warn(s.message)}}}function p_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,DS=30;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new MS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>DS){const o=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){da.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:r,unsentEntries:s}=VS(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return da.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function VS(a,e=OS){const r=[];let s=a.slice();for(const o of a){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),x0(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),x0(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class MS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await CS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x0(a){return Ac(JSON.stringify({version:2,heartbeats:a})).length}function PS(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(a){So(new Ks("platform-logger",e=>new Yw(e),"PRIVATE")),So(new Ks("heartbeat",e=>new IS(e),"PRIVATE")),Za(Vd,T0,a),Za(Vd,T0,"esm2020"),Za("fire-js","")}kS("");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,g_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function R(){}R.prototype=A.prototype,I.D=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(V,P,U){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return A.prototype[P].apply(V,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)V[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],P=I.g[2];var U=I.g[3],C=A+(U^R&(P^U))+V[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+V[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+V[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+V[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+V[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+V[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+V[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+V[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+V[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+V[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+V[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+V[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+V[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+V[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+V[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+V[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(P^U&(R^P))+V[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+V[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+V[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+V[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+V[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+V[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+V[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+V[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+V[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+V[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+V[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+V[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+V[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+V[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+V[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+V[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(R^P^U)+V[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+V[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+V[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+V[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+V[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+V[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+V[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+V[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+V[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+V[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+V[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+V[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+V[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+V[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+V[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+V[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(P^(R|~U))+V[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+V[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+V[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+V[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+V[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+V[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+V[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+V[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+V[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+V[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+V[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+V[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+V[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+V[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+V[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var R=A-this.blockSize,V=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(V[P++]=I.charCodeAt(U++),P==this.blockSize){o(this,V),P=0;break}}else for(;U<A;)if(V[P++]=I[U++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var R=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.u(I),I=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)I[R++]=this.g[A]>>>V&255;return I};function u(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function h(I,A){this.h=A;for(var R=[],V=!0,P=I.length-1;0<=P;P--){var U=I[P]|0;V&&U==A||(R[P]=U,V=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(A){return new h([A|0],0>A?-1:0)}):new h([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(0>I)return M(y(-I));for(var A=[],R=1,V=0;I>=R;V++)A[V]=I/R|0,R*=4294967296;return new h(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return M(E(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),V=T,P=0;P<I.length;P+=8){var U=Math.min(8,I.length-P),C=parseInt(I.substring(P,P+U),A);8>U?(U=y(Math.pow(A,U)),V=V.j(U).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var T=p(0),x=p(1),N=p(16777216);a=h.prototype,a.m=function(){if(G(this))return-M(this).m();for(var I=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);I+=(0<=V?V:4294967296+V)*A,A*=4294967296}return I},a.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(G(this))return"-"+M(this).toString(I);for(var A=y(Math.pow(I,6)),R=this,V="";;){var P=he(R,A).g;R=J(R,P.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,k(R))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},a.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function G(I){return I.h==-1}a.l=function(I){return I=J(this,I),G(I)?-1:k(I)?0:1};function M(I){for(var A=I.g.length,R=[],V=0;V<A;V++)R[V]=~I.g[V];return new h(R,~I.h).add(x)}a.abs=function(){return G(this)?M(this):this},a.add=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],V=0,P=0;P<=A;P++){var U=V+(this.i(P)&65535)+(I.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);V=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(I,A){return I.add(M(A))}a.j=function(I){if(k(this)||k(I))return T;if(G(this))return G(I)?M(this).j(M(I)):M(M(this).j(I));if(G(I))return M(this.j(M(I)));if(0>this.l(N)&&0>I.l(N))return y(this.m()*I.m());for(var A=this.g.length+I.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<I.g.length;P++){var U=this.i(V)>>>16,C=this.i(V)&65535,Qe=I.i(P)>>>16,$e=I.i(P)&65535;R[2*V+2*P]+=C*$e,W(R,2*V+2*P),R[2*V+2*P+1]+=U*$e,W(R,2*V+2*P+1),R[2*V+2*P+1]+=C*Qe,W(R,2*V+2*P+1),R[2*V+2*P+2]+=U*Qe,W(R,2*V+2*P+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new h(R,0)};function W(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Q(I,A){this.g=I,this.h=A}function he(I,A){if(k(A))throw Error("division by zero");if(k(I))return new Q(T,T);if(G(I))return A=he(M(I),A),new Q(M(A.g),M(A.h));if(G(A))return A=he(I,M(A)),new Q(M(A.g),A.h);if(30<I.g.length){if(G(I)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=A;0>=V.l(I);)R=ce(R),V=ce(V);var P=se(R,1),U=se(V,1);for(V=se(V,2),R=se(R,2);!k(V);){var C=U.add(V);0>=C.l(I)&&(P=P.add(R),U=C),V=se(V,1),R=se(R,1)}return A=J(I,P.j(A)),new Q(P,A)}for(P=T;0<=I.l(A);){for(R=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=y(R),C=U.j(A);G(C)||0<C.l(I);)R-=V,U=y(R),C=U.j(A);k(U)&&(U=x),P=P.add(U),I=J(I,C)}return new Q(P,I)}a.A=function(I){return he(this,I).h},a.and=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&I.i(V);return new h(R,this.h&I.h)},a.or=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|I.i(V);return new h(R,this.h|I.h)},a.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^I.i(V);return new h(R,this.h^I.h)};function ce(I){for(var A=I.g.length+1,R=[],V=0;V<A;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(R,I.h)}function se(I,A){var R=A>>5;A%=32;for(var V=I.g.length-R,P=[],U=0;U<V;U++)P[U]=0<A?I.i(U+R)>>>A|I.i(U+R+1)<<32-A:I.i(U+R);return new h(P,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Wa=h}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,po,v_,yc,kd,__,E_,b_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=r(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break e;_=_[q]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function T(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function x(c,g,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,x.apply(null,arguments)}function N(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,X){for(var ge=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ge[Ke-2]=arguments[Ke];return g.prototype[q].apply(S,ge)}}function G(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function M(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const q=c.length||0,X=S.length||0;c.length=q+X;for(let ge=0;ge<X;ge++)c[q+ge]=S[ge]}else c.push(S)}}class J{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ce=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function se(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function I(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Qe{constructor(){this.h=this.g=null}add(g,_){const S=$e.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var $e=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,we=!1,Le=new Qe,D=()=>{const c=m.Promise.resolve(void 0);me=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var g=$e;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}we=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function Ce(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{he(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function mn(c,g,_,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=q,this.key=++Ye,this.da=this.fa=!1}function rn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c){this.src=c,this.g={},this.h=0}pt.prototype.add=function(c,g,_,S,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ge=Rt(c,g,S,q);return-1<ge?(g=c[ge],_||(g.fa=!1)):(g=new mn(g,this.src,X,!!S,q),g.fa=_,c.push(g)),g};function Pt(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(S,q,1),X&&(rn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rt(c,g,_,S){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==S)return q}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),va={};function ui(c,g,_,S,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ui(c,g[X],_,S,q);return null}return _=de(_),c&&c[wt]?c.K(g,_,y(S)?!!S.capture:!1,q):Sn(c,g,_,!1,S,q)}function Sn(c,g,_,S,q,X){if(!g)throw Error("Invalid event type");var ge=y(q)?!!q.capture:!!q,Ke=fr(c);if(Ke||(c[Lr]=Ke=new pt(c)),_=Ke.add(g,_,S,ge,X),_.proxy)return _;if(S=_a(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ee||(q=ge),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(er(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _a(){function c(_){return g.call(c.src,c.listener,_)}const g=Ea;return c}function ci(c,g,_,S,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)ci(c,g[X],_,S,q);else S=y(S)?!!S.capture:!!S,_=de(_),c&&c[wt]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=Rt(X,_,S,q),-1<_&&(rn(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=fr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Rt(g,_,S,q)),(_=-1<c?g[c]:null)&&Ur(_))}function Ur(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[wt])Pt(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(er(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=fr(g))?(Pt(_,c),_.h==0&&(_.src=null,g[Lr]=null)):rn(c)}}}function er(c){return c in va?va[c]:va[c]="on"+c}function Ea(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ur(c),c=_.call(S,g)}return c}function fr(c){return c=c[Lr],c instanceof pt?c:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(c){return typeof c=="function"?c:(c[fi]||(c[fi]=function(g){return c.handleEvent(g)}),c[fi])}function B(){pe.call(this),this.i=new pt(this),this.M=this,this.F=null}k(B,pe),B.prototype[wt]=!0,B.prototype.removeEventListener=function(c,g,_,S){ci(this,c,g,_,S)};function te(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var q=g;g=new oe(S,c),V(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var ge=g.g=_[X];q=fe(ge,S,!0,g)&&q}if(ge=g.g=c,q=fe(ge,S,!0,g)&&q,q=fe(ge,S,!1,g)&&q,_)for(X=0;X<_.length;X++)ge=g.g=_[X],q=fe(ge,S,!1,g)&&q}B.prototype.N=function(){if(B.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)rn(_[S]);delete c.g[g],c.h--}}this.F=null},B.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},B.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function fe(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var ge=g[X];if(ge&&!ge.da&&ge.capture==_){var Ke=ge.listener,Ft=ge.ha||ge.src;ge.fa&&Pt(c.i,ge),q=Ke.call(Ft,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ne(c,g,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Ue(c){c.g=Ne(()=>{c.g=null,c.i&&(c.i=!1,Ue(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class et extends pe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(c){pe.call(this),this.h=c,this.g={}}k(Z,pe);var ae=[];function be(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ur(g)},c),c.g={}}Z.prototype.N=function(){Z.aa.N.call(this),be(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=m.JSON.stringify,_e=m.JSON.parse,Me=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function lt(){}lt.prototype.h=null;function ot(c){return c.h||(c.h=c.i())}function nt(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){oe.call(this,"d")}k(at,oe);function Nt(){oe.call(this,"c")}k(Nt,oe);var an={},Cn=null;function On(){return Cn=Cn||new B}an.La="serverreachability";function zr(c){oe.call(this,an.La,c)}k(zr,oe);function tr(c){const g=On();te(g,new zr(g))}an.STAT_EVENT="statevent";function Bo(c,g){oe.call(this,an.STAT_EVENT,c),this.stat=g}k(Bo,oe);function bt(c){const g=On();te(g,new Bo(g,c))}an.Ma="timingevent";function Ht(c,g){oe.call(this,an.Ma,c),this.size=g}k(Ht,oe);function kt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function hl(c,g,_,S,q,X){c.info(function(){if(c.g)if(X)for(var ge="",Ke=X.split("&"),Ft=0;Ft<Ke.length;Ft++){var Xe=Ke[Ft].split("=");if(1<Xe.length){var Zt=Xe[0];Xe=Xe[1];var Gt=Zt.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(Zt+"="+Xe+"&"):ge+(Zt+"=redacted&")}}else ge=null;else ge=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+_+`
`+ge})}function hf(c,g,_,S,q,X,ge){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+ge})}function ba(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+hi(c,_)+(S?" "+S:"")})}function qo(c,g){c.info(function(){return"TIMEOUT: "+g})}zn.prototype.info=function(){};function hi(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ge=1;ge<q.length;ge++)q[ge]=""}}}}return ve(_)}catch{return g}}var Ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function dr(){}k(dr,lt),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},hr=new dr;function En(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var dl={},Ji={};function nr(c,g,_){c.L=1,c.v=yi(Dn(g)),c.m=_,c.P=!0,Br(c,null)}function Br(c,g){c.F=Date.now(),di(c),c.A=Dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),_l(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Dt,c.g=au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new et(x(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ae[0]=q.toString()),q=ae);for(var X=0;X<q.length;X++){var ge=ui(_,q[X],S||g.handleEvent,!1,g.h||g);if(!ge)break;g.g[ge.key]=ge}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),hl(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const g=this.M;g&&Hn(c)==3?g.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=Hn(this.g);var g=this.g.Ba();const Kr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||Gt!=4||g==7||(g==8||0>=Kr?tr(3):tr(2)),wa(this);var _=this.g.Z();this.X=_;t:if(Ho(this)){var S=Xo(this.g);c="";var q=S.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),mr(this);var ge="";break t}this.h.i=new m.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(X&&g==q-1)});S.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,hf(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ft=this.g;if((Ke=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ke)){var Xe=Ke;break t}}Xe=null}if(_=Xe)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mi(this,_);else{this.o=!1,this.s=3,bt(12),sn(this),mr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<ge.length;)if(ln=Fo(this,ge),ln==Ji){Gt==4&&(this.s=4,bt(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==dl){this.s=4,bt(15),ba(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,ln,null),mi(this,ln);if(Ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,bt(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,ge,"[Invalid Chunked Response]"),sn(this),mr(this);else if(0<ge.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ai(Zt),Zt.M=!0,bt(11))}}else ba(this.i,this.l,ge,null),mi(this,ge);Gt==4&&sn(this),this.o&&!this.J&&(Gt==4?tu(this.j,this):(this.o=!1,di(this)))}else yf(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),sn(this),mr(this)}}}catch{}finally{}};function Ho(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fo(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Ji:(_=Number(g.substring(_,S)),isNaN(_)?dl:(S+=1,S+_>g.length?Ji:(g=g.slice(S,S+_),c.C=S+_,g)))}En.prototype.cancel=function(){this.J=!0,sn(this)};function di(c){c.S=Date.now()+c.I,Go(c,c.I)}function Go(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kt(x(c.ba,c),g)}function wa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qo(this.i,this.A),this.L!=2&&(tr(),bt(17)),sn(this),this.s=2,mr(this)):Go(this,this.S-c)};function mr(c){c.j.G==0||c.J||tu(c.j,c)}function sn(c){wa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,be(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function mi(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||ml(_.h,c))){if(!c.K&&ml(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fs(_),us(_);else break e;Sl(_),bt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=kt(x(_.Za,_),6e3));if(1>=ts(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yr(_,11)}else if((c.K||_.g==c)&&fs(_),!W(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Xe=q[g];if(_.T=Xe[0],Xe=Xe[1],_.G==2)if(Xe[0]=="c"){_.K=Xe[1],_.ia=Xe[2];const Zt=Xe[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Gt=Xe[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const Kr=Xe[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(S=1.5*Kr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ln=c.g;if(ln){const br=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var X=S.h;X.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ns(X,X.h),X.h=null))}if(S.D){const xl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(S.ya=xl,ft(S.I,S.D,xl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ge=c;if(S.qa=ru(S,S.J?S.ia:null,S.W),ge.K){bn(S.h,ge);var Ke=ge,Ft=S.L;Ft&&(Ke.I=Ft),Ke.B&&(wa(Ke),di(Ke)),S.g=ge}else Jo(S);0<_.i.length&&cs(_)}else Xe[0]!="stop"&&Xe[0]!="close"||Yr(_,7);else _.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Yr(_,7):Tl(_):Xe[0]!="noop"&&_.l&&_.l.ta(Xe),_.v=0)}}tr(4)}catch{}}var Qo=class{constructor(c,g){this.g=c,this.map=g}};function qr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function es(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ts(c){return c.h?1:c.g?c.g.size:0}function ml(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ns(c,g){c.g?c.g.add(g):c.h=g}function bn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}qr.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return G(c.i)}function df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function rs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function gl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=rs(c),S=df(c),q=S.length,X=0;X<q;X++)g.call(void 0,S[X],_&&_[X],c)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var X=c[_].substring(0,S);q=c[_].substring(S+1)}else X=c[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Lt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lt){this.h=c.h,gi(this,c.j),this.o=c.o,this.g=c.g,Sa(this,c.s),this.l=c.l;var g=c.i,_=new Fr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Hr(this,_),this.m=c.m}else c&&(g=String(c).match(pi))?(this.h=!1,gi(this,g[1]||"",!0),this.o=jn(g[2]||""),this.g=jn(g[3]||"",!0),Sa(this,g[4]),this.l=jn(g[5]||"",!0),Hr(this,g[6]||"",!0),this.m=jn(g[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}Lt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vi(g,yl,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vi(g,yl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vi(_,_.charAt(0)=="/"?pf:vl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vi(_,as)),c.join("")};function Dn(c){return new Lt(c)}function gi(c,g,_){c.j=_?jn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Sa(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Hr(c,g,_){g instanceof Fr?(c.i=g,Yo(c.i,c.h)):(_||(g=vi(g,gf)),c.i=new Fr(g,c.h))}function ft(c,g,_){c.i.set(g,_)}function yi(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,$o),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $o(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yl=/[#\/\?@]/g,vl=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,as=/#/g;function Fr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=Fr.prototype,a.add=function(c,g){Bn(this),this.i=null,c=pr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Gr(c,g){Bn(c),g=pr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Qr(c,g){return Bn(c),g=pr(c,g),c.g.has(g)}a.forEach=function(c,g){Bn(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(g,q,S,this)},this)},this)},a.na=function(){Bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const q=c[S];for(let X=0;X<q.length;X++)_.push(g[S])}return _},a.V=function(c){Bn(this);let g=[];if(typeof c=="string")Qr(this,c)&&(g=g.concat(this.g.get(pr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},a.set=function(c,g){return Bn(this),this.i=null,c=pr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function _l(c,g,_){Gr(c,g),0<_.length&&(c.i=null,c.g.set(pr(c,g),G(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const X=encodeURIComponent(String(S)),ge=this.V(S);for(S=0;S<ge.length;S++){var q=X;ge[S]!==""&&(q+="="+encodeURIComponent(String(ge[S]))),c.push(q)}}return this.i=c.join("&")};function pr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Yo(c,g){g&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(Gr(this,S),_l(this,q,_))},c)),c.j=g}function _i(c,g){const _=new zn;if(m.Image){const S=new Image;S.onload=N(qn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=N(qn,_,"TestLoadImage: error",!1,g,S),S.onabort=N(qn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=N(qn,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function rr(c,g){const _=new zn,S=new AbortController,q=setTimeout(()=>{S.abort(),qn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?qn(_,"TestPingServer: ok",!0,g):qn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),qn(_,"TestPingServer: error",!1,g)})}function qn(c,g,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Ei(){this.g=new Me}function gr(c,g,_){const S=_||"";try{gl(c,function(q,X){let ge=q;y(q)&&(ge=ve(q)),g.push(S+X+"="+encodeURIComponent(ge))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function Aa(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Aa,lt),Aa.prototype.g=function(){return new $r(this.l,this.j)},Aa.prototype.i=(function(c){return function(){return c}})({});function $r(c,g){B.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k($r,B),a=$r.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,vr(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?yr(this):vr(this),this.readyState==3&&El(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,yr(this))},a.Qa=function(c){this.g&&(this.response=c,yr(this))},a.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vr(c)}a.setRequestHeader=function(c,g){this.u.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function vr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let g="";return se(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Xt(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=bl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ft(c,g,_))}function it(c){B.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(it,B);var is=/^https?$/i,bi=["POST","PUT"];a=it.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?ot(this.o):ot(hr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){Ko(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bi,g,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ge]of _)this.g.setRequestHeader(X,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ti(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Ko(this,X)}};function Ko(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ss(c),_r(c)}function ss(c){c.A||(c.A=!0,te(c,"complete"),te(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,te(this,"complete"),te(this,"abort"),_r(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),it.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ls(this):this.bb())},a.bb=function(){ls(this)};function ls(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Ne(c.Ea,0,c);else if(te(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ge===0){var q=String(c.D).match(pi)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!is.test(q?q.toLowerCase():"")}_=S}if(_)te(c,"complete"),te(c,"success");else{c.m=6;try{var X=2<Hn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ss(c)}}finally{_r(c)}}}}function _r(c,g){if(c.g){Ti(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||te(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ti(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),_e(g)}};function Xo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const g={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var _=P(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}I(g,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function os(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(c&&c.concurrentRequestLimit),this.Da=new Ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=os.prototype,a.la=8,a.G=1,a.connect=function(c,g,_,S){bt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ru(this,null,this.W),cs(this)};function Tl(c){if(Zo(c),c.G==3){var g=c.U++,_=Dn(c.I);if(ft(_,"SID",c.K),ft(_,"RID",g),ft(_,"TYPE","terminate"),Si(c,_),g=new En(c,c.j,g),g.L=2,g.v=yi(Dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),di(g)}nu(c)}function us(c){c.g&&(Ai(c),c.g.cancel(),c.g=null)}function Zo(c){us(c),c.u&&(m.clearTimeout(c.u),c.u=null),fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function cs(c){if(!es(c.h)&&!c.s){c.s=!0;var g=c.Ga;me||D(),we||(me(),we=!0),Le.add(g,c),c.B=0}}function vf(c,g){return ts(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kt(x(c.Ga,c,g),Al(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new En(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),V(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Wo(this,q,g),_=Dn(this.I),ft(_,"RID",c),ft(_,"CVER",22),this.D&&ft(_,"X-HTTP-Session-Id",this.D),Si(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(bl(X)))+"&"+g:this.m&&Xt(_,this.m,X)),ns(this.h,q),this.Ua&&ft(_,"TYPE","init"),this.P?(ft(_,"$req",g),ft(_,"SID","null"),q.T=!0,nr(q,_,null)):nr(q,_,g),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||es(this.h)||wl(this))};function wl(c,g){var _;g?_=g.l:_=c.U++;const S=Dn(c.I);ft(S,"SID",c.K),ft(S,"RID",_),ft(S,"AID",c.T),Si(c,S),c.m&&c.o&&Xt(S,c.m,c.o),_=new En(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Wo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ns(c.h,_),nr(_,S,g)}function Si(c,g){c.H&&se(c.H,function(_,S){ft(g,S,_)}),c.l&&gl({},function(_,S){ft(g,S,_)})}function Wo(c,g,_){_=Math.min(c.i.length,_);var S=c.l?x(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const ge=["count="+_];X==-1?0<_?(X=q[0].g,ge.push("ofs="+X)):X=0:ge.push("ofs="+X);let Ke=!0;for(let Ft=0;Ft<_;Ft++){let Xe=q[Ft].g;const Zt=q[Ft].map;if(Xe-=X,0>Xe)X=Math.max(0,q[Ft].g-100),Ke=!1;else try{gr(Zt,ge,"req"+Xe+"_")}catch{S&&S(Zt)}}if(Ke){S=ge.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Jo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;me||D(),we||(me(),we=!0),Le.add(g,c),c.v=0}}function Sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kt(x(c.Fa,c),Al(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kt(x(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),us(this),eu(this))};function Ai(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function eu(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Dn(c.qa);ft(g,"RID","rpc"),ft(g,"SID",c.K),ft(g,"AID",c.T),ft(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(g,"TO",c.ja),ft(g,"TYPE","xmlhttp"),Si(c,g),c.m&&c.o&&Xt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=yi(Dn(g)),_.m=null,_.P=!0,Br(_,c)}a.Za=function(){this.C!=null&&(this.C=null,us(this),Sl(this),bt(19))};function fs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function tu(c,g){var _=null;if(c.g==g){fs(c),Ai(c),c.g=null;var S=2}else if(ml(c.h,g))_=g.D,bn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;S=On(),te(S,new Ht(S,_)),cs(c)}else Jo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&vf(c,g)||S==2&&Sl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function Al(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Yr(c,g){if(c.j.info("Error code "+g),g==2){var _=x(c.fb,c),S=c.Xa;const q=!S;S=new Lt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gi(S,"https"),yi(S),q?_i(S.toString(),_):rr(S.toString(),_)}else bt(2);c.G=0,c.l&&c.l.sa(g),nu(c),Zo(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const g=pl(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ka,g),M(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function ru(c,g,_){var S=_ instanceof Lt?Dn(_):new Lt(_);if(S.g!="")g&&(S.g=g+"."+S.g),Sa(S,S.s);else{var q=m.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new Lt(null);S&&gi(X,S),g&&(X.g=g),q&&Sa(X,q),_&&(X.l=_),S=X}return _=c.D,g=c.ya,_&&g&&ft(S,_,g),ft(S,"VER",c.la),Si(c,S),S}function au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new it(new Aa({eb:_})):new it(c.pa),g.Ha(c.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}a=iu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function hs(){}hs.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){B.call(this),this.g=new os(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!W(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Er(this)}k(Tn,B),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Tl(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ve(c),c=_);g.i.push(new Qo(g.Ya++,c)),g.G==3&&cs(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Tn.aa.N.call(this)};function su(c){at.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(su,at);function lu(){Nt.call(this),this.status=1}k(lu,Nt);function Er(c){this.g=c}k(Er,iu),Er.prototype.ua=function(){te(this.g,"a")},Er.prototype.ta=function(c){te(this.g,new su(c))},Er.prototype.sa=function(c){te(this.g,new lu)},Er.prototype.ra=function(){te(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,b_=function(){return new hs},E_=function(){return On()},__=an,kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,yc=Ta,jr.COMPLETE="complete",v_=jr,nt.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",B.prototype.listen=B.prototype.K,po=nt,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,y_=it}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",C0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new s_("@firebase/firestore");function qs(){return Fi.logLevel}function Te(a,...e){if(Fi.logLevel<=Je.DEBUG){const r=e.map(om);Fi.debug(`Firestore (${sl}): ${a}`,...r)}}function ma(a,...e){if(Fi.logLevel<=Je.ERROR){const r=e.map(om);Fi.error(`Firestore (${sl}): ${a}`,...r)}}function Xs(a,...e){if(Fi.logLevel<=Je.WARN){const r=e.map(om);Fi.warn(`Firestore (${sl}): ${a}`,...r)}}function om(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(a,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,T_(a,s,r)}function T_(a,e,r){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw ma(s),new Error(s)}function st(a,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,a||T_(e,o,s)}function ke(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends $i{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(vn.UNAUTHENTICATED)))}shutdown(){}}class US{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class zS{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ca,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ca)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new w_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class jS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new jS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,c_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){st(this.o===void 0,3512);const s=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(st(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new O0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Fe(a,e){return a<e?-1:a>e?1:0}function Ld(a,e){const r=Math.min(a.length,e.length);for(let s=0;s<r;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return Ed(o)===Ed(u)?Fe(o,u):Ed(o)?1:-1}return Fe(a.length,e.length)}const FS=55296,GS=57343;function Ed(a){const e=a.charCodeAt(0);return e>=FS&&e<=GS}function Zs(a,e,r){return a.length===e.length&&a.every(((s,o)=>r(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="__name__";class Rr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Ie(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Ie(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Rr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Fe(e.length,r.length)}static compareSegments(e,r){const s=Rr.isNumericId(e),o=Rr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(r)):Ld(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class vt extends Rr{construct(e,r,s){return new vt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new vt(r)}static emptyPath(){return new vt([])}}const QS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Rr{construct(e,r,s){return new hn(e,r,s)}static isValidIdentifier(e){return QS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ud}static keyField(){return new hn([Ud])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(r)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(a,e,r){if(!r)throw new ye(ne.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function $S(a,e,r,s){if(e===!0&&s===!0)throw new ye(ne.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function D0(a){if(!Re.isDocumentKey(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function I0(a){if(Re.isDocumentKey(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function A_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Yc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ie(12329,{type:typeof a})}function Ws(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Yc(a);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a,e){const r={typeString:a};return e&&(r.value=e),r}function Po(a,e){if(!A_(a))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const h=a[s];if(o&&typeof h!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new ye(ne.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,M0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*M0);return new Et(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<V0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Po(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:qt("string",Et._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Et(0,0))}static max(){return new Pe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function YS(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new Et(r+1,0):new Et(r,s));return new ti(o,Re.empty(),e)}function KS(a){return new ti(a.readTime,a.key,xo)}class ti{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ti(Pe.min(),Re.empty(),xo)}static max(){return new ti(Pe.max(),Re.empty(),xo)}}function XS(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(a.documentKey,e.documentKey),r!==0?r:Fe(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(a){if(a.code!==ne.FAILED_PRECONDITION||a.message!==ZS)throw a;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ue?r:ue.resolve(r)}catch(r){return ue.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.reject(r)}static resolve(e){return new ue(((r,s)=>{r(e)}))}static reject(e){return new ue(((r,s)=>{s(e)}))}static waitFor(e){return new ue(((r,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&r()}),(p=>s(p)))})),h=!0,u===o&&r()}))}static or(e){let r=ue.resolve(!1);for(const s of e)r=r.next((o=>o?ue.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(e,r){return new ue(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;r(e[y]).next((E=>{h[y]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,r){return new ue(((s,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):s()};u()}))}}function JS(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ol(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Xc(a){return a==null}function Nc(a){return a===0&&1/a==-1/0}function eA(a){return typeof a=="number"&&Number.isInteger(a)&&!Nc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="";function tA(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=P0(e)),e=nA(a.get(r),e);return P0(e)}function nA(a,e){let r=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case x_:r+="";break;default:r+=u}}return r}function P0(a){return a+x_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Yi(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function R_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){this.comparator=e,this.root=r||fn.EMPTY}insert(e,r){return new xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new fn(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Kt(this.comparator);return r.data=e,r}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new lr([])}unionWith(e){let r=new Kt(hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new lr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N_("Invalid base64 string: "+u):u}})(e);return new dn(r)}static fromUint8Array(e){const r=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new dn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const rA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(a){if(st(!!a,39018),typeof a=="string"){let e=0;const r=rA.exec(a);if(st(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(a.seconds),nanos:Mt(a.nanos)}}function Mt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ri(a){return typeof a=="string"?dn.fromBase64String(a):dn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="server_timestamp",O_="__type__",D_="__previous_value__",I_="__local_write_time__";function Zc(a){return(a?.mapValue?.fields||{})[O_]?.stringValue===C_}function Wc(a){const e=a.mapValue.fields[D_];return Zc(e)?Wc(e):e}function Ro(a){const e=ni(a.mapValue.fields[I_].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,r,s,o,u,h,m,p,y,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Cc="(default)";class No{constructor(e,r){this.projectId=e,this.database=r||Cc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__type__",iA="__max__",fc={mapValue:{}},M_="__vector__",Oc="value";function ai(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zc(a)?4:lA(a)?9007199254740991:sA(a)?10:11:Ie(28295,{value:a})}function Ir(a,e){if(a===e)return!0;const r=ai(a);if(r!==ai(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ro(a).isEqual(Ro(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ni(o.timestampValue),m=ni(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return ri(o.bytesValue).isEqual(ri(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return Mt(o.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Mt(o.integerValue)===Mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Mt(o.doubleValue),m=Mt(u.doubleValue);return h===m?Nc(h)===Nc(m):isNaN(h)&&isNaN(m)}return!1})(a,e);case 9:return Zs(a.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(k0(h)!==k0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ir(h[p],m[p])))return!1;return!0})(a,e);default:return Ie(52216,{left:a})}}function Co(a,e){return(a.values||[]).find((r=>Ir(r,e)))!==void 0}function Js(a,e){if(a===e)return 0;const r=ai(a),s=ai(e);if(r!==s)return Fe(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(a.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Mt(u.integerValue||u.doubleValue),p=Mt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(a,e);case 3:return U0(a.timestampValue,e.timestampValue);case 4:return U0(Ro(a),Ro(e));case 5:return Ld(a.stringValue,e.stringValue);case 6:return(function(u,h){const m=ri(u),p=ri(h);return m.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Fe(m[y],p[y]);if(E!==0)return E}return Fe(m.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Fe(Mt(u.latitude),Mt(h.latitude));return m!==0?m:Fe(Mt(u.longitude),Mt(h.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return z0(a.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Oc]?.arrayValue,E=p[Oc]?.arrayValue,T=Fe(y?.values?.length||0,E?.values?.length||0);return T!==0?T:z0(y,E)})(a.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fc.mapValue&&h===fc.mapValue)return 0;if(u===fc.mapValue)return 1;if(h===fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const x=Ld(p[T],E[T]);if(x!==0)return x;const N=Js(m[p[T]],y[E[T]]);if(N!==0)return N}return Fe(p.length,E.length)})(a.mapValue,e.mapValue);default:throw Ie(23264,{he:r})}}function U0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Fe(a,e);const r=ni(a),s=ni(e),o=Fe(r.seconds,s.seconds);return o!==0?o:Fe(r.nanos,s.nanos)}function z0(a,e){const r=a.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=Js(r[o],s[o]);if(u)return u}return Fe(r.length,s.length)}function el(a){return zd(a)}function zd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=ni(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return ri(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Re.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=zd(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${zd(r.fields[h])}`;return o+"}"})(a.mapValue):Ie(61005,{value:a})}function vc(a){switch(ai(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wc(a);return e?16+vc(e):16;case 5:return 2*a.stringValue.length;case 6:return ri(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Yi(s.fields,((u,h)=>{o+=u.length+vc(h)})),o})(a.mapValue);default:throw Ie(13486,{value:a})}}function Dc(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function jd(a){return!!a&&"integerValue"in a}function fm(a){return!!a&&"arrayValue"in a}function j0(a){return!!a&&"nullValue"in a}function B0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function _c(a){return!!a&&"mapValue"in a}function sA(a){return(a?.mapValue?.fields||{})[V_]?.stringValue===M_}function Eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Yi(a.mapValue.fields,((r,s)=>e.mapValue.fields[r]=Eo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Eo(a.arrayValue.values[r]);return e}return{...a}}function lA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===iA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!_c(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(r)}setAll(e){let r=hn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=m.popLast()}h?s[m.lastSegment()]=Eo(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());_c(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];_c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Yi(r,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Zn(Eo(this.value))}}function P_(a){const e=[];return Yi(a.fields,((r,s)=>{const o=new hn([r]);if(_c(s)){const u=P_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,r,s,o,u,h,m){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Pe.min(),Pe.min(),Pe.min(),Zn.empty(),0)}static newFoundDocument(e,r,s,o){return new _n(e,1,r,Pe.min(),s,o,0)}static newNoDocument(e,r){return new _n(e,2,r,Pe.min(),Pe.min(),Zn.empty(),0)}static newUnknownDocument(e,r){return new _n(e,3,r,Pe.min(),Pe.min(),Zn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,r){this.position=e,this.inclusive=r}}function q0(a,e,r){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],h=a.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),r.key):s=Js(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Ir(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,r="asc"){this.field=e,this.dir=r}}function oA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class Bt extends k_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new cA(e,r,s):r==="array-contains"?new dA(e,s):r==="in"?new mA(e,s):r==="not-in"?new pA(e,s):r==="array-contains-any"?new gA(e,s):new Bt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new fA(e,s):new hA(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Js(r,this.value)):r!==null&&ai(this.value)===ai(r)&&this.matchesComparison(Js(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends k_{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new cr(e,r)}matches(e){return L_(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L_(a){return a.op==="and"}function U_(a){return uA(a)&&L_(a)}function uA(a){for(const e of a.filters)if(e instanceof cr)return!1;return!0}function Bd(a){if(a instanceof Bt)return a.field.canonicalString()+a.op.toString()+el(a.value);if(U_(a))return a.filters.map((e=>Bd(e))).join(",");{const e=a.filters.map((r=>Bd(r))).join(",");return`${a.op}(${e})`}}function z_(a,e){return a instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)})(a,e):a instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&z_(h,o.filters[m])),!0):!1})(a,e):void Ie(19439)}function j_(a){return a instanceof Bt?(function(r){return`${r.field.canonicalString()} ${r.op} ${el(r.value)}`})(a):a instanceof cr?(function(r){return r.op.toString()+" {"+r.getFilters().map(j_).join(" ,")+"}"})(a):"Filter"}class cA extends Bt{constructor(e,r,s){super(e,r,s),this.key=Re.fromName(s.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class fA extends Bt{constructor(e,r){super(e,"in",r),this.keys=B_("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class hA extends Bt{constructor(e,r){super(e,"not-in",r),this.keys=B_("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function B_(a,e){return(e.arrayValue?.values||[]).map((r=>Re.fromName(r.referenceValue)))}class dA extends Bt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fm(r)&&Co(r.arrayValue,this.value)}}class mA extends Bt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Co(this.value.arrayValue,r)}}class pA extends Bt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Co(this.value.arrayValue,r)}}class gA extends Bt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Co(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,r=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function F0(a,e=null,r=[],s=[],o=null,u=null,h=null){return new yA(a,e,r,s,o,u,h)}function hm(a){const e=ke(a);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>Bd(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Xc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=r}return e.Te}function dm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!oA(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!z_(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!H0(a.startAt,e.startAt)&&H0(a.endAt,e.endAt)}function qd(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vA(a,e,r,s,o,u,h,m){return new ul(a,e,r,s,o,u,h,m)}function mm(a){return new ul(a)}function G0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pm(a){return a.collectionGroup!==null}function Qs(a){const e=ke(a);if(e.Ie===null){e.Ie=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Kt(hn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ic(u,s))})),r.has(hn.keyField().canonicalString())||e.Ie.push(new Ic(hn.keyField(),s))}return e.Ie}function Nr(a){const e=ke(a);return e.Ee||(e.Ee=_A(e,Qs(a))),e.Ee}function _A(a,e){if(a.limitType==="F")return F0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ic(o.field,u)}));const r=a.endAt?new tl(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new tl(a.startAt.position,a.startAt.inclusive):null;return F0(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}function Hd(a,e){const r=a.filters.concat([e]);return new ul(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Vc(a,e,r){return new ul(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Jc(a,e){return dm(Nr(a),Nr(e))&&a.limitType===e.limitType}function q_(a){return`${hm(Nr(a))}|lt:${a.limitType}`}function Hs(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>j_(o))).join(", ")}]`),Xc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>el(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>el(o))).join(",")),`Target(${s})`})(Nr(a))}; limitType=${a.limitType})`}function ef(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of Qs(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const y=q0(h,m,p);return h.inclusive?y<=0:y<0})(s.startAt,Qs(s),o)||s.endAt&&!(function(h,m,p){const y=q0(h,m,p);return h.inclusive?y>=0:y>0})(s.endAt,Qs(s),o))})(a,e)}function EA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function H_(a){return(e,r)=>{let s=!1;for(const o of Qs(a)){const u=bA(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bA(a,e,r){const s=a.field.isKeyField()?Re.comparator(e.key,r.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Js(p,y):Ie(42886)})(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,((r,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return R_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new xt(Re.comparator);function pa(){return TA}const F_=new xt(Re.comparator);function go(...a){let e=F_;for(const r of a)e=e.insert(r.key,r);return e}function G_(a){let e=F_;return a.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function qi(){return bo()}function Q_(){return bo()}function bo(){return new Ki((a=>a.toString()),((a,e)=>a.isEqual(e)))}const wA=new xt(Re.comparator),SA=new Kt(Re.comparator);function Ge(...a){let e=SA;for(const r of a)e=e.add(r);return e}const AA=new Kt(Fe);function xA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function $_(a){return{integerValue:""+a}}function RA(a,e){return eA(e)?$_(e):gm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function NA(a,e,r){return a instanceof Mc?(function(o,u){const h={fields:{[O_]:{stringValue:C_},[I_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zc(u)&&(u=Wc(u)),u&&(h.fields[D_]=u),{mapValue:h}})(r,e):a instanceof Oo?K_(a,e):a instanceof Do?X_(a,e):(function(o,u){const h=Y_(o,u),m=Q0(h)+Q0(o.Ae);return jd(h)&&jd(o.Ae)?$_(m):gm(o.serializer,m)})(a,e)}function CA(a,e,r){return a instanceof Oo?K_(a,e):a instanceof Do?X_(a,e):r}function Y_(a,e){return a instanceof Pc?(function(s){return jd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Mc extends tf{}class Oo extends tf{constructor(e){super(),this.elements=e}}function K_(a,e){const r=Z_(e);for(const s of a.elements)r.some((o=>Ir(o,s)))||r.push(s);return{arrayValue:{values:r}}}class Do extends tf{constructor(e){super(),this.elements=e}}function X_(a,e){let r=Z_(e);for(const s of a.elements)r=r.filter((o=>!Ir(o,s)));return{arrayValue:{values:r}}}class Pc extends tf{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Q0(a){return Mt(a.integerValue||a.doubleValue)}function Z_(a){return fm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function OA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof Do&&o instanceof Do?Zs(s.elements,o.elements,Ir):s instanceof Pc&&o instanceof Pc?Ir(s.Ae,o.Ae):s instanceof Mc&&o instanceof Mc})(a.transform,e.transform)}class DA{constructor(e,r){this.version=e,this.transformResults=r}}class fa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class nf{}function W_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new eE(a.key,fa.none()):new ko(a.key,a.data,fa.none());{const r=a.data,s=Zn.empty();let o=new Kt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Xi(a.key,s,new lr(o.toArray()),fa.none())}}function IA(a,e,r){a instanceof ko?(function(o,u,h){const m=o.value.clone(),p=Y0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(a,e,r):a instanceof Xi?(function(o,u,h){if(!Ec(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Y0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(J_(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(a,e,r):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,r)}function To(a,e,r,s){return a instanceof ko?(function(u,h,m,p){if(!Ec(u.precondition,h))return m;const y=u.value.clone(),E=K0(u.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(a,e,r,s):a instanceof Xi?(function(u,h,m,p){if(!Ec(u.precondition,h))return m;const y=K0(u.fieldTransforms,p,h),E=h.data;return E.setAll(J_(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,e,r,s):(function(u,h,m){return Ec(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(a,e,r)}function VA(a,e){let r=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=Y_(s.transform,o||null);u!=null&&(r===null&&(r=Zn.empty()),r.set(s.field,u))}return r||null}function $0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zs(s,o,((u,h)=>OA(u,h)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ko extends nf{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends nf{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J_(a){const e=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}})),e}function Y0(a,e,r){const s=new Map;st(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,CA(h,m,r[o]))}return s}function K0(a,e,r){const s=new Map;for(const o of a){const u=o.transform,h=r.data.field(o.field);s.set(o.field,NA(u,h,e))}return s}class eE extends nf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends nf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IA(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=To(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=To(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Q_();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(o.key)?null:m;const p=W_(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,((r,s)=>$0(r,s)))&&Zs(this.baseMutations,e.baseMutations,((r,s)=>$0(r,s)))}}class ym{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wA})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ym(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,We;function UA(a){switch(a){case ne.OK:return Ie(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie(15467,{code:a})}}function tE(a){if(a===void 0)return ma("GRPC error has no .code"),ne.UNKNOWN;switch(a){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return Ie(39323,{code:a})}}(We=jt||(jt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Wa([4294967295,4294967295],0);function X0(a){const e=zA().encode(a),r=new g_;return r.update(e),new Uint8Array(r.digest())}function Z0(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wa([r,s],0),new Wa([o,u],0)]}class vm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new yo(`Invalid padding: ${r}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new yo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Wa.fromNumber(this.ge)}ye(e,r,s){let o=e.add(r.multiply(Wa.fromNumber(s)));return o.compare(jA)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=X0(e),[s,o]=Z0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new vm(u,o,r);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const r=X0(e),[s,o]=Z0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new rf(Pe.min(),o,new xt(Fe),pa(),Ge())}}class Lo{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Lo(s,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r,s,o){this.be=e,this.removedTargetIds=r,this.key=s,this.De=o}}class nE{constructor(e,r){this.targetId=e,this.Ce=r}}class rE{constructor(e,r,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class W0{constructor(){this.ve=0,this.Fe=J0(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),r=Ge(),s=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new Lo(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=J0()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BA{constructor(e){this.Ge=e,this.ze=new Map,this.je=pa(),this.Je=hc(),this.He=hc(),this.Ye=new xt(Fe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,s=e.Ce.count,o=this.ot(r);if(o){const u=o.target;if(qd(u))if(s===0){const h=new Re(u.path);this.et(r,h,_n.newNoDocument(h,Pe.min()))}else st(s===1,20013,{expectedCount:s});else{const h=this._t(r);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,m;try{h=ri(s).toUint8Array()}catch(p){if(p instanceof N_)return Xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vm(h,o,u)}catch(p){return Xs(p instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(r,u,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&qd(m.target)){const p=new Re(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,_n.newNoDocument(p,e))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let s=Ge();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new rf(e,r,this.Ye,this.je,s);return this.je=pa(),this.Je=hc(),this.He=hc(),this.Ye=new xt(Fe),o}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new W0,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Kt(Fe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Kt(Fe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W0),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function hc(){return new xt(Re.comparator)}function J0(){return new xt(Re.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FA={and:"AND",or:"OR"};class GA{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Fd(a,e){return a.useProto3Json||Xc(e)?e:{value:e}}function kc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function QA(a,e){return kc(a,e.toTimestamp())}function Cr(a){return st(!!a,49232),Pe.fromTimestamp((function(r){const s=ni(r);return new Et(s.seconds,s.nanos)})(a))}function _m(a,e){return Gd(a,e).canonicalString()}function Gd(a,e){const r=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?r:r.child(e)}function iE(a){const e=vt.fromString(a);return st(cE(e),10190,{key:e.toString()}),e}function Qd(a,e){return _m(a.databaseId,e.path)}function bd(a,e){const r=iE(e);if(r.get(1)!==a.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Re(lE(r))}function sE(a,e){return _m(a.databaseId,e)}function $A(a){const e=iE(a);return e.length===4?vt.emptyPath():lE(e)}function $d(a){return new vt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function lE(a){return st(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function ev(a,e,r){return{name:Qd(a,e),fields:r.value.mapValue.fields}}function YA(a,e){let r;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(st(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const E=y.code===void 0?ne.UNKNOWN:tE(y.code);return new ye(E,y.message||"")})(h);r=new rE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bd(a,s.document.name),u=Cr(s.document.updateTime),h=s.document.createTime?Cr(s.document.createTime):Pe.min(),m=new Zn({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(o,u,h,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new bc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bd(a,s.document),u=s.readTime?Cr(s.readTime):Pe.min(),h=_n.newNoDocument(o,u),m=s.removedTargetIds||[];r=new bc([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bd(a,s.document),u=s.removedTargetIds||[];r=new bc([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new LA(o,u),m=s.targetId;r=new nE(m,h)}}return r}function KA(a,e){let r;if(e instanceof ko)r={update:ev(a,e.key,e.value)};else if(e instanceof eE)r={delete:Qd(a,e.key)};else if(e instanceof Xi)r={update:ev(a,e.key,e.data),updateMask:a2(e.fieldMask)};else{if(!(e instanceof MA))return Ie(16599,{Vt:e.type});r={verify:Qd(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Do)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:QA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(a,e.precondition)),r}function XA(a,e){return a&&a.length>0?(st(e!==void 0,14353),a.map((r=>(function(o,u){let h=o.updateTime?Cr(o.updateTime):Cr(u);return h.isEqual(Pe.min())&&(h=Cr(u)),new DA(h,o.transformResults||[])})(r,e)))):[]}function ZA(a,e){return{documents:[sE(a,e.path)]}}function WA(a,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=sE(a,o);const u=(function(y){if(y.length!==0)return uE(cr.create(y,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(x){return{field:Fs(x.field),direction:t2(x.dir)}})(E)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const m=Fd(a,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:r,parent:o}}function JA(a){let e=$A(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=(function(T){const x=oE(T);return x instanceof cr&&U_(x)?x.getFilters():[x]})(r.where));let h=[];r.orderBy&&(h=(function(T){return T.map((x=>(function(k){return new Ic(Gs(k.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(r.orderBy));let m=null;r.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,Xc(x)?null:x})(r.limit));let p=null;r.startAt&&(p=(function(T){const x=!!T.before,N=T.values||[];return new tl(N,x)})(r.startAt));let y=null;return r.endAt&&(y=(function(T){const x=!T.before,N=T.values||[];return new tl(N,x)})(r.endAt)),vA(e,o,h,u,m,"F",p,y)}function e2(a,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function oE(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Gs(r.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Gs(r.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Gs(r.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Gs(r.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Bt.create(Gs(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return cr.create(r.compositeFilter.filters.map((s=>oE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(r.compositeFilter.op))})(a):Ie(30097,{filter:a})}function t2(a){return qA[a]}function n2(a){return HA[a]}function r2(a){return FA[a]}function Fs(a){return{fieldPath:a.canonicalString()}}function Gs(a){return hn.fromServerFormat(a.fieldPath)}function uE(a){return a instanceof Bt?(function(r){if(r.op==="=="){if(B0(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NAN"}};if(j0(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(B0(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NAN"}};if(j0(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(r.field),op:n2(r.op),value:r.value}}})(a):a instanceof cr?(function(r){const s=r.getFilters().map((o=>uE(o)));return s.length===1?s[0]:{compositeFilter:{op:r2(r.op),filters:s}}})(a):Ie(54877,{filter:a})}function a2(a){const e=[];return a.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function cE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,r,s,o,u=Pe.min(),h=Pe.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.yt=e}}function s2(a){const e=JA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Cn=new o2}addToCollectionParentIndex(e,r){return this.Cn.add(r),ue.resolve()}getCollectionParents(e,r){return ue.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ue.resolve()}deleteFieldIndex(e,r){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,r){return ue.resolve()}getDocumentsMatchingTarget(e,r){return ue.resolve(null)}getIndexType(e,r){return ue.resolve(0)}getFieldIndexes(e,r){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,r){return ue.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,r){return ue.resolve(ti.min())}updateCollectionGroup(e,r,s){return ue.resolve()}updateIndexEntries(e,r){return ue.resolve()}}class o2{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Kt(vt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(fE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",u2=1048576;function rv([a,e],[r,s]){const o=Fe(a,r);return o===0?Fe(e,s):o}class c2{constructor(e){this.Ir=e,this.buffer=new Kt(rv),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();rv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ol(r)?Te(nv,"Ignoring IndexedDB error during garbage collection: ",r):await ll(r)}await this.Vr(3e5)}))}}class h2{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return ue.resolve(Kc.ce);const s=new c2(r);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(tv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,o,u,h,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,r)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),qs()<=Je.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function d2(a,e){return new h2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.changes=new Ki((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?ue.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&To(s.mutation,o,lr.empty(),Et.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Ge()){const o=qi();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((u=>{let h=go();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const s=qi();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Ge())))}populateOverlays(e,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(e,r,s,o){let u=pa();const h=bo(),m=(function(){return bo()})();return r.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xi)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),To(E.mutation,y,E.mutation.getFieldMask(),Et.now())):h.set(y.key,lr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>h.set(y,E))),r.forEach(((y,E)=>m.set(y,new p2(E,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,r){const s=bo();let o=new xt(((h,m)=>h-m)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=r.get(p);if(y===null)return;let E=s.get(p)||lr.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ge()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=Q_();E.forEach((x=>{if(!u.has(x)){const N=W_(r.get(x),s.get(x));N!==null&&T.set(x,N),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ue.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):pm(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):ue.resolve(qi());let m=xo,p=u;return h.next((y=>ue.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ue.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ge()))).next((E=>({batchId:m,changes:G_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next((s=>{let o=go();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let h=go();return this.indexManager.getCollectionParents(e,u).next((m=>ue.forEach(m,(p=>{const y=(function(T,x){return new ul(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,x)=>{h=h.insert(T,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o)))).next((h=>{u.forEach(((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,_n.newInvalidDocument(E)))}));let m=go();return h.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&To(E.mutation,y,lr.empty(),Et.now()),ef(r,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ue.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}})(r)),ue.resolve()}getNamedQuery(e,r){return ue.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:s2(o.bundledQuery),readTime:Cr(o.readTime)}})(r)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new xt(Re.comparator),this.qr=new Map}getOverlay(e,r){return ue.resolve(this.overlays.get(r))}getOverlays(e,r){const s=qi();return ue.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,u)=>{this.St(e,r,u)})),ue.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,r,s){const o=qi(),u=r.length+1,h=new Re(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new xt(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qi(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ue.resolve(m)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new kA(r,s));let u=this.qr.get(r);u===void 0&&(u=Ge(),this.qr.set(r,u)),this.qr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Qr=new Kt(tn.$r),this.Ur=new Kt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new tn(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Gr(new tn(e,r))}zr(e,r){e.forEach((s=>this.removeReference(s,r)))}jr(e){const r=new Re(new vt([])),s=new tn(r,e),o=new tn(r,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Re(new vt([])),s=new tn(r,e),o=new tn(r,e+1);let u=Ge();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new tn(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Re.comparator(e.key,r.key)||Fe(e.Yr,r.Yr)}static Kr(e,r){return Fe(e.Yr,r.Yr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(tn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PA(u,r,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,r){return ue.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ei(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?cm:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Kt(Fe);return r.forEach((o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const h=new tn(new Re(u),0);let m=new Kt(Fe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),h),ue.resolve(this.ti(m))}ti(e){const r=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){st(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(r.mutations,(o=>{const u=new tn(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,r){const s=new tn(r,0),o=this.Zr.firstAfterOrEqual(s);return ue.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.ri=e,this.docs=(function(){return new xt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ue.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(r))}getEntries(e,r){let s=pa();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=pa();const h=r.path,m=new Re(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||XS(KS(E),s)<=0||(o.has(E.key)||ef(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Ie(9500)}ii(e,r){return ue.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new T2(this)}getSize(e){return ue.resolve(this.size)}}class T2 extends m2{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ue.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.persistence=e,this.si=new Ki((r=>hm(r)),dm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,r){return this.si.forEach(((s,o)=>r(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),ue.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new nl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ue.resolve()}updateTargetData(e,r){return this.Pr(r),ue.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ue.waitFor(u).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return ue.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),ue.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ue.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ue.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return ue.resolve(s)}containsKey(e,r){return ue.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new _2,this.referenceDelegate=e(this),this.Pi=new w2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(o){return new b2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new i2(r),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new v2,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new E2(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){Te("MemoryPersistence","Starting transaction:",e);const o=new S2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,r){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,r))))}}class S2 extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Ri=new Em,this.Vi=null}static mi(e){return new bm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ue.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const o=Re.fromPath(s);return this.gi(e,o).next((u=>{u||r.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ue.or([()=>ue.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Lc{constructor(e,r){this.persistence=e,this.pi=new Ki((s=>tA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=d2(this,r)}static mi(e,r){return new Lc(e,r)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}wr(e){let r=0;return this.pr(e,(s=>{r++})).next((()=>r))}pr(e,r){return ue.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ue.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,r).next((m=>{m||(s++,u.removeEntry(h,Pe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=vc(e.data.value)),r}br(e,r,s){return ue.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=o}static As(e,r){let s=Ge(),o=Ge();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ww()?8:JS(bw())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.ys(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,r,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new A2;return this.Ss(e,r,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,r,h,m.size)}))})).next((()=>u.result))}bs(e,r,s,o){return s.documentReadCount<this.fs?(qs()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Hs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(qs()<=Je.DEBUG&&Te("QueryEngine","Query:",Hs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qs()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Hs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(r))):ue.resolve())}ys(e,r){if(G0(r))return ue.resolve(null);let s=Nr(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Vc(r,null,"F"),s=Nr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ge(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(r,m);return this.Cs(r,y,h,p.readTime)?this.ys(e,Vc(r,null,"F")):this.vs(e,y,r,p)}))))})))))}ws(e,r,s,o){return G0(r)||o.isEqual(Pe.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,s,o)?ue.resolve(null):(qs()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hs(r)),this.vs(e,h,r,YS(o,xo)).next((m=>m)))}))}Ds(e,r){let s=new Kt(H_(e));return r.forEach(((o,u)=>{ef(e,u)&&(s=s.add(u))})),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,r,s){return qs()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Hs(r)),this.ps.getDocumentsMatchingQuery(e,r,ti.min(),s)}vs(e,r,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",R2=3e8;class N2{constructor(e,r,s,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new xt(Fe),this.xs=new Ki((u=>hm(u)),dm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function C2(a,e,r,s){return new N2(a,e,r,s)}async function dE(a,e){const r=ke(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Bs(e),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ge();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function O2(a,e){const r=ke(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,x=T.keys();let N=ue.resolve();return x.forEach((k=>{N=N.next((()=>E.getEntry(p,k))).next((G=>{const M=y.docVersions.get(k);st(M!==null,48541),G.version.compareTo(M)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(r,s,e,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ge();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function mE(a){const e=ke(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function D2(a,e){const r=ke(a),s=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const x=o.get(T);if(!x)return;m.push(r.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>r.Pi.addMatchingKeys(u,E.addedDocuments,T))));let N=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(dn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),(function(G,M,J){return G.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=R2?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(x,N,E)&&m.push(r.Pi.updateTargetData(u,N))}));let p=pa(),y=Ge();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(I2(u,h,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Pe.min())){const E=r.Pi.getLastRemoteSnapshotVersion(u).next((T=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ue.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(r.Ms=o,u)))}function I2(a,e,r){let s=Ge(),o=Ge();return r.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let h=pa();return r.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):Te(wm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function V2(a,e){const r=ke(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function M2(a,e){const r=ke(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.Pi.getTargetData(s,e).next((u=>u?(o=u,ue.resolve(o)):r.Pi.allocateTargetId(s).next((h=>(o=new Ya(e,h,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s}))}async function Yd(a,e,r){const s=ke(a),o=s.Ms.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ol(h))throw h;Te(wm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function av(a,e,r){const s=ke(a);let o=Pe.min(),u=Ge();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,E){const T=ke(p),x=T.xs.get(E);return x!==void 0?ue.resolve(T.Ms.get(x)):T.Pi.getTargetData(y,E)})(s,h,Nr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,r?o:Pe.min(),r?u:Ge()))).next((m=>(P2(s,EA(e),m),{documents:m,Qs:u})))))}function P2(a,e,r){let s=a.Os.get(e)||Pe.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class iv{constructor(){this.activeTargetIds=xA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k2{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Kd(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Cc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,r,s,o,u){const h=Kd(),m=this.zo(e,r.toUriEncodedString());Te(Td,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=$c(y);return this.Jo(e,m,p,s,E).then((T=>(Te(Td,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Xs(Td,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,r,s,o,u,h){return this.Go(e,r,s,o,u)}jo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,r){const s=U2[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class B2 extends z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,u){const h=Kd();return new Promise(((m,p)=>{const y=new y_;y.setWithCredentials(!0),y.listenOnce(v_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yc.NO_ERROR:const T=y.getResponseJson();Te(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case yc.TIMEOUT:Te(yn,`RPC '${e}' ${h} timed out`),p(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const x=y.getStatus();if(Te(yn,`RPC '${e}' ${h} failed with status:`,x,"response text:",y.getResponseText()),x>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N?.error;if(k&&k.status&&k.message){const G=(function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(k.status);p(new ye(G,k.message))}else p(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Te(yn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);Te(yn,`RPC '${e}' ${h} sending request:`,o),y.send(r,"POST",E,s,15)}))}T_(e,r,s){const o=Kd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=b_(),m=E_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const E=u.join("");Te(yn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let x=!1,N=!1;const k=new j2({Yo:M=>{N?Te(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(x||(Te(yn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),Te(yn,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Zo:()=>T.close()}),G=(M,J,W)=>{M.listen(J,(Q=>{try{W(Q)}catch(he){setTimeout((()=>{throw he}),0)}}))};return G(T,po.EventType.OPEN,(()=>{N||(Te(yn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),G(T,po.EventType.CLOSE,(()=>{N||(N=!0,Te(yn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))})),G(T,po.EventType.ERROR,(M=>{N||(N=!0,Xs(yn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),k.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),G(T,po.EventType.MESSAGE,(M=>{if(!N){const J=M.data[0];st(!!J,16349);const W=J,Q=W?.error||W[0]?.error;if(Q){Te(yn,`RPC '${e}' stream ${o} received error:`,Q);const he=Q.status;let ce=(function(A){const R=jt[A];if(R!==void 0)return tE(R)})(he),se=Q.message;ce===void 0&&(ce=ne.INTERNAL,se="Unknown error status: "+he+" with message "+Q.message),N=!0,k.a_(new ye(ce,se)),T.close()}else Te(yn,`RPC '${e}' stream ${o} received:`,J),k.u_(J)}})),G(m,__.STAT_EVENT,(M=>{M.stat===kd.PROXY?Te(yn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===kd.NOPROXY&&Te(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(a){return new GA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,r,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class gE{constructor(e,r,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(ma(r.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Te(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q2 extends gE{constructor(e,r,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=YA(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pe.min():h.readTime?Cr(h.readTime):Pe.min()})(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=$d(this.serializer),r.addTarget=(function(u,h){let m;const p=h.target;if(m=qd(p)?{documents:ZA(u,p)}:{query:WA(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=aE(u,h.resumeToken);const y=Fd(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Pe.min())>0){m.readTime=kc(u,h.snapshotVersion.toTimestamp());const y=Fd(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=e2(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=$d(this.serializer),r.removeTarget=e,this.q_(r)}}class H2 extends gE{constructor(e,r,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=XA(e.writeResults,e.commitTime),s=Cr(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=$d(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>KA(this.serializer,s)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{}class G2 extends F2{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Gd(r,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())}))}Ho(e,r,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Gd(r,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(r),this.aa=!1):Te("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class $2{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Zi(this)&&(Te(Gi,"Restarting streams for network reachability change."),await(async function(p){const y=ke(p);y.Ea.add(4),await Uo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await sf(y)})(this))}))})),this.Ra=new Q2(s,o)}}async function sf(a){if(Zi(a))for(const e of a.da)await e(!0)}async function Uo(a){for(const e of a.da)await e(!1)}function yE(a,e){const r=ke(a);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Rm(r)?xm(r):cl(r).O_()&&Am(r,e))}function Sm(a,e){const r=ke(a),s=cl(r);r.Ia.delete(e),s.O_()&&vE(r,e),r.Ia.size===0&&(s.O_()?s.L_():Zi(r)&&r.Ra.set("Unknown"))}function Am(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}cl(a).Y_(e)}function vE(a,e){a.Va.Ue(e),cl(a).Z_(e)}function xm(a){a.Va=new BA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),cl(a).start(),a.Ra.ua()}function Rm(a){return Zi(a)&&!cl(a).x_()&&a.Ia.size>0}function Zi(a){return ke(a).Ea.size===0}function _E(a){a.Va=void 0}async function Y2(a){a.Ra.set("Online")}async function K2(a){a.Ia.forEach(((e,r)=>{Am(a,e)}))}async function X2(a,e){_E(a),Rm(a)?(a.Ra.ha(e),xm(a)):a.Ra.set("Unknown")}async function Z2(a,e,r){if(a.Ra.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(s){Te(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uc(a,s)}else if(e instanceof bc?a.Va.Ze(e):e instanceof nE?a.Va.st(e):a.Va.tt(e),!r.isEqual(Pe.min()))try{const s=await mE(a.localStore);r.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),vE(u,p);const T=new Ya(E.target,p,y,E.sequenceNumber);Am(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(a,r)}catch(s){Te(Gi,"Failed to raise snapshot:",s),await Uc(a,s)}}async function Uc(a,e,r){if(!ol(e))throw e;a.Ea.add(1),await Uo(a),a.Ra.set("Offline"),r||(r=()=>mE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Te(Gi,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await sf(a)}))}function EE(a,e){return e().catch((r=>Uc(a,r,e)))}async function lf(a){const e=ke(a),r=ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cm;for(;W2(e);)try{const o=await V2(e.localStore,s);if(o===null){e.Ta.length===0&&r.L_();break}s=o.batchId,J2(e,o)}catch(o){await Uc(e,o)}bE(e)&&TE(e)}function W2(a){return Zi(a)&&a.Ta.length<10}function J2(a,e){a.Ta.push(e);const r=ii(a);r.O_()&&r.X_&&r.ea(e.mutations)}function bE(a){return Zi(a)&&!ii(a).x_()&&a.Ta.length>0}function TE(a){ii(a).start()}async function ex(a){ii(a).ra()}async function tx(a){const e=ii(a);for(const r of a.Ta)e.ea(r.mutations)}async function nx(a,e,r){const s=a.Ta.shift(),o=ym.from(s,e,r);await EE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await lf(a)}async function rx(a,e){e&&ii(a).X_&&await(async function(s,o){if((function(h){return UA(h)&&h!==ne.ABORTED})(o.code)){const u=s.Ta.shift();ii(s).B_(),await EE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(a,e),bE(a)&&TE(a)}async function uv(a,e){const r=ke(a);r.asyncQueue.verifyOperationInProgress(),Te(Gi,"RemoteStore received new credentials");const s=Zi(r);r.Ea.add(3),await Uo(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await sf(r)}async function ax(a,e){const r=ke(a);e?(r.Ea.delete(2),await sf(r)):e||(r.Ea.add(2),await Uo(r),r.Ra.set("Unknown"))}function cl(a){return a.ma||(a.ma=(function(r,s,o){const u=ke(r);return u.sa(),new q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Y2.bind(null,a),t_:K2.bind(null,a),r_:X2.bind(null,a),H_:Z2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Rm(a)?xm(a):a.Ra.set("Unknown")):(await a.ma.stop(),_E(a))}))),a.ma}function ii(a){return a.fa||(a.fa=(function(r,s,o){const u=ke(r);return u.sa(),new H2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ex.bind(null,a),r_:rx.bind(null,a),ta:tx.bind(null,a),na:nx.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await lf(a)):(await a.fa.stop(),a.Ta.length>0&&(Te(Gi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const h=Date.now()+s,m=new Nm(e,r,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(a,e){if(ma("AsyncQueue",`${e}: ${a}`),ol(a))return new ye(ne.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(e){return new $s(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Re.comparator(r.key,s.key):(r,s)=>Re.comparator(r.key,s.key),this.keyedMap=go(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new $s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ga=new xt(Re.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,s)=>{e.push(s)})),e}}class rl{constructor(e,r,s,o,u,h,m,p,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new rl(e,r,$s.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sx{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=ke(r),u=o.queries;o.queries=fv(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function fv(){return new Ki((a=>q_(a)),Jc)}async function wE(a,e){const r=ke(a);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ix,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const m=Cm(h,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(m)}r.queries.set(o,u),u.Sa.push(e),e.va(r.onlineState),u.wa&&e.Fa(u.wa)&&Om(r)}async function SE(a,e){const r=ke(a),s=e.query;let o=3;const u=r.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function lx(a,e){const r=ke(a);let s=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Om(r)}function ox(a,e,r){const s=ke(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(r);s.queries.delete(e)}function Om(a){a.Ca.forEach((e=>{e.next()}))}var Xd,hv;(hv=Xd||(Xd={})).Ma="default",hv.Cache="cache";class AE{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class ux{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=H_(e),this.tu=new $s(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new cv,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const x=o.get(E),N=ef(this.query,T)?T:null,k=!!x&&this.mutatedKeys.has(x.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let M=!1;x&&N?x.data.isEqual(N.data)?k!==G&&(s.track({type:3,doc:N}),M=!0):this.su(x,N)||(s.track({type:2,doc:N}),M=!0,(p&&this.eu(N,p)>0||y&&this.eu(N,y)<0)&&(m=!0)):!x&&N?(s.track({type:0,doc:N}),M=!0):x&&!N&&(s.track({type:1,doc:x}),M=!0,(p||y)&&(m=!0)),M&&(N?(h=h.add(N),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(N,k){const G=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:M})}};return G(N)-G(k)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=r&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new rl(this.query,e.tu,u,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return e.forEach((s=>{this.Xa.has(s)||r.push(new RE(s))})),this.Xa.forEach((s=>{e.has(s)||r.push(new xE(s))})),r}cu(e){this.Ya=e.Qs,this.Xa=Ge();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dm="SyncEngine";class cx{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class fx{constructor(e){this.key=e,this.hu=!1}}class hx{constructor(e,r,s,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ki((m=>q_(m)),Jc),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Re.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dx(a,e,r=!0){const s=VE(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await NE(s,e,r,!0),o}async function mx(a,e){const r=VE(a);await NE(r,e,!0,!1)}async function NE(a,e,r,s){const o=await M2(a.localStore,Nr(e)),u=o.targetId,h=a.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await px(a,e,u,h==="current",o.resumeToken)),a.isPrimaryClient&&r&&yE(a.remoteStore,o),m}async function px(a,e,r,s,o){a.pu=(T,x,N)=>(async function(G,M,J,W){let Q=M.view.ru(J);Q.Cs&&(Q=await av(G.localStore,M.query,!1).then((({documents:I})=>M.view.ru(I,Q))));const he=W&&W.targetChanges.get(M.targetId),ce=W&&W.targetMismatches.get(M.targetId)!=null,se=M.view.applyChanges(Q,G.isPrimaryClient,he,ce);return mv(G,M.targetId,se.au),se.snapshot})(a,T,x,N);const u=await av(a.localStore,e,!0),h=new ux(e,u.Qs),m=h.ru(u.documents),p=Lo.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",o),y=h.applyChanges(m,a.isPrimaryClient,p);mv(a,r,y.au);const E=new cx(e,r,h);return a.Tu.set(e,E),a.Iu.has(r)?a.Iu.get(r).push(e):a.Iu.set(r,[e]),y.snapshot}async function gx(a,e,r){const s=ke(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Jc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Yd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Sm(s.remoteStore,o.targetId),Zd(s,o.targetId)})).catch(ll)):(Zd(s,o.targetId),await Yd(s.localStore,o.targetId,!0))}async function yx(a,e){const r=ke(a),s=r.Tu.get(e),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Sm(r.remoteStore,s.targetId))}async function vx(a,e,r){const s=Ax(a);try{const o=await(function(h,m){const p=ke(h),y=Et.now(),E=m.reduce(((N,k)=>N.add(k.key)),Ge());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let k=pa(),G=Ge();return p.Ns.getEntries(N,E).next((M=>{k=M,k.forEach(((J,W)=>{W.isValidDocument()||(G=G.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,k))).next((M=>{T=M;const J=[];for(const W of m){const Q=VA(W,T.get(W.key).overlayedDocument);Q!=null&&J.push(new Xi(W.key,Q,P_(Q.value.mapValue),fa.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,J,m)})).next((M=>{x=M;const J=M.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(N,M.batchId,J)}))})).then((()=>({batchId:x.batchId,changes:G_(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new xt(Fe)),y=y.insert(m,p),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,r),await zo(s,o.changes),await lf(s.remoteStore)}catch(o){const u=Cm(o,"Failed to persist write");r.reject(u)}}async function CE(a,e){const r=ke(a);try{const s=await D2(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=r.Au.get(u);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?st(h.hu,14607):o.removedDocuments.size>0&&(st(h.hu,42227),h.hu=!1))})),await zo(r,s,e)}catch(s){await ll(s)}}function dv(a,e,r){const s=ke(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=ke(h);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const x of T.Sa)x.va(m)&&(y=!0)})),y&&Om(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _x(a,e,r){const s=ke(a);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new xt(Re.comparator);h=h.insert(u,_n.newNoDocument(u,Pe.min()));const m=Ge().add(u),p=new rf(Pe.min(),new Map,new xt(Fe),h,m);await CE(s,p),s.du=s.du.remove(u),s.Au.delete(e),Im(s)}else await Yd(s.localStore,e,!1).then((()=>Zd(s,e,r))).catch(ll)}async function Ex(a,e){const r=ke(a),s=e.batch.batchId;try{const o=await O2(r.localStore,e);DE(r,s,null),OE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await zo(r,o)}catch(o){await ll(o)}}async function bx(a,e,r){const s=ke(a);try{const o=await(function(h,m){const p=ke(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(st(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);DE(s,e,r),OE(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await zo(s,o)}catch(o){await ll(o)}}function OE(a,e){(a.mu.get(e)||[]).forEach((r=>{r.resolve()})),a.mu.delete(e)}function DE(a,e,r){const s=ke(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Zd(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||IE(a,s)}))}function IE(a,e){a.Eu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(Sm(a.remoteStore,r),a.du=a.du.remove(e),a.Au.delete(r),Im(a))}function mv(a,e,r){for(const s of r)s instanceof xE?(a.Ru.addReference(s.key,e),Tx(a,s)):s instanceof RE?(Te(Dm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||IE(a,s.key)):Ie(19791,{wu:s})}function Tx(a,e){const r=e.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(Te(Dm,"New document in limbo: "+r),a.Eu.add(s),Im(a))}function Im(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const r=new Re(vt.fromString(e)),s=a.fu.next();a.Au.set(s,new fx(r)),a.du=a.du.insert(r,s),yE(a.remoteStore,new Ya(Nr(mm(r.path)),s,"TargetPurposeLimboResolution",Kc.ce))}}async function zo(a,e,r){const s=ke(a),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,r).then((y=>{if((y||r)&&s.isPrimaryClient){const E=y?!y.fromCache:r?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Tm.As(p.targetId,y);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,y){const E=ke(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ue.forEach(y,(x=>ue.forEach(x.Es,(N=>E.persistence.referenceDelegate.addReference(T,x.targetId,N))).next((()=>ue.forEach(x.ds,(N=>E.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))))))}catch(T){if(!ol(T))throw T;Te(wm,"Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const N=E.Ms.get(x),k=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(x,G)}}})(s.localStore,u))}async function wx(a,e){const r=ke(a);if(!r.currentUser.isEqual(e)){Te(Dm,"User change. New user:",e.toKey());const s=await dE(r.localStore,e);r.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ye(ne.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zo(r,s.Ls)}}function Sx(a,e){const r=ke(a),s=r.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const u=r.Iu.get(e);if(!u)return o;for(const h of u){const m=r.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function VE(a){const e=ke(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.Pu.H_=lx.bind(null,e.eventManager),e.Pu.yu=ox.bind(null,e.eventManager),e}function Ax(a){const e=ke(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return C2(this.persistence,new x2,e.initialUser,this.serializer)}Cu(e){return new hE(bm.mi,this.serializer)}Du(e){return new k2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class xx extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){st(this.persistence.referenceDelegate instanceof Lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new f2(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new hE((s=>Lc.mi(s,r)),this.serializer)}}class Wd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wx.bind(null,this.syncEngine),await ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sx})()}createDatastore(e){const r=af(e.databaseInfo.databaseId),s=(function(u){return new B2(u)})(e.databaseInfo);return(function(u,h,m,p){return new G2(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(s,o,u,h,m){return new $2(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(r=>dv(this.syncEngine,r,0)),(function(){return lv.v()?new lv:new L2})())}createSyncEngine(e,r){return(function(o,u,h,m,p,y,E){const T=new hx(o,u,h,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ke(r);Te(Gi,"RemoteStore shutting down."),s.Ea.add(5),await Uo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wd.provider={build:()=>new Wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class Rx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{Te(si,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Te(si,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Cm(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sd(a,e){a.asyncQueue.verifyOperationInProgress(),Te(si,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function pv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await Nx(a);Te(si,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener((s=>uv(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>uv(e.remoteStore,o))),a._onlineComponents=e}async function Nx(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Te(si,"Using user provided OfflineComponentProvider");try{await Sd(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;Xs("Error using user provided cache. Falling back to memory cache: "+r),await Sd(a,new zc)}}else Te(si,"Using default OfflineComponentProvider"),await Sd(a,new xx(void 0));return a._offlineComponents}async function PE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Te(si,"Using user provided OnlineComponentProvider"),await pv(a,a._uninitializedComponentsProvider._online)):(Te(si,"Using default OnlineComponentProvider"),await pv(a,new Wd))),a._onlineComponents}function Cx(a){return PE(a).then((e=>e.syncEngine))}async function kE(a){const e=await PE(a),r=e.eventManager;return r.onListen=dx.bind(null,e.syncEngine),r.onUnlisten=gx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=yx.bind(null,e.syncEngine),r}function Ox(a,e,r={}){const s=new ca;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new ME({next:x=>{E.Nu(),h.enqueueAndForget((()=>SE(u,T)));const N=x.docs.has(m);!N&&x.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&p&&p.source==="server"?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new AE(mm(m.path),E,{includeMetadataChanges:!0,qa:!0});return wE(u,T)})(await kE(a),a.asyncQueue,e,r,s))),s.promise}function Dx(a,e,r={}){const s=new ca;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new ME({next:x=>{E.Nu(),h.enqueueAndForget((()=>SE(u,T))),x.fromCache&&p.source==="server"?y.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new AE(m,E,{includeMetadataChanges:!0,qa:!0});return wE(u,T)})(await kE(a),a.asyncQueue,e,r,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",yv=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=yv}else this.host=e.host,this.ssl=e.ssl??yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$S("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LS;switch(s.type){case"firstParty":return new BS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=gv.get(r);s&&(Te("ComponentProvider","Removing Datastore"),gv.delete(r),s.terminate())})(this),Promise.resolve()}}function Ix(a,e,r,s={}){a=Ws(a,of);const o=$c(e),u=a._getSettings(),h={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${r}`;o&&(n_(`https://${m}`),a_("Firestore",!0)),u.host!==UE&&u.host!==m&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!xc(p,h)&&(a._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=vn.MOCK_USER;else{y=r_(s.mockUserToken,a._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(T)}a._authCredentials=new US(new w_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class Yt{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Po(r,Yt._jsonSchema))return new Yt(e,s||null,new Re(vt.fromString(r.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:qt("string",Yt._jsonSchemaVersion),referencePath:qt("string")};class Ja extends oi{constructor(e,r,s){super(e,r,mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Re(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function fl(a,e,...r){if(a=ei(a),S_("collection","path",e),a instanceof of){const s=vt.fromString(e,...r);return I0(s),new Ja(a,null,s)}{if(!(a instanceof Yt||a instanceof Ja))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return I0(s),new Ja(a.firestore,null,s)}}function zE(a,e,...r){if(a=ei(a),arguments.length===1&&(e=um.newId()),S_("doc","path",e),a instanceof of){const s=vt.fromString(e,...r);return D0(s),new Yt(a,null,new Re(s))}{if(!(a instanceof Yt||a instanceof Ja))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return D0(s),new Yt(a.firestore,a instanceof Ja?a.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const s=wd();s&&Te(_v,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=wd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=wd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;Te(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",bv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=Nm.createAndSchedule(this,e,r,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function bv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class uf extends of{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new Ev,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function Vx(a,e){const r=typeof a=="object"?a:d_(),s=typeof a=="string"?a:Cc,o=u_(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=e_("firestore");u&&Ix(o,...u)}return o}function Vm(a){if(a._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Mx(a),a._firestoreClient}function Mx(a){const e=a._freezeSettings(),r=(function(o,u,h,m){return new aA(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,LE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Rx(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(dn.fromBase64String(e))}catch(r){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wn(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Po(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:qt("string",Wn._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Px(){return new cf(Ud)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Po(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:qt("string",Or._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Po(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Dr(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:qt("string",Dr._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^__.*__$/;class Lx{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,r,this.fieldTransforms):new ko(e,this.data,r,this.fieldTransforms)}}function BE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:a})}}class Mm{constructor(e,r,s,o,u,h){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&kx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ux{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||af(e)}Cc(e,r,s,o=!1){return new Mm({Ac:e,methodName:r,Dc:s,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pm(a){const e=a._freezeSettings(),r=af(a._databaseId);return new Ux(a._databaseId,!!e.ignoreUndefinedProperties,r)}function zx(a,e,r,s,o,u={}){const h=a.Cc(u.merge||u.mergeFields?2:0,e,r,o);GE("Data must be an object, but it was:",h,s);const m=HE(s,h);let p,y;if(u.merge)p=new lr(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const x=jx(e,T,r);if(!h.contains(x))throw new ye(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qx(E,x)||E.push(x)}p=new lr(E),y=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=h.fieldTransforms;return new Lx(new Zn(m),p,y)}function qE(a,e,r,s=!1){return km(r,a.Cc(s?4:3,e))}function km(a,e){if(FE(a=ei(a)))return GE("Unsupported field value:",e,a),HE(a,e);if(a instanceof jE)return(function(s,o){if(!BE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=km(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=ei(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Et.fromDate(s);return{timestampValue:kc(o.serializer,u)}}if(s instanceof Et){const u=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(o.serializer,u)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:aE(o.serializer,s._byteString)};if(s instanceof Yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dr)return(function(h,m){return{mapValue:{fields:{[V_]:{stringValue:M_},[Oc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return gm(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yc(s)}`)})(a,e)}function HE(a,e){const r={};return R_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(a,((s,o)=>{const u=km(o,e.mc(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function FE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Et||a instanceof Or||a instanceof Wn||a instanceof Yt||a instanceof jE||a instanceof Dr)}function GE(a,e,r){if(!FE(r)||!A_(r)){const s=Yc(r);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function jx(a,e,r){if((e=ei(e))instanceof cf)return e._internalPath;if(typeof e=="string")return QE(a,e);throw jc("Field path arguments must be of type string or ",a,!1,void 0,r)}const Bx=new RegExp("[~\\*/\\[\\]]");function QE(a,e,r){if(e.search(Bx)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new cf(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function jc(a,e,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(ne.INVALID_ARGUMENT,m+a+p)}function qx(a,e){return a.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hx extends Lm{data(){return super.data()}}function Um(a,e){return typeof e=="string"?QE(a,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class jm extends zm{}function Tc(a,e,...r){let s=[];e instanceof zm&&s.push(e),s=s.concat(r),(function(u){const h=u.filter((p=>p instanceof Bm)).length,m=u.filter((p=>p instanceof ff)).length;if(h>1||h>0&&m>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class ff extends jm{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ff(e,r,s)}_apply(e){const r=this._parse(e);return $E(e._query,r),new oi(e.firestore,e.converter,Hd(e._query,r))}_parse(e){const r=Pm(e.firestore);return(function(u,h,m,p,y,E,T){let x;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Sv(T,E);const k=[];for(const G of T)k.push(wv(p,u,G));x={arrayValue:{values:k}}}else x=wv(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Sv(T,E),x=qE(m,h,T,E==="in"||E==="not-in");return Bt.create(y,E,x)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Jd(a,e,r){const s=e,o=Um("where",a);return ff._create(o,s,r)}class Bm extends zm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Bm(e,r)}_parse(e){const r=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:cr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)$E(h,p),h=Hd(h,p)})(e._query,r),new oi(e.firestore,e.converter,Hd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qm extends jm{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new qm(e,r,s)}_apply(e){return new oi(e.firestore,e.converter,Vc(e._query,this._limit,this._limitType))}}function Tv(a){return qm._create("limit",a,"F")}class Hm extends jm{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Hm(e,r,s)}_apply(e){const r=Qx(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,(function(o,u){return new ul(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,r))}}function Gx(...a){return Hm._create("startAfter",a,!1)}function Qx(a,e,r,s){if(r[0]=ei(r[0]),r[0]instanceof Lm)return(function(u,h,m,p,y){if(!p)throw new ye(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const T of Qs(u))if(T.field.isKeyField())E.push(Dc(h,p.key));else{const x=p.data.field(T.field);if(Zc(x))throw new ye(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const N=T.field.canonicalString();throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}E.push(x)}return new tl(E,y)})(a._query,a.firestore._databaseId,e,r[0]._document,s);{const o=Pm(a.firestore);return(function(h,m,p,y,E,T){const x=h.explicitOrderBy;if(E.length>x.length)throw new ye(ne.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let k=0;k<E.length;k++){const G=E[k];if(x[k].field.isKeyField()){if(typeof G!="string")throw new ye(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!pm(h)&&G.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const M=h.path.child(vt.fromString(G));if(!Re.isDocumentKey(M))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const J=new Re(M);N.push(Dc(m,J))}else{const M=qE(p,y,G);N.push(M)}}return new tl(N,T)})(a._query,a.firestore._databaseId,o,e,r,s)}}function wv(a,e,r){if(typeof(r=ei(r))=="string"){if(r==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pm(e)&&r.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(vt.fromString(r));if(!Re.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Dc(a,new Re(s))}if(r instanceof Yt)return Dc(a,r._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(r)}.`)}function Sv(a,e){if(!Array.isArray(a)||a.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $E(a,e){const r=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $x{convertValue(e,r="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Yi(e,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(e){const r=e.fields?.[Oc].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Dr(r)}convertGeoPoint(e){return new Or(Mt(e.latitude),Mt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Wc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ro(e));default:return null}}convertTimestamp(e){const r=ni(e);return new Et(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=vt.fromString(e);st(cE(s),9688,{name:e});const o=new No(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(r)||ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(a,e,r){let s;return s=a?a.toFirestore(e):e,s}class vo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hi extends Lm{constructor(e,r,s,o,u,h){super(e,r,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hi._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hi._jsonSchema={type:qt("string",Hi._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class wc extends Hi{data(e={}){return super.data(e)}}class Ys{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new wc(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Kx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(a){a=Ws(a,Yt);const e=Ws(a.firestore,uf);return Ox(Vm(e),a._key).then((r=>Jx(e,a,r)))}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:qt("string",Ys._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class YE extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,r)}}function jo(a){a=Ws(a,oi);const e=Ws(a.firestore,uf),r=Vm(e),s=new YE(e);return Fx(a._query),Dx(r,a._query).then((o=>new Ys(e,s,a,o)))}function Zx(a,e){const r=Ws(a.firestore,uf),s=zE(a),o=Yx(a.converter,e);return Wx(r,[zx(Pm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,fa.exists(!1))]).then((()=>s))}function Wx(a,e){return(function(s,o){const u=new ca;return s.asyncQueue.enqueueAndForget((async()=>vx(await Cx(s),o,u))),u.promise})(Vm(a),e)}function Jx(a,e,r){const s=r.docs.get(e._key),o=new YE(a);return new Hi(a,o,e._key,s,new vo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(o){sl=o})(f_),So(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new uf(new zS(s.getProvider("auth-internal")),new qS(h,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(y.options.projectId,E)})(h,o),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Za(N0,C0,e),Za(N0,C0,"esm2020")})();var eR="firebase",tR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(eR,tR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebasestorage.googleapis.com",nR="storageBucket",rR=120*1e3,aR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends $i{constructor(e,r,s=0){super(Ad(e),`Firebase Storage: ${r} (${Ad(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ad(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function Ad(a){return"storage/"+a}function iR(){const a="An unknown error occurred, please check the error payload for server response.";return new kr(Vr.UNKNOWN,a)}function sR(){return new kr(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lR(){return new kr(Vr.CANCELED,"User canceled the upload/download.")}function oR(a){return new kr(Vr.INVALID_URL,"Invalid URL '"+a+"'.")}function uR(a){return new kr(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Av(a){return new kr(Vr.INVALID_ARGUMENT,a)}function XE(){return new kr(Vr.APP_DELETED,"The Firebase app was deleted.")}function cR(a){return new kr(Vr.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=or.makeFromUrl(e,r)}catch{return new or(e,"")}if(s.path==="")return s;throw uR(e)}static makeFromUrl(e,r){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",T=r.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${E}/b/${o}/o${x}`,"i"),k={bucket:1,path:3},G=r===KE?"(?:storage.googleapis.com|storage.cloud.google.com)":r,M="([^?#]*)",J=new RegExp(`^https?://${G}/${o}/${M}`,"i"),Q=[{regex:m,indices:p,postModify:u},{regex:N,indices:k,postModify:y},{regex:J,indices:{bucket:1,path:2},postModify:y}];for(let he=0;he<Q.length;he++){const ce=Q[he],se=ce.regex.exec(e);if(se){const I=se[ce.indices.bucket];let A=se[ce.indices.path];A||(A=""),s=new or(I,A),ce.postModify(s);break}}if(s==null)throw oR(e);return s}}class fR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(a,e,r){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let y=!1;function E(...M){y||(y=!0,e.apply(null,M))}function T(M){o=setTimeout(()=>{o=null,a(N,p())},M)}function x(){u&&clearTimeout(u)}function N(M,...J){if(y){x();return}if(M){x(),E.call(null,M,...J);return}if(p()||h){x(),E.call(null,M,...J);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,T(Q)}let k=!1;function G(M){k||(k=!0,x(),!y&&(o!==null?(M||(m=2),clearTimeout(o),T(0)):M||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},r),G}function dR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(a){return a!==void 0}function xv(a,e,r,s){if(s<e)throw Av(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>r)throw Av(`Invalid value for '${a}'. Expected ${r} or less.`)}function pR(a){const e=encodeURIComponent;let r="?";for(const s in a)if(a.hasOwnProperty(s)){const o=e(s)+"="+e(a[s]);r=r+o+"&"}return r=r.slice(0,-1),r}var Bc;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Bc||(Bc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(a,e){const r=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return r||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,r,s,o,u,h,m,p,y,E,T,x=!0,N=!1){this.url_=e,this.method_=r,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=T,this.retry=x,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Bc.NO_ERROR,p=u.getStatus();if(!m||gR(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Bc.ABORT;s(!1,new mc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new mc(y,u))})},r=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());mR(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=iR();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?XE():lR();h(p)}else{const p=sR();h(p)}};this.canceled_?r(!1,new mc(!1,null,!0)):this.backoffId_=hR(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function vR(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function _R(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ER(a,e){e&&(a["X-Firebase-GMPID"]=e)}function bR(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function TR(a,e,r,s,o,u,h=!0,m=!1){const p=pR(a.urlParams),y=a.url+p,E=Object.assign({},a.headers);return ER(E,e),vR(E,r),_R(E,u),bR(E,s),new yR(y,a.method,E,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function SR(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,r){this._service=e,r instanceof or?this._location=r:this._location=or.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new qc(e,r)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SR(this._location.path)}get storage(){return this._service}get parent(){const e=wR(this._location.path);if(e===null)return null;const r=new or(this._location.bucket,e);return new qc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw cR(e)}}function Rv(a,e){const r=e?.[nR];return r==null?null:or.makeFromBucketSpec(r,a)}function AR(a,e,r,s={}){a.host=`${e}:${r}`;const o=$c(e);o&&(n_(`https://${a.host}/b`),a_("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:r_(u,a.app.options.projectId))}class xR{constructor(e,r,s,o,u,h=!1){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=KE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rR,this._maxUploadRetryTime=aR,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=Rv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(c_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qc(this,e)}_makeRequest(e,r,s,o,u=!0){if(this._deleted)return new fR(XE());{const h=TR(e,this._appId,s,o,r,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,r){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,o).getPromise()}}const Nv="@firebase/storage",Cv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="storage";function RR(a=d_(),e){a=ei(a);const s=u_(a,ZE).getImmediate({identifier:e}),o=e_("storage");return o&&NR(s,...o),s}function NR(a,e,r,s={}){AR(a,e,r,s)}function CR(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new xR(r,s,o,e,f_)}function OR(){So(new Ks(ZE,CR,"PUBLIC").setMultipleInstances(!0)),Za(Nv,Cv,""),Za(Nv,Cv,"esm2020")}OR();const DR={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},WE=h_(DR),Wi=Vx(WE);RR(WE);var xd={exports:{}},Ov;function IR(){return Ov||(Ov=1,(()=>{var a={296:(o,u,h)=>{var m=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,E=/^0o[0-7]+$/i,T=parseInt,x=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,N=typeof self=="object"&&self&&self.Object===Object&&self,k=x||N||Function("return this")(),G=Object.prototype.toString,M=Math.max,J=Math.min,W=function(){return k.Date.now()};function Q(ce){var se=typeof ce;return!!ce&&(se=="object"||se=="function")}function he(ce){if(typeof ce=="number")return ce;if((function(A){return typeof A=="symbol"||(function(R){return!!R&&typeof R=="object"})(A)&&G.call(A)=="[object Symbol]"})(ce))return NaN;if(Q(ce)){var se=typeof ce.valueOf=="function"?ce.valueOf():ce;ce=Q(se)?se+"":se}if(typeof ce!="string")return ce===0?ce:+ce;ce=ce.replace(m,"");var I=y.test(ce);return I||E.test(ce)?T(ce.slice(2),I?2:8):p.test(ce)?NaN:+ce}o.exports=function(ce,se,I){var A,R,V,P,U,C,Qe=0,$e=!1,K=!1,me=!0;if(typeof ce!="function")throw new TypeError("Expected a function");function we(oe){var Ee=A,Ce=R;return A=R=void 0,Qe=oe,P=ce.apply(Ce,Ee)}function Le(oe){var Ee=oe-C;return C===void 0||Ee>=se||Ee<0||K&&oe-Qe>=V}function D(){var oe=W();if(Le(oe))return re(oe);U=setTimeout(D,(function(Ee){var Ce=se-(Ee-C);return K?J(Ce,V-(Ee-Qe)):Ce})(oe))}function re(oe){return U=void 0,me&&A?we(oe):(A=R=void 0,P)}function pe(){var oe=W(),Ee=Le(oe);if(A=arguments,R=this,C=oe,Ee){if(U===void 0)return(function(Ce){return Qe=Ce,U=setTimeout(D,se),$e?we(Ce):P})(C);if(K)return U=setTimeout(D,se),we(C)}return U===void 0&&(U=setTimeout(D,se)),P}return se=he(se)||0,Q(I)&&($e=!!I.leading,V=(K="maxWait"in I)?M(he(I.maxWait)||0,se):V,me="trailing"in I?!!I.trailing:me),pe.cancel=function(){U!==void 0&&clearTimeout(U),Qe=0,A=C=R=U=void 0},pe.flush=function(){return U===void 0?P:re(W())},pe}},96:(o,u,h)=>{var m="Expected a function",p=NaN,y="[object Symbol]",E=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,N=/^0o[0-7]+$/i,k=parseInt,G=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,M=typeof self=="object"&&self&&self.Object===Object&&self,J=G||M||Function("return this")(),W=Object.prototype.toString,Q=Math.max,he=Math.min,ce=function(){return J.Date.now()};function se(A){var R=typeof A;return!!A&&(R=="object"||R=="function")}function I(A){if(typeof A=="number")return A;if((function(P){return typeof P=="symbol"||(function(U){return!!U&&typeof U=="object"})(P)&&W.call(P)==y})(A))return p;if(se(A)){var R=typeof A.valueOf=="function"?A.valueOf():A;A=se(R)?R+"":R}if(typeof A!="string")return A===0?A:+A;A=A.replace(E,"");var V=x.test(A);return V||N.test(A)?k(A.slice(2),V?2:8):T.test(A)?p:+A}o.exports=function(A,R,V){var P=!0,U=!0;if(typeof A!="function")throw new TypeError(m);return se(V)&&(P="leading"in V?!!V.leading:P,U="trailing"in V?!!V.trailing:U),(function(C,Qe,$e){var K,me,we,Le,D,re,pe=0,oe=!1,Ee=!1,Ce=!0;if(typeof C!="function")throw new TypeError(m);function Ae(pt){var Pt=K,Rt=me;return K=me=void 0,pe=pt,Le=C.apply(Rt,Pt)}function wt(pt){var Pt=pt-re;return re===void 0||Pt>=Qe||Pt<0||Ee&&pt-pe>=we}function Ye(){var pt=ce();if(wt(pt))return mn(pt);D=setTimeout(Ye,(function(Pt){var Rt=Qe-(Pt-re);return Ee?he(Rt,we-(Pt-pe)):Rt})(pt))}function mn(pt){return D=void 0,Ce&&K?Ae(pt):(K=me=void 0,Le)}function rn(){var pt=ce(),Pt=wt(pt);if(K=arguments,me=this,re=pt,Pt){if(D===void 0)return(function(Rt){return pe=Rt,D=setTimeout(Ye,Qe),oe?Ae(Rt):Le})(re);if(Ee)return D=setTimeout(Ye,Qe),Ae(re)}return D===void 0&&(D=setTimeout(Ye,Qe)),Le}return Qe=I(Qe)||0,se($e)&&(oe=!!$e.leading,we=(Ee="maxWait"in $e)?Q(I($e.maxWait)||0,Qe):we,Ce="trailing"in $e?!!$e.trailing:Ce),rn.cancel=function(){D!==void 0&&clearTimeout(D),pe=0,K=re=me=D=void 0},rn.flush=function(){return D===void 0?Le:mn(ce())},rn})(A,R,{leading:P,maxWait:R,trailing:U})}},703:(o,u,h)=>{var m=h(414);function p(){}function y(){}y.resetWarningCache=p,o.exports=function(){function E(N,k,G,M,J,W){if(W!==m){var Q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Q.name="Invariant Violation",Q}}function T(){return E}E.isRequired=E;var x={array:E,bigint:E,bool:E,func:E,number:E,object:E,string:E,symbol:E,any:E,arrayOf:T,element:E,elementType:E,instanceOf:T,node:E,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T,checkPropTypes:y,resetWarningCache:p};return x.PropTypes=x,x}},697:(o,u,h)=>{o.exports=h(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function r(o){var u=e[o];if(u!==void 0)return u.exports;var h=e[o]={exports:{}};return a[o](h,h.exports,r),h.exports}r.n=o=>{var u=o&&o.__esModule?()=>o.default:()=>o;return r.d(u,{a:u}),u},r.d=(o,u)=>{for(var h in u)r.o(u,h)&&!r.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:u[h]})},r.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),r.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{LazyLoadComponent:()=>Pt,LazyLoadImage:()=>fi,trackWindowScroll:()=>Le});const o=Fc();var u=r.n(o),h=r(697);function m(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function p(de){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},p(de)}function y(de,B){var te=Object.keys(de);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(de);B&&(fe=fe.filter((function(Ne){return Object.getOwnPropertyDescriptor(de,Ne).enumerable}))),te.push.apply(te,fe)}return te}function E(de,B,te){return(B=x(B))in de?Object.defineProperty(de,B,{value:te,enumerable:!0,configurable:!0,writable:!0}):de[B]=te,de}function T(de,B){for(var te=0;te<B.length;te++){var fe=B[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(de,x(fe.key),fe)}}function x(de){var B=(function(te,fe){if(p(te)!=="object"||te===null)return te;var Ne=te[Symbol.toPrimitive];if(Ne!==void 0){var Ue=Ne.call(te,"string");if(p(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)})(de);return p(B)==="symbol"?B:String(B)}function N(de,B){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,fe){return te.__proto__=fe,te},N(de,B)}function k(de){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},k(de)}var G=function(de){de.forEach((function(B){B.isIntersecting&&B.target.onVisible()}))},M={},J=(function(de){(function(Z,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ae&&ae.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ae&&N(Z,ae)})(et,de);var B,te,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ae=k(fe);if(Ne){var be=k(this).constructor;Z=Reflect.construct(ae,arguments,be)}else Z=ae.apply(this,arguments);return(function(ve,_e){if(_e&&(p(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){var ae;if((function(ve,_e){if(!(ve instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,et),(ae=Ue.call(this,Z)).supportsObserver=!Z.scrollPosition&&Z.useIntersectionObserver&&m(),ae.supportsObserver){var be=Z.threshold;ae.observer=(function(ve){return M[ve]=M[ve]||new IntersectionObserver(G,{rootMargin:ve+"px"}),M[ve]})(be)}return ae}return B=et,te=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ae=this.placeholder.getBoundingClientRect(),be=this.placeholder.style,ve=parseInt(be.getPropertyValue("margin-left"),10)||0,_e=parseInt(be.getPropertyValue("margin-top"),10)||0;return{bottom:Z.y+ae.bottom+_e,left:Z.x+ae.left+ve,right:Z.x+ae.right+ve,top:Z.y+ae.top+_e}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Z=this.props,ae=Z.scrollPosition,be=Z.threshold,ve=this.getPlaceholderBoundingBox(ae),_e=ae.y+window.innerHeight,Me=ae.x,lt=ae.x+window.innerWidth,ot=ae.y;return ot-be<=ve.bottom&&_e+be>=ve.top&&Me-be<=ve.right&&lt+be>=ve.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Z=this,ae=this.props,be=ae.className,ve=ae.height,_e=ae.placeholder,Me=ae.style,lt=ae.width;if(_e&&typeof _e.type!="function")return u().cloneElement(_e,{ref:function(nt){return Z.placeholder=nt}});var ot=(function(nt){for(var gt=1;gt<arguments.length;gt++){var at=arguments[gt]!=null?arguments[gt]:{};gt%2?y(Object(at),!0).forEach((function(Nt){E(nt,Nt,at[Nt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):y(Object(at)).forEach((function(Nt){Object.defineProperty(nt,Nt,Object.getOwnPropertyDescriptor(at,Nt))}))}return nt})({display:"inline-block"},Me);return lt!==void 0&&(ot.width=lt),ve!==void 0&&(ot.height=ve),u().createElement("span",{className:be,ref:function(nt){return Z.placeholder=nt},style:ot},_e)}}],te&&T(B.prototype,te),Object.defineProperty(B,"prototype",{writable:!1}),et})(u().Component);J.propTypes={onVisible:h.PropTypes.func.isRequired,className:h.PropTypes.string,height:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),placeholder:h.PropTypes.element,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,scrollPosition:h.PropTypes.shape({x:h.PropTypes.number.isRequired,y:h.PropTypes.number.isRequired}),width:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string])},J.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const W=J;var Q=r(296),he=r.n(Q),ce=r(96),se=r.n(ce),I=function(de){var B=getComputedStyle(de,null);return B.getPropertyValue("overflow")+B.getPropertyValue("overflow-y")+B.getPropertyValue("overflow-x")};const A=function(de){if(!(de instanceof HTMLElement))return window;for(var B=de;B&&B instanceof HTMLElement;){if(/(scroll|auto)/.test(I(B)))return B;B=B.parentNode}return window};function R(de){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},R(de)}var V=["delayMethod","delayTime"];function P(){return P=Object.assign?Object.assign.bind():function(de){for(var B=1;B<arguments.length;B++){var te=arguments[B];for(var fe in te)Object.prototype.hasOwnProperty.call(te,fe)&&(de[fe]=te[fe])}return de},P.apply(this,arguments)}function U(de,B){for(var te=0;te<B.length;te++){var fe=B[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(de,(Ne=(function(Ue,et){if(R(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ae=Z.call(Ue,"string");if(R(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),R(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function C(de,B){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,fe){return te.__proto__=fe,te},C(de,B)}function Qe(de,B){if(B&&(R(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(de)}function $e(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function K(de){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},K(de)}var me=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},we=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Le=function(de){var B=(function(te){(function(be,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(ve&&ve.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),ve&&C(be,ve)})(ae,te);var fe,Ne,Ue,et,Z=(Ue=ae,et=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var be,ve=K(Ue);if(et){var _e=K(this).constructor;be=Reflect.construct(ve,arguments,_e)}else be=ve.apply(this,arguments);return Qe(this,be)});function ae(be){var ve;if((function(Me,lt){if(!(Me instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,ae),(ve=Z.call(this,be)).useIntersectionObserver=be.useIntersectionObserver&&m(),ve.useIntersectionObserver)return Qe(ve);var _e=ve.onChangeScroll.bind($e(ve));return be.delayMethod==="debounce"?ve.delayedScroll=he()(_e,be.delayTime):be.delayMethod==="throttle"&&(ve.delayedScroll=se()(_e,be.delayTime)),ve.state={scrollPosition:{x:me(),y:we()}},ve.baseComponentRef=u().createRef(),ve}return fe=ae,(Ne=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||A(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=A(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:me(),y:we()}})}},{key:"render",value:function(){var be=this.props,ve=(be.delayMethod,be.delayTime,(function(Me,lt){if(Me==null)return{};var ot,nt,gt=(function(Nt,an){if(Nt==null)return{};var Cn,On,zr={},tr=Object.keys(Nt);for(On=0;On<tr.length;On++)Cn=tr[On],an.indexOf(Cn)>=0||(zr[Cn]=Nt[Cn]);return zr})(Me,lt);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Me);for(nt=0;nt<at.length;nt++)ot=at[nt],lt.indexOf(ot)>=0||Object.prototype.propertyIsEnumerable.call(Me,ot)&&(gt[ot]=Me[ot])}return gt})(be,V)),_e=this.useIntersectionObserver?null:this.state.scrollPosition;return u().createElement(de,P({forwardRef:this.baseComponentRef,scrollPosition:_e},ve))}}])&&U(fe.prototype,Ne),Object.defineProperty(fe,"prototype",{writable:!1}),ae})(u().Component);return B.propTypes={delayMethod:h.PropTypes.oneOf(["debounce","throttle"]),delayTime:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool},B.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},B};function D(de){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},D(de)}function re(de,B){for(var te=0;te<B.length;te++){var fe=B[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(de,(Ne=(function(Ue,et){if(D(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ae=Z.call(Ue,"string");if(D(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),D(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function pe(de,B){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,fe){return te.__proto__=fe,te},pe(de,B)}function oe(de){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},oe(de)}var Ee=(function(de){(function(Z,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ae&&ae.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ae&&pe(Z,ae)})(et,de);var B,te,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ae=oe(fe);if(Ne){var be=oe(this).constructor;Z=Reflect.construct(ae,arguments,be)}else Z=ae.apply(this,arguments);return(function(ve,_e){if(_e&&(D(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){return(function(ae,be){if(!(ae instanceof be))throw new TypeError("Cannot call a class as a function")})(this,et),Ue.call(this,Z)}return B=et,(te=[{key:"render",value:function(){return u().createElement(W,this.props)}}])&&re(B.prototype,te),Object.defineProperty(B,"prototype",{writable:!1}),et})(u().Component);const Ce=Le(Ee);function Ae(de){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},Ae(de)}function wt(de,B){for(var te=0;te<B.length;te++){var fe=B[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(de,(Ne=(function(Ue,et){if(Ae(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ae=Z.call(Ue,"string");if(Ae(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),Ae(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function Ye(de,B){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,fe){return te.__proto__=fe,te},Ye(de,B)}function mn(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function rn(de){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},rn(de)}var pt=(function(de){(function(Z,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ae&&ae.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ae&&Ye(Z,ae)})(et,de);var B,te,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ae=rn(fe);if(Ne){var be=rn(this).constructor;Z=Reflect.construct(ae,arguments,be)}else Z=ae.apply(this,arguments);return(function(ve,_e){if(_e&&(Ae(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mn(ve)})(this,Z)});function et(Z){var ae;(function(lt,ot){if(!(lt instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,et),ae=Ue.call(this,Z);var be=Z.afterLoad,ve=Z.beforeLoad,_e=Z.scrollPosition,Me=Z.visibleByDefault;return ae.state={visible:Me},Me&&(ve(),be()),ae.onVisible=ae.onVisible.bind(mn(ae)),ae.isScrollTracked=!!(_e&&Number.isFinite(_e.x)&&_e.x>=0&&Number.isFinite(_e.y)&&_e.y>=0),ae}return B=et,(te=[{key:"componentDidUpdate",value:function(Z,ae){ae.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Z=this.props,ae=Z.className,be=Z.delayMethod,ve=Z.delayTime,_e=Z.height,Me=Z.placeholder,lt=Z.scrollPosition,ot=Z.style,nt=Z.threshold,gt=Z.useIntersectionObserver,at=Z.width;return this.isScrollTracked||gt&&m()?u().createElement(W,{className:ae,height:_e,onVisible:this.onVisible,placeholder:Me,scrollPosition:lt,style:ot,threshold:nt,useIntersectionObserver:gt,width:at}):u().createElement(Ce,{className:ae,delayMethod:be,delayTime:ve,height:_e,onVisible:this.onVisible,placeholder:Me,style:ot,threshold:nt,width:at})}}])&&wt(B.prototype,te),Object.defineProperty(B,"prototype",{writable:!1}),et})(u().Component);pt.propTypes={afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool},pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Pt=pt;function Rt(de){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},Rt(de)}var Lr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function va(de,B){var te=Object.keys(de);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(de);B&&(fe=fe.filter((function(Ne){return Object.getOwnPropertyDescriptor(de,Ne).enumerable}))),te.push.apply(te,fe)}return te}function ui(de){for(var B=1;B<arguments.length;B++){var te=arguments[B]!=null?arguments[B]:{};B%2?va(Object(te),!0).forEach((function(fe){Sn(de,fe,te[fe])})):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(te)):va(Object(te)).forEach((function(fe){Object.defineProperty(de,fe,Object.getOwnPropertyDescriptor(te,fe))}))}return de}function Sn(de,B,te){return(B=Ur(B))in de?Object.defineProperty(de,B,{value:te,enumerable:!0,configurable:!0,writable:!0}):de[B]=te,de}function _a(){return _a=Object.assign?Object.assign.bind():function(de){for(var B=1;B<arguments.length;B++){var te=arguments[B];for(var fe in te)Object.prototype.hasOwnProperty.call(te,fe)&&(de[fe]=te[fe])}return de},_a.apply(this,arguments)}function ci(de,B){for(var te=0;te<B.length;te++){var fe=B[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(de,Ur(fe.key),fe)}}function Ur(de){var B=(function(te,fe){if(Rt(te)!=="object"||te===null)return te;var Ne=te[Symbol.toPrimitive];if(Ne!==void 0){var Ue=Ne.call(te,"string");if(Rt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)})(de);return Rt(B)==="symbol"?B:String(B)}function er(de,B){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,fe){return te.__proto__=fe,te},er(de,B)}function Ea(de){return Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},Ea(de)}var fr=(function(de){(function(Z,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ae&&ae.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ae&&er(Z,ae)})(et,de);var B,te,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ae=Ea(fe);if(Ne){var be=Ea(this).constructor;Z=Reflect.construct(ae,arguments,be)}else Z=ae.apply(this,arguments);return(function(ve,_e){if(_e&&(Rt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){var ae;return(function(be,ve){if(!(be instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,et),(ae=Ue.call(this,Z)).state={loaded:!1},ae}return B=et,(te=[{key:"onImageLoad",value:function(){var Z=this;return this.state.loaded?null:function(ae){Z.props.onLoad(ae),Z.props.afterLoad(),Z.setState({loaded:!0})}}},{key:"getImg",value:function(){var Z=this.props,ae=(Z.afterLoad,Z.beforeLoad,Z.delayMethod,Z.delayTime,Z.effect,Z.placeholder,Z.placeholderSrc,Z.scrollPosition,Z.threshold,Z.useIntersectionObserver,Z.visibleByDefault,Z.wrapperClassName,Z.wrapperProps,(function(be,ve){if(be==null)return{};var _e,Me,lt=(function(nt,gt){if(nt==null)return{};var at,Nt,an={},Cn=Object.keys(nt);for(Nt=0;Nt<Cn.length;Nt++)at=Cn[Nt],gt.indexOf(at)>=0||(an[at]=nt[at]);return an})(be,ve);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(be);for(Me=0;Me<ot.length;Me++)_e=ot[Me],ve.indexOf(_e)>=0||Object.prototype.propertyIsEnumerable.call(be,_e)&&(lt[_e]=be[_e])}return lt})(Z,Lr));return u().createElement("img",_a({},ae,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Z=this.props,ae=Z.beforeLoad,be=Z.className,ve=Z.delayMethod,_e=Z.delayTime,Me=Z.height,lt=Z.placeholder,ot=Z.scrollPosition,nt=Z.style,gt=Z.threshold,at=Z.useIntersectionObserver,Nt=Z.visibleByDefault,an=Z.width;return u().createElement(Pt,{beforeLoad:ae,className:be,delayMethod:ve,delayTime:_e,height:Me,placeholder:lt,scrollPosition:ot,style:nt,threshold:gt,useIntersectionObserver:at,visibleByDefault:Nt,width:an},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Z){var ae=this.props,be=ae.effect,ve=ae.height,_e=ae.placeholderSrc,Me=ae.width,lt=ae.wrapperClassName,ot=ae.wrapperProps,nt=this.state.loaded,gt=nt?" lazy-load-image-loaded":"",at=nt||!_e?{}:{backgroundImage:"url(".concat(_e,")"),backgroundSize:"100% 100%"};return u().createElement("span",_a({className:lt+" lazy-load-image-background "+be+gt,style:ui(ui({},at),{},{color:"transparent",display:"inline-block",height:ve,width:Me})},ot),Z)}},{key:"render",value:function(){var Z=this.props,ae=Z.effect,be=Z.placeholderSrc,ve=Z.visibleByDefault,_e=Z.wrapperClassName,Me=Z.wrapperProps,lt=this.getLazyLoadImage();return(ae||be)&&!ve||_e||Me?this.getWrappedLazyLoadImage(lt):lt}}])&&ci(B.prototype,te),Object.defineProperty(B,"prototype",{writable:!1}),et})(u().Component);fr.propTypes={onLoad:h.PropTypes.func,afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,delayMethod:h.PropTypes.string,delayTime:h.PropTypes.number,effect:h.PropTypes.string,placeholderSrc:h.PropTypes.string,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool,wrapperClassName:h.PropTypes.string,wrapperProps:h.PropTypes.object},fr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const fi=fr})(),xd.exports=s})()),xd.exports}var JE=IR();const eb="/Ecommerce/assets/women-Dfw609QD.jpg",VR="/Ecommerce/assets/man-BNem_KT8.jpg",MR="/Ecommerce/assets/kid-aD3lXmzM.jpg",PR=j.lazy(()=>ya(()=>import("./HeroSlider-D42ZUieF.js"),__vite__mapDeps([0,1,2]))),kR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.ShoppingCart}))),Fm=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.WifiOff}))),LR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Heart}))),UR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Search}))),zR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Expand}))),jR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.X}))),BR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Grid}))),qR=j.lazy(()=>ya(()=>import("./lucide-react-DnqzM68R.js"),__vite__mapDeps([3,1])).then(a=>({default:a.List})));class HR extends v.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?v.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},v.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},v.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},v.createElement(Fm,{className:"w-8 h-8 text-red-600"})),v.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),v.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),v.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const FR=(a,e)=>{let r;return function(...o){const u=()=>{clearTimeout(r),a(...o)};clearTimeout(r),r=setTimeout(u,e)}},GR={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function QR(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_SEARCH_QUERY":return{...a,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"SET_VIEW_MODE":return{...a,viewMode:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const $R=()=>{try{const a=localStorage.getItem("favorites");if(!a)return[];const e=JSON.parse(a);return Array.isArray(e)?e:[]}catch(a){return console.error("Error getting favorites from localStorage:",a),[]}},YR=a=>{try{const e=Array.isArray(a)?a:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},Rd=v.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const[o,u]=j.useState(!1),[h,m]=j.useState(!1),p=parseFloat(a.price),y=parseFloat(a.newprice),E=a.images&&a.images.length>0?a.images[0]:null;return v.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},v.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},E?v.createElement(JE.LazyLoadImage,{src:E,alt:a.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>m(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):v.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},v.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},v.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),!o&&!h&&E&&v.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},v.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),h&&v.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},v.createElement(Fm,{className:"w-8 h-8 text-gray-400 mb-1"}),v.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),v.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},v.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-2 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(LR,{className:`w-5 h-5 transition-all duration-200 ${s?"fill-current":""}`})),v.createElement(il,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},v.createElement("button",{className:"p-2 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},v.createElement(zR,{className:"w-5 h-5"})))),p>y&&v.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold shadow-md z-10"},Math.round((p-y)/p*100),"% OFF")),v.createElement("div",{className:"p-2 flex flex-col flex-grow"},v.createElement("div",{className:"flex justify-between items-start mb-1"},v.createElement("h3",{className:"font-bold text-base text-gray-900 line-clamp-1"},a.name),v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),v.createElement("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2 flex-grow"},a.det),v.createElement("div",{className:"flex items-center justify-between mt-auto"},v.createElement("div",{className:"flex items-center space-x-1"},p>y&&v.createElement("span",{className:"line-through text-xs text-gray-500"},"$",p.toFixed(2)),v.createElement("span",{className:"text-lg font-bold text-red-700"},"$",y.toFixed(2))),v.createElement("button",{onClick:()=>e(a),className:"p-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},v.createElement(kR,{className:"w-5 h-5"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),KR=()=>v.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},v.createElement("div",{className:"relative bg-gray-200 aspect-[1/1]"},v.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full w-14 h-5"}),v.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2"},v.createElement("div",{className:"w-9 h-9 bg-gray-300 rounded-full"}),v.createElement("div",{className:"w-9 h-9 bg-gray-300 rounded-full"}))),v.createElement("div",{className:"p-2 flex flex-col flex-grow"},v.createElement("div",{className:"flex justify-between items-center mb-2"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-2/3"}),v.createElement("div",{className:"h-5 bg-gray-300 rounded-full w-16"})),v.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),v.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),v.createElement("div",{className:"flex items-center justify-between mt-auto"},v.createElement("div",{className:"space-x-2 flex items-center"},v.createElement("div",{className:"h-4 bg-gray-300 rounded w-10"}),v.createElement("div",{className:"h-6 bg-gray-300 rounded w-16"})),v.createElement("div",{className:"h-9 w-9 bg-gray-300 rounded-lg"})))),XR=v.memo(({searchQuery:a,setSearchQuery:e,filteredCount:r})=>{const s=j.useCallback(FR(o=>e(o),300),[e]);return v.createElement("div",{className:"w-full mb-10 mx-auto px-4"},v.createElement("div",{className:"max-w-2xl mx-auto"},v.createElement("div",{className:"relative"},v.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},v.createElement(UR,{className:"h-4 w-4 text-gray-400"})),v.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:a,onChange:o=>s(o.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),a&&v.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},v.createElement(jR,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}))),a.trim()!==""&&v.createElement("div",{className:"mt-2 text-center"},v.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",v.createElement("span",{className:"font-semibold text-red-700"},'"',a,'"')),v.createElement("p",{className:"text-gray-600 text-xs"},"Found ",v.createElement("span",{className:"font-bold"},r)," result",r!==1?"s":""))))}),ZR=v.memo(()=>{const a=[{name:"men",img:VR},{name:"women",img:eb},{name:"kids",img:MR}];return v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},v.createElement("div",{className:"text-center mb-6"},v.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),v.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),v.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},a.map(e=>v.createElement("div",{key:e.name,className:"flex flex-col items-center group"},v.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},v.createElement(JE.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),v.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),v.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),Nd=v.memo(({title:a,count:e})=>v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),v.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),WR=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const[s,o]=j.useReducer(QR,GR),{products:u,loading:h,searchQuery:m,favoriteState:p,lastVisible:y,hasMore:E,page:T,viewMode:x}=s,N=12,k=j.useRef(p);j.useEffect(()=>{k.current=p},[p]),j.useEffect(()=>{const se=$R();o({type:"SET_FAVORITE_STATE",payload:se})},[]);const G=j.useCallback(async(se=1,I=m)=>{se===1&&(o({type:"SET_LOADING",payload:!0}),o({type:"RESET_PAGINATION"}));try{let A=fl(Wi,"products");I.trim()!==""&&(A=Tc(A,Jd("name",">=",I),Jd("name","<=",I+""))),se>1&&y?A=Tc(A,Gx(y),Tv(N)):A=Tc(A,Tv(N));const R=await jo(A),V=R.docs.map(P=>({id:P.id,...P.data()}));o(se===1?{type:"SET_PRODUCTS",payload:V}:{type:"SET_PRODUCTS",payload:[...u,...V]}),o({type:"SET_LAST_VISIBLE",payload:R.docs[R.docs.length-1]}),o({type:"SET_HAS_MORE",payload:R.docs.length===N}),o({type:"SET_PAGE",payload:se})}catch(A){console.error("Error fetching products:",A)}finally{o({type:"SET_LOADING",payload:!1})}},[m,y,u,N]);j.useEffect(()=>{G()},[]),j.useEffect(()=>{m!==s.searchQuery&&G(1,m)},[m]);const M=j.useCallback(()=>{!h&&E&&G(T+1)},[h,E,T,G]),J=j.useCallback(se=>{const I=Array.isArray(k.current)?[...k.current]:typeof k.current=="object"&&k.current!==null?Object.values(k.current):[],A=I.includes(se);let R;if(A?R=I.filter(V=>V!==se):R=[...I,se],YR(R),o({type:"SET_FAVORITE_STATE",payload:R}),e){const V=u.find(P=>P.id===se);V&&e(V)}},[e,u]),W=Array.isArray(p)?p:typeof p=="object"&&p!==null?Object.values(p):[],Q=u.filter(se=>se.category==="men"),he=u.filter(se=>se.category==="women"),ce=u.filter(se=>se.category==="kids");return h&&u.length===0?v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"text-center mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),v.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),v.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((se,I)=>v.createElement(KR,{key:I}))))):u.length===0?v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},v.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},v.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},v.createElement(Fm,{className:"w-8 h-8 text-red-600"})),v.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),v.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),v.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):v.createElement(HR,null,v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},v.createElement(j.Suspense,{fallback:v.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},v.createElement(PR,null)),v.createElement(ZR,null),v.createElement(XR,{searchQuery:m,setSearchQuery:se=>o({type:"SET_SEARCH_QUERY",payload:se}),filteredCount:u.length}),v.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},v.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},v.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${x==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},v.createElement(BR,{className:"w-4 h-4"})),v.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${x==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},v.createElement(qR,{className:"w-4 h-4"})))),Q.length>0&&v.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Nd,{title:"Men's Collection",count:Q.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},Q.map(se=>v.createElement(Rd,{key:se.id,product:se,onAddToCart:a,onAddToFavorites:J,isFav:W.includes(se.id)})))),he.length>0&&v.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Nd,{title:"Women's Collection",count:he.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},he.map(se=>v.createElement(Rd,{key:se.id,product:se,onAddToCart:a,onAddToFavorites:J,isFav:W.includes(se.id)})))),ce.length>0&&v.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Nd,{title:"Kids' Collection",count:ce.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ce.map(se=>v.createElement(Rd,{key:se.id,product:se,onAddToCart:a,onAddToFavorites:J,isFav:W.includes(se.id)})))),E&&v.createElement("div",{className:"flex justify-center my-8"},v.createElement("button",{onClick:M,disabled:h,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},h?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},Dv=v.memo(WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Iv=a=>{const e=eN(a);return e.charAt(0).toUpperCase()+e.slice(1)},tb=(...a)=>a.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),tN=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=j.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>j.createElement("svg",{ref:p,...nN,width:e,height:e,stroke:a,strokeWidth:s?Number(r)*24/Number(e):r,className:tb("lucide",o),...!u&&!tN(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,E])=>j.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(a,e)=>{const r=j.forwardRef(({className:s,...o},u)=>j.createElement(rN,{ref:u,iconNode:e,className:tb(`lucide-${JR(Iv(a))}`,`lucide-${a}`,s),...o}));return r.displayName=Iv(a),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vv=nn("arrow-left",aN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sN=nn("circle-alert",iN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nb=nn("circle-check-big",lN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],Gm=nn("expand",oN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rb=nn("heart-off",uN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ga=nn("heart",cN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Mv=nn("house",fN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dN=nn("list",hN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pN=nn("mail",mN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yN=nn("map-pin",gN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M5 12h14",key:"1ays0h"}]],_N=nn("minus",vN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bN=nn("phone",EN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wN=nn("plus",TN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Jn=nn("shopping-cart",SN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],em=nn("trash-2",AN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RN=nn("user",xN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ab=nn("wifi-off",NN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hc=nn("x",CN),ON=({onAddToCart:a,favorites:e=[],onAddToFavorites:r,searchQuery:s})=>{const[o,u]=j.useState([]),[h,m]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const G=(await jo(fl(Wi,"products"))).docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.category==="men");u(G)}catch(k){console.error("Error fetching men products:",k)}finally{m(!1)}})()},[]);const p=N=>e.some(k=>k.id===N),y=N=>{r&&r(N)},E=N=>{a&&a(N)},T=o.filter(N=>N.name.toLowerCase().includes(s?.toLowerCase()||"")),x=()=>Array(6).fill(0).map((N,k)=>v.createElement("div",{key:k,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-48 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),v.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return h?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Men Products"),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},x()))):T.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement(ab,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Men Products"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No products found matching your search."),v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},v.createElement(ga,{className:"w-5 h-5 mr-2"}),"Start Shopping"))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men Products"),v.createElement("p",{className:"text-gray-600"},T.length," product",T.length!==1?"s":""," available")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},T.map(N=>{const k=parseFloat(N.price)||0,G=parseFloat(N.newprice||N.newPrice)||k;return v.createElement("div",{key:N.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:N.images?.[0]||"/fallback.jpg",alt:N.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>y(N),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${p(N.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${p(N.id)?"fill-current":""}`})),v.createElement(il,{to:`/product/${N.id}`},v.createElement("button",{className:"absolute  bg-gray-100 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Gm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),k>G&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((k-G)/k*100),"% OFF")),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},N.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},N.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},N.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},k>G&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",k.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",G.toFixed(2))),v.createElement("button",{onClick:()=>E(N),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))})),v.createElement("div",{className:"mt-12 text-center"},v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},DN=({onAddToCart:a,onAddToFavorites:e,favorites:r=[],searchQuery:s})=>{const[o,u]=j.useState([]),[h,m]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const G=(await jo(fl(Wi,"products"))).docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.category==="women");u(G)}catch(k){console.error("Error fetching women products:",k)}finally{m(!1)}})()},[]);const p=o.filter(N=>N.name.toLowerCase().includes(s?.toLowerCase()||"")),y=N=>r.some(k=>k.id===N),E=N=>{e&&e(N)},T=N=>{a&&a(N)},x=()=>Array(6).fill(0).map((N,k)=>v.createElement("div",{key:k,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-48 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),v.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return h?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Women Products"),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},x()))):p.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement(ab,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Women Products"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No women products found matching your search."))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women Products")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},p.map(N=>{const k=parseFloat(N.price)||0,G=parseFloat(N.newprice||N.newPrice)||k;return v.createElement("div",{key:N.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:N.images[0]||eb,alt:N.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>E(N),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${y(N.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${y(N.id)?"fill-current":""}`})),v.createElement(il,{to:`/product/${N.id}`},v.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Gm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),k>G&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((k-G)/k*100),"% OFF")),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},N.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},N.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},N.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},k>G&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",k.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",G.toFixed(2))),v.createElement("button",{onClick:()=>T(N),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))}))))},IN=({onAddToCart:a,favorites:e=[],onAddToFavorites:r})=>{const[s,o]=j.useState([]),[u,h]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const T=(await jo(fl(Wi,"products"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>x.category==="kids");o(T)}catch(E){console.error("Error fetching kids products:",E)}finally{h(!1)}})()},[]);const m=y=>e.some(E=>E.id===y),p=y=>{r&&r(y)};return u?v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Kids Products"),v.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Array(6).fill(0).map((y,E)=>v.createElement("div",{key:E,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-64 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"})))))):s.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16"},v.createElement("div",{className:"text-center"},v.createElement(rb,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Kids Products"))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids Products")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},s.map(y=>{const E=parseFloat(y.price)||0,T=parseFloat(y.newPrice||y.newprice)||E;return v.createElement("div",{key:y.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:y.images[0]||"https://via.placeholder.com/300x300?text=No+Image",alt:y.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>p(y),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${m(y.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-5 h-5 transition-all duration-200 ${m(y.id)?"fill-current":""}`})),v.createElement(il,{to:`/product/${y.id}`},v.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Gm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200"}))),E>T&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((E-T)/E*100),"% OFF")),v.createElement("div",{className:"p-4 sm:p-5"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},y.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},y.det||"No description available"),v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},y.category),v.createElement("div",{className:"flex items-center justify-between mt-2"},v.createElement("div",{className:"flex items-center space-x-2"},E>T&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",E.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",T.toFixed(2))),v.createElement("button",{onClick:()=>a(y),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))}))))},VN=({onAddToCart:a})=>{const[e,r]=j.useState([]),[s,o]=j.useState(!0),[u,h]=j.useState(null),m=()=>{try{const T=localStorage.getItem("favorites");if(!T)return[];const x=JSON.parse(T);return Array.isArray(x)?x:[]}catch(T){return console.error("Error getting favorites from localStorage:",T),[]}},p=j.useCallback(async()=>{o(!0),h(null);try{const T=m();if(T.length===0){r([]),o(!1);return}const x=Tc(fl(Wi,"products"),Jd(Px(),"in",T)),k=(await jo(x)).docs.map(G=>({id:G.id,...G.data()}));r(k)}catch(T){console.error("Error fetching favorite products:",T),h("Failed to load your favorites. Please try again later.")}finally{o(!1)}},[]),y=j.useCallback(T=>{try{const N=m().filter(k=>k!==T);localStorage.setItem("favorites",JSON.stringify(N)),r(k=>k.filter(G=>G.id!==T))}catch(x){console.error("Error removing favorite:",x)}},[]),E=j.useCallback(T=>{a&&a(T)},[a]);return j.useEffect(()=>{p()},[p]),s?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},v.createElement("div",{className:"flex justify-center items-center h-64"},v.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):u?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},v.createElement("div",{className:"text-center"},v.createElement("div",{className:"text-red-500 text-5xl mb-4"},""),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},u),v.createElement("button",{onClick:p,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},v.createElement("div",{className:"text-center"},v.createElement(rb,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},v.createElement(ga,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),v.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(T=>v.createElement("div",{key:T.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:T.images&&T.images.length>0?T.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:T.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>y(T.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-0 group-hover:opacity-100","aria-label":`Remove ${T.name} from favorites`},v.createElement(em,{className:"w-4 h-4"})),parseFloat(T.price)>parseFloat(T.newprice||T.newPrice)&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(T.newprice||T.newPrice)/parseFloat(T.price))*100),"% OFF"),v.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},v.createElement(ga,{className:"w-4 h-4 fill-current"}))),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},T.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},T.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},T.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(T.price).toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(T.newprice||T.newPrice).toFixed(2))),v.createElement("button",{onClick:()=>E(T),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),v.createElement("div",{className:"mt-12 text-center"},v.createElement("a",{href:"/",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function MN({cartItemCount:a,onCartClick:e}){const[r,s]=j.useState(!1),[o,u]=j.useState(!1),h=li(),m=["Home","Men","Women","Kids","Favorites"];return j.useEffect(()=>{s(!1)},[h]),v.createElement(v.Fragment,null,v.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},v.createElement("div",{className:"flex items-center justify-between h-16"},v.createElement("div",{className:"flex items-center space-x-8"},v.createElement(Bs,{to:"/",className:"flex items-center space-x-2"},v.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center"},v.createElement("span",{className:"text-white font-bold text-lg"},"S")),v.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop")),v.createElement("nav",{className:"hidden md:flex space-x-1"},m.map(p=>v.createElement(Bs,{key:p,to:`/${p==="Home"?"":p.toLowerCase()}`,className:({isActive:y})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${y?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},p)))),v.createElement("div",{className:"flex items-center"},v.createElement("div",{className:"relative"},v.createElement("button",{onClick:()=>{e(),u(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},v.createElement(Jn,{className:"w-6 h-6"}),a>0&&v.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},a>99?"99+":a))),v.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>s(!r)},r?v.createElement(Hc,{className:"w-6 h-6"}):v.createElement(dN,{className:"w-6 h-6"})))))),r&&v.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>s(!1)}),v.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${r?"translate-x-0":"translate-x-full"}`},v.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},v.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),v.createElement("button",{onClick:()=>s(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},v.createElement(Hc,{className:"w-6 h-6"}))),v.createElement("div",{className:"p-4"},v.createElement("nav",{className:"flex flex-col space-y-1"},m.map(p=>{const y=p==="Home"?Mv:p==="Favorites"?ga:null;return v.createElement(Bs,{key:p,to:`/${p==="Home"?"":p.toLowerCase()}`,className:({isActive:E})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${E?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>s(!1)},y&&v.createElement(y,{className:"w-5 h-5 mr-3"}),p)})))),v.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},v.createElement(Bs,{to:"/",className:({isActive:p})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${p?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(Mv,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Home")),v.createElement(Bs,{to:"/favorites",className:({isActive:p})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${p?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(ga,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Favorites")),v.createElement("button",{onClick:()=>{e(),u(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${o?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(Jn,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Cart"),a>0&&v.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},a>99?"99+":a))))}function PN({isOpen:a,onClose:e,cart:r,onIncreaseQty:s,onDecreaseQty:o,onRemoveItem:u,onClearCart:h,onCheckout:m,total:p}){const[y,E]=j.useState(null),[T,x]=j.useState(!1),N=(Q,he="success")=>{E({text:Q,type:he}),setTimeout(()=>E(null),2e3)},k=Q=>{o(Q)},G=Q=>{s(Q)},M=(Q,he)=>{u(Q),N(`${he} removed from cart`)},J=()=>{h(),N("Cart cleared")},W=async()=>{x(!0);try{await m(),N("Checkout successful!")}catch{N("Checkout failed. Please try again.","error")}finally{x(!1)}};return v.createElement("div",{className:`fixed inset-0 z-50 ${a?"block":"hidden"}`},v.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:e}),v.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"translate-x-full"}`},v.createElement("div",{className:"flex flex-col h-full"},v.createElement("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-red-50 to-red-100 border-b border-red-200"},v.createElement("div",{className:"flex items-center space-x-2"},v.createElement(Jn,{className:"w-6 h-6 text-red-700"}),v.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Shopping Cart"),r.length>0&&v.createElement("span",{className:"bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},r.reduce((Q,he)=>Q+he.qty,0))),v.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-red-200 transition-colors duration-200","aria-label":"Close cart"},v.createElement(Hc,{className:"w-5 h-5 text-red-700"}))),y&&v.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${y.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},v.createElement(nb,{className:"w-5 h-5"}),v.createElement("span",null,y.text)),v.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},r.length===0?v.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},v.createElement("div",{className:"bg-red-100 p-4 rounded-full mb-4"},v.createElement(Jn,{className:"w-16 h-16 text-red-500"})),v.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),v.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),v.createElement("button",{onClick:e,className:"px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-md"},"Continue Shopping")):v.createElement("div",{className:"space-y-4"},r.map(Q=>v.createElement("div",{key:`${Q.id}-${Q.selectedSize||"default"}`,className:"flex items-center p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300"},v.createElement("div",{className:"relative"},v.createElement("img",{src:Q.image||(Array.isArray(Q.images)?Q.images[0]:Q.images),alt:Q.name,className:"w-16 h-16 object-cover rounded-lg",onError:he=>{he.target.src="/placeholder.jpg"}}),Q.selectedSize&&v.createElement("span",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},Q.selectedSize)),v.createElement("div",{className:"flex-1 min-w-0 ml-4"},v.createElement("h4",{className:"text-base font-semibold text-gray-900 truncate"},Q.name),Q.selectedSize&&v.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",v.createElement("span",{className:"font-medium"},Q.selectedSize)),v.createElement("div",{className:"flex items-center mt-1"},v.createElement("span",{className:"text-red-700 font-bold"},"$",parseFloat(Q.price).toFixed(2)),Q.originalPrice&&Q.originalPrice>Q.price&&v.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(Q.originalPrice).toFixed(2)))),v.createElement("div",{className:"flex flex-col items-end space-y-2"},v.createElement("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full p-1"},v.createElement("button",{onClick:()=>k(Q.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Decrease quantity"},v.createElement(_N,{className:"w-3 h-3"})),v.createElement("span",{className:"text-sm font-medium w-8 text-center"},Q.qty),v.createElement("button",{onClick:()=>G(Q.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Increase quantity"},v.createElement(wN,{className:"w-3 h-3"}))),v.createElement("button",{onClick:()=>M(Q.id,Q.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},v.createElement(em,{className:"w-4 h-4"}))))))),r.length>0&&v.createElement("div",{className:"border-t border-gray-200 p-5 bg-gradient-to-b from-white to-gray-50"},v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("span",{className:"text-gray-600"},"Subtotal:"),v.createElement("span",{className:"text-lg font-semibold text-gray-900"},"$",p.toFixed(2))),v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("span",{className:"text-gray-600"},"Shipping:"),v.createElement("span",{className:"text-gray-900"},"Free")),v.createElement("div",{className:"flex justify-between items-center mb-6 text-lg font-bold"},v.createElement("span",null,"Total:"),v.createElement("span",{className:"text-red-700 text-xl"},"$",p.toFixed(2))),v.createElement("button",{onClick:W,disabled:T,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${T?"bg-gray-400 cursor-not-allowed":"bg-red-700 hover:bg-red-800 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"} text-white`},T?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):v.createElement(v.Fragment,null,v.createElement(Jn,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),v.createElement("button",{onClick:J,className:"w-full mt-3 py-2 px-4 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-300 text-sm font-medium flex items-center justify-center"},v.createElement(em,{className:"w-4 h-4 mr-2"}),"Clear Cart"),v.createElement("button",{onClick:e,className:"w-full mt-2 py-2 text-red-600 hover:text-red-800 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}function kN({isOpen:a,onClose:e,total:r,cart:s,onOrderSuccess:o}){const[u,h]=j.useState({name:"",email:"",phone:"",address:""}),[m,p]=j.useState(!1),[y,E]=j.useState(""),[T,x]=j.useState({}),N=M=>{h(J=>({...J,[M.target.name]:M.target.value})),T[M.target.name]&&x(J=>({...J,[M.target.name]:null}))},k=()=>{const M={};return u.name.trim()||(M.name="Name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(M.email="Please enter a valid email address"):M.email="Email is required",u.phone.trim()?/^\+?[0-9\s\-\(\)]{10,15}$/.test(u.phone.replace(/\s/g,""))||(M.phone="Please enter a valid phone number"):M.phone="Phone number is required",u.address.trim()||(M.address="Address is required"),x(M),Object.keys(M).length===0},G=async M=>{if(M.preventDefault(),!k()){E("Please correct the errors in the form.");return}if(!s||s.length===0){E("Your cart is empty.");return}try{p(!0),await Zx(fl(Wi,"orders"),{client:u,items:s,total:r,status:"pending",timestamp:new Date().toISOString()}),E("Order placed successfully!"),h({name:"",email:"",phone:"",address:""}),o?.(),setTimeout(()=>e(),2e3)}catch(J){console.error("Error placing order:",J),E("Failed to place order. Try again.")}finally{p(!1)}};return j.useEffect(()=>{if(y){const M=setTimeout(()=>E(""),3e3);return()=>clearTimeout(M)}},[y]),a?v.createElement(v.Fragment,null,y&&v.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},v.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transform transition-all duration-300 scale-100 animate-scaleIn ${y.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},y.includes("success")?v.createElement(nb,{className:"w-8 h-8 flex-shrink-0"}):v.createElement(sN,{className:"w-8 h-8 flex-shrink-0"}),v.createElement("span",{className:"text-lg font-medium"},y))),v.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},v.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e,"aria-hidden":"true"}),v.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col transform transition-all duration-300 scale-95 animate-scaleIn"},v.createElement("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all duration-300 backdrop-blur-sm","aria-label":"Close Checkout Modal"},v.createElement(Hc,{className:"w-5 h-5"})),v.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},v.createElement("div",{className:"flex items-center space-x-3"},v.createElement(Jn,{className:"w-8 h-8"}),v.createElement("h2",{id:"checkout-modal-title",className:"text-2xl font-bold"},"Checkout"))),v.createElement("div",{className:"flex-1 overflow-y-auto p-6"},v.createElement("div",{className:"mb-8"},v.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},v.createElement(Jn,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),v.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},s.map((M,J)=>v.createElement("div",{key:`${M.id}-${J}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},v.createElement("div",{className:"flex items-center gap-4"},v.createElement("div",{className:"relative"},v.createElement("img",{src:M.image||(Array.isArray(M.images)?M.images[0]:M.images),alt:M.name,className:"w-16 h-16 object-cover rounded-lg",onError:W=>{W.target.src="/placeholder.jpg"}}),M.selectedSize&&v.createElement("span",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},M.selectedSize)),v.createElement("div",null,v.createElement("div",{className:"text-sm font-semibold text-gray-900"},M.name),v.createElement("div",{className:"flex items-center gap-2 mt-1"},v.createElement("span",{className:"text-xs text-gray-500"},"Qty: ",M.qty),M.selectedSize&&v.createElement("span",{className:"text-xs text-gray-500"},"Size: ",M.selectedSize)))),v.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(M.qty*M.price).toFixed(2))))),v.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},v.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),v.createElement("span",{className:"text-xl font-bold text-red-700"},"$",r.toFixed(2)))),v.createElement("form",{onSubmit:G,className:"space-y-5"},v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(RN,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),v.createElement("input",{type:"text",name:"name",autoFocus:!0,value:u.name,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${T.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your full name",disabled:m}),T.name&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},T.name)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(pN,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),v.createElement("input",{type:"email",name:"email",value:u.email,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${T.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your email",disabled:m}),T.email&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},T.email)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(bN,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),v.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${T.phone?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your phone number",disabled:m}),T.phone&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},T.phone)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(yN,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),v.createElement("textarea",{name:"address",value:u.address,onChange:N,rows:3,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all resize-none ${T.address?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your shipping address",disabled:m}),T.address&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},T.address)),v.createElement("button",{type:"submit",disabled:m,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed shadow-md hover:shadow-lg"},m?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing Order..."):v.createElement(v.Fragment,null,"Place Order"))))))):null}const LN=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const{id:s}=dT(),o=Fv(),[u,h]=j.useState(null),[m,p]=j.useState(!0),[y,E]=j.useState(null),[T,x]=j.useState(null),[N,k]=j.useState(""),[G,M]=j.useState(!1),J=r.some(se=>se.id===s);j.useEffect(()=>{(async()=>{p(!0);try{const I=zE(Wi,"products",s),A=await Xx(I);if(A.exists()){const R={id:A.id,...A.data()};h(R),E(R.images?.[0]||null)}else h(null)}catch(I){console.error("Error fetching product:",I),h(null)}finally{p(!1)}})()},[s]),j.useEffect(()=>{window.scrollTo(0,0)},[s]);const W=u?.sizes&&u.sizes.length>0,Q=()=>{if(W&&!T){k(" Please select a size before adding to cart.");return}k(" Added to cart!"),a({id:u.id,name:u.name,price:u.newprice||u.price,image:u.images?.[0]||"",selectedSize:T,quantity:1}),setTimeout(()=>k(""),3e3)},he=()=>{J||(e(u),k(" Added to favorites!"),setTimeout(()=>k(""),3e3))},ce=()=>{M(!0)};return m?v.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},v.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):u?v.createElement("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},v.createElement("button",{onClick:()=>o(-1),className:"flex items-center text-red-600 hover:text-red-800 mb-6 transition-colors"},v.createElement(Vv,{className:"w-5 h-5 mr-1"})," Back"),v.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},v.createElement("div",{className:"flex flex-col lg:flex-row"},v.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8"},v.createElement("div",{className:"flex flex-col md:flex-row gap-6"},v.createElement("div",{className:"flex-1"},v.createElement("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-inner flex items-center justify-center"},y&&!G?v.createElement("img",{src:y,alt:u.name,className:"w-full h-full object-contain",onError:ce}):v.createElement("div",{className:"text-center p-8"},v.createElement("div",{className:"text-5xl mb-2"},""),v.createElement("p",{className:"text-gray-500"},"Image not available")))),v.createElement("div",{className:"flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-y-auto max-w-full md:max-w-[100px] lg:max-w-[120px]"},u.images?.map((se,I)=>v.createElement("button",{key:I,onClick:()=>{E(se),M(!1)},className:`flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${y===se?"border-red-500 scale-105 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`},v.createElement("img",{src:se,alt:`${u.name} thumbnail ${I+1}`,className:"w-full h-full object-cover",onError:A=>{A.target.src="/placeholder.jpg"}})))))),v.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8 border-t lg:border-t-0 lg:border-l border-gray-200"},v.createElement("div",{className:"flex flex-col h-full"},v.createElement("div",null,v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},u.name),v.createElement("p",{className:"text-gray-600 mb-6"},u.category),W&&v.createElement("div",{className:"mb-6"},v.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Select Size"),v.createElement("div",{className:"flex flex-wrap gap-2"},u.sizes.map(se=>v.createElement("button",{key:se,onClick:()=>x(se),className:`px-4 py-2 rounded-lg border font-medium transition-all duration-200 ${T===se?"bg-red-600 text-white border-red-600 shadow-md":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`},se.toUpperCase()))),W&&!T&&v.createElement("p",{className:"mt-2 text-sm text-red-500"},"Please select a size")),v.createElement("div",{className:"mb-6"},v.createElement("div",{className:"flex items-baseline gap-3"},v.createElement("span",{className:"text-3xl font-bold text-gray-900"},"$",u.newprice||u.price),u.newprice&&u.newprice<u.price&&v.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",u.price),u.newprice&&u.newprice<u.price&&v.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},"Save $",(u.price-u.newprice).toFixed(2)))),v.createElement("div",{className:"flex flex-wrap gap-4 mb-6"},v.createElement("button",{onClick:Q,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300"},v.createElement(Jn,{className:"w-5 h-5"})," Add to Cart"),v.createElement("button",{onClick:he,className:`p-3 rounded-xl border transition-all duration-300 ${J?"bg-red-50 text-red-600 border-red-200 shadow-sm":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100 hover:shadow-sm"}`,title:J?"Remove from favorites":"Add to favorites"},v.createElement(ga,{className:`w-6 h-6 transition-all duration-300 ${J?"fill-red-600 text-red-600 scale-110":""}`}))),N&&v.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 animate-fadeIn"},N)),v.createElement("div",{className:"mt-auto pt-6 border-t border-gray-200"},v.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-3"},"Description"),v.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line"},u.det||"No description available for this product."))))))):v.createElement("div",{className:"text-center py-20 px-4"},v.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md p-8"},v.createElement("div",{className:"text-6xl mb-4"},""),v.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),v.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),v.createElement("button",{onClick:()=>o(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},v.createElement(Vv,{className:"w-4 h-4 mr-2"})," Go Back")))};function UN(){const[a,e]=j.useState([]),[r,s]=j.useState(!1),[o,u]=j.useState(!1),[h,m]=j.useState([]),[p,y]=j.useState(""),E=Q=>{m(he=>he.find(ce=>ce.id===Q.id)?he:[...he,Q])},T=Q=>{m(he=>he.filter(ce=>ce.id!==Q))},x=Q=>{e(he=>he.find(se=>se.id===Q.id)?he.map(se=>se.id===Q.id?{...se,qty:se.qty+1}:se):[...he,{...Q,qty:1}])},N=Q=>{e(a.map(he=>he.id===Q?{...he,qty:he.qty+1}:he))},k=Q=>{e(a.map(he=>he.id===Q?{...he,qty:he.qty>1?he.qty-1:1}:he))},G=Q=>e(a.filter(he=>he.id!==Q)),M=()=>e([]),J=()=>a.reduce((Q,he)=>Q+he.qty,0),W=()=>a.reduce((Q,he)=>Q+parseFloat(he.price)*he.qty,0);return v.createElement(ZT,null,v.createElement(MN,{cartItemCount:J(),onCartClick:()=>s(!0),onSearch:y}),v.createElement(PN,{isOpen:r,onClose:()=>s(!1),cart:a,onIncreaseQty:N,onDecreaseQty:k,onRemoveItem:G,onClearCart:M,onCheckout:()=>{u(!0),s(!1)},total:W()}),v.createElement(kN,{isOpen:o,onClose:()=>u(!1),cart:a,total:W(),onOrderSuccess:M}),v.createElement(NT,null,v.createElement($a,{path:"/",element:v.createElement(Dv,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:T,favorites:h,searchQuery:p})}),v.createElement($a,{path:"/Ecommerce",element:v.createElement(Dv,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:T,favorites:h,searchQuery:p})}),v.createElement($a,{path:"/men",element:v.createElement(ON,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:T,favorites:h,searchQuery:p})}),v.createElement($a,{path:"/women",element:v.createElement(DN,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:T,favorites:h,searchQuery:p})}),v.createElement($a,{path:"/kids",element:v.createElement(IN,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:T,favorites:h,searchQuery:p})}),v.createElement($a,{path:"/favorites",element:v.createElement(VN,{favorites:h,onRemoveFromFavorites:T,onAddToCart:x})}),v.createElement($a,{path:"/product/:id",element:v.createElement(LN,{onAddToCart:x,onAddToFavorites:E,favorites:h})})))}L1.createRoot(document.getElementById("root")).render(v.createElement(j.StrictMode,null,v.createElement(UN,null)));export{Vv as A,sN as C,Gm as E,ga as H,rN as I,dN as L,pN as M,bN as P,v as R,Jn as S,em as T,RN as U,ab as W,Hc as X,nn as a,nb as b,fl as c,Wi as d,rb as e,Mv as f,jo as g,yN as h,_N as i,wN as j,j as r};
