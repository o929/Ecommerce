const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-BYdmWkjn.js","assets/chevron-right-DzSVejeq.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-Cck61J92.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vg={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function z2(){if(Ib)return ct;Ib=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function j(B,W,me){this.props=B,this.context=W,this.refs=z,this.updater=me||O}j.prototype.isReactComponent={},j.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},j.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function K(){}K.prototype=j.prototype;function G(B,W,me){this.props=B,this.context=W,this.refs=z,this.updater=me||O}var X=G.prototype=new K;X.constructor=G,V(X,j.prototype),X.isPureReactComponent=!0;var ve=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function U(B,W,me,oe,Ne,Pe){return me=Pe.ref,{$$typeof:t,type:B,key:W,ref:me!==void 0?me:null,props:Pe}}function N(B,W){return U(B.type,W,void 0,void 0,void 0,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return W[me]})}var H=/\/+/g;function Y(B,W){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):W.toString(36)}function q(){}function Ze(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(q,q):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ue(B,W,me,oe,Ne){var Pe=typeof B;(Pe==="undefined"||Pe==="boolean")&&(B=null);var Te=!1;if(B===null)Te=!0;else switch(Pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(B.$$typeof){case t:case e:Te=!0;break;case b:return Te=B._init,Ue(Te(B._payload),W,me,oe,Ne)}}if(Te)return Ne=Ne(B),Te=oe===""?"."+Y(B,0):oe,ve(Ne)?(me="",Te!=null&&(me=Te.replace(H,"$&/")+"/"),Ue(Ne,W,me,"",function(qt){return qt})):Ne!=null&&(M(Ne)&&(Ne=N(Ne,me+(Ne.key==null||B&&B.key===Ne.key?"":(""+Ne.key).replace(H,"$&/")+"/")+Te)),W.push(Ne)),1;Te=0;var ht=oe===""?".":oe+":";if(ve(B))for(var Qe=0;Qe<B.length;Qe++)oe=B[Qe],Pe=ht+Y(oe,Qe),Te+=Ue(oe,W,me,Pe,Ne);else if(Qe=A(B),typeof Qe=="function")for(B=Qe.call(B),Qe=0;!(oe=B.next()).done;)oe=oe.value,Pe=ht+Y(oe,Qe++),Te+=Ue(oe,W,me,Pe,Ne);else if(Pe==="object"){if(typeof B.then=="function")return Ue(Ze(B),W,me,oe,Ne);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(B,W,me){if(B==null)return B;var oe=[],Ne=0;return Ue(B,oe,"","",function(Pe){return W.call(me,Pe,Ne++)}),oe}function ge(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function $e(){}return ct.Children={map:ie,forEach:function(B,W,me){ie(B,function(){W.apply(this,arguments)},me)},count:function(B){var W=0;return ie(B,function(){W++}),W},toArray:function(B){return ie(B,function(W){return W})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ct.Component=j,ct.Fragment=n,ct.Profiler=o,ct.PureComponent=G,ct.StrictMode=r,ct.Suspense=y,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,ct.__COMPILER_RUNTIME={__proto__:null,c:function(B){return ae.H.useMemoCache(B)}},ct.cache=function(B){return function(){return B.apply(null,arguments)}},ct.cloneElement=function(B,W,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var oe=V({},B.props),Ne=B.key,Pe=void 0;if(W!=null)for(Te in W.ref!==void 0&&(Pe=void 0),W.key!==void 0&&(Ne=""+W.key),W)!de.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(oe[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)oe.children=me;else if(1<Te){for(var ht=Array(Te),Qe=0;Qe<Te;Qe++)ht[Qe]=arguments[Qe+2];oe.children=ht}return U(B.type,Ne,void 0,void 0,Pe,oe)},ct.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},ct.createElement=function(B,W,me){var oe,Ne={},Pe=null;if(W!=null)for(oe in W.key!==void 0&&(Pe=""+W.key),W)de.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ne[oe]=W[oe]);var Te=arguments.length-2;if(Te===1)Ne.children=me;else if(1<Te){for(var ht=Array(Te),Qe=0;Qe<Te;Qe++)ht[Qe]=arguments[Qe+2];Ne.children=ht}if(B&&B.defaultProps)for(oe in Te=B.defaultProps,Te)Ne[oe]===void 0&&(Ne[oe]=Te[oe]);return U(B,Pe,void 0,void 0,null,Ne)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(B){return{$$typeof:m,render:B}},ct.isValidElement=M,ct.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:ge}},ct.memo=function(B,W){return{$$typeof:v,type:B,compare:W===void 0?null:W}},ct.startTransition=function(B){var W=ae.T,me={};ae.T=me;try{var oe=B(),Ne=ae.S;Ne!==null&&Ne(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then($e,pe)}catch(Pe){pe(Pe)}finally{ae.T=W}},ct.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},ct.use=function(B){return ae.H.use(B)},ct.useActionState=function(B,W,me){return ae.H.useActionState(B,W,me)},ct.useCallback=function(B,W){return ae.H.useCallback(B,W)},ct.useContext=function(B){return ae.H.useContext(B)},ct.useDebugValue=function(){},ct.useDeferredValue=function(B,W){return ae.H.useDeferredValue(B,W)},ct.useEffect=function(B,W,me){var oe=ae.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(B,W)},ct.useId=function(){return ae.H.useId()},ct.useImperativeHandle=function(B,W,me){return ae.H.useImperativeHandle(B,W,me)},ct.useInsertionEffect=function(B,W){return ae.H.useInsertionEffect(B,W)},ct.useLayoutEffect=function(B,W){return ae.H.useLayoutEffect(B,W)},ct.useMemo=function(B,W){return ae.H.useMemo(B,W)},ct.useOptimistic=function(B,W){return ae.H.useOptimistic(B,W)},ct.useReducer=function(B,W,me){return ae.H.useReducer(B,W,me)},ct.useRef=function(B){return ae.H.useRef(B)},ct.useState=function(B){return ae.H.useState(B)},ct.useSyncExternalStore=function(B,W,me){return ae.H.useSyncExternalStore(B,W,me)},ct.useTransition=function(){return ae.H.useTransition()},ct.version="19.1.1",ct}var Ob;function cm(){return Ob||(Ob=1,vg.exports=z2()),vg.exports}var k=cm();const _=$x(k);var Eg={exports:{}},eh={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function B2(){return Mb||(Mb=1,(function(t){function e(ie,ge){var pe=ie.length;ie.push(ge);e:for(;0<pe;){var $e=pe-1>>>1,B=ie[$e];if(0<o(B,ge))ie[$e]=ge,ie[pe]=B,pe=$e;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ge=ie[0],pe=ie.pop();if(pe!==ge){ie[0]=pe;e:for(var $e=0,B=ie.length,W=B>>>1;$e<W;){var me=2*($e+1)-1,oe=ie[me],Ne=me+1,Pe=ie[Ne];if(0>o(oe,pe))Ne<B&&0>o(Pe,oe)?(ie[$e]=Pe,ie[Ne]=pe,$e=Ne):(ie[$e]=oe,ie[me]=pe,$e=me);else if(Ne<B&&0>o(Pe,pe))ie[$e]=Pe,ie[Ne]=pe,$e=Ne;else break e}}return ge}function o(ie,ge){var pe=ie.sortIndex-ge.sortIndex;return pe!==0?pe:ie.id-ge.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var y=[],v=[],b=1,x=null,A=3,O=!1,V=!1,z=!1,j=!1,K=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ve(ie){for(var ge=n(v);ge!==null;){if(ge.callback===null)r(v);else if(ge.startTime<=ie)r(v),ge.sortIndex=ge.expirationTime,e(y,ge);else break;ge=n(v)}}function ae(ie){if(z=!1,ve(ie),!V)if(n(y)!==null)V=!0,de||(de=!0,Y());else{var ge=n(v);ge!==null&&Ue(ae,ge.startTime-ie)}}var de=!1,U=-1,N=5,M=-1;function F(){return j?!0:!(t.unstable_now()-M<N)}function H(){if(j=!1,de){var ie=t.unstable_now();M=ie;var ge=!0;try{e:{V=!1,z&&(z=!1,G(U),U=-1),O=!0;var pe=A;try{t:{for(ve(ie),x=n(y);x!==null&&!(x.expirationTime>ie&&F());){var $e=x.callback;if(typeof $e=="function"){x.callback=null,A=x.priorityLevel;var B=$e(x.expirationTime<=ie);if(ie=t.unstable_now(),typeof B=="function"){x.callback=B,ve(ie),ge=!0;break t}x===n(y)&&r(y),ve(ie)}else r(y);x=n(y)}if(x!==null)ge=!0;else{var W=n(v);W!==null&&Ue(ae,W.startTime-ie),ge=!1}}break e}finally{x=null,A=pe,O=!1}ge=void 0}}finally{ge?Y():de=!1}}}var Y;if(typeof X=="function")Y=function(){X(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ze=q.port2;q.port1.onmessage=H,Y=function(){Ze.postMessage(null)}}else Y=function(){K(H,0)};function Ue(ie,ge){U=K(function(){ie(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(ie){switch(A){case 1:case 2:case 3:var ge=3;break;default:ge=A}var pe=A;A=ge;try{return ie()}finally{A=pe}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var pe=A;A=ie;try{return ge()}finally{A=pe}},t.unstable_scheduleCallback=function(ie,ge,pe){var $e=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?$e+pe:$e):pe=$e,ie){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=pe+B,ie={id:b++,callback:ge,priorityLevel:ie,startTime:pe,expirationTime:B,sortIndex:-1},pe>$e?(ie.sortIndex=pe,e(v,ie),n(y)===null&&ie===n(v)&&(z?(G(U),U=-1):z=!0,Ue(ae,pe-$e))):(ie.sortIndex=B,e(y,ie),V||O||(V=!0,de||(de=!0,Y()))),ie},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ie){var ge=A;return function(){var pe=A;A=ge;try{return ie.apply(this,arguments)}finally{A=pe}}}})(wg)),wg}var Db;function j2(){return Db||(Db=1,bg.exports=B2()),bg.exports}var Tg={exports:{}},mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function F2(){if(Lb)return mi;Lb=1;var t=cm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,v,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:v,implementation:b}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mi.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(y,v,null,b)},mi.flushSync=function(y){var v=h.T,b=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=v,r.p=b,r.d.f()}},mi.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},mi.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},mi.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:O}):b==="script"&&r.d.X(y,{crossOrigin:x,integrity:A,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mi.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},mi.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin);r.d.L(y,b,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mi.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=m(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},mi.requestFormReset=function(y){r.d.r(y)},mi.unstable_batchedUpdates=function(y,v){return y(v)},mi.useFormState=function(y,v,b){return h.H.useFormState(y,v,b)},mi.useFormStatus=function(){return h.H.useHostTransitionStatus()},mi.version="19.1.1",mi}var kb;function Zx(){if(kb)return Tg.exports;kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=F2(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function H2(){if(Vb)return eh;Vb=1;var t=j2(),e=cm(),n=Zx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function h(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,f=s;;){var g=l.return;if(g===null)break;var E=g.alternate;if(E===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===l)return m(g),i;if(E===f)return m(g),s;E=E.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=E;else{for(var R=!1,I=g.child;I;){if(I===l){R=!0,l=g,f=E;break}if(I===f){R=!0,f=g,l=E;break}I=I.sibling}if(!R){for(I=E.child;I;){if(I===l){R=!0,l=E,f=g;break}if(I===f){R=!0,f=E,l=g;break}I=I.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function Ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case j:return"Profiler";case z:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case X:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case ve:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:Ze(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return Ze(i(s))}catch{}}return null}var Ue=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},$e=[],B=-1;function W(i){return{current:i}}function me(i){0>B||(i.current=$e[B],$e[B]=null,B--)}function oe(i,s){B++,$e[B]=i.current,i.current=s}var Ne=W(null),Pe=W(null),Te=W(null),ht=W(null);function Qe(i,s){switch(oe(Te,s),oe(Pe,i),oe(Ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?sb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=sb(s),i=ab(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(Ne),oe(Ne,i)}function qt(){me(Ne),me(Pe),me(Te)}function Gt(i){i.memoizedState!==null&&oe(ht,i);var s=Ne.current,l=ab(s,i.type);s!==l&&(oe(Pe,i),oe(Ne,l))}function Pt(i){Pe.current===i&&(me(Ne),me(Pe)),ht.current===i&&(me(ht),Wc._currentValue=pe)}var Wt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,Dr=t.unstable_shouldYield,us=t.unstable_requestPaint,jn=t.unstable_now,ji=t.unstable_getCurrentPriorityLevel,Hs=t.unstable_ImmediatePriority,ur=t.unstable_UserBlockingPriority,bi=t.unstable_NormalPriority,Lr=t.unstable_LowPriority,Fi=t.unstable_IdlePriority,qs=t.log,Re=t.unstable_setDisableYieldValue,ee=null,ye=null;function Ce(i){if(typeof qs=="function"&&Re(i),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(ee,i)}catch{}}var He=Math.clz32?Math.clz32:fe,at=Math.log,yt=Math.LN2;function fe(i){return i>>>=0,i===0?32:31-(at(i)/yt|0)|0}var be=256,ke=4194304;function Me(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Le(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,E=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var I=f&134217727;return I!==0?(f=I&~E,f!==0?g=Me(f):(R&=I,R!==0?g=Me(R):l||(l=I&~i,l!==0&&(g=Me(l))))):(I=f&~E,I!==0?g=Me(I):R!==0?g=Me(R):l||(l=f&~i,l!==0&&(g=Me(l)))),g===0?0:s!==0&&s!==g&&(s&E)===0&&(E=g&-g,l=s&-s,E>=l||E===32&&(l&4194048)!==0)?s:g}function We(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function It(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var i=be;return be<<=1,(be&4194048)===0&&(be=256),i}function Tt(){var i=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),i}function Mt(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ct(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sn(i,s,l,f,g,E){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,Z=i.expirationTimes,se=i.hiddenUpdates;for(l=R&~l;0<l;){var Ee=31-He(l),xe=1<<Ee;I[Ee]=0,Z[Ee]=-1;var le=se[Ee];if(le!==null)for(se[Ee]=null,Ee=0;Ee<le.length;Ee++){var ue=le[Ee];ue!==null&&(ue.lane&=-536870913)}l&=~xe}f!==0&&Ln(i,f,0),E!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=E&~(R&~s))}function Ln(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-He(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function wi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-He(l),g=1<<f;g&s|i[f]&s&&(i[f]|=s),l&=~g}}function Ti(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function kr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hi(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:Sb(i.type))}function Pa(i,s){var l=ge.p;try{return ge.p=i,s()}finally{ge.p=l}}var Xt=Math.random().toString(36).slice(2),vn="__reactFiber$"+Xt,pn="__reactProps$"+Xt,Oi="__reactContainer$"+Xt,li="__reactEvents$"+Xt,Fe="__reactListeners$"+Xt,Vr="__reactHandles$"+Xt,Wo="__reactResources$"+Xt,cs="__reactMarker$"+Xt;function Ur(i){delete i[vn],delete i[pn],delete i[li],delete i[Fe],delete i[Vr]}function qi(i){var s=i[vn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Oi]||l[vn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=cb(i);i!==null;){if(l=i[vn])return l;i=cb(i)}return s}i=l,l=i.parentNode}return null}function Gi(i){if(i=i[vn]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Xn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Fn(i){var s=i[Wo];return s||(s=i[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(i){i[cs]=!0}var Yo=new Set,Ia={};function $i(i,s){cr(i,s),cr(i+"Capture",s)}function cr(i,s){for(Ia[i]=s,i=0;i<s.length;i++)Yo.add(s[i])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},$s={};function Wl(i){return Wt.call($s,i)?!0:Wt.call(Gs,i)?!1:Kl.test(i)?$s[i]=!0:(Gs[i]=!0,!1)}function hs(i,s,l){if(Wl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function hr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function kn(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}var zr,fs;function fr(i){if(zr===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);zr=s&&s[1]||"",fs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+i+fs}var Zs=!1;function dr(i,s){if(!i||Zs)return"";Zs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ue){var le=ue}Reflect.construct(i,[],xe)}else{try{xe.call()}catch(ue){le=ue}i.call(xe.prototype)}}else{try{throw Error()}catch(ue){le=ue}(xe=i())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),R=E[0],I=E[1];if(R&&I){var Z=R.split(`
`),se=I.split(`
`);for(g=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(f===Z.length||g===se.length)for(f=Z.length-1,g=se.length-1;1<=f&&0<=g&&Z[f]!==se[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Z[f]!==se[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Z[f]!==se[g]){var Ee=`
`+Z[f].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=f&&0<=g);break}}}finally{Zs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fr(l):""}function dt(i){switch(i.tag){case 26:case 27:case 5:return fr(i.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return dr(i.type,!1);case 11:return dr(i.type.render,!1);case 1:return dr(i.type,!0);case 31:return fr("Activity");default:return""}}function Dt(i){try{var s="";do s+=dt(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function An(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ds(i){var s=mr(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,E=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,E.call(this,R)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ms(i){i._valueTracker||(i._valueTracker=ds(i))}function st(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=mr(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function Vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xo=/[\n"\\]/g;function nn(i){return i.replace(Xo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qt(i,s,l,f,g,E,R,I){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+An(s)):i.value!==""+An(s)&&(i.value=""+An(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?Zi(i,R,An(s)):l!=null?Zi(i,R,An(l)):f!=null&&i.removeAttribute("value"),g==null&&E!=null&&(i.defaultChecked=!!E),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+An(I):i.removeAttribute("name")}function Ks(i,s,l,f,g,E,R,I){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),s!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||s!=null))return;l=l!=null?""+An(l):"",s=s!=null?""+An(s):l,I||s===i.value||(i.value=s),i.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=I?i.checked:!!f,i.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Zi(i,s,l){s==="number"&&Vt(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Qn(i,s,l,f){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+An(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Je(i,s,l){if(s!=null&&(s=""+An(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+An(l):""}function xi(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(r(92));if(Ue(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=An(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Hn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oa(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||Ki.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Br(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&l[g]!==f&&Oa(i,g,f)}else for(var E in s)s.hasOwnProperty(E)&&Oa(i,E,s[E])}function Ws(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(i){return Ma.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pr=null,Yi=null;function Jo(i){var s=Gi(i);if(s&&(i=s.stateNode)){var l=i[pn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qt(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var g=f[pn]||null;if(!g)throw Error(r(90));Qt(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&st(f)}break e;case"textarea":Je(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Qn(i,!!l.multiple,s,!1)}}}var Ke=!1;function Si(i,s,l){if(Ke)return i(s,l);Ke=!0;try{var f=i(s);return f}finally{if(Ke=!1,(pr!==null||Yi!==null)&&(jf(),pr&&(s=pr,i=Yi,Yi=pr=null,Jo(s),i)))for(s=0;s<i.length;s++)Jo(i[s])}}function xt(i,s){var l=i.stateNode;if(l===null)return null;var f=l[pn]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Mi)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ui=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ui=!1}var Di=null,ci=null,Xi=null;function Fr(){if(Xi)return Xi;var i,s=ci,l=s.length,f,g="value"in Di?Di.value:Di.textContent,E=g.length;for(i=0;i<l&&s[i]===g[i];i++);var R=l-i;for(f=1;f<=R&&s[l-f]===g[E-f];f++);return Xi=g.slice(i,1<f?1-f:void 0)}function Bt(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function qn(){return!0}function Da(){return!1}function En(i){function s(l,f,g,E,R){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(E):E[I]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qn:Da,this.isPropagationStopped=Da,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),s}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=En(Rt),Hr=b({},Rt,{view:0,detail:0}),Yl=En(Hr),Xs,ut,gr,Vn=b({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gr&&(gr&&i.type==="mousemove"?(Xs=i.screenX-gr.screenX,ut=i.screenY-gr.screenY):ut=Xs=0,gr=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:ut}}),Gn=En(Vn),el=b({},Vn,{dataTransfer:0}),fc=En(el),qr=b({},Hr,{relatedTarget:0}),La=En(qr),ka=b({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=En(ka),Xl=b({},Rt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gs=En(Xl),dc=b({},Rt,{data:0}),hi=En(dc),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Qi[i])?!!s[i]:!1}function ys(){return Ua}var za=b({},Hr,{key:function(i){if(i.key){var s=Qs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Bt(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(i){return i.type==="keypress"?Bt(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bt(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=En(za),nl=b({},Vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=En(nl),Gr=b({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Ql=En(Gr),Fa=b({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jl=En(Fa),il=b({},Vn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=En(il),Cn=b({},Rt,{newState:0,oldState:0}),yr=En(Cn),eu=[9,13,27,32],fi=Mi&&"CompositionEvent"in window,d=null;Mi&&"documentMode"in document&&(d=document.documentMode);var T=Mi&&"TextEvent"in window&&!d,C=Mi&&(!fi||d&&8<d&&11>=d),D=" ",te=!1;function he(i,s){switch(i){case"keyup":return eu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _t=!1;function gn(i,s){switch(i){case"compositionend":return Ie(s);case"keypress":return s.which!==32?null:(te=!0,D);case"textInput":return i=s.data,i===D&&te?null:i;default:return null}}function vt(i,s){if(_t)return i==="compositionend"||!fi&&he(i,s)?(i=Fr(),Xi=ci=Di=null,_t=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return C&&s.locale!=="ko"?null:s.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Lt[i.type]:s==="textarea"}function $r(i,s,l,f){pr?Yi?Yi.push(f):Yi=[f]:pr=f,s=Zf(s,"onChange"),0<s.length&&(l=new Ys("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var $t=null,_r=null;function vr(i){eb(i,0)}function tu(i){var s=Xn(i);if(st(s))return i}function Ha(i,s){if(i==="change")return s}var mc=!1;if(Mi){var qa;if(Mi){var pc="oninput"in document;if(!pc){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),pc=typeof Zr.oninput=="function"}qa=pc}else qa=!1;mc=qa&&(!document.documentMode||9<document.documentMode)}function rl(){$t&&($t.detachEvent("onpropertychange",af),_r=$t=null)}function af(i){if(i.propertyName==="value"&&tu(_r)){var s=[];$r(s,_r,i,Jn(i)),Si(vr,s)}}function gc(i,s,l){i==="focusin"?(rl(),$t=s,_r=l,$t.attachEvent("onpropertychange",af)):i==="focusout"&&rl()}function Hm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tu(_r)}function Kr(i,s){if(i==="click")return tu(s)}function qm(i,s){if(i==="input"||i==="change")return tu(s)}function Ga(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ai=typeof Object.is=="function"?Object.is:Ga;function Ci(i,s){if(Ai(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Wt.call(s,g)||!Ai(i[g],s[g]))return!1}return!0}function sl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yc(i,s){var l=sl(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sl(l)}}function nu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?nu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function al(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vt(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Vt(i.document)}return s}function ol(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var iu=Mi&&"documentMode"in document&&11>=document.documentMode,Ji=null,$a=null,ea=null,ru=!1;function of(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ru||Ji==null||Ji!==Vt(f)||(f=Ji,"selectionStart"in f&&ol(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ea&&Ci(ea,f)||(ea=f,f=Zf($a,"onSelect"),0<f.length&&(s=new Ys("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=Ji)))}function Er(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Za={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},su={},lf={};Mi&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function _s(i){if(su[i])return su[i];if(!Za[i])return i;var s=Za[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in lf)return su[i]=s[l];return i}var uf=_s("animationend"),er=_s("animationiteration"),ll=_s("animationstart"),Gm=_s("transitionrun"),au=_s("transitionstart"),$m=_s("transitioncancel"),_c=_s("transitionend"),cf=new Map,ta="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ta.push("scrollEnd");function tr(i,s){cf.set(i,s),$i(s,[i])}var na=new WeakMap;function Ri(i,s){if(typeof i=="object"&&i!==null){var l=na.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Dt(s)},na.set(i,s),s)}return{value:i,source:s,stack:Dt(s)}}var Ni=[],Ka=0,nr=0;function ul(){for(var i=Ka,s=nr=Ka=0;s<i;){var l=Ni[s];Ni[s++]=null;var f=Ni[s];Ni[s++]=null;var g=Ni[s];Ni[s++]=null;var E=Ni[s];if(Ni[s++]=null,f!==null&&g!==null){var R=f.pending;R===null?g.next=g:(g.next=R.next,R.next=g),f.pending=g}E!==0&&hl(l,g,E)}}function cl(i,s,l,f){Ni[Ka++]=i,Ni[Ka++]=s,Ni[Ka++]=l,Ni[Ka++]=f,nr|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function ia(i,s,l,f){return cl(i,s,l,f),vs(i)}function Wa(i,s){return cl(i,null,null,s),vs(i)}function hl(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,E=i.return;E!==null;)E.childLanes|=l,f=E.alternate,f!==null&&(f.childLanes|=l),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(g=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,g&&s!==null&&(g=31-He(l),i=E.hiddenUpdates,f=i[g],f===null?i[g]=[s]:f.push(s),s.lane=l|536870912),E):null}function vs(i){if(50<jc)throw jc=0,Hp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ra={};function hf(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(i,s,l,f){return new hf(i,s,l,f)}function ou(i){return i=i.prototype,!(!i||!i.isReactComponent)}function br(i,s){var l=i.alternate;return l===null?(l=Pi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function fl(i,s,l,f,g,E){var R=0;if(f=i,typeof i=="function")ou(i)&&(R=1);else if(typeof i=="string")R=A2(i,l,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Pi(31,l,s,g),i.elementType=M,i.lanes=E,i;case V:return Es(l.children,g,E,s);case z:R=8,g|=24;break;case j:return i=Pi(12,l,s,g|2),i.elementType=j,i.lanes=E,i;case ae:return i=Pi(13,l,s,g),i.elementType=ae,i.lanes=E,i;case de:return i=Pi(19,l,s,g),i.elementType=de,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case X:R=10;break e;case G:R=9;break e;case ve:R=11;break e;case U:R=14;break e;case N:R=16,f=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Pi(R,l,s,g),s.elementType=i,s.type=f,s.lanes=E,s}function Es(i,s,l,f){return i=Pi(7,i,f,s),i.lanes=l,i}function Ec(i,s,l){return i=Pi(6,i,null,s),i.lanes=l,i}function lu(i,s,l){return s=Pi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var sa=[],Ya=0,a=null,c=0,p=[],w=0,S=null,P=1,$="";function ne(i,s){sa[Ya++]=c,sa[Ya++]=a,a=i,c=s}function ce(i,s,l){p[w++]=P,p[w++]=$,p[w++]=S,S=i;var f=P;i=$;var g=32-He(f)-1;f&=~(1<<g),l+=1;var E=32-He(s)+g;if(30<E){var R=g-g%5;E=(f&(1<<R)-1).toString(32),f>>=R,g-=R,P=1<<32-He(s)+g|l<<g|f,$=E+i}else P=1<<E|l<<g|f,$=i}function Ae(i){i.return!==null&&(ne(i,1),ce(i,1,0))}function De(i){for(;i===a;)a=sa[--Ya],sa[Ya]=null,c=sa[--Ya],sa[Ya]=null;for(;i===S;)S=p[--w],p[w]=null,$=p[--w],p[w]=null,P=p[--w],p[w]=null}var ze=null,je=null,rt=!1,en=null,cn=!1,$n=Error(r(519));function Li(i){var s=Error(r(418,""));throw Qa(Ri(s,i)),$n}function ff(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[vn]=i,s[pn]=f,l){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(l=0;l<Hc.length;l++)gt(Hc[l],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":gt("invalid",s),Ks(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ms(s);break;case"select":gt("invalid",s);break;case"textarea":gt("invalid",s),xi(s,f.value,f.defaultValue,f.children),ms(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||rb(s.textContent,l)?(f.popover!=null&&(gt("beforetoggle",s),gt("toggle",s)),f.onScroll!=null&&gt("scroll",s),f.onScrollEnd!=null&&gt("scrollend",s),f.onClick!=null&&(s.onclick=Kf),s=!0):s=!1,s||Li(i)}function df(i){for(ze=i.return;ze;)switch(ze.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:ze=ze.return}}function dl(i){if(i!==ze)return!1;if(!rt)return df(i),rt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||sg(i.type,i.memoizedProps)),l=!l),l&&je&&Li(i),df(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){je=Qr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}je=null}}else s===27?(s=je,mo(i.type)?(i=ug,ug=null,je=i):je=s):je=ze?Qr(i.stateNode.nextSibling):null;return!0}function Xa(){je=ze=null,rt=!1}function mf(){var i=en;return i!==null&&(Ui===null?Ui=i:Ui.push.apply(Ui,i),en=null),i}function Qa(i){en===null?en=[i]:en.push(i)}var an=W(null),wr=null,Wr=null;function bs(i,s,l){oe(an,s._currentValue),s._currentValue=l}function Yr(i){i._currentValue=an.current,me(an)}function ml(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function uu(i,s,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){var R=g.child;E=E.firstContext;e:for(;E!==null;){var I=E;E=g;for(var Z=0;Z<s.length;Z++)if(I.context===s[Z]){E.lanes|=l,I=E.alternate,I!==null&&(I.lanes|=l),ml(E.return,l,i),f||(R=null);break e}E=I.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(r(341));R.lanes|=l,E=R.alternate,E!==null&&(E.lanes|=l),ml(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function pl(i,s,l,f){i=null;for(var g=s,E=!1;g!==null;){if(!E){if((g.flags&524288)!==0)E=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var I=g.type;Ai(g.pendingProps.value,R.value)||(i!==null?i.push(I):i=[I])}}else if(g===ht.current){if(R=g.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}g=g.return}i!==null&&uu(s,i,l,f),s.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!Ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function gl(i){wr=i,Wr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function di(i){return qv(wr,i)}function gf(i,s){return wr===null&&gl(i),qv(i,s)}function qv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Wr===null){if(i===null)throw Error(r(308));Wr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wr=Wr.next=s;return l}var SR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},AR=t.unstable_scheduleCallback,CR=t.unstable_NormalPriority,Un={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new SR,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&AR(CR,function(){i.controller.abort()})}var wc=null,Km=0,cu=0,hu=null;function RR(i,s){if(wc===null){var l=wc=[];Km=0,cu=Yp(),hu={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Km++,s.then(Gv,Gv),s}function Gv(){if(--Km===0&&wc!==null){hu!==null&&(hu.status="fulfilled");var i=wc;wc=null,cu=0,hu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function NR(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var $v=ie.S;ie.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&RR(i,s),$v!==null&&$v(i,s)};var yl=W(null);function Wm(){var i=yl.current;return i!==null?i:tn.pooledCache}function yf(i,s){s===null?oe(yl,yl.current):oe(yl,s.pool)}function Zv(){var i=Wm();return i===null?null:{parent:Un._currentValue,pool:i}}var Tc=Error(r(460)),Kv=Error(r(474)),_f=Error(r(542)),Ym={then:function(){}};function Wv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vf(){}function Yv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(vf,vf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qv(i),i;default:if(typeof s.status=="string")s.then(vf,vf);else{if(i=tn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qv(i),i}throw xc=s,Tc}}var xc=null;function Xv(){if(xc===null)throw Error(r(459));var i=xc;return xc=null,i}function Qv(i){if(i===Tc||i===_f)throw Error(r(483))}var Ja=!1;function Xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function to(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ut&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=vs(i),hl(i,null,l),s}return cl(i,f,s,l),vs(i)}function Sc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,wi(i,l)}}function Jm(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?g=E=R:E=E.next=R,l=l.next}while(l!==null);E===null?g=E=s:E=E.next=s}else g=E=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ep=!1;function Ac(){if(ep){var i=hu;if(i!==null)throw i}}function Cc(i,s,l,f){ep=!1;var g=i.updateQueue;Ja=!1;var E=g.firstBaseUpdate,R=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var Z=I,se=Z.next;Z.next=null,R===null?E=se:R.next=se,R=Z;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,I=Ee.lastBaseUpdate,I!==R&&(I===null?Ee.firstBaseUpdate=se:I.next=se,Ee.lastBaseUpdate=Z))}if(E!==null){var xe=g.baseState;R=0,Ee=se=Z=null,I=E;do{var le=I.lane&-536870913,ue=le!==I.lane;if(ue?(St&le)===le:(f&le)===le){le!==0&&le===cu&&(ep=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var nt=i,Ye=I;le=s;var Ht=l;switch(Ye.tag){case 1:if(nt=Ye.payload,typeof nt=="function"){xe=nt.call(Ht,xe,le);break e}xe=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Ye.payload,le=typeof nt=="function"?nt.call(Ht,xe,le):nt,le==null)break e;xe=b({},xe,le);break e;case 2:Ja=!0}}le=I.callback,le!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=g.callbacks,ue===null?g.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Ee===null?(se=Ee=ue,Z=xe):Ee=Ee.next=ue,R|=le;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;ue=I,I=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);Ee===null&&(Z=xe),g.baseState=Z,g.firstBaseUpdate=se,g.lastBaseUpdate=Ee,E===null&&(g.shared.lanes=0),uo|=R,i.lanes=R,i.memoizedState=xe}}function Jv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function e0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Jv(l[i],s)}var fu=W(null),Ef=W(0);function t0(i,s){i=fa,oe(Ef,i),oe(fu,s),fa=i|s.baseLanes}function tp(){oe(Ef,fa),oe(fu,fu.current)}function np(){fa=Ef.current,me(fu),me(Ef)}var no=0,ft=null,jt=null,Rn=null,bf=!1,du=!1,_l=!1,wf=0,Rc=0,mu=null,PR=0;function bn(){throw Error(r(321))}function ip(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ai(i[l],s[l]))return!1;return!0}function rp(i,s,l,f,g,E){return no=E,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ie.H=i===null||i.memoizedState===null?U0:z0,_l=!1,E=l(f,g),_l=!1,du&&(E=i0(s,l,f,g)),n0(i),E}function n0(i){ie.H=Rf;var s=jt!==null&&jt.next!==null;if(no=0,Rn=jt=ft=null,bf=!1,Rc=0,mu=null,s)throw Error(r(300));i===null||Zn||(i=i.dependencies,i!==null&&pf(i)&&(Zn=!0))}function i0(i,s,l,f){ft=i;var g=0;do{if(du&&(mu=null),Rc=0,du=!1,25<=g)throw Error(r(301));if(g+=1,Rn=jt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ie.H=VR,E=s(l,f)}while(du);return E}function IR(){var i=ie.H,s=i.useState()[0];return s=typeof s.then=="function"?Nc(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(ft.flags|=1024),s}function sp(){var i=wf!==0;return wf=0,i}function ap(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function op(i){if(bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}bf=!1}no=0,Rn=jt=ft=null,du=!1,Rc=wf=0,mu=null}function ki(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?ft.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function Nn(){if(jt===null){var i=ft.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=Rn===null?ft.memoizedState:Rn.next;if(s!==null)Rn=s,jt=i;else{if(i===null)throw ft.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Rn===null?ft.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(i){var s=Rc;return Rc+=1,mu===null&&(mu=[]),i=Yv(mu,i,s),s=ft,(Rn===null?s.memoizedState:Rn.next)===null&&(s=s.alternate,ie.H=s===null||s.memoizedState===null?U0:z0),i}function Tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nc(i);if(i.$$typeof===X)return di(i)}throw Error(r(438,String(i)))}function up(i){var s=null,l=ft.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=ft.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=lp(),ft.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=F;return s.index++,l}function aa(i,s){return typeof s=="function"?s(i):s}function xf(i){var s=Nn();return cp(s,jt,i)}function cp(i,s,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,E=f.pending;if(E!==null){if(g!==null){var R=g.next;g.next=E.next,E.next=R}s.baseQueue=g=E,f.pending=null}if(E=i.baseState,g===null)i.memoizedState=E;else{s=g.next;var I=R=null,Z=null,se=s,Ee=!1;do{var xe=se.lane&-536870913;if(xe!==se.lane?(St&xe)===xe:(no&xe)===xe){var le=se.revertLane;if(le===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),xe===cu&&(Ee=!0);else if((no&le)===le){se=se.next,le===cu&&(Ee=!0);continue}else xe={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(I=Z=xe,R=E):Z=Z.next=xe,ft.lanes|=le,uo|=le;xe=se.action,_l&&l(E,xe),E=se.hasEagerState?se.eagerState:l(E,xe)}else le={lane:xe,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Z===null?(I=Z=le,R=E):Z=Z.next=le,ft.lanes|=xe,uo|=xe;se=se.next}while(se!==null&&se!==s);if(Z===null?R=E:Z.next=I,!Ai(E,i.memoizedState)&&(Zn=!0,Ee&&(l=hu,l!==null)))throw l;i.memoizedState=E,i.baseState=R,i.baseQueue=Z,f.lastRenderedState=E}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function hp(i){var s=Nn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,E=s.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do E=i(E,R.action),R=R.next;while(R!==g);Ai(E,s.memoizedState)||(Zn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),l.lastRenderedState=E}return[E,f]}function r0(i,s,l){var f=ft,g=Nn(),E=rt;if(E){if(l===void 0)throw Error(r(407));l=l()}else l=s();var R=!Ai((jt||g).memoizedState,l);R&&(g.memoizedState=l,Zn=!0),g=g.queue;var I=o0.bind(null,f,g,i);if(Pc(2048,8,I,[i]),g.getSnapshot!==s||R||Rn!==null&&Rn.memoizedState.tag&1){if(f.flags|=2048,pu(9,Sf(),a0.bind(null,f,g,l,s),null),tn===null)throw Error(r(349));E||(no&124)!==0||s0(f,s,l)}return l}function s0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s=lp(),ft.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function a0(i,s,l,f){s.value=l,s.getSnapshot=f,l0(s)&&u0(i)}function o0(i,s,l){return l(function(){l0(s)&&u0(i)})}function l0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ai(i,l)}catch{return!0}}function u0(i){var s=Wa(i,2);s!==null&&or(s,i,2)}function fp(i){var s=ki();if(typeof i=="function"){var l=i;if(i=l(),_l){Ce(!0);try{l()}finally{Ce(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:i},s}function c0(i,s,l,f){return i.baseState=l,cp(i,jt,typeof f=="function"?f:aa)}function OR(i,s,l,f,g){if(Cf(i))throw Error(r(485));if(i=s.action,i!==null){var E={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};ie.T!==null?l(!0):E.isTransition=!1,f(E),l=s.pending,l===null?(E.next=s.pending=E,h0(s,E)):(E.next=l.next,s.pending=l.next=E)}}function h0(i,s){var l=s.action,f=s.payload,g=i.state;if(s.isTransition){var E=ie.T,R={};ie.T=R;try{var I=l(g,f),Z=ie.S;Z!==null&&Z(R,I),f0(i,s,I)}catch(se){dp(i,s,se)}finally{ie.T=E}}else try{E=l(g,f),f0(i,s,E)}catch(se){dp(i,s,se)}}function f0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){d0(i,s,f)},function(f){return dp(i,s,f)}):d0(i,s,l)}function d0(i,s,l){s.status="fulfilled",s.value=l,m0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,h0(i,l)))}function dp(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,m0(s),s=s.next;while(s!==f)}i.action=null}function m0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function p0(i,s){return s}function g0(i,s){if(rt){var l=tn.formState;if(l!==null){e:{var f=ft;if(rt){if(je){t:{for(var g=je,E=cn;g.nodeType!==8;){if(!E){g=null;break t}if(g=Qr(g.nextSibling),g===null){g=null;break t}}E=g.data,g=E==="F!"||E==="F"?g:null}if(g){je=Qr(g.nextSibling),f=g.data==="F!";break e}}Li(f)}f=!1}f&&(s=l[0])}}return l=ki(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:s},l.queue=f,l=L0.bind(null,ft,f),f.dispatch=l,f=fp(!1),E=_p.bind(null,ft,!1,f.queue),f=ki(),g={state:s,dispatch:null,action:i,pending:null},f.queue=g,l=OR.bind(null,ft,g,E,l),g.dispatch=l,f.memoizedState=i,[s,l,!1]}function y0(i){var s=Nn();return _0(s,jt,i)}function _0(i,s,l){if(s=cp(i,s,p0)[0],i=xf(aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Nc(s)}catch(R){throw R===Tc?_f:R}else f=s;s=Nn();var g=s.queue,E=g.dispatch;return l!==s.memoizedState&&(ft.flags|=2048,pu(9,Sf(),MR.bind(null,g,l),null)),[f,E,i]}function MR(i,s){i.action=s}function v0(i){var s=Nn(),l=jt;if(l!==null)return _0(s,l,i);Nn(),s=s.memoizedState,l=Nn();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function pu(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=ft.updateQueue,s===null&&(s=lp(),ft.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function Sf(){return{destroy:void 0,resource:void 0}}function E0(){return Nn().memoizedState}function Af(i,s,l,f){var g=ki();f=f===void 0?null:f,ft.flags|=i,g.memoizedState=pu(1|s,Sf(),l,f)}function Pc(i,s,l,f){var g=Nn();f=f===void 0?null:f;var E=g.memoizedState.inst;jt!==null&&f!==null&&ip(f,jt.memoizedState.deps)?g.memoizedState=pu(s,E,l,f):(ft.flags|=i,g.memoizedState=pu(1|s,E,l,f))}function b0(i,s){Af(8390656,8,i,s)}function w0(i,s){Pc(2048,8,i,s)}function T0(i,s){return Pc(4,2,i,s)}function x0(i,s){return Pc(4,4,i,s)}function S0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function A0(i,s,l){l=l!=null?l.concat([i]):null,Pc(4,4,S0.bind(null,s,i),l)}function mp(){}function C0(i,s){var l=Nn();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&ip(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function R0(i,s){var l=Nn();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&ip(s,f[1]))return f[0];if(f=i(),_l){Ce(!0);try{i()}finally{Ce(!1)}}return l.memoizedState=[f,s],f}function pp(i,s,l){return l===void 0||(no&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=IE(),ft.lanes|=i,uo|=i,l)}function N0(i,s,l,f){return Ai(l,s)?l:fu.current!==null?(i=pp(i,l,f),Ai(i,s)||(Zn=!0),i):(no&42)===0?(Zn=!0,i.memoizedState=l):(i=IE(),ft.lanes|=i,uo|=i,s)}function P0(i,s,l,f,g){var E=ge.p;ge.p=E!==0&&8>E?E:8;var R=ie.T,I={};ie.T=I,_p(i,!1,s,l);try{var Z=g(),se=ie.S;if(se!==null&&se(I,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ee=NR(Z,f);Ic(i,s,Ee,ar(i))}else Ic(i,s,f,ar(i))}catch(xe){Ic(i,s,{then:function(){},status:"rejected",reason:xe},ar())}finally{ge.p=E,ie.T=R}}function DR(){}function gp(i,s,l,f){if(i.tag!==5)throw Error(r(476));var g=I0(i).queue;P0(i,g,s,pe,l===null?DR:function(){return O0(i),l(f)})}function I0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function O0(i){var s=I0(i).next.queue;Ic(i,s,{},ar())}function yp(){return di(Wc)}function M0(){return Nn().memoizedState}function D0(){return Nn().memoizedState}function LR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ar();i=eo(l);var f=to(s,i,l);f!==null&&(or(f,s,l),Sc(f,s,l)),s={cache:Zm()},i.payload=s;return}s=s.return}}function kR(i,s,l){var f=ar();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Cf(i)?k0(s,l):(l=ia(i,s,l,f),l!==null&&(or(l,i,f),V0(l,s,f)))}function L0(i,s,l){var f=ar();Ic(i,s,l,f)}function Ic(i,s,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cf(i))k0(s,g);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var R=s.lastRenderedState,I=E(R,l);if(g.hasEagerState=!0,g.eagerState=I,Ai(I,R))return cl(i,s,g,0),tn===null&&ul(),!1}catch{}finally{}if(l=ia(i,s,g,f),l!==null)return or(l,i,f),V0(l,s,f),!0}return!1}function _p(i,s,l,f){if(f={lane:2,revertLane:Yp(),action:f,hasEagerState:!1,eagerState:null,next:null},Cf(i)){if(s)throw Error(r(479))}else s=ia(i,l,f,2),s!==null&&or(s,i,2)}function Cf(i){var s=i.alternate;return i===ft||s!==null&&s===ft}function k0(i,s){du=bf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function V0(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,wi(i,l)}}var Rf={readContext:di,use:Tf,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},U0={readContext:di,use:Tf,useCallback:function(i,s){return ki().memoizedState=[i,s===void 0?null:s],i},useContext:di,useEffect:b0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Af(4194308,4,S0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var l=ki();s=s===void 0?null:s;var f=i();if(_l){Ce(!0);try{i()}finally{Ce(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=ki();if(l!==void 0){var g=l(s);if(_l){Ce(!0);try{l(s)}finally{Ce(!1)}}}else g=s;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=kR.bind(null,ft,i),[f.memoizedState,i]},useRef:function(i){var s=ki();return i={current:i},s.memoizedState=i},useState:function(i){i=fp(i);var s=i.queue,l=L0.bind(null,ft,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:mp,useDeferredValue:function(i,s){var l=ki();return pp(l,i,s)},useTransition:function(){var i=fp(!1);return i=P0.bind(null,ft,i.queue,!0,!1),ki().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=ft,g=ki();if(rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),tn===null)throw Error(r(349));(St&124)!==0||s0(f,s,l)}g.memoizedState=l;var E={value:l,getSnapshot:s};return g.queue=E,b0(o0.bind(null,f,E,i),[i]),f.flags|=2048,pu(9,Sf(),a0.bind(null,f,E,l,s),null),l},useId:function(){var i=ki(),s=tn.identifierPrefix;if(rt){var l=$,f=P;l=(f&~(1<<32-He(f)-1)).toString(32)+l,s="«"+s+"R"+l,l=wf++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=PR++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:yp,useFormState:g0,useActionState:g0,useOptimistic:function(i){var s=ki();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=_p.bind(null,ft,!0,l),l.dispatch=s,[i,s]},useMemoCache:up,useCacheRefresh:function(){return ki().memoizedState=LR.bind(null,ft)}},z0={readContext:di,use:Tf,useCallback:C0,useContext:di,useEffect:w0,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:x0,useMemo:R0,useReducer:xf,useRef:E0,useState:function(){return xf(aa)},useDebugValue:mp,useDeferredValue:function(i,s){var l=Nn();return N0(l,jt.memoizedState,i,s)},useTransition:function(){var i=xf(aa)[0],s=Nn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:r0,useId:M0,useHostTransitionStatus:yp,useFormState:y0,useActionState:y0,useOptimistic:function(i,s){var l=Nn();return c0(l,jt,i,s)},useMemoCache:up,useCacheRefresh:D0},VR={readContext:di,use:Tf,useCallback:C0,useContext:di,useEffect:w0,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:x0,useMemo:R0,useReducer:hp,useRef:E0,useState:function(){return hp(aa)},useDebugValue:mp,useDeferredValue:function(i,s){var l=Nn();return jt===null?pp(l,i,s):N0(l,jt.memoizedState,i,s)},useTransition:function(){var i=hp(aa)[0],s=Nn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:r0,useId:M0,useHostTransitionStatus:yp,useFormState:v0,useActionState:v0,useOptimistic:function(i,s){var l=Nn();return jt!==null?c0(l,jt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:up,useCacheRefresh:D0},gu=null,Oc=0;function Nf(i){var s=Oc;return Oc+=1,gu===null&&(gu=[]),Yv(gu,i,s)}function Mc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Pf(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function B0(i){var s=i._init;return s(i._payload)}function j0(i){function s(J,Q){if(i){var re=J.deletions;re===null?(J.deletions=[Q],J.flags|=16):re.push(Q)}}function l(J,Q){if(!i)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function f(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function g(J,Q){return J=br(J,Q),J.index=0,J.sibling=null,J}function E(J,Q,re){return J.index=re,i?(re=J.alternate,re!==null?(re=re.index,re<Q?(J.flags|=67108866,Q):re):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function R(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function I(J,Q,re,we){return Q===null||Q.tag!==6?(Q=Ec(re,J.mode,we),Q.return=J,Q):(Q=g(Q,re),Q.return=J,Q)}function Z(J,Q,re,we){var Be=re.type;return Be===V?Ee(J,Q,re.props.children,we,re.key):Q!==null&&(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&B0(Be)===Q.type)?(Q=g(Q,re.props),Mc(Q,re),Q.return=J,Q):(Q=fl(re.type,re.key,re.props,null,J.mode,we),Mc(Q,re),Q.return=J,Q)}function se(J,Q,re,we){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=lu(re,J.mode,we),Q.return=J,Q):(Q=g(Q,re.children||[]),Q.return=J,Q)}function Ee(J,Q,re,we,Be){return Q===null||Q.tag!==7?(Q=Es(re,J.mode,we,Be),Q.return=J,Q):(Q=g(Q,re),Q.return=J,Q)}function xe(J,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ec(""+Q,J.mode,re),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return re=fl(Q.type,Q.key,Q.props,null,J.mode,re),Mc(re,Q),re.return=J,re;case O:return Q=lu(Q,J.mode,re),Q.return=J,Q;case N:var we=Q._init;return Q=we(Q._payload),xe(J,Q,re)}if(Ue(Q)||Y(Q))return Q=Es(Q,J.mode,re,null),Q.return=J,Q;if(typeof Q.then=="function")return xe(J,Nf(Q),re);if(Q.$$typeof===X)return xe(J,gf(J,Q),re);Pf(J,Q)}return null}function le(J,Q,re,we){var Be=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Be!==null?null:I(J,Q,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return re.key===Be?Z(J,Q,re,we):null;case O:return re.key===Be?se(J,Q,re,we):null;case N:return Be=re._init,re=Be(re._payload),le(J,Q,re,we)}if(Ue(re)||Y(re))return Be!==null?null:Ee(J,Q,re,we,null);if(typeof re.then=="function")return le(J,Q,Nf(re),we);if(re.$$typeof===X)return le(J,Q,gf(J,re),we);Pf(J,re)}return null}function ue(J,Q,re,we,Be){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return J=J.get(re)||null,I(Q,J,""+we,Be);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return J=J.get(we.key===null?re:we.key)||null,Z(Q,J,we,Be);case O:return J=J.get(we.key===null?re:we.key)||null,se(Q,J,we,Be);case N:var mt=we._init;return we=mt(we._payload),ue(J,Q,re,we,Be)}if(Ue(we)||Y(we))return J=J.get(re)||null,Ee(Q,J,we,Be,null);if(typeof we.then=="function")return ue(J,Q,re,Nf(we),Be);if(we.$$typeof===X)return ue(J,Q,re,gf(Q,we),Be);Pf(Q,we)}return null}function nt(J,Q,re,we){for(var Be=null,mt=null,qe=Q,Xe=Q=0,Wn=null;qe!==null&&Xe<re.length;Xe++){qe.index>Xe?(Wn=qe,qe=null):Wn=qe.sibling;var Nt=le(J,qe,re[Xe],we);if(Nt===null){qe===null&&(qe=Wn);break}i&&qe&&Nt.alternate===null&&s(J,qe),Q=E(Nt,Q,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt,qe=Wn}if(Xe===re.length)return l(J,qe),rt&&ne(J,Xe),Be;if(qe===null){for(;Xe<re.length;Xe++)qe=xe(J,re[Xe],we),qe!==null&&(Q=E(qe,Q,Xe),mt===null?Be=qe:mt.sibling=qe,mt=qe);return rt&&ne(J,Xe),Be}for(qe=f(qe);Xe<re.length;Xe++)Wn=ue(qe,J,Xe,re[Xe],we),Wn!==null&&(i&&Wn.alternate!==null&&qe.delete(Wn.key===null?Xe:Wn.key),Q=E(Wn,Q,Xe),mt===null?Be=Wn:mt.sibling=Wn,mt=Wn);return i&&qe.forEach(function(vo){return s(J,vo)}),rt&&ne(J,Xe),Be}function Ye(J,Q,re,we){if(re==null)throw Error(r(151));for(var Be=null,mt=null,qe=Q,Xe=Q=0,Wn=null,Nt=re.next();qe!==null&&!Nt.done;Xe++,Nt=re.next()){qe.index>Xe?(Wn=qe,qe=null):Wn=qe.sibling;var vo=le(J,qe,Nt.value,we);if(vo===null){qe===null&&(qe=Wn);break}i&&qe&&vo.alternate===null&&s(J,qe),Q=E(vo,Q,Xe),mt===null?Be=vo:mt.sibling=vo,mt=vo,qe=Wn}if(Nt.done)return l(J,qe),rt&&ne(J,Xe),Be;if(qe===null){for(;!Nt.done;Xe++,Nt=re.next())Nt=xe(J,Nt.value,we),Nt!==null&&(Q=E(Nt,Q,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt);return rt&&ne(J,Xe),Be}for(qe=f(qe);!Nt.done;Xe++,Nt=re.next())Nt=ue(qe,J,Xe,Nt.value,we),Nt!==null&&(i&&Nt.alternate!==null&&qe.delete(Nt.key===null?Xe:Nt.key),Q=E(Nt,Q,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt);return i&&qe.forEach(function(U2){return s(J,U2)}),rt&&ne(J,Xe),Be}function Ht(J,Q,re,we){if(typeof re=="object"&&re!==null&&re.type===V&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case A:e:{for(var Be=re.key;Q!==null;){if(Q.key===Be){if(Be=re.type,Be===V){if(Q.tag===7){l(J,Q.sibling),we=g(Q,re.props.children),we.return=J,J=we;break e}}else if(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&B0(Be)===Q.type){l(J,Q.sibling),we=g(Q,re.props),Mc(we,re),we.return=J,J=we;break e}l(J,Q);break}else s(J,Q);Q=Q.sibling}re.type===V?(we=Es(re.props.children,J.mode,we,re.key),we.return=J,J=we):(we=fl(re.type,re.key,re.props,null,J.mode,we),Mc(we,re),we.return=J,J=we)}return R(J);case O:e:{for(Be=re.key;Q!==null;){if(Q.key===Be)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){l(J,Q.sibling),we=g(Q,re.children||[]),we.return=J,J=we;break e}else{l(J,Q);break}else s(J,Q);Q=Q.sibling}we=lu(re,J.mode,we),we.return=J,J=we}return R(J);case N:return Be=re._init,re=Be(re._payload),Ht(J,Q,re,we)}if(Ue(re))return nt(J,Q,re,we);if(Y(re)){if(Be=Y(re),typeof Be!="function")throw Error(r(150));return re=Be.call(re),Ye(J,Q,re,we)}if(typeof re.then=="function")return Ht(J,Q,Nf(re),we);if(re.$$typeof===X)return Ht(J,Q,gf(J,re),we);Pf(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(l(J,Q.sibling),we=g(Q,re),we.return=J,J=we):(l(J,Q),we=Ec(re,J.mode,we),we.return=J,J=we),R(J)):l(J,Q)}return function(J,Q,re,we){try{Oc=0;var Be=Ht(J,Q,re,we);return gu=null,Be}catch(qe){if(qe===Tc||qe===_f)throw qe;var mt=Pi(29,qe,null,J.mode);return mt.lanes=we,mt.return=J,mt}finally{}}}var yu=j0(!0),F0=j0(!1),Tr=W(null),ws=null;function io(i){var s=i.alternate;oe(zn,zn.current&1),oe(Tr,i),ws===null&&(s===null||fu.current!==null||s.memoizedState!==null)&&(ws=i)}function H0(i){if(i.tag===22){if(oe(zn,zn.current),oe(Tr,i),ws===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ws=i)}}else ro()}function ro(){oe(zn,zn.current),oe(Tr,Tr.current)}function oa(i){me(Tr),ws===i&&(ws=null),me(zn)}var zn=W(0);function If(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||lg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vp(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:b({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ep={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=ar(),g=eo(f);g.payload=s,l!=null&&(g.callback=l),s=to(i,g,f),s!==null&&(or(s,i,f),Sc(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=ar(),g=eo(f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=to(i,g,f),s!==null&&(or(s,i,f),Sc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ar(),f=eo(l);f.tag=2,s!=null&&(f.callback=s),s=to(i,f,l),s!==null&&(or(s,i,l),Sc(s,i,l))}};function q0(i,s,l,f,g,E,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,E,R):s.prototype&&s.prototype.isPureReactComponent?!Ci(l,f)||!Ci(g,E):!0}function G0(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Ep.enqueueReplaceState(s,s.state,null)}function vl(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=b({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $0(i){Of(i)}function Z0(i){console.error(i)}function K0(i){Of(i)}function Mf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function W0(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function bp(i,s,l){return l=eo(l),l.tag=3,l.payload={element:null},l.callback=function(){Mf(i,s)},l}function Y0(i){return i=eo(i),i.tag=3,i}function X0(i,s,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var E=f.value;i.payload=function(){return g(E)},i.callback=function(){W0(s,l,f)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){W0(s,l,f),typeof g!="function"&&(co===null?co=new Set([this]):co.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function UR(i,s,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&pl(s,l,g,!0),l=Tr.current,l!==null){switch(l.tag){case 13:return ws===null?Gp():l.alternate===null&&yn===0&&(yn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Ym?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Zp(i,f,g)),!1;case 22:return l.flags|=65536,f===Ym?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Zp(i,f,g)),!1}throw Error(r(435,l.tag))}return Zp(i,f,g),Gp(),!1}if(rt)return s=Tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==$n&&(i=Error(r(422),{cause:f}),Qa(Ri(i,l)))):(f!==$n&&(s=Error(r(423),{cause:f}),Qa(Ri(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=Ri(f,l),g=bp(i.stateNode,f,g),Jm(i,g),yn!==4&&(yn=2)),!1;var E=Error(r(520),{cause:f});if(E=Ri(E,l),Bc===null?Bc=[E]:Bc.push(E),yn!==4&&(yn=2),s===null)return!0;f=Ri(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=bp(l.stateNode,f,i),Jm(l,i),!1;case 1:if(s=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(co===null||!co.has(E))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Y0(g),X0(g,i,l,f),Jm(l,g),!1}l=l.return}while(l!==null);return!1}var Q0=Error(r(461)),Zn=!1;function ei(i,s,l,f){s.child=i===null?F0(s,null,l,f):yu(s,i.child,l,f)}function J0(i,s,l,f,g){l=l.render;var E=s.ref;if("ref"in f){var R={};for(var I in f)I!=="ref"&&(R[I]=f[I])}else R=f;return gl(s),f=rp(i,s,l,R,E,g),I=sp(),i!==null&&!Zn?(ap(i,s,g),la(i,s,g)):(rt&&I&&Ae(s),s.flags|=1,ei(i,s,f,g),s.child)}function eE(i,s,l,f,g){if(i===null){var E=l.type;return typeof E=="function"&&!ou(E)&&E.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=E,tE(i,s,E,f,g)):(i=fl(l.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!Np(i,g)){var R=E.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(R,f)&&i.ref===s.ref)return la(i,s,g)}return s.flags|=1,i=br(E,f),i.ref=s.ref,i.return=s,s.child=i}function tE(i,s,l,f,g){if(i!==null){var E=i.memoizedProps;if(Ci(E,f)&&i.ref===s.ref)if(Zn=!1,s.pendingProps=f=E,Np(i,g))(i.flags&131072)!==0&&(Zn=!0);else return s.lanes=i.lanes,la(i,s,g)}return wp(i,s,l,f,g)}function nE(i,s,l){var f=s.pendingProps,g=f.children,E=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=E!==null?E.baseLanes|l:l,i!==null){for(g=s.child=i.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;s.childLanes=E&~f}else s.childLanes=0,s.child=null;return iE(i,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&yf(s,E!==null?E.cachePool:null),E!==null?t0(s,E):tp(),H0(s);else return s.lanes=s.childLanes=536870912,iE(i,s,E!==null?E.baseLanes|l:l,l)}else E!==null?(yf(s,E.cachePool),t0(s,E),ro(),s.memoizedState=null):(i!==null&&yf(s,null),tp(),ro());return ei(i,s,g,l),s.child}function iE(i,s,l,f){var g=Wm();return g=g===null?null:{parent:Un._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&yf(s,null),tp(),H0(s),i!==null&&pl(i,s,f,!0),null}function Df(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function wp(i,s,l,f,g){return gl(s),l=rp(i,s,l,f,void 0,g),f=sp(),i!==null&&!Zn?(ap(i,s,g),la(i,s,g)):(rt&&f&&Ae(s),s.flags|=1,ei(i,s,l,g),s.child)}function rE(i,s,l,f,g,E){return gl(s),s.updateQueue=null,l=i0(s,f,l,g),n0(i),f=sp(),i!==null&&!Zn?(ap(i,s,E),la(i,s,E)):(rt&&f&&Ae(s),s.flags|=1,ei(i,s,l,E),s.child)}function sE(i,s,l,f,g){if(gl(s),s.stateNode===null){var E=ra,R=l.contextType;typeof R=="object"&&R!==null&&(E=di(R)),E=new l(f,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ep,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=f,E.state=s.memoizedState,E.refs={},Xm(s),R=l.contextType,E.context=typeof R=="object"&&R!==null?di(R):ra,E.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(vp(s,l,R,f),E.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Ep.enqueueReplaceState(E,E.state,null),Cc(s,f,E,g),Ac(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){E=s.stateNode;var I=s.memoizedProps,Z=vl(l,I);E.props=Z;var se=E.context,Ee=l.contextType;R=ra,typeof Ee=="object"&&Ee!==null&&(R=di(Ee));var xe=l.getDerivedStateFromProps;Ee=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,Ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I||se!==R)&&G0(s,E,f,R),Ja=!1;var le=s.memoizedState;E.state=le,Cc(s,f,E,g),Ac(),se=s.memoizedState,I||le!==se||Ja?(typeof xe=="function"&&(vp(s,l,xe,f),se=s.memoizedState),(Z=Ja||q0(s,l,Z,f,le,se,R))?(Ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=se),E.props=f,E.state=se,E.context=R,f=Z):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,Qm(i,s),R=s.memoizedProps,Ee=vl(l,R),E.props=Ee,xe=s.pendingProps,le=E.context,se=l.contextType,Z=ra,typeof se=="object"&&se!==null&&(Z=di(se)),I=l.getDerivedStateFromProps,(se=typeof I=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==xe||le!==Z)&&G0(s,E,f,Z),Ja=!1,le=s.memoizedState,E.state=le,Cc(s,f,E,g),Ac();var ue=s.memoizedState;R!==xe||le!==ue||Ja||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof I=="function"&&(vp(s,l,I,f),ue=s.memoizedState),(Ee=Ja||q0(s,l,Ee,f,le,ue,Z)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ue,Z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ue,Z)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ue),E.props=f,E.state=ue,E.context=Z,f=Ee):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=1024),f=!1)}return E=f,Df(i,s),f=(s.flags&128)!==0,E||f?(E=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,i!==null&&f?(s.child=yu(s,i.child,null,g),s.child=yu(s,null,l,g)):ei(i,s,l,g),s.memoizedState=E.state,i=s.child):i=la(i,s,g),i}function aE(i,s,l,f){return Xa(),s.flags|=256,ei(i,s,l,f),s.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(i){return{baseLanes:i,cachePool:Zv()}}function Sp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=xr),i}function oE(i,s,l){var f=s.pendingProps,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=i!==null&&i.memoizedState===null?!1:(zn.current&2)!==0),R&&(g=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(g?io(s):ro(),rt){var I=je,Z;if(Z=I){e:{for(Z=I,I=cn;Z.nodeType!==8;){if(!I){I=null;break e}if(Z=Qr(Z.nextSibling),Z===null){I=null;break e}}I=Z}I!==null?(s.memoizedState={dehydrated:I,treeContext:S!==null?{id:P,overflow:$}:null,retryLane:536870912,hydrationErrors:null},Z=Pi(18,null,null,0),Z.stateNode=I,Z.return=s,s.child=Z,ze=s,je=null,Z=!0):Z=!1}Z||Li(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return lg(I)?s.lanes=32:s.lanes=536870912,null;oa(s)}return I=f.children,f=f.fallback,g?(ro(),g=s.mode,I=Lf({mode:"hidden",children:I},g),f=Es(f,g,l,null),I.return=s,f.return=s,I.sibling=f,s.child=I,g=s.child,g.memoizedState=xp(l),g.childLanes=Sp(i,R,l),s.memoizedState=Tp,f):(io(s),Ap(s,I))}if(Z=i.memoizedState,Z!==null&&(I=Z.dehydrated,I!==null)){if(E)s.flags&256?(io(s),s.flags&=-257,s=Cp(i,s,l)):s.memoizedState!==null?(ro(),s.child=i.child,s.flags|=128,s=null):(ro(),g=f.fallback,I=s.mode,f=Lf({mode:"visible",children:f.children},I),g=Es(g,I,l,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,yu(s,i.child,null,l),f=s.child,f.memoizedState=xp(l),f.childLanes=Sp(i,R,l),s.memoizedState=Tp,s=g);else if(io(s),lg(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var se=R.dgst;R=se,f=Error(r(419)),f.stack="",f.digest=R,Qa({value:f,source:null,stack:null}),s=Cp(i,s,l)}else if(Zn||pl(i,s,l,!1),R=(l&i.childLanes)!==0,Zn||R){if(R=tn,R!==null&&(f=l&-l,f=(f&42)!==0?1:Ti(f),f=(f&(R.suspendedLanes|l))!==0?0:f,f!==0&&f!==Z.retryLane))throw Z.retryLane=f,Wa(i,f),or(R,i,f),Q0;I.data==="$?"||Gp(),s=Cp(i,s,l)}else I.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=Z.treeContext,je=Qr(I.nextSibling),ze=s,rt=!0,en=null,cn=!1,i!==null&&(p[w++]=P,p[w++]=$,p[w++]=S,P=i.id,$=i.overflow,S=s),s=Ap(s,f.children),s.flags|=4096);return s}return g?(ro(),g=f.fallback,I=s.mode,Z=i.child,se=Z.sibling,f=br(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,se!==null?g=br(se,g):(g=Es(g,I,l,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,I=i.child.memoizedState,I===null?I=xp(l):(Z=I.cachePool,Z!==null?(se=Un._currentValue,Z=Z.parent!==se?{parent:se,pool:se}:Z):Z=Zv(),I={baseLanes:I.baseLanes|l,cachePool:Z}),g.memoizedState=I,g.childLanes=Sp(i,R,l),s.memoizedState=Tp,f):(io(s),l=i.child,i=l.sibling,l=br(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=l,s.memoizedState=null,l)}function Ap(i,s){return s=Lf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Lf(i,s){return i=Pi(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cp(i,s,l){return yu(s,i.child,null,l),i=Ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function lE(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),ml(i.return,s,l)}function Rp(i,s,l,f,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=l,E.tailMode=g)}function uE(i,s,l){var f=s.pendingProps,g=f.revealOrder,E=f.tail;if(ei(i,s,f.children,l),f=zn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lE(i,l,s);else if(i.tag===19)lE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(oe(zn,f),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&If(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Rp(s,!1,g,l,E);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&If(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Rp(s,!0,l,null,E);break;case"together":Rp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function la(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),uo|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(pl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=br(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=br(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function zR(i,s,l){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),bs(s,Un,i.memoizedState.cache),Xa();break;case 27:case 5:Gt(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:bs(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(io(s),s.flags|=128,null):(l&s.child.childLanes)!==0?oE(i,s,l):(io(s),i=la(i,s,l),i!==null?i.sibling:null);io(s);break;case 19:var g=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(pl(i,s,l,!1),f=(l&s.childLanes)!==0),g){if(f)return uE(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(zn,zn.current),f)break;return null;case 22:case 23:return s.lanes=0,nE(i,s,l);case 24:bs(s,Un,i.memoizedState.cache)}return la(i,s,l)}function cE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zn=!0;else{if(!Np(i,l)&&(s.flags&128)===0)return Zn=!1,zR(i,s,l);Zn=(i.flags&131072)!==0}else Zn=!1,rt&&(s.flags&1048576)!==0&&ce(s,c,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,g=f._init;if(f=g(f._payload),s.type=f,typeof f=="function")ou(f)?(i=vl(f,i),s.tag=1,s=sE(null,s,f,i,l)):(s.tag=0,s=wp(null,s,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===ve){s.tag=11,s=J0(null,s,f,i,l);break e}else if(g===U){s.tag=14,s=eE(null,s,f,i,l);break e}}throw s=Ze(f)||f,Error(r(306,s,""))}}return s;case 0:return wp(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,g=vl(f,s.pendingProps),sE(i,s,f,g,l);case 3:e:{if(Qe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var E=s.memoizedState;g=E.element,Qm(i,s),Cc(s,f,null,l);var R=s.memoizedState;if(f=R.cache,bs(s,Un,f),f!==E.cache&&uu(s,[Un],l,!0),Ac(),f=R.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=aE(i,s,f,l);break e}else if(f!==g){g=Ri(Error(r(424)),s),Qa(g),s=aE(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(je=Qr(i.firstChild),ze=s,rt=!0,en=null,cn=!0,l=F0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xa(),f===g){s=la(i,s,l);break e}ei(i,s,f,l)}s=s.child}return s;case 26:return Df(i,s),i===null?(l=mb(s.type,null,s.pendingProps,null))?s.memoizedState=l:rt||(l=s.type,i=s.pendingProps,f=Wf(Te.current).createElement(l),f[vn]=s,f[pn]=i,ni(f,l,i),un(f),s.stateNode=f):s.memoizedState=mb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Gt(s),i===null&&rt&&(f=s.stateNode=hb(s.type,s.pendingProps,Te.current),ze=s,cn=!0,g=je,mo(s.type)?(ug=g,je=Qr(f.firstChild)):je=g),ei(i,s,s.pendingProps.children,l),Df(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((g=f=je)&&(f=d2(f,s.type,s.pendingProps,cn),f!==null?(s.stateNode=f,ze=s,je=Qr(f.firstChild),cn=!1,g=!0):g=!1),g||Li(s)),Gt(s),g=s.type,E=s.pendingProps,R=i!==null?i.memoizedProps:null,f=E.children,sg(g,E)?f=null:R!==null&&sg(g,R)&&(s.flags|=32),s.memoizedState!==null&&(g=rp(i,s,IR,null,null,l),Wc._currentValue=g),Df(i,s),ei(i,s,f,l),s.child;case 6:return i===null&&rt&&((i=l=je)&&(l=m2(l,s.pendingProps,cn),l!==null?(s.stateNode=l,ze=s,je=null,i=!0):i=!1),i||Li(s)),null;case 13:return oE(i,s,l);case 4:return Qe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=yu(s,null,f,l):ei(i,s,f,l),s.child;case 11:return J0(i,s,s.type,s.pendingProps,l);case 7:return ei(i,s,s.pendingProps,l),s.child;case 8:return ei(i,s,s.pendingProps.children,l),s.child;case 12:return ei(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,bs(s,s.type,f.value),ei(i,s,f.children,l),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,gl(s),g=di(g),f=f(g),s.flags|=1,ei(i,s,f,l),s.child;case 14:return eE(i,s,s.type,s.pendingProps,l);case 15:return tE(i,s,s.type,s.pendingProps,l);case 19:return uE(i,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},i===null?(l=Lf(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=br(i.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return nE(i,s,l);case 24:return gl(s),f=di(Un),i===null?(g=Wm(),g===null&&(g=tn,E=Zm(),g.pooledCache=E,E.refCount++,E!==null&&(g.pooledCacheLanes|=l),g=E),s.memoizedState={parent:f,cache:g},Xm(s),bs(s,Un,g)):((i.lanes&l)!==0&&(Qm(i,s),Cc(s,null,null,l),Ac()),g=i.memoizedState,E=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bs(s,Un,f)):(f=E.cache,bs(s,Un,f),f!==g.cache&&uu(s,[Un],l,!0))),ei(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ua(i){i.flags|=4}function hE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vb(s)){if(s=Tr.current,s!==null&&((St&4194048)===St?ws!==null:(St&62914560)!==St&&(St&536870912)===0||s!==ws))throw xc=Ym,Kv;i.flags|=8192}}function kf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Tt():536870912,i.lanes|=s,bu|=s)}function Dc(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function hn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function BR(i,s,l){var f=s.pendingProps;switch(De(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Yr(Un),qt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dl(s)?ua(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mf())),hn(s),null;case 26:return l=s.memoizedState,i===null?(ua(s),l!==null?(hn(s),hE(s,l)):(hn(s),s.flags&=-16777217)):l?l!==i.memoizedState?(ua(s),hn(s),hE(s,l)):(hn(s),s.flags&=-16777217):(i.memoizedProps!==f&&ua(s),hn(s),s.flags&=-16777217),null;case 27:Pt(s),l=Te.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ua(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return hn(s),null}i=Ne.current,dl(s)?ff(s):(i=hb(g,f,l),s.stateNode=i,ua(s))}return hn(s),null;case 5:if(Pt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ua(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return hn(s),null}if(i=Ne.current,dl(s))ff(s);else{switch(g=Wf(Te.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[vn]=s,i[pn]=f;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(ni(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ua(s)}}return hn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&ua(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Te.current,dl(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,g=ze,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[vn]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||rb(i.nodeValue,l)),i||Li(s)}else i=Wf(i).createTextNode(f),i[vn]=s,s.stateNode=i}return hn(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=dl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[vn]=s}else Xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),g=!1}else g=mf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(oa(s),s):(oa(s),null)}if(oa(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var E=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==g&&(f.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),kf(s,s.updateQueue),hn(s),null;case 4:return qt(),i===null&&eg(s.stateNode.containerInfo),hn(s),null;case 10:return Yr(s.type),hn(s),null;case 19:if(me(zn),g=s.memoizedState,g===null)return hn(s),null;if(f=(s.flags&128)!==0,E=g.rendering,E===null)if(f)Dc(g,!1);else{if(yn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(E=If(i),E!==null){for(s.flags|=128,Dc(g,!1),i=E.updateQueue,s.updateQueue=i,kf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)vc(l,i),l=l.sibling;return oe(zn,zn.current&1|2),s.child}i=i.sibling}g.tail!==null&&jn()>zf&&(s.flags|=128,f=!0,Dc(g,!1),s.lanes=4194304)}else{if(!f)if(i=If(E),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,kf(s,i),Dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return hn(s),null}else 2*jn()-g.renderingStartTime>zf&&l!==536870912&&(s.flags|=128,f=!0,Dc(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(i=g.last,i!==null?i.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=jn(),s.sibling=null,i=zn.current,oe(zn,f?i&1|2:i&1),s):(hn(s),null);case 22:case 23:return oa(s),np(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),l=s.updateQueue,l!==null&&kf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&me(yl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Yr(Un),hn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jR(i,s){switch(De(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Yr(Un),qt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pt(s),null;case 13:if(oa(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return me(zn),null;case 4:return qt(),null;case 10:return Yr(s.type),null;case 22:case 23:return oa(s),np(),i!==null&&me(yl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Yr(Un),null;case 25:return null;default:return null}}function fE(i,s){switch(De(s),s.tag){case 3:Yr(Un),qt();break;case 26:case 27:case 5:Pt(s);break;case 4:qt();break;case 13:oa(s);break;case 19:me(zn);break;case 10:Yr(s.type);break;case 22:case 23:oa(s),np(),i!==null&&me(yl);break;case 24:Yr(Un)}}function Lc(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var E=l.create,R=l.inst;f=E(),R.destroy=f}l=l.next}while(l!==g)}}catch(I){Zt(s,s.return,I)}}function so(i,s,l){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var E=g.next;f=E;do{if((f.tag&i)===i){var R=f.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,g=s;var Z=l,se=I;try{se()}catch(Ee){Zt(g,Z,Ee)}}}f=f.next}while(f!==E)}}catch(Ee){Zt(s,s.return,Ee)}}function dE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{e0(s,l)}catch(f){Zt(i,i.return,f)}}}function mE(i,s,l){l.props=vl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Zt(i,s,f)}}function kc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){Zt(i,s,g)}}function Ts(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Zt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Zt(i,s,g)}else l.current=null}function pE(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Zt(i,i.return,g)}}function Pp(i,s,l){try{var f=i.stateNode;l2(f,i.type,l,s),f[pn]=s}catch(g){Zt(i,i.return,g)}}function gE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mo(i.type)||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Kf));else if(f!==4&&(f===27&&mo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,l),i=i.sibling;i!==null;)Op(i,s,l),i=i.sibling}function Vf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&mo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Vf(i,s,l),i=i.sibling;i!==null;)Vf(i,s,l),i=i.sibling}function yE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ni(s,f,l),s[vn]=i,s[pn]=l}catch(E){Zt(i,i.return,E)}}var ca=!1,wn=!1,Mp=!1,_E=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function FR(i,s){if(i=i.containerInfo,ig=td,i=al(i),ol(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var R=0,I=-1,Z=-1,se=0,Ee=0,xe=i,le=null;t:for(;;){for(var ue;xe!==l||g!==0&&xe.nodeType!==3||(I=R+g),xe!==E||f!==0&&xe.nodeType!==3||(Z=R+f),xe.nodeType===3&&(R+=xe.nodeValue.length),(ue=xe.firstChild)!==null;)le=xe,xe=ue;for(;;){if(xe===i)break t;if(le===l&&++se===g&&(I=R),le===E&&++Ee===f&&(Z=R),(ue=xe.nextSibling)!==null)break;xe=le,le=xe.parentNode}xe=ue}l=I===-1||Z===-1?null:{start:I,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(rg={focusedElem:i,selectionRange:l},td=!1,Kn=s;Kn!==null;)if(s=Kn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Kn=i;else for(;Kn!==null;){switch(s=Kn,E=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,l=s,g=E.memoizedProps,E=E.memoizedState,f=l.stateNode;try{var nt=vl(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(nt,E),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ye){Zt(l,l.return,Ye)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)og(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kn=i;break}Kn=s.return}}function vE(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ao(i,l),f&4&&Lc(5,l);break;case 1:if(ao(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(R){Zt(l,l.return,R)}else{var g=vl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Zt(l,l.return,R)}}f&64&&dE(l),f&512&&kc(l,l.return);break;case 3:if(ao(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{e0(i,s)}catch(R){Zt(l,l.return,R)}}break;case 27:s===null&&f&4&&yE(l);case 26:case 5:ao(i,l),s===null&&f&4&&pE(l),f&512&&kc(l,l.return);break;case 12:ao(i,l);break;case 13:ao(i,l),f&4&&wE(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=XR.bind(null,l),p2(i,l))));break;case 22:if(f=l.memoizedState!==null||ca,!f){s=s!==null&&s.memoizedState!==null||wn,g=ca;var E=wn;ca=f,(wn=s)&&!E?oo(i,l,(l.subtreeFlags&8772)!==0):ao(i,l),ca=g,wn=E}break;case 30:break;default:ao(i,l)}}function EE(i){var s=i.alternate;s!==null&&(i.alternate=null,EE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ur(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var on=null,Vi=!1;function ha(i,s,l){for(l=l.child;l!==null;)bE(i,s,l),l=l.sibling}function bE(i,s,l){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(ee,l)}catch{}switch(l.tag){case 26:wn||Ts(l,s),ha(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wn||Ts(l,s);var f=on,g=Vi;mo(l.type)&&(on=l.stateNode,Vi=!1),ha(i,s,l),Gc(l.stateNode),on=f,Vi=g;break;case 5:wn||Ts(l,s);case 6:if(f=on,g=Vi,on=null,ha(i,s,l),on=f,Vi=g,on!==null)if(Vi)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(l.stateNode)}catch(E){Zt(l,s,E)}else try{on.removeChild(l.stateNode)}catch(E){Zt(l,s,E)}break;case 18:on!==null&&(Vi?(i=on,ub(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Jc(i)):ub(on,l.stateNode));break;case 4:f=on,g=Vi,on=l.stateNode.containerInfo,Vi=!0,ha(i,s,l),on=f,Vi=g;break;case 0:case 11:case 14:case 15:wn||so(2,l,s),wn||so(4,l,s),ha(i,s,l);break;case 1:wn||(Ts(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&mE(l,s,f)),ha(i,s,l);break;case 21:ha(i,s,l);break;case 22:wn=(f=wn)||l.memoizedState!==null,ha(i,s,l),wn=f;break;default:ha(i,s,l)}}function wE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jc(i)}catch(l){Zt(s,s.return,l)}}function HR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new _E),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new _E),s;default:throw Error(r(435,i.tag))}}function Dp(i,s){var l=HR(i);s.forEach(function(f){var g=QR.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function ir(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],E=i,R=s,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(mo(I.type)){on=I.stateNode,Vi=!1;break e}break;case 5:on=I.stateNode,Vi=!1;break e;case 3:case 4:on=I.stateNode.containerInfo,Vi=!0;break e}I=I.return}if(on===null)throw Error(r(160));bE(E,R,g),on=null,Vi=!1,E=g.alternate,E!==null&&(E.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)TE(s,i),s=s.sibling}var Xr=null;function TE(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ir(s,i),rr(i),f&4&&(so(3,i,i.return),Lc(3,i),so(5,i,i.return));break;case 1:ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),f&64&&ca&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Xr;if(ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),f&4){var E=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":E=g.getElementsByTagName("title")[0],(!E||E[cs]||E[vn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=g.createElement(f),g.head.insertBefore(E,g.querySelector("head > title"))),ni(E,f,l),E[vn]=i,un(E),f=E;break e;case"link":var R=yb("link","href",g).get(f+(l.href||""));if(R){for(var I=0;I<R.length;I++)if(E=R[I],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(I,1);break t}}E=g.createElement(f),ni(E,f,l),g.head.appendChild(E);break;case"meta":if(R=yb("meta","content",g).get(f+(l.content||""))){for(I=0;I<R.length;I++)if(E=R[I],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(I,1);break t}}E=g.createElement(f),ni(E,f,l),g.head.appendChild(E);break;default:throw Error(r(468,f))}E[vn]=i,un(E),f=E}i.stateNode=f}else _b(g,i.type,i.stateNode);else i.stateNode=gb(g,f,i.memoizedProps);else E!==f?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,f===null?_b(g,i.type,i.stateNode):gb(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Pp(i,i.memoizedProps,l.memoizedProps)}break;case 27:ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),l!==null&&f&4&&Pp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),i.flags&32){g=i.stateNode;try{Hn(g,"")}catch(ue){Zt(i,i.return,ue)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,Pp(i,g,l!==null?l.memoizedProps:g)),f&1024&&(Mp=!0);break;case 6:if(ir(s,i),rr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(ue){Zt(i,i.return,ue)}}break;case 3:if(Qf=null,g=Xr,Xr=Yf(s.containerInfo),ir(s,i),Xr=g,rr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Jc(s.containerInfo)}catch(ue){Zt(i,i.return,ue)}Mp&&(Mp=!1,xE(i));break;case 4:f=Xr,Xr=Yf(i.stateNode.containerInfo),ir(s,i),rr(i),Xr=f;break;case 12:ir(s,i),rr(i);break;case 13:ir(s,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bp=jn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dp(i,f)));break;case 22:g=i.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,se=ca,Ee=wn;if(ca=se||g,wn=Ee||Z,ir(s,i),wn=Ee,ca=se,rr(i),f&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||Z||ca||wn||El(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){Z=l=s;try{if(E=Z.stateNode,g)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=Z.stateNode;var xe=Z.memoizedProps.style,le=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Zt(Z,Z.return,ue)}}}else if(s.tag===6){if(l===null){Z=s;try{Z.stateNode.nodeValue=g?"":Z.memoizedProps}catch(ue){Zt(Z,Z.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Dp(i,l))));break;case 19:ir(s,i),rr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dp(i,f)));break;case 30:break;case 21:break;default:ir(s,i),rr(i)}}function rr(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(gE(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,E=Ip(i);Vf(i,E,g);break;case 5:var R=l.stateNode;l.flags&32&&(Hn(R,""),l.flags&=-33);var I=Ip(i);Vf(i,I,R);break;case 3:case 4:var Z=l.stateNode.containerInfo,se=Ip(i);Op(i,se,Z);break;default:throw Error(r(161))}}catch(Ee){Zt(i,i.return,Ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;xE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ao(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vE(i,s.alternate,s),s=s.sibling}function El(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:so(4,s,s.return),El(s);break;case 1:Ts(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&mE(s,s.return,l),El(s);break;case 27:Gc(s.stateNode);case 26:case 5:Ts(s,s.return),El(s);break;case 22:s.memoizedState===null&&El(s);break;case 30:El(s);break;default:El(s)}i=i.sibling}}function oo(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=i,E=s,R=E.flags;switch(E.tag){case 0:case 11:case 15:oo(g,E,l),Lc(4,E);break;case 1:if(oo(g,E,l),f=E,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){Zt(f,f.return,se)}if(f=E,g=f.updateQueue,g!==null){var I=f.stateNode;try{var Z=g.shared.hiddenCallbacks;if(Z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Z.length;g++)Jv(Z[g],I)}catch(se){Zt(f,f.return,se)}}l&&R&64&&dE(E),kc(E,E.return);break;case 27:yE(E);case 26:case 5:oo(g,E,l),l&&f===null&&R&4&&pE(E),kc(E,E.return);break;case 12:oo(g,E,l);break;case 13:oo(g,E,l),l&&R&4&&wE(g,E);break;case 22:E.memoizedState===null&&oo(g,E,l),kc(E,E.return);break;case 30:break;default:oo(g,E,l)}s=s.sibling}}function Lp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bc(l))}function kp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i))}function xs(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)SE(i,s,l,f),s=s.sibling}function SE(i,s,l,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:xs(i,s,l,f),g&2048&&Lc(9,s);break;case 1:xs(i,s,l,f);break;case 3:xs(i,s,l,f),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i)));break;case 12:if(g&2048){xs(i,s,l,f),i=s.stateNode;try{var E=s.memoizedProps,R=E.id,I=E.onPostCommit;typeof I=="function"&&I(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){Zt(s,s.return,Z)}}else xs(i,s,l,f);break;case 13:xs(i,s,l,f);break;case 23:break;case 22:E=s.stateNode,R=s.alternate,s.memoizedState!==null?E._visibility&2?xs(i,s,l,f):Vc(i,s):E._visibility&2?xs(i,s,l,f):(E._visibility|=2,_u(i,s,l,f,(s.subtreeFlags&10256)!==0)),g&2048&&Lp(R,s);break;case 24:xs(i,s,l,f),g&2048&&kp(s.alternate,s);break;default:xs(i,s,l,f)}}function _u(i,s,l,f,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var E=i,R=s,I=l,Z=f,se=R.flags;switch(R.tag){case 0:case 11:case 15:_u(E,R,I,Z,g),Lc(8,R);break;case 23:break;case 22:var Ee=R.stateNode;R.memoizedState!==null?Ee._visibility&2?_u(E,R,I,Z,g):Vc(E,R):(Ee._visibility|=2,_u(E,R,I,Z,g)),g&&se&2048&&Lp(R.alternate,R);break;case 24:_u(E,R,I,Z,g),g&&se&2048&&kp(R.alternate,R);break;default:_u(E,R,I,Z,g)}s=s.sibling}}function Vc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,g=f.flags;switch(f.tag){case 22:Vc(l,f),g&2048&&Lp(f.alternate,f);break;case 24:Vc(l,f),g&2048&&kp(f.alternate,f);break;default:Vc(l,f)}s=s.sibling}}var Uc=8192;function vu(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)AE(i),i=i.sibling}function AE(i){switch(i.tag){case 26:vu(i),i.flags&Uc&&i.memoizedState!==null&&R2(Xr,i.memoizedState,i.memoizedProps);break;case 5:vu(i);break;case 3:case 4:var s=Xr;Xr=Yf(i.stateNode.containerInfo),vu(i),Xr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uc,Uc=16777216,vu(i),Uc=s):vu(i));break;default:vu(i)}}function CE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Kn=f,NE(f,i)}CE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)RE(i),i=i.sibling}function RE(i){switch(i.tag){case 0:case 11:case 15:zc(i),i.flags&2048&&so(9,i,i.return);break;case 3:zc(i);break;case 12:zc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uf(i)):zc(i);break;default:zc(i)}}function Uf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Kn=f,NE(f,i)}CE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:so(8,s,s.return),Uf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uf(s));break;default:Uf(s)}i=i.sibling}}function NE(i,s){for(;Kn!==null;){var l=Kn;switch(l.tag){case 0:case 11:case 15:so(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:bc(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Kn=f;else e:for(l=i;Kn!==null;){f=Kn;var g=f.sibling,E=f.return;if(EE(f),f===l){Kn=null;break e}if(g!==null){g.return=E,Kn=g;break e}Kn=E}}}var qR={getCacheForType:function(i){var s=di(Un),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},GR=typeof WeakMap=="function"?WeakMap:Map,Ut=0,tn=null,pt=null,St=0,zt=0,sr=null,lo=!1,Eu=!1,Vp=!1,fa=0,yn=0,uo=0,bl=0,Up=0,xr=0,bu=0,Bc=null,Ui=null,zp=!1,Bp=0,zf=1/0,Bf=null,co=null,ti=0,ho=null,wu=null,Tu=0,jp=0,Fp=null,PE=null,jc=0,Hp=null;function ar(){if((Ut&2)!==0&&St!==0)return St&-St;if(ie.T!==null){var i=cu;return i!==0?i:Yp()}return Hi()}function IE(){xr===0&&(xr=(St&536870912)===0||rt?Ot():536870912);var i=Tr.current;return i!==null&&(i.flags|=32),xr}function or(i,s,l){(i===tn&&(zt===2||zt===9)||i.cancelPendingCommit!==null)&&(xu(i,0),fo(i,St,xr,!1)),Ct(i,l),((Ut&2)===0||i!==tn)&&(i===tn&&((Ut&2)===0&&(bl|=l),yn===4&&fo(i,St,xr,!1)),Ss(i))}function OE(i,s,l){if((Ut&6)!==0)throw Error(r(327));var f=!l&&(s&124)===0&&(s&i.expiredLanes)===0||We(i,s),g=f?KR(i,s):$p(i,s,!0),E=f;do{if(g===0){Eu&&!f&&fo(i,s,0,!1);break}else{if(l=i.current.alternate,E&&!$R(l)){g=$p(i,s,!1),E=!1;continue}if(g===2){if(E=s,i.errorRecoveryDisabledLanes&E)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var I=i;g=Bc;var Z=I.current.memoizedState.isDehydrated;if(Z&&(xu(I,R).flags|=256),R=$p(I,R,!1),R!==2){if(Vp&&!Z){I.errorRecoveryDisabledLanes|=E,bl|=E,g=4;break e}E=Ui,Ui=g,E!==null&&(Ui===null?Ui=E:Ui.push.apply(Ui,E))}g=R}if(E=!1,g!==2)continue}}if(g===1){xu(i,0),fo(i,s,0,!0);break}e:{switch(f=i,E=g,E){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fo(f,s,xr,!lo);break e;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Bp+300-jn(),10<g)){if(fo(f,s,xr,!lo),Le(f,0,!0)!==0)break e;f.timeoutHandle=ob(ME.bind(null,f,l,Ui,Bf,zp,s,xr,bl,bu,lo,E,2,-0,0),g);break e}ME(f,l,Ui,Bf,zp,s,xr,bl,bu,lo,E,0,-0,0)}}break}while(!0);Ss(i)}function ME(i,s,l,f,g,E,R,I,Z,se,Ee,xe,le,ue){if(i.timeoutHandle=-1,xe=s.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:C2},AE(s),xe=N2(),xe!==null)){i.cancelPendingCommit=xe(BE.bind(null,i,s,E,l,f,g,R,I,Z,Ee,1,le,ue)),fo(i,E,R,!se);return}BE(i,s,E,l,f,g,R,I,Z)}function $R(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],E=g.getSnapshot;g=g.value;try{if(!Ai(E(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fo(i,s,l,f){s&=~Up,s&=~bl,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var g=s;0<g;){var E=31-He(g),R=1<<E;f[E]=-1,g&=~R}l!==0&&Ln(i,l,s)}function jf(){return(Ut&6)===0?(Fc(0),!1):!0}function qp(){if(pt!==null){if(zt===0)var i=pt.return;else i=pt,Wr=wr=null,op(i),gu=null,Oc=0,i=pt;for(;i!==null;)fE(i.alternate,i),i=i.return;pt=null}}function xu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,c2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),qp(),tn=i,pt=l=br(i.current,null),St=s,zt=0,sr=null,lo=!1,Eu=We(i,s),Vp=!1,bu=xr=Up=bl=uo=yn=0,Ui=Bc=null,zp=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var g=31-He(f),E=1<<g;s|=i[g],f&=~E}return fa=s,ul(),l}function DE(i,s){ft=null,ie.H=Rf,s===Tc||s===_f?(s=Xv(),zt=3):s===Kv?(s=Xv(),zt=4):zt=s===Q0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,pt===null&&(yn=1,Mf(i,Ri(s,i.current)))}function LE(){var i=ie.H;return ie.H=Rf,i===null?Rf:i}function kE(){var i=ie.A;return ie.A=qR,i}function Gp(){yn=4,lo||(St&4194048)!==St&&Tr.current!==null||(Eu=!0),(uo&134217727)===0&&(bl&134217727)===0||tn===null||fo(tn,St,xr,!1)}function $p(i,s,l){var f=Ut;Ut|=2;var g=LE(),E=kE();(tn!==i||St!==s)&&(Bf=null,xu(i,s)),s=!1;var R=yn;e:do try{if(zt!==0&&pt!==null){var I=pt,Z=sr;switch(zt){case 8:qp(),R=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(s=!0);var se=zt;if(zt=0,sr=null,Su(i,I,Z,se),l&&Eu){R=0;break e}break;default:se=zt,zt=0,sr=null,Su(i,I,Z,se)}}ZR(),R=yn;break}catch(Ee){DE(i,Ee)}while(!0);return s&&i.shellSuspendCounter++,Wr=wr=null,Ut=f,ie.H=g,ie.A=E,pt===null&&(tn=null,St=0,ul()),R}function ZR(){for(;pt!==null;)VE(pt)}function KR(i,s){var l=Ut;Ut|=2;var f=LE(),g=kE();tn!==i||St!==s?(Bf=null,zf=jn()+500,xu(i,s)):Eu=We(i,s);e:do try{if(zt!==0&&pt!==null){s=pt;var E=sr;t:switch(zt){case 1:zt=0,sr=null,Su(i,s,E,1);break;case 2:case 9:if(Wv(E)){zt=0,sr=null,UE(s);break}s=function(){zt!==2&&zt!==9||tn!==i||(zt=7),Ss(i)},E.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Wv(E)?(zt=0,sr=null,UE(s)):(zt=0,sr=null,Su(i,s,E,7));break;case 5:var R=null;switch(pt.tag){case 26:R=pt.memoizedState;case 5:case 27:var I=pt;if(!R||vb(R)){zt=0,sr=null;var Z=I.sibling;if(Z!==null)pt=Z;else{var se=I.return;se!==null?(pt=se,Ff(se)):pt=null}break t}}zt=0,sr=null,Su(i,s,E,5);break;case 6:zt=0,sr=null,Su(i,s,E,6);break;case 8:qp(),yn=6;break e;default:throw Error(r(462))}}WR();break}catch(Ee){DE(i,Ee)}while(!0);return Wr=wr=null,ie.H=f,ie.A=g,Ut=l,pt!==null?0:(tn=null,St=0,ul(),yn)}function WR(){for(;pt!==null&&!Dr();)VE(pt)}function VE(i){var s=cE(i.alternate,i,fa);i.memoizedProps=i.pendingProps,s===null?Ff(i):pt=s}function UE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=rE(l,s,s.pendingProps,s.type,void 0,St);break;case 11:s=rE(l,s,s.pendingProps,s.type.render,s.ref,St);break;case 5:op(s);default:fE(l,s),s=pt=vc(s,fa),s=cE(l,s,fa)}i.memoizedProps=i.pendingProps,s===null?Ff(i):pt=s}function Su(i,s,l,f){Wr=wr=null,op(s),gu=null,Oc=0;var g=s.return;try{if(UR(i,g,s,l,St)){yn=1,Mf(i,Ri(l,i.current)),pt=null;return}}catch(E){if(g!==null)throw pt=g,E;yn=1,Mf(i,Ri(l,i.current)),pt=null;return}s.flags&32768?(rt||f===1?i=!0:Eu||(St&536870912)!==0?i=!1:(lo=i=!0,(f===2||f===9||f===3||f===6)&&(f=Tr.current,f!==null&&f.tag===13&&(f.flags|=16384))),zE(s,i)):Ff(s)}function Ff(i){var s=i;do{if((s.flags&32768)!==0){zE(s,lo);return}i=s.return;var l=BR(s.alternate,s,fa);if(l!==null){pt=l;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=i}while(s!==null);yn===0&&(yn=5)}function zE(i,s){do{var l=jR(i.alternate,i);if(l!==null){l.flags&=32767,pt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){pt=i;return}pt=i=l}while(i!==null);yn=6,pt=null}function BE(i,s,l,f,g,E,R,I,Z){i.cancelPendingCommit=null;do Hf();while(ti!==0);if((Ut&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(E=s.lanes|s.childLanes,E|=nr,sn(i,l,E,R,I,Z),i===tn&&(pt=tn=null,St=0),wu=s,ho=i,Tu=l,jp=E,Fp=g,PE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JR(bi,function(){return GE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,g=ge.p,ge.p=2,R=Ut,Ut|=4;try{FR(i,s,l)}finally{Ut=R,ge.p=g,ie.T=f}}ti=1,jE(),FE(),HE()}}function jE(){if(ti===1){ti=0;var i=ho,s=wu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ie.T,ie.T=null;var f=ge.p;ge.p=2;var g=Ut;Ut|=4;try{TE(s,i);var E=rg,R=al(i.containerInfo),I=E.focusedElem,Z=E.selectionRange;if(R!==I&&I&&I.ownerDocument&&nu(I.ownerDocument.documentElement,I)){if(Z!==null&&ol(I)){var se=Z.start,Ee=Z.end;if(Ee===void 0&&(Ee=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(Ee,I.value.length);else{var xe=I.ownerDocument||document,le=xe&&xe.defaultView||window;if(le.getSelection){var ue=le.getSelection(),nt=I.textContent.length,Ye=Math.min(Z.start,nt),Ht=Z.end===void 0?Ye:Math.min(Z.end,nt);!ue.extend&&Ye>Ht&&(R=Ht,Ht=Ye,Ye=R);var J=yc(I,Ye),Q=yc(I,Ht);if(J&&Q&&(ue.rangeCount!==1||ue.anchorNode!==J.node||ue.anchorOffset!==J.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var re=xe.createRange();re.setStart(J.node,J.offset),ue.removeAllRanges(),Ye>Ht?(ue.addRange(re),ue.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),ue.addRange(re))}}}}for(xe=[],ue=I;ue=ue.parentNode;)ue.nodeType===1&&xe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<xe.length;I++){var we=xe[I];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}td=!!ig,rg=ig=null}finally{Ut=g,ge.p=f,ie.T=l}}i.current=s,ti=2}}function FE(){if(ti===2){ti=0;var i=ho,s=wu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ie.T,ie.T=null;var f=ge.p;ge.p=2;var g=Ut;Ut|=4;try{vE(i,s.alternate,s)}finally{Ut=g,ge.p=f,ie.T=l}}ti=3}}function HE(){if(ti===4||ti===3){ti=0,us();var i=ho,s=wu,l=Tu,f=PE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ti=5:(ti=0,wu=ho=null,qE(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(co=null),kr(l),s=s.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(ee,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=ie.T,g=ge.p,ge.p=2,ie.T=null;try{for(var E=i.onRecoverableError,R=0;R<f.length;R++){var I=f[R];E(I.value,{componentStack:I.stack})}}finally{ie.T=s,ge.p=g}}(Tu&3)!==0&&Hf(),Ss(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Hp?jc++:(jc=0,Hp=i):jc=0,Fc(0)}}function qE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bc(s)))}function Hf(i){return jE(),FE(),HE(),GE()}function GE(){if(ti!==5)return!1;var i=ho,s=jp;jp=0;var l=kr(Tu),f=ie.T,g=ge.p;try{ge.p=32>l?32:l,ie.T=null,l=Fp,Fp=null;var E=ho,R=Tu;if(ti=0,wu=ho=null,Tu=0,(Ut&6)!==0)throw Error(r(331));var I=Ut;if(Ut|=4,RE(E.current),SE(E,E.current,R,l),Ut=I,Fc(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(ee,E)}catch{}return!0}finally{ge.p=g,ie.T=f,qE(i,s)}}function $E(i,s,l){s=Ri(l,s),s=bp(i.stateNode,s,2),i=to(i,s,2),i!==null&&(Ct(i,2),Ss(i))}function Zt(i,s,l){if(i.tag===3)$E(i,i,l);else for(;s!==null;){if(s.tag===3){$E(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){i=Ri(l,i),l=Y0(2),f=to(s,l,2),f!==null&&(X0(l,f,s,i),Ct(f,2),Ss(f));break}}s=s.return}}function Zp(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new GR;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(Vp=!0,g.add(l),i=YR.bind(null,i,s,l),s.then(i,i))}function YR(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,tn===i&&(St&l)===l&&(yn===4||yn===3&&(St&62914560)===St&&300>jn()-Bp?(Ut&2)===0&&xu(i,0):Up|=l,bu===St&&(bu=0)),Ss(i)}function ZE(i,s){s===0&&(s=Tt()),i=Wa(i,s),i!==null&&(Ct(i,s),Ss(i))}function XR(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),ZE(i,l)}function QR(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),ZE(i,l)}function JR(i,s){return Yt(i,s)}var qf=null,Au=null,Kp=!1,Gf=!1,Wp=!1,wl=0;function Ss(i){i!==Au&&i.next===null&&(Au===null?qf=Au=i:Au=Au.next=i),Gf=!0,Kp||(Kp=!0,t2())}function Fc(i,s){if(!Wp&&Gf){Wp=!0;do for(var l=!1,f=qf;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var E=0;else{var R=f.suspendedLanes,I=f.pingedLanes;E=(1<<31-He(42|i)+1)-1,E&=g&~(R&~I),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,XE(f,E))}else E=St,E=Le(f,f===tn?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||We(f,E)||(l=!0,XE(f,E));f=f.next}while(l);Wp=!1}}function e2(){KE()}function KE(){Gf=Kp=!1;var i=0;wl!==0&&(u2()&&(i=wl),wl=0);for(var s=jn(),l=null,f=qf;f!==null;){var g=f.next,E=WE(f,s);E===0?(f.next=null,l===null?qf=g:l.next=g,g===null&&(Au=l)):(l=f,(i!==0||(E&3)!==0)&&(Gf=!0)),f=g}Fc(i)}function WE(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var R=31-He(E),I=1<<R,Z=g[R];Z===-1?((I&l)===0||(I&f)!==0)&&(g[R]=It(I,s)):Z<=s&&(i.expiredLanes|=I),E&=~I}if(s=tn,l=St,l=Le(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(zt===2||zt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Mr(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||We(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&Mr(f),kr(l)){case 2:case 8:l=ur;break;case 32:l=bi;break;case 268435456:l=Fi;break;default:l=bi}return f=YE.bind(null,i),l=Yt(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&Mr(f),i.callbackPriority=2,i.callbackNode=null,2}function YE(i,s){if(ti!==0&&ti!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Hf()&&i.callbackNode!==l)return null;var f=St;return f=Le(i,i===tn?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(OE(i,f,s),WE(i,jn()),i.callbackNode!=null&&i.callbackNode===l?YE.bind(null,i):null)}function XE(i,s){if(Hf())return null;OE(i,s,!0)}function t2(){h2(function(){(Ut&6)!==0?Yt(Hs,e2):KE()})}function Yp(){return wl===0&&(wl=Ot()),wl}function QE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ps(""+i)}function JE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function n2(i,s,l,f,g){if(s==="submit"&&l&&l.stateNode===g){var E=QE((g[pn]||null).action),R=f.submitter;R&&(s=(s=R[pn]||null)?QE(s.formAction):R.getAttribute("formAction"),s!==null&&(E=s,R=null));var I=new Ys("action","action",null,f,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(wl!==0){var Z=R?JE(g,R):new FormData(g);gp(l,{pending:!0,data:Z,method:g.method,action:E},null,Z)}}else typeof E=="function"&&(I.preventDefault(),Z=R?JE(g,R):new FormData(g),gp(l,{pending:!0,data:Z,method:g.method,action:E},E,Z))},currentTarget:g}]})}}for(var Xp=0;Xp<ta.length;Xp++){var Qp=ta[Xp],i2=Qp.toLowerCase(),r2=Qp[0].toUpperCase()+Qp.slice(1);tr(i2,"on"+r2)}tr(uf,"onAnimationEnd"),tr(er,"onAnimationIteration"),tr(ll,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(Gm,"onTransitionRun"),tr(au,"onTransitionStart"),tr($m,"onTransitionCancel"),tr(_c,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function eb(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var E=void 0;if(s)for(var R=f.length-1;0<=R;R--){var I=f[R],Z=I.instance,se=I.currentTarget;if(I=I.listener,Z!==E&&g.isPropagationStopped())break e;E=I,g.currentTarget=se;try{E(g)}catch(Ee){Of(Ee)}g.currentTarget=null,E=Z}else for(R=0;R<f.length;R++){if(I=f[R],Z=I.instance,se=I.currentTarget,I=I.listener,Z!==E&&g.isPropagationStopped())break e;E=I,g.currentTarget=se;try{E(g)}catch(Ee){Of(Ee)}g.currentTarget=null,E=Z}}}}function gt(i,s){var l=s[li];l===void 0&&(l=s[li]=new Set);var f=i+"__bubble";l.has(f)||(tb(s,i,2,!1),l.add(f))}function Jp(i,s,l){var f=0;s&&(f|=4),tb(l,i,f,s)}var $f="_reactListening"+Math.random().toString(36).slice(2);function eg(i){if(!i[$f]){i[$f]=!0,Yo.forEach(function(l){l!=="selectionchange"&&(s2.has(l)||Jp(l,!1,i),Jp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[$f]||(s[$f]=!0,Jp("selectionchange",!1,s))}}function tb(i,s,l,f){switch(Sb(s)){case 2:var g=O2;break;case 8:g=M2;break;default:g=mg}l=g.bind(null,s,l,i),g=void 0,!ui||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function tg(i,s,l,f,g){var E=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var I=f.stateNode.containerInfo;if(I===g)break;if(R===4)for(R=f.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;I!==null;){if(R=qi(I),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){f=E=R;continue e}I=I.parentNode}}f=f.return}Si(function(){var se=E,Ee=Jn(l),xe=[];e:{var le=cf.get(i);if(le!==void 0){var ue=Ys,nt=i;switch(i){case"keypress":if(Bt(l)===0)break e;case"keydown":case"keyup":ue=Ba;break;case"focusin":nt="focus",ue=La;break;case"focusout":nt="blur",ue=La;break;case"beforeblur":case"afterblur":ue=La;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Ql;break;case uf:case er:case ll:ue=Va;break;case _c:ue=Jl;break;case"scroll":case"scrollend":ue=Yl;break;case"wheel":ue=Js;break;case"copy":case"cut":case"paste":ue=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=ja;break;case"toggle":case"beforetoggle":ue=yr}var Ye=(s&4)!==0,Ht=!Ye&&(i==="scroll"||i==="scrollend"),J=Ye?le!==null?le+"Capture":null:le;Ye=[];for(var Q=se,re;Q!==null;){var we=Q;if(re=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||re===null||J===null||(we=xt(Q,J),we!=null&&Ye.push(qc(Q,we,re))),Ht)break;Q=Q.return}0<Ye.length&&(le=new ue(le,nt,null,l,Ee),xe.push({event:le,listeners:Ye}))}}if((s&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",le&&l!==Wi&&(nt=l.relatedTarget||l.fromElement)&&(qi(nt)||nt[Oi]))break e;if((ue||le)&&(le=Ee.window===Ee?Ee:(le=Ee.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(nt=l.relatedTarget||l.toElement,ue=se,nt=nt?qi(nt):null,nt!==null&&(Ht=u(nt),Ye=nt.tag,nt!==Ht||Ye!==5&&Ye!==27&&Ye!==6)&&(nt=null)):(ue=null,nt=se),ue!==nt)){if(Ye=Gn,we="onMouseLeave",J="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ye=ja,we="onPointerLeave",J="onPointerEnter",Q="pointer"),Ht=ue==null?le:Xn(ue),re=nt==null?le:Xn(nt),le=new Ye(we,Q+"leave",ue,l,Ee),le.target=Ht,le.relatedTarget=re,we=null,qi(Ee)===se&&(Ye=new Ye(J,Q+"enter",nt,l,Ee),Ye.target=re,Ye.relatedTarget=Ht,we=Ye),Ht=we,ue&&nt)t:{for(Ye=ue,J=nt,Q=0,re=Ye;re;re=Cu(re))Q++;for(re=0,we=J;we;we=Cu(we))re++;for(;0<Q-re;)Ye=Cu(Ye),Q--;for(;0<re-Q;)J=Cu(J),re--;for(;Q--;){if(Ye===J||J!==null&&Ye===J.alternate)break t;Ye=Cu(Ye),J=Cu(J)}Ye=null}else Ye=null;ue!==null&&nb(xe,le,ue,Ye,!1),nt!==null&&Ht!==null&&nb(xe,Ht,nt,Ye,!0)}}e:{if(le=se?Xn(se):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Be=Ha;else if(Jt(le))if(mc)Be=qm;else{Be=Hm;var mt=gc}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Ws(se.elementType)&&(Be=Ha):Be=Kr;if(Be&&(Be=Be(i,se))){$r(xe,Be,l,Ee);break e}mt&&mt(i,le,se),i==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Zi(le,"number",le.value)}switch(mt=se?Xn(se):window,i){case"focusin":(Jt(mt)||mt.contentEditable==="true")&&(Ji=mt,$a=se,ea=null);break;case"focusout":ea=$a=Ji=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,of(xe,l,Ee);break;case"selectionchange":if(iu)break;case"keydown":case"keyup":of(xe,l,Ee)}var qe;if(fi)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else _t?he(i,l)&&(Xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(C&&l.locale!=="ko"&&(_t||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&_t&&(qe=Fr()):(Di=Ee,ci="value"in Di?Di.value:Di.textContent,_t=!0)),mt=Zf(se,Xe),0<mt.length&&(Xe=new hi(Xe,i,null,l,Ee),xe.push({event:Xe,listeners:mt}),qe?Xe.data=qe:(qe=Ie(l),qe!==null&&(Xe.data=qe)))),(qe=T?gn(i,l):vt(i,l))&&(Xe=Zf(se,"onBeforeInput"),0<Xe.length&&(mt=new hi("onBeforeInput","beforeinput",null,l,Ee),xe.push({event:mt,listeners:Xe}),mt.data=qe)),n2(xe,i,se,l,Ee)}eb(xe,s)})}function qc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Zf(i,s){for(var l=s+"Capture",f=[];i!==null;){var g=i,E=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||E===null||(g=xt(i,l),g!=null&&f.unshift(qc(i,g,E)),g=xt(i,s),g!=null&&f.push(qc(i,g,E))),i.tag===3)return f;i=i.return}return[]}function Cu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nb(i,s,l,f,g){for(var E=s._reactName,R=[];l!==null&&l!==f;){var I=l,Z=I.alternate,se=I.stateNode;if(I=I.tag,Z!==null&&Z===f)break;I!==5&&I!==26&&I!==27||se===null||(Z=se,g?(se=xt(l,E),se!=null&&R.unshift(qc(l,se,Z))):g||(se=xt(l,E),se!=null&&R.push(qc(l,se,Z)))),l=l.return}R.length!==0&&i.push({event:s,listeners:R})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function ib(i){return(typeof i=="string"?i:""+i).replace(a2,`
`).replace(o2,"")}function rb(i,s){return s=ib(s),ib(i)===s}function Kf(){}function Ft(i,s,l,f,g,E){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Hn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Hn(i,""+f);break;case"className":hr(i,"class",f);break;case"tabIndex":hr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(i,l,f);break;case"style":Br(i,f,E);break;case"data":if(s!=="object"){hr(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ps(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(s!=="input"&&Ft(i,s,"name",g.name,g,null),Ft(i,s,"formEncType",g.formEncType,g,null),Ft(i,s,"formMethod",g.formMethod,g,null),Ft(i,s,"formTarget",g.formTarget,g,null)):(Ft(i,s,"encType",g.encType,g,null),Ft(i,s,"method",g.method,g,null),Ft(i,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ps(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Kf);break;case"onScroll":f!=null&&gt("scroll",i);break;case"onScrollEnd":f!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=ps(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":gt("beforetoggle",i),gt("toggle",i),hs(i,"popover",f);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":hs(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qo.get(l)||l,hs(i,l,f))}}function ng(i,s,l,f,g,E){switch(l){case"style":Br(i,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Hn(i,f):(typeof f=="number"||typeof f=="bigint")&&Hn(i,""+f);break;case"onScroll":f!=null&&gt("scroll",i);break;case"onScrollEnd":f!=null&&gt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Kf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),E=i[pn]||null,E=E!=null?E[l]:null,typeof E=="function"&&i.removeEventListener(s,E,g),typeof f=="function")){typeof E!="function"&&E!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):hs(i,l,f)}}}function ni(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var f=!1,g=!1,E;for(E in l)if(l.hasOwnProperty(E)){var R=l[E];if(R!=null)switch(E){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,E,R,l,null)}}g&&Ft(i,s,"srcSet",l.srcSet,l,null),f&&Ft(i,s,"src",l.src,l,null);return;case"input":gt("invalid",i);var I=E=R=g=null,Z=null,se=null;for(f in l)if(l.hasOwnProperty(f)){var Ee=l[f];if(Ee!=null)switch(f){case"name":g=Ee;break;case"type":R=Ee;break;case"checked":Z=Ee;break;case"defaultChecked":se=Ee;break;case"value":E=Ee;break;case"defaultValue":I=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,s));break;default:Ft(i,s,f,Ee,l,null)}}Ks(i,E,I,Z,se,R,g,!1),ms(i);return;case"select":gt("invalid",i),f=R=E=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":E=I;break;case"defaultValue":R=I;break;case"multiple":f=I;default:Ft(i,s,g,I,l,null)}s=E,l=R,i.multiple=!!f,s!=null?Qn(i,!!f,s,!1):l!=null&&Qn(i,!!f,l,!0);return;case"textarea":gt("invalid",i),E=g=f=null;for(R in l)if(l.hasOwnProperty(R)&&(I=l[R],I!=null))switch(R){case"value":f=I;break;case"defaultValue":g=I;break;case"children":E=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ft(i,s,R,I,l,null)}xi(i,f,g,E),ms(i);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(f=l[Z],f!=null))switch(Z){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ft(i,s,Z,f,l,null)}return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(f=0;f<Hc.length;f++)gt(Hc[f],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(f=l[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,se,f,l,null)}return;default:if(Ws(s)){for(Ee in l)l.hasOwnProperty(Ee)&&(f=l[Ee],f!==void 0&&ng(i,s,Ee,f,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(f=l[I],f!=null&&Ft(i,s,I,f,l,null))}function l2(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,E=null,R=null,I=null,Z=null,se=null,Ee=null;for(ue in l){var xe=l[ue];if(l.hasOwnProperty(ue)&&xe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Z=xe;default:f.hasOwnProperty(ue)||Ft(i,s,ue,null,f,xe)}}for(var le in f){var ue=f[le];if(xe=l[le],f.hasOwnProperty(le)&&(ue!=null||xe!=null))switch(le){case"type":E=ue;break;case"name":g=ue;break;case"checked":se=ue;break;case"defaultChecked":Ee=ue;break;case"value":R=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==xe&&Ft(i,s,le,ue,f,xe)}}Qt(i,R,I,Z,se,Ee,E,g);return;case"select":ue=R=I=le=null;for(E in l)if(Z=l[E],l.hasOwnProperty(E)&&Z!=null)switch(E){case"value":break;case"multiple":ue=Z;default:f.hasOwnProperty(E)||Ft(i,s,E,null,f,Z)}for(g in f)if(E=f[g],Z=l[g],f.hasOwnProperty(g)&&(E!=null||Z!=null))switch(g){case"value":le=E;break;case"defaultValue":I=E;break;case"multiple":R=E;default:E!==Z&&Ft(i,s,g,E,f,Z)}s=I,l=R,f=ue,le!=null?Qn(i,!!l,le,!1):!!f!=!!l&&(s!=null?Qn(i,!!l,s,!0):Qn(i,!!l,l?[]:"",!1));return;case"textarea":ue=le=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ft(i,s,I,null,f,g)}for(R in f)if(g=f[R],E=l[R],f.hasOwnProperty(R)&&(g!=null||E!=null))switch(R){case"value":le=g;break;case"defaultValue":ue=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==E&&Ft(i,s,R,g,f,E)}Je(i,le,ue);return;case"option":for(var nt in l)if(le=l[nt],l.hasOwnProperty(nt)&&le!=null&&!f.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Ft(i,s,nt,null,f,le)}for(Z in f)if(le=f[Z],ue=l[Z],f.hasOwnProperty(Z)&&le!==ue&&(le!=null||ue!=null))switch(Z){case"selected":i.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ft(i,s,Z,le,f,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in l)le=l[Ye],l.hasOwnProperty(Ye)&&le!=null&&!f.hasOwnProperty(Ye)&&Ft(i,s,Ye,null,f,le);for(se in f)if(le=f[se],ue=l[se],f.hasOwnProperty(se)&&le!==ue&&(le!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:Ft(i,s,se,le,f,ue)}return;default:if(Ws(s)){for(var Ht in l)le=l[Ht],l.hasOwnProperty(Ht)&&le!==void 0&&!f.hasOwnProperty(Ht)&&ng(i,s,Ht,void 0,f,le);for(Ee in f)le=f[Ee],ue=l[Ee],!f.hasOwnProperty(Ee)||le===ue||le===void 0&&ue===void 0||ng(i,s,Ee,le,f,ue);return}}for(var J in l)le=l[J],l.hasOwnProperty(J)&&le!=null&&!f.hasOwnProperty(J)&&Ft(i,s,J,null,f,le);for(xe in f)le=f[xe],ue=l[xe],!f.hasOwnProperty(xe)||le===ue||le==null&&ue==null||Ft(i,s,xe,le,f,ue)}var ig=null,rg=null;function Wf(i){return i.nodeType===9?i:i.ownerDocument}function sb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ab(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ag=null;function u2(){var i=window.event;return i&&i.type==="popstate"?i===ag?!1:(ag=i,!0):(ag=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(i){return lb.resolve(null).then(i).catch(f2)}:ob;function f2(i){setTimeout(function(){throw i})}function mo(i){return i==="head"}function ub(i,s){var l=s,f=0,g=0;do{var E=l.nextSibling;if(i.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(0<f&&8>f){l=f;var R=i.ownerDocument;if(l&1&&Gc(R.documentElement),l&2&&Gc(R.body),l&4)for(l=R.head,Gc(l),R=l.firstChild;R;){var I=R.nextSibling,Z=R.nodeName;R[cs]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=I}}if(g===0){i.removeChild(E),Jc(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=E}while(l);Jc(s)}function og(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":og(l),Ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function d2(i,s,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[cs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var E=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function m2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Qr(i.nextSibling),i===null))return null;return i}function lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function p2(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Qr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ug=null;function cb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function hb(i,s,l){switch(s=Wf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ur(i)}var Sr=new Map,fb=new Set;function Yf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var da=ge.d;ge.d={f:g2,r:y2,D:_2,C:v2,L:E2,m:b2,X:T2,S:w2,M:x2};function g2(){var i=da.f(),s=jf();return i||s}function y2(i){var s=Gi(i);s!==null&&s.tag===5&&s.type==="form"?O0(s):da.r(i)}var Ru=typeof document>"u"?null:document;function db(i,s,l){var f=Ru;if(f&&typeof s=="string"&&s){var g=nn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),fb.has(g)||(fb.add(g),i={rel:i,crossOrigin:l,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),ni(s,"link",i),un(s),f.head.appendChild(s)))}}function _2(i){da.D(i),db("dns-prefetch",i,null)}function v2(i,s){da.C(i,s),db("preconnect",i,s)}function E2(i,s,l){da.L(i,s,l);var f=Ru;if(f&&i&&s){var g='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+nn(l.imageSizes)+'"]')):g+='[href="'+nn(i)+'"]';var E=g;switch(s){case"style":E=Nu(i);break;case"script":E=Pu(i)}Sr.has(E)||(i=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Sr.set(E,i),f.querySelector(g)!==null||s==="style"&&f.querySelector($c(E))||s==="script"&&f.querySelector(Zc(E))||(s=f.createElement("link"),ni(s,"link",i),un(s),f.head.appendChild(s)))}}function b2(i,s){da.m(i,s);var l=Ru;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+nn(f)+'"][href="'+nn(i)+'"]',E=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Pu(i)}if(!Sr.has(E)&&(i=b({rel:"modulepreload",href:i},s),Sr.set(E,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zc(E)))return}f=l.createElement("link"),ni(f,"link",i),un(f),l.head.appendChild(f)}}}function w2(i,s,l){da.S(i,s,l);var f=Ru;if(f&&i){var g=Fn(f).hoistableStyles,E=Nu(i);s=s||"default";var R=g.get(E);if(!R){var I={loading:0,preload:null};if(R=f.querySelector($c(E)))I.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Sr.get(E))&&cg(i,l);var Z=R=f.createElement("link");un(Z),ni(Z,"link",i),Z._p=new Promise(function(se,Ee){Z.onload=se,Z.onerror=Ee}),Z.addEventListener("load",function(){I.loading|=1}),Z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Xf(R,s,f)}R={type:"stylesheet",instance:R,count:1,state:I},g.set(E,R)}}}function T2(i,s){da.X(i,s);var l=Ru;if(l&&i){var f=Fn(l).hoistableScripts,g=Pu(i),E=f.get(g);E||(E=l.querySelector(Zc(g)),E||(i=b({src:i,async:!0},s),(s=Sr.get(g))&&hg(i,s),E=l.createElement("script"),un(E),ni(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(g,E))}}function x2(i,s){da.M(i,s);var l=Ru;if(l&&i){var f=Fn(l).hoistableScripts,g=Pu(i),E=f.get(g);E||(E=l.querySelector(Zc(g)),E||(i=b({src:i,async:!0,type:"module"},s),(s=Sr.get(g))&&hg(i,s),E=l.createElement("script"),un(E),ni(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(g,E))}}function mb(i,s,l,f){var g=(g=Te.current)?Yf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Nu(l.href),l=Fn(g).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Nu(l.href);var E=Fn(g).hoistableStyles,R=E.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,R),(E=g.querySelector($c(i)))&&!E._p&&(R.instance=E,R.state.loading=5),Sr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sr.set(i,l),E||S2(g,i,l,R.state))),s&&f===null)throw Error(r(528,""));return R}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pu(l),l=Fn(g).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Nu(i){return'href="'+nn(i)+'"'}function $c(i){return'link[rel="stylesheet"]['+i+"]"}function pb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function S2(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),ni(s,"link",l),un(s),i.head.appendChild(s))}function Pu(i){return'[src="'+nn(i)+'"]'}function Zc(i){return"script[async]"+i}function gb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+nn(l.href)+'"]');if(f)return s.instance=f,un(f),f;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),un(f),ni(f,"style",g),Xf(f,l.precedence,i),s.instance=f;case"stylesheet":g=Nu(l.href);var E=i.querySelector($c(g));if(E)return s.state.loading|=4,s.instance=E,un(E),E;f=pb(l),(g=Sr.get(g))&&cg(f,g),E=(i.ownerDocument||i).createElement("link"),un(E);var R=E;return R._p=new Promise(function(I,Z){R.onload=I,R.onerror=Z}),ni(E,"link",f),s.state.loading|=4,Xf(E,l.precedence,i),s.instance=E;case"script":return E=Pu(l.src),(g=i.querySelector(Zc(E)))?(s.instance=g,un(g),g):(f=l,(g=Sr.get(E))&&(f=b({},l),hg(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),un(g),ni(g,"link",f),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Xf(f,l.precedence,i));return s.instance}function Xf(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,E=g,R=0;R<f.length;R++){var I=f[R];if(I.dataset.precedence===s)E=I;else if(E!==g)break}E?E.parentNode.insertBefore(i,E.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function cg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Qf=null;function yb(i,s,l){if(Qf===null){var f=new Map,g=Qf=new Map;g.set(l,f)}else g=Qf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var E=l[g];if(!(E[cs]||E[vn]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(s)||"";R=i+R;var I=f.get(R);I?I.push(E):f.set(R,[E])}}return f}function _b(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function A2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Kc=null;function C2(){}function R2(i,s,l){if(Kc===null)throw Error(r(475));var f=Kc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Nu(l.href),E=i.querySelector($c(g));if(E){i=E._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Jf.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=E,un(E);return}E=i.ownerDocument||i,l=pb(l),(g=Sr.get(g))&&cg(l,g),E=E.createElement("link"),un(E);var R=E;R._p=new Promise(function(I,Z){R.onload=I,R.onerror=Z}),ni(E,"link",l),s.instance=E}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Jf.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function N2(){if(Kc===null)throw Error(r(475));var i=Kc;return i.stylesheets&&i.count===0&&fg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&fg(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Jf(){if(this.count--,this.count===0){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ed=null;function fg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ed=new Map,s.forEach(P2,i),ed=null,Jf.call(i))}function P2(i,s){if(!(s.state.loading&4)){var l=ed.get(i);if(l)var f=l.get(null);else{l=new Map,ed.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<g.length;E++){var R=g[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),f=R)}f&&l.set(null,f)}g=s.instance,R=g.getAttribute("data-precedence"),E=l.get(R)||f,E===f&&l.set(null,g),l.set(R,g),this.count++,f=Jf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),E?E.parentNode.insertBefore(g,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Wc={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function I2(i,s,l,f,g,E,R,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Eb(i,s,l,f,g,E,R,I,Z,se,Ee,xe){return i=new I2(i,s,l,R,I,Z,se,xe),s=1,E===!0&&(s|=24),E=Pi(3,null,null,s),i.current=E,E.stateNode=i,s=Zm(),s.refCount++,i.pooledCache=s,s.refCount++,E.memoizedState={element:f,isDehydrated:l,cache:s},Xm(E),i}function bb(i){return i?(i=ra,i):ra}function wb(i,s,l,f,g,E){g=bb(g),f.context===null?f.context=g:f.pendingContext=g,f=eo(s),f.payload={element:l},E=E===void 0?null:E,E!==null&&(f.callback=E),l=to(i,f,s),l!==null&&(or(l,i,s),Sc(l,i,s))}function Tb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function dg(i,s){Tb(i,s),(i=i.alternate)&&Tb(i,s)}function xb(i){if(i.tag===13){var s=Wa(i,67108864);s!==null&&or(s,i,67108864),dg(i,67108864)}}var td=!0;function O2(i,s,l,f){var g=ie.T;ie.T=null;var E=ge.p;try{ge.p=2,mg(i,s,l,f)}finally{ge.p=E,ie.T=g}}function M2(i,s,l,f){var g=ie.T;ie.T=null;var E=ge.p;try{ge.p=8,mg(i,s,l,f)}finally{ge.p=E,ie.T=g}}function mg(i,s,l,f){if(td){var g=pg(f);if(g===null)tg(i,s,f,nd,l),Ab(i,f);else if(L2(g,i,s,l,f))f.stopPropagation();else if(Ab(i,f),s&4&&-1<D2.indexOf(i)){for(;g!==null;){var E=Gi(g);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=Me(E.pendingLanes);if(R!==0){var I=E;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var Z=1<<31-He(R);I.entanglements[1]|=Z,R&=~Z}Ss(E),(Ut&6)===0&&(zf=jn()+500,Fc(0))}}break;case 13:I=Wa(E,2),I!==null&&or(I,E,2),jf(),dg(E,2)}if(E=pg(f),E===null&&tg(i,s,f,nd,l),E===g)break;g=E}g!==null&&f.stopPropagation()}else tg(i,s,f,null,l)}}function pg(i){return i=Jn(i),gg(i)}var nd=null;function gg(i){if(nd=null,i=qi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return nd=i,null}function Sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case Hs:return 2;case ur:return 8;case bi:case Lr:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var yg=!1,po=null,go=null,yo=null,Yc=new Map,Xc=new Map,_o=[],D2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,s){switch(i){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(s.pointerId)}}function Qc(i,s,l,f,g,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:E,targetContainers:[g]},s!==null&&(s=Gi(s),s!==null&&xb(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function L2(i,s,l,f,g){switch(s){case"focusin":return po=Qc(po,i,s,l,f,g),!0;case"dragenter":return go=Qc(go,i,s,l,f,g),!0;case"mouseover":return yo=Qc(yo,i,s,l,f,g),!0;case"pointerover":var E=g.pointerId;return Yc.set(E,Qc(Yc.get(E)||null,i,s,l,f,g)),!0;case"gotpointercapture":return E=g.pointerId,Xc.set(E,Qc(Xc.get(E)||null,i,s,l,f,g)),!0}return!1}function Cb(i){var s=qi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){i.blockedOn=s,Pa(i.priority,function(){if(l.tag===13){var f=ar();f=Ti(f);var g=Wa(l,f);g!==null&&or(g,l,f),dg(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function id(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=pg(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Wi=f,l.target.dispatchEvent(f),Wi=null}else return s=Gi(l),s!==null&&xb(s),i.blockedOn=l,!1;s.shift()}return!0}function Rb(i,s,l){id(i)&&l.delete(s)}function k2(){yg=!1,po!==null&&id(po)&&(po=null),go!==null&&id(go)&&(go=null),yo!==null&&id(yo)&&(yo=null),Yc.forEach(Rb),Xc.forEach(Rb)}function rd(i,s){i.blockedOn===s&&(i.blockedOn=null,yg||(yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k2)))}var sd=null;function Nb(i){sd!==i&&(sd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sd===i&&(sd=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],g=i[s+2];if(typeof f!="function"){if(gg(f||l)===null)continue;break}var E=Gi(l);E!==null&&(i.splice(s,3),s-=3,gp(E,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Jc(i){function s(Z){return rd(Z,i)}po!==null&&rd(po,i),go!==null&&rd(go,i),yo!==null&&rd(yo,i),Yc.forEach(s),Xc.forEach(s);for(var l=0;l<_o.length;l++){var f=_o[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<_o.length&&(l=_o[0],l.blockedOn===null);)Cb(l),l.blockedOn===null&&_o.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],E=l[f+1],R=g[pn]||null;if(typeof E=="function")R||Nb(l);else if(R){var I=null;if(E&&E.hasAttribute("formAction")){if(g=E,R=E[pn]||null)I=R.formAction;else if(gg(g)!==null)continue}else I=R.action;typeof I=="function"?l[f+1]=I:(l.splice(f,3),f-=3),Nb(l)}}}function _g(i){this._internalRoot=i}ad.prototype.render=_g.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,f=ar();wb(l,f,i,s,null,null)},ad.prototype.unmount=_g.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;wb(i.current,2,null,i,null,null),jf(),s[Oi]=null}};function ad(i){this._internalRoot=i}ad.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_o.length&&s!==0&&s<_o[l].priority;l++);_o.splice(l,0,i),l===0&&Cb(i)}};var Pb=e.version;if(Pb!=="19.1.1")throw Error(r(527,Pb,"19.1.1"));ge.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var V2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{ee=od.inject(V2),ye=od}catch{}}return eh.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,f="",g=$0,E=Z0,R=K0,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=Eb(i,1,!1,null,null,l,f,g,E,R,I,null),i[Oi]=s.current,eg(i),new _g(s)},eh.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var f=!1,g="",E=$0,R=Z0,I=K0,Z=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),s=Eb(i,1,!0,s,l??null,f,g,E,R,I,Z,se),s.context=bb(null),l=s.current,f=ar(),f=Ti(f),g=eo(f),g.callback=null,to(l,g,f),l=f,s.current.lanes=l,Ct(s,l),Ss(s),i[Oi]=s.current,eg(i),new ad(s)},eh.version="19.1.1",eh}var Ub;function q2(){if(Ub)return Eg.exports;Ub=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=H2(),Eg.exports}var G2=q2();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zb="popstate";function $2(t={}){function e(o,u){let{pathname:h="/",search:m="",hash:y=""}=zl(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ry("",{pathname:h,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");m=v===-1?y:y.slice(0,v)}return m+"#"+(typeof u=="string"?u:wh(u))}function r(o,u){ss(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return K2(e,n,r,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function Bb(t,e){return{usr:t.state,key:t.key,idx:e}}function ry(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:n,key:e&&e.key||r||Z2()}}function wh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function K2(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",y=null,v=b();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let j=b(),K=j==null?null:j-v;v=j,y&&y({action:m,location:z.location,delta:K})}function A(j,K){m="PUSH";let G=ry(z.location,j,K);n&&n(G,j),v=b()+1;let X=Bb(G,v),ve=z.createHref(G);try{h.pushState(X,"",ve)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ve)}u&&y&&y({action:m,location:z.location,delta:1})}function O(j,K){m="REPLACE";let G=ry(z.location,j,K);n&&n(G,j),v=b();let X=Bb(G,v),ve=z.createHref(G);h.replaceState(X,"",ve),u&&y&&y({action:m,location:z.location,delta:0})}function V(j){return W2(j)}let z={get action(){return m},get location(){return t(o,h)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(zb,x),y=j,()=>{o.removeEventListener(zb,x),y=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let K=V(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:O,go(j){return h.go(j)}};return z}function W2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Kx(t,e,n="/"){return Y2(t,e,n,!1)}function Y2(t,e,n,r){let o=typeof e=="string"?zl(e):e,u=Ta(o.pathname||"/",n);if(u==null)return null;let h=Wx(t);X2(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=lN(u);m=aN(h[y],v,r)}return m}function Wx(t,e=[],n=[],r="",o=!1){let u=(h,m,y=o,v)=>{let b={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&y)return;dn(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let x=ya([r,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(dn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Wx(h.children,e,A,x,y)),!(h.path==null&&!h.index)&&e.push({path:x,score:rN(x,h.index),routesMeta:A})};return t.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let y of Yx(h.path))u(h,m,!0,y)}),e}function Yx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Yx(r.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>t.startsWith("/")&&y===""?"/":y)}function X2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Q2=/^:[\w-]+$/,J2=3,eN=2,tN=1,nN=10,iN=-2,jb=t=>t==="*";function rN(t,e){let n=t.split("/"),r=n.length;return n.some(jb)&&(r+=iN),e&&(r+=eN),n.filter(o=>!jb(o)).reduce((o,u)=>o+(Q2.test(u)?J2:u===""?tN:nN),r)}function sN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function aN(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",h=[];for(let m=0;m<r.length;++m){let y=r[m],v=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",x=Ld({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},b),A=y.route;if(!x&&v&&n&&!r[r.length-1].route.index&&(x=Ld({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:ya([u,x.pathname]),pathnameBase:fN(ya([u,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(u=ya([u,x.pathnameBase]))}return h}function Ld(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:b,isOptional:x},A)=>{if(b==="*"){let V=m[A]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[A];return x&&!O?v[b]=void 0:v[b]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:t}}function oN(t,e=!1,n=!0){ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ss(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?zl(t):t;return{pathname:n?n.startsWith("/")?n:cN(n,e):e,search:dN(r),hash:mN(o)}}function cN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xx(t){let e=hN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qx(t,e,n,r=!1){let o;typeof t=="string"?o=zl(t):(o={...t},dn(!o.pathname||!o.pathname.includes("?"),xg("?","pathname","search",o)),dn(!o.pathname||!o.pathname.includes("#"),xg("#","pathname","hash",o)),dn(!o.search||!o.search.includes("#"),xg("#","search","hash",o)));let u=t===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let x=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),x-=1;o.pathname=A.join("/")}m=x>=0?e[x]:"/"}let y=uN(o,m),v=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||b)&&(y.pathname+="/"),y}var ya=t=>t.join("/").replace(/\/\/+/g,"/"),fN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Jx=["POST","PUT","PATCH","DELETE"];new Set(Jx);var gN=["GET",...Jx];new Set(gN);var ic=k.createContext(null);ic.displayName="DataRouter";var hm=k.createContext(null);hm.displayName="DataRouterState";k.createContext(!1);var e1=k.createContext({isTransitioning:!1});e1.displayName="ViewTransition";var yN=k.createContext(new Map);yN.displayName="Fetchers";var _N=k.createContext(null);_N.displayName="Await";var Us=k.createContext(null);Us.displayName="Navigation";var Bh=k.createContext(null);Bh.displayName="Location";var zs=k.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var n_=k.createContext(null);n_.displayName="RouteError";function vN(t,{relative:e}={}){dn(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Us),{hash:o,pathname:u,search:h}=Fh(t,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ya([n,u])),r.createHref({pathname:m,search:h,hash:o})}function jh(){return k.useContext(Bh)!=null}function qo(){return dn(jh(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Bh).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n1(t){k.useContext(Us).static||k.useLayoutEffect(t)}function i1(){let{isDataRoute:t}=k.useContext(zs);return t?MN():EN()}function EN(){dn(jh(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ic),{basename:e,navigator:n}=k.useContext(Us),{matches:r}=k.useContext(zs),{pathname:o}=qo(),u=JSON.stringify(Xx(r)),h=k.useRef(!1);return n1(()=>{h.current=!0}),k.useCallback((y,v={})=>{if(ss(h.current,t1),!h.current)return;if(typeof y=="number"){n.go(y);return}let b=Qx(y,JSON.parse(u),o,v.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ya([e,b.pathname])),(v.replace?n.replace:n.push)(b,v.state,v)},[e,n,u,o,t])}k.createContext(null);function bN(){let{matches:t}=k.useContext(zs),e=t[t.length-1];return e?e.params:{}}function Fh(t,{relative:e}={}){let{matches:n}=k.useContext(zs),{pathname:r}=qo(),o=JSON.stringify(Xx(n));return k.useMemo(()=>Qx(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function wN(t,e){return r1(t,e)}function r1(t,e,n,r,o){dn(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Us),{matches:h}=k.useContext(zs),m=h[h.length-1],y=m?m.params:{},v=m?m.pathname:"/",b=m?m.pathnameBase:"/",x=m&&m.route;{let G=x&&x.path||"";s1(v,!x||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=qo(),O;if(e){let G=typeof e=="string"?zl(e):e;dn(b==="/"||G.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${G.pathname}" was given in the \`location\` prop.`),O=G}else O=A;let V=O.pathname||"/",z=V;if(b!=="/"){let G=b.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let j=Kx(t,{pathname:z});ss(x||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ss(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=CN(j&&j.map(G=>Object.assign({},G,{params:Object.assign({},y,G.params),pathname:ya([b,u.encodeLocation?u.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?b:ya([b,u.encodeLocation?u.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,r,o);return e&&K?k.createElement(Bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function TN(){let t=ON(),e=pN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var xN=k.createElement(TN,null),SN=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(zs.Provider,{value:this.props.routeContext},k.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AN({routeContext:t,match:e,children:n}){let r=k.useContext(ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(zs.Provider,{value:t},n)}function CN(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=n?.errors;if(h!=null){let v=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);dn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,y=-1;if(n)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=v),b.route.id){let{loaderData:x,errors:A}=n,O=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||O){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((v,b,x)=>{let A,O=!1,V=null,z=null;n&&(A=h&&b.route.id?h[b.route.id]:void 0,V=b.route.errorElement||xN,m&&(y<0&&x===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):y===x&&(O=!0,z=b.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,x+1)),K=()=>{let G;return A?G=V:O?G=z:b.route.Component?G=k.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,k.createElement(AN,{match:b,routeContext:{outlet:v,matches:j,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?k.createElement(SN,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:K(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):K()},null)}function i_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RN(t){let e=k.useContext(ic);return dn(e,i_(t)),e}function NN(t){let e=k.useContext(hm);return dn(e,i_(t)),e}function PN(t){let e=k.useContext(zs);return dn(e,i_(t)),e}function r_(t){let e=PN(t),n=e.matches[e.matches.length-1];return dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IN(){return r_("useRouteId")}function ON(){let t=k.useContext(n_),e=NN("useRouteError"),n=r_("useRouteError");return t!==void 0?t:e.errors?.[n]}function MN(){let{router:t}=RN("useNavigate"),e=r_("useNavigate"),n=k.useRef(!1);return n1(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{ss(n.current,t1),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Fb={};function s1(t,e,n){!e&&!Fb[t]&&(Fb[t]=!0,ss(!1,n))}k.memo(DN);function DN({routes:t,future:e,state:n,unstable_onError:r}){return r1(t,void 0,n,r,e)}function ma(t){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){dn(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=zl(n));let{pathname:y="/",search:v="",hash:b="",state:x=null,key:A="default"}=n,O=k.useMemo(()=>{let V=Ta(y,h);return V==null?null:{location:{pathname:V,search:v,hash:b,state:x,key:A},navigationType:r}},[h,y,v,b,x,A,r]);return ss(O!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:k.createElement(Us.Provider,{value:m},k.createElement(Bh.Provider,{children:e,value:O}))}function kN({children:t,location:e}){return wN(sy(t),e)}function sy(t,e=[]){let n=[];return k.Children.forEach(t,(r,o)=>{if(!k.isValidElement(r))return;let u=[...e,o];if(r.type===k.Fragment){n.push.apply(n,sy(r.props.children,u));return}dn(r.type===ma,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=sy(r.props.children,u)),n.push(h)}),n}var vd="get",Ed="application/x-www-form-urlencoded";function fm(t){return t!=null&&typeof t.tagName=="string"}function VN(t){return fm(t)&&t.tagName.toLowerCase()==="button"}function UN(t){return fm(t)&&t.tagName.toLowerCase()==="form"}function zN(t){return fm(t)&&t.tagName.toLowerCase()==="input"}function BN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jN(t,e){return t.button===0&&(!e||e==="_self")&&!BN(t)}var ld=null;function FN(){if(ld===null)try{new FormData(document.createElement("form"),0),ld=!1}catch{ld=!0}return ld}var HN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(t){return t!=null&&!HN.has(t)?(ss(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ed}"`),null):t}function qN(t,e){let n,r,o,u,h;if(UN(t)){let m=t.getAttribute("action");r=m?Ta(m,e):null,n=t.getAttribute("method")||vd,o=Sg(t.getAttribute("enctype"))||Ed,u=new FormData(t)}else if(VN(t)||zN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||m.getAttribute("action");if(r=y?Ta(y,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||vd,o=Sg(t.getAttribute("formenctype"))||Sg(m.getAttribute("enctype"))||Ed,u=new FormData(m,t),!FN()){let{name:v,type:b,value:x}=t;if(b==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,x)}}else{if(fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vd,r=null,o=Ed,h=t}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ta(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $N(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KN(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await $N(u,n);return h.links?h.links():[]}return[]}));return QN(r.flat(1).filter(ZN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hb(t,e,n,r,o,u){let h=(y,v)=>n[v]?y.route.id!==n[v].route.id:!0,m=(y,v)=>n[v].pathname!==y.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,v)=>h(y,v)||m(y,v)):u==="data"?e.filter((y,v)=>{let b=r.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(h(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function WN(t,e,{includeHydrateFallback:n}={}){return YN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function YN(t){return[...new Set(t)]}function XN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QN(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(XN(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function a1(){let t=k.useContext(ic);return s_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JN(){let t=k.useContext(hm);return s_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var a_=k.createContext(void 0);a_.displayName="FrameworkContext";function o1(){let t=k.useContext(a_);return s_(t,"You must render this element inside a <HydratedRouter> element"),t}function eP(t,e){let n=k.useContext(a_),[r,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:b,onTouchStart:x}=e,A=k.useRef(null);k.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let z=K=>{K.forEach(G=>{h(G.isIntersecting)})},j=new IntersectionObserver(z,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[t]),k.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?t!=="intent"?[u,A,{}]:[u,A,{onFocus:th(m,O),onBlur:th(y,V),onMouseEnter:th(v,O),onMouseLeave:th(b,V),onTouchStart:th(x,O)}]:[!1,A,{}]}function th(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tP({page:t,...e}){let{router:n}=a1(),r=k.useMemo(()=>Kx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(iP,{page:t,matches:r,...e}):null}function nP(t){let{manifest:e,routeModules:n}=o1(),[r,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return KN(t,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[t,e,n]),r}function iP({page:t,matches:e,...n}){let r=qo(),{manifest:o,routeModules:u}=o1(),{basename:h}=a1(),{loaderData:m,matches:y}=JN(),v=k.useMemo(()=>Hb(t,e,y,o,r,"data"),[t,e,y,o,r]),b=k.useMemo(()=>Hb(t,e,y,o,r,"assets"),[t,e,y,o,r]),x=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let V=new Set,z=!1;if(e.forEach(K=>{let G=o.routes[K.route.id];!G||!G.hasLoader||(!v.some(X=>X.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||G.hasClientLoader?z=!0:V.add(K.route.id))}),V.size===0)return[];let j=GN(t,h,"data");return z&&V.size>0&&j.searchParams.set("_routes",e.filter(K=>V.has(K.route.id)).map(K=>K.route.id).join(",")),[j.pathname+j.search]},[h,m,r,o,v,e,t,u]),A=k.useMemo(()=>WN(b,o),[b,o]),O=nP(b);return k.createElement(k.Fragment,null,x.map(V=>k.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>k.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:z})=>k.createElement("link",{key:V,nonce:n.nonce,...z})))}function rP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l1&&(window.__reactRouterVersion="7.9.1")}catch{}function sP({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=$2({window:n,v5Compat:!0}));let o=r.current,[u,h]=k.useState({action:o.action,location:o.location}),m=k.useCallback(y=>{k.startTransition(()=>h(y))},[h]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(LN,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:v,preventScrollReset:b,viewTransition:x,...A},O){let{basename:V}=k.useContext(Us),z=typeof v=="string"&&u1.test(v),j,K=!1;if(typeof v=="string"&&z&&(j=v,l1))try{let M=new URL(window.location.href),F=v.startsWith("//")?new URL(M.protocol+v):new URL(v),H=Ta(F.pathname,V);F.origin===M.origin&&H!=null?v=H+F.search+F.hash:K=!0}catch{ss(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=vN(v,{relative:o}),[X,ve,ae]=eP(r,A),de=lP(v,{replace:h,state:m,target:y,preventScrollReset:b,relative:o,viewTransition:x});function U(M){e&&e(M),M.defaultPrevented||de(M)}let N=k.createElement("a",{...A,...ae,href:j||G,onClick:K||u?e:U,ref:rP(O,ve),target:y,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?k.createElement(k.Fragment,null,N,k.createElement(tP,{page:G})):N});ls.displayName="Link";var wo=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...v},b){let x=Fh(h,{relative:v.relative}),A=qo(),O=k.useContext(hm),{navigator:V,basename:z}=k.useContext(Us),j=O!=null&&dP(x)&&m===!0,K=V.encodeLocation?V.encodeLocation(x).pathname:x.pathname,G=A.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(G=G.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&z&&(X=Ta(X,z)||X);const ve=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=G===K||!o&&G.startsWith(K)&&G.charAt(ve)==="/",de=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),U={isActive:ae,isPending:de,isTransitioning:j},N=ae?e:void 0,M;typeof r=="function"?M=r(U):M=[r,ae?"active":null,de?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof u=="function"?u(U):u;return k.createElement(ls,{...v,"aria-current":N,className:M,ref:b,style:F,to:h,viewTransition:m},typeof y=="function"?y(U):y)});wo.displayName="NavLink";var aP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=vd,action:m,onSubmit:y,relative:v,preventScrollReset:b,viewTransition:x,...A},O)=>{let V=hP(),z=fP(m,{relative:v}),j=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&u1.test(m),G=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let ve=X.nativeEvent.submitter,ae=ve?.getAttribute("formmethod")||h;V(ve||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:v,preventScrollReset:b,viewTransition:x})};return k.createElement("form",{ref:O,method:j,action:z,onSubmit:r?y:G,...A,"data-discover":!K&&t==="render"?"true":void 0})});aP.displayName="Form";function oP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c1(t){let e=k.useContext(ic);return dn(e,oP(t)),e}function lP(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=i1(),y=qo(),v=Fh(t,{relative:u});return k.useCallback(b=>{if(jN(b,e)){b.preventDefault();let x=n!==void 0?n:wh(y)===wh(v);m(t,{replace:x,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[y,m,v,n,r,e,t,o,u,h])}var uP=0,cP=()=>`__${String(++uP)}__`;function hP(){let{router:t}=c1("useSubmit"),{basename:e}=k.useContext(Us),n=IN();return k.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:y,body:v}=qN(r,e);if(o.navigate===!1){let b=o.fetcherKey||cP();await t.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function fP(t,{relative:e}={}){let{basename:n}=k.useContext(Us),r=k.useContext(zs);dn(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Fh(t||".",{relative:e})},h=qo();if(t==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(b=>b==="")){m.delete("index"),y.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();u.search=b?`?${b}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ya([n,u.pathname])),wh(u)}function dP(t,{relative:e}={}){let n=k.useContext(e1);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c1("useViewTransitionState"),o=Fh(t,{relative:e});if(!n.isTransitioning)return!1;let u=Ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(o.pathname,h)!=null||Ld(o.pathname,u)!=null}Zx();const mP=()=>{};var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],h=t[n++],m=t[n++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=t[n++],h=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},f1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],h=o+1<t.length,m=h?t[o+1]:0,y=o+2<t.length,v=y?t[o+2]:0,b=u>>2,x=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,O=v&63;y||(O=64,h||(A=64)),r.push(n[b],n[x],n[A],n[O])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const v=o<t.length?n[t.charAt(o)]:64;++o;const x=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||m==null||v==null||x==null)throw new gP;const A=u<<2|m>>4;if(r.push(A),v!==64){const O=m<<4&240|v>>2;if(r.push(O),x!==64){const V=v<<6&192|x;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(t){const e=h1(t);return f1.encodeByteArray(e,!0)},kd=function(t){return yP(t).replace(/\./g,"")},d1=function(t){try{return f1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>_P().__FIREBASE_DEFAULTS__,EP=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return mP()||vP()||EP()||bP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m1=t=>dm()?.emulatorHosts?.[t],p1=t=>{const e=m1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g1=()=>dm()?.config,y1=t=>dm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kd(JSON.stringify(n)),kd(JSON.stringify(h)),""].join(".")}const fh={};function TP(){const t={prod:[],emulator:[]};for(const e of Object.keys(fh))fh[e]?t.emulator.push(e):t.prod.push(e);return t}function xP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gb=!1;function l_(t,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||fh[t]===e||fh[t]||Gb)return;fh[t]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=TP().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Gb=!0,h()},A}function b(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=xP(r),O=n("text"),V=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),j=document.getElementById(z)||document.createElement("a"),K=n("preprendIcon"),G=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),b(j,z);const ve=v();y(G,K),X.append(G,V,j,ve),document.body.appendChild(X)}u?(V.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function AP(){const t=dm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PP(){const t=Ei();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return!AP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OP(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="FirebaseError";class Bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DP,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LP(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Bs(o,m,r)}}function LP(t,e){return t.replace(kP,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kP=/\{\$([^}]+)}/g;function VP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],h=e[o];if($b(u)&&$b(h)){if(!Ml(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function $b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UP(t,e){const n=new zP(t,e);return n.subscribe.bind(n)}class zP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Ag),o.error===void 0&&(o.error=Ag),o.complete===void 0&&(o.complete=Ag);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xl){return this.instances.has(e)}getOptions(e=xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xl){return this.component?this.component.multipleInstances?e:xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FP(t){return t===xl?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const GP={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},$P=Et.INFO,ZP={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ZP[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=$P,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const WP=(t,e)=>e.some(n=>t instanceof n);let Zb,Kb;function YP(){return Zb||(Zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,ay=new WeakMap,E1=new WeakMap,Cg=new WeakMap,c_=new WeakMap;function QP(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",h)},u=()=>{n(No(t.result)),o()},h=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),c_.set(e,t),e}function JP(t){if(ay.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",h),t.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",h),t.addEventListener("abort",h)});ay.set(t,e)}let oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eI(t){oy=t(oy)}function tI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rg(this),e,...n);return E1.set(r,e.sort?e.sort():[e]),No(r)}:XP().includes(t)?function(...e){return t.apply(Rg(this),e),No(v1.get(this))}:function(...e){return No(t.apply(Rg(this),e))}}function nI(t){return typeof t=="function"?tI(t):(t instanceof IDBTransaction&&JP(t),WP(t,YP())?new Proxy(t,oy):t)}function No(t){if(t instanceof IDBRequest)return QP(t);if(Cg.has(t))return Cg.get(t);const e=nI(t);return e!==t&&(Cg.set(t,e),c_.set(e,t)),e}const Rg=t=>c_.get(t);function iI(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(t,e),m=No(h);return r&&h.addEventListener("upgradeneeded",y=>{r(No(h.result),y.oldVersion,y.newVersion,No(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const rI=["get","getKey","getAll","getAllKeys","count"],sI=["put","add","delete","clear"],Ng=new Map;function Wb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=sI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rI.includes(n)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&y.done]))[0]};return Ng.set(e,u),u}eI(t=>({...t,get:(e,n,r)=>Wb(e,n)||t.get(e,n,r),has:(e,n)=>!!Wb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oI(t){return t.getComponent()?.type==="VERSION"}const ly="@firebase/app",Yb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new u_("@firebase/app"),lI="@firebase/app-compat",uI="@firebase/analytics-compat",cI="@firebase/analytics",hI="@firebase/app-check-compat",fI="@firebase/app-check",dI="@firebase/auth",mI="@firebase/auth-compat",pI="@firebase/database",gI="@firebase/data-connect",yI="@firebase/database-compat",_I="@firebase/functions",vI="@firebase/functions-compat",EI="@firebase/installations",bI="@firebase/installations-compat",wI="@firebase/messaging",TI="@firebase/messaging-compat",xI="@firebase/performance",SI="@firebase/performance-compat",AI="@firebase/remote-config",CI="@firebase/remote-config-compat",RI="@firebase/storage",NI="@firebase/storage-compat",PI="@firebase/firestore",II="@firebase/ai",OI="@firebase/firestore-compat",MI="firebase",DI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",LI={[ly]:"fire-core",[lI]:"fire-core-compat",[cI]:"fire-analytics",[uI]:"fire-analytics-compat",[fI]:"fire-app-check",[hI]:"fire-app-check-compat",[dI]:"fire-auth",[mI]:"fire-auth-compat",[pI]:"fire-rtdb",[gI]:"fire-data-connect",[yI]:"fire-rtdb-compat",[_I]:"fire-fn",[vI]:"fire-fn-compat",[EI]:"fire-iid",[bI]:"fire-iid-compat",[wI]:"fire-fcm",[TI]:"fire-fcm-compat",[xI]:"fire-perf",[SI]:"fire-perf-compat",[AI]:"fire-rc",[CI]:"fire-rc-compat",[RI]:"fire-gcs",[NI]:"fire-gcs-compat",[PI]:"fire-fst",[OI]:"fire-fst-compat",[II]:"fire-vertex","fire-js":"fire-js",[MI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,kI=new Map,cy=new Map;function Xb(t,e){try{t.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(cy.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of Vd.values())Xb(n,t);for(const n of kI.values())Xb(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new Hh("app","Firebase",VI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=DI;function b1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:uy,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Po.create("bad-app-name",{appName:String(o)});if(n||(n=g1()),!n)throw Po.create("no-options");const u=Vd.get(o);if(u){if(Ml(n,u.options)&&Ml(r,u.config))return u;throw Po.create("duplicate-app",{appName:o})}const h=new qP(o);for(const y of cy.values())h.addComponent(y);const m=new UI(n,r,h);return Vd.set(o,m),m}function h_(t=uy){const e=Vd.get(t);if(!e&&t===uy&&g1())return b1();if(!e)throw Po.create("no-app",{appName:t});return e}function Cs(t,e,n){let r=LI[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(h.join(" "));return}Dl(new Mo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebase-heartbeat-database",BI=1,Th="firebase-heartbeat-store";let Pg=null;function w1(){return Pg||(Pg=iI(zI,BI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function jI(t){try{const n=(await w1()).transaction(Th),r=await n.objectStore(Th).get(T1(t));return await n.done,r}catch(e){if(e instanceof Bs)xa.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e?.message});xa.warn(n.message)}}}async function Qb(t,e){try{const r=(await w1()).transaction(Th,"readwrite");await r.objectStore(Th).put(e,T1(t)),await r.done}catch(n){if(n instanceof Bs)xa.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n?.message});xa.warn(r.message)}}}function T1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1024,HI=30;class qI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $I(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HI){const o=ZI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jb(),{heartbeatsToSend:n,unsentEntries:r}=GI(this._heartbeatsCache.heartbeats),o=kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xa.warn(e),""}}}function Jb(){return new Date().toISOString().substring(0,10)}function GI(t,e=FI){const n=[];let r=t.slice();for(const o of t){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),ew(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OP()?MP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ew(t){return kd(JSON.stringify({version:2,heartbeats:t})).length}function ZI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){Dl(new Mo("platform-logger",e=>new aI(e),"PRIVATE")),Dl(new Mo("heartbeat",e=>new qI(e),"PRIVATE")),Cs(ly,Yb,t),Cs(ly,Yb,"esm2020"),Cs("fire-js","")}KI("");function x1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WI=x1,S1=new Hh("auth","Firebase",x1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new u_("@firebase/auth");function YI(t,...e){Ud.logLevel<=Et.WARN&&Ud.warn(`Auth (${jl}): ${t}`,...e)}function bd(t,...e){Ud.logLevel<=Et.ERROR&&Ud.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,...e){throw f_(t,...e)}function Rs(t,...e){return f_(t,...e)}function A1(t,e,n){const r={...WI(),[e]:n};return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function _a(t){return A1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S1.create(t,...e)}function et(t,e,...n){if(!t)throw f_(e,...n)}function pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function Sa(t,e){t||pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){return typeof self<"u"&&self.location?.href||""}function XI(){return tw()==="http:"||tw()==="https:"}function tw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||RP()||"connection"in navigator)?navigator.onLine:!0}function JI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sa(n>e,"Short delay should be less than long delay!"),this.isMobile=SP()||NP()}get(){return QI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){Sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nO=new Gh(3e4,6e4);function Go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $o(t,e,n,r,o={}){return R1(t,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=qh({key:t.config.apiKey,...h}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const v={method:e,headers:y,...u};return CP()||(v.referrerPolicy="no-referrer"),t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(v.credentials="include"),C1.fetch()(await N1(t,t.config.apiHost,n,m),v)})}async function R1(t,e,n){t._canInitEmulator=!1;const r={...eO,...e};try{const o=new rO(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ud(t,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",h);if(y==="USER_DISABLED")throw ud(t,"user-disabled",h);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw A1(t,b,v);as(t,b)}}catch(o){if(o instanceof Bs)throw o;as(t,"network-request-failed",{message:String(o)})}}async function $h(t,e,n,r,o={}){const u=await $o(t,e,n,r,o);return"mfaPendingCredential"in u&&as(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function N1(t,e,n,r){const o=`${e}${n}?${r}`,u=t,h=u.config.emulator?d_(t.config,o):`${t.config.apiScheme}://${o}`;return tO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function iO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rs(this.auth,"network-request-failed")),nO.get())})}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Rs(t,e,r);return o.customData._tokenResponse=n,o}function nw(t){return t!==void 0&&t.enterprise!==void 0}class sO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aO(t,e){return $o(t,"GET","/v2/recaptchaConfig",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function zd(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lO(t,e=!1){const n=ai(t),r=await n.getIdToken(e),o=m_(r);et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:dh(Ig(o.auth_time)),issuedAtTime:dh(Ig(o.iat)),expirationTime:dh(Ig(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ig(t){return Number(t)*1e3}function m_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const o=d1(n);return o?JSON.parse(o):(bd("Failed to decode base64 JWT payload"),null)}catch(o){return bd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iw(t){const e=m_(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bs&&uO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t){const e=t.auth,n=await t.getIdToken(),r=await xh(t,zd(e,{idToken:n}));et(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?P1(o.providerUserInfo):[],h=fO(t.providerData,u),m=t.isAnonymous,y=!(t.email&&o.passwordHash)&&!h?.length,v=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new fy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function hO(t){const e=ai(t);await Bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function P1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){const n=await R1(t,{},async()=>{const r=qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,h=await N1(t,o,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(y.credentials="include"),C1.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mO(t,e){return $o(t,"POST","/v2/accounts:revokeToken",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await dO(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new ju;return r&&(et(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(et(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(et(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xh(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lO(this,e)}reload(){return hO(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await xh(this,oO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:O,providerData:V,stsTokenManager:z}=n;et(x&&z,e,"internal-error");const j=ju.fromJSON(this.name,z);et(typeof x=="string",e,"internal-error"),Eo(r,e.name),Eo(o,e.name),et(typeof A=="boolean",e,"internal-error"),et(typeof O=="boolean",e,"internal-error"),Eo(u,e.name),Eo(h,e.name),Eo(m,e.name),Eo(y,e.name),Eo(v,e.name),Eo(b,e.name);const K=new es({uid:x,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:v,lastLoginAt:b});return V&&Array.isArray(V)&&(K.providerData=V.map(G=>({...G}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new ju;o.updateFromServerResponse(n);const u=new es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Bd(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?P1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ju;m.updateFromIdToken(r);const y=new es({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function ga(t){Sa(t instanceof Function,"Expected a class definition");let e=rw.get(t);return e?(Sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I1.type="NONE";const sw=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=wd(this.userKey,o.apiKey,u),this.fullPersistenceKey=wd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zd(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(ga(sw),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||ga(sw);const h=wd(r,e.config.apiKey,e.name);let m=null;for(const v of n)try{const b=await v._get(h);if(b){let x;if(typeof b=="string"){const A=await zd(e,{idToken:b}).catch(()=>{});if(!A)break;x=await es._fromGetAccountInfoResponse(e,A,b)}else x=es._fromJSON(e,b);v!==u&&(m=x),u=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Fu(u,e,r):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Fu(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(U1(e))return"Webos";if(M1(e))return"Safari";if((e.includes("chrome/")||D1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function O1(t=Ei()){return/firefox\//i.test(t)}function M1(t=Ei()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D1(t=Ei()){return/crios\//i.test(t)}function L1(t=Ei()){return/iemobile/i.test(t)}function k1(t=Ei()){return/android/i.test(t)}function V1(t=Ei()){return/blackberry/i.test(t)}function U1(t=Ei()){return/webos/i.test(t)}function p_(t=Ei()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pO(t=Ei()){return p_(t)&&!!window.navigator?.standalone}function gO(){return PP()&&document.documentMode===10}function z1(t=Ei()){return p_(t)||k1(t)||U1(t)||V1(t)||/windows phone/i.test(t)||L1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e=[]){let n;switch(t){case"Browser":n=aw(Ei());break;case"Worker":n=`${aw(Ei())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return $o(t,"GET","/v2/passwordPolicy",Go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=6;class EO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new yO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ga(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zd(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(_a(this));const n=e?ai(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new EO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ga(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[ga(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{h=!0,y()}}else{const y=e.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fl(t){return ai(t)}class ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=UP(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wO(t){pm=t}function j1(t){return pm.loadJS(t)}function TO(){return pm.recaptchaEnterpriseScript}function xO(){return pm.gapiScript}function SO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AO{constructor(){this.enterprise=new CO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RO="recaptcha-enterprise",F1="NO_RECAPTCHA";class NO{constructor(e){this.type=RO,this.auth=Fl(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{aO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new sO(y);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(y=>{m(y)})})}function o(u,h,m){const y=window.grecaptcha;nw(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(F1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&nw(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=TO();y.length!==0&&(y+=m),j1(y).then(()=>{o(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function lw(t,e,n,r=!1,o=!1){const u=new NO(t);let h;if(o)h=F1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dy(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lw(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await lw(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){const n=mm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ml(u,e??{}))return o;as(o,"already-initialized")}return n.initialize({options:e})}function IO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ga);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function OO(t,e,n){const r=Fl(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=H1(e),{host:h,port:m}=MO(e),y=m===null?"":`:${m}`,v={url:`${u}//${h}${y}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Ml(v,r.config.emulator)&&Ml(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Bl(h)?(o_(`${u}//${h}${y}`),l_("Auth",!0)):DO()}function H1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MO(t){const e=H1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:uw(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:uw(h)}}}function uw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pa("not implemented")}_getIdTokenResponse(e){return pa("not implemented")}_linkToIdToken(e,n){return pa("not implemented")}_getReauthenticationResolver(e){return pa("not implemented")}}async function LO(t,e){return $o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){return $h(t,"POST","/v1/accounts:signInWithPassword",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}async function UO(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends g_{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Sh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(e,n,"signInWithPassword",kO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(e,r,"signUpPassword",LO);case"emailLink":return UO(e,{idToken:n,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e){return $h(t,"POST","/v1/accounts:signInWithIdp",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="http://localhost";class Ll extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):as("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new Ll(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hu(e,n)}buildRequest(){const e={requestUri:zO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jO(t){const e=rh(sh(t)).link,n=e?rh(sh(e)).deep_link_id:null,r=rh(sh(t)).deep_link_id;return(r?rh(sh(r)).link:null)||r||n||e||t}class y_{constructor(e){const n=rh(sh(e)),r=n.apiKey??null,o=n.oobCode??null,u=BO(n.mode??null);et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jO(e);try{return new y_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.providerId=rc.PROVIDER_ID}static credential(e,n){return Sh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y_.parseLink(n);return et(r,"argument-error"),Sh._fromEmailAndCode(e,r.code,r.tenantId)}}rc.PROVIDER_ID="password";rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Zh{constructor(){super("facebook.com")}static credential(e){return Ll._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ll._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Zh{constructor(){super("github.com")}static credential(e){return Ll._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Zh{constructor(){super("twitter.com")}static credential(e,n){return Ll._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return $h(t,"POST","/v1/accounts:signUp",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await es._fromIdTokenResponse(e,r,o),h=cw(r);return new kl({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=cw(r);return new kl({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Bs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new jd(e,n,r,o)}}function G1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,u,e,r):u})}async function HO(t,e,n=!1){const r=await xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(_a(r));const o="reauthenticate";try{const u=await xh(t,G1(r,o,e,t),n);et(u.idToken,r,"internal-error");const h=m_(u.idToken);et(h,r,"internal-error");const{sub:m}=h;return et(t.uid===m,r,"user-mismatch"),kl._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&as(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t,e,n=!1){if(lr(t.app))return Promise.reject(_a(t));const r="signIn",o=await G1(t,r,e),u=await kl._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function GO(t,e){return $1(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $O(t,e,n){if(lr(t.app))return Promise.reject(_a(t));const r=Fl(t),h=await dy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FO).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Z1(t),y}),m=await kl._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function ZO(t,e,n){return lr(t.app)?Promise.reject(_a(t)):GO(ai(t),rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z1(t),r})}function KO(t,e,n,r){return ai(t).onIdTokenChanged(e,n,r)}function WO(t,e,n){return ai(t).beforeAuthStateChanged(e,n)}function YO(t,e,n,r){return ai(t).onAuthStateChanged(e,n,r)}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1e3,QO=10;class W1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);gO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W1.type="LOCAL";const JO=W1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y1.type="SESSION";const X1=Y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async v=>v(n.origin,u)),y=await eM(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const v=__("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(x){const A=x;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function nM(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function iM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){return navigator?.serviceWorker?.controller||null}function sM(){return Q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",aM=1,Hd="firebaseLocalStorage",eS="fbase_key";class Kh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function oM(){const t=indexedDB.deleteDatabase(J1);return new Kh(t).toPromise()}function my(){const t=indexedDB.open(J1,aM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hd,{keyPath:eS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await oM(),e(await my()))})})}async function hw(t,e,n){const r=ym(t,!0).put({[eS]:e,value:n});return new Kh(r).toPromise()}async function lM(t,e){const n=ym(t,!1).get(e),r=await new Kh(n).toPromise();return r===void 0?null:r.value}function fw(t,e){const n=ym(t,!0).delete(e);return new Kh(n).toPromise()}const uM=800,cM=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(sM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iM(),!this.activeServiceWorker)return;this.sender=new tM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await hw(e,Fd,"1"),await fw(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ym(o,!1).getAll();return new Kh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const hM=tS;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){return e?ga(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dM(t){return $1(t.auth,new v_(t),t.bypassAuthState)}function mM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),qO(n,new v_(t),t.bypassAuthState)}async function pM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),HO(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dM;case"linkViaPopup":case"linkViaRedirect":return pM;case"reauthViaPopup":case"reauthViaRedirect":return mM;default:as(this.auth,"internal-error")}}resolve(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Gh(2e3,1e4);class Lu extends nS{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Lu.currentPopupAction&&Lu.currentPopupAction.cancel(),Lu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Sa(this.filter.length===1,"Popup operations only handle one event");const e=__();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gM.get())};e()}}Lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="pendingRedirect",Td=new Map;class _M extends nS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Td.get(this.auth._key());if(!e){try{const r=await vM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vM(t,e){const n=wM(e),r=bM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function EM(t,e){Td.set(t._key(),e)}function bM(t){return ga(t._redirectPersistence)}function wM(t){return wd(yM,t.config.apiKey,t.name)}async function TM(t,e,n=!1){if(lr(t.app))return Promise.reject(_a(t));const r=Fl(t),o=fM(r,e),h=await new _M(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=600*1e3;class SM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xM&&this.cachedEventUids.clear(),this.cachedEventUids.has(dw(e))}saveEventToCache(e){this.cachedEventUids.add(dw(e)),this.lastProcessedEventTime=Date.now()}}function dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function AM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e={}){return $o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NM=/^https?/;async function PM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CM(t);for(const n of e)try{if(IM(n))return}catch{}as(t,"unauthorized-domain")}function IM(t){const e=hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!NM.test(n))return!1;if(RM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Gh(3e4,6e4);function mw(){const t=Ns().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MM(t){return new Promise((e,n)=>{function r(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(Rs(t,"network-request-failed"))},timeout:OM.get()})}if(Ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ns().gapi?.load)r();else{const o=SO("iframefcb");return Ns()[o]=()=>{gapi.load?r():n(Rs(t,"network-request-failed"))},j1(`${xO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw xd=null,e})}let xd=null;function DM(t){return xd=xd||MM(t),xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Gh(5e3,15e3),kM="__/auth/iframe",VM="emulator/auth/iframe",UM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BM(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d_(e,VM):`https://${t.config.authDomain}/${kM}`,r={apiKey:e.apiKey,appName:t.name,v:jl},o=zM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${qh(r).slice(1)}`}async function jM(t){const e=await DM(t),n=Ns().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:BM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Rs(t,"network-request-failed"),m=Ns().setTimeout(()=>{u(h)},LM.get());function y(){Ns().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,qM=600,GM="_blank",$M="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZM(t,e,n,r=HM,o=qM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...FM,width:r.toString(),height:o.toString(),top:u,left:h},v=Ei().toLowerCase();n&&(m=D1(v)?GM:n),O1(v)&&(e=e||$M,y.scrollbars="yes");const b=Object.entries(y).reduce((A,[O,V])=>`${A}${O}=${V},`,"");if(pO(v)&&m!=="_self")return KM(e||"",m),new pw(null);const x=window.open(e||"",m,b);et(x,t,"popup-blocked");try{x.focus()}catch{}return new pw(x)}function KM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="__/auth/handler",YM="emulator/auth/handler",XM=encodeURIComponent("fac");async function gw(t,e,n,r,o,u){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:o};if(e instanceof q1){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",VP(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))h[b]=x}if(e instanceof Zh){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(h.scopes=b.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await t._getAppCheckToken(),v=y?`#${XM}=${encodeURIComponent(y)}`:"";return`${QM(t)}?${qh(m).slice(1)}${v}`}function QM({config:t}){return t.emulator?d_(t,YM):`https://${t.authDomain}/${WM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class JM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=TM,this._overrideRedirectResult=EM}async _openPopup(e,n,r,o){Sa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gw(e,n,r,hy(),o);return ZM(e,u,__())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await gw(e,n,r,hy(),o);return nM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Sa(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jM(e),r=new SM(e);return n.register("authEvent",o=>(et(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},o=>{const u=o?.[0]?.[Og];u!==void 0&&n(!!u),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z1()||M1()||p_()}}const eD=JM;var yw="@firebase/auth",_w="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iD(t){Dl(new Mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;et(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(t)},v=new bO(r,o,u,y);return IO(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new Mo("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(r=>new tD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(yw,_w,nD(t)),Cs(yw,_w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=300,sD=y1("authIdTokenMaxAge")||rD;let vw=null;const aD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sD)return;const o=n?.token;vw!==o&&(vw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oD(t=h_()){const e=mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PO(t,{popupRedirectResolver:eD,persistence:[hM,JO,X1]}),r=y1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=aD(u.toString());WO(n,h,()=>h(n.currentUser)),KO(n,m=>h(m))}}const o=m1("auth");return o&&OO(n,`http://${o}`),n}function lD(){return document.getElementsByTagName("head")?.[0]??document}wO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Rs("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",lD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iD("Browser");var uD="firebase",cD="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(uD,cD,"app");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,rS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,N){function M(){}M.prototype=N.prototype,U.D=N.prototype,U.prototype=new M,U.prototype.constructor=U,U.C=function(F,H,Y){for(var q=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)q[Ze-2]=arguments[Ze];return N.prototype[H].apply(F,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,N,M){M||(M=0);var F=Array(16);if(typeof N=="string")for(var H=0;16>H;++H)F[H]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(H=0;16>H;++H)F[H]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=U.g[0],M=U.g[1],H=U.g[2];var Y=U.g[3],q=N+(Y^M&(H^Y))+F[0]+3614090360&4294967295;N=M+(q<<7&4294967295|q>>>25),q=Y+(H^N&(M^H))+F[1]+3905402710&4294967295,Y=N+(q<<12&4294967295|q>>>20),q=H+(M^Y&(N^M))+F[2]+606105819&4294967295,H=Y+(q<<17&4294967295|q>>>15),q=M+(N^H&(Y^N))+F[3]+3250441966&4294967295,M=H+(q<<22&4294967295|q>>>10),q=N+(Y^M&(H^Y))+F[4]+4118548399&4294967295,N=M+(q<<7&4294967295|q>>>25),q=Y+(H^N&(M^H))+F[5]+1200080426&4294967295,Y=N+(q<<12&4294967295|q>>>20),q=H+(M^Y&(N^M))+F[6]+2821735955&4294967295,H=Y+(q<<17&4294967295|q>>>15),q=M+(N^H&(Y^N))+F[7]+4249261313&4294967295,M=H+(q<<22&4294967295|q>>>10),q=N+(Y^M&(H^Y))+F[8]+1770035416&4294967295,N=M+(q<<7&4294967295|q>>>25),q=Y+(H^N&(M^H))+F[9]+2336552879&4294967295,Y=N+(q<<12&4294967295|q>>>20),q=H+(M^Y&(N^M))+F[10]+4294925233&4294967295,H=Y+(q<<17&4294967295|q>>>15),q=M+(N^H&(Y^N))+F[11]+2304563134&4294967295,M=H+(q<<22&4294967295|q>>>10),q=N+(Y^M&(H^Y))+F[12]+1804603682&4294967295,N=M+(q<<7&4294967295|q>>>25),q=Y+(H^N&(M^H))+F[13]+4254626195&4294967295,Y=N+(q<<12&4294967295|q>>>20),q=H+(M^Y&(N^M))+F[14]+2792965006&4294967295,H=Y+(q<<17&4294967295|q>>>15),q=M+(N^H&(Y^N))+F[15]+1236535329&4294967295,M=H+(q<<22&4294967295|q>>>10),q=N+(H^Y&(M^H))+F[1]+4129170786&4294967295,N=M+(q<<5&4294967295|q>>>27),q=Y+(M^H&(N^M))+F[6]+3225465664&4294967295,Y=N+(q<<9&4294967295|q>>>23),q=H+(N^M&(Y^N))+F[11]+643717713&4294967295,H=Y+(q<<14&4294967295|q>>>18),q=M+(Y^N&(H^Y))+F[0]+3921069994&4294967295,M=H+(q<<20&4294967295|q>>>12),q=N+(H^Y&(M^H))+F[5]+3593408605&4294967295,N=M+(q<<5&4294967295|q>>>27),q=Y+(M^H&(N^M))+F[10]+38016083&4294967295,Y=N+(q<<9&4294967295|q>>>23),q=H+(N^M&(Y^N))+F[15]+3634488961&4294967295,H=Y+(q<<14&4294967295|q>>>18),q=M+(Y^N&(H^Y))+F[4]+3889429448&4294967295,M=H+(q<<20&4294967295|q>>>12),q=N+(H^Y&(M^H))+F[9]+568446438&4294967295,N=M+(q<<5&4294967295|q>>>27),q=Y+(M^H&(N^M))+F[14]+3275163606&4294967295,Y=N+(q<<9&4294967295|q>>>23),q=H+(N^M&(Y^N))+F[3]+4107603335&4294967295,H=Y+(q<<14&4294967295|q>>>18),q=M+(Y^N&(H^Y))+F[8]+1163531501&4294967295,M=H+(q<<20&4294967295|q>>>12),q=N+(H^Y&(M^H))+F[13]+2850285829&4294967295,N=M+(q<<5&4294967295|q>>>27),q=Y+(M^H&(N^M))+F[2]+4243563512&4294967295,Y=N+(q<<9&4294967295|q>>>23),q=H+(N^M&(Y^N))+F[7]+1735328473&4294967295,H=Y+(q<<14&4294967295|q>>>18),q=M+(Y^N&(H^Y))+F[12]+2368359562&4294967295,M=H+(q<<20&4294967295|q>>>12),q=N+(M^H^Y)+F[5]+4294588738&4294967295,N=M+(q<<4&4294967295|q>>>28),q=Y+(N^M^H)+F[8]+2272392833&4294967295,Y=N+(q<<11&4294967295|q>>>21),q=H+(Y^N^M)+F[11]+1839030562&4294967295,H=Y+(q<<16&4294967295|q>>>16),q=M+(H^Y^N)+F[14]+4259657740&4294967295,M=H+(q<<23&4294967295|q>>>9),q=N+(M^H^Y)+F[1]+2763975236&4294967295,N=M+(q<<4&4294967295|q>>>28),q=Y+(N^M^H)+F[4]+1272893353&4294967295,Y=N+(q<<11&4294967295|q>>>21),q=H+(Y^N^M)+F[7]+4139469664&4294967295,H=Y+(q<<16&4294967295|q>>>16),q=M+(H^Y^N)+F[10]+3200236656&4294967295,M=H+(q<<23&4294967295|q>>>9),q=N+(M^H^Y)+F[13]+681279174&4294967295,N=M+(q<<4&4294967295|q>>>28),q=Y+(N^M^H)+F[0]+3936430074&4294967295,Y=N+(q<<11&4294967295|q>>>21),q=H+(Y^N^M)+F[3]+3572445317&4294967295,H=Y+(q<<16&4294967295|q>>>16),q=M+(H^Y^N)+F[6]+76029189&4294967295,M=H+(q<<23&4294967295|q>>>9),q=N+(M^H^Y)+F[9]+3654602809&4294967295,N=M+(q<<4&4294967295|q>>>28),q=Y+(N^M^H)+F[12]+3873151461&4294967295,Y=N+(q<<11&4294967295|q>>>21),q=H+(Y^N^M)+F[15]+530742520&4294967295,H=Y+(q<<16&4294967295|q>>>16),q=M+(H^Y^N)+F[2]+3299628645&4294967295,M=H+(q<<23&4294967295|q>>>9),q=N+(H^(M|~Y))+F[0]+4096336452&4294967295,N=M+(q<<6&4294967295|q>>>26),q=Y+(M^(N|~H))+F[7]+1126891415&4294967295,Y=N+(q<<10&4294967295|q>>>22),q=H+(N^(Y|~M))+F[14]+2878612391&4294967295,H=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(H|~N))+F[5]+4237533241&4294967295,M=H+(q<<21&4294967295|q>>>11),q=N+(H^(M|~Y))+F[12]+1700485571&4294967295,N=M+(q<<6&4294967295|q>>>26),q=Y+(M^(N|~H))+F[3]+2399980690&4294967295,Y=N+(q<<10&4294967295|q>>>22),q=H+(N^(Y|~M))+F[10]+4293915773&4294967295,H=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(H|~N))+F[1]+2240044497&4294967295,M=H+(q<<21&4294967295|q>>>11),q=N+(H^(M|~Y))+F[8]+1873313359&4294967295,N=M+(q<<6&4294967295|q>>>26),q=Y+(M^(N|~H))+F[15]+4264355552&4294967295,Y=N+(q<<10&4294967295|q>>>22),q=H+(N^(Y|~M))+F[6]+2734768916&4294967295,H=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(H|~N))+F[13]+1309151649&4294967295,M=H+(q<<21&4294967295|q>>>11),q=N+(H^(M|~Y))+F[4]+4149444226&4294967295,N=M+(q<<6&4294967295|q>>>26),q=Y+(M^(N|~H))+F[11]+3174756917&4294967295,Y=N+(q<<10&4294967295|q>>>22),q=H+(N^(Y|~M))+F[2]+718787259&4294967295,H=Y+(q<<15&4294967295|q>>>17),q=M+(Y^(H|~N))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+N&4294967295,U.g[1]=U.g[1]+(H+(q<<21&4294967295|q>>>11))&4294967295,U.g[2]=U.g[2]+H&4294967295,U.g[3]=U.g[3]+Y&4294967295}r.prototype.u=function(U,N){N===void 0&&(N=U.length);for(var M=N-this.blockSize,F=this.B,H=this.h,Y=0;Y<N;){if(H==0)for(;Y<=M;)o(this,U,Y),Y+=this.blockSize;if(typeof U=="string"){for(;Y<N;)if(F[H++]=U.charCodeAt(Y++),H==this.blockSize){o(this,F),H=0;break}}else for(;Y<N;)if(F[H++]=U[Y++],H==this.blockSize){o(this,F),H=0;break}}this.h=H,this.o+=N},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var N=1;N<U.length-8;++N)U[N]=0;var M=8*this.o;for(N=U.length-8;N<U.length;++N)U[N]=M&255,M/=256;for(this.u(U),U=Array(16),N=M=0;4>N;++N)for(var F=0;32>F;F+=8)U[M++]=this.g[N]>>>F&255;return U};function u(U,N){var M=m;return Object.prototype.hasOwnProperty.call(M,U)?M[U]:M[U]=N(U)}function h(U,N){this.h=N;for(var M=[],F=!0,H=U.length-1;0<=H;H--){var Y=U[H]|0;F&&Y==N||(M[H]=Y,F=!1)}this.g=M}var m={};function y(U){return-128<=U&&128>U?u(U,function(N){return new h([N|0],0>N?-1:0)}):new h([U|0],0>U?-1:0)}function v(U){if(isNaN(U)||!isFinite(U))return x;if(0>U)return j(v(-U));for(var N=[],M=1,F=0;U>=M;F++)N[F]=U/M|0,M*=4294967296;return new h(N,0)}function b(U,N){if(U.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U.charAt(0)=="-")return j(b(U.substring(1),N));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=v(Math.pow(N,8)),F=x,H=0;H<U.length;H+=8){var Y=Math.min(8,U.length-H),q=parseInt(U.substring(H,H+Y),N);8>Y?(Y=v(Math.pow(N,Y)),F=F.j(Y).add(v(q))):(F=F.j(M),F=F.add(v(q)))}return F}var x=y(0),A=y(1),O=y(16777216);t=h.prototype,t.m=function(){if(z(this))return-j(this).m();for(var U=0,N=1,M=0;M<this.g.length;M++){var F=this.i(M);U+=(0<=F?F:4294967296+F)*N,N*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(V(this))return"0";if(z(this))return"-"+j(this).toString(U);for(var N=v(Math.pow(U,6)),M=this,F="";;){var H=ve(M,N).g;M=K(M,H.j(N));var Y=((0<M.g.length?M.g[0]:M.h)>>>0).toString(U);if(M=H,V(M))return Y+F;for(;6>Y.length;)Y="0"+Y;F=Y+F}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function V(U){if(U.h!=0)return!1;for(var N=0;N<U.g.length;N++)if(U.g[N]!=0)return!1;return!0}function z(U){return U.h==-1}t.l=function(U){return U=K(this,U),z(U)?-1:V(U)?0:1};function j(U){for(var N=U.g.length,M=[],F=0;F<N;F++)M[F]=~U.g[F];return new h(M,~U.h).add(A)}t.abs=function(){return z(this)?j(this):this},t.add=function(U){for(var N=Math.max(this.g.length,U.g.length),M=[],F=0,H=0;H<=N;H++){var Y=F+(this.i(H)&65535)+(U.i(H)&65535),q=(Y>>>16)+(this.i(H)>>>16)+(U.i(H)>>>16);F=q>>>16,Y&=65535,q&=65535,M[H]=q<<16|Y}return new h(M,M[M.length-1]&-2147483648?-1:0)};function K(U,N){return U.add(j(N))}t.j=function(U){if(V(this)||V(U))return x;if(z(this))return z(U)?j(this).j(j(U)):j(j(this).j(U));if(z(U))return j(this.j(j(U)));if(0>this.l(O)&&0>U.l(O))return v(this.m()*U.m());for(var N=this.g.length+U.g.length,M=[],F=0;F<2*N;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var H=0;H<U.g.length;H++){var Y=this.i(F)>>>16,q=this.i(F)&65535,Ze=U.i(H)>>>16,Ue=U.i(H)&65535;M[2*F+2*H]+=q*Ue,G(M,2*F+2*H),M[2*F+2*H+1]+=Y*Ue,G(M,2*F+2*H+1),M[2*F+2*H+1]+=q*Ze,G(M,2*F+2*H+1),M[2*F+2*H+2]+=Y*Ze,G(M,2*F+2*H+2)}for(F=0;F<N;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=N;F<2*N;F++)M[F]=0;return new h(M,0)};function G(U,N){for(;(U[N]&65535)!=U[N];)U[N+1]+=U[N]>>>16,U[N]&=65535,N++}function X(U,N){this.g=U,this.h=N}function ve(U,N){if(V(N))throw Error("division by zero");if(V(U))return new X(x,x);if(z(U))return N=ve(j(U),N),new X(j(N.g),j(N.h));if(z(N))return N=ve(U,j(N)),new X(j(N.g),N.h);if(30<U.g.length){if(z(U)||z(N))throw Error("slowDivide_ only works with positive integers.");for(var M=A,F=N;0>=F.l(U);)M=ae(M),F=ae(F);var H=de(M,1),Y=de(F,1);for(F=de(F,2),M=de(M,2);!V(F);){var q=Y.add(F);0>=q.l(U)&&(H=H.add(M),Y=q),F=de(F,1),M=de(M,1)}return N=K(U,H.j(N)),new X(H,N)}for(H=x;0<=U.l(N);){for(M=Math.max(1,Math.floor(U.m()/N.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),Y=v(M),q=Y.j(N);z(q)||0<q.l(U);)M-=F,Y=v(M),q=Y.j(N);V(Y)&&(Y=A),H=H.add(Y),U=K(U,q)}return new X(H,U)}t.A=function(U){return ve(this,U).h},t.and=function(U){for(var N=Math.max(this.g.length,U.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)&U.i(F);return new h(M,this.h&U.h)},t.or=function(U){for(var N=Math.max(this.g.length,U.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)|U.i(F);return new h(M,this.h|U.h)},t.xor=function(U){for(var N=Math.max(this.g.length,U.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)^U.i(F);return new h(M,this.h^U.h)};function ae(U){for(var N=U.g.length+1,M=[],F=0;F<N;F++)M[F]=U.i(F)<<1|U.i(F-1)>>>31;return new h(M,U.h)}function de(U,N){var M=N>>5;N%=32;for(var F=U.g.length-M,H=[],Y=0;Y<F;Y++)H[Y]=0<N?U.i(Y+M)>>>N|U.i(Y+M+1)<<32-N:U.i(Y+M);return new h(H,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rS=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=b,Io=h}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,ah,aS,Sd,py,oS,lS,uS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,C){return d==Array.prototype||d==Object.prototype||(d[T]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var T=0;T<d.length;++T){var C=d[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function o(d,T){if(T)e:{var C=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var te=d[D];if(!(te in C))break e;C=C[te]}d=d[d.length-1],D=C[d],T=T(D),T!=D&&T!=null&&e(C,d,{configurable:!0,writable:!0,value:T})}}function u(d,T){d instanceof String&&(d+="");var C=0,D=!1,te={next:function(){if(!D&&C<d.length){var he=C++;return{value:T(he,d[he]),done:!1}}return D=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}o("Array.prototype.values",function(d){return d||function(){return u(this,function(T,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function v(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function b(d,T,C){return d.call.apply(d.bind,arguments)}function x(d,T,C){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,D),d.apply(T,te)}}return function(){return d.apply(T,arguments)}}function A(d,T,C){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:x,A.apply(null,arguments)}function O(d,T){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function V(d,T){function C(){}C.prototype=T.prototype,d.aa=T.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(D,te,he){for(var Ie=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Ie[_t-2]=arguments[_t];return T.prototype[te].apply(D,Ie)}}function z(d){const T=d.length;if(0<T){const C=Array(T);for(let D=0;D<T;D++)C[D]=d[D];return C}return[]}function j(d,T){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(y(D)){const te=d.length||0,he=D.length||0;d.length=te+he;for(let Ie=0;Ie<he;Ie++)d[te+Ie]=D[Ie]}else d.push(D)}}class K{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function G(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function ve(d){return ve[" "](d),d}ve[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function de(d,T,C){for(const D in d)T.call(C,d[D],D,d)}function U(d,T){for(const C in d)T.call(void 0,d[C],C,d)}function N(d){const T={};for(const C in d)T[C]=d[C];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,T){let C,D;for(let te=1;te<arguments.length;te++){D=arguments[te];for(C in D)d[C]=D[C];for(let he=0;he<M.length;he++)C=M[he],Object.prototype.hasOwnProperty.call(D,C)&&(d[C]=D[C])}}function H(d){var T=1;d=d.split(":");const C=[];for(;0<T&&d.length;)C.push(d.shift()),T--;return d.length&&C.push(d.join(":")),C}function Y(d){m.setTimeout(()=>{throw d},0)}function q(){var d=$e;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Ze{constructor(){this.h=this.g=null}add(T,C){const D=Ue.get();D.set(T,C),this.h?this.h.next=D:this.g=D,this.h=D}}var Ue=new K(()=>new ie,d=>d.reset());class ie{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,pe=!1,$e=new Ze,B=()=>{const d=m.Promise.resolve(void 0);ge=()=>{d.then(W)}};var W=()=>{for(var d;d=q();){try{d.h.call(d.g)}catch(C){Y(C)}var T=Ue;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}pe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};m.addEventListener("test",C,T),m.removeEventListener("test",C,T)}catch{}return d})();function Pe(d,T){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(ae){e:{try{ve(T.nodeName);var te=!0;break e}catch{}te=!1}te||(T=null)}}else C=="mouseover"?T=d.fromElement:C=="mouseout"&&(T=d.toElement);this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Te[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}V(Pe,oe);var Te={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function qt(d,T,C,D,te){this.listener=d,this.proxy=null,this.src=T,this.type=C,this.capture=!!D,this.ha=te,this.key=++Qe,this.da=this.fa=!1}function Gt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pt(d){this.src=d,this.g={},this.h=0}Pt.prototype.add=function(d,T,C,D,te){var he=d.toString();d=this.g[he],d||(d=this.g[he]=[],this.h++);var Ie=Yt(d,T,D,te);return-1<Ie?(T=d[Ie],C||(T.fa=!1)):(T=new qt(T,this.src,he,!!D,te),T.fa=C,d.push(T)),T};function Wt(d,T){var C=T.type;if(C in d.g){var D=d.g[C],te=Array.prototype.indexOf.call(D,T,void 0),he;(he=0<=te)&&Array.prototype.splice.call(D,te,1),he&&(Gt(T),d.g[C].length==0&&(delete d.g[C],d.h--))}}function Yt(d,T,C,D){for(var te=0;te<d.length;++te){var he=d[te];if(!he.da&&he.listener==T&&he.capture==!!C&&he.ha==D)return te}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),Dr={};function us(d,T,C,D,te){if(Array.isArray(T)){for(var he=0;he<T.length;he++)us(d,T[he],C,D,te);return null}return C=Re(C),d&&d[ht]?d.K(T,C,v(D)?!!D.capture:!1,te):jn(d,T,C,!1,D,te)}function jn(d,T,C,D,te,he){if(!T)throw Error("Invalid event type");var Ie=v(te)?!!te.capture:!!te,_t=Fi(d);if(_t||(d[Mr]=_t=new Pt(d)),C=_t.add(T,C,D,Ie,he),C.proxy)return C;if(D=ji(),C.proxy=D,D.src=d,D.listener=C,d.addEventListener)Ne||(te=Ie),te===void 0&&(te=!1),d.addEventListener(T.toString(),D,te);else if(d.attachEvent)d.attachEvent(bi(T.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ji(){function d(C){return T.call(d.src,d.listener,C)}const T=Lr;return d}function Hs(d,T,C,D,te){if(Array.isArray(T))for(var he=0;he<T.length;he++)Hs(d,T[he],C,D,te);else D=v(D)?!!D.capture:!!D,C=Re(C),d&&d[ht]?(d=d.i,T=String(T).toString(),T in d.g&&(he=d.g[T],C=Yt(he,C,D,te),-1<C&&(Gt(he[C]),Array.prototype.splice.call(he,C,1),he.length==0&&(delete d.g[T],d.h--)))):d&&(d=Fi(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Yt(T,C,D,te)),(C=-1<d?T[d]:null)&&ur(C))}function ur(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[ht])Wt(T.i,d);else{var C=d.type,D=d.proxy;T.removeEventListener?T.removeEventListener(C,D,d.capture):T.detachEvent?T.detachEvent(bi(C),D):T.addListener&&T.removeListener&&T.removeListener(D),(C=Fi(T))?(Wt(C,d),C.h==0&&(C.src=null,T[Mr]=null)):Gt(d)}}}function bi(d){return d in Dr?Dr[d]:Dr[d]="on"+d}function Lr(d,T){if(d.da)d=!0;else{T=new Pe(T,this);var C=d.listener,D=d.ha||d.src;d.fa&&ur(d),d=C.call(D,T)}return d}function Fi(d){return d=d[Mr],d instanceof Pt?d:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(d){return typeof d=="function"?d:(d[qs]||(d[qs]=function(T){return d.handleEvent(T)}),d[qs])}function ee(){me.call(this),this.i=new Pt(this),this.M=this,this.F=null}V(ee,me),ee.prototype[ht]=!0,ee.prototype.removeEventListener=function(d,T,C,D){Hs(this,d,T,C,D)};function ye(d,T){var C,D=d.F;if(D)for(C=[];D;D=D.F)C.push(D);if(d=d.M,D=T.type||T,typeof T=="string")T=new oe(T,d);else if(T instanceof oe)T.target=T.target||d;else{var te=T;T=new oe(D,d),F(T,te)}if(te=!0,C)for(var he=C.length-1;0<=he;he--){var Ie=T.g=C[he];te=Ce(Ie,D,!0,T)&&te}if(Ie=T.g=d,te=Ce(Ie,D,!0,T)&&te,te=Ce(Ie,D,!1,T)&&te,C)for(he=0;he<C.length;he++)Ie=T.g=C[he],te=Ce(Ie,D,!1,T)&&te}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var C=d.g[T],D=0;D<C.length;D++)Gt(C[D]);delete d.g[T],d.h--}}this.F=null},ee.prototype.K=function(d,T,C,D){return this.i.add(String(d),T,!1,C,D)},ee.prototype.L=function(d,T,C,D){return this.i.add(String(d),T,!0,C,D)};function Ce(d,T,C,D){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var te=!0,he=0;he<T.length;++he){var Ie=T[he];if(Ie&&!Ie.da&&Ie.capture==C){var _t=Ie.listener,gn=Ie.ha||Ie.src;Ie.fa&&Wt(d.i,Ie),te=_t.call(gn,D)!==!1&&te}}return te&&!D.defaultPrevented}function He(d,T,C){if(typeof d=="function")C&&(d=A(d,C));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:m.setTimeout(d,T||0)}function at(d){d.g=He(()=>{d.g=null,d.i&&(d.i=!1,at(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class yt extends me{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(d){me.call(this),this.h=d,this.g={}}V(fe,me);var be=[];function ke(d){de(d.g,function(T,C){this.g.hasOwnProperty(C)&&ur(T)},d),d.g={}}fe.prototype.N=function(){fe.aa.N.call(this),ke(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=m.JSON.stringify,Le=m.JSON.parse,We=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function It(){}It.prototype.h=null;function Ot(d){return d.h||(d.h=d.i())}function Tt(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ct(){oe.call(this,"d")}V(Ct,oe);function sn(){oe.call(this,"c")}V(sn,oe);var Ln={},wi=null;function Ti(){return wi=wi||new ee}Ln.La="serverreachability";function kr(d){oe.call(this,Ln.La,d)}V(kr,oe);function Hi(d){const T=Ti();ye(T,new kr(T))}Ln.STAT_EVENT="statevent";function Pa(d,T){oe.call(this,Ln.STAT_EVENT,d),this.stat=T}V(Pa,oe);function Xt(d){const T=Ti();ye(T,new Pa(T,d))}Ln.Ma="timingevent";function vn(d,T){oe.call(this,Ln.Ma,d),this.size=T}V(vn,oe);function pn(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},T)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function li(d,T,C,D,te,he){d.info(function(){if(d.g)if(he)for(var Ie="",_t=he.split("&"),gn=0;gn<_t.length;gn++){var vt=_t[gn].split("=");if(1<vt.length){var Lt=vt[0];vt=vt[1];var Jt=Lt.split("_");Ie=2<=Jt.length&&Jt[1]=="type"?Ie+(Lt+"="+vt+"&"):Ie+(Lt+"=redacted&")}}else Ie=null;else Ie=he;return"XMLHTTP REQ ("+D+") [attempt "+te+"]: "+T+`
`+C+`
`+Ie})}function Fe(d,T,C,D,te,he,Ie){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+te+"]: "+T+`
`+C+`
`+he+" "+Ie})}function Vr(d,T,C,D){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+cs(d,C)+(D?" "+D:"")})}function Wo(d,T){d.info(function(){return"TIMEOUT: "+T})}Oi.prototype.info=function(){};function cs(d,T){if(!d.g)return T;if(!T)return null;try{var C=JSON.parse(T);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var D=C[d];if(!(2>D.length)){var te=D[1];if(Array.isArray(te)&&!(1>te.length)){var he=te[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Ie=1;Ie<te.length;Ie++)te[Ie]=""}}}}return Me(C)}catch{return T}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function Xn(){}V(Xn,It),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Gi=new Xn;function Fn(d,T,C,D){this.j=d,this.i=T,this.l=C,this.R=D||1,this.U=new fe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var Yo={},Ia={};function $i(d,T,C){d.L=1,d.v=xi(Qt(T)),d.m=C,d.P=!0,cr(d,null)}function cr(d,T){d.F=Date.now(),$s(d),d.A=Qt(d.v);var C=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Jo(C.i,"t",D),d.C=0,C=d.j.J,d.h=new un,d.g=Jl(d.j,C?T:null,!d.m),0<d.O&&(d.M=new yt(A(d.Y,d,d.g),d.O)),T=d.U,C=d.g,D=d.ca;var te="readystatechange";Array.isArray(te)||(te&&(be[0]=te.toString()),te=be);for(var he=0;he<te.length;he++){var Ie=us(C,te[he],D||T.handleEvent,!1,T.h||T);if(!Ie)break;T.g[Ie.key]=Ie}T=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),Hi(),li(d.i,d.u,d.A,d.l,d.R,d.m)}Fn.prototype.ca=function(d){d=d.target;const T=this.M;T&&Gn(d)==3?T.j():this.Y(d)},Fn.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=Gn(this.g);var T=this.g.Ba();const $r=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||Jt!=4||T==7||(T==8||0>=$r?Hi(3):Hi(2)),hs(this);var C=this.g.Z();this.X=C;t:if(Kl(this)){var D=el(this.g);d="";var te=D.length,he=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),hr(this);var Ie="";break t}this.h.i=new m.TextDecoder}for(T=0;T<te;T++)this.h.h=!0,d+=this.h.i.decode(D[T],{stream:!(he&&T==te-1)});D.length=0,this.h.g+=d,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=C==200,Fe(this.i,this.u,this.A,this.l,this.R,Jt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,gn=this.g;if((_t=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_t)){var vt=_t;break t}}vt=null}if(C=vt)Vr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,C);else{this.o=!1,this.s=3,Xt(12),kn(this),hr(this);break e}}if(this.P){C=!0;let $t;for(;!this.J&&this.C<Ie.length;)if($t=Gs(this,Ie),$t==Ia){Jt==4&&(this.s=4,Xt(14),C=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Yo){this.s=4,Xt(15),Vr(this.i,this.l,Ie,"[Invalid Chunk]"),C=!1;break}else Vr(this.i,this.l,$t,null),zr(this,$t);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||Ie.length!=0||this.h.h||(this.s=1,Xt(16),C=!1),this.o=this.o&&C,!C)Vr(this.i,this.l,Ie,"[Invalid Chunked Response]"),kn(this),hr(this);else if(0<Ie.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),ys(Lt),Lt.M=!0,Xt(11))}}else Vr(this.i,this.l,Ie,null),zr(this,Ie);Jt==4&&kn(this),this.o&&!this.J&&(Jt==4?nl(this.j,this):(this.o=!1,$s(this)))}else fc(this.g),C==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),kn(this),hr(this)}}}catch{}finally{}};function Kl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Gs(d,T){var C=d.C,D=T.indexOf(`
`,C);return D==-1?Ia:(C=Number(T.substring(C,D)),isNaN(C)?Yo:(D+=1,D+C>T.length?Ia:(T=T.slice(D,D+C),d.C=D+C,T)))}Fn.prototype.cancel=function(){this.J=!0,kn(this)};function $s(d){d.S=Date.now()+d.I,Wl(d,d.I)}function Wl(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=pn(A(d.ba,d),T)}function hs(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Fn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Wo(this.i,this.A),this.L!=2&&(Hi(),Xt(17)),kn(this),this.s=2,hr(this)):Wl(this,this.S-d)};function hr(d){d.j.G==0||d.J||nl(d.j,d)}function kn(d){hs(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,ke(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function zr(d,T){try{var C=d.j;if(C.G!=0&&(C.g==d||dt(C.h,d))){if(!d.K&&dt(C.h,d)&&C.G==3){try{var D=C.Da.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var te=D;if(te[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)Ba(C),Va(C);else break e;Ua(C),Xt(18)}}else C.za=te[1],0<C.za-C.T&&37500>te[2]&&C.F&&C.v==0&&!C.C&&(C.C=pn(A(C.Za,C),6e3));if(1>=dr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Gr(C,11)}else if((d.K||C.g==d)&&Ba(C),!G(T))for(te=C.Da.g.parse(T),T=0;T<te.length;T++){let vt=te[T];if(C.T=vt[0],vt=vt[1],C.G==2)if(vt[0]=="c"){C.K=vt[1],C.ia=vt[2];const Lt=vt[3];Lt!=null&&(C.la=Lt,C.j.info("VER="+C.la));const Jt=vt[4];Jt!=null&&(C.Aa=Jt,C.j.info("SVER="+C.Aa));const $r=vt[5];$r!=null&&typeof $r=="number"&&0<$r&&(D=1.5*$r,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const $t=d.g;if($t){const _r=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var he=D.h;he.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Dt(he,he.h),he.h=null))}if(D.D){const vr=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;vr&&(D.ya=vr,Je(D.I,D.D,vr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var Ie=d;if(D.qa=Fa(D,D.J?D.ia:null,D.W),Ie.K){An(D.h,Ie);var _t=Ie,gn=D.L;gn&&(_t.I=gn),_t.B&&(hs(_t),$s(_t)),D.g=Ie}else Qi(D);0<C.i.length&&gs(C)}else vt[0]!="stop"&&vt[0]!="close"||Gr(C,7);else C.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Gr(C,7):ka(C):vt[0]!="noop"&&C.l&&C.l.ta(vt),C.v=0)}}Hi(4)}catch{}}var fs=class{constructor(d,T){this.g=d,this.map=T}};function fr(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function dr(d){return d.h?1:d.g?d.g.size:0}function dt(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Dt(d,T){d.g?d.g.add(T):d.h=T}function An(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}fr.prototype.cancel=function(){if(this.i=mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function mr(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const C of d.g.values())T=T.concat(C.D);return T}return z(d.i)}function ds(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var T=[],C=d.length,D=0;D<C;D++)T.push(d[D]);return T}T=[],C=0;for(D in d)T[C++]=d[D];return T}function ms(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var T=[];d=d.length;for(var C=0;C<d;C++)T.push(C);return T}T=[],C=0;for(const D in d)T[C++]=D;return T}}}function st(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var C=ms(d),D=ds(d),te=D.length,he=0;he<te;he++)T.call(void 0,D[he],C&&C[he],d)}var Vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(d,T){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var D=d[C].indexOf("="),te=null;if(0<=D){var he=d[C].substring(0,D);te=d[C].substring(D+1)}else he=d[C];T(he,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function nn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof nn){this.h=d.h,Ks(this,d.j),this.o=d.o,this.g=d.g,Zi(this,d.s),this.l=d.l;var T=d.i,C=new Wi;C.i=T.i,T.g&&(C.g=new Map(T.g),C.h=T.h),Qn(this,C),this.m=d.m}else d&&(T=String(d).match(Vt))?(this.h=!1,Ks(this,T[1]||"",!0),this.o=Hn(T[2]||""),this.g=Hn(T[3]||"",!0),Zi(this,T[4]),this.l=Hn(T[5]||"",!0),Qn(this,T[6]||"",!0),this.m=Hn(T[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}nn.prototype.toString=function(){var d=[],T=this.j;T&&d.push(Ki(T,Br,!0),":");var C=this.g;return(C||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Ki(T,Br,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Ki(C,C.charAt(0)=="/"?Qo:Ws,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Ki(C,ps)),d.join("")};function Qt(d){return new nn(d)}function Ks(d,T,C){d.j=C?Hn(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function Zi(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function Qn(d,T,C){T instanceof Wi?(d.i=T,Si(d.i,d.h)):(C||(T=Ki(T,Ma)),d.i=new Wi(T,d.h))}function Je(d,T,C){d.i.set(T,C)}function xi(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hn(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ki(d,T,C){return typeof d=="string"?(d=encodeURI(d).replace(T,Oa),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Oa(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Br=/[#\/\?@]/g,Ws=/[#\?:]/g,Qo=/[#\?]/g,Ma=/[#\?@]/g,ps=/#/g;function Wi(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Jn(d){d.g||(d.g=new Map,d.h=0,d.i&&Xo(d.i,function(T,C){d.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=Wi.prototype,t.add=function(d,T){Jn(this),this.i=null,d=Ke(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(T),this.h+=1,this};function pr(d,T){Jn(d),T=Ke(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Yi(d,T){return Jn(d),T=Ke(d,T),d.g.has(T)}t.forEach=function(d,T){Jn(this),this.g.forEach(function(C,D){C.forEach(function(te){d.call(T,te,D,this)},this)},this)},t.na=function(){Jn(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),C=[];for(let D=0;D<T.length;D++){const te=d[D];for(let he=0;he<te.length;he++)C.push(T[D])}return C},t.V=function(d){Jn(this);let T=[];if(typeof d=="string")Yi(this,d)&&(T=T.concat(this.g.get(Ke(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)T=T.concat(d[C])}return T},t.set=function(d,T){return Jn(this),this.i=null,d=Ke(this,d),Yi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},t.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function Jo(d,T,C){pr(d,T),0<C.length&&(d.i=null,d.g.set(Ke(d,T),z(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var C=0;C<T.length;C++){var D=T[C];const he=encodeURIComponent(String(D)),Ie=this.V(D);for(D=0;D<Ie.length;D++){var te=he;Ie[D]!==""&&(te+="="+encodeURIComponent(String(Ie[D]))),d.push(te)}}return this.i=d.join("&")};function Ke(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function Si(d,T){T&&!d.j&&(Jn(d),d.i=null,d.g.forEach(function(C,D){var te=D.toLowerCase();D!=te&&(pr(this,D),Jo(this,te,C))},d)),d.j=T}function xt(d,T){const C=new Oi;if(m.Image){const D=new Image;D.onload=O(ui,C,"TestLoadImage: loaded",!0,T,D),D.onerror=O(ui,C,"TestLoadImage: error",!1,T,D),D.onabort=O(ui,C,"TestLoadImage: abort",!1,T,D),D.ontimeout=O(ui,C,"TestLoadImage: timeout",!1,T,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else T(!1)}function Mi(d,T){const C=new Oi,D=new AbortController,te=setTimeout(()=>{D.abort(),ui(C,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:D.signal}).then(he=>{clearTimeout(te),he.ok?ui(C,"TestPingServer: ok",!0,T):ui(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),ui(C,"TestPingServer: error",!1,T)})}function ui(d,T,C,D,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),D(C)}catch{}}function jr(){this.g=new We}function Di(d,T,C){const D=C||"";try{st(d,function(te,he){let Ie=te;v(te)&&(Ie=Me(te)),T.push(D+he+"="+encodeURIComponent(Ie))})}catch(te){throw T.push(D+"type="+encodeURIComponent("_badmap")),te}}function ci(d){this.l=d.Ub||null,this.j=d.eb||!1}V(ci,It),ci.prototype.g=function(){return new Xi(this.l,this.j)},ci.prototype.i=(function(d){return function(){return d}})({});function Xi(d,T){ee.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Xi,ee),t=Xi.prototype,t.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,qn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||m).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Bt(this):qn(this),this.readyState==3&&Fr(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Bt(this))},t.Qa=function(d){this.g&&(this.response=d,Bt(this))},t.ga=function(){this.g&&Bt(this)};function Bt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,qn(d)}t.setRequestHeader=function(d,T){this.u.append(d,T)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=T.next();return d.join(`\r
`)};function qn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Da(d){let T="";return de(d,function(C,D){T+=D,T+=":",T+=C,T+=`\r
`}),T}function En(d,T,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=Da(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Je(d,T,C))}function Rt(d){ee.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Rt,ee);var Ys=/^https?$/i,Hr=["POST","PUT"];t=Rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,T,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?Ot(this.o):Ot(Gi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(he){Yl(this,he);return}if(d=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var te in D)C.set(te,D[te]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const he of D.keys())C.set(he,D.get(he));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(he=>he.toLowerCase()=="content-type"),te=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hr,T,void 0))||D||te||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ie]of C)this.g.setRequestHeader(he,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vn(this),this.u=!0,this.g.send(d),this.u=!1}catch(he){Yl(this,he)}};function Yl(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,Xs(d),gr(d)}function Xs(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ye(this,"complete"),ye(this,"abort"),gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ut(this):this.bb())},t.bb=function(){ut(this)};function ut(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)He(d.Ea,0,d);else if(ye(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const Ie=d.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var D;if(D=Ie===0){var te=String(d.D).match(Vt)[1]||null;!te&&m.self&&m.self.location&&(te=m.self.location.protocol.slice(0,-1)),D=!Ys.test(te?te.toLowerCase():"")}C=D}if(C)ye(d,"complete"),ye(d,"success");else{d.m=6;try{var he=2<Gn(d)?d.g.statusText:""}catch{he=""}d.l=he+" ["+d.Z()+"]",Xs(d)}}finally{gr(d)}}}}function gr(d,T){if(d.g){Vn(d);const C=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||ye(d,"ready");try{C.onreadystatechange=D}catch{}}}function Vn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Le(T)}};function el(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function fc(d){const T={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(G(d[D]))continue;var C=H(d[D]);const te=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const he=T[te]||[];T[te]=he,he.push(C)}U(T,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(d,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||T}function La(d){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,d),this.cb=qr("retryDelaySeedMs",1e4,d),this.Wa=qr("forwardChannelMaxRetries",2,d),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(d&&d.concurrentRequestLimit),this.Da=new jr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=La.prototype,t.la=8,t.G=1,t.connect=function(d,T,C,D){Xt(0),this.W=d,this.H=T||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Fa(this,null,this.W),gs(this)};function ka(d){if(Xl(d),d.G==3){var T=d.U++,C=Qt(d.I);if(Je(C,"SID",d.K),Je(C,"RID",T),Je(C,"TYPE","terminate"),Qs(d,C),T=new Fn(d,d.j,T),T.L=2,T.v=xi(Qt(C)),C=!1,m.navigator&&m.navigator.sendBeacon)try{C=m.navigator.sendBeacon(T.v.toString(),"")}catch{}!C&&m.Image&&(new Image().src=T.v,C=!0),C||(T.g=Jl(T.j,null),T.g.ea(T.v)),T.F=Date.now(),$s(T)}Ql(d)}function Va(d){d.g&&(ys(d),d.g.cancel(),d.g=null)}function Xl(d){Va(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function gs(d){if(!Zs(d.h)&&!d.s){d.s=!0;var T=d.Ga;ge||B(),pe||(ge(),pe=!0),$e.add(T,d),d.B=0}}function dc(d,T){return dr(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=pn(A(d.Ga,d,T),ja(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const te=new Fn(this,this.j,d);let he=this.o;if(this.S&&(he?(he=N(he),F(he,this.S)):he=this.S),this.m!==null||this.O||(te.H=he,he=null),this.P)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,4096<T){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=tl(this,te,T),C=Qt(this.I),Je(C,"RID",d),Je(C,"CVER",22),this.D&&Je(C,"X-HTTP-Session-Id",this.D),Qs(this,C),he&&(this.O?T="headers="+encodeURIComponent(String(Da(he)))+"&"+T:this.m&&En(C,this.m,he)),Dt(this.h,te),this.Ua&&Je(C,"TYPE","init"),this.P?(Je(C,"$req",T),Je(C,"SID","null"),te.T=!0,$i(te,C,null)):$i(te,C,T),this.G=2}}else this.G==3&&(d?hi(this,d):this.i.length==0||Zs(this.h)||hi(this))};function hi(d,T){var C;T?C=T.l:C=d.U++;const D=Qt(d.I);Je(D,"SID",d.K),Je(D,"RID",C),Je(D,"AID",d.T),Qs(d,D),d.m&&d.o&&En(D,d.m,d.o),C=new Fn(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),T&&(d.i=T.D.concat(d.i)),T=tl(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Dt(d.h,C),$i(C,D,T)}function Qs(d,T){d.H&&de(d.H,function(C,D){Je(T,D,C)}),d.l&&st({},function(C,D){Je(T,D,C)})}function tl(d,T,C){C=Math.min(d.i.length,C);var D=d.l?A(d.l.Na,d.l,d):null;e:{var te=d.i;let he=-1;for(;;){const Ie=["count="+C];he==-1?0<C?(he=te[0].g,Ie.push("ofs="+he)):he=0:Ie.push("ofs="+he);let _t=!0;for(let gn=0;gn<C;gn++){let vt=te[gn].g;const Lt=te[gn].map;if(vt-=he,0>vt)he=Math.max(0,te[gn].g-100),_t=!1;else try{Di(Lt,Ie,"req"+vt+"_")}catch{D&&D(Lt)}}if(_t){D=Ie.join("&");break e}}}return d=d.i.splice(0,C),T.D=d,D}function Qi(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;ge||B(),pe||(ge(),pe=!0),$e.add(T,d),d.v=0}}function Ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=pn(A(d.Fa,d),ja(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=pn(A(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Va(this),za(this))};function ys(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function za(d){d.g=new Fn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=Qt(d.qa);Je(T,"RID","rpc"),Je(T,"SID",d.K),Je(T,"AID",d.T),Je(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(T,"TO",d.ja),Je(T,"TYPE","xmlhttp"),Qs(d,T),d.m&&d.o&&En(T,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=xi(Qt(T)),C.m=null,C.P=!0,cr(C,d)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),Ua(this),Xt(19))};function Ba(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function nl(d,T){var C=null;if(d.g==T){Ba(d),ys(d),d.g=null;var D=2}else if(dt(d.h,T))C=T.D,An(d.h,T),D=1;else return;if(d.G!=0){if(T.o)if(D==1){C=T.m?T.m.length:0,T=Date.now()-T.F;var te=d.B;D=Ti(),ye(D,new vn(D,C)),gs(d)}else Qi(d);else if(te=T.s,te==3||te==0&&0<T.X||!(D==1&&dc(d,T)||D==2&&Ua(d)))switch(C&&0<C.length&&(T=d.h,T.i=T.i.concat(C)),te){case 1:Gr(d,5);break;case 4:Gr(d,10);break;case 3:Gr(d,6);break;default:Gr(d,2)}}}function ja(d,T){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*T}function Gr(d,T){if(d.j.info("Error code "+T),T==2){var C=A(d.fb,d),D=d.Xa;const te=!D;D=new nn(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ks(D,"https"),xi(D),te?xt(D.toString(),C):Mi(D.toString(),C)}else Xt(2);d.G=0,d.l&&d.l.sa(T),Ql(d),Xl(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Ql(d){if(d.G=0,d.ka=[],d.l){const T=mr(d.h);(T.length!=0||d.i.length!=0)&&(j(d.ka,T),j(d.ka,d.i),d.h.i.length=0,z(d.i),d.i.length=0),d.l.ra()}}function Fa(d,T,C){var D=C instanceof nn?Qt(C):new nn(C);if(D.g!="")T&&(D.g=T+"."+D.g),Zi(D,D.s);else{var te=m.location;D=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;var he=new nn(null);D&&Ks(he,D),T&&(he.g=T),te&&Zi(he,te),C&&(he.l=C),D=he}return C=d.D,T=d.ya,C&&T&&Je(D,C,T),Je(D,"VER",d.la),Qs(d,D),D}function Jl(d,T,C){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new Rt(new ci({eb:C})):new Rt(d.pa),T.Ha(d.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}t=il.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Js(){}Js.prototype.g=function(d,T){return new Cn(d,T)};function Cn(d,T){ee.call(this),this.g=new La(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!G(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!G(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new fi(this)}V(Cn,ee),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){ka(this.g)},Cn.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=Me(d),d=C);T.i.push(new fs(T.Ya++,d)),T.G==3&&gs(T)},Cn.prototype.N=function(){this.g.l=null,delete this.j,ka(this.g),delete this.g,Cn.aa.N.call(this)};function yr(d){Ct.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const C in T){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}V(yr,Ct);function eu(){sn.call(this),this.status=1}V(eu,sn);function fi(d){this.g=d}V(fi,il),fi.prototype.ua=function(){ye(this.g,"a")},fi.prototype.ta=function(d){ye(this.g,new yr(d))},fi.prototype.sa=function(d){ye(this.g,new eu)},fi.prototype.ra=function(){ye(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,uS=function(){return new Js},lS=function(){return Ti()},oS=Ln,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Sd=Ur,qi.COMPLETE="complete",aS=qi,Tt.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ah=Tt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,sS=Rt}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});const bw="@firebase/firestore",ww="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new u_("@firebase/firestore");function Iu(){return Vl.logLevel}function Ve(t,...e){if(Vl.logLevel<=Et.DEBUG){const n=e.map(E_);Vl.debug(`Firestore (${sc}): ${t}`,...n)}}function Aa(t,...e){if(Vl.logLevel<=Et.ERROR){const n=e.map(E_);Vl.error(`Firestore (${sc}): ${t}`,...n)}}function Zu(t,...e){if(Vl.logLevel<=Et.WARN){const n=e.map(E_);Vl.warn(`Firestore (${sc}): ${t}`,...n)}}function E_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cS(t,r,n)}function cS(t,e,n){let r=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Aa(r),new Error(r)}function kt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||cS(e,o,r)}function lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class fD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dD{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new va;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new va,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new va)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new hS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new gi(e)}}class mD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=u=>{u.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=yD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function gy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),u=e.charAt(r);if(o!==u)return Mg(o)===Mg(u)?bt(o,u):Mg(o)?1:-1}return bt(t.length,e.length)}const _D=55296,vD=57343;function Mg(t){const e=t.charCodeAt(0);return e>=_D&&e<=vD}function Ku(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=As.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return bt(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),o=As.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?As.extractNumericId(e).compare(As.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Kt extends As{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const ED=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends As{construct(e,n,r){return new si(e,n,r)}static isValidIdentifier(e){return ED.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yy}static keyField(){return new si([yy])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Oe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Oe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new Oe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(n)}static emptyPath(){return new si([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Kt.fromString(e))}static fromName(e){return new Ge(Kt.fromString(e).popFirst(5))}static empty(){return new Ge(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e,n){if(!n)throw new Oe(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bD(t,e,n,r){if(e===!0&&r===!0)throw new Oe(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xw(t){if(!Ge.isDocumentKey(t))throw new Oe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sw(t){if(Ge.isDocumentKey(t))throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function Ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new Oe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wh(t,e){if(!dS(t))throw new Oe(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const h=t[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Oe(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-62135596800,Cw=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Cw);return new rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Aw)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cw}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wh(e,rn._jsonSchema))return new rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:Mn("string",rn._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new rn(0,0))}static max(){return new ot(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function wD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ot.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Do(o,Ge.empty(),e)}function TD(t){return new Do(t.readTime,t.key,Ah)}class Do{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Do(ot.min(),Ge.empty(),Ah)}static max(){return new Do(ot.max(),Ge.empty(),Ah)}}function xD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==SD)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,r)=>{n(e)}))}static reject(e){return new Se(((n,r)=>{r(e)}))}static waitFor(e){return new Se(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(y=>r(y)))})),h=!0,u===o&&n()}))}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next((o=>o?Se.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new Se(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;n(e[v]).next((b=>{h[v]=b,++m,m===u&&r(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new Se(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function CD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-1;function Em(t){return t==null}function qd(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="";function ND(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rw(e)),e=PD(t.get(n),e);return Rw(e)}function PD(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case mS:n+="";break;default:n+=u}}return n}function Rw(t){return t+mS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||ri.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??ri.RED,this.left=o??ri.EMPTY,this.right=u??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new ri(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ri.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1;ri.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(si.comparator)}static empty(){return new ts([])}unionWith(e){let n=new Bn(si.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gS("Invalid base64 string: "+u):u}})(e);return new oi(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new oi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=ID.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?oi.fromBase64String(t):oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="server_timestamp",_S="__type__",vS="__previous_value__",ES="__local_write_time__";function bm(t){return(t?.mapValue?.fields||{})[_S]?.stringValue===yS}function wm(t){const e=t.mapValue.fields[vS];return bm(e)?wm(e):e}function Ch(t){const e=Lo(t.mapValue.fields[ES].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,o,u,h,m,y,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const Gd="(default)";class Rh{constructor(e,n){this.projectId=e,this.database=n||Gd}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database===Gd}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__type__",MD="__max__",fd={mapValue:{}},wS="__vector__",$d="value";function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bm(t)?4:LD(t)?9007199254740991:DD(t)?10:11:tt(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=Vo(t);if(n!==Vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ch(t).isEqual(Ch(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Lo(o.timestampValue),m=Lo(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,u){return ko(o.bytesValue).isEqual(ko(u.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,u){return xn(o.geoPointValue.latitude)===xn(u.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(u.geoPointValue.longitude)})(t,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xn(o.integerValue)===xn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xn(o.doubleValue),m=xn(u.doubleValue);return h===m?qd(h)===qd(m):isNaN(h)&&isNaN(m)}return!1})(t,e);case 9:return Ku(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Nw(h)!==Nw(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!ks(h[y],m[y])))return!1;return!0})(t,e);default:return tt(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function Wu(t,e){if(t===e)return 0;const n=Vo(t),r=Vo(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=xn(u.integerValue||u.doubleValue),y=xn(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(t,e);case 3:return Iw(t.timestampValue,e.timestampValue);case 4:return Iw(Ch(t),Ch(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return(function(u,h){const m=ko(u),y=ko(h);return m.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const b=bt(m[v],y[v]);if(b!==0)return b}return bt(m.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=bt(xn(u.latitude),xn(h.latitude));return m!==0?m:bt(xn(u.longitude),xn(h.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ow(t.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},v=m[$d]?.arrayValue,b=y[$d]?.arrayValue,x=bt(v?.values?.length||0,b?.values?.length||0);return x!==0?x:Ow(v,b)})(t.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fd.mapValue&&h===fd.mapValue)return 0;if(u===fd.mapValue)return 1;if(h===fd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=h.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let x=0;x<y.length&&x<b.length;++x){const A=gy(y[x],b[x]);if(A!==0)return A;const O=Wu(m[y[x]],v[b[x]]);if(O!==0)return O}return bt(y.length,b.length)})(t.mapValue,e.mapValue);default:throw tt(23264,{he:n})}}function Iw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Lo(t),r=Lo(e),o=bt(n.seconds,r.seconds);return o!==0?o:bt(n.nanos,r.nanos)}function Ow(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Wu(n[o],r[o]);if(u)return u}return bt(n.length,r.length)}function Yu(t){return _y(t)}function _y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=_y(u);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${_y(n.fields[h])}`;return o+"}"})(t.mapValue):tt(61005,{value:t})}function Ad(t){switch(Vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(t);return e?16+Ad(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Ad(u)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Hl(r.fields,((u,h)=>{o+=u.length+Ad(h)})),o})(t.mapValue);default:throw tt(13486,{value:t})}}function Zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vy(t){return!!t&&"integerValue"in t}function T_(t){return!!t&&"arrayValue"in t}function Mw(t){return!!t&&"nullValue"in t}function Dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function DD(t){return(t?.mapValue?.fields||{})[bS]?.stringValue===wS}function mh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return{...t}}function LD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=si.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=mh(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Cd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Hl(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Rr(mh(this.value))}}function TS(t){const e=[];return Hl(t.fields,((n,r)=>{const o=new si([n]);if(Cd(r)){const u=TS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new yi(e,0,ot.min(),ot.min(),ot.min(),Rr.empty(),0)}static newFoundDocument(e,n,r,o){return new yi(e,1,n,ot.min(),r,o,0)}static newNoDocument(e,n){return new yi(e,2,n,ot.min(),ot.min(),Rr.empty(),0)}static newUnknownDocument(e,n){return new yi(e,3,n,ot.min(),ot.min(),Rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.position=e,this.inclusive=n}}function Lw(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const u=e[o],h=t.position[o];if(u.field.isKeyField()?r=Ge.comparator(Ge.fromName(h.referenceValue),n.key):r=Wu(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function kD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class On extends xS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UD(e,n,r):n==="array-contains"?new jD(e,r):n==="in"?new FD(e,r):n==="not-in"?new HD(e,r):n==="array-contains-any"?new qD(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zD(e,r):new BD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wu(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(Wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends xS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return SS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function AS(t){return VD(t)&&SS(t)}function VD(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function Ey(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(AS(t))return t.filters.map((e=>Ey(e))).join(",");{const e=t.filters.map((n=>Ey(n))).join(",");return`${t.op}(${e})`}}function CS(t,e){return t instanceof On?(function(r,o){return o instanceof On&&r.op===o.op&&r.field.isEqual(o.field)&&ks(r.value,o.value)})(t,e):t instanceof os?(function(r,o){return o instanceof os&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&CS(h,o.filters[m])),!0):!1})(t,e):void tt(19439)}function RS(t){return t instanceof On?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(RS).join(" ,")+"}"})(t):"Filter"}class UD extends On{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class zD extends On{constructor(e,n){super(e,"in",n),this.keys=NS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BD extends On{constructor(e,n){super(e,"not-in",n),this.keys=NS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NS(t,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class jD extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T_(n)&&Nh(n.arrayValue,this.value)}}class FD extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class HD extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class qD extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Vw(t,e=null,n=[],r=[],o=null,u=null,h=null){return new GD(t,e,n,r,o,u,h)}function x_(t){const e=lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ey(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kw(t.startAt,e.startAt)&&kw(t.endAt,e.endAt)}function by(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $D(t,e,n,r,o,u,h,m){return new ql(t,e,n,r,o,u,h,m)}function Tm(t){return new ql(t)}function Uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A_(t){return t.collectionGroup!==null}function qu(t){const e=lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bn(si.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ph(u,r))})),n.has(si.keyField().canonicalString())||e.Ie.push(new Ph(si.keyField(),r))}return e.Ie}function Ps(t){const e=lt(t);return e.Ee||(e.Ee=ZD(e,qu(t))),e.Ee}function ZD(t,e){if(t.limitType==="F")return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)}));const n=t.endAt?new Xu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xu(t.startAt.position,t.startAt.inclusive):null;return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wy(t,e){const n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return S_(Ps(t),Ps(e))&&t.limitType===e.limitType}function PS(t){return`${x_(Ps(t))}|lt:${t.limitType}`}function Ou(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>RS(o))).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Yu(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Yu(o))).join(",")),`Target(${r})`})(Ps(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(t,e)&&(function(r,o){for(const u of qu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,y){const v=Lw(h,m,y);return h.inclusive?v<=0:v<0})(r.startAt,qu(r),o)||r.endAt&&!(function(h,m,y){const v=Lw(h,m,y);return h.inclusive?v>=0:v>0})(r.endAt,qu(r),o))})(t,e)}function KD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let r=!1;for(const o of qu(t)){const u=WD(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function WD(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,h,m){const y=h.data.field(u),v=m.data.field(u);return y!==null&&v!==null?Wu(y,v):tt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new mn(Ge.comparator);function Ca(){return YD}const OS=new mn(Ge.comparator);function oh(...t){let e=OS;for(const n of t)e=e.insert(n.key,n);return e}function MS(t){let e=OS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Al(){return ph()}function DS(){return ph()}function ph(){return new Gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XD=new mn(Ge.comparator),QD=new Bn(Ge.comparator);function wt(...t){let e=QD;for(const n of t)e=e.add(n);return e}const JD=new Bn(bt);function eL(){return JD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function LS(t){return{integerValue:""+t}}function tL(t,e){return RD(e)?LS(e):C_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function nL(t,e,n){return t instanceof Ih?(function(o,u){const h={fields:{[_S]:{stringValue:yS},[ES]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bm(u)&&(u=wm(u)),u&&(h.fields[vS]=u),{mapValue:h}})(n,e):t instanceof Oh?VS(t,e):t instanceof Mh?US(t,e):(function(o,u){const h=kS(o,u),m=zw(h)+zw(o.Ae);return vy(h)&&vy(o.Ae)?LS(m):C_(o.serializer,m)})(t,e)}function iL(t,e,n){return t instanceof Oh?VS(t,e):t instanceof Mh?US(t,e):n}function kS(t,e){return t instanceof Wd?(function(r){return vy(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ih extends Am{}class Oh extends Am{constructor(e){super(),this.elements=e}}function VS(t,e){const n=zS(e);for(const r of t.elements)n.some((o=>ks(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Mh extends Am{constructor(e){super(),this.elements=e}}function US(t,e){let n=zS(e);for(const r of t.elements)n=n.filter((o=>!ks(o,r)));return{arrayValue:{values:n}}}class Wd extends Am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zw(t){return xn(t.integerValue||t.doubleValue)}function zS(t){return T_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.field=e,this.transform=n}}function sL(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Oh&&o instanceof Oh||r instanceof Mh&&o instanceof Mh?Ku(r.elements,o.elements,ks):r instanceof Wd&&o instanceof Wd?ks(r.Ae,o.Ae):r instanceof Ih&&o instanceof Ih})(t.transform,e.transform)}class aL{constructor(e,n){this.version=e,this.transformResults=n}}class ba{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ba}static exists(e){return new ba(void 0,e)}static updateTime(e){return new ba(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cm{}function BS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FS(t.key,ba.none()):new Yh(t.key,t.data,ba.none());{const n=t.data,r=Rr.empty();let o=new Bn(si.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new $l(t.key,r,new ts(o.toArray()),ba.none())}}function oL(t,e,n){t instanceof Yh?(function(o,u,h){const m=o.value.clone(),y=jw(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(t,e,n):t instanceof $l?(function(o,u,h){if(!Rd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=jw(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(jS(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(t,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,r){return t instanceof Yh?(function(u,h,m,y){if(!Rd(u.precondition,h))return m;const v=u.value.clone(),b=Fw(u.fieldTransforms,y,h);return v.setAll(b),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(t,e,n,r):t instanceof $l?(function(u,h,m,y){if(!Rd(u.precondition,h))return m;const v=Fw(u.fieldTransforms,y,h),b=h.data;return b.setAll(jS(u)),b.setAll(v),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(u,h,m){return Rd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(t,e,n)}function lL(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),u=kS(r.transform,o||null);u!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,u))}return n||null}function Bw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ku(r,o,((u,h)=>sL(u,h)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yh extends Cm{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $l extends Cm{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jw(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,iL(h,m,n[o]))}return r}function Fw(t,e,n){const r=new Map;for(const o of t){const u=o.transform,h=n.data.field(o.field);r.set(o.field,nL(u,h,e))}return r}class FS extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uL extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oL(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const y=BS(h,m);y!==null&&r.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,((n,r)=>Bw(n,r)))&&Ku(this.baseMutations,e.baseMutations,((n,r)=>Bw(n,r)))}}class R_{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return XD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new R_(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,At;function dL(t){switch(t){case _e.OK:return tt(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function HS(t){if(t===void 0)return Aa("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Pn.OK:return _e.OK;case Pn.CANCELLED:return _e.CANCELLED;case Pn.UNKNOWN:return _e.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return _e.INTERNAL;case Pn.UNAVAILABLE:return _e.UNAVAILABLE;case Pn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Pn.NOT_FOUND:return _e.NOT_FOUND;case Pn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Pn.ABORTED:return _e.ABORTED;case Pn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Pn.DATA_LOSS:return _e.DATA_LOSS;default:return tt(39323,{code:t})}}(At=Pn||(Pn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Io([4294967295,4294967295],0);function Hw(t){const e=mL().encode(t),n=new rS;return n.update(e),new Uint8Array(n.digest())}function qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Io([n,r],0),new Io([o,u],0)]}class N_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(r<0)throw new lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Io.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Io.fromNumber(r)));return o.compare(pL)===1&&(o=new Io([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Hw(e),[r,o]=qw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new N_(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Hw(e),[r,o]=qw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(ot.min(),o,new mn(bt),Ca(),wt())}}class Xh{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xh(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,r=oi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Gw{constructor(){this.ve=0,this.Fe=$w(),this.Me=oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),r=wt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:tt(38017,{changeType:u})}})),new Xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$w()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.Je=dd(),this.He=dd(),this.Ye=new mn(bt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(by(u))if(r===0){const h=new Ge(u.path);this.et(n,h,yi.newNoDocument(h,ot.min()))}else kt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ko(r).toUint8Array()}catch(y){if(y instanceof gS)return Zu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new N_(h,o,u)}catch(y){return Zu(y instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&by(m.target)){const y=new Ge(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,yi.newNoDocument(y,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=wt();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rm(e,n,this.Ye,this.je,r);return this.je=Ca(),this.Je=dd(),this.He=dd(),this.Ye=new mn(bt),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Gw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(bt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dd(){return new mn(Ge.comparator)}function $w(){return new mn(Ge.comparator)}const yL={asc:"ASCENDING",desc:"DESCENDING"},_L={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vL={and:"AND",or:"OR"};class EL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ty(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $S(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bL(t,e){return Yd(t,e.toTimestamp())}function Is(t){return kt(!!t,49232),ot.fromTimestamp((function(n){const r=Lo(n);return new rn(r.seconds,r.nanos)})(t))}function P_(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(o){return new Kt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZS(t){const e=Kt.fromString(t);return kt(QS(e),10190,{key:e.toString()}),e}function Sy(t,e){return P_(t.databaseId,e.path)}function Dg(t,e){const n=ZS(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(WS(n))}function KS(t,e){return P_(t.databaseId,e)}function wL(t){const e=ZS(t);return e.length===4?Kt.emptyPath():WS(e)}function Ay(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WS(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:Sy(t,e),fields:n.value.mapValue.fields}}function TL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:tt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,b){return v.useProto3Json?(kt(b===void 0||typeof b=="string",58123),oi.fromBase64String(b||"")):(kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),oi.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const b=v.code===void 0?_e.UNKNOWN:HS(v.code);return new Oe(b,v.message||"")})(h);n=new GS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Dg(t,r.document.name),u=Is(r.document.updateTime),h=r.document.createTime?Is(r.document.createTime):ot.min(),m=new Rr({mapValue:{fields:r.document.fields}}),y=yi.newFoundDocument(o,u,h,m),v=r.targetIds||[],b=r.removedTargetIds||[];n=new Nd(v,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Dg(t,r.document),u=r.readTime?Is(r.readTime):ot.min(),h=yi.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Nd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Dg(t,r.document),u=r.removedTargetIds||[];n=new Nd([],u,o,null)}else{if(!("filter"in e))return tt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new fL(o,u),m=r.targetId;n=new qS(m,h)}}return n}function xL(t,e){let n;if(e instanceof Yh)n={update:Zw(t,e.key,e.value)};else if(e instanceof FS)n={delete:Sy(t,e.key)};else if(e instanceof $l)n={update:Zw(t,e.key,e.data),updateMask:ML(e.fieldMask)};else{if(!(e instanceof uL))return tt(16599,{Vt:e.type});n={verify:Sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Ih)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wd)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw tt(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bL(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:tt(27497)})(t,e.precondition)),n}function SL(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map((n=>(function(o,u){let h=o.updateTime?Is(o.updateTime):Is(u);return h.isEqual(ot.min())&&(h=Is(u)),new aL(h,o.transformResults||[])})(n,e)))):[]}function AL(t,e){return{documents:[KS(t,e.path)]}}function CL(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KS(t,o);const u=(function(v){if(v.length!==0)return XS(os.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((b=>(function(A){return{field:Mu(A.field),direction:PL(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ty(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function RL(t){let e=wL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){kt(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(x){const A=YS(x);return A instanceof os&&AS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(x){return x.map((A=>(function(V){return new Ph(Du(V.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let A;return A=typeof x=="object"?x.value:x,Em(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(x){const A=!!x.before,O=x.values||[];return new Xu(O,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(x){const A=!x.before,O=x.values||[];return new Xu(O,A)})(n.endAt)),$D(e,o,h,u,m,"F",y,v)}function NL(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Du(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Du(n.unaryFilter.field);return On.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Du(n.unaryFilter.field);return On.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Du(n.unaryFilter.field);return On.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return On.create(Du(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((r=>YS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(n.compositeFilter.op))})(t):tt(30097,{filter:t})}function PL(t){return yL[t]}function IL(t){return _L[t]}function OL(t){return vL[t]}function Mu(t){return{fieldPath:t.canonicalString()}}function Du(t){return si.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof On?(function(n){if(n.op==="=="){if(Dw(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(Mw(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dw(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(Mw(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:IL(n.op),value:n.value}}})(t):t instanceof os?(function(n){const r=n.getFilters().map((o=>XS(o)));return r.length===1?r[0]:{compositeFilter:{op:OL(n.op),filters:r}}})(t):tt(54877,{filter:t})}function ML(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,o,u=ot.min(),h=ot.min(),m=oi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.yt=e}}function LL(t){const e=RL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Cn=new VL}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Do.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class VL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Bn(Kt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=41943040;class zi{static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(JS,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qu(0)}static cr(){return new Qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="LruGarbageCollector",UL=1048576;function Yw([t,e],[n,r]){const o=bt(t,n);return o===0?bt(e,r):o}class zL{constructor(e){this.Ir=e,this.buffer=new Bn(Yw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Yw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(Ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oc(n)?Ve(Ww,"Ignoring IndexedDB error during garbage collection: ",n):await ac(n)}await this.Vr(3e5)}))}}class jL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(vm.ce);const r=new zL(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Kw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,m,y,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,n)))).next((x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(v=Date.now(),Iu()<=Et.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${x} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function FL(t,e){return new jL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.changes=new Gl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&gh(r.mutation,o,ts.empty(),rn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,wt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=wt()){const o=Al();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=oh();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=Al();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,wt())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=Ca();const h=ph(),m=(function(){return ph()})();return n.forEach(((y,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof $l)?u=u.insert(v.key,v):b!==void 0?(h.set(v.key,b.mutation.getFieldMask()),gh(b.mutation,v,b.mutation.getFieldMask(),rn.now())):h.set(v.key,ts.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,b)=>h.set(v,b))),n.forEach(((v,b)=>m.set(v,new qL(b,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=ph();let o=new mn(((h,m)=>h-m)),u=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let b=r.get(y)||ts.empty();b=m.applyToLocalView(v,b),r.set(y,b);const x=(o.get(m.batchId)||wt()).add(y);o=o.insert(m.batchId,x)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,b=y.value,x=DS();b.forEach((A=>{if(!u.has(A)){const O=BS(n.get(A),r.get(A));O!==null&&x.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,x))}return Se.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):Se.resolve(Al());let m=Ah,y=u;return h.next((v=>Se.forEach(v,((b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?Se.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{y=y.insert(b,A)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,wt()))).next((b=>({batchId:m,changes:MS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((r=>{let o=oh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=oh();return this.indexManager.getCollectionParents(e,u).next((m=>Se.forEach(m,(y=>{const v=(function(x,A){return new ql(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((b=>{b.forEach(((x,A)=>{h=h.insert(x,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((y,v)=>{const b=v.getKey();h.get(b)===null&&(h=h.insert(b,yi.newInvalidDocument(b)))}));let m=oh();return h.forEach(((y,v)=>{const b=u.get(y);b!==void 0&&gh(b.mutation,v,ts.empty(),rn.now()),Sm(n,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Is(o.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:LL(o.bundledQuery),readTime:Is(o.readTime)}})(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.overlays=new mn(Ge.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Al();return Se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),Se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const o=Al(),u=n.length+1,h=new Ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new mn(((v,b)=>v-b));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let b=u.get(v.largestBatchId);b===null&&(b=Al(),u=u.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const m=Al(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>m.set(v,b))),!(m.size()>=o)););return Se.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new hL(n,r));let u=this.qr.get(n);u===void 0&&(u=wt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.sessionToken=oi.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.Qr=new Bn(Yn.$r),this.Ur=new Bn(Yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ge(new Kt([])),r=new Yn(n,e),o=new Yn(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new Kt([])),r=new Yn(n,e),o=new Yn(n,e+1);let u=wt();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Yn.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cL(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Yn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?w_:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),o=new Yn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(bt);return n.forEach((o=>{const u=new Yn(o,0),h=new Yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const h=new Yn(new Ge(u),0);let m=new Bn(bt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Yr)),!0)}),h),Se.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(n.mutations,(o=>{const u=new Yn(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Yn(n,0),o=this.Zr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.ri=e,this.docs=(function(){return new mn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(e,n){let r=Ca();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():yi.newInvalidDocument(o))})),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Ca();const h=n.path,m=new Ge(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||xD(TD(b),r)<=0||(o.has(b.key)||Sm(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){tt(9500)}ii(e,n){return Se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new XL(this)}getSize(e){return Se.resolve(this.size)}}class XL extends HL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.persistence=e,this.si=new Gl((n=>x_(n)),S_),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new I_,this.targetCount=0,this.ai=Qu.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Se.waitFor(u).next((()=>o))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.ui={},this.overlays={},this.ci=new vm(0),this.li=!1,this.li=!0,this.hi=new KL,this.referenceDelegate=e(this),this.Pi=new QL(this),this.indexManager=new kL,this.remoteDocumentCache=(function(o){return new YL(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DL(n),this.Ii=new $L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const o=new JL(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class JL extends AD{constructor(e){super(),this.currentSequenceNumber=e}}class O_{constructor(e){this.persistence=e,this.Ri=new I_,this.Vi=null}static mi(e){return new O_(e)}get fi(){if(this.Vi)return this.Vi;throw tt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const o=Ge.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ot.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.pi=new Gl((r=>ND(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=FL(this,n)}static mi(e,n){return new Xd(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?Se.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(r++,u.removeEntry(h,ot.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ad(e.data.value)),n}br(e,n,r){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=wt(),o=wt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new M_(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IP()?8:CD(Ei())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ek;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Iu()<=Et.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Iu()<=Et.DEBUG&&Ve("QueryEngine","Query:",Ou(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Iu()<=Et.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Se.resolve())}ys(e,n){if(Uw(n))return Se.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Kd(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=wt(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(n,m);return this.Cs(n,v,h,y.readTime)?this.ys(e,Kd(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,r,o){return Uw(n)||o.isEqual(ot.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?Se.resolve(null):(Iu()<=Et.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ou(n)),this.vs(e,h,n,wD(o,Ah)).next((m=>m)))}))}Ds(e,n){let r=new Bn(IS(e));return n.forEach(((o,u)=>{Sm(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Iu()<=Et.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ou(n)),this.ps.getDocumentsMatchingQuery(e,n,Do.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LocalStore",nk=3e8;class ik{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mn(bt),this.xs=new Gl((u=>x_(u)),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rk(t,e,n,r){return new ik(t,e,n,r)}async function tA(t,e){const n=lt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let y=wt();for(const v of o){h.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of u){m.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function sk(t,e){const n=lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,b){const x=v.batch,A=x.keys();let O=Se.resolve();return A.forEach((V=>{O=O.next((()=>b.getEntry(y,V))).next((z=>{const j=v.docVersions.get(V);kt(j!==null,48541),z.version.compareTo(j)<0&&(x.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),b.addEntry(z)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(y,x)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=wt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function nA(t){const e=lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ak(t,e){const n=lt(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,x)=>{const A=o.get(x);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,x))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(oi.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),o=o.insert(x,O),(function(z,j,K){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=nk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,O,b)&&m.push(n.Pi.updateTargetData(u,O))}));let y=Ca(),v=wt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(ok(u,h,e.documentUpdates).next((b=>{y=b.ks,v=b.qs}))),!r.isEqual(ot.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return Se.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function ok(t,e,n){let r=wt(),o=wt();return n.forEach((u=>r=r.add(u))),e.getEntries(t,r).next((u=>{let h=Ca();return n.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(ot.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):Ve(D_,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function lk(t,e){const n=lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=w_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uk(t,e){const n=lt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,Se.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new Co(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cy(t,e,n){const r=lt(t),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!oc(h))throw h;Ve(D_,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Xw(t,e,n){const r=lt(t);let o=ot.min(),u=wt();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,b){const x=lt(y),A=x.xs.get(b);return A!==void 0?Se.resolve(x.Ms.get(A)):x.Pi.getTargetData(v,b)})(r,h,Ps(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:ot.min(),n?u:wt()))).next((m=>(ck(r,KD(e),m),{documents:m,Qs:u})))))}function ck(t,e,n){let r=t.Os.get(e)||ot.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),t.Os.set(e,r)}class Qw{constructor(){this.activeTargetIds=eL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(){this.Mo=new Qw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="ConnectivityMonitor";class eT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(Jw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(Jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function Ry(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Gd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=Ry(),m=this.zo(e,n.toUriEncodedString());Ve(Lg,`Sending RPC '${e}' ${h}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:v}=new URL(m),b=Bl(v);return this.Jo(e,m,y,r,b).then((x=>(Ve(Lg,`Received RPC '${e}' ${h}: `,x),x)),(x=>{throw Zu(Lg,`RPC '${e}' ${h} failed with error: `,x,"url: ",m,"request:",r),x}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=dk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="WebChannelConnection";class gk extends mk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=Ry();return new Promise(((m,y)=>{const v=new sS;v.setWithCredentials(!0),v.listenOnce(aS.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Sd.NO_ERROR:const x=v.getResponseJson();Ve(pi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),m(x);break;case Sd.TIMEOUT:Ve(pi,`RPC '${e}' ${h} timed out`),y(new Oe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const A=v.getStatus();if(Ve(pi,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let O=v.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const z=(function(K){const G=K.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(G)>=0?G:_e.UNKNOWN})(V.status);y(new Oe(z,V.message))}else y(new Oe(_e.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Oe(_e.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Ve(pi,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);Ve(pi,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Ry(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=uS(),m=lS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const b=u.join("");Ve(pi,`Creating RPC '${e}' stream ${o}: ${b}`,y);const x=h.createWebChannel(b,y);this.I_(x);let A=!1,O=!1;const V=new pk({Yo:j=>{O?Ve(pi,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(Ve(pi,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),Ve(pi,`RPC '${e}' stream ${o} sending:`,j),x.send(j))},Zo:()=>x.close()}),z=(j,K,G)=>{j.listen(K,(X=>{try{G(X)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return z(x,ah.EventType.OPEN,(()=>{O||(Ve(pi,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),z(x,ah.EventType.CLOSE,(()=>{O||(O=!0,Ve(pi,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(x))})),z(x,ah.EventType.ERROR,(j=>{O||(O=!0,Zu(pi,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),V.a_(new Oe(_e.UNAVAILABLE,"The operation could not be completed")))})),z(x,ah.EventType.MESSAGE,(j=>{if(!O){const K=j.data[0];kt(!!K,16349);const G=K,X=G?.error||G[0]?.error;if(X){Ve(pi,`RPC '${e}' stream ${o} received error:`,X);const ve=X.status;let ae=(function(N){const M=Pn[N];if(M!==void 0)return HS(M)})(ve),de=X.message;ae===void 0&&(ae=_e.INTERNAL,de="Unknown error status: "+ve+" with message "+X.message),O=!0,V.a_(new Oe(ae,de)),x.close()}else Ve(pi,`RPC '${e}' stream ${o} received:`,K),V.u_(K)}})),z(m,oS.STAT_EVENT,(j=>{j.stat===py.PROXY?Ve(pi,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===py.NOPROXY&&Ve(pi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return new EL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="PersistentStream";class rA{constructor(e,n,r,o,u,h,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Aa(n.toString()),Aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new Oe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(tT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ve(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yk extends rA{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TL(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ot.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ot.min():h.readTime?Is(h.readTime):ot.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ay(this.serializer),n.addTarget=(function(u,h){let m;const y=h.target;if(m=by(y)?{documents:AL(u,y)}:{query:CL(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=$S(u,h.resumeToken);const v=Ty(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(ot.min())>0){m.readTime=Yd(u,h.snapshotVersion.toTimestamp());const v=Ty(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=NL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ay(this.serializer),n.removeTarget=e,this.q_(n)}}class _k extends rA{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SL(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class Ek extends vk{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,xy(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(_e.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,xy(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Oe(_e.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Aa(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="RemoteStore";class wk{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{Zl(this)&&(Ve(Ul,"Restarting streams for network reachability change."),await(async function(y){const v=lt(y);v.Ea.add(4),await Qh(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Pm(v)})(this))}))})),this.Ra=new bk(r,o)}}async function Pm(t){if(Zl(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function sA(t,e){const n=lt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),U_(n)?V_(n):lc(n).O_()&&k_(n,e))}function L_(t,e){const n=lt(t),r=lc(n);n.Ia.delete(e),r.O_()&&aA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zl(n)&&n.Ra.set("Unknown"))}function k_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Y_(e)}function aA(t,e){t.Va.Ue(e),lc(t).Z_(e)}function V_(t){t.Va=new gL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function U_(t){return Zl(t)&&!lc(t).x_()&&t.Ia.size>0}function Zl(t){return lt(t).Ea.size===0}function oA(t){t.Va=void 0}async function Tk(t){t.Ra.set("Online")}async function xk(t){t.Ia.forEach(((e,n)=>{k_(t,e)}))}async function Sk(t,e){oA(t),U_(t)?(t.Ra.ha(e),V_(t)):t.Ra.set("Unknown")}async function Ak(t,e,n){if(t.Ra.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){Ve(Ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof Nd?t.Va.Ze(e):e instanceof qS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ot.min()))try{const r=await nA(t.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(v);b&&u.Ia.set(v,b.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(oi.EMPTY_BYTE_STRING,b.snapshotVersion)),aA(u,y);const x=new Co(b.target,y,v,b.sequenceNumber);k_(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(r){Ve(Ul,"Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!oc(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>nA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(Ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pm(t)}))}function lA(t,e){return e().catch((n=>Qd(t,n,e)))}async function Im(t){const e=lt(t),n=Uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w_;for(;Ck(e);)try{const o=await lk(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Rk(e,o)}catch(o){await Qd(e,o)}uA(e)&&cA(e)}function Ck(t){return Zl(t)&&t.Ta.length<10}function Rk(t,e){t.Ta.push(e);const n=Uo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uA(t){return Zl(t)&&!Uo(t).x_()&&t.Ta.length>0}function cA(t){Uo(t).start()}async function Nk(t){Uo(t).ra()}async function Pk(t){const e=Uo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ik(t,e,n){const r=t.Ta.shift(),o=R_.from(r,e,n);await lA(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Im(t)}async function Ok(t,e){e&&Uo(t).X_&&await(async function(r,o){if((function(h){return dL(h)&&h!==_e.ABORTED})(o.code)){const u=r.Ta.shift();Uo(r).B_(),await lA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Im(r)}})(t,e),uA(t)&&cA(t)}async function nT(t,e){const n=lt(t);n.asyncQueue.verifyOperationInProgress(),Ve(Ul,"RemoteStore received new credentials");const r=Zl(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pm(n)}async function Mk(t,e){const n=lt(t);e?(n.Ea.delete(2),await Pm(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=(function(n,r,o){const u=lt(n);return u.sa(),new yk(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Xo:Tk.bind(null,t),t_:xk.bind(null,t),r_:Sk.bind(null,t),H_:Ak.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),U_(t)?V_(t):t.Ra.set("Unknown")):(await t.ma.stop(),oA(t))}))),t.ma}function Uo(t){return t.fa||(t.fa=(function(n,r,o){const u=lt(n);return u.sa(),new _k(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nk.bind(null,t),r_:Ok.bind(null,t),ta:Pk.bind(null,t),na:Ik.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Im(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(Ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new z_(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B_(t,e){if(Aa("AsyncQueue",`${e}: ${t}`),oc(t))return new Oe(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{static emptySet(e){return new Gu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=oh(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.ga=new mn(Ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):tt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ju{constructor(e,n,r,o,u,h,m,y,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ju(e,n,Gu.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Lk{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=lt(n),u=o.queries;o.queries=rT(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new Oe(_e.ABORTED,"Firestore shutting down"))}}function rT(){return new Gl((t=>PS(t)),xm)}async function j_(t,e){const n=lt(t);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Dk,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=B_(h,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&H_(n)}async function F_(t,e){const n=lt(t),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kk(t,e){const n=lt(t);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&H_(n)}function Vk(t,e,n){const r=lt(t),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function H_(t){t.Ca.forEach((e=>{e.next()}))}var Ny,sT;(sT=Ny||(Ny={})).Ma="default",sT.Cache="cache";class q_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ju(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.key=e}}class fA{constructor(e){this.key=e}}class Uk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=IS(e),this.tu=new Gu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new iT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const A=o.get(b),O=Sm(this.query,x)?x:null,V=!!A&&this.mutatedKeys.has(A.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;A&&O?A.data.isEqual(O.data)?V!==z&&(r.track({type:3,doc:O}),j=!0):this.su(A,O)||(r.track({type:2,doc:O}),j=!0,(y&&this.eu(O,y)>0||v&&this.eu(O,v)<0)&&(m=!0)):!A&&O?(r.track({type:0,doc:O}),j=!0):A&&!O&&(r.track({type:1,doc:A}),j=!0,(y||v)&&(m=!0)),j&&(O?(h=h.add(O),u=z?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,x)=>(function(O,V){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Rt:j})}};return z(O)-z(V)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new Ju(this.query,e.tu,u,h,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ju.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const G_="SyncEngine";class zk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Bk{constructor(e){this.key=e,this.hu=!1}}class jk{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Gl((m=>PS(m)),xm),this.Iu=new Map,this.Eu=new Set,this.du=new mn(Ge.comparator),this.Au=new Map,this.Ru=new I_,this.Vu={},this.mu=new Map,this.fu=Qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Fk(t,e,n=!0){const r=_A(t);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dA(r,e,n,!0),o}async function Hk(t,e){const n=_A(t);await dA(n,e,!0,!1)}async function dA(t,e,n,r){const o=await uk(t.localStore,Ps(e)),u=o.targetId,h=t.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await qk(t,e,u,h==="current",o.resumeToken)),t.isPrimaryClient&&n&&sA(t.remoteStore,o),m}async function qk(t,e,n,r,o){t.pu=(x,A,O)=>(async function(z,j,K,G){let X=j.view.ru(K);X.Cs&&(X=await Xw(z.localStore,j.query,!1).then((({documents:U})=>j.view.ru(U,X))));const ve=G&&G.targetChanges.get(j.targetId),ae=G&&G.targetMismatches.get(j.targetId)!=null,de=j.view.applyChanges(X,z.isPrimaryClient,ve,ae);return oT(z,j.targetId,de.au),de.snapshot})(t,x,A,O);const u=await Xw(t.localStore,e,!0),h=new Uk(e,u.Qs),m=h.ru(u.documents),y=Xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),v=h.applyChanges(m,t.isPrimaryClient,y);oT(t,n,v.au);const b=new zk(e,n,h);return t.Tu.set(e,b),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),v.snapshot}async function Gk(t,e,n){const r=lt(t),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!xm(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cy(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&L_(r.remoteStore,o.targetId),Py(r,o.targetId)})).catch(ac)):(Py(r,o.targetId),await Cy(r.localStore,o.targetId,!0))}async function $k(t,e){const n=lt(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),L_(n.remoteStore,r.targetId))}async function Zk(t,e,n){const r=e4(t);try{const o=await(function(h,m){const y=lt(h),v=rn.now(),b=m.reduce(((O,V)=>O.add(V.key)),wt());let x,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let V=Ca(),z=wt();return y.Ns.getEntries(O,b).next((j=>{V=j,V.forEach(((K,G)=>{G.isValidDocument()||(z=z.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,V))).next((j=>{x=j;const K=[];for(const G of m){const X=lL(G,x.get(G.key).overlayedDocument);X!=null&&K.push(new $l(G.key,X,TS(X.value.mapValue),ba.exists(!0)))}return y.mutationQueue.addMutationBatch(O,v,K,m)})).next((j=>{A=j;const K=j.applyToLocalDocumentSet(x,z);return y.documentOverlayCache.saveOverlays(O,j.batchId,K)}))})).then((()=>({batchId:A.batchId,changes:MS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new mn(bt)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v})(r,o.batchId,n),await Jh(r,o.changes),await Im(r.remoteStore)}catch(o){const u=B_(o,"Failed to persist write");n.reject(u)}}async function mA(t,e){const n=lt(t);try{const r=await ak(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?kt(h.hu,14607):o.removedDocuments.size>0&&(kt(h.hu,42227),h.hu=!1))})),await Jh(n,r,e)}catch(r){await ac(r)}}function aT(t,e,n){const r=lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=lt(h);y.onlineState=m;let v=!1;y.queries.forEach(((b,x)=>{for(const A of x.Sa)A.va(m)&&(v=!0)})),v&&H_(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kk(t,e,n){const r=lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new mn(Ge.comparator);h=h.insert(u,yi.newNoDocument(u,ot.min()));const m=wt().add(u),y=new Rm(ot.min(),new Map,new mn(bt),h,m);await mA(r,y),r.du=r.du.remove(u),r.Au.delete(e),$_(r)}else await Cy(r.localStore,e,!1).then((()=>Py(r,e,n))).catch(ac)}async function Wk(t,e){const n=lt(t),r=e.batch.batchId;try{const o=await sk(n.localStore,e);gA(n,r,null),pA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jh(n,o)}catch(o){await ac(o)}}async function Yk(t,e,n){const r=lt(t);try{const o=await(function(h,m){const y=lt(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,m).next((x=>(kt(x!==null,37113),b=x.keys(),y.mutationQueue.removeMutationBatch(v,x)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(r.localStore,e);gA(r,e,n),pA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jh(r,o)}catch(o){await ac(o)}}function pA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gA(t,e,n){const r=lt(t);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yA(t,r)}))}function yA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(L_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$_(t))}function oT(t,e,n){for(const r of n)r instanceof hA?(t.Ru.addReference(r.key,e),Xk(t,r)):r instanceof fA?(Ve(G_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yA(t,r.key)):tt(19791,{wu:r})}function Xk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(G_,"New document in limbo: "+n),t.Eu.add(r),$_(t))}function $_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ge(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new Bk(n)),t.du=t.du.insert(n,r),sA(t.remoteStore,new Co(Ps(Tm(n.path)),r,"TargetPurposeLimboResolution",vm.ce))}}async function Jh(t,e,n){const r=lt(t),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{h.push(r.pu(y,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const b=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){o.push(v);const b=M_.As(y.targetId,v);u.push(b)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(y,v){const b=lt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Se.forEach(v,(A=>Se.forEach(A.Es,(O=>b.persistence.referenceDelegate.addReference(x,A.targetId,O))).next((()=>Se.forEach(A.ds,(O=>b.persistence.referenceDelegate.removeReference(x,A.targetId,O)))))))))}catch(x){if(!oc(x))throw x;Ve(D_,"Failed to update sequence numbers: "+x)}for(const x of v){const A=x.targetId;if(!x.fromCache){const O=b.Ms.get(A),V=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(V);b.Ms=b.Ms.insert(A,z)}}})(r.localStore,u))}async function Qk(t,e){const n=lt(t);if(!n.currentUser.isEqual(e)){Ve(G_,"User change. New user:",e.toKey());const r=await tA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new Oe(_e.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jh(n,r.Ls)}}function Jk(t,e){const n=lt(t),r=n.Au.get(e);if(r&&r.hu)return wt().add(r.key);{let o=wt();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function _A(t){const e=lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kk.bind(null,e),e.Pu.H_=kk.bind(null,e.eventManager),e.Pu.yu=Vk.bind(null,e.eventManager),e}function e4(t){const e=lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yk.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rk(this.persistence,new tk,e.initialUser,this.serializer)}Cu(e){return new eA(O_.mi,this.serializer)}Du(e){return new hk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class t4 extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new eA((r=>Xd.mi(r,n)),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qk.bind(null,this.syncEngine),await Mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lk})()}createDatastore(e){const n=Nm(e.databaseInfo.databaseId),r=(function(u){return new gk(u)})(e.databaseInfo);return(function(u,h,m,y){return new Ek(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new wk(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aT(this.syncEngine,n,0)),(function(){return eT.v()?new eT:new fk})())}createSyncEngine(e,n){return(function(o,u,h,m,y,v,b){const x=new jk(o,u,h,m,y,v);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=lt(n);Ve(Ul,"RemoteStore shutting down."),r.Ea.add(5),await Qh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iy.provider={build:()=>new Iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Aa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class n4{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=gi.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{Ve(zo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(Ve(zo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=B_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vg(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await tA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i4(t);Ve(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>nT(e.remoteStore,o))),t._onlineComponents=e}async function i4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(zo,"Using user provided OfflineComponentProvider");try{await Vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===_e.FAILED_PRECONDITION||o.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Vg(t,new Jd)}}else Ve(zo,"Using default OfflineComponentProvider"),await Vg(t,new t4(void 0));return t._offlineComponents}async function vA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(zo,"Using user provided OnlineComponentProvider"),await lT(t,t._uninitializedComponentsProvider._online)):(Ve(zo,"Using default OnlineComponentProvider"),await lT(t,new Iy))),t._onlineComponents}function r4(t){return vA(t).then((e=>e.syncEngine))}async function em(t){const e=await vA(t),n=e.eventManager;return n.onListen=Fk.bind(null,e.syncEngine),n.onUnlisten=Gk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$k.bind(null,e.syncEngine),n}function s4(t,e,n={}){const r=new va;return t.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const b=new Z_({next:A=>{b.Nu(),h.enqueueAndForget((()=>F_(u,x)));const O=A.docs.has(m);!O&&A.fromCache?v.reject(new Oe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&y&&y.source==="server"?v.reject(new Oe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),x=new q_(Tm(m.path),b,{includeMetadataChanges:!0,qa:!0});return j_(u,x)})(await em(t),t.asyncQueue,e,n,r))),r.promise}function a4(t,e,n={}){const r=new va;return t.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const b=new Z_({next:A=>{b.Nu(),h.enqueueAndForget((()=>F_(u,x))),A.fromCache&&y.source==="server"?v.reject(new Oe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),x=new q_(m,b,{includeMetadataChanges:!0,qa:!0});return j_(u,x)})(await em(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firestore.googleapis.com",cT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bA,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UL)throw new Oe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hD;switch(r.type){case"firstParty":return new pD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uT.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())})(this),Promise.resolve()}}function o4(t,e,n,r={}){t=Ea(t,Om);const o=Bl(e),u=t._getSettings(),h={...u,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(o_(`https://${m}`),l_("Firestore",!0)),u.host!==bA&&u.host!==m&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!Ml(y,h)&&(t._setSettings(y),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=gi.MOCK_USER;else{v=_1(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Oe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new gi(x)}t._authCredentials=new fD(new hS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wh(n,Dn._jsonSchema))return new Dn(e,r||null,new Ge(Kt.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:Mn("string",Dn._jsonSchemaVersion),referencePath:Mn("string")};class Oo extends js{constructor(e,n,r){super(e,n,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Ge(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function wa(t,e,...n){if(t=ai(t),fS("collection","path",e),t instanceof Om){const r=Kt.fromString(e,...n);return Sw(r),new Oo(t,null,r)}{if(!(t instanceof Dn||t instanceof Oo))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return Sw(r),new Oo(t.firestore,null,r)}}function K_(t,e,...n){if(t=ai(t),arguments.length===1&&(e=b_.newId()),fS("doc","path",e),t instanceof Om){const r=Kt.fromString(e,...n);return xw(r),new Dn(t,null,new Ge(r))}{if(!(t instanceof Dn||t instanceof Oo))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return xw(r),new Dn(t.firestore,t instanceof Oo?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iA(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&Ve(fT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oc(e))throw e;Ve(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Aa("INTERNAL UNHANDLED ERROR: ",mT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=z_.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&tt(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(t,["next","error","complete"])}class ec extends Om{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new dT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function l4(t,e){const n=typeof t=="object"?t:h_(),r=typeof t=="string"?t:Gd,o=mm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=p1("firestore");u&&o4(o,...u)}return o}function Mm(t){if(t._terminated)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u4(t),t._firestoreClient}function u4(t){const e=t._freezeSettings(),n=(function(o,u,h,m){return new OD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,EA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new n4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(oi.fromBase64String(e))}catch(n){throw new Oe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wh(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:Mn("string",Nr._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function c4(){return new Dm(yy)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Wh(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Mn("string",Os._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wh(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new Oe(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Mn("string",Ms._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=/^__.*__$/;class f4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yh(e,this.data,n,this.fieldTransforms)}}function wA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ac:t})}}class Y_{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Y_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wA(this.Ac)&&h4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nm(e)}Cc(e,n,r,o=!1){return new Y_({Ac:e,methodName:n,Dc:r,path:si.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X_(t){const e=t._freezeSettings(),n=Nm(t._databaseId);return new d4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m4(t,e,n,r,o,u={}){const h=t.Cc(u.merge||u.mergeFields?2:0,e,n,o);AA("Data must be an object, but it was:",h,r);const m=xA(r,h);let y,v;if(u.merge)y=new ts(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const A=p4(e,x,n);if(!h.contains(A))throw new Oe(_e.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);y4(b,A)||b.push(A)}y=new ts(b),v=h.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,v=h.fieldTransforms;return new f4(new Rr(m),y,v)}class Q_ extends W_{_toFieldTransform(e){return new rL(e.path,new Ih)}isEqual(e){return e instanceof Q_}}function TA(t,e,n,r=!1){return J_(n,t.Cc(r?4:3,e))}function J_(t,e){if(SA(t=ai(t)))return AA("Unsupported field value:",e,t),xA(t,e);if(t instanceof W_)return(function(r,o){if(!wA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let y=J_(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(t,e)}return(function(r,o){if((r=ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tL(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=rn.fromDate(r);return{timestampValue:Yd(o.serializer,u)}}if(r instanceof rn){const u=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(o.serializer,u)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:$S(o.serializer,r._byteString)};if(r instanceof Dn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:P_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ms)return(function(h,m){return{mapValue:{fields:{[bS]:{stringValue:wS},[$d]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return C_(m.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${_m(r)}`)})(t,e)}function xA(t,e){const n={};return pS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,((r,o)=>{const u=J_(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function SA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Os||t instanceof Nr||t instanceof Dn||t instanceof W_||t instanceof Ms)}function AA(t,e,n){if(!SA(n)||!dS(n)){const r=_m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function p4(t,e,n){if((e=ai(e))instanceof Dm)return e._internalPath;if(typeof e=="string")return CA(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const g4=new RegExp("[~\\*/\\[\\]]");function CA(t,e,n){if(e.search(g4)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dm(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${r}`),h&&(y+=` in document ${o}`),y+=")"),new Oe(_e.INVALID_ARGUMENT,m+t+y)}function y4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _4 extends ev{data(){return super.data()}}function Lm(t,e){return typeof e=="string"?CA(t,e):e instanceof Dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class km extends tv{}function _i(t,e,...n){let r=[];e instanceof tv&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((y=>y instanceof nv)).length,m=u.filter((y=>y instanceof Vm)).length;if(h>1||h>0&&m>0)throw new Oe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Vm extends km{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vm(e,n,r)}_apply(e){const n=this._parse(e);return NA(e._query,n),new js(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=X_(e.firestore);return(function(u,h,m,y,v,b,x){let A;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){yT(x,b);const V=[];for(const z of x)V.push(gT(y,u,z));A={arrayValue:{values:V}}}else A=gT(y,u,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||yT(x,b),A=TA(m,h,x,b==="in"||b==="not-in");return On.create(v,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function is(t,e,n){const r=e,o=Lm("where",t);return Vm._create(o,r,n)}class nv extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)NA(h,y),h=wy(h,y)})(e._query,n),new js(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends km{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(u,h)})(e._query,this._field,this._direction);return new js(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new ql(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function $z(t,e="asc"){const n=e,r=Lm("orderBy",t);return iv._create(r,n)}class rv extends km{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rv(e,n,r)}_apply(e){return new js(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}function Bo(t){return rv._create("limit",t,"F")}class sv extends km{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=v4(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,(function(o,u){return new ql(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,n))}}function Um(...t){return sv._create("startAfter",t,!1)}function v4(t,e,n,r){if(n[0]=ai(n[0]),n[0]instanceof ev)return(function(u,h,m,y,v){if(!y)throw new Oe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const b=[];for(const x of qu(u))if(x.field.isKeyField())b.push(Zd(h,y.key));else{const A=y.data.field(x.field);if(bm(A))throw new Oe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const O=x.field.canonicalString();throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new Xu(b,v)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=X_(t.firestore);return(function(h,m,y,v,b,x){const A=h.explicitOrderBy;if(b.length>A.length)throw new Oe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<b.length;V++){const z=b[V];if(A[V].field.isKeyField()){if(typeof z!="string")throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof z}`);if(!A_(h)&&z.indexOf("/")!==-1)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${z}' contains a slash.`);const j=h.path.child(Kt.fromString(z));if(!Ge.isDocumentKey(j))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const K=new Ge(j);O.push(Zd(m,K))}else{const j=TA(y,v,z);O.push(j)}}return new Xu(O,x)})(t._query,t.firestore._databaseId,o,e,n,r)}}function gT(t,e,n){if(typeof(n=ai(n))=="string"){if(n==="")throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A_(e)&&n.indexOf("/")!==-1)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!Ge.isDocumentKey(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zd(t,new Ge(r))}if(n instanceof Dn)return Zd(t,n._key);throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function yT(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(t,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E4{convertValue(e,n="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hl(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[$d].arrayValue?.values?.map((r=>xn(r.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Os(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);kt(QS(r),9688,{name:e});const o=new Rh(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return o.isEqual(n)||Aa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends ev{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:Mn("string",Nl._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Pd extends Nl{data(e={}){return super.data(e)}}class Pl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pd(this._firestore,this._userDataWriter,r.key,r,new uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Pd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Pd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:w4(m.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){t=Ea(t,Dn);const e=Ea(t.firestore,ec);return s4(Mm(e),t._key).then((n=>IA(e,t,n)))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Mn("string",Pl._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class av extends E4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function ef(t){t=Ea(t,js);const e=Ea(t.firestore,ec),n=Mm(e),r=new av(e);return RA(t._query),a4(n,t._query).then((o=>new Pl(e,r,t,o)))}function Oy(t,e){const n=Ea(t.firestore,ec),r=K_(t),o=b4(t.converter,e);return x4(n,[m4(X_(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,ba.exists(!1))]).then((()=>r))}function T4(t,...e){t=ai(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||pT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pT(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,h,m;if(t instanceof Dn)h=Ea(t.firestore,ec),m=Tm(t._key.path),u={next:y=>{e[r]&&e[r](IA(h,t,y))},error:e[r+1],complete:e[r+2]};else{const y=Ea(t,js);h=Ea(y.firestore,ec),m=y._query;const v=new av(h);u={next:b=>{e[r]&&e[r](new Pl(h,v,y,b))},error:e[r+1],complete:e[r+2]},RA(t._query)}return(function(v,b,x,A){const O=new Z_(A),V=new q_(b,O,x);return v.asyncQueue.enqueueAndForget((async()=>j_(await em(v),V))),()=>{O.Nu(),v.asyncQueue.enqueueAndForget((async()=>F_(await em(v),V)))}})(Mm(h),m,o,u)}function x4(t,e){return(function(r,o){const u=new va;return r.asyncQueue.enqueueAndForget((async()=>Zk(await r4(r),o,u))),u.promise})(Mm(t),e)}function IA(t,e,n){const r=n.docs.get(e._key),o=new av(t);return new Nl(t,o,e._key,r,new uh(n.hasPendingWrites,n.fromCache),e.converter)}function _T(){return new Q_("serverTimestamp")}(function(e,n=!0){(function(o){sc=o})(jl),Dl(new Mo("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new ec(new dD(r.getProvider("auth-internal")),new gD(h,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Oe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(v.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Cs(bw,ww,e),Cs(bw,ww,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebasestorage.googleapis.com",S4="storageBucket",A4=120*1e3,C4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Bs{constructor(e,n,r=0){super(Ug(e),`Firebase Storage: ${n} (${Ug(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function Ug(t){return"storage/"+t}function R4(){const t="An unknown error occurred, please check the error payload for server response.";return new Fs(Vs.UNKNOWN,t)}function N4(){return new Fs(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P4(){return new Fs(Vs.CANCELED,"User canceled the upload/download.")}function I4(t){return new Fs(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function O4(t){return new Fs(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vT(t){return new Fs(Vs.INVALID_ARGUMENT,t)}function MA(){return new Fs(Vs.APP_DELETED,"The Firebase app was deleted.")}function M4(t){return new Fs(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw O4(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function v(ve){ve.path_=decodeURIComponent(ve.path)}const b="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${b}/b/${o}/o${A}`,"i"),V={bucket:1,path:3},z=n===OA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",K=new RegExp(`^https?://${z}/${o}/${j}`,"i"),X=[{regex:m,indices:y,postModify:u},{regex:O,indices:V,postModify:v},{regex:K,indices:{bucket:1,path:2},postModify:v}];for(let ve=0;ve<X.length;ve++){const ae=X[ve],de=ae.regex.exec(e);if(de){const U=de[ae.indices.bucket];let N=de[ae.indices.path];N||(N=""),r=new ns(U,N),ae.postModify(r);break}}if(r==null)throw I4(e);return r}}class D4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e,n){let r=1,o=null,u=null,h=!1,m=0;function y(){return m===2}let v=!1;function b(...j){v||(v=!0,e.apply(null,j))}function x(j){o=setTimeout(()=>{o=null,t(O,y())},j)}function A(){u&&clearTimeout(u)}function O(j,...K){if(v){A();return}if(j){A(),b.call(null,j,...K);return}if(y()||h){A(),b.call(null,j,...K);return}r<64&&(r*=2);let X;m===1?(m=2,X=0):X=(r+Math.random())*1e3,x(X)}let V=!1;function z(j){V||(V=!0,A(),!v&&(o!==null?(j||(m=2),clearTimeout(o),x(0)):j||(m=1)))}return x(0),u=setTimeout(()=>{h=!0,z(!0)},n),z}function k4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){return t!==void 0}function ET(t,e,n,r){if(r<e)throw vT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vT(`Invalid value for '${t}'. Expected ${n} or less.`)}function U4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var nm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nm||(nm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,o,u,h,m,y,v,b,x,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=x,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,z)=>{this.resolve_=V,this.reject_=z,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new pd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const y=m.loaded,v=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===nm.NO_ERROR,y=u.getStatus();if(!m||z4(y,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===nm.ABORT;r(!1,new pd(!1,null,b));return}const v=this.successCodes_.indexOf(y)!==-1;r(!0,new pd(v,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());V4(y)?u(y):u()}catch(y){h(y)}else if(m!==null){const y=R4();y.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,y)):h(y)}else if(o.canceled){const y=this.appDelete_?MA():P4();h(y)}else{const y=N4();h(y)}};this.canceled_?n(!1,new pd(!1,null,!0)):this.backoffId_=L4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function j4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function q4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function G4(t,e,n,r,o,u,h=!0,m=!1){const y=U4(t.urlParams),v=t.url+y,b=Object.assign({},t.headers);return H4(b,e),j4(b,n),F4(b,u),q4(b,r),new B4(v,t.method,b,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new im(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z4(this._location.path)}get storage(){return this._service}get parent(){const e=$4(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new im(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw M4(e)}}function bT(t,e){const n=e?.[S4];return n==null?null:ns.makeFromBucketSpec(n,t)}function K4(t,e,n,r={}){t.host=`${e}:${n}`;const o=Bl(e);o&&(o_(`https://${t.host}/b`),l_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(t._overrideAuthToken=typeof u=="string"?u:_1(u,t.app.options.projectId))}class W4{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=OA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A4,this._maxUploadRetryTime=C4,this._requests=new Set,o!=null?this._bucket=ns.makeFromBucketSpec(o,this._host):this._bucket=bT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=bT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new im(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new D4(MA());{const h=G4(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const wT="@firebase/storage",TT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="storage";function Y4(t=h_(),e){t=ai(t);const r=mm(t,DA).getImmediate({identifier:e}),o=p1("storage");return o&&X4(r,...o),r}function X4(t,e,n,r={}){K4(t,e,n,r)}function Q4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new W4(n,r,o,e,jl)}function J4(){Dl(new Mo(DA,Q4,"PUBLIC").setMultipleInstances(!0)),Cs(wT,TT,""),Cs(wT,TT,"esm2020")}J4();const eV={apiKey:"AIzaSyAGm3bzsCxYSARcgVn41ta_EOut9fauWr0",authDomain:"ecommerce-74229.firebaseapp.com",projectId:"ecommerce-74229",storageBucket:"ecommerce-74229.firebasestorage.app",messagingSenderId:"47160479095",appId:"1:47160479095:web:0dd3a844d5d5c3847ea572",measurementId:"G-47FYXTR59Z"},ov=b1(eV),rs=l4(ov);Y4(ov);const lv=oD(ov),tV="modulepreload",nV=function(t){return"/Ecommerce/"+t},xT={},Zo=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let y=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=y(n.map(v=>{if(v=nV(v),v in xT)return;xT[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const A=document.createElement("link");if(A.rel=b?"stylesheet":tV,b||(A.as="script"),A.crossOrigin="",A.href=v,m&&A.setAttribute("nonce",m),document.head.appendChild(A),b)return new Promise((O,V)=>{A.addEventListener("load",O),A.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var zg={exports:{}},ST;function iV(){return ST||(ST=1,(()=>{var t={296:(o,u,h)=>{var m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,x=parseInt,A=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,O=typeof self=="object"&&self&&self.Object===Object&&self,V=A||O||Function("return this")(),z=Object.prototype.toString,j=Math.max,K=Math.min,G=function(){return V.Date.now()};function X(ae){var de=typeof ae;return!!ae&&(de=="object"||de=="function")}function ve(ae){if(typeof ae=="number")return ae;if((function(N){return typeof N=="symbol"||(function(M){return!!M&&typeof M=="object"})(N)&&z.call(N)=="[object Symbol]"})(ae))return NaN;if(X(ae)){var de=typeof ae.valueOf=="function"?ae.valueOf():ae;ae=X(de)?de+"":de}if(typeof ae!="string")return ae===0?ae:+ae;ae=ae.replace(m,"");var U=v.test(ae);return U||b.test(ae)?x(ae.slice(2),U?2:8):y.test(ae)?NaN:+ae}o.exports=function(ae,de,U){var N,M,F,H,Y,q,Ze=0,Ue=!1,ie=!1,ge=!0;if(typeof ae!="function")throw new TypeError("Expected a function");function pe(oe){var Ne=N,Pe=M;return N=M=void 0,Ze=oe,H=ae.apply(Pe,Ne)}function $e(oe){var Ne=oe-q;return q===void 0||Ne>=de||Ne<0||ie&&oe-Ze>=F}function B(){var oe=G();if($e(oe))return W(oe);Y=setTimeout(B,(function(Ne){var Pe=de-(Ne-q);return ie?K(Pe,F-(Ne-Ze)):Pe})(oe))}function W(oe){return Y=void 0,ge&&N?pe(oe):(N=M=void 0,H)}function me(){var oe=G(),Ne=$e(oe);if(N=arguments,M=this,q=oe,Ne){if(Y===void 0)return(function(Pe){return Ze=Pe,Y=setTimeout(B,de),Ue?pe(Pe):H})(q);if(ie)return Y=setTimeout(B,de),pe(q)}return Y===void 0&&(Y=setTimeout(B,de)),H}return de=ve(de)||0,X(U)&&(Ue=!!U.leading,F=(ie="maxWait"in U)?j(ve(U.maxWait)||0,de):F,ge="trailing"in U?!!U.trailing:ge),me.cancel=function(){Y!==void 0&&clearTimeout(Y),Ze=0,N=q=M=Y=void 0},me.flush=function(){return Y===void 0?H:W(G())},me}},96:(o,u,h)=>{var m="Expected a function",y=NaN,v="[object Symbol]",b=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,O=/^0o[0-7]+$/i,V=parseInt,z=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,j=typeof self=="object"&&self&&self.Object===Object&&self,K=z||j||Function("return this")(),G=Object.prototype.toString,X=Math.max,ve=Math.min,ae=function(){return K.Date.now()};function de(N){var M=typeof N;return!!N&&(M=="object"||M=="function")}function U(N){if(typeof N=="number")return N;if((function(H){return typeof H=="symbol"||(function(Y){return!!Y&&typeof Y=="object"})(H)&&G.call(H)==v})(N))return y;if(de(N)){var M=typeof N.valueOf=="function"?N.valueOf():N;N=de(M)?M+"":M}if(typeof N!="string")return N===0?N:+N;N=N.replace(b,"");var F=A.test(N);return F||O.test(N)?V(N.slice(2),F?2:8):x.test(N)?y:+N}o.exports=function(N,M,F){var H=!0,Y=!0;if(typeof N!="function")throw new TypeError(m);return de(F)&&(H="leading"in F?!!F.leading:H,Y="trailing"in F?!!F.trailing:Y),(function(q,Ze,Ue){var ie,ge,pe,$e,B,W,me=0,oe=!1,Ne=!1,Pe=!0;if(typeof q!="function")throw new TypeError(m);function Te(Pt){var Wt=ie,Yt=ge;return ie=ge=void 0,me=Pt,$e=q.apply(Yt,Wt)}function ht(Pt){var Wt=Pt-W;return W===void 0||Wt>=Ze||Wt<0||Ne&&Pt-me>=pe}function Qe(){var Pt=ae();if(ht(Pt))return qt(Pt);B=setTimeout(Qe,(function(Wt){var Yt=Ze-(Wt-W);return Ne?ve(Yt,pe-(Wt-me)):Yt})(Pt))}function qt(Pt){return B=void 0,Pe&&ie?Te(Pt):(ie=ge=void 0,$e)}function Gt(){var Pt=ae(),Wt=ht(Pt);if(ie=arguments,ge=this,W=Pt,Wt){if(B===void 0)return(function(Yt){return me=Yt,B=setTimeout(Qe,Ze),oe?Te(Yt):$e})(W);if(Ne)return B=setTimeout(Qe,Ze),Te(W)}return B===void 0&&(B=setTimeout(Qe,Ze)),$e}return Ze=U(Ze)||0,de(Ue)&&(oe=!!Ue.leading,pe=(Ne="maxWait"in Ue)?X(U(Ue.maxWait)||0,Ze):pe,Pe="trailing"in Ue?!!Ue.trailing:Pe),Gt.cancel=function(){B!==void 0&&clearTimeout(B),me=0,ie=W=ge=B=void 0},Gt.flush=function(){return B===void 0?$e:qt(ae())},Gt})(N,M,{leading:H,maxWait:M,trailing:Y})}},703:(o,u,h)=>{var m=h(414);function y(){}function v(){}v.resetWarningCache=y,o.exports=function(){function b(O,V,z,j,K,G){if(G!==m){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}}function x(){return b}b.isRequired=b;var A={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:x,element:b,elementType:b,instanceOf:x,node:b,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:v,resetWarningCache:y};return A.PropTypes=A,A}},697:(o,u,h)=>{o.exports=h(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(o){var u=e[o];if(u!==void 0)return u.exports;var h=e[o]={exports:{}};return t[o](h,h.exports,n),h.exports}n.n=o=>{var u=o&&o.__esModule?()=>o.default:()=>o;return n.d(u,{a:u}),u},n.d=(o,u)=>{for(var h in u)n.o(u,h)&&!n.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:u[h]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Wt,LazyLoadImage:()=>qs,trackWindowScroll:()=>$e});const o=cm();var u=n.n(o),h=n(697);function m(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function y(Re){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},y(Re)}function v(Re,ee){var ye=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);ee&&(Ce=Ce.filter((function(He){return Object.getOwnPropertyDescriptor(Re,He).enumerable}))),ye.push.apply(ye,Ce)}return ye}function b(Re,ee,ye){return(ee=A(ee))in Re?Object.defineProperty(Re,ee,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Re[ee]=ye,Re}function x(Re,ee){for(var ye=0;ye<ee.length;ye++){var Ce=ee[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,A(Ce.key),Ce)}}function A(Re){var ee=(function(ye,Ce){if(y(ye)!=="object"||ye===null)return ye;var He=ye[Symbol.toPrimitive];if(He!==void 0){var at=He.call(ye,"string");if(y(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)})(Re);return y(ee)==="symbol"?ee:String(ee)}function O(Re,ee){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},O(Re,ee)}function V(Re){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},V(Re)}var z=function(Re){Re.forEach((function(ee){ee.isIntersecting&&ee.target.onVisible()}))},j={},K=(function(Re){(function(fe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(be&&be.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),be&&O(fe,be)})(yt,Re);var ee,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var fe,be=V(Ce);if(He){var ke=V(this).constructor;fe=Reflect.construct(be,arguments,ke)}else fe=be.apply(this,arguments);return(function(Me,Le){if(Le&&(y(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Me)})(this,fe)});function yt(fe){var be;if((function(Me,Le){if(!(Me instanceof Le))throw new TypeError("Cannot call a class as a function")})(this,yt),(be=at.call(this,fe)).supportsObserver=!fe.scrollPosition&&fe.useIntersectionObserver&&m(),be.supportsObserver){var ke=fe.threshold;be.observer=(function(Me){return j[Me]=j[Me]||new IntersectionObserver(z,{rootMargin:Me+"px"}),j[Me]})(ke)}return be}return ee=yt,ye=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,be=this.placeholder.getBoundingClientRect(),ke=this.placeholder.style,Me=parseInt(ke.getPropertyValue("margin-left"),10)||0,Le=parseInt(ke.getPropertyValue("margin-top"),10)||0;return{bottom:fe.y+be.bottom+Le,left:fe.x+be.left+Me,right:fe.x+be.right+Me,top:fe.y+be.top+Le}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var fe=this.props,be=fe.scrollPosition,ke=fe.threshold,Me=this.getPlaceholderBoundingBox(be),Le=be.y+window.innerHeight,We=be.x,It=be.x+window.innerWidth,Ot=be.y;return Ot-ke<=Me.bottom&&Le+ke>=Me.top&&We-ke<=Me.right&&It+ke>=Me.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var fe=this,be=this.props,ke=be.className,Me=be.height,Le=be.placeholder,We=be.style,It=be.width;if(Le&&typeof Le.type!="function")return u().cloneElement(Le,{ref:function(Tt){return fe.placeholder=Tt}});var Ot=(function(Tt){for(var Mt=1;Mt<arguments.length;Mt++){var Ct=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?v(Object(Ct),!0).forEach((function(sn){b(Tt,sn,Ct[sn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(Ct)):v(Object(Ct)).forEach((function(sn){Object.defineProperty(Tt,sn,Object.getOwnPropertyDescriptor(Ct,sn))}))}return Tt})({display:"inline-block"},We);return It!==void 0&&(Ot.width=It),Me!==void 0&&(Ot.height=Me),u().createElement("span",{className:ke,ref:function(Tt){return fe.placeholder=Tt},style:Ot},Le)}}],ye&&x(ee.prototype,ye),Object.defineProperty(ee,"prototype",{writable:!1}),yt})(u().Component);K.propTypes={onVisible:h.PropTypes.func.isRequired,className:h.PropTypes.string,height:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),placeholder:h.PropTypes.element,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,scrollPosition:h.PropTypes.shape({x:h.PropTypes.number.isRequired,y:h.PropTypes.number.isRequired}),width:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string])},K.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const G=K;var X=n(296),ve=n.n(X),ae=n(96),de=n.n(ae),U=function(Re){var ee=getComputedStyle(Re,null);return ee.getPropertyValue("overflow")+ee.getPropertyValue("overflow-y")+ee.getPropertyValue("overflow-x")};const N=function(Re){if(!(Re instanceof HTMLElement))return window;for(var ee=Re;ee&&ee instanceof HTMLElement;){if(/(scroll|auto)/.test(U(ee)))return ee;ee=ee.parentNode}return window};function M(Re){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},M(Re)}var F=["delayMethod","delayTime"];function H(){return H=Object.assign?Object.assign.bind():function(Re){for(var ee=1;ee<arguments.length;ee++){var ye=arguments[ee];for(var Ce in ye)Object.prototype.hasOwnProperty.call(ye,Ce)&&(Re[Ce]=ye[Ce])}return Re},H.apply(this,arguments)}function Y(Re,ee){for(var ye=0;ye<ee.length;ye++){var Ce=ee[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(M(at)!=="object"||at===null)return at;var fe=at[Symbol.toPrimitive];if(fe!==void 0){var be=fe.call(at,"string");if(M(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),M(He)==="symbol"?He:String(He)),Ce)}var He}function q(Re,ee){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},q(Re,ee)}function Ze(Re,ee){if(ee&&(M(ee)==="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(Re)}function Ue(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function ie(Re){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},ie(Re)}var ge=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},pe=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const $e=function(Re){var ee=(function(ye){(function(ke,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Me&&Me.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),Me&&q(ke,Me)})(be,ye);var Ce,He,at,yt,fe=(at=be,yt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var ke,Me=ie(at);if(yt){var Le=ie(this).constructor;ke=Reflect.construct(Me,arguments,Le)}else ke=Me.apply(this,arguments);return Ze(this,ke)});function be(ke){var Me;if((function(We,It){if(!(We instanceof It))throw new TypeError("Cannot call a class as a function")})(this,be),(Me=fe.call(this,ke)).useIntersectionObserver=ke.useIntersectionObserver&&m(),Me.useIntersectionObserver)return Ze(Me);var Le=Me.onChangeScroll.bind(Ue(Me));return ke.delayMethod==="debounce"?Me.delayedScroll=ve()(Le,ke.delayTime):ke.delayMethod==="throttle"&&(Me.delayedScroll=de()(Le,ke.delayTime)),Me.state={scrollPosition:{x:ge(),y:pe()}},Me.baseComponentRef=u().createRef(),Me}return Ce=be,(He=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||N(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=N(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ge(),y:pe()}})}},{key:"render",value:function(){var ke=this.props,Me=(ke.delayMethod,ke.delayTime,(function(We,It){if(We==null)return{};var Ot,Tt,Mt=(function(sn,Ln){if(sn==null)return{};var wi,Ti,kr={},Hi=Object.keys(sn);for(Ti=0;Ti<Hi.length;Ti++)wi=Hi[Ti],Ln.indexOf(wi)>=0||(kr[wi]=sn[wi]);return kr})(We,It);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(We);for(Tt=0;Tt<Ct.length;Tt++)Ot=Ct[Tt],It.indexOf(Ot)>=0||Object.prototype.propertyIsEnumerable.call(We,Ot)&&(Mt[Ot]=We[Ot])}return Mt})(ke,F)),Le=this.useIntersectionObserver?null:this.state.scrollPosition;return u().createElement(Re,H({forwardRef:this.baseComponentRef,scrollPosition:Le},Me))}}])&&Y(Ce.prototype,He),Object.defineProperty(Ce,"prototype",{writable:!1}),be})(u().Component);return ee.propTypes={delayMethod:h.PropTypes.oneOf(["debounce","throttle"]),delayTime:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool},ee.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},ee};function B(Re){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},B(Re)}function W(Re,ee){for(var ye=0;ye<ee.length;ye++){var Ce=ee[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(B(at)!=="object"||at===null)return at;var fe=at[Symbol.toPrimitive];if(fe!==void 0){var be=fe.call(at,"string");if(B(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),B(He)==="symbol"?He:String(He)),Ce)}var He}function me(Re,ee){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},me(Re,ee)}function oe(Re){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},oe(Re)}var Ne=(function(Re){(function(fe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(be&&be.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),be&&me(fe,be)})(yt,Re);var ee,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var fe,be=oe(Ce);if(He){var ke=oe(this).constructor;fe=Reflect.construct(be,arguments,ke)}else fe=be.apply(this,arguments);return(function(Me,Le){if(Le&&(B(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Me)})(this,fe)});function yt(fe){return(function(be,ke){if(!(be instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,yt),at.call(this,fe)}return ee=yt,(ye=[{key:"render",value:function(){return u().createElement(G,this.props)}}])&&W(ee.prototype,ye),Object.defineProperty(ee,"prototype",{writable:!1}),yt})(u().Component);const Pe=$e(Ne);function Te(Re){return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},Te(Re)}function ht(Re,ee){for(var ye=0;ye<ee.length;ye++){var Ce=ee[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(Te(at)!=="object"||at===null)return at;var fe=at[Symbol.toPrimitive];if(fe!==void 0){var be=fe.call(at,"string");if(Te(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),Te(He)==="symbol"?He:String(He)),Ce)}var He}function Qe(Re,ee){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},Qe(Re,ee)}function qt(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function Gt(Re){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},Gt(Re)}var Pt=(function(Re){(function(fe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(be&&be.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),be&&Qe(fe,be)})(yt,Re);var ee,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var fe,be=Gt(Ce);if(He){var ke=Gt(this).constructor;fe=Reflect.construct(be,arguments,ke)}else fe=be.apply(this,arguments);return(function(Me,Le){if(Le&&(Te(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(Me)})(this,fe)});function yt(fe){var be;(function(It,Ot){if(!(It instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,yt),be=at.call(this,fe);var ke=fe.afterLoad,Me=fe.beforeLoad,Le=fe.scrollPosition,We=fe.visibleByDefault;return be.state={visible:We},We&&(Me(),ke()),be.onVisible=be.onVisible.bind(qt(be)),be.isScrollTracked=!!(Le&&Number.isFinite(Le.x)&&Le.x>=0&&Number.isFinite(Le.y)&&Le.y>=0),be}return ee=yt,(ye=[{key:"componentDidUpdate",value:function(fe,be){be.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var fe=this.props,be=fe.className,ke=fe.delayMethod,Me=fe.delayTime,Le=fe.height,We=fe.placeholder,It=fe.scrollPosition,Ot=fe.style,Tt=fe.threshold,Mt=fe.useIntersectionObserver,Ct=fe.width;return this.isScrollTracked||Mt&&m()?u().createElement(G,{className:be,height:Le,onVisible:this.onVisible,placeholder:We,scrollPosition:It,style:Ot,threshold:Tt,useIntersectionObserver:Mt,width:Ct}):u().createElement(Pe,{className:be,delayMethod:ke,delayTime:Me,height:Le,onVisible:this.onVisible,placeholder:We,style:Ot,threshold:Tt,width:Ct})}}])&&ht(ee.prototype,ye),Object.defineProperty(ee,"prototype",{writable:!1}),yt})(u().Component);Pt.propTypes={afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool},Pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Wt=Pt;function Yt(Re){return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},Yt(Re)}var Mr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Dr(Re,ee){var ye=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);ee&&(Ce=Ce.filter((function(He){return Object.getOwnPropertyDescriptor(Re,He).enumerable}))),ye.push.apply(ye,Ce)}return ye}function us(Re){for(var ee=1;ee<arguments.length;ee++){var ye=arguments[ee]!=null?arguments[ee]:{};ee%2?Dr(Object(ye),!0).forEach((function(Ce){jn(Re,Ce,ye[Ce])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(ye)):Dr(Object(ye)).forEach((function(Ce){Object.defineProperty(Re,Ce,Object.getOwnPropertyDescriptor(ye,Ce))}))}return Re}function jn(Re,ee,ye){return(ee=ur(ee))in Re?Object.defineProperty(Re,ee,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Re[ee]=ye,Re}function ji(){return ji=Object.assign?Object.assign.bind():function(Re){for(var ee=1;ee<arguments.length;ee++){var ye=arguments[ee];for(var Ce in ye)Object.prototype.hasOwnProperty.call(ye,Ce)&&(Re[Ce]=ye[Ce])}return Re},ji.apply(this,arguments)}function Hs(Re,ee){for(var ye=0;ye<ee.length;ye++){var Ce=ee[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,ur(Ce.key),Ce)}}function ur(Re){var ee=(function(ye,Ce){if(Yt(ye)!=="object"||ye===null)return ye;var He=ye[Symbol.toPrimitive];if(He!==void 0){var at=He.call(ye,"string");if(Yt(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)})(Re);return Yt(ee)==="symbol"?ee:String(ee)}function bi(Re,ee){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},bi(Re,ee)}function Lr(Re){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},Lr(Re)}var Fi=(function(Re){(function(fe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(be&&be.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),be&&bi(fe,be)})(yt,Re);var ee,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var fe,be=Lr(Ce);if(He){var ke=Lr(this).constructor;fe=Reflect.construct(be,arguments,ke)}else fe=be.apply(this,arguments);return(function(Me,Le){if(Le&&(Yt(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Me)})(this,fe)});function yt(fe){var be;return(function(ke,Me){if(!(ke instanceof Me))throw new TypeError("Cannot call a class as a function")})(this,yt),(be=at.call(this,fe)).state={loaded:!1},be}return ee=yt,(ye=[{key:"onImageLoad",value:function(){var fe=this;return this.state.loaded?null:function(be){fe.props.onLoad(be),fe.props.afterLoad(),fe.setState({loaded:!0})}}},{key:"getImg",value:function(){var fe=this.props,be=(fe.afterLoad,fe.beforeLoad,fe.delayMethod,fe.delayTime,fe.effect,fe.placeholder,fe.placeholderSrc,fe.scrollPosition,fe.threshold,fe.useIntersectionObserver,fe.visibleByDefault,fe.wrapperClassName,fe.wrapperProps,(function(ke,Me){if(ke==null)return{};var Le,We,It=(function(Tt,Mt){if(Tt==null)return{};var Ct,sn,Ln={},wi=Object.keys(Tt);for(sn=0;sn<wi.length;sn++)Ct=wi[sn],Mt.indexOf(Ct)>=0||(Ln[Ct]=Tt[Ct]);return Ln})(ke,Me);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(ke);for(We=0;We<Ot.length;We++)Le=Ot[We],Me.indexOf(Le)>=0||Object.prototype.propertyIsEnumerable.call(ke,Le)&&(It[Le]=ke[Le])}return It})(fe,Mr));return u().createElement("img",ji({},be,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var fe=this.props,be=fe.beforeLoad,ke=fe.className,Me=fe.delayMethod,Le=fe.delayTime,We=fe.height,It=fe.placeholder,Ot=fe.scrollPosition,Tt=fe.style,Mt=fe.threshold,Ct=fe.useIntersectionObserver,sn=fe.visibleByDefault,Ln=fe.width;return u().createElement(Wt,{beforeLoad:be,className:ke,delayMethod:Me,delayTime:Le,height:We,placeholder:It,scrollPosition:Ot,style:Tt,threshold:Mt,useIntersectionObserver:Ct,visibleByDefault:sn,width:Ln},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(fe){var be=this.props,ke=be.effect,Me=be.height,Le=be.placeholderSrc,We=be.width,It=be.wrapperClassName,Ot=be.wrapperProps,Tt=this.state.loaded,Mt=Tt?" lazy-load-image-loaded":"",Ct=Tt||!Le?{}:{backgroundImage:"url(".concat(Le,")"),backgroundSize:"100% 100%"};return u().createElement("span",ji({className:It+" lazy-load-image-background "+ke+Mt,style:us(us({},Ct),{},{color:"transparent",display:"inline-block",height:Me,width:We})},Ot),fe)}},{key:"render",value:function(){var fe=this.props,be=fe.effect,ke=fe.placeholderSrc,Me=fe.visibleByDefault,Le=fe.wrapperClassName,We=fe.wrapperProps,It=this.getLazyLoadImage();return(be||ke)&&!Me||Le||We?this.getWrappedLazyLoadImage(It):It}}])&&Hs(ee.prototype,ye),Object.defineProperty(ee,"prototype",{writable:!1}),yt})(u().Component);Fi.propTypes={onLoad:h.PropTypes.func,afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,delayMethod:h.PropTypes.string,delayTime:h.PropTypes.number,effect:h.PropTypes.string,placeholderSrc:h.PropTypes.string,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool,wrapperClassName:h.PropTypes.string,wrapperProps:h.PropTypes.object},Fi.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const qs=Fi})(),zg.exports=r})()),zg.exports}var LA=iV();const rV="/Ecommerce/assets/women-Dfw609QD.jpg",sV="/Ecommerce/assets/man-BNem_KT8.jpg",aV="/Ecommerce/assets/kid-aD3lXmzM.jpg",oV=k.lazy(()=>Zo(()=>import("./HeroSlider-BYdmWkjn.js"),__vite__mapDeps([0,1,2]))),lV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.ShoppingCart}))),uv=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.WifiOff}))),uV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Heart}))),cV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Search}))),hV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.X}))),fV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Grid}))),dV=k.lazy(()=>Zo(()=>import("./lucide-react-Cck61J92.js"),__vite__mapDeps([3,1])).then(t=>({default:t.List})));class mV extends _.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?_.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},_.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(uv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),_.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const pV=(t,e)=>{let n;return function(...o){const u=()=>{clearTimeout(n),t(...o)};clearTimeout(n),n=setTimeout(u,e)}},gV={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function yV(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const _V=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},vV=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},Bg=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const[o,u]=k.useState(!1),[h,m]=k.useState(!1),y=parseFloat(t.price),v=parseFloat(t.newPrice),b=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},b?_.createElement(LA.LazyLoadImage,{src:b,alt:t.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>m(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image")))),!o&&!h&&b&&_.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},_.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),h&&_.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},_.createElement(uv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),_.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(uV,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},y>v&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",y.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",v.toFixed(2)),y>v&&_.createElement("div",{className:`\r
      line-through\r
      bg-pink-100 text-pink-600 \r
      px-2 py-1 \r
      rounded-full \r
      text-xs font-bold \r
\r
      sm:px-1.5 sm:py-0.5 sm:text-[11px] \r
      max-[500px]:px-1 max-[500px]:py-0.5 max-[500px]:text-[10px] \r
      max-[400px]:px-0.5 max-[400px]:py-0.5 max-[400px]:text-[9px]\r
    `},Math.round((y-v)/y*100),"%")),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(lV,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),EV=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),bV=_.memo(({searchQuery:t,setSearchQuery:e,filteredCount:n})=>{const r=k.useCallback(pV(o=>e(o),300),[e]);return _.createElement("div",{className:"w-full mb-10 mx-auto px-4"},_.createElement("div",{className:"max-w-2xl mx-auto"},_.createElement("div",{className:"relative"},_.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_.createElement(cV,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),_.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:t,onChange:o=>r(o.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),t&&_.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},_.createElement(hV,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),t.trim()!==""&&_.createElement("div",{className:"mt-2 text-center"},_.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",_.createElement("span",{className:"font-semibold text-red-700"},'"',t,'"')),_.createElement("p",{className:"text-gray-600 text-xs"},"Found ",_.createElement("span",{className:"font-bold"},n)," result",n!==1?"s":""))))}),wV=_.memo(()=>{const t=[{name:"men",img:sV},{name:"women",img:rV},{name:"kids",img:aV}];return _.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},_.createElement("div",{className:"text-center mb-6"},_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),_.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),_.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},t.map(e=>_.createElement("div",{key:e.name,className:"flex flex-col items-center group"},_.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},_.createElement(LA.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),_.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),_.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),jg=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),TV=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const[r,o]=k.useReducer(yV,gV),{products:u,loading:h,searchQuery:m,favoriteState:y,lastVisible:v,hasMore:b,page:x,viewMode:A}=r,O=12,V=k.useRef(y);k.useEffect(()=>{V.current=y},[y]),k.useEffect(()=>{const de=_V();o({type:"SET_FAVORITE_STATE",payload:de})},[]);const z=k.useCallback(async(de=1,U=m)=>{de===1&&(o({type:"SET_LOADING",payload:!0}),o({type:"RESET_PAGINATION"}));try{let N=wa(rs,"products");U.trim()!==""&&(N=_i(N,is("name",">=",U),is("name","<=",U+""))),de>1&&v?N=_i(N,Um(v),Bo(O)):N=_i(N,Bo(O));const M=await ef(N),F=M.docs.map(H=>({id:H.id,...H.data()}));o(de===1?{type:"SET_PRODUCTS",payload:F}:{type:"SET_PRODUCTS",payload:[...u,...F]}),o({type:"SET_LAST_VISIBLE",payload:M.docs[M.docs.length-1]}),o({type:"SET_HAS_MORE",payload:M.docs.length===O}),o({type:"SET_PAGE",payload:de})}catch(N){console.error("Error fetching products:",N)}finally{o({type:"SET_LOADING",payload:!1})}},[m,v,u,O]);k.useEffect(()=>{z()},[]),k.useEffect(()=>{m!==r.searchQuery&&z(1,m)},[m]);const j=k.useCallback(()=>{!h&&b&&z(x+1)},[h,b,x,z]),K=k.useCallback(de=>{const U=Array.isArray(V.current)?[...V.current]:typeof V.current=="object"&&V.current!==null?Object.values(V.current):[],N=U.includes(de);let M;if(N?M=U.filter(F=>F!==de):M=[...U,de],vV(M),o({type:"SET_FAVORITE_STATE",payload:M}),e){const F=u.find(H=>H.id===de);F&&e(F)}},[e,u]),G=Array.isArray(y)?y:typeof y=="object"&&y!==null?Object.values(y):[],X=u.filter(de=>de.category==="men"),ve=u.filter(de=>de.category==="women"),ae=u.filter(de=>de.category==="kids");return h&&u.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((de,U)=>_.createElement(EV,{key:U}))))):u.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(uv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement(mV,null,_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement(k.Suspense,{fallback:_.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},_.createElement(oV,null)),_.createElement(wV,null),_.createElement(bV,{searchQuery:m,setSearchQuery:de=>o({type:"SET_SEARCH_QUERY",payload:de}),filteredCount:u.length}),_.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},_.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},_.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${A==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},_.createElement(fV,{className:"w-4 h-4 sm:w-5 sm:h-5"})),_.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${A==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},_.createElement(dV,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),X.length>0&&_.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(jg,{title:"Men's Collection",count:X.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4":"grid-cols-1"}`},X.map(de=>_.createElement(Bg,{key:de.id,product:de,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(de.id)})))),ve.length>0&&_.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(jg,{title:"Women's Collection",count:ve.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ve.map(de=>_.createElement(Bg,{key:de.id,product:de,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(de.id)})))),ae.length>0&&_.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(jg,{title:"Kids' Collection",count:ae.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ae.map(de=>_.createElement(Bg,{key:de.id,product:de,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(de.id)})))),b&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:j,disabled:h,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},h?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},xV=_.memo(TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AT=t=>{const e=AV(t);return e.charAt(0).toUpperCase()+e.slice(1)},kA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),CV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:h,...m},y)=>k.createElement("svg",{ref:y,...RV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kA("lucide",o),...!u&&!CV(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,b])=>k.createElement(v,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(t,e)=>{const n=k.forwardRef(({className:r,...o},u)=>k.createElement(NV,{ref:u,iconNode:e,className:kA(`lucide-${SV(AT(t))}`,`lucide-${t}`,r),...o}));return n.displayName=AT(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CT=Sn("arrow-left",PV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OV=Sn("calendar",IV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],My=Sn("circle-alert",MV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rm=Sn("circle-check-big",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],cv=Sn("expand",LV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VA=Sn("heart-off",kV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jo=Sn("heart",VV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],RT=Sn("house",UV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],BV=Sn("list",zV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FV=Sn("mail",jV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NT=Sn("map-pin",HV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M5 12h14",key:"1ays0h"}]],UA=Sn("minus",qV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$V=Sn("package",GV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],KV=Sn("phone",ZV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zA=Sn("plus",WV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Or=Sn("shopping-cart",YV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Sn("trash-2",XV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],JV=Sn("truck",QV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t3=Sn("user",e3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jA=Sn("wifi-off",n3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ro=Sn("x",i3),r3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function s3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const a3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},o3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},l3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newprice||t.newPrice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(cv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),u3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),c3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),h3=({onAddToCart:t,searchQuery:e})=>{const[n,r]=k.useReducer(s3,r3),{products:o,loading:u,favoriteState:h,lastVisible:m,hasMore:y,page:v}=n,b=12;k.useEffect(()=>{const z=a3();r({type:"SET_FAVORITE_STATE",payload:z})},[]);const x=k.useCallback(async(z=1)=>{z===1&&(r({type:"SET_LOADING",payload:!0}),r({type:"RESET_PAGINATION"}));try{let j=wa(rs,"products");j=_i(j,is("category","==","men")),e&&e.trim()!==""&&(j=_i(j,is("name",">=",e),is("name","<=",e+""))),z>1&&m?j=_i(j,Um(m),Bo(b)):j=_i(j,Bo(b));const K=await ef(j),G=K.docs.map(X=>({id:X.id,...X.data()}));r(z===1?{type:"SET_PRODUCTS",payload:G}:{type:"SET_PRODUCTS",payload:[...o,...G]}),r({type:"SET_LAST_VISIBLE",payload:K.docs[K.docs.length-1]}),r({type:"SET_HAS_MORE",payload:K.docs.length===b}),r({type:"SET_PAGE",payload:z})}catch(j){console.error("Error fetching men products:",j)}finally{r({type:"SET_LOADING",payload:!1})}},[e,m,o,b]);k.useEffect(()=>{x()},[]),k.useEffect(()=>{e&&x(1)},[e]);const A=k.useCallback(z=>{const j=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],K=j.includes(z);let G;K?G=j.filter(X=>X!==z):G=[...j,z],o3(G),r({type:"SET_FAVORITE_STATE",payload:G})},[h]),O=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],V=k.useCallback(()=>{!u&&y&&x(v+1)},[u,y,v,x]);return u&&o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((z,j)=>_.createElement(u3,{key:j}))))):o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(jA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(c3,{title:"Men's Collection",count:o.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(z=>_.createElement(l3,{key:z.id,product:z,onAddToCart:t,onAddToFavorites:A,isFav:O.includes(z.id)}))),y&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:V,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},f3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function d3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const m3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},p3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},g3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newprice||t.newPrice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(cv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),y3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),_3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),v3=({onAddToCart:t,searchQuery:e})=>{const[n,r]=k.useReducer(d3,f3),{products:o,loading:u,favoriteState:h,lastVisible:m,hasMore:y,page:v}=n,b=12;k.useEffect(()=>{const z=m3();r({type:"SET_FAVORITE_STATE",payload:z})},[]);const x=k.useCallback(async(z=1)=>{z===1&&(r({type:"SET_LOADING",payload:!0}),r({type:"RESET_PAGINATION"}));try{let j=wa(rs,"products");j=_i(j,is("category","==","women")),e&&e.trim()!==""&&(j=_i(j,is("name",">=",e),is("name","<=",e+""))),z>1&&m?j=_i(j,Um(m),Bo(b)):j=_i(j,Bo(b));const K=await ef(j),G=K.docs.map(X=>({id:X.id,...X.data()}));r(z===1?{type:"SET_PRODUCTS",payload:G}:{type:"SET_PRODUCTS",payload:[...o,...G]}),r({type:"SET_LAST_VISIBLE",payload:K.docs[K.docs.length-1]}),r({type:"SET_HAS_MORE",payload:K.docs.length===b}),r({type:"SET_PAGE",payload:z})}catch(j){console.error("Error fetching women products:",j)}finally{r({type:"SET_LOADING",payload:!1})}},[e,m,o,b]);k.useEffect(()=>{x()},[]),k.useEffect(()=>{e&&x(1)},[e]);const A=k.useCallback(z=>{const j=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],K=j.includes(z);let G;K?G=j.filter(X=>X!==z):G=[...j,z],p3(G),r({type:"SET_FAVORITE_STATE",payload:G})},[h]),O=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],V=k.useCallback(()=>{!u&&y&&x(v+1)},[u,y,v,x]);return u&&o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((z,j)=>_.createElement(y3,{key:j}))))):o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(jA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(_3,{title:"Women's Collection",count:o.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(z=>_.createElement(g3,{key:z.id,product:z,onAddToCart:t,onAddToFavorites:A,isFav:O.includes(z.id)}))),y&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:V,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},E3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function b3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const w3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},T3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},x3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newPrice||t.newprice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(cv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),S3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),A3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),C3=({onAddToCart:t})=>{const[e,n]=k.useReducer(b3,E3),{products:r,loading:o,favoriteState:u,lastVisible:h,hasMore:m,page:y}=e,v=12;k.useEffect(()=>{const V=w3();n({type:"SET_FAVORITE_STATE",payload:V})},[]);const b=k.useCallback(async(V=1)=>{V===1&&(n({type:"SET_LOADING",payload:!0}),n({type:"RESET_PAGINATION"}));try{let z=wa(rs,"products");z=_i(z,is("category","==","kids")),V>1&&h?z=_i(z,Um(h),Bo(v)):z=_i(z,Bo(v));const j=await ef(z),K=j.docs.map(G=>({id:G.id,...G.data()}));n(V===1?{type:"SET_PRODUCTS",payload:K}:{type:"SET_PRODUCTS",payload:[...r,...K]}),n({type:"SET_LAST_VISIBLE",payload:j.docs[j.docs.length-1]}),n({type:"SET_HAS_MORE",payload:j.docs.length===v}),n({type:"SET_PAGE",payload:V})}catch(z){console.error("Error fetching kids products:",z)}finally{n({type:"SET_LOADING",payload:!1})}},[h,r,v]);k.useEffect(()=>{b()},[]);const x=k.useCallback(V=>{const z=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],j=z.includes(V);let K;j?K=z.filter(G=>G!==V):K=[...z,V],T3(K),n({type:"SET_FAVORITE_STATE",payload:K})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],O=k.useCallback(()=>{!o&&m&&b(y+1)},[o,m,y,b]);return o&&r.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((V,z)=>_.createElement(S3,{key:z}))))):r.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(VA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(A3,{title:"Kids' Collection",count:r.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},r.map(V=>_.createElement(x3,{key:V.id,product:V,onAddToCart:t,onAddToFavorites:x,isFav:A.includes(V.id)}))),m&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:O,disabled:o,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},o?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},R3=({onAddToCart:t})=>{const[e,n]=k.useState([]),[r,o]=k.useState(!0),[u,h]=k.useState(null),m=()=>{try{const x=localStorage.getItem("favorites");if(!x)return[];const A=JSON.parse(x);return Array.isArray(A)?A:[]}catch(x){return console.error("Error getting favorites from localStorage:",x),[]}},y=k.useCallback(async()=>{o(!0),h(null);try{const x=m();if(x.length===0){n([]),o(!1);return}const A=_i(wa(rs,"products"),is(c4(),"in",x)),V=(await ef(A)).docs.map(z=>({id:z.id,...z.data()}));n(V)}catch(x){console.error("Error fetching favorite products:",x),h("Failed to load your favorites. Please try again later.")}finally{o(!1)}},[]),v=k.useCallback(x=>{try{const O=m().filter(V=>V!==x);localStorage.setItem("favorites",JSON.stringify(O)),n(V=>V.filter(z=>z.id!==x))}catch(A){console.error("Error removing favorite:",A)}},[]),b=k.useCallback(x=>{t&&t(x)},[t]);return k.useEffect(()=>{y()},[y]),r?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"flex justify-center items-center h-64"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):u?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"text-center"},_.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},u),_.createElement("button",{onClick:y,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"text-center"},_.createElement(VA,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),_.createElement(wo,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},_.createElement(jo,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),_.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),_.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(x=>_.createElement("div",{key:x.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},_.createElement("div",{className:"relative overflow-hidden"},_.createElement(ls,{to:`/product/${x.id}`,"aria-label":`View details for ${x.name}`},_.createElement("img",{src:x.images&&x.images.length>0?x.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:x.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),_.createElement("button",{onClick:()=>v(x.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${x.name} from favorites`},_.createElement(BA,{className:"w-4 h-4"})),parseFloat(x.price)>parseFloat(x.newprice||x.newPrice)&&_.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(x.newprice||x.newPrice)/parseFloat(x.price))*100),"% OFF"),_.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},_.createElement(jo,{className:"w-4 h-4 fill-current"}))),_.createElement("div",{className:"p-3 sm:p-4"},_.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},x.name),_.createElement("div",{className:"mb-3"},_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},x.category)),_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("div",{className:"flex items-center space-x-2"},_.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(x.price).toFixed(2)),_.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(x.newprice||x.newPrice).toFixed(2))),_.createElement("button",{onClick:()=>b(x),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},_.createElement(Or,{className:"w-4 h-4 sm:w-5 sm:h-5"}),_.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),_.createElement("div",{className:"mt-12 text-center"},_.createElement(wo,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function N3({cartItemCount:t,onCartClick:e}){const[n,r]=k.useState(!1),[o,u]=k.useState(!1),h=qo(),m=["Home","Men","Women","Kids","Favorites","contact","Orders"];return k.useEffect(()=>{r(!1)},[h]),_.createElement(_.Fragment,null,_.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"flex items-center justify-between h-16"},_.createElement("div",{className:"flex items-center space-x-8"},_.createElement(wo,{to:"/",className:"flex items-center space-x-2"},_.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center  justify-center"},_.createElement("span",{className:"text-white font-bold text-lg"},"E")),_.createElement("h1",{className:"text-2xl font-bold text-red-700 ml-[-7px]"},"-commerce")),_.createElement("nav",{className:"hidden md:flex space-x-1"},m.map(y=>_.createElement(wo,{key:y,to:`/${y==="Home"?"":y.toLowerCase()}`,className:({isActive:v})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${v?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},y)))),_.createElement("div",{className:"flex items-center"},_.createElement("div",{className:"relative"},_.createElement("button",{onClick:()=>{e(),u(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},_.createElement(Or,{className:"w-6 h-6"}),t>0&&_.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},t>99?"99+":t))),_.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>r(!n)},n?_.createElement(Ro,{className:"w-6 h-6"}):_.createElement(BV,{className:"w-6 h-6"})))))),n&&_.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>r(!1)}),_.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${n?"translate-x-0":"translate-x-full"}`},_.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},_.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),_.createElement("button",{onClick:()=>r(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},_.createElement(Ro,{className:"w-6 h-6"}))),_.createElement("div",{className:"p-4"},_.createElement("nav",{className:"flex flex-col space-y-1"},m.map(y=>{const v=y==="Home"?RT:y==="Favorites"?jo:null;return _.createElement(wo,{key:y,to:`/${y==="Home"?"":y.toLowerCase()}`,className:({isActive:b})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${b?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>r(!1)},v&&_.createElement(v,{className:"w-5 h-5 mr-3"}),y)})))),_.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},_.createElement(wo,{to:"/",className:({isActive:y})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${y?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(RT,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Home")),_.createElement(wo,{to:"/favorites",className:({isActive:y})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${y?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(jo,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Favorites")),_.createElement("button",{onClick:()=>{e(),u(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${o?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(Or,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Cart"),t>0&&_.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},t>99?"99+":t))))}function P3({isOpen:t,onClose:e,cart:n,onIncreaseQty:r,onDecreaseQty:o,onRemoveItem:u,onClearCart:h,onCheckout:m,total:y}){const[v,b]=k.useState(null),[x,A]=k.useState({}),[O,V]=k.useState(!1),z=(N,M="success")=>{b({text:N,type:M}),setTimeout(()=>b(null),2e3)};k.useEffect(()=>{const N=async()=>{const M={};for(const F of n)try{const H=await PA(K_(rs,"products",F.id));H.exists()&&(M[F.id]=H.data().shippingPrice||0)}catch(H){console.error("Error fetching shipping price:",H)}A(M)};n.length>0&&N()},[n]);const j=N=>{o(N)},K=N=>{r(N)},G=(N,M)=>{u(N),z(`${M} removed from cart`)},X=async()=>{V(!0);try{await m(),z("Checkout successful!")}catch{z("Checkout failed. Please try again.","error")}finally{V(!1)}},ve=y,ae=ve*.2,de=ve>0?15:0,U=ve-ae+de;return _.createElement("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`},_.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:e}),_.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`},_.createElement("div",{className:"flex flex-col h-full"},_.createElement("div",{className:"flex items-center justify-between p-5 bg-white border-b border-gray-200"},_.createElement("div",{className:"flex items-center space-x-2"},_.createElement("h2",{className:"text-xl font-bold text-gray-900 uppercase tracking-wide"},"YOUR CART"),n.length>0&&_.createElement("span",{className:"bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},n.reduce((N,M)=>N+M.qty,0))),_.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200","aria-label":"Close cart"},_.createElement(Ro,{className:"w-5 h-5 text-gray-700"}))),v&&_.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${v.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},_.createElement(rm,{className:"w-5 h-5"}),_.createElement("span",null,v.text)),_.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},n.length===0?_.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},_.createElement("div",{className:"bg-gray-100 p-4 rounded-full mb-4"},_.createElement(Or,{className:"w-16 h-16 text-gray-400"})),_.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),_.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),_.createElement("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors duration-300"},"Continue Shopping")):_.createElement("div",{className:"space-y-4"},n.map(N=>_.createElement("div",{key:`${N.id}-${N.selectedSize||"default"}`,className:"flex items-start p-4 bg-white border border-gray-200 rounded-lg"},_.createElement("div",{className:"relative"},_.createElement("img",{src:N.image||(Array.isArray(N.images)?N.images[0]:N.images),alt:N.name,className:"w-20 h-20 object-cover rounded-lg",onError:M=>{M.target.src="/placeholder.jpg"}})),_.createElement("div",{className:"flex-1 min-w-0 ml-4"},_.createElement("h4",{className:"text-base font-medium text-gray-900"},N.name),N.selectedSize&&_.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",_.createElement("span",{className:"font-medium"},N.selectedSize)),N.selectedColor&&_.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",_.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:N.selectedColor},title:N.selectedColor})),_.createElement("div",{className:"flex items-center mt-2"},_.createElement("span",{className:"text-gray-900 font-medium"},"$",parseFloat(N.price).toFixed(2)),N.originalPrice&&N.originalPrice>N.price&&_.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(N.originalPrice).toFixed(2)))),_.createElement("div",{className:"flex flex-col items-end space-y-3"},_.createElement("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-md p-1"},_.createElement("button",{onClick:()=>j(N.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Decrease quantity"},_.createElement(UA,{className:"w-3 h-3"})),_.createElement("span",{className:"text-sm font-medium w-8 text-center"},N.qty),_.createElement("button",{onClick:()=>K(N.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Increase quantity"},_.createElement(zA,{className:"w-3 h-3"}))),_.createElement("button",{onClick:()=>G(N.id,N.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},_.createElement(BA,{className:"w-4 h-4"}))))))),n.length>0&&_.createElement("div",{className:"border-t border-gray-200 p-5 bg-white"},_.createElement("div",{className:"space-y-3 mb-6"},_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-gray-700 font-medium"},"Subtotal"),_.createElement("span",{className:"text-gray-900 font-medium"},"$",ve.toFixed(2))),_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-gray-700 font-medium"},"Shipping"),_.createElement("span",{className:"text-gray-900 font-medium"},"$",n.reduce((N,M)=>N+(x[M.id]||0),0).toFixed(2))),_.createElement("div",{className:"border-t border-gray-200 pt-3"},_.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},_.createElement("span",{className:"text-gray-900"},"Total"),_.createElement("span",{className:"text-gray-900"},"$",U.toFixed(2))))),_.createElement("button",{onClick:X,disabled:O,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${O?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800"} text-white`},O?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):_.createElement(_.Fragment,null,_.createElement(Or,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),_.createElement("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-700 hover:text-gray-900 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}const I3=(t,e)=>$O(lv,t,e),O3=(t,e)=>ZO(lv,t,e);function M3(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[o,u]=k.useState(""),[h,m]=k.useState(!1),[y,v]=k.useState(""),b=async x=>{if(x.preventDefault(),m(!0),v(""),n!==o){v("Passwords do not match"),m(!1);return}try{await I3(t,n)}catch{v("An account already exists for this email.")}finally{m(!1)}};return _.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},_.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-400"}),_.createElement("div",{className:"p-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Create Account"),_.createElement("p",{className:"text-gray-600 mt-2"},"Join us today")),y&&_.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},y),_.createElement("form",{onSubmit:b},_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),_.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-2"},"Password"),_.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:x=>r(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-6"},_.createElement("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-medium mb-2"},"Confirm Password"),_.createElement("input",{id:"confirmPassword",type:"password",placeholder:"••••••••",value:o,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},h?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating account..."):"Sign Up")))))}function D3(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[o,u]=k.useState(!1),[h,m]=k.useState(""),[y,v]=k.useState(""),b=async x=>{x.preventDefault(),u(!0),m("");try{await O3(t,n),v("Signed in successfully!")}catch{m("Invalid email or password")}finally{u(!1)}};return _.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},_.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-300"}),_.createElement("div",{className:"p-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Welcome Back"),_.createElement("p",{className:"text-gray-600 mt-2"},"Sign in to your account")),h&&_.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},h),y&&_.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg text-sm"},y),_.createElement("form",{onSubmit:b},_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),_.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-6"},_.createElement("div",{className:"flex justify-between items-center mb-2"},_.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium"},"Password"),_.createElement("a",{href:"#",className:"text-sm text-red-600 hover:text-red-800 transition duration-200"},"Forgot password?")),_.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:x=>r(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},o?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Signing in..."):"Sign In")))))}function L3(t,e){const n=k.useRef(e);k.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const k3=1;function V3(t){return Object.freeze({__version:k3,map:t})}function U3(t,e){return Object.freeze({...t,...e})}const hv=k.createContext(null);function FA(){const t=k.use(hv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function z3(t){function e(n,r){const{instance:o,context:u}=t(n).current;k.useImperativeHandle(r,()=>o);const{children:h}=n;return h==null?null:_.createElement(hv,{value:u},h)}return k.forwardRef(e)}function B3(t){function e(n,r){const{instance:o}=t(n).current;return k.useImperativeHandle(r,()=>o),null}return k.forwardRef(e)}function j3(t,e){const n=k.useRef(void 0);k.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function HA(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var ch={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var F3=ch.exports,PT;function H3(){return PT||(PT=1,(function(t,e){(function(n,r){r(e)})(F3,(function(n){var r="1.9.4";function o(a){var c,p,w,S;for(p=1,w=arguments.length;p<w;p++){S=arguments[p];for(c in S)a[c]=S[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function h(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var w=p.call(arguments,2);return function(){return a.apply(c,w.length?w.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function v(a,c,p){var w,S,P,$;return $=function(){w=!1,S&&(P.apply(p,S),S=!1)},P=function(){w?S=arguments:(a.apply(p,arguments),setTimeout($,c),w=!0)},P}function b(a,c,p){var w=c[1],S=c[0],P=w-S;return a===w&&p?a:((a-S)%P+P)%P+S}function x(){return!1}function A(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function V(a){return O(a).split(/\s+/)}function z(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function j(a,c,p){var w=[];for(var S in a)w.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function G(a,c){return a.replace(K,function(p,w){var S=c[w];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(c)),S})}var X=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ve(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function de(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var U=0;function N(a){var c=+new Date,p=Math.max(0,16-(c-U));return U=c+p,window.setTimeout(a,p)}var M=window.requestAnimationFrame||de("RequestAnimationFrame")||N,F=window.cancelAnimationFrame||de("CancelAnimationFrame")||de("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,c,p){if(p&&M===N)a.call(c);else return M.call(window,h(a,c))}function Y(a){a&&F.call(window,a)}var q={__proto__:null,extend:o,create:u,bind:h,get lastId(){return m},stamp:y,throttle:v,wrapNum:b,falseFn:x,formatNum:A,trim:O,splitWords:V,setOptions:z,getParamString:j,template:G,isArray:X,indexOf:ve,emptyImageUrl:ae,requestFn:M,cancelFn:F,requestAnimFrame:H,cancelAnimFrame:Y};function Ze(){}Ze.extend=function(a){var c=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,w=u(p);w.constructor=c,c.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return a.statics&&o(c,a.statics),a.includes&&(Ue(a.includes),o.apply(null,[w].concat(a.includes))),o(w,a),delete w.statics,delete w.includes,w.options&&(w.options=p.options?u(p.options):{},o(w.options,a.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,$=w._initHooks.length;P<$;P++)w._initHooks[P].call(this)}},c},Ze.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Ze.mergeOptions=function(a){return o(this.prototype.options,a),this},Ze.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ue(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=X(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c);else{a=V(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var w in a)this._off(w,a[w],c);else{a=V(a);for(var S=arguments.length===1,P=0,$=a.length;P<$;P++)S?this._off(a[P]):this._off(a[P],c,p)}return this},_on:function(a,c,p,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var S={fn:c,ctx:p};w&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,c,p){var w,S,P;if(this._events&&(w=this._events[a],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,P=w.length;S<P;S++)w[S].fn=x;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var $=this._listens(a,c,p);if($!==!1){var ne=w[$];this._firingCount&&(ne.fn=x,this._events[a]=w=w.slice()),w.splice($,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var w=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,$=S.length;P<$;P++){var ne=S[P],ce=ne.fn;ne.once&&this.off(a,ce,ne.ctx),ce.call(ne.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(a,c,p,w){typeof a!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(w=!!c,S=void 0,p=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,p)!==!1)return!0;if(w){for(var $ in this._eventParents)if(this._eventParents[$].listens(a,c,p,w))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var w=this._events[a]||[];if(!c)return!!w.length;p===this&&(p=void 0);for(var S=0,P=w.length;S<P;S++)if(w[S].fn===c&&w[S].ctx===p)return S;return!1},once:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c,!0);else{a=V(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var ge=Ze.extend(ie);function pe(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var $e=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(a){return this.clone()._add(B(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(B(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$e(this.x),this.y=$e(this.y),this},distanceTo:function(a){a=B(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=B(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=B(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function B(a,c,p){return a instanceof pe?a:X(a)?new pe(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pe(a.x,a.y):new pe(a,c,p)}function W(a,c){if(a)for(var p=c?[a,c]:a,w=0,S=p.length;w<S;w++)this.extend(p[w])}W.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof pe||typeof a[0]=="number"||"x"in a)c=p=B(a);else if(a=me(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof pe?a=B(a):a=me(a),a instanceof W?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=me(a);var c=this.min,p=this.max,w=a.min,S=a.max,P=S.x>=c.x&&w.x<=p.x,$=S.y>=c.y&&w.y<=p.y;return P&&$},overlaps:function(a){a=me(a);var c=this.min,p=this.max,w=a.min,S=a.max,P=S.x>c.x&&w.x<p.x,$=S.y>c.y&&w.y<p.y;return P&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,w=Math.abs(c.x-p.x)*a,S=Math.abs(c.y-p.y)*a;return me(B(c.x-w,c.y-S),B(p.x+w,p.y+S))},equals:function(a){return a?(a=me(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function me(a,c){return!a||a instanceof W?a:new W(a,c)}function oe(a,c){if(a)for(var p=c?[a,c]:a,w=0,S=p.length;w<S;w++)this.extend(p[w])}oe.prototype={extend:function(a){var c=this._southWest,p=this._northEast,w,S;if(a instanceof Pe)w=a,S=a;else if(a instanceof oe){if(w=a._southWest,S=a._northEast,!w||!S)return this}else return a?this.extend(Te(a)||Ne(a)):this;return!c&&!p?(this._southWest=new Pe(w.lat,w.lng),this._northEast=new Pe(S.lat,S.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,w=Math.abs(c.lat-p.lat)*a,S=Math.abs(c.lng-p.lng)*a;return new oe(new Pe(c.lat-w,c.lng-S),new Pe(p.lat+w,p.lng+S))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Pe||"lat"in a?a=Te(a):a=Ne(a);var c=this._southWest,p=this._northEast,w,S;return a instanceof oe?(w=a.getSouthWest(),S=a.getNorthEast()):w=S=a,w.lat>=c.lat&&S.lat<=p.lat&&w.lng>=c.lng&&S.lng<=p.lng},intersects:function(a){a=Ne(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=c.lat&&w.lat<=p.lat,$=S.lng>=c.lng&&w.lng<=p.lng;return P&&$},overlaps:function(a){a=Ne(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>c.lat&&w.lat<p.lat,$=S.lng>c.lng&&w.lng<p.lng;return P&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Ne(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(a,c){return a instanceof oe?a:new oe(a,c)}function Pe(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Pe.prototype={equals:function(a,c){if(!a)return!1;a=Te(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+A(this.lat,a)+", "+A(this.lng,a)+")"},distanceTo:function(a){return Qe.distance(this,Te(a))},wrap:function(){return Qe.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function Te(a,c,p){return a instanceof Pe?a:X(a)&&typeof a[0]!="object"?a.length===3?new Pe(a[0],a[1],a[2]):a.length===2?new Pe(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Pe(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Pe(a,c,p)}var ht={latLngToPoint:function(a,c){var p=this.projection.project(a),w=this.scale(c);return this.transformation._transform(p,w)},pointToLatLng:function(a,c){var p=this.scale(c),w=this.transformation.untransform(a,p);return this.projection.unproject(w)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),w=this.transformation.transform(c.min,p),S=this.transformation.transform(c.max,p);return new W(w,S)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?b(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?b(a.lat,this.wrapLat,!0):a.lat,w=a.alt;return new Pe(p,c,w)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),w=c.lat-p.lat,S=c.lng-p.lng;if(w===0&&S===0)return a;var P=a.getSouthWest(),$=a.getNorthEast(),ne=new Pe(P.lat-w,P.lng-S),ce=new Pe($.lat-w,$.lng-S);return new oe(ne,ce)}},Qe=o({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,w=a.lat*p,S=c.lat*p,P=Math.sin((c.lat-a.lat)*p/2),$=Math.sin((c.lng-a.lng)*p/2),ne=P*P+Math.cos(w)*Math.cos(S)*$*$,ce=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*ce}}),qt=6378137,Gt={R:qt,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,a.lat),-p),S=Math.sin(w*c);return new pe(this.R*a.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var c=180/Math.PI;return new Pe((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=qt*Math.PI;return new W([-a,-a],[a,a])})()};function Pt(a,c,p,w){if(X(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=w}Pt.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new pe((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Wt(a,c,p,w){return new Pt(a,c,p,w)}var Yt=o({},Qe,{code:"EPSG:3857",projection:Gt,transformation:(function(){var a=.5/(Math.PI*Gt.R);return Wt(a,.5,-a,.5)})()}),Mr=o({},Yt,{code:"EPSG:900913"});function Dr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function us(a,c){var p="",w,S,P,$,ne,ce;for(w=0,P=a.length;w<P;w++){for(ne=a[w],S=0,$=ne.length;S<$;S++)ce=ne[S],p+=(S?"L":"M")+ce.x+" "+ce.y;p+=c?Fe.svg?"z":"x":""}return p||"M0 0"}var jn=document.documentElement.style,ji="ActiveXObject"in window,Hs=ji&&!document.addEventListener,ur="msLaunchUri"in navigator&&!("documentMode"in document),bi=li("webkit"),Lr=li("android"),Fi=li("android 2")||li("android 3"),qs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Re=Lr&&li("Google")&&qs<537&&!("AudioNode"in window),ee=!!window.opera,ye=!ur&&li("chrome"),Ce=li("gecko")&&!bi&&!ee&&!ji,He=!ye&&li("safari"),at=li("phantom"),yt="OTransition"in jn,fe=navigator.platform.indexOf("Win")===0,be=ji&&"transition"in jn,ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fi,Me="MozPerspective"in jn,Le=!window.L_DISABLE_3D&&(be||ke||Me)&&!yt&&!at,We=typeof orientation<"u"||li("mobile"),It=We&&bi,Ot=We&&ke,Tt=!window.PointerEvent&&window.MSPointerEvent,Mt=!!(window.PointerEvent||Tt),Ct="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(Ct||Mt),Ln=We&&ee,wi=We&&Ce,Ti=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kr=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,c),window.removeEventListener("testPassiveEventSupport",x,c)}catch{}return a})(),Hi=(function(){return!!document.createElement("canvas").getContext})(),Pa=!!(document.createElementNS&&Dr("svg").createSVGRect),Xt=!!Pa&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),vn=!Pa&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),pn=navigator.platform.indexOf("Mac")===0,Oi=navigator.platform.indexOf("Linux")===0;function li(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Fe={ie:ji,ielt9:Hs,edge:ur,webkit:bi,android:Lr,android23:Fi,androidStock:Re,opera:ee,chrome:ye,gecko:Ce,safari:He,phantom:at,opera12:yt,win:fe,ie3d:be,webkit3d:ke,gecko3d:Me,any3d:Le,mobile:We,mobileWebkit:It,mobileWebkit3d:Ot,msPointer:Tt,pointer:Mt,touch:sn,touchNative:Ct,mobileOpera:Ln,mobileGecko:wi,retina:Ti,passiveEvents:kr,canvas:Hi,svg:Pa,vml:vn,inlineSvg:Xt,mac:pn,linux:Oi},Vr=Fe.msPointer?"MSPointerDown":"pointerdown",Wo=Fe.msPointer?"MSPointerMove":"pointermove",cs=Fe.msPointer?"MSPointerUp":"pointerup",Ur=Fe.msPointer?"MSPointerCancel":"pointercancel",qi={touchstart:Vr,touchmove:Wo,touchend:cs,touchcancel:Ur},Gi={touchstart:$s,touchmove:Gs,touchend:Gs,touchcancel:Gs},Xn={},Fn=!1;function un(a,c,p){return c==="touchstart"&&Kl(),Gi[c]?(p=Gi[c].bind(this,p),a.addEventListener(qi[c],p,!1),p):(console.warn("wrong event specified:",c),x)}function Yo(a,c,p){if(!qi[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(qi[c],p,!1)}function Ia(a){Xn[a.pointerId]=a}function $i(a){Xn[a.pointerId]&&(Xn[a.pointerId]=a)}function cr(a){delete Xn[a.pointerId]}function Kl(){Fn||(document.addEventListener(Vr,Ia,!0),document.addEventListener(Wo,$i,!0),document.addEventListener(cs,cr,!0),document.addEventListener(Ur,cr,!0),Fn=!0)}function Gs(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Xn)c.touches.push(Xn[p]);c.changedTouches=[c],a(c)}}function $s(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Bt(c),Gs(a,c)}function Wl(a){var c={},p,w;for(w in a)p=a[w],c[w]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var hs=200;function hr(a,c){a.addEventListener("dblclick",c);var p=0,w;function S(P){if(P.detail!==1){w=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var $=Da(P);if(!($.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!$.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ne=Date.now();ne-p<=hs?(w++,w===2&&c(Wl(P))):w=1,p=ne}}}return a.addEventListener("click",S),{dblclick:c,simDblclick:S}}function kn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var zr=Zi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fs=Zi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fr=fs==="webkitTransition"||fs==="OTransition"?fs+"End":"transitionend";function Zs(a){return typeof a=="string"?document.getElementById(a):a}function dr(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(a,null);p=w?w[c]:null}return p==="auto"?null:p}function dt(a,c,p){var w=document.createElement(a);return w.className=c||"",p&&p.appendChild(w),w}function Dt(a){var c=a.parentNode;c&&c.removeChild(a)}function An(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function mr(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ds(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function ms(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=nn(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function st(a,c){if(a.classList!==void 0)for(var p=V(c),w=0,S=p.length;w<S;w++)a.classList.add(p[w]);else if(!ms(a,c)){var P=nn(a);Xo(a,(P?P+" ":"")+c)}}function Vt(a,c){a.classList!==void 0?a.classList.remove(c):Xo(a,O((" "+nn(a)+" ").replace(" "+c+" "," ")))}function Xo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function nn(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Qt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Ks(a,c)}function Ks(a,c){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+w+"(opacity="+c+")"}function Zi(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Qn(a,c,p){var w=c||new pe(0,0);a.style[zr]=(Fe.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function Je(a,c){a._leaflet_pos=c,Fe.any3d?Qn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function xi(a){return a._leaflet_pos||new pe(0,0)}var Hn,Ki,Oa;if("onselectstart"in document)Hn=function(){Ke(window,"selectstart",Bt)},Ki=function(){xt(window,"selectstart",Bt)};else{var Br=Zi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Hn=function(){if(Br){var a=document.documentElement.style;Oa=a[Br],a[Br]="none"}},Ki=function(){Br&&(document.documentElement.style[Br]=Oa,Oa=void 0)}}function Ws(){Ke(window,"dragstart",Bt)}function Qo(){xt(window,"dragstart",Bt)}var Ma,ps;function Wi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Jn(),Ma=a,ps=a.style.outlineStyle,a.style.outlineStyle="none",Ke(window,"keydown",Jn))}function Jn(){Ma&&(Ma.style.outlineStyle=ps,Ma=void 0,ps=void 0,xt(window,"keydown",Jn))}function pr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Yi(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Jo={__proto__:null,TRANSFORM:zr,TRANSITION:fs,TRANSITION_END:fr,get:Zs,getStyle:dr,create:dt,remove:Dt,empty:An,toFront:mr,toBack:ds,hasClass:ms,addClass:st,removeClass:Vt,setClass:Xo,getClass:nn,setOpacity:Qt,testProp:Zi,setTransform:Qn,setPosition:Je,getPosition:xi,get disableTextSelection(){return Hn},get enableTextSelection(){return Ki},disableImageDrag:Ws,enableImageDrag:Qo,preventOutline:Wi,restoreOutline:Jn,getSizedParentNode:pr,getScale:Yi};function Ke(a,c,p,w){if(c&&typeof c=="object")for(var S in c)jr(a,S,c[S],p);else{c=V(c);for(var P=0,$=c.length;P<$;P++)jr(a,c[P],p,w)}return this}var Si="_leaflet_events";function xt(a,c,p,w){if(arguments.length===1)Mi(a),delete a[Si];else if(c&&typeof c=="object")for(var S in c)Di(a,S,c[S],p);else if(c=V(c),arguments.length===2)Mi(a,function(ne){return ve(c,ne)!==-1});else for(var P=0,$=c.length;P<$;P++)Di(a,c[P],p,w);return this}function Mi(a,c){for(var p in a[Si]){var w=p.split(/\d/)[0];(!c||c(w))&&Di(a,w,null,null,p)}}var ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jr(a,c,p,w){var S=c+y(p)+(w?"_"+y(w):"");if(a[Si]&&a[Si][S])return this;var P=function(ne){return p.call(w||a,ne||window.event)},$=P;!Fe.touchNative&&Fe.pointer&&c.indexOf("touch")===0?P=un(a,c,P):Fe.touch&&c==="dblclick"?P=hr(a,P):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(ui[c]||c,P,Fe.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(P=function(ne){ne=ne||window.event,Hr(a,ne)&&$(ne)},a.addEventListener(ui[c],P,!1)):a.addEventListener(c,$,!1):a.attachEvent("on"+c,P),a[Si]=a[Si]||{},a[Si][S]=P}function Di(a,c,p,w,S){S=S||c+y(p)+(w?"_"+y(w):"");var P=a[Si]&&a[Si][S];if(!P)return this;!Fe.touchNative&&Fe.pointer&&c.indexOf("touch")===0?Yo(a,c,P):Fe.touch&&c==="dblclick"?kn(a,P):"removeEventListener"in a?a.removeEventListener(ui[c]||c,P,!1):a.detachEvent("on"+c,P),a[Si][S]=null}function ci(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Xi(a){return jr(a,"wheel",ci),this}function Fr(a){return Ke(a,"mousedown touchstart dblclick contextmenu",ci),a._leaflet_disable_click=!0,this}function Bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function qn(a){return Bt(a),ci(a),this}function Da(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function En(a,c){if(!c)return new pe(a.clientX,a.clientY);var p=Yi(c),w=p.boundingClientRect;return new pe((a.clientX-w.left)/p.x-c.clientLeft,(a.clientY-w.top)/p.y-c.clientTop)}var Rt=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ys(a){return Fe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Rt:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Hr(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Yl={__proto__:null,on:Ke,off:xt,stopPropagation:ci,disableScrollPropagation:Xi,disableClickPropagation:Fr,preventDefault:Bt,stop:qn,getPropagationPath:Da,getMousePosition:En,getWheelDelta:Ys,isExternalTarget:Hr,addListener:Ke,removeListener:xt},Xs=ge.extend({run:function(a,c,p,w){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=xi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Je(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ut=ge.extend({options:{crs:Yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=z(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Te(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fs&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,fr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(Te(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var w=this.getZoomScale(c),S=this.getSize().divideBy(2),P=a instanceof pe?a:this.latLngToContainerPoint(a),$=P.subtract(S).multiplyBy(1-1/w),ne=this.containerPointToLatLng(S.add($));return this.setView(ne,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Ne(a);var p=B(c.paddingTopLeft||c.padding||[0,0]),w=B(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(w));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=w.subtract(p).divideBy(2),$=this.project(a.getSouthWest(),S),ne=this.project(a.getNorthEast(),S),ce=this.unproject($.add(ne).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,c){if(a=Ne(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=B(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){st(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Fe.any3d)return this.setView(a,c,p);this._stop();var w=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),$=this._zoom;a=Te(a),c=c===void 0?$:c;var ne=Math.max(P.x,P.y),ce=ne*this.getZoomScale($,c),Ae=S.distanceTo(w)||1,De=1.42,ze=De*De;function je(an){var wr=an?-1:1,Wr=an?ce:ne,bs=ce*ce-ne*ne+wr*ze*ze*Ae*Ae,Yr=2*Wr*ze*Ae,ml=bs/Yr,uu=Math.sqrt(ml*ml+1)-ml,pl=uu<1e-9?-18:Math.log(uu);return pl}function rt(an){return(Math.exp(an)-Math.exp(-an))/2}function en(an){return(Math.exp(an)+Math.exp(-an))/2}function cn(an){return rt(an)/en(an)}var $n=je(0);function Li(an){return ne*(en($n)/en($n+De*an))}function ff(an){return ne*(en($n)*cn($n+De*an)-rt($n))/ze}function df(an){return 1-Math.pow(1-an,1.5)}var dl=Date.now(),Xa=(je(1)-$n)/De,mf=p.duration?1e3*p.duration:1e3*Xa*.8;function Qa(){var an=(Date.now()-dl)/mf,wr=df(an)*Xa;an<=1?(this._flyToFrame=H(Qa,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(ff(wr)/Ae)),$),this.getScaleZoom(ne/Li(wr),$),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Qa.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=Ne(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,Ne(a));return p.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=B(c.paddingTopLeft||c.padding||[0,0]),w=B(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),$=this.getPixelBounds(),ne=me([$.min.add(p),$.max.subtract(w)]),ce=ne.getSize();if(!ne.contains(P)){this._enforcingBounds=!0;var Ae=P.subtract(ne.getCenter()),De=ne.extend(P).getSize().subtract(ce);S.x+=Ae.x<0?-De.x:De.x,S.y+=Ae.y<0?-De.y:De.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=c.divideBy(2).round(),S=p.divideBy(2).round(),P=w.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,w=new Pe(c,p),S=w.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var $=this.getBoundsZoom(S);this.setView(w,P.maxZoom?Math.min($,P.maxZoom):$)}var ne={latlng:w,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(ne[ce]=a.coords[ce]);this.fire("locationfound",ne)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Dt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),w=dt("div",p,c||this._mapPane);return a&&(this._panes[a]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new oe(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=Ne(a),p=B(p||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),$=a.getNorthWest(),ne=a.getSouthEast(),ce=this.getSize().subtract(p),Ae=me(this.project(ne,w),this.project($,w)).getSize(),De=Fe.any3d?this.options.zoomSnap:1,ze=ce.x/Ae.x,je=ce.y/Ae.y,rt=c?Math.max(ze,je):Math.min(ze,je);return w=this.getScaleZoom(rt,w),De&&(w=Math.round(w/(De/100))*(De/100),w=c?Math.ceil(w/De)*De:Math.floor(w/De)*De),Math.max(S,Math.min(P,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new W(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var w=p.zoom(a*p.scale(c));return isNaN(w)?1/0:w},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Te(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(B(a),c)},layerPointToLatLng:function(a){var c=B(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(Te(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Te(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ne(a))},distance:function(a,c){return this.options.crs.distance(Te(a),Te(c))},containerPointToLayerPoint:function(a){return B(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return B(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(B(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(a)))},mouseEventToContainerPoint:function(a){return En(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Zs(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,st(a,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=dr(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Je(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(st(a.markerPane,"leaflet-zoom-hide"),st(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Je(this._mapPane,new pe(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,p)._move(a,c)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,w){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),w?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Je(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?xt:Ke;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],w,S=c==="mouseout"||c==="mouseover",P=a.target||a.srcElement,$=!1;P;){if(w=this._targets[y(P)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){$=!0;break}if(w&&w.listens(c,!0)&&(S&&!Hr(P,a)||(p.push(w),S))||P===this._container)break;P=P.parentNode}return!p.length&&!$&&!S&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Wi(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var w=o({},a);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var S=this._findEventTargets(a,c);if(p){for(var P=[],$=0;$<p.length;$++)p[$].listens(c,!0)&&P.push(p[$]);S=P.concat(S)}if(S.length){c==="contextmenu"&&Bt(a);var ne=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ae=ne.getLatLng&&(!ne._radius||ne._radius<=10);ce.containerPoint=Ae?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=Ae?ne.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for($=0;$<S.length;$++)if(S[$].fire(c,ce,!0),ce.originalEvent._stopped||S[$].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return xi(this._mapPane)||new pe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return me([this.project(a.getSouthWest(),c)._subtract(w),this.project(a.getNorthWest(),c)._subtract(w),this.project(a.getSouthEast(),c)._subtract(w),this.project(a.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var w=this.project(a,c),S=this.getSize().divideBy(2),P=new W(w.subtract(S),w.add(S)),$=this._getBoundsOffset(P,p,c);return Math.abs($.x)<=1&&Math.abs($.y)<=1?a:this.unproject(w.add($),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),w=new W(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(a,c,p){var w=me(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),S=w.min.subtract(a.min),P=w.max.subtract(a.max),$=this._rebound(S.x,-P.x),ne=this._rebound(S.y,-P.y);return new pe($,ne)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),w=Fe.any3d?this.options.zoomSnap:1;return w&&(a=Math.round(a/w)*w),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=zr,w=this._proxy.style[p];Qn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Qn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),S=this._getCenterOffset(a)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(S)?!1:(H(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,st(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gr(a,c){return new ut(a,c)}var Vn=Ze.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),w=a._controlCorners[p];return st(c,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Gn=function(a){return new Vn(a)};ut.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=dt("div",c+"control-container",this._container);function w(S,P){var $=c+S+" "+c+P;a[S+P]=dt("div",$,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Dt(this._controlCorners[a]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var el=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,w){return p<w?-1:w<p?1:0}},initialize:function(a,c,p){z(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in a)this._addLayer(a[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){st(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(st(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=dt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Fr(c),Xi(c);var w=this._section=dt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ke(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=dt("a",a+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ke(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Bt(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=dt("div",a+"-base",w),this._separator=dt("div",a+"-separator",w),this._overlaysList=dt("div",a+"-overlays",w),c.appendChild(w)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;An(this._baseLayersList),An(this._overlaysList),this._layerControlInputs=[];var a,c,p,w,S=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),c=c||w.overlay,a=a||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),w;a.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(w),w.layerId=y(a.layer),Ke(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");c.appendChild(P),P.appendChild(w),P.appendChild(S);var $=a.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,w=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)c=a[P],p=this._getLayer(c.layerId).layer,c.checked?w.push(p):c.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])||this._map.addLayer(w[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,w=this._map.getZoom(),S=a.length-1;S>=0;S--)c=a[S],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ke(a,"click",Bt),this.expand();var c=this;setTimeout(function(){xt(a,"click",Bt),c._preventClick=!1})}}),fc=function(a,c,p){return new el(a,c,p)},qr=Vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=dt("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,w,S){var P=dt("a",p,w);return P.innerHTML=a,P.href="#",P.title=c,P.setAttribute("role","button"),P.setAttribute("aria-label",c),Fr(P),Ke(P,"click",qn),Ke(P,"click",S,this),Ke(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Vt(this._zoomInButton,c),Vt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(st(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(st(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qr,this.addControl(this.zoomControl))});var La=function(a){return new qr(a)},ka=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=dt("div",c),w=this.options;return this._addScales(w,c+"-line",p),a.on(w.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=dt("div",c,p)),a.imperial&&(this._iScale=dt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,w,S;c>5280?(p=c/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Va=function(a){return new ka(a)},Xl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gs=Vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?Xl+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),Fr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new gs().addTo(this)});var dc=function(a){return new gs(a)};Vn.Layers=el,Vn.Zoom=qr,Vn.Scale=ka,Vn.Attribution=gs,Gn.layers=fc,Gn.zoom=La,Gn.scale=Va,Gn.attribution=dc;var hi=Ze.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(a,c){return a.addHandler(c,this),this};var Qs={Events:ie},tl=Fe.touch?"touchstart mousedown":"mousedown",Qi=ge.extend({options:{clickTolerance:3},initialize:function(a,c,p,w){z(this,w),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Ke(this._dragStartTarget,tl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qi._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,tl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ms(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Qi._dragging===this&&this.finishDrag();return}if(!(Qi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Qi._dragging=this,this._preventOutline&&Wi(this._element),Ws(),Hn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=pr(this._element);this._startPoint=new pe(c.clientX,c.clientY),this._startPos=xi(this._element),this._parentScale=Yi(p);var w=a.type==="mousedown";Ke(document,w?"mousemove":"touchmove",this._onMove,this),Ke(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new pe(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,st(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),st(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Je(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),Qo(),Ki();var c=this._moved&&this._moving;this._moving=!1,Qi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(a,c,p){var w,S=[1,4,2,8],P,$,ne,ce,Ae,De,ze,je;for(P=0,De=a.length;P<De;P++)a[P]._code=yr(a[P],c);for(ne=0;ne<4;ne++){for(ze=S[ne],w=[],P=0,De=a.length,$=De-1;P<De;$=P++)ce=a[P],Ae=a[$],ce._code&ze?Ae._code&ze||(je=Cn(Ae,ce,ze,c,p),je._code=yr(je,c),w.push(je)):(Ae._code&ze&&(je=Cn(Ae,ce,ze,c,p),je._code=yr(je,c),w.push(je)),w.push(ce));a=w}return a}function ys(a,c){var p,w,S,P,$,ne,ce,Ae,De;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ze=Te([0,0]),je=Ne(a),rt=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());rt<1700&&(ze=za(a));var en=a.length,cn=[];for(p=0;p<en;p++){var $n=Te(a[p]);cn.push(c.project(Te([$n.lat-ze.lat,$n.lng-ze.lng])))}for(ne=ce=Ae=0,p=0,w=en-1;p<en;w=p++)S=cn[p],P=cn[w],$=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*$,Ae+=(S.y+P.y)*$,ne+=$*3;ne===0?De=cn[0]:De=[ce/ne,Ae/ne];var Li=c.unproject(B(De));return Te([Li.lat+ze.lat,Li.lng+ze.lng])}function za(a){for(var c=0,p=0,w=0,S=0;S<a.length;S++){var P=Te(a[S]);c+=P.lat,p+=P.lng,w++}return Te([c/w,p/w])}var Ba={__proto__:null,clipPolygon:Ua,polygonCenter:ys,centroid:za};function nl(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Jl(a,p),a=Ql(a,p),a}function ja(a,c,p){return Math.sqrt(fi(a,c,p,!0))}function Gr(a,c,p){return fi(a,c,p)}function Ql(a,c){var p=a.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(p);S[0]=S[p-1]=1,Fa(a,S,c,0,p-1);var P,$=[];for(P=0;P<p;P++)S[P]&&$.push(a[P]);return $}function Fa(a,c,p,w,S){var P=0,$,ne,ce;for(ne=w+1;ne<=S-1;ne++)ce=fi(a[ne],a[w],a[S],!0),ce>P&&($=ne,P=ce);P>p&&(c[$]=1,Fa(a,c,p,w,$),Fa(a,c,p,$,S))}function Jl(a,c){for(var p=[a[0]],w=1,S=0,P=a.length;w<P;w++)eu(a[w],a[S])>c&&(p.push(a[w]),S=w);return S<P-1&&p.push(a[P-1]),p}var il;function Js(a,c,p,w,S){var P=w?il:yr(a,p),$=yr(c,p),ne,ce,Ae;for(il=$;;){if(!(P|$))return[a,c];if(P&$)return!1;ne=P||$,ce=Cn(a,c,ne,p,S),Ae=yr(ce,p),ne===P?(a=ce,P=Ae):(c=ce,$=Ae)}}function Cn(a,c,p,w,S){var P=c.x-a.x,$=c.y-a.y,ne=w.min,ce=w.max,Ae,De;return p&8?(Ae=a.x+P*(ce.y-a.y)/$,De=ce.y):p&4?(Ae=a.x+P*(ne.y-a.y)/$,De=ne.y):p&2?(Ae=ce.x,De=a.y+$*(ce.x-a.x)/P):p&1&&(Ae=ne.x,De=a.y+$*(ne.x-a.x)/P),new pe(Ae,De,S)}function yr(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function eu(a,c){var p=c.x-a.x,w=c.y-a.y;return p*p+w*w}function fi(a,c,p,w){var S=c.x,P=c.y,$=p.x-S,ne=p.y-P,ce=$*$+ne*ne,Ae;return ce>0&&(Ae=((a.x-S)*$+(a.y-P)*ne)/ce,Ae>1?(S=p.x,P=p.y):Ae>0&&(S+=$*Ae,P+=ne*Ae)),$=a.x-S,ne=a.y-P,w?$*$+ne*ne:new pe(S,P)}function d(a){return!X(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function T(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function C(a,c){var p,w,S,P,$,ne,ce,Ae;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var De=Te([0,0]),ze=Ne(a),je=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());je<1700&&(De=za(a));var rt=a.length,en=[];for(p=0;p<rt;p++){var cn=Te(a[p]);en.push(c.project(Te([cn.lat-De.lat,cn.lng-De.lng])))}for(p=0,w=0;p<rt-1;p++)w+=en[p].distanceTo(en[p+1])/2;if(w===0)Ae=en[0];else for(p=0,P=0;p<rt-1;p++)if($=en[p],ne=en[p+1],S=$.distanceTo(ne),P+=S,P>w){ce=(P-w)/S,Ae=[ne.x-ce*(ne.x-$.x),ne.y-ce*(ne.y-$.y)];break}var $n=c.unproject(B(Ae));return Te([$n.lat+De.lat,$n.lng+De.lng])}var D={__proto__:null,simplify:nl,pointToSegmentDistance:ja,closestPointOnSegment:Gr,clipSegment:Js,_getEdgeIntersection:Cn,_getBitCode:yr,_sqClosestPointOnSegment:fi,isFlat:d,_flat:T,polylineCenter:C},te={project:function(a){return new pe(a.lng,a.lat)},unproject:function(a){return new Pe(a.y,a.x)},bounds:new W([-180,-90],[180,90])},he={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,w=a.lat*c,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),$=P*Math.sin(w),ne=Math.tan(Math.PI/4-w/2)/Math.pow((1-$)/(1+$),P/2);return w=-p*Math.log(Math.max(ne,1e-10)),new pe(a.lng*c*p,w)},unproject:function(a){for(var c=180/Math.PI,p=this.R,w=this.R_MINOR/p,S=Math.sqrt(1-w*w),P=Math.exp(-a.y/p),$=Math.PI/2-2*Math.atan(P),ne=0,ce=.1,Ae;ne<15&&Math.abs(ce)>1e-7;ne++)Ae=S*Math.sin($),Ae=Math.pow((1-Ae)/(1+Ae),S/2),ce=Math.PI/2-2*Math.atan(P*Ae)-$,$+=ce;return new Pe($*c,a.x*c/p)}},Ie={__proto__:null,LonLat:te,Mercator:he,SphericalMercator:Gt},_t=o({},Qe,{code:"EPSG:3395",projection:he,transformation:(function(){var a=.5/(Math.PI*he.R);return Wt(a,.5,-a,.5)})()}),gn=o({},Qe,{code:"EPSG:4326",projection:te,transformation:Wt(1/180,1,-1/180,.5)}),vt=o({},ht,{projection:te,transformation:Wt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,w=c.lat-a.lat;return Math.sqrt(p*p+w*w)},infinite:!0});ht.Earth=Qe,ht.EPSG3395=_t,ht.EPSG3857=Yt,ht.EPSG900913=Mr,ht.EPSG4326=gn,ht.Simple=vt;var Lt=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?X(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jt=Lt.extend({initialize:function(a,c){z(this,c),this._layers={};var p,w;if(a)for(p=0,w=a.length;p<w;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[a]&&w[a].apply(w,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),$r=function(a,c){return new Jt(a,c)},$t=Jt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Jt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Jt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new oe;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),_r=function(a,c){return new $t(a,c)},vr=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(a,c){var p=this.options,w=p[c+"Size"];typeof w=="number"&&(w=[w,w]);var S=B(w),P=B(c==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Fe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function tu(a){return new vr(a)}var Ha=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ha.imagePath!="string"&&(Ha.imagePath=this._detectIconPath()),(this.options.imagePath||Ha.imagePath)+vr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,w,S){var P=w.exec(p);return P&&P[S]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=dt("div","leaflet-default-icon-path",document.body),c=dr(a,"background-image")||dr(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),mc=hi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Qi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),st(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=xi(c._icon),$=p.getPixelBounds(),ne=p.getPixelOrigin(),ce=me($.min._subtract(ne).add(S),$.max._subtract(ne).subtract(S));if(!ce.contains(P)){var Ae=B((Math.max(ce.max.x,P.x)-ce.max.x)/($.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/($.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/($.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/($.min.y-ce.min.y)).multiplyBy(w);p.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Je(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,w=xi(c._icon),S=c._map.layerPointToLatLng(w);p&&Je(p,w),c._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),qa=Lt.extend({options:{icon:new Ha,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){z(this,c),this._latlng=Te(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),st(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(st(S,c),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Je(this._icon,a),this._shadow&&Je(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(st(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Qt(this._icon,a),this._shadow&&Qt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?B(c.iconSize):B(0,0),w=c.iconAnchor?B(c.iconAnchor):B(0,0);a.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pc(a,c){return new qa(a,c)}var Zr=Lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=Zr.extend({options:{fill:!0,radius:10},initialize:function(a,c){z(this,c),this._latlng=Te(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Zr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),w=[a+p,c+p];this._pxBounds=new W(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function af(a,c){return new rl(a,c)}var gc=rl.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),z(this,c),this._latlng=Te(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Zr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===Qe.distance){var S=Math.PI/180,P=this._mRadius/Qe.R/S,$=p.project([c+P,a]),ne=p.project([c-P,a]),ce=$.add(ne).divideBy(2),Ae=p.unproject(ce).lat,De=Math.acos((Math.cos(P*S)-Math.sin(c*S)*Math.sin(Ae*S))/(Math.cos(c*S)*Math.cos(Ae*S)))/S;(isNaN(De)||De===0)&&(De=P/Math.cos(Math.PI/180*c)),this._point=ce.subtract(p.getPixelOrigin()),this._radius=isNaN(De)?0:ce.x-p.project([Ae,a-De]).x,this._radiusY=ce.y-$.y}else{var ze=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(ze).x}this._updateBounds()}});function Hm(a,c,p){return new gc(a,c,p)}var Kr=Zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){z(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,w=fi,S,P,$=0,ne=this._parts.length;$<ne;$++)for(var ce=this._parts[$],Ae=1,De=ce.length;Ae<De;Ae++){S=ce[Ae-1],P=ce[Ae];var ze=w(a,S,P,!0);ze<c&&(c=ze,p=w(a,S,P))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=Te(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new oe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),w=0,S=a.length;w<S;w++)p?(c[w]=Te(a[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(a[w]);return c},_project:function(){var a=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new pe(a,a);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var w=a[0]instanceof Pe,S=a.length,P,$;if(w){for($=[],P=0;P<S;P++)$[P]=this._map.latLngToLayerPoint(a[P]),p.extend($[P]);c.push($)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,w,S,P,$,ne,ce;for(p=0,S=0,P=this._rings.length;p<P;p++)for(ce=this._rings[p],w=0,$=ce.length;w<$-1;w++)ne=Js(ce[w],ce[w+1],a,w,!0),ne&&(c[S]=c[S]||[],c[S].push(ne[0]),(ne[1]!==ce[w+1]||w===$-2)&&(c[S].push(ne[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,w=a.length;p<w;p++)a[p]=nl(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,w,S,P,$,ne,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,P=this._parts.length;p<P;p++)for(ne=this._parts[p],w=0,$=ne.length,S=$-1;w<$;S=w++)if(!(!c&&w===0)&&ja(a,ne[S],ne[w])<=ce)return!0;return!1}});function qm(a,c){return new Kr(a,c)}Kr._flat=T;var Ga=Kr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ys(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Kr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Pe&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Kr.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new pe(c,c);if(a=new W(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,P;w<S;w++)P=Ua(this._rings[w],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,w,S,P,$,ne,ce,Ae;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(p=this._parts[P],$=0,Ae=p.length,ne=Ae-1;$<Ae;ne=$++)w=p[$],S=p[ne],w.y>a.y!=S.y>a.y&&a.x<(S.x-w.x)*(a.y-w.y)/(S.y-w.y)+w.x&&(c=!c);return c||Kr.prototype._containsPoint.call(this,a,!0)}});function Ai(a,c){return new Ga(a,c)}var Ci=$t.extend({initialize:function(a,c){z(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=X(a)?a:a.features,p,w,S;if(c){for(p=0,w=c.length;p<w;p++)S=c[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var $=sl(a,P);return $?($.feature=$a(a),$.defaultOptions=$.options,this.resetStyle($),P.onEachFeature&&P.onEachFeature(a,$),this.addLayer($)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function sl(a,c){var p=a.type==="Feature"?a.geometry:a,w=p?p.coordinates:null,S=[],P=c&&c.pointToLayer,$=c&&c.coordsToLatLng||nu,ne,ce,Ae,De;if(!w&&!p)return null;switch(p.type){case"Point":return ne=$(w),yc(P,a,ne,c);case"MultiPoint":for(Ae=0,De=w.length;Ae<De;Ae++)ne=$(w[Ae]),S.push(yc(P,a,ne,c));return new $t(S);case"LineString":case"MultiLineString":return ce=al(w,p.type==="LineString"?0:1,$),new Kr(ce,c);case"Polygon":case"MultiPolygon":return ce=al(w,p.type==="Polygon"?1:2,$),new Ga(ce,c);case"GeometryCollection":for(Ae=0,De=p.geometries.length;Ae<De;Ae++){var ze=sl({geometry:p.geometries[Ae],type:"Feature",properties:a.properties},c);ze&&S.push(ze)}return new $t(S);case"FeatureCollection":for(Ae=0,De=p.features.length;Ae<De;Ae++){var je=sl(p.features[Ae],c);je&&S.push(je)}return new $t(S);default:throw new Error("Invalid GeoJSON object.")}}function yc(a,c,p,w){return a?a(c,p):new qa(p,w&&w.markersInheritOptions&&w)}function nu(a){return new Pe(a[1],a[0],a[2])}function al(a,c,p){for(var w=[],S=0,P=a.length,$;S<P;S++)$=c?al(a[S],c-1,p):(p||nu)(a[S]),w.push($);return w}function ol(a,c){return a=Te(a),a.alt!==void 0?[A(a.lng,c),A(a.lat,c),A(a.alt,c)]:[A(a.lng,c),A(a.lat,c)]}function iu(a,c,p,w){for(var S=[],P=0,$=a.length;P<$;P++)S.push(c?iu(a[P],d(a[P])?0:c-1,p,w):ol(a[P],w));return!c&&p&&S.length>0&&S.push(S[0].slice()),S}function Ji(a,c){return a.feature?o({},a.feature,{geometry:c}):$a(c)}function $a(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ea={toGeoJSON:function(a){return Ji(this,{type:"Point",coordinates:ol(this.getLatLng(),a)})}};qa.include(ea),gc.include(ea),rl.include(ea),Kr.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=iu(this._latlngs,c?1:0,!1,a);return Ji(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Ga.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),w=iu(this._latlngs,p?2:c?1:0,!0,a);return c||(w=[w]),Ji(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),Jt.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Ji(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(p)w.push(P.geometry);else{var $=$a(P);$.type==="FeatureCollection"?w.push.apply(w,$.features):w.push($)}}}),p?Ji(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ru(a,c){return new Ci(a,c)}var of=ru,Er=Lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=Ne(c),z(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(st(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&mr(this._image),this},bringToBack:function(){return this._map&&ds(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ne(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:dt("img");if(st(c,"leaflet-image-layer"),this._zoomAnimated&&st(c,"leaflet-zoom-animated"),this.options.className&&st(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onload=h(this.fire,this,"load"),c.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Qn(this._image,p,c)},_reset:function(){var a=this._image,c=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Je(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Za=function(a,c,p){return new Er(a,c,p)},su=Er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:dt("video");if(st(c,"leaflet-image-layer"),this._zoomAnimated&&st(c,"leaflet-zoom-animated"),this.options.className&&st(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onloadeddata=h(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),w=[],S=0;S<p.length;S++)w.push(p[S].src);this._url=p.length>0?w:[c.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var $=dt("source");$.src=this._url[P],c.appendChild($)}}});function lf(a,c,p){return new su(a,c,p)}var _s=Er.extend({_initImage:function(){var a=this._image=this._url;st(a,"leaflet-image-layer"),this._zoomAnimated&&st(a,"leaflet-zoom-animated"),this.options.className&&st(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function uf(a,c,p){return new _s(a,c,p)}var er=Lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Pe||X(a))?(this._latlng=Te(a),z(this,c)):(z(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(h(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Te(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mr(this._container),this},bringToBack:function(){return this._map&&ds(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof $t){c=null;var p=this._source._layers;for(var w in p)if(p[w]._map){c=p[w];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=B(this.options.offset),p=this._getAnchor();this._zoomAnimated?Je(this._container,a.add(p)):c=c.add(a).add(p);var w=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(a,c,p,w){var S=c;return S instanceof a||(S=new a(w).setContent(c)),p&&S.setLatLng(p),S}}),Lt.include({_initOverlay:function(a,c,p,w){var S=p;return S instanceof a?(z(S,w),S._source=this):(S=c&&!w?c:new a(w,this),S.setContent(p)),S}});var ll=er.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,er.prototype.openOn.call(this,a)},onAdd:function(a){er.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zr||this._source.on("preclick",ci))},onRemove:function(a){er.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zr||this._source.off("preclick",ci))},getEvents:function(){var a=er.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=dt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=dt("div",a+"-content-wrapper",c);if(this._contentNode=dt("div",a+"-content",p),Fr(c),Xi(this._contentNode),Ke(c,"contextmenu",ci),this._tipContainer=dt("div",a+"-tip-container",c),this._tip=dt("div",a+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=dt("a",a+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(w,"click",function(S){Bt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&w>S?(c.height=S+"px",st(a,P)):Vt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Je(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(dr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,w=this._containerWidth,S=new pe(this._containerLeft,-p-this._containerBottom);S._add(xi(this._container));var P=a.layerPointToContainerPoint(S),$=B(this.options.autoPanPadding),ne=B(this.options.autoPanPaddingTopLeft||$),ce=B(this.options.autoPanPaddingBottomRight||$),Ae=a.getSize(),De=0,ze=0;P.x+w+ce.x>Ae.x&&(De=P.x+w-Ae.x+ce.x),P.x-De-ne.x<0&&(De=P.x-ne.x),P.y+p+ce.y>Ae.y&&(ze=P.y+p-Ae.y+ce.y),P.y-ze-ne.y<0&&(ze=P.y-ne.y),(De||ze)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([De,ze]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gm=function(a,c){return new ll(a,c)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(a,c,p){return this._initOverlay(ll,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Lt.include({bindPopup:function(a,c){return this._popup=this._initOverlay(ll,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){qn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var au=er.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){er.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){er.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=er.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,w=this._map,S=this._container,P=w.latLngToContainerPoint(w.getCenter()),$=w.layerPointToContainerPoint(a),ne=this.options.direction,ce=S.offsetWidth,Ae=S.offsetHeight,De=B(this.options.offset),ze=this._getAnchor();ne==="top"?(c=ce/2,p=Ae):ne==="bottom"?(c=ce/2,p=0):ne==="center"?(c=ce/2,p=Ae/2):ne==="right"?(c=0,p=Ae/2):ne==="left"?(c=ce,p=Ae/2):$.x<P.x?(ne="right",c=0,p=Ae/2):(ne="left",c=ce+(De.x+ze.x)*2,p=Ae/2),a=a.subtract(B(c,p,!0)).add(De).add(ze),Vt(S,"leaflet-tooltip-right"),Vt(S,"leaflet-tooltip-left"),Vt(S,"leaflet-tooltip-top"),Vt(S,"leaflet-tooltip-bottom"),st(S,"leaflet-tooltip-"+ne),Je(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Qt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$m=function(a,c){return new au(a,c)};ut.include({openTooltip:function(a,c,p){return this._initOverlay(au,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Lt.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(au,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ke(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ke(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,w;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),w=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var _c=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(An(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=B(p.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function cf(a){return new _c(a)}vr.Default=Ha;var ta=Lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Dt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ds(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pe?a:new pe(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),w=0,S=c.length,P;w<S;w++)P=c[w].style.zIndex,c[w]!==this._container&&P&&(p=a(p,+P));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){Qt(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);Qt(S.el,P),P<1?c=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(Dt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[a],S=this._map;return w||(w=this._levels[a]={},w.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),w.zoom=a,this._setZoomTransform(w,S.getCenter(),S.getZoom()),x(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Dt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,w){var S=Math.floor(a/2),P=Math.floor(c/2),$=p-1,ne=new pe(+S,+P);ne.z=+$;var ce=this._tileCoordsToKey(ne),Ae=this._tiles[ce];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),$>w?this._retainParent(S,P,$,w):!1)},_retainChildren:function(a,c,p,w){for(var S=2*a;S<2*a+2;S++)for(var P=2*c;P<2*c+2;P++){var $=new pe(S,P);$.z=p+1;var ne=this._tileCoordsToKey($),ce=this._tiles[ne];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);p+1<w&&this._retainChildren(S,P,p+1,w)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,w){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var w=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,p)).round();Fe.any3d?Qn(a.el,S,w):Je(a.el,S)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],w).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],w).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],w).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(p,this._tileZoom),S=c.project(a,this._tileZoom).floor(),P=c.getSize().divideBy(w*2);return new W(S.subtract(P),S.add(P))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(w),P=S.getCenter(),$=[],ne=this.options.keepBuffer,ce=new W(S.getBottomLeft().subtract([ne,-ne]),S.getTopRight().add([ne,-ne]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var De=this._tiles[Ae].coords;(De.z!==this._tileZoom||!ce.contains(new pe(De.x,De.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var ze=S.min.y;ze<=S.max.y;ze++)for(var je=S.min.x;je<=S.max.x;je++){var rt=new pe(je,ze);if(rt.z=this._tileZoom,!!this._isValidTile(rt)){var en=this._tiles[this._tileCoordsToKey(rt)];en?en.current=!0:$.push(rt)}}if($.sort(function($n,Li){return $n.distanceTo(P)-Li.distanceTo(P)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cn=document.createDocumentFragment();for(je=0;je<$.length;je++)this._addTile($[je],cn);this._level.el.appendChild(cn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(a);return Ne(this.options.bounds).overlaps(w)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),w=a.scaleBy(p),S=w.add(p),P=c.unproject(w,a.z),$=c.unproject(S,a.z);return[P,$]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new oe(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new pe(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(Dt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){st(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=x,a.onmousemove=x,Fe.ielt9&&this.options.opacity<1&&Qt(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),w=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&H(h(this._tileReady,this,a,null,S)),Je(S,p),this._tiles[w]={el:S,coords:a,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var w=this._tileCoordsToKey(a);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Qt(p.el,0),Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(st(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new pe(this._wrapX?b(a.x,this._wrapX):a.x,this._wrapY?b(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new W(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function tr(a){return new ta(a)}var na=ta.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=z(this,c),c.detectRetina&&Fe.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Ke(p,"load",h(this._tileOnLoad,this,c,p)),Ke(p,"error",h(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Fe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return G(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Fe.ielt9?setTimeout(h(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(a=c-a),a+w},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=x,c.onerror=x,!c.complete)){c.src=ae;var p=this._tiles[a].coords;Dt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",ae),ta.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===ae))return ta.prototype._tileReady.call(this,a,c,p)}});function Ri(a,c){return new na(a,c)}var Ni=na.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var w in c)w in this.options||(p[w]=c[w]);c=z(this,c);var S=c.detectRetina&&Fe.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,na.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,w=me(p.project(c[0]),p.project(c[1])),S=w.min,P=w.max,$=(this._wmsVersion>=1.3&&this._crs===gn?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ne=na.prototype.getTileUrl.call(this,a);return ne+j(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ka(a,c){return new Ni(a,c)}na.WMS=Ni,Ri.wms=Ka;var nr=Lt.extend({options:{padding:.1},initialize:function(a){z(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),st(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),P=w.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,c));Fe.any3d?Qn(this._container,P,p):Je(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new W(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ul=nr.extend({options:{tolerance:0},getEvents:function(){var a=nr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ke(a,"mousemove",this._onMouseMove,this),Ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,Dt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),w=Fe.retina?2:1;Je(c,a.min),c.width=w*p.x,c.height=w*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){nr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,w=c.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],w,S;for(S=0;S<c.length;S++){if(w=Number(c[S]),isNaN(w))return;p.push(w)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)a=w.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,w,S,P,$=a._parts,ne=$.length,ce=this._ctx;if(ne){for(ce.beginPath(),p=0;p<ne;p++){for(w=0,S=$[p].length;w<S;w++)P=$[p][w],ce[w?"lineTo":"moveTo"](P.x,P.y);c&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,w=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||w)/w;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(c.x,c.y/S,w,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,w,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,w,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(a),w&&(st(this._container,"leaflet-interactive"),this._fireEvent([w],a,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function cl(a){return Fe.canvas?new ul(a):null}var ia=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Wa={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=ia("shape");st(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=ia("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Dt(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,w=a.options,S=a._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(c||(c=a._stroke=ia("stroke")),S.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=X(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(S.removeChild(c),a._stroke=null),w.fill?(p||(p=a._fill=ia("fill")),S.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),w=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){mr(a._container)},_bringToBack:function(a){ds(a._container)}},hl=Fe.vml?ia:Dr,vs=nr.extend({_initContainer:function(){this._container=hl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Je(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=hl("path");a.options.className&&st(c,a.options.className),a.options.interactive&&st(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Dt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,us(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),w=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+w+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,P)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){mr(a._path)},_bringToBack:function(a){ds(a._path)}});Fe.vml&&vs.include(Wa);function ra(a){return Fe.svg||Fe.vml?new vs(a):null}ut.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||ra(a)}});var hf=Ga.extend({initialize:function(a,c){Ga.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ne(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Pi(a,c){return new hf(a,c)}vs.create=hl,vs.pointsToPath=us,Ci.geometryToLayer=sl,Ci.coordsToLatLng=nu,Ci.coordsToLatLngs=al,Ci.latLngToCoords=ol,Ci.latLngsToCoords=iu,Ci.getFeature=Ji,Ci.asFeature=$a,ut.mergeOptions({boxZoom:!0});var ou=hi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Hn(),Ws(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ke(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),st(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new W(this._point,this._startPoint),p=c.getSize();Je(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Vt(this._container,"leaflet-crosshair")),Ki(),Qo(),xt(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var c=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",ou),ut.mergeOptions({doubleClickZoom:!0});var br=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),w=c.options.zoomDelta,S=a.originalEvent.shiftKey?p-w:p+w;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(a.containerPoint,S)}});ut.addInitHook("addHandler","doubleClickZoom",br),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vc=hi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Qi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}st(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ne(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-c+p)%a+c-p,P=(w+c+p)%a-c-p,$=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(a){var c=this._map,p=c.options,w=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),w)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,$=p.easeLinearity,ne=S.multiplyBy($/P),ce=ne.distanceTo([0,0]),Ae=Math.min(p.inertiaMaxSpeed,ce),De=ne.multiplyBy(Ae/ce),ze=Ae/(p.inertiaDeceleration*$),je=De.multiplyBy(-ze/2).round();!je.x&&!je.y?c.fire("moveend"):(je=c._limitOffset(je,c.options.maxBounds),H(function(){c.panBy(je,{duration:ze,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",vc),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fl=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,w=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,w,S;for(w=0,S=p.left.length;w<S;w++)c[p.left[w]]=[-1*a,0];for(w=0,S=p.right.length;w<S;w++)c[p.right[w]]=[a,0];for(w=0,S=p.down.length;w<S;w++)c[p.down[w]]=[0,a];for(w=0,S=p.up.length;w<S;w++)c[p.up[w]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,w,S;for(w=0,S=p.zoomIn.length;w<S;w++)c[p.zoomIn[w]]=a;for(w=0,S=p.zoomOut.length;w<S;w++)c[p.zoomOut[w]]=-a},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,w;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[c],a.shiftKey&&(w=B(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(B(w),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(S)}else p.panBy(w)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;qn(a)}}});ut.addInitHook("addHandler","keyboard",fl),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Es=hi.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Ys(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),w),qn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,$=a._limitZoom(c+(this._delta>0?P:-P))-c;this._delta=0,this._startTime=null,$&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+$):a.setZoomAround(this._lastMousePos,c+$))}});ut.addInitHook("addHandler","scrollWheelZoom",Es);var Ec=600;ut.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var lu=hi.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new pe(c.clientX,c.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",Bt),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Ec),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){xt(document,"touchend",Bt),xt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new pe(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});ut.addInitHook("addHandler","tapHold",lu),ut.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var sa=hi.extend({addHooks:function(){st(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),Bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var $=h(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H($,this,!0),Bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",sa),ut.BoxZoom=ou,ut.DoubleClickZoom=br,ut.Drag=vc,ut.Keyboard=fl,ut.ScrollWheelZoom=Es,ut.TapHold=lu,ut.TouchZoom=sa,n.Bounds=W,n.Browser=Fe,n.CRS=ht,n.Canvas=ul,n.Circle=gc,n.CircleMarker=rl,n.Class=Ze,n.Control=Vn,n.DivIcon=_c,n.DivOverlay=er,n.DomEvent=Yl,n.DomUtil=Jo,n.Draggable=Qi,n.Evented=ge,n.FeatureGroup=$t,n.GeoJSON=Ci,n.GridLayer=ta,n.Handler=hi,n.Icon=vr,n.ImageOverlay=Er,n.LatLng=Pe,n.LatLngBounds=oe,n.Layer=Lt,n.LayerGroup=Jt,n.LineUtil=D,n.Map=ut,n.Marker=qa,n.Mixin=Qs,n.Path=Zr,n.Point=pe,n.PolyUtil=Ba,n.Polygon=Ga,n.Polyline=Kr,n.Popup=ll,n.PosAnimation=Xs,n.Projection=Ie,n.Rectangle=hf,n.Renderer=nr,n.SVG=vs,n.SVGOverlay=_s,n.TileLayer=na,n.Tooltip=au,n.Transformation=Pt,n.Util=q,n.VideoOverlay=su,n.bind=h,n.bounds=me,n.canvas=cl,n.circle=Hm,n.circleMarker=af,n.control=Gn,n.divIcon=cf,n.extend=o,n.featureGroup=_r,n.geoJSON=ru,n.geoJson=of,n.gridLayer=tr,n.icon=tu,n.imageOverlay=Za,n.latLng=Te,n.latLngBounds=Ne,n.layerGroup=$r,n.map=gr,n.marker=pc,n.point=B,n.polygon=Ai,n.polyline=qm,n.popup=Gm,n.rectangle=Pi,n.setOptions=z,n.stamp=y,n.svg=ra,n.svgOverlay=uf,n.tileLayer=Ri,n.tooltip=$m,n.transformation=Wt,n.version=r,n.videoOverlay=lf;var Ya=window.L;n.noConflict=function(){return window.L=Ya,this},window.L=n}))})(ch,ch.exports)),ch.exports}var zm=H3();const q3=$x(zm);function qA(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function GA(t,e){return e==null?function(r,o){const u=k.useRef(void 0);return u.current||(u.current=t(r,o)),u}:function(r,o){const u=k.useRef(void 0);u.current||(u.current=t(r,o));const h=k.useRef(r),{instance:m}=u.current;return k.useEffect(function(){h.current!==r&&(e(m,r,h.current),h.current=r)},[m,r,e]),u}}function G3(t,e){k.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function $A(t){return function(n){const r=FA(),o=t(HA(n,r),r);return L3(r.map,n.attribution),j3(o.current,n.eventHandlers),G3(o.current,r),o}}function $3(t,e){const n=GA(t,e),r=$A(n);return z3(r)}function Z3(t,e){const n=GA(t,e),r=$A(n);return B3(r)}function K3(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function ZA(){return FA().map}function W3(t){const e=ZA();return k.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Y3({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:u,placeholder:h,style:m,whenReady:y,zoom:v,...b},x){const[A]=k.useState({className:o,id:u,style:m}),[O,V]=k.useState(null),z=k.useRef(void 0);k.useImperativeHandle(x,()=>O?.map??null,[O]);const j=k.useCallback(G=>{if(G!==null&&!z.current){const X=new zm.Map(G,b);z.current=X,n!=null&&v!=null?X.setView(n,v):t!=null&&X.fitBounds(t,e),y!=null&&X.whenReady(y),V(V3(X))}},[]);k.useEffect(()=>()=>{O?.map.remove()},[O]);const K=O?_.createElement(hv,{value:O},r):h??null;return _.createElement("div",{...A,ref:j},K)}const X3=k.forwardRef(Y3),Q3=$3(function({position:e,...n},r){const o=new zm.Marker(e,n);return qA(o,U3(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),J3=Z3(function({url:e,...n},r){const o=new zm.TileLayer(e,HA(n,r));return qA(o,r)},function(e,n,r){K3(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),e5=new q3.Icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});function t5({address:t}){const e=ZA();return k.useEffect(()=>{if(t&&t.includes(",")){const[n,r]=t.split(",").map(Number);!isNaN(n)&&!isNaN(r)&&e.setView([n,r],15)}},[t,e]),null}function n5({setAddress:t,initialPosition:e}){const[n,r]=k.useState(e);return W3({click(o){r(o.latlng),t(`${o.latlng.lat}, ${o.latlng.lng}`)}}),n?_.createElement(Q3,{position:n,icon:e5}):null}function i5({isOpen:t,onClose:e,total:n,cart:r,onOrderSuccess:o}){const[u,h]=k.useState({name:"",email:"",phone:"",address:""}),[m,y]=k.useState(!1),[v,b]=k.useState(""),[x,A]=k.useState({}),[O,V]=k.useState(null),[z,j]=k.useState(!1),[K,G]=k.useState([-1.9577,30.1127]);k.useEffect(()=>{const U=YO(lv,N=>{V(N)});return()=>U()},[]),k.useEffect(()=>{if(u.address&&u.address.includes(",")){const[U,N]=u.address.split(",").map(Number);!isNaN(U)&&!isNaN(N)&&G([U,N])}},[u.address]);const X=U=>{h(N=>({...N,[U.target.name]:U.target.value})),x[U.target.name]&&A(N=>({...N,[U.target.name]:null}))},ve=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(U=>{const{latitude:N,longitude:M}=U.coords,F=`${N},${M}`;h(H=>({...H,address:F}))},U=>{alert("Failed to get location: "+U.message)})},ae=()=>{const U={};return u.name.trim()||(U.name="Name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(U.email="Please enter a valid email address"):U.email="Email is required",u.phone.trim()?/^\+?[0-9\s\-()]{7,20}$/.test(u.phone.replace(/\s/g,""))||(U.phone="Please enter a valid phone number"):U.phone="Phone number is required",u.address.trim()||(U.address="Address is required"),A(U),Object.keys(U).length===0},de=async U=>{if(U.preventDefault(),!ae()){b("Please correct the errors in the form.");return}if(!r||r.length===0){b("Your cart is empty.");return}try{y(!0);let N=null;if(u.address.includes(",")){const[H,Y]=u.address.split(",").map(Number);!isNaN(H)&&!isNaN(Y)&&(N={lat:H,lng:Y})}const M={id:Date.now().toString(),client:u,items:r,total:n,status:"Pending",timestamp:new Date().toISOString(),location:N,userId:O?.uid||null};await Oy(wa(rs,"orders"),M);const F=JSON.parse(localStorage.getItem("orders"))||[];localStorage.setItem("orders",JSON.stringify([...F,M])),b("Order placed successfully!"),h({name:"",email:"",phone:"",address:""}),o?.(),setTimeout(()=>e(),2e3)}catch(N){console.error("Error placing order:",N),b("Failed to place order. Try again.")}finally{y(!1)}};return k.useEffect(()=>{if(v){const U=setTimeout(()=>b(""),3e3);return()=>clearTimeout(U)}},[v]),t?_.createElement(_.Fragment,null,v&&_.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},_.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${v.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},v.includes("success")?_.createElement(rm,{className:"w-8 h-8 flex-shrink-0"}):_.createElement(My,{className:"w-8 h-8 flex-shrink-0"}),_.createElement("span",{className:"text-lg font-medium"},v))),_.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},_.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),_.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},_.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},_.createElement(Ro,{className:"w-5 h-5"})),_.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},_.createElement("div",{className:"flex items-center space-x-3"},_.createElement(Or,{className:"w-8 h-8"}),_.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),_.createElement("div",{className:"flex-1 overflow-y-auto p-6"},O?_.createElement(_.Fragment,null,_.createElement("div",{className:"mb-8"},_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},_.createElement(Or,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),_.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},r.map((U,N)=>_.createElement("div",{key:`${U.id}-${N}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},_.createElement("div",{className:"flex items-center gap-4"},_.createElement("img",{src:U.image||(Array.isArray(U.images)?U.images[0]:U.images),alt:U.name,className:"w-16 h-16 object-cover rounded-lg"}),_.createElement("div",null,_.createElement("div",{className:"text-sm font-semibold text-gray-900"},U.name),_.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},_.createElement("span",null,"Qty: ",U.qty),U.selectedSize&&_.createElement("span",null,"Size: ",U.selectedSize),U.selectedColor&&_.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",_.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:U.selectedColor},title:U.selectedColor}))))),_.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(U.qty*U.price).toFixed(2))))),_.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},_.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),_.createElement("span",{className:"text-xl font-bold text-red-700"},"$",n.toFixed(2)))),_.createElement("form",{onSubmit:de,className:"space-y-5"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(t3,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),_.createElement("input",{type:"text",name:"name",value:u.name,onChange:X,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your full name",disabled:m}),x.name&&_.createElement("p",{className:"text-sm text-red-600"},x.name)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(FV,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),_.createElement("input",{type:"email",name:"email",value:u.email,onChange:X,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your email",disabled:m}),x.email&&_.createElement("p",{className:"text-sm text-red-600"},x.email)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(KV,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),_.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:X,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your phone number",disabled:m}),x.phone&&_.createElement("p",{className:"text-sm text-red-600"},x.phone)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(NT,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),_.createElement("div",{className:"flex gap-2 mb-2"},_.createElement("input",{type:"text",name:"address",value:u.address,onChange:X,className:"flex-1 px-4 py-3 border rounded-lg",placeholder:"Coordinates will appear here",disabled:m,readOnly:!0}),_.createElement("button",{type:"button",onClick:ve,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm whitespace-nowrap"},"Use My Location")),x.address&&_.createElement("p",{className:"text-sm text-red-600"},x.address)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(NT,{className:"w-4 h-4 mr-2 text-red-600"}),"Select Location on Map"),_.createElement("div",{className:"text-xs text-gray-500 mb-2"},"Click on the map to select your location"),_.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},_.createElement(X3,{center:K,zoom:13,style:{height:"100%",width:"100%"}},_.createElement(J3,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles © Esri — Source: Esri, Maxar, Earthstar Geographics"}),_.createElement(n5,{setAddress:U=>h(N=>({...N,address:U})),initialPosition:u.address&&u.address.includes(",")?u.address.split(",").map(Number):K}),_.createElement(t5,{address:u.address}))),u.address&&_.createElement("p",{className:"text-xs text-gray-600 mt-1"},"Selected: ",u.address)),_.createElement("button",{type:"submit",disabled:m,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium"},m?"Processing Order...":"Place Order"))):_.createElement("div",null,z?_.createElement(M3,null):_.createElement(D3,null),_.createElement("p",{className:"mt-4 text-center text-sm text-gray-600"},z?"Already have an account?":"Don't have an account?"," ",_.createElement("button",{onClick:()=>j(!z),className:"text-red-600 hover:underline"},z?"Sign In":"Sign Up"))))))):null}const r5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},IT=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},s5=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const{id:r}=bN(),o=i1(),[u,h]=k.useState(null),[m,y]=k.useState(!0),[v,b]=k.useState(null),[x,A]=k.useState(null),[O,V]=k.useState(null),[z,j]=k.useState(1),[K,G]=k.useState(""),[X,ve]=k.useState(!1),[ae,de]=k.useState([]);k.useEffect(()=>{const Ue=r5();de(Ue)},[]);const U=ae.includes(r);k.useEffect(()=>{(async()=>{y(!0);try{const ie=K_(rs,"products",r),ge=await PA(ie);if(ge.exists()){const pe={id:ge.id,...ge.data()};h(pe),b(pe.images?.[0]||null),pe.colors&&pe.colors.length>0&&V(pe.colors[0])}else h(null)}catch(ie){console.error("Error fetching product:",ie),h(null)}finally{y(!1)}})()},[r]),k.useEffect(()=>{window.scrollTo(0,0)},[r]);const N=u?.sizes&&u.sizes.length>0,M=u?.colors&&u.colors.length>0,F=()=>{if(N&&!x){G("⚠️ Please select a size before adding to cart.");return}if(M&&!O){G("⚠️ Please select a color before adding to cart.");return}G("✅ Added to cart!"),t({id:u.id,name:u.name,price:u.newPrice||u.price,image:u.images?.[0]||"",selectedSize:x,selectedColor:O,quantity:z}),setTimeout(()=>G(""),3e3)},H=()=>{const Ue=[...ae],ie=u.id;if(U){const ge=Ue.filter(pe=>pe!==ie);IT(ge),de(ge),G("💔 Removed from favorites!")}else{const ge=[...Ue,ie];IT(ge),de(ge),e(u),G("❤️ Added to favorites!")}setTimeout(()=>G(""),3e3)},Y=()=>{ve(!0)},q=Ue=>{Ue<1||j(Ue)},Ze=()=>!u.newPrice||u.newPrice>=u.price?0:Math.round((u.price-u.newPrice)/u.price*100);return m?_.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},_.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):u?_.createElement("div",{className:"min-h-screen bg-white"},_.createElement("div",{className:"px-4 pt-4"},_.createElement("button",{onClick:()=>o(-1),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors"},_.createElement(CT,{className:"w-5 h-5 mr-1"})," Back")),_.createElement("div",{className:"px-4 pb-8 max-w-7xl mx-auto"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-8 py-6"},_.createElement("div",{className:"lg:w-1/2"},_.createElement("div",{className:"flex  gap-6"},_.createElement("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},v&&!X?_.createElement("img",{src:v,alt:u.name,className:"w-full h-full object-cover",onError:Y}):_.createElement("div",{className:"text-center p-8"},_.createElement("div",{className:"text-5xl mb-2"},"🖼️"),_.createElement("p",{className:"text-gray-500"},"Image not available"))),_.createElement("div",{className:"flex flex-col gap-3  py-2"},u.images?.map((Ue,ie)=>_.createElement("button",{key:ie,onClick:()=>{b(Ue),ve(!1)},className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 ${v===Ue?"border-black":"border-gray-200 hover:border-gray-300"}`},_.createElement("img",{src:Ue,alt:`${u.name} thumbnail ${ie+1}`,className:"w-full h-full object-cover",onError:ge=>{ge.target.src="/placeholder.jpg"}})))))),_.createElement("div",{className:"lg:w-1/2"},_.createElement("div",{className:"flex flex-col gap-6"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900"},u.name),_.createElement("div",{className:"flex items-baseline gap-3"},_.createElement("span",{className:"text-2xl font-bold text-gray-900"},"$",u.newPrice||u.price),u.newPrice&&u.newPrice<u.price&&_.createElement(_.Fragment,null,_.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",u.price),_.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},Ze(),"% OFF"))),M&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Color"),_.createElement("div",{className:"flex flex-wrap gap-2"},u.colors.map(Ue=>_.createElement("button",{key:Ue,onClick:()=>V(Ue),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${O===Ue?"border-black scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:Ue},title:Ue})))),N&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Size"),_.createElement("div",{className:"flex flex-wrap gap-2"},u.sizes.map(Ue=>_.createElement("button",{key:Ue,onClick:()=>A(Ue),className:`px-4 py-2 rounded-full border font-medium transition-all duration-200 ${x===Ue?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`},Ue))),N&&!x&&_.createElement("p",{className:"mt-1 text-sm text-red-500"},"Please select a size")),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Quantity"),_.createElement("div",{className:"flex items-center border border-gray-300 rounded-lg w-32"},_.createElement("button",{onClick:()=>q(z-1),className:"p-2 text-gray-600 hover:bg-gray-100",disabled:z<=1},_.createElement(UA,{className:"w-4 h-4"})),_.createElement("span",{className:"flex-1 text-center"},z),_.createElement("button",{onClick:()=>q(z+1),className:"p-2 text-gray-600 hover:bg-gray-100"},_.createElement(zA,{className:"w-4 h-4"})))),_.createElement("div",{className:"flex flex-wrap gap-4"},_.createElement("button",{onClick:F,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-black hover:bg-gray-900 text-white font-medium py-3 px-6 rounded-lg shadow-sm transition-all duration-300"},_.createElement(Or,{className:"w-5 h-5"})," Add to Cart"),_.createElement("button",{onClick:H,className:`p-3 rounded-lg border transition-all duration-300 ${U?"bg-red-50 text-red-600 border-red-200":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100"}`,title:U?"Remove from favorites":"Add to favorites"},_.createElement(jo,{className:`w-6 h-6 transition-all duration-300 ${U?"fill-red-600 text-red-600":""}`}))),_.createElement("h2",null,"Product description"),_.createElement("p",{className:"text-gray-700 break-words"},u.shortDescription||u.det?.substring(0,150)+"..."||"No description available."),K&&_.createElement("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200"},K)))))):_.createElement("div",{className:"text-center py-20 px-4"},_.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl p-8"},_.createElement("div",{className:"text-6xl mb-4"},"😕"),_.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),_.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),_.createElement("button",{onClick:()=>o(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},_.createElement(CT,{className:"w-4 h-4 mr-2"})," Go Back")))},a5=({navLinks:t=[],socialLinks:e=[],contactInfo:n={},copyrightYear:r=new Date().getFullYear()})=>{const[o,u]=k.useState(""),[h,m]=k.useState(""),[y,v]=k.useState(!1),[b,x]=k.useState(!1),A=async O=>{if(O.preventDefault(),!o.trim()){m("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){m("Please enter a valid email address");return}x(!0),m("");try{await new Promise(V=>setTimeout(V,1e3)),console.log("Subscribed email:",o),v(!0),u("")}catch(V){console.error("Subscription error:",V),m("Subscription failed. Please try again.")}finally{x(!1)}};return _.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),_.createElement("ul",{className:"space-y-2"},t.map((O,V)=>_.createElement("li",{key:V},_.createElement("a",{href:O.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${O.name}`},O.name))))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),_.createElement("ul",{className:"space-y-3"},n.email&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),_.createElement("a",{href:`mailto:${n.email}`,className:"text-gray-300 hover:text-white transition-colors"},n.email)),n.phone&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),_.createElement("a",{href:`tel:${n.phone}`,className:"text-gray-300 hover:text-white transition-colors"},n.phone)),n.address&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),_.createElement("span",{className:"text-gray-300"},n.address)))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),_.createElement("div",{className:"flex space-x-4"},e.map((O,V)=>_.createElement("a",{key:V,href:O.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${O.name}`},O.icon&&_.createElement("span",{className:"w-5 h-5"},O.icon))))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),_.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),y?_.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},_.createElement("div",{className:"flex items-center"},_.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),_.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):_.createElement("form",{onSubmit:A,className:"space-y-3"},_.createElement("div",null,_.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),_.createElement("input",{type:"email",id:"footer-email",value:o,onChange:O=>u(O.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${h?"border-red-500":"border-gray-700"}`,"aria-invalid":!!h,"aria-describedby":h?"footer-email-error":void 0}),h&&_.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},h)),_.createElement("button",{type:"submit",disabled:b,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},b?"Subscribing...":"Subscribe")))),_.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},_.createElement("p",null,"© ",r," Your Company Name. All rights reserved."))))},o5=()=>{const[t,e]=k.useState({name:"",email:"",subject:"",message:""}),[n,r]=k.useState({name:"",email:"",subject:"",message:""}),[o,u]=k.useState(!1),[h,m]=k.useState(!1),y=()=>{let x=!0;const A={name:"",email:"",subject:"",message:""};return t.name.trim()||(A.name="Name is required",x=!1),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(A.email="Please enter a valid email address",x=!1):(A.email="Email is required",x=!1),t.subject.trim()||(A.subject="Subject is required",x=!1),t.message.trim()||(A.message="Message is required",x=!1),r(A),x},v=x=>{const{name:A,value:O}=x.target;e(V=>({...V,[A]:O})),n[A]&&r(V=>({...V,[A]:""}))},b=async x=>{if(x.preventDefault(),!!y()){m(!0);try{await new Promise(A=>setTimeout(A,1e3)),console.log("Form submitted:",t),u(!0),e({name:"",email:"",subject:"",message:""})}catch(A){console.error("Submission error:",A)}finally{m(!1)}}};return _.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"max-w-7xl mx-auto"},_.createElement("div",{className:"text-center mb-12"},_.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),_.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},_.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),o?_.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},_.createElement("div",{className:"flex items-center"},_.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),_.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),_.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),_.createElement("button",{onClick:()=>u(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):_.createElement("form",{onSubmit:b,noValidate:!0},_.createElement("div",{className:"space-y-6"},_.createElement("div",null,_.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"text",id:"name",name:"name",value:t.name,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0}),n.name&&_.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},n.name)),_.createElement("div",null,_.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0}),n.email&&_.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},n.email)),_.createElement("div",null,_.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.subject,"aria-describedby":n.subject?"subject-error":void 0}),n.subject&&_.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},n.subject)),_.createElement("div",null,_.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0}),n.message&&_.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},n.message)),_.createElement("div",null,_.createElement("button",{type:"submit",disabled:h,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},h?_.createElement("span",{className:"flex items-center justify-center"},_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),_.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),_.createElement("div",{className:"space-y-6"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),_.createElement("ul",{className:"space-y-3"},_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),_.createElement("span",{className:"text-gray-700"},"contact@example.com")),_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),_.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),_.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",_.createElement("br",null),"San Francisco, CA 94107")))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),_.createElement("ul",{className:"space-y-2"},_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Monday - Friday"),_.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Saturday"),_.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Sunday"),_.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),_.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},_.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};var Fg={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function l5(){if(OT)return nh;OT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:h,ref:o!==void 0?o:null,props:u}}return nh.Fragment=e,nh.jsx=n,nh.jsxs=n,nh}var MT;function u5(){return MT||(MT=1,Fg.exports=l5()),Fg.exports}var Dy=u5();const KA=k.createContext({});function c5(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const fv=typeof window<"u",h5=fv?k.useLayoutEffect:k.useEffect,dv=k.createContext(null);function mv(t,e){t.indexOf(e)===-1&&t.push(e)}function pv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ra=(t,e,n)=>n>e?e:n<t?t:n;let gv=()=>{};const Na={},WA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YA(t){return typeof t=="object"&&t!==null}const XA=t=>/^0[^.\s]+$/u.test(t);function yv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ir=t=>t,f5=(t,e)=>n=>e(t(n)),tf=(...t)=>t.reduce(f5),Dh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class _v{constructor(){this.subscriptions=[]}add(e){return mv(this.subscriptions,e),()=>pv(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=t=>t*1e3,Pr=t=>t/1e3;function QA(t,e){return e?t*(1e3/e):0}const JA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d5=1e-7,m5=12;function p5(t,e,n,r,o){let u,h,m=0;do h=e+(n-e)/2,u=JA(h,r,o)-t,u>0?n=h:e=h;while(Math.abs(u)>d5&&++m<m5);return h}function nf(t,e,n,r){if(t===e&&n===r)return Ir;const o=u=>p5(u,0,1,t,n);return u=>u===0||u===1?u:JA(o(u),e,r)}const eC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tC=t=>e=>1-t(1-e),nC=nf(.33,1.53,.69,.99),vv=tC(nC),iC=eC(vv),rC=t=>(t*=2)<1?.5*vv(t):.5*(2-Math.pow(2,-10*(t-1))),Ev=t=>1-Math.sin(Math.acos(t)),sC=tC(Ev),aC=eC(Ev),g5=nf(.42,0,1,1),y5=nf(0,0,.58,1),oC=nf(.42,0,.58,1),_5=t=>Array.isArray(t)&&typeof t[0]!="number",lC=t=>Array.isArray(t)&&typeof t[0]=="number",v5={linear:Ir,easeIn:g5,easeInOut:oC,easeOut:y5,circIn:Ev,circInOut:aC,circOut:sC,backIn:vv,backInOut:iC,backOut:nC,anticipate:rC},E5=t=>typeof t=="string",DT=t=>{if(lC(t)){gv(t.length===4);const[e,n,r,o]=t;return nf(e,n,r,o)}else if(E5(t))return v5[t];return t},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b5(t,e){let n=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(b){h.has(b)&&(v.schedule(b),t()),b(m)}const v={schedule:(b,x=!1,A=!1)=>{const V=A&&o?n:r;return x&&h.add(b),V.has(b)||V.add(b),b},cancel:b=>{r.delete(b),h.delete(b)},process:b=>{if(m=b,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,v.process(b))}};return v}const w5=40;function uC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,h=gd.reduce((X,ve)=>(X[ve]=b5(u),X),{}),{setup:m,read:y,resolveKeyframes:v,preUpdate:b,update:x,preRender:A,render:O,postRender:V}=h,z=()=>{const X=Na.useManualTiming?o.timestamp:performance.now();n=!1,Na.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(X-o.timestamp,w5),1)),o.timestamp=X,o.isProcessing=!0,m.process(o),y.process(o),v.process(o),b.process(o),x.process(o),A.process(o),O.process(o),V.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(z))},j=()=>{n=!0,r=!0,o.isProcessing||t(z)};return{schedule:gd.reduce((X,ve)=>{const ae=h[ve];return X[ve]=(de,U=!1,N=!1)=>(n||j(),ae.schedule(de,U,N)),X},{}),cancel:X=>{for(let ve=0;ve<gd.length;ve++)h[gd[ve]].cancel(X)},state:o,steps:h}}const{schedule:ln,cancel:Fo,state:ii,steps:Hg}=uC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0);let Id;function T5(){Id=void 0}const Bi={now:()=>(Id===void 0&&Bi.set(ii.isProcessing||Na.useManualTiming?ii.timestamp:performance.now()),Id),set:t=>{Id=t,queueMicrotask(T5)}},cC=t=>e=>typeof e=="string"&&e.startsWith(t),bv=cC("--"),x5=cC("var(--"),wv=t=>x5(t)?S5.test(t.split("/*")[0].trim()):!1,S5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lh={...uc,transform:t=>Ra(0,1,t)},yd={...uc,default:1},yh=t=>Math.round(t*1e5)/1e5,Tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A5(t){return t==null}const C5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xv=(t,e)=>n=>!!(typeof n=="string"&&C5.test(n)&&n.startsWith(t)||e&&!A5(n)&&Object.prototype.hasOwnProperty.call(n,e)),hC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,h,m]=r.match(Tv);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},R5=t=>Ra(0,255,t),qg={...uc,transform:t=>Math.round(R5(t))},Cl={test:xv("rgb","red"),parse:hC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+yh(Lh.transform(r))+")"};function N5(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ly={test:xv("#"),parse:N5,transform:Cl.transform},rf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=rf("deg"),Ls=rf("%"),it=rf("px"),P5=rf("vh"),I5=rf("vw"),LT={...Ls,parse:t=>Ls.parse(t)/100,transform:t=>Ls.transform(t*100)},ku={test:xv("hsl","hue"),parse:hC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ls.transform(yh(e))+", "+Ls.transform(yh(n))+", "+yh(Lh.transform(r))+")"},In={test:t=>Cl.test(t)||Ly.test(t)||ku.test(t),parse:t=>Cl.test(t)?Cl.parse(t):ku.test(t)?ku.parse(t):Ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cl.transform(t):ku.transform(t),getAnimatableNone:t=>{const e=In.parse(t);return e.alpha=0,In.transform(e)}},O5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M5(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tv)?.length||0)+(t.match(O5)?.length||0)>0}const fC="number",dC="color",D5="var",L5="var(",kT="${}",k5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=e.replace(k5,y=>(In.test(y)?(r.color.push(u),o.push(dC),n.push(In.parse(y))):y.startsWith(L5)?(r.var.push(u),o.push(D5),n.push(y)):(r.number.push(u),o.push(fC),n.push(parseFloat(y))),++u,kT)).split(kT);return{values:n,split:m,indexes:r,types:o}}function mC(t){return kh(t).values}function pC(t){const{split:e,types:n}=kh(t),r=e.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=e[h],o[h]!==void 0){const m=n[h];m===fC?u+=yh(o[h]):m===dC?u+=In.transform(o[h]):u+=o[h]}return u}}const V5=t=>typeof t=="number"?0:In.test(t)?In.getAnimatableNone(t):t;function U5(t){const e=mC(t);return pC(t)(e.map(V5))}const Ho={test:M5,parse:mC,createTransformer:pC,getAnimatableNone:U5};function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function z5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,h=0;if(!e)o=u=h=n;else{const m=n<.5?n*(1+e):n+e-n*e,y=2*n-m;o=Gg(y,m,t+1/3),u=Gg(y,m,t),h=Gg(y,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function sm(t,e){return n=>n>0?e:t}const fn=(t,e,n)=>t+(e-t)*n,$g=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},B5=[Ly,Cl,ku],j5=t=>B5.find(e=>e.test(t));function VT(t){const e=j5(t);if(!e)return!1;let n=e.parse(t);return e===ku&&(n=z5(n)),n}const UT=(t,e)=>{const n=VT(t),r=VT(e);if(!n||!r)return sm(t,e);const o={...n};return u=>(o.red=$g(n.red,r.red,u),o.green=$g(n.green,r.green,u),o.blue=$g(n.blue,r.blue,u),o.alpha=fn(n.alpha,r.alpha,u),Cl.transform(o))},ky=new Set(["none","hidden"]);function F5(t,e){return ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function H5(t,e){return n=>fn(t,e,n)}function Sv(t){return typeof t=="number"?H5:typeof t=="string"?wv(t)?sm:In.test(t)?UT:$5:Array.isArray(t)?gC:typeof t=="object"?In.test(t)?UT:q5:sm}function gC(t,e){const n=[...t],r=n.length,o=t.map((u,h)=>Sv(u)(u,e[h]));return u=>{for(let h=0;h<r;h++)n[h]=o[h](u);return n}}function q5(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Sv(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function G5(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],h=t.indexes[u][r[u]],m=t.values[h]??0;n[o]=m,r[u]++}return n}const $5=(t,e)=>{const n=Ho.createTransformer(e),r=kh(t),o=kh(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ky.has(t)&&!o.values.length||ky.has(e)&&!r.values.length?F5(t,e):tf(gC(G5(r,o),o.values),n):sm(t,e)};function yC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fn(t,e,n):Sv(t)(t,e)}const Z5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ln.update(e,n),stop:()=>Fo(e),now:()=>ii.isProcessing?ii.timestamp:Bi.now()}},_C=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},am=2e4;function Av(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<am;)e+=n,r=t.next(e);return e>=am?1/0:e}function K5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Av(r),am);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Pr(o)}}const W5=5;function vC(t,e,n){const r=Math.max(e-W5,0);return QA(n-t(r),e-r)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zg=.001;function Y5({duration:t=_n.duration,bounce:e=_n.bounce,velocity:n=_n.velocity,mass:r=_n.mass}){let o,u,h=1-e;h=Ra(_n.minDamping,_n.maxDamping,h),t=Ra(_n.minDuration,_n.maxDuration,Pr(t)),h<1?(o=v=>{const b=v*h,x=b*t,A=b-n,O=Vy(v,h),V=Math.exp(-x);return Zg-A/O*V},u=v=>{const x=v*h*t,A=x*n+n,O=Math.pow(h,2)*Math.pow(v,2)*t,V=Math.exp(-x),z=Vy(Math.pow(v,2),h);return(-o(v)+Zg>0?-1:1)*((A-O)*V)/z}):(o=v=>{const b=Math.exp(-v*t),x=(v-n)*t+1;return-Zg+b*x},u=v=>{const b=Math.exp(-v*t),x=(n-v)*(t*t);return b*x});const m=5/t,y=Q5(o,u,m);if(t=Ds(t),isNaN(y))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const v=Math.pow(y,2)*r;return{stiffness:v,damping:h*2*Math.sqrt(r*v),duration:t}}}const X5=12;function Q5(t,e,n){let r=n;for(let o=1;o<X5;o++)r=r-t(r)/e(r);return r}function Vy(t,e){return t*Math.sqrt(1-e*e)}const J5=["duration","bounce"],e6=["stiffness","damping","mass"];function zT(t,e){return e.some(n=>t[n]!==void 0)}function t6(t){let e={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!zT(t,e6)&&zT(t,J5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*Ra(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:_n.mass,stiffness:o,damping:u}}else{const n=Y5(t);e={...e,...n,mass:_n.mass},e.isResolvedFromDuration=!0}return e}function om(t=_n.visualDuration,e=_n.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:v,mass:b,duration:x,velocity:A,isResolvedFromDuration:O}=t6({...n,velocity:-Pr(n.velocity||0)}),V=A||0,z=v/(2*Math.sqrt(y*b)),j=h-u,K=Pr(Math.sqrt(y/b)),G=Math.abs(j)<5;r||(r=G?_n.restSpeed.granular:_n.restSpeed.default),o||(o=G?_n.restDelta.granular:_n.restDelta.default);let X;if(z<1){const ae=Vy(K,z);X=de=>{const U=Math.exp(-z*K*de);return h-U*((V+z*K*j)/ae*Math.sin(ae*de)+j*Math.cos(ae*de))}}else if(z===1)X=ae=>h-Math.exp(-K*ae)*(j+(V+K*j)*ae);else{const ae=K*Math.sqrt(z*z-1);X=de=>{const U=Math.exp(-z*K*de),N=Math.min(ae*de,300);return h-U*((V+z*K*j)*Math.sinh(N)+ae*j*Math.cosh(N))/ae}}const ve={calculatedDuration:O&&x||null,next:ae=>{const de=X(ae);if(O)m.done=ae>=x;else{let U=ae===0?V:0;z<1&&(U=ae===0?Ds(V):vC(X,ae,de));const N=Math.abs(U)<=r,M=Math.abs(h-de)<=o;m.done=N&&M}return m.value=m.done?h:de,m},toString:()=>{const ae=Math.min(Av(ve),am),de=_C(U=>ve.next(ae*U).value,ae,30);return ae+"ms "+de},toTransition:()=>{}};return ve}om.applyToOptions=t=>{const e=K5(t,100,om);return t.ease=e.ease,t.duration=Ds(e.duration),t.type="keyframes",t};function Uy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:m,max:y,restDelta:v=.5,restSpeed:b}){const x=t[0],A={done:!1,value:x},O=N=>m!==void 0&&N<m||y!==void 0&&N>y,V=N=>m===void 0?y:y===void 0||Math.abs(m-N)<Math.abs(y-N)?m:y;let z=n*e;const j=x+z,K=h===void 0?j:h(j);K!==j&&(z=K-x);const G=N=>-z*Math.exp(-N/r),X=N=>K+G(N),ve=N=>{const M=G(N),F=X(N);A.done=Math.abs(M)<=v,A.value=A.done?K:F};let ae,de;const U=N=>{O(A.value)&&(ae=N,de=om({keyframes:[A.value,V(A.value)],velocity:vC(X,N,A.value),damping:o,stiffness:u,restDelta:v,restSpeed:b}))};return U(0),{calculatedDuration:null,next:N=>{let M=!1;return!de&&ae===void 0&&(M=!0,ve(N),U(N)),ae!==void 0&&N>=ae?de.next(N-ae):(!M&&ve(N),A)}}}function n6(t,e,n){const r=[],o=n||Na.mix||yC,u=t.length-1;for(let h=0;h<u;h++){let m=o(t[h],t[h+1]);if(e){const y=Array.isArray(e)?e[h]||Ir:e;m=tf(y,m)}r.push(m)}return r}function i6(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(gv(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=n6(e,r,o),y=m.length,v=b=>{if(h&&b<t[0])return e[0];let x=0;if(y>1)for(;x<t.length-2&&!(b<t[x+1]);x++);const A=Dh(t[x],t[x+1],b);return m[x](A)};return n?b=>v(Ra(t[0],t[u-1],b)):v}function r6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Dh(0,e,r);t.push(fn(n,1,o))}}function s6(t){const e=[0];return r6(e,t.length-1),e}function a6(t,e){return t.map(n=>n*e)}function o6(t,e){return t.map(()=>e||oC).splice(0,t.length-1)}function _h({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=_5(r)?r.map(DT):DT(r),u={done:!1,value:e[0]},h=a6(n&&n.length===e.length?n:s6(e),t),m=i6(h,e,{ease:Array.isArray(o)?o:o6(e,o)});return{calculatedDuration:t,next:y=>(u.value=m(y),u.done=y>=t,u)}}const l6=t=>t!==null;function Cv(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(l6),m=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const u6={decay:Uy,inertia:Uy,tween:_h,keyframes:_h,spring:om};function EC(t){typeof t.type=="string"&&(t.type=u6[t.type])}class Rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c6=t=>t/100;class Nv extends Rv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bi.now()&&this.tick(Bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;EC(e);const{type:n=_h,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=e;let{keyframes:m}=e;const y=n||_h;y!==_h&&typeof m[0]!="number"&&(this.mixKeyframes=tf(c6,yC(m[0],m[1])),m=[0,100]);const v=y({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=Av(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:b,repeat:x,repeatType:A,repeatDelay:O,type:V,onUpdate:z,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const K=this.currentTime-v*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?K<0:K>o;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let X=this.currentTime,ve=r;if(x){const N=Math.min(this.currentTime,o)/m;let M=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&M--,M=Math.min(M,x+1),!!(M%2)&&(A==="reverse"?(F=1-F,O&&(F-=O/m)):A==="mirror"&&(ve=h)),X=Ra(0,1,F)*m}const ae=G?{done:!1,value:b[0]}:ve.next(X);u&&(ae.value=u(ae.value));let{done:de}=ae;!G&&y!==null&&(de=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return U&&V!==Uy&&(ae.value=Cv(b,this.options,j,this.speed)),z&&z(ae.value),U&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){e=Ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Z5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function h6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Rl=t=>t*180/Math.PI,zy=t=>{const e=Rl(Math.atan2(t[1],t[0]));return By(e)},f6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zy,rotateZ:zy,skewX:t=>Rl(Math.atan(t[1])),skewY:t=>Rl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},By=t=>(t=t%360,t<0&&(t+=360),t),BT=zy,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:FT,scale:t=>(jT(t)+FT(t))/2,rotateX:t=>By(Rl(Math.atan2(t[6],t[5]))),rotateY:t=>By(Rl(Math.atan2(-t[2],t[0]))),rotateZ:BT,rotate:BT,skewX:t=>Rl(Math.atan(t[4])),skewY:t=>Rl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jy(t){return t.includes("scale")?1:0}function Fy(t,e){if(!t||t==="none")return jy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=d6,o=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=f6,o=m}if(!o)return jy(e);const u=r[e],h=o[1].split(",").map(p6);return typeof u=="function"?u(h):h[u]}const m6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fy(n,e)};function p6(t){return parseFloat(t.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hc=new Set(cc),HT=t=>t===uc||t===it,g6=new Set(["x","y","z"]),y6=cc.filter(t=>!g6.has(t));function _6(t){const e=[];return y6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Il={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fy(e,"x"),y:(t,{transform:e})=>Fy(e,"y")};Il.translateX=Il.x;Il.translateY=Il.y;const Ol=new Set;let Hy=!1,qy=!1,Gy=!1;function bC(){if(qy){const t=Array.from(Ol).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=_6(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,h])=>{r.getValue(u)?.set(h)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qy=!1,Hy=!1,Ol.forEach(t=>t.complete(Gy)),Ol.clear()}function wC(){Ol.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qy=!0)})}function v6(){Gy=!0,wC(),bC(),Gy=!1}class Pv{constructor(e,n,r,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ol.add(this),Hy||(Hy=!0,ln.read(wC),ln.resolveKeyframes(bC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o?.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const m=r.readValue(n,h);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}h6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ol.delete(this)}cancel(){this.state==="scheduled"&&(Ol.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E6=t=>t.startsWith("--");function b6(t,e,n){E6(e)?t.style.setProperty(e,n):t.style[e]=n}const w6=yv(()=>window.ScrollTimeline!==void 0),T6={};function x6(t,e){const n=yv(t);return()=>T6[e]??n()}const TC=x6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function xC(t,e){if(t)return typeof t=="function"?TC()?_C(t,e):"ease-out":lC(t)?hh(t):Array.isArray(t)?t.map(n=>xC(n,e)||qT.easeOut):qT[t]}function S6(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:m="easeOut",times:y}={},v=void 0){const b={[e]:n};y&&(b.offset=y);const x=xC(m,o);Array.isArray(x)&&(b.easing=x);const A={delay:r,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return v&&(A.pseudoElement=v),t.animate(b,A)}function SC(t){return typeof t=="function"&&"applyToOptions"in t}function A6({type:t,...e}){return SC(t)&&TC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C6 extends Rv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,gv(typeof e.type!="string");const v=A6(e);this.animation=S6(n,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=Cv(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):b6(n,r,b),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&w6()?(this.animation.timeline=e,Ir):n(this)}}const AC={anticipate:rC,backInOut:iC,circInOut:aC};function R6(t){return t in AC}function N6(t){typeof t.ease=="string"&&R6(t.ease)&&(t.ease=AC[t.ease])}const GT=10;class P6 extends C6{constructor(e){N6(e),EC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Nv({...h,autoplay:!1}),y=Ds(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-GT).value,m.sample(y).value,GT),m.stop()}}const $T=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ho.test(t)||t==="0")&&!t.startsWith("url("));function I6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function O6(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],h=$T(o,e),m=$T(u,e);return!h||!m?!1:I6(t)||(n==="spring"||SC(n))&&r}function $y(t){t.duration=0,t.type="keyframes"}const M6=new Set(["opacity","clipPath","filter","transform"]),D6=yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:h}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=e.owner.getProps();return D6()&&n&&M6.has(n)&&(n!=="transform"||!v)&&!y&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const k6=40;class V6 extends Rv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:m,name:y,motionValue:v,element:b,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bi.now();const A={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:h,name:y,motionValue:v,element:b,...x},O=b?.KeyframeResolver||Pv;this.keyframeResolver=new O(m,(V,z,j)=>this.onKeyframesResolved(V,z,A,!j),y,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:m,delay:y,isHandoff:v,onUpdate:b}=r;this.resolvedAt=Bi.now(),O6(e,u,h,m)||((Na.instantAnimations||!y)&&b?.(Cv(e,r,n)),e[0]=e[e.length-1],$y(r),r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>k6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},O=!v&&L6(A)?new P6({...A,element:A.motionValue.owner.current}):new Nv(A);O.finished.then(()=>this.notifyFinished()).catch(Ir),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const U6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z6(t){const e=U6.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function CC(t,e,n=1){const[r,o]=z6(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const h=u.trim();return WA(h)?parseFloat(h):h}return wv(o)?CC(o,e,n+1):o}function Iv(t,e){return t?.[e]??t?.default??t}const RC=new Set(["width","height","top","left","right","bottom",...cc]),B6={test:t=>t==="auto",parse:t=>t},NC=t=>e=>e.test(t),PC=[uc,it,Ls,bo,I5,P5,B6],ZT=t=>PC.find(NC(t));function j6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XA(t):!0}const F6=new Set(["brightness","contrast","saturate","opacity"]);function H6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Tv)||[];if(!r)return t;const o=n.replace(r,"");let u=F6.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const q6=/\b([a-z-]*)\(.*?\)/gu,Zy={...Ho,getAnimatableNone:t=>{const e=t.match(q6);return e?e.map(H6).join(" "):t}},KT={...uc,transform:Math.round},G6={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:yd,scaleX:yd,scaleY:yd,scaleZ:yd,skew:bo,skewX:bo,skewY:bo,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Lh,originX:LT,originY:LT,originZ:it},Ov={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it,...G6,zIndex:KT,fillOpacity:Lh,strokeOpacity:Lh,numOctaves:KT},$6={...Ov,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Zy,WebkitFilter:Zy},IC=t=>$6[t];function OC(t,e){let n=IC(t);return n!==Zy&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z6=new Set(["auto","none","0"]);function K6(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!Z6.has(u)&&kh(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=OC(n,o)}class W6 extends Pv{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),wv(v))){const b=CC(v,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!RC.has(r)||e.length!==2)return;const[o,u]=e,h=ZT(o),m=ZT(u);if(h!==m)if(HT(h)&&HT(m))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Il[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||j6(e[o]))&&r.push(o);r.length&&K6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=Il[n](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{e.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function Y6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const MC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function X6(t){return YA(t)&&"offsetHeight"in t}const WT=30,Q6=t=>!isNaN(parseFloat(t));class J6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Bi.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _v);const r=this.events[e].add(n);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WT);return QA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tc(t,e){return new J6(t,e)}const{schedule:Mv}=uC(queueMicrotask,!1),Jr={x:!1,y:!1};function DC(){return Jr.x||Jr.y}function e9(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function LC(t,e){const n=Y6(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function YT(t){return!(t.pointerType==="touch"||DC())}function t9(t,e,n={}){const[r,o,u]=LC(t,n),h=m=>{if(!YT(m))return;const{target:y}=m,v=e(y,m);if(typeof v!="function"||!y)return;const b=x=>{YT(x)&&(v(x),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,o)};return r.forEach(m=>{m.addEventListener("pointerenter",h,o)}),u}const kC=(t,e)=>e?t===e?!0:kC(t,e.parentElement):!1,Dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i9(t){return n9.has(t.tagName)||t.tabIndex!==-1}const Od=new WeakSet;function XT(t){return e=>{e.key==="Enter"&&t(e)}}function Kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const r9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XT(()=>{if(Od.has(n))return;Kg(n,"down");const o=XT(()=>{Kg(n,"up")}),u=()=>Kg(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QT(t){return Dv(t)&&!DC()}function s9(t,e,n={}){const[r,o,u]=LC(t,n),h=m=>{const y=m.currentTarget;if(!QT(m))return;Od.add(y);const v=e(y,m),b=(O,V)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",A),Od.has(y)&&Od.delete(y),QT(O)&&typeof v=="function"&&v(O,{success:V})},x=O=>{b(O,y===window||y===document||n.useGlobalTarget||kC(y,O.target))},A=O=>{b(O,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",A,o)};return r.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",h,o),X6(m)&&(m.addEventListener("focus",v=>r9(v,o)),!i9(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function VC(t){return YA(t)&&"ownerSVGElement"in t}function a9(t){return VC(t)&&t.tagName==="svg"}const vi=t=>!!(t&&t.getVelocity),o9=[...PC,In,Ho],l9=t=>o9.find(NC(t)),UC=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function u9(t=!0){const e=k.useContext(dv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=k.useId();k.useEffect(()=>{if(t)return o(u)},[t]);const h=k.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,h]:[!0]}const zC=k.createContext({strict:!1}),JT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const t in JT)nc[t]={isEnabled:e=>JT[t].some(n=>!!e[n])};function c9(t){for(const e in t)nc[e]={...nc[e],...t[e]}}const h9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h9.has(t)}let BC=t=>!lm(t);function f9(t){typeof t=="function"&&(BC=e=>e.startsWith("on")?!lm(e):t(e))}try{f9(require("@emotion/is-prop-valid").default)}catch{}function d9(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(BC(o)||n===!0&&lm(o)||!e&&!lm(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Bm=k.createContext({});function jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vh(t){return typeof t=="string"||Array.isArray(t)}const Lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kv=["initial",...Lv];function Fm(t){return jm(t.animate)||kv.some(e=>Vh(t[e]))}function jC(t){return!!(Fm(t)||t.variants)}function m9(t,e){if(Fm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vh(n)?n:void 0,animate:Vh(r)?r:void 0}}return t.inherit!==!1?e:{}}function p9(t){const{initial:e,animate:n}=m9(t,k.useContext(Bm));return k.useMemo(()=>({initial:e,animate:n}),[ex(e),ex(n)])}function ex(t){return Array.isArray(t)?t.join(" "):t}const Uh={};function g9(t){for(const e in t)Uh[e]=t[e],bv(e)&&(Uh[e].isCSSVariable=!0)}function FC(t,{layout:e,layoutId:n}){return hc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uh[t]||t==="opacity")}const y9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_9=cc.length;function v9(t,e,n){let r="",o=!0;for(let u=0;u<_9;u++){const h=cc[u],m=t[h];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(h.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const v=MC(m,Ov[h]);if(!y){o=!1;const b=y9[h]||h;r+=`${b}(${v}) `}n&&(e[h]=v)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Vv(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let h=!1,m=!1;for(const y in e){const v=e[y];if(hc.has(y)){h=!0;continue}else if(bv(y)){o[y]=v;continue}else{const b=MC(v,Ov[y]);y.startsWith("origin")?(m=!0,u[y]=b):r[y]=b}}if(e.transform||(h||n?r.transform=v9(e,t.transform,n):r.transform&&(r.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:b=0}=u;r.transformOrigin=`${y} ${v} ${b}`}}const Uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HC(t,e,n){for(const r in e)!vi(e[r])&&!FC(r,n)&&(t[r]=e[r])}function E9({transformTemplate:t},e){return k.useMemo(()=>{const n=Uv();return Vv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function b9(t,e){const n=t.style||{},r={};return HC(r,n,t),Object.assign(r,E9(t,e)),r}function w9(t,e){const n={},r=b9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const T9={offset:"stroke-dashoffset",array:"stroke-dasharray"},x9={offset:"strokeDashoffset",array:"strokeDasharray"};function S9(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?T9:x9;t[u.offset]=it.transform(-r);const h=it.transform(e),m=it.transform(n);t[u.array]=`${h} ${m}`}function qC(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...m},y,v,b){if(Vv(t,m,v),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:A}=t;x.transform&&(A.transform=x.transform,delete x.transform),(A.transform||x.transformOrigin)&&(A.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),A.transform&&(A.transformBox=b?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&S9(x,o,u,h,!1)}const GC=()=>({...Uv(),attrs:{}}),$C=t=>typeof t=="string"&&t.toLowerCase()==="svg";function A9(t,e,n,r){const o=k.useMemo(()=>{const u=GC();return qC(u,e,$C(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};HC(u,t.style,t),o.style={...u,...o.style}}return o}const C9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(t){return typeof t!="string"||t.includes("-")?!1:!!(C9.indexOf(t)>-1||/[A-Z]/u.test(t))}function R9(t,e,n,{latestValues:r},o,u=!1){const m=(zv(t)?A9:w9)(e,r,o,t),y=d9(e,typeof t=="string",u),v=t!==k.Fragment?{...y,...m,ref:n}:{},{children:b}=e,x=k.useMemo(()=>vi(b)?b.get():b,[b]);return k.createElement(t,{...v,children:x})}function tx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Bv(t,e,n,r){if(typeof e=="function"){const[o,u]=tx(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=tx(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function Md(t){return vi(t)?t.get():t}function N9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:P9(n,r,o,t),renderState:e()}}function P9(t,e,n,r){const o={},u=r(t,{});for(const A in u)o[A]=Md(u[A]);let{initial:h,animate:m}=t;const y=Fm(t),v=jC(t);e&&v&&!y&&t.inherit!==!1&&(h===void 0&&(h=e.initial),m===void 0&&(m=e.animate));let b=n?n.initial===!1:!1;b=b||h===!1;const x=b?m:h;if(x&&typeof x!="boolean"&&!jm(x)){const A=Array.isArray(x)?x:[x];for(let O=0;O<A.length;O++){const V=Bv(t,A[O]);if(V){const{transitionEnd:z,transition:j,...K}=V;for(const G in K){let X=K[G];if(Array.isArray(X)){const ve=b?X.length-1:0;X=X[ve]}X!==null&&(o[G]=X)}for(const G in z)o[G]=z[G]}}}return o}const ZC=t=>(e,n)=>{const r=k.useContext(Bm),o=k.useContext(dv),u=()=>N9(t,e,r,o);return n?u():c5(u)};function jv(t,e,n){const{style:r}=t,o={};for(const u in r)(vi(r[u])||e.style&&vi(e.style[u])||FC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const I9=ZC({scrapeMotionValuesFromProps:jv,createRenderState:Uv});function KC(t,e,n){const r=jv(t,e,n);for(const o in t)if(vi(t[o])||vi(e[o])){const u=cc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const O9=ZC({scrapeMotionValuesFromProps:KC,createRenderState:GC}),M9=Symbol.for("motionComponentSymbol");function Vu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D9(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Vu(n)&&(n.current=r))},[e])}const Fv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L9="framerAppearId",WC="data-"+Fv(L9),YC=k.createContext({});function k9(t,e,n,r,o){const{visualElement:u}=k.useContext(Bm),h=k.useContext(zC),m=k.useContext(dv),y=k.useContext(UC).reducedMotion,v=k.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const b=v.current,x=k.useContext(YC);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&V9(v.current,n,o,x);const A=k.useRef(!1);k.useInsertionEffect(()=>{b&&A.current&&b.update(n,m)});const O=n[WC],V=k.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return h5(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),V.current&&b.animationState&&b.animationState.animateChanges())}),k.useEffect(()=>{b&&(!V.current&&b.animationState&&b.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),V.current=!1),b.enteringChildren=void 0)}),b}function V9(t,e,n,r){const{layoutId:o,layout:u,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:v,layoutCrossfade:b}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XC(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||m&&Vu(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:y,layoutRoot:v})}function XC(t){if(t)return t.options.allowProjection!==!1?t.projection:XC(t.parent)}function Wg(t,{forwardMotionProps:e=!1}={},n,r){n&&c9(n);const o=zv(t)?O9:I9;function u(m,y){let v;const b={...k.useContext(UC),...m,layoutId:U9(m)},{isStatic:x}=b,A=p9(m),O=o(m,x);if(!x&&fv){z9();const V=B9(b);v=V.MeasureLayout,A.visualElement=k9(t,O,b,r,V.ProjectionNode)}return Dy.jsxs(Bm.Provider,{value:A,children:[v&&A.visualElement?Dy.jsx(v,{visualElement:A.visualElement,...b}):null,R9(t,m,D9(O,A.visualElement,y),O,x,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=k.forwardRef(u);return h[M9]=t,h}function U9({layoutId:t}){const e=k.useContext(KA).id;return e&&t!==void 0?e+"-"+t:t}function z9(t,e){k.useContext(zC).strict}function B9(t){const{drag:e,layout:n}=nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function j9(t,e){if(typeof Proxy>"u")return Wg;const n=new Map,r=(u,h)=>Wg(u,h,t,e),o=(u,h)=>r(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?r:(n.has(h)||n.set(h,Wg(h,void 0,t,e)),n.get(h))})}function QC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function F9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!Yg(t)||!Yg(e)||!Yg(n)}function Sl(t){return Ky(t)||JC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JC(t){return nx(t.x)||nx(t.y)}function nx(t){return t&&t!=="0%"}function um(t,e,n){const r=t-n,o=e*r;return n+o}function ix(t,e,n,r,o){return o!==void 0&&(t=um(t,o,r)),um(t,n,r)+e}function Wy(t,e=0,n=1,r,o){t.min=ix(t.min,e,n,r,o),t.max=ix(t.max,e,n,r,o)}function eR(t,{x:e,y:n}){Wy(t.x,e.translate,e.scale,e.originPoint),Wy(t.y,n.translate,n.scale,n.originPoint)}const rx=.999999999999,sx=1.0000000000001;function q9(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,h;for(let m=0;m<o;m++){u=n[m],h=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zu(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,eR(t,h)),r&&Sl(u.latestValues)&&zu(t,u.latestValues))}e.x<sx&&e.x>rx&&(e.x=1),e.y<sx&&e.y>rx&&(e.y=1)}function Uu(t,e){t.min=t.min+e,t.max=t.max+e}function ax(t,e,n,r,o=.5){const u=fn(t.min,t.max,o);Wy(t,e,n,u,r)}function zu(t,e){ax(t.x,e.x,e.scaleX,e.scale,e.originX),ax(t.y,e.y,e.scaleY,e.scale,e.originY)}function tR(t,e){return QC(H9(t.getBoundingClientRect(),e))}function G9(t,e,n){const r=tR(t,n),{scroll:o}=e;return o&&(Uu(r.x,o.offset.x),Uu(r.y,o.offset.y)),r}const ox=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bu=()=>({x:ox(),y:ox()}),lx=()=>({min:0,max:0}),Tn=()=>({x:lx(),y:lx()}),Yy={current:null},nR={current:!1};function $9(){if(nR.current=!0,!!fv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=t.matches;t.addEventListener("change",e),e()}else Yy.current=!1}const Z9=new WeakMap;function K9(t,e,n){for(const r in e){const o=e[r],u=n[r];if(vi(o))t.addValue(r,o);else if(vi(u))t.addValue(r,tc(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const h=t.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=t.getStaticValue(r);t.addValue(r,tc(h!==void 0?h:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ux=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Bi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ln.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Fm(n),this.isVariantNode=jC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in x){const O=x[A];y[A]!==void 0&&vi(O)&&O.set(y[A])}}mount(e){this.current=e,Z9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nR.current||$9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fo(this.notifyUpdate),Fo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hc.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ln.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nc){const n=nc[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ux.length;r++){const o=ux[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=e[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=K9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(WA(r)||XA(r))?r=parseFloat(r):!l9(r)&&Ho.test(n)&&(r=OC(e,n)),this.setBaseTarget(e,vi(r)?r.get():r)),vi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Bv(this.props,n,this.presenceContext?.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!vi(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _v),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Mv.render(this.render)}}class iR extends W9{constructor(){super(...arguments),this.KeyframeResolver=W6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rR(t,{style:e,vars:n},r,o){const u=t.style;let h;for(h in e)u[h]=e[h];o?.applyProjectionStyles(u,r);for(h in n)u.setProperty(h,n[h])}function Y9(t){return window.getComputedStyle(t)}class X9 extends iR{constructor(){super(...arguments),this.type="html",this.renderInstance=rR}readValueFromInstance(e,n){if(hc.has(n))return this.projection?.isProjecting?jy(n):m6(e,n);{const r=Y9(e),o=(bv(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tR(e,n)}build(e,n,r){Vv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return jv(e,n,r)}}const sR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q9(t,e,n,r){rR(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(sR.has(o)?o:Fv(o),e.attrs[o])}class J9 extends iR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hc.has(n)){const r=IC(n);return r&&r.default||0}return n=sR.has(n)?n:Fv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KC(e,n,r)}build(e,n,r){qC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){Q9(e,n,r,o)}mount(e){this.isSVGTag=$C(e.tagName),super.mount(e)}}const eU=(t,e)=>zv(t)?new J9(e):new X9(e,{allowProjection:t!==k.Fragment});function $u(t,e,n){const r=t.getProps();return Bv(r,e,n!==void 0?n:r.custom,t)}const Xy=t=>Array.isArray(t);function tU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tc(n))}function nU(t){return Xy(t)?t[t.length-1]||0:t}function iU(t,e){const n=$u(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const h in u){const m=nU(u[h]);tU(t,h,m)}}function rU(t){return!!(vi(t)&&t.add)}function Qy(t,e){const n=t.getValue("willChange");if(rU(n))return n.add(e);if(!n&&Na.WillChange){const r=new Na.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aR(t){return t.props[WC]}const sU=t=>t!==null;function aU(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(sU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const oU={type:"spring",stiffness:500,damping:25,restSpeed:10},lU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uU={type:"keyframes",duration:.8},cU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hU=(t,{keyframes:e})=>e.length>2?uU:hc.has(t)?t.startsWith("scale")?lU(e[1]):oU:cU;function fU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:m,from:y,elapsed:v,...b}){return!!Object.keys(b).length}const Hv=(t,e,n,r={},o,u)=>h=>{const m=Iv(r,t)||{},y=m.delay||r.delay||0;let{elapsed:v=0}=r;v=v-Ds(y);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-v,onUpdate:A=>{e.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:u?void 0:o};fU(m)||Object.assign(b,hU(t,b)),b.duration&&(b.duration=Ds(b.duration)),b.repeatDelay&&(b.repeatDelay=Ds(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let x=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&($y(b),b.delay===0&&(x=!0)),(Na.instantAnimations||Na.skipAnimations)&&(x=!0,$y(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,x&&!u&&e.get()!==void 0){const A=aU(b.keyframes,m);if(A!==void 0){ln.update(()=>{b.onUpdate(A),b.onComplete()});return}}return m.isSync?new Nv(b):new V6(b)};function dU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oR(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...m}=e;r&&(u=r);const y=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const b in m){const x=t.getValue(b,t.latestValues[b]??null),A=m[b];if(A===void 0||v&&dU(v,b))continue;const O={delay:n,...Iv(u||{},b)},V=x.get();if(V!==void 0&&!x.isAnimating&&!Array.isArray(A)&&A===V&&!O.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const K=aR(t);if(K){const G=window.MotionHandoffAnimation(K,b,ln);G!==null&&(O.startTime=G,z=!0)}}Qy(t,b),x.start(Hv(b,x,A,t.shouldReduceMotion&&RC.has(b)?{type:!1}:O,t,z));const j=x.animation;j&&y.push(j)}return h&&Promise.all(y).then(()=>{ln.update(()=>{h&&iU(t,h)})}),y}function lR(t,e,n,r=0,o=1){const u=Array.from(t).sort((v,b)=>v.sortNodePosition(b)).indexOf(e),h=t.size,m=(h-1)*r;return typeof n=="function"?n(u,h):o===1?u*r:m-u*r}function Jy(t,e,n={}){const r=$u(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(oR(t,r,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=o;return mU(t,e,y,v,b,x,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,v]=m==="beforeChildren"?[u,h]:[h,u];return y().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function mU(t,e,n=0,r=0,o=0,u=1,h){const m=[];for(const y of t.variantChildren)y.notify("AnimationStart",e),m.push(Jy(y,e,{...h,delay:n+(typeof r=="function"?0:r)+lR(t.variantChildren,y,r,o,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function pU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Jy(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=Jy(t,e,n);else{const o=typeof e=="function"?$u(t,e,n.custom):e;r=Promise.all(oR(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gU=kv.length;function cR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gU;n++){const r=kv[n],o=t.props[r];(Vh(o)||o===!1)&&(e[r]=o)}return e}const yU=[...Lv].reverse(),_U=Lv.length;function vU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pU(t,n,r)))}function EU(t){let e=vU(t),n=cx(),r=!0;const o=y=>(v,b)=>{const x=$u(t,b,y==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:A,transitionEnd:O,...V}=x;v={...v,...V,...O}}return v};function u(y){e=y(t)}function h(y){const{props:v}=t,b=cR(t.parent)||{},x=[],A=new Set;let O={},V=1/0;for(let j=0;j<_U;j++){const K=yU[j],G=n[K],X=v[K]!==void 0?v[K]:b[K],ve=Vh(X),ae=K===y?G.isActive:null;ae===!1&&(V=j);let de=X===b[K]&&X!==v[K]&&ve;if(de&&r&&t.manuallyAnimateOnMount&&(de=!1),G.protectedKeys={...O},!G.isActive&&ae===null||!X&&!G.prevProp||jm(X)||typeof X=="boolean")continue;const U=bU(G.prevProp,X);let N=U||K===y&&G.isActive&&!de&&ve||j>V&&ve,M=!1;const F=Array.isArray(X)?X:[X];let H=F.reduce(o(K),{});ae===!1&&(H={});const{prevResolvedValues:Y={}}=G,q={...Y,...H},Ze=ge=>{N=!0,A.has(ge)&&(M=!0,A.delete(ge)),G.needsAnimating[ge]=!0;const pe=t.getValue(ge);pe&&(pe.liveStyle=!1)};for(const ge in q){const pe=H[ge],$e=Y[ge];if(O.hasOwnProperty(ge))continue;let B=!1;Xy(pe)&&Xy($e)?B=!uR(pe,$e):B=pe!==$e,B?pe!=null?Ze(ge):A.add(ge):pe!==void 0&&A.has(ge)?Ze(ge):G.protectedKeys[ge]=!0}G.prevProp=X,G.prevResolvedValues=H,G.isActive&&(O={...O,...H}),r&&t.blockInitialAnimation&&(N=!1);const Ue=de&&U;N&&(!Ue||M)&&x.push(...F.map(ge=>{const pe={type:K};if(typeof ge=="string"&&r&&!Ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:$e}=t,B=$u($e,ge);if($e.enteringChildren&&B){const{delayChildren:W}=B.transition||{};pe.delay=lR($e.enteringChildren,t,W)}}return{animation:ge,options:pe}}))}if(A.size){const j={};if(typeof v.initial!="boolean"){const K=$u(t,Array.isArray(v.initial)?v.initial[0]:v.initial);K&&K.transition&&(j.transition=K.transition)}A.forEach(K=>{const G=t.getBaseTarget(K),X=t.getValue(K);X&&(X.liveStyle=!0),j[K]=G??null}),x.push({animation:j})}let z=!!x.length;return r&&(v.initial===!1||v.initial===v.animate)&&!t.manuallyAnimateOnMount&&(z=!1),r=!1,z?e(x):Promise.resolve()}function m(y,v){if(n[y].isActive===v)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(y,v)),n[y].isActive=v;const b=h(y);for(const x in n)n[x].protectedKeys={};return b}return{animateChanges:h,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=cx(),r=!0}}}function bU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uR(e,t):!1}function Tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cx(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class Ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wU extends Ko{constructor(e){super(e),e.animationState||(e.animationState=EU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let TU=0;class xU extends Ko{constructor(){super(...arguments),this.id=TU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SU={animation:{Feature:wU},exit:{Feature:xU}};function zh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sf(t){return{point:{x:t.pageX,y:t.pageY}}}const AU=t=>e=>Dv(e)&&t(e,sf(e));function vh(t,e,n,r){return zh(t,e,AU(n),r)}const hR=1e-4,CU=1-hR,RU=1+hR,fR=.01,NU=0-fR,PU=0+fR;function Ii(t){return t.max-t.min}function IU(t,e,n){return Math.abs(t-e)<=n}function hx(t,e,n,r=.5){t.origin=r,t.originPoint=fn(e.min,e.max,t.origin),t.scale=Ii(n)/Ii(e),t.translate=fn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CU&&t.scale<=RU||isNaN(t.scale))&&(t.scale=1),(t.translate>=NU&&t.translate<=PU||isNaN(t.translate))&&(t.translate=0)}function Eh(t,e,n,r){hx(t.x,e.x,n.x,r?r.originX:void 0),hx(t.y,e.y,n.y,r?r.originY:void 0)}function fx(t,e,n){t.min=n.min+e.min,t.max=t.min+Ii(e)}function OU(t,e,n){fx(t.x,e.x,n.x),fx(t.y,e.y,n.y)}function dx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ii(e)}function bh(t,e,n){dx(t.x,e.x,n.x),dx(t.y,e.y,n.y)}function Cr(t){return[t("x"),t("y")]}const dR=({current:t})=>t?t.ownerDocument.defaultView:null,mx=(t,e)=>Math.abs(t-e);function MU(t,e){const n=mx(t.x,e.x),r=mx(t.y,e.y);return Math.sqrt(n**2+r**2)}class mR{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qg(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,V=MU(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!V)return;const{point:z}=A,{timestamp:j}=ii;this.history.push({...z,timestamp:j});const{onStart:K,onMove:G}=this.handlers;O||(K&&K(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,A)},this.handlePointerMove=(A,O)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Xg(O,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(A,O)=>{this.end();const{onEnd:V,onSessionEnd:z,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=Qg(A.type==="pointercancel"?this.lastMoveEventInfo:Xg(O,this.transformPagePoint),this.history);this.startEvent&&V&&V(A,K),z&&z(A,K)},!Dv(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=h,this.contextWindow=o||window;const m=sf(e),y=Xg(m,this.transformPagePoint),{point:v}=y,{timestamp:b}=ii;this.history=[{...v,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Qg(y,this.history)),this.removeListeners=tf(vh(this.contextWindow,"pointermove",this.handlePointerMove),vh(this.contextWindow,"pointerup",this.handlePointerUp),vh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fo(this.updatePoint)}}function Xg(t,e){return e?{point:e(t.point)}:t}function px(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qg({point:t},e){return{point:t,delta:px(t,pR(e)),offset:px(t,DU(e)),velocity:LU(e,.1)}}function DU(t){return t[0]}function pR(t){return t[t.length-1]}function LU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=pR(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ds(e)));)n--;if(!r)return{x:0,y:0};const u=Pr(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function kU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fn(n,t,r.max):Math.min(t,n)),t}function gx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VU(t,{top:e,left:n,bottom:r,right:o}){return{x:gx(t.x,n,o),y:gx(t.y,e,r)}}function yx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UU(t,e){return{x:yx(t.x,e.x),y:yx(t.y,e.y)}}function zU(t,e){let n=.5;const r=Ii(t),o=Ii(e);return o>r?n=Dh(e.min,e.max-r,t.min):r>o&&(n=Dh(t.min,t.max-o,e.min)),Ra(0,1,n)}function BU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const e_=.35;function jU(t=e_){return t===!1?t=0:t===!0&&(t=e_),{x:_x(t,"left","right"),y:_x(t,"top","bottom")}}function _x(t,e,n){return{min:vx(t,e),max:vx(t,n)}}function vx(t,e){return typeof t=="number"?t:t[e]||0}const FU=new WeakMap;class HU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sf(x).point)},h=(x,A)=>{const{drag:O,dragPropagation:V,onDragStart:z}=this.getProps();if(O&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e9(O),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(K=>{let G=this.getAxisMotionValue(K).get()||0;if(Ls.test(G)){const{projection:X}=this.visualElement;if(X&&X.layout){const ve=X.layout.layoutBox[K];ve&&(G=Ii(ve)*(parseFloat(G)/100))}}this.originPoint[K]=G}),z&&ln.postRender(()=>z(x,A)),Qy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},m=(x,A)=>{this.latestPointerEvent=x,this.latestPanInfo=A;const{dragPropagation:O,dragDirectionLock:V,onDirectionLock:z,onDrag:j}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:K}=A;if(V&&this.currentDirection===null){this.currentDirection=qU(K),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",A.point,K),this.updateAxis("y",A.point,K),this.visualElement.render(),j&&j(x,A)},y=(x,A)=>{this.latestPointerEvent=x,this.latestPanInfo=A,this.stop(x,A),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Cr(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new mR(e,{onSessionStart:u,onStart:h,onMove:m,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:dR(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&ln.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!_d(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(h=kU(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=VU(r.layoutBox,e):this.constraints=!1,this.elastic=jU(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=BU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vu(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=G9(r,o.root,this.visualElement.getTransformPagePoint());let h=UU(o.layout.layoutBox,u);if(n){const m=n(F9(h));this.hasMutatedConstraints=!!m,m&&(h=QC(m))}return h}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},v=Cr(b=>{if(!_d(b,n,this.currentDirection))return;let x=y&&y[b]||{};h&&(x={min:0,max:0});const A=o?200:1e6,O=o?40:1e7,V={type:"inertia",velocity:r?e[b]:0,bounceStiffness:A,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(b,V)});return Promise.all(v).then(m)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Qy(this.visualElement,e),r.start(Hv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cr(n=>{const{drag:r}=this.getProps();if(!_d(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:h,max:m}=o.layout.layoutBox[n];u.set(e[n]-fn(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vu(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Cr(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const y=m.get();o[h]=zU({min:y,max:y},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cr(h=>{if(!_d(h,e,null))return;const m=this.getAxisMotionValue(h),{min:y,max:v}=this.constraints[h];m.set(fn(y,v,o[h]))})}addListeners(){if(!this.visualElement.current)return;FU.set(this.visualElement,this);const e=this.visualElement.current,n=vh(e,"pointerdown",y=>{const{drag:v,dragListener:b=!0}=this.getProps();v&&b&&this.start(y)}),r=()=>{const{dragConstraints:y}=this.getProps();Vu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ln.read(r);const h=zh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(Cr(b=>{const x=this.getAxisMotionValue(b);x&&(this.originPoint[b]+=y[b].translate,x.set(x.get()+y[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=e_,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:m}}}function _d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class GU extends Ko{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new HU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ex=t=>(e,n)=>{t&&ln.postRender(()=>t(e,n))};class $U extends Ko{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new mR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ex(e),onStart:Ex(n),onMove:r,onEnd:(u,h)=>{delete this.session,o&&ln.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=vh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ih={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(it.test(t))t=parseFloat(t);else return t;const n=bx(t,e.target.x),r=bx(t,e.target.y);return`${n}% ${r}%`}},ZU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Ho.parse(t);if(o.length>5)return r;const u=Ho.createTransformer(t),h=typeof o[0]!="number"?1:0,m=n.x.scale*e.x,y=n.y.scale*e.y;o[0+h]/=m,o[1+h]/=y;const v=fn(m,y,.5);return typeof o[2+h]=="number"&&(o[2+h]/=v),typeof o[3+h]=="number"&&(o[3+h]/=v),u(o)}};let Jg=!1;class KU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;g9(WU),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),Jg&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,Jg=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||ln.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;Jg=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gR(t){const[e,n]=u9(),r=k.useContext(KA);return Dy.jsx(KU,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(YC),isPresent:e,safeToRemove:n})}const WU={borderRadius:{...ih,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ih,borderTopRightRadius:ih,borderBottomLeftRadius:ih,borderBottomRightRadius:ih,boxShadow:ZU};function YU(t,e,n){const r=vi(t)?t:tc(t);return r.start(Hv("",r,e,n)),r.animation}const XU=(t,e)=>t.depth-e.depth;class QU{constructor(){this.children=[],this.isDirty=!1}add(e){mv(this.children,e),this.isDirty=!0}remove(e){pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XU),this.isDirty=!1,this.children.forEach(e)}}function JU(t,e){const n=Bi.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(Fo(r),t(u-e))};return ln.setup(r,!0),()=>Fo(r)}const yR=["TopLeft","TopRight","BottomLeft","BottomRight"],ez=yR.length,wx=t=>typeof t=="string"?parseFloat(t):t,Tx=t=>typeof t=="number"||it.test(t);function tz(t,e,n,r,o,u){o?(t.opacity=fn(0,n.opacity??1,nz(r)),t.opacityExit=fn(e.opacity??1,0,iz(r))):u&&(t.opacity=fn(e.opacity??1,n.opacity??1,r));for(let h=0;h<ez;h++){const m=`border${yR[h]}Radius`;let y=xx(e,m),v=xx(n,m);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||Tx(y)===Tx(v)?(t[m]=Math.max(fn(wx(y),wx(v),r),0),(Ls.test(v)||Ls.test(y))&&(t[m]+="%")):t[m]=v}(e.rotate||n.rotate)&&(t.rotate=fn(e.rotate||0,n.rotate||0,r))}function xx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nz=_R(0,.5,sC),iz=_R(.5,.95,Ir);function _R(t,e,n){return r=>r<t?0:r>e?1:n(Dh(t,e,r))}function Sx(t,e){t.min=e.min,t.max=e.max}function Ar(t,e){Sx(t.x,e.x),Sx(t.y,e.y)}function Ax(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cx(t,e,n,r,o){return t-=e,t=um(t,1/n,r),o!==void 0&&(t=um(t,1/o,r)),t}function rz(t,e=0,n=1,r=.5,o,u=t,h=t){if(Ls.test(e)&&(e=parseFloat(e),e=fn(h.min,h.max,e/100)-h.min),typeof e!="number")return;let m=fn(u.min,u.max,r);t===u&&(m-=e),t.min=Cx(t.min,e,n,m,o),t.max=Cx(t.max,e,n,m,o)}function Rx(t,e,[n,r,o],u,h){rz(t,e[n],e[r],e[o],e.scale,u,h)}const sz=["x","scaleX","originX"],az=["y","scaleY","originY"];function Nx(t,e,n,r){Rx(t.x,e,sz,n?n.x:void 0,r?r.x:void 0),Rx(t.y,e,az,n?n.y:void 0,r?r.y:void 0)}function Px(t){return t.translate===0&&t.scale===1}function vR(t){return Px(t.x)&&Px(t.y)}function Ix(t,e){return t.min===e.min&&t.max===e.max}function oz(t,e){return Ix(t.x,e.x)&&Ix(t.y,e.y)}function Ox(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ER(t,e){return Ox(t.x,e.x)&&Ox(t.y,e.y)}function Mx(t){return Ii(t.x)/Ii(t.y)}function Dx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lz{constructor(){this.members=[]}add(e){mv(this.members,e),e.scheduleRender()}remove(e){if(pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uz(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,h=n?.z||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:v,rotate:b,rotateX:x,rotateY:A,skewX:O,skewY:V}=n;v&&(r=`perspective(${v}px) ${r}`),b&&(r+=`rotate(${b}deg) `),x&&(r+=`rotateX(${x}deg) `),A&&(r+=`rotateY(${A}deg) `),O&&(r+=`skewX(${O}deg) `),V&&(r+=`skewY(${V}deg) `)}const m=t.x.scale*e.x,y=t.y.scale*e.y;return(m!==1||y!==1)&&(r+=`scale(${m}, ${y})`),r||"none"}const ey=["","X","Y","Z"],cz=1e3;let hz=0;function ty(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ln,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bR(r)}function wR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},m=e?.()){this.id=hz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mz),this.nodes.forEach(_z),this.nodes.forEach(vz),this.nodes.forEach(pz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new QU)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new _v),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const y=this.eventHandlers.get(h);y&&y.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=VC(h)&&!a9(h),this.instance=h;const{layoutId:m,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),t){let b,x=0;const A=()=>this.root.updateBlockedByResize=!1;ln.read(()=>{x=window.innerWidth}),t(h,()=>{const O=window.innerWidth;O!==x&&(x=O,this.root.updateBlockedByResize=!0,b&&b(),b=JU(A,250),Dd.hasAnimatedSinceResize&&(Dd.hasAnimatedSinceResize=!1,this.nodes.forEach(Vx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x,hasRelativeLayoutChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||v.getDefaultTransition()||xz,{onLayoutAnimationStart:z,onLayoutAnimationComplete:j}=v.getProps(),K=!this.targetLayout||!ER(this.targetLayout,O),G=!x&&A;if(this.options.layoutRoot||this.resumeFrom||G||x&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...Iv(V,"layout"),onPlay:z,onComplete:j};(v.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(b,G)}else x||Vx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ez),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const x=this.path[b];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yz),this.nodes.forEach(fz),this.nodes.forEach(dz)):this.nodes.forEach(kx),this.clearAllSnapshots();const m=Bi.now();ii.delta=Ra(0,1e3/60,m-ii.timestamp),ii.timestamp=m,ii.isProcessing=!0,Hg.update.process(ii),Hg.preRender.process(ii),Hg.render.process(ii),ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gz),this.sharedNodes.forEach(bz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ii(this.snapshot.measuredBox.x)&&!Ii(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const y=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!vR(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;h&&this.instance&&(m||Sl(this.latestValues)||b)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return h&&(y=this.removeTransform(y)),Sz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return Tn();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Az))){const{scroll:v}=this.root;v&&(Uu(m.x,v.offset.x),Uu(m.y,v.offset.y))}return m}removeElementScroll(h){const m=Tn();if(Ar(m,h),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&Ar(m,h),Uu(m.x,b.offset.x),Uu(m.y,b.offset.y))}return m}applyTransform(h,m=!1){const y=Tn();Ar(y,h);for(let v=0;v<this.path.length;v++){const b=this.path[v];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&zu(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Sl(b.latestValues)&&zu(y,b.latestValues)}return Sl(this.latestValues)&&zu(y,this.latestValues),y}removeTransform(h){const m=Tn();Ar(m,h);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!Sl(v.latestValues))continue;Ky(v.latestValues)&&v.updateSnapshot();const b=Tn(),x=v.measurePageBox();Ar(b,x),Nx(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return Sl(this.latestValues)&&Nx(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:x}=this.options;if(!(!this.layout||!(b||x))){if(this.resolvedRelativeTargetAt=ii.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),bh(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),eR(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),bh(this.relativeTargetOrigin,this.target,A.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||JC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ii.timestamp&&(y=!1),y)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;Ar(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,A=this.treeScale.y;q9(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Tn());const{target:O}=h;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ax(this.prevProjectionDelta.x,this.projectionDelta.x),Ax(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==A||!Dx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bu(),this.projectionDelta=Bu(),this.projectionDeltaWithTransform=Bu()}setAnimationOrigin(h,m=!1){const y=this.snapshot,v=y?y.latestValues:{},b={...this.latestValues},x=Bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=Tn(),O=y?y.source:void 0,V=this.layout?this.layout.source:void 0,z=O!==V,j=this.getStack(),K=!j||j.members.length<=1,G=!!(z&&!K&&this.options.crossfade===!0&&!this.path.some(Tz));this.animationProgress=0;let X;this.mixTargetDelta=ve=>{const ae=ve/1e3;Ux(x.x,h.x,ae),Ux(x.y,h.y,ae),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bh(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wz(this.relativeTarget,this.relativeTargetOrigin,A,ae),X&&oz(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=Tn()),Ar(X,this.relativeTarget)),z&&(this.animationValues=b,tz(b,v,this.latestValues,ae,G,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{Dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tc(0)),this.currentAnimation=YU(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:y,layout:v,latestValues:b}=h;if(!(!m||!y||!v)){if(this!==h&&this.layout&&v&&TR(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||Tn();const x=Ii(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+x;const A=Ii(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+A}Ar(m,y),zu(m,b),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new lz),this.sharedNodes.get(h).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const v={};y.z&&ty("z",h,v,this.animationValues);for(let b=0;b<ey.length;b++)ty(`rotate${ey[b]}`,h,v,this.animationValues),ty(`skew${ey[b]}`,h,v,this.animationValues);h.render();for(const b in v)h.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Md(m?.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Md(m?.pointerEvents)||""),this.hasProjected&&!Sl(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let x=uz(this.projectionDeltaWithTransform,this.treeScale,b);y&&(x=y(b,x)),h.transform=x;const{x:A,y:O}=this.projectionDelta;h.transformOrigin=`${A.origin*100}% ${O.origin*100}% 0`,v.animationValues?h.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const V in Uh){if(b[V]===void 0)continue;const{correct:z,applyTo:j,isCSSVariable:K}=Uh[V],G=x==="none"?b[V]:z(b[V],v);if(j){const X=j.length;for(let ve=0;ve<X;ve++)h[j[ve]]=G}else K?this.options.visualElement.renderState.vars[V]=G:h[V]=G}this.options.layoutId&&(h.pointerEvents=v===this?Md(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(Lx),this.root.sharedNodes.clear()}}}function fz(t){t.updateLayout()}function dz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?Cr(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],A=Ii(x);x.min=n[b].min,x.max=x.min+A}):TR(o,e.layoutBox,n)&&Cr(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],A=Ii(n[b]);x.max=x.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+A)});const h=Bu();Eh(h,n,e.layoutBox);const m=Bu();u?Eh(m,t.applyTransform(r,!0),e.measuredBox):Eh(m,n,e.layoutBox);const y=!vR(h);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:A}=b;if(x&&A){const O=Tn();bh(O,e.layoutBox,x.layoutBox);const V=Tn();bh(V,n,A.layoutBox),ER(O,V)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=O,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function mz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gz(t){t.clearSnapshot()}function Lx(t){t.clearMeasurements()}function kx(t){t.isLayoutDirty=!1}function yz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _z(t){t.resolveTargetDelta()}function vz(t){t.calcProjection()}function Ez(t){t.resetSkewAndRotation()}function bz(t){t.removeLeadSnapshot()}function Ux(t,e,n){t.translate=fn(e.translate,0,n),t.scale=fn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zx(t,e,n,r){t.min=fn(e.min,n.min,r),t.max=fn(e.max,n.max,r)}function wz(t,e,n,r){zx(t.x,e.x,n.x,r),zx(t.y,e.y,n.y,r)}function Tz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xz={duration:.45,ease:[.4,0,.1,1]},Bx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jx=Bx("applewebkit/")&&!Bx("chrome/")?Math.round:Ir;function Fx(t){t.min=jx(t.min),t.max=jx(t.max)}function Sz(t){Fx(t.x),Fx(t.y)}function TR(t,e,n){return t==="position"||t==="preserve-aspect"&&!IU(Mx(e),Mx(n),.2)}function Az(t){return t!==t.root&&t.scroll?.wasRoot}const Cz=wR({attachResizeListener:(t,e)=>zh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ny={current:void 0},xR=wR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ny.current){const t=new Cz({});t.mount(window),t.setOptions({layoutScroll:!0}),ny.current=t}return ny.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rz={pan:{Feature:$U},drag:{Feature:GU,ProjectionNode:xR,MeasureLayout:gR}};function Hx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ln.postRender(()=>u(e,sf(e)))}class Nz extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=t9(e,(n,r)=>(Hx(this.node,r,"Start"),o=>Hx(this.node,o,"End"))))}unmount(){}}class Pz extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tf(zh(this.node.current,"focus",()=>this.onFocus()),zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ln.postRender(()=>u(e,sf(e)))}class Iz extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=s9(e,(n,r)=>(qx(this.node,r,"Start"),(o,{success:u})=>qx(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t_=new WeakMap,iy=new WeakMap,Oz=t=>{const e=t_.get(t.target);e&&e(t)},Mz=t=>{t.forEach(Oz)};function Dz({root:t,...e}){const n=t||document;iy.has(n)||iy.set(n,{});const r=iy.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Mz,{root:t,...e})),r[o]}function Lz(t,e,n){const r=Dz(e);return t_.set(t,n),r.observe(t),()=>{t_.delete(t),r.unobserve(t)}}const kz={some:0,all:1};class Vz extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,h={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:kz[o]},m=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:x}=this.node.getProps(),A=v?b:x;A&&A(y)};return Lz(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Uz(e,n))&&this.startObserver()}unmount(){}}function Uz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zz={inView:{Feature:Vz},tap:{Feature:Iz},focus:{Feature:Pz},hover:{Feature:Nz}},Bz={layout:{ProjectionNode:xR,MeasureLayout:gR}},jz={...SU,...zz,...Rz,...Bz},Gx=j9(jz,eU),Fz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[o,u]=k.useState(null),[h,m]=k.useState(null),[y,v]=k.useState(null),[b,x]=k.useState(!1),[A,O]=k.useState(!1),[V,z]=k.useState(null),[j,K]=k.useState(null),[G,X]=k.useState({}),[ve,ae]=k.useState(!1),de=async W=>{const me=G[W];if(!me||!me.trim()){v("Message cannot be empty");return}ae(!0);try{await Oy(wa(rs,"orderMessages"),{orderId:W,message:me.trim(),timestamp:_T(),sender:"customer"}),X(oe=>{const Ne={...oe};return delete Ne[W],Ne}),m("Message sent successfully!")}catch(oe){console.error("Error sending message:",oe),v("Failed to send message.")}finally{ae(!1)}},U=W=>new Date(W).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"}),N=(W,me)=>{X(oe=>({...oe,[W]:me}))},M=k.useRef({}),F=k.useCallback(()=>{try{const W=localStorage.getItem("orders");if(!W)return[];const me=JSON.parse(W);return Array.isArray(me)?me:[]}catch(W){return console.error("Error reading orders from localStorage:",W),[]}},[]),H=k.useCallback(W=>{try{localStorage.setItem("orders",JSON.stringify(Array.isArray(W)?W:[]))}catch(me){console.error("Error saving orders to localStorage:",me)}},[]),Y=k.useCallback(()=>{try{const W=localStorage.getItem("cancellationRequests");if(!W)return[];const me=JSON.parse(W);return Array.isArray(me)?me:[]}catch(W){return console.error("Error reading cancellation requests from localStorage:",W),[]}},[]),q=k.useCallback(W=>{try{localStorage.setItem("cancellationRequests",JSON.stringify(Array.isArray(W)?W:[]))}catch(me){console.error("Error saving cancellation requests to localStorage:",me)}},[]),Ze=k.useCallback(()=>{r(!0),u(null);try{const W=F();e(W)}catch(W){console.error("Error fetching local orders:",W),u("Failed to load your orders.")}finally{r(!1)}},[F]);k.useEffect(()=>{Ze()},[Ze]),k.useEffect(()=>{const W=t.map(oe=>oe.id).filter(Boolean),me=Object.keys(M.current);W.forEach(oe=>{if(M.current[oe])return;const Ne=_i(wa(rs,"orders"),is("id","==",oe)),Pe=T4(Ne,Te=>{if(!Te.empty){const ht=Te.docs[0].data();e(Qe=>Qe.map(qt=>qt.id===oe?{...qt,status:ht.status??qt.status,timestamp:ht.timestamp??qt.timestamp}:qt));try{const qt=F().map(Gt=>Gt.id===oe?{...Gt,status:ht.status??Gt.status,timestamp:ht.timestamp??Gt.timestamp}:Gt);H(qt)}catch(Qe){console.error("Failed to persist updated order status to localStorage:",Qe)}}},Te=>{console.error(`Firestore listener error for order ${oe}:`,Te)});M.current[oe]=Pe}),me.forEach(oe=>{if(!W.includes(oe)){try{M.current[oe]?.()}catch{}delete M.current[oe]}})},[t,F,H]),k.useEffect(()=>()=>{Object.values(M.current).forEach(W=>{try{W?.()}catch{}}),M.current={}},[]);const Ue=k.useCallback(W=>{try{if(M.current[W]){try{M.current[W]()}catch{}delete M.current[W]}const oe=F().filter(Ne=>Ne.id!==W);H(oe),e(oe),m("Order removed successfully!"),O(!1),K(null)}catch(me){console.error("Error removing order:",me),v("Failed to remove order.")}},[F,H]),ie=W=>{K(W),O(!0)},ge=async W=>{if(!W){console.error("❌ Order ID is missing, cannot send cancellation"),v("Order ID not found. Please try again.");return}try{await Oy(wa(rs,"cancellations"),{orderId:W,message:`User requested to cancel order #${W}`,timestamp:_T()});const me=Y(),oe={orderId:W,message:`User requested to cancel order #${W}`,timestamp:new Date().toISOString()};q([...me,oe]);const Pe=F().map(Te=>Te.id===W?{...Te,cancellationRequested:!0}:Te);H(Pe),e(Pe),m("✅ Your cancel request has been sent to admin."),x(!1),z(null)}catch(me){console.error("Error sending cancel request:",me),v("❌ Failed to send cancel request.")}},pe=W=>{z(W),x(!0)},$e=W=>(W||[]).reduce((me,oe)=>me+(Number(oe.price)||0)*(Number(oe.qty)||0),0),B=W=>{switch(W){case"Pending":return{bgColor:"bg-yellow-100",textColor:"text-yellow-800",icon:_.createElement(My,{className:"w-4 h-4"})};case"In Transit":case"Shipped":return{bgColor:"bg-blue-100",textColor:"text-blue-800",icon:_.createElement(JV,{className:"w-4 h-4"})};case"Delivered":return{bgColor:"bg-green-100",textColor:"text-green-800",icon:_.createElement(rm,{className:"w-4 h-4"})};case"Cancelled":return{bgColor:"bg-red-100",textColor:"text-red-800",icon:_.createElement(Ro,{className:"w-4 h-4"})};default:return{bgColor:"bg-gray-100",textColor:"text-gray-800",icon:_.createElement($V,{className:"w-4 h-4"})}}};return k.useEffect(()=>{if(h||y){const W=setTimeout(()=>{m(null),v(null)},3e3);return()=>clearTimeout(W)}},[h,y]),n?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex justify-center items-center"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})):o?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},_.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},o),_.createElement("button",{onClick:Ze,className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Try Again")):t.length===0?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},_.createElement(Or,{className:"w-24 h-24 text-gray-300 mb-6"}),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Orders"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't placed any orders yet."),_.createElement(ls,{to:"/",className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Start Shopping")):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},(h||y)&&_.createElement("div",{className:"fixed top-4 right-4 z-50"},h&&_.createElement("div",{className:"mb-2 p-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},_.createElement(rm,{className:"w-5 h-5 mr-2"}),h),y&&_.createElement("div",{className:"mb-2 p-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},_.createElement(My,{className:"w-5 h-5 mr-2"}),y)),_.createElement("div",{className:"max-w-6xl mx-auto"},_.createElement(Gx.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12"},_.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-red-700"},"My Orders"),_.createElement("div",{className:"w-24 h-1 bg-red-600 mx-auto mt-4 rounded-full"})),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((W,me)=>{const oe=B(W.status),Ne=$e(W.items||[]),Pe=W.status!=="Cancelled"&&W.status!=="Delivered"&&!W.cancellationRequested;return _.createElement(Gx.div,{key:W.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:me*.08},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},_.createElement("div",{className:"p-5 border-b border-gray-100"},_.createElement("div",{className:"flex justify-between items-start mb-3"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Order ",W.id),_.createElement("div",{className:"flex items-center text-gray-500 mt-1"},_.createElement(OV,{className:"w-4 h-4 mr-1"}),_.createElement("span",{className:"text-sm"},U(W.timestamp)))),_.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${oe.bgColor} ${oe.textColor}`},oe.icon,_.createElement("span",{className:"ml-1"},W.status)))),_.createElement("div",{className:"p-5"},_.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-3"},"Products Ordered"),_.createElement("div",{className:"space-y-4"},(W.items||[]).map((Te,ht)=>_.createElement("div",{key:Te.id||ht,className:"flex items-center"},_.createElement("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},_.createElement("img",{src:Te.image||(Array.isArray(Te.images)?Te.images[0]:Te.images),alt:Te.name,className:"w-full h-full object-cover"})),_.createElement("div",{className:"ml-4 flex-1 min-w-0"},_.createElement("h5",{className:"text-sm font-medium text-gray-900 truncate"},Te.name),_.createElement("div",{className:"flex justify-between mt-1"},_.createElement("span",{className:"text-sm text-gray-500"},"Qty: ",Te.qty),_.createElement("span",{className:"text-sm font-medium text-gray-900"},"$",(Number(Te.price)*Number(Te.qty)).toFixed(2)))))))),_.createElement("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100"},_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-base font-medium text-gray-900"},"Grand Total"),_.createElement("span",{className:"text-lg font-bold text-red-700"},"$",Ne.toFixed(2)))),_.createElement("div",{className:"flex justify-between items-center px-5 py-3"},Pe?_.createElement("button",{onClick:()=>pe(W.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},_.createElement(Ro,{className:"w-4 h-4"})," Cancel order"):_.createElement("span",{className:"text-gray-400 text-sm flex items-center gap-2 cursor-not-allowed"},_.createElement(Ro,{className:"w-4 h-4"}),W.cancellationRequested?"Cancellation Requested":"The order is cancelled"),_.createElement("button",{onClick:()=>ie(W.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},_.createElement(Ro,{className:"w-4 h-4"})," Remove")),_.createElement("div",{className:"p-5 border-t border-gray-100 w-full"},_.createElement("div",{className:"mb-2"},_.createElement("label",{htmlFor:`message-${W.id}`,className:"block text-sm font-medium text-gray-700 mb-1"},"Message to Delivery"),_.createElement("textarea",{id:`message-${W.id}`,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type your message here...",value:G[W.id]||"",onChange:Te=>N(W.id,Te.target.value),rows:3})),_.createElement("button",{onClick:()=>de(W.id),disabled:ve||!G[W.id]?.trim(),className:"mt-2 px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors w-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},ve?_.createElement(_.Fragment,null,_.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."):"Send Message")))}))),b&&_.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},_.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Cancellation"),_.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to request cancellation for order #",V,"? The admin will review your request."),_.createElement("div",{className:"flex justify-end space-x-3"},_.createElement("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"No, Keep Order"),_.createElement("button",{onClick:()=>ge(V),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Yes, Request Cancellation")))),A&&_.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},_.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Removal"),_.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to remove order #",j," from your orders list? This will only remove it from your view."),_.createElement("div",{className:"flex justify-end space-x-3"},_.createElement("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Cancel"),_.createElement("button",{onClick:()=>Ue(j),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Remove Order")))))};function Hz(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[o,u]=k.useState(!1),[h,m]=k.useState([]),[y,v]=k.useState(""),b=K=>{e(G=>G.find(ve=>ve.id===K.id)?G.map(ve=>ve.id===K.id?{...ve,qty:ve.qty+1}:ve):[...G,{...K,qty:1}])},x=K=>e(t.map(G=>G.id===K?{...G,qty:G.qty+1}:G)),A=K=>e(t.map(G=>G.id===K?{...G,qty:G.qty>1?G.qty-1:1}:G)),O=K=>e(t.filter(G=>G.id!==K)),V=()=>e([]),z=()=>t.reduce((K,G)=>K+G.qty,0),j=()=>t.reduce((K,G)=>K+parseFloat(G.price)*G.qty,0);return _.createElement(sP,null,_.createElement(N3,{cartItemCount:z(),onCartClick:()=>r(!0),onSearch:v}),_.createElement(P3,{isOpen:n,onClose:()=>r(!1),cart:t,onIncreaseQty:x,onDecreaseQty:A,onRemoveItem:O,onClearCart:V,onCheckout:()=>{u(!0),r(!1)},total:j()}),_.createElement(i5,{isOpen:o,onClose:()=>u(!1),cart:t,total:j(),onOrderSuccess:V}),_.createElement(kN,null,_.createElement(ma,{path:"/",element:_.createElement(xV,{onAddToCart:b,onAddToFavorites:K=>m([...h,K]),onRemoveFromFavorites:K=>m(h.filter(G=>G.id!==K)),favorites:h,searchQuery:y})}),_.createElement(ma,{path:"/men",element:_.createElement(h3,{onAddToCart:b})}),_.createElement(ma,{path:"/orders",element:_.createElement(Fz,{onAddToCart:b})}),_.createElement(ma,{path:"/women",element:_.createElement(v3,{onAddToCart:b})}),_.createElement(ma,{path:"/kids",element:_.createElement(C3,{onAddToCart:b})}),_.createElement(ma,{path:"/favorites",element:_.createElement(R3,{favorites:h,onAddToCart:b})}),_.createElement(ma,{path:"/product/:id",element:_.createElement(s5,{onAddToCart:b})}),_.createElement(ma,{path:"/contact",element:_.createElement(o5,null)})),_.createElement(a5,null))}G2.createRoot(document.getElementById("root")).render(_.createElement(k.StrictMode,null,_.createElement(Hz,null)));export{CT as A,OV as C,cv as E,jo as H,NV as I,BV as L,FV as M,$V as P,_ as R,Or as S,BA as T,t3 as U,jA as W,Ro as X,T4 as a,Sn as b,wa as c,rs as d,My as e,rm as f,VA as g,RT as h,NT as i,UA as j,KV as k,zA as l,JV as m,$z as o,_i as q,k as r};
