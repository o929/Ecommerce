(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function tT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function nT(){if(ky)return we;ky=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function B(I,ne,oe){this.props=I,this.context=ne,this.refs=K,this.updater=oe||C}B.prototype.isReactComponent={},B.prototype.setState=function(I,ne){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ne,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ae(){}ae.prototype=B.prototype;function q(I,ne,oe){this.props=I,this.context=ne,this.refs=K,this.updater=oe||C}var X=q.prototype=new ae;X.constructor=q,U(X,B.prototype),X.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function O(I,ne,oe,ie,ge,xe){return oe=xe.ref,{$$typeof:r,type:I,key:ne,ref:oe!==void 0?oe:null,props:xe}}function R(I,ne){return O(I.type,ne,void 0,void 0,void 0,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function M(I){var ne={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(oe){return ne[oe]})}var k=/\/+/g;function L(I,ne){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):ne.toString(36)}function D(){}function kt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(ne){I.status==="pending"&&(I.status="fulfilled",I.value=ne)},function(ne){I.status==="pending"&&(I.status="rejected",I.reason=ne)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function st(I,ne,oe,ie,ge){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var be=!1;if(I===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(I.$$typeof){case r:case t:be=!0;break;case E:return be=I._init,st(be(I._payload),ne,oe,ie,ge)}}if(be)return ge=ge(I),be=ie===""?"."+L(I,0):ie,re(ge)?(oe="",be!=null&&(oe=be.replace(k,"$&/")+"/"),st(ge,ne,oe,"",function(Ln){return Ln})):ge!=null&&(N(ge)&&(ge=R(ge,oe+(ge.key==null||I&&I.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+be)),ne.push(ge)),1;be=0;var xt=ie===""?".":ie+":";if(re(I))for(var Ze=0;Ze<I.length;Ze++)ie=I[Ze],xe=xt+L(ie,Ze),be+=st(ie,ne,oe,xe,ge);else if(Ze=w(I),typeof Ze=="function")for(I=Ze.call(I),Ze=0;!(ie=I.next()).done;)ie=ie.value,xe=xt+L(ie,Ze++),be+=st(ie,ne,oe,xe,ge);else if(xe==="object"){if(typeof I.then=="function")return st(kt(I),ne,oe,ie,ge);throw ne=String(I),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(I,ne,oe){if(I==null)return I;var ie=[],ge=0;return st(I,ie,"","",function(xe){return ne.call(oe,xe,ge++)}),ie}function le(I){if(I._status===-1){var ne=I._result;ne=ne(),ne.then(function(oe){(I._status===0||I._status===-1)&&(I._status=1,I._result=oe)},function(oe){(I._status===0||I._status===-1)&&(I._status=2,I._result=oe)}),I._status===-1&&(I._status=0,I._result=ne)}if(I._status===1)return I._result.default;throw I._result}var me=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ze(){}return we.Children={map:$,forEach:function(I,ne,oe){$(I,function(){ne.apply(this,arguments)},oe)},count:function(I){var ne=0;return $(I,function(){ne++}),ne},toArray:function(I){return $(I,function(ne){return ne})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},we.Component=B,we.Fragment=a,we.Profiler=o,we.PureComponent=q,we.StrictMode=s,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,we.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ue.H.useMemoCache(I)}},we.cache=function(I){return function(){return I.apply(null,arguments)}},we.cloneElement=function(I,ne,oe){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=U({},I.props),ge=I.key,xe=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!Ee.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ie[be]=ne[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var xt=Array(be),Ze=0;Ze<be;Ze++)xt[Ze]=arguments[Ze+2];ie.children=xt}return O(I.type,ge,void 0,void 0,xe,ie)},we.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},we.createElement=function(I,ne,oe){var ie,ge={},xe=null;if(ne!=null)for(ie in ne.key!==void 0&&(xe=""+ne.key),ne)Ee.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ne[ie]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var xt=Array(be),Ze=0;Ze<be;Ze++)xt[Ze]=arguments[Ze+2];ge.children=xt}if(I&&I.defaultProps)for(ie in be=I.defaultProps,be)ge[ie]===void 0&&(ge[ie]=be[ie]);return O(I,xe,void 0,void 0,null,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(I){return{$$typeof:g,render:I}},we.isValidElement=N,we.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:le}},we.memo=function(I,ne){return{$$typeof:p,type:I,compare:ne===void 0?null:ne}},we.startTransition=function(I){var ne=ue.T,oe={};ue.T=oe;try{var ie=I(),ge=ue.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(xe){me(xe)}finally{ue.T=ne}},we.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},we.use=function(I){return ue.H.use(I)},we.useActionState=function(I,ne,oe){return ue.H.useActionState(I,ne,oe)},we.useCallback=function(I,ne){return ue.H.useCallback(I,ne)},we.useContext=function(I){return ue.H.useContext(I)},we.useDebugValue=function(){},we.useDeferredValue=function(I,ne){return ue.H.useDeferredValue(I,ne)},we.useEffect=function(I,ne,oe){var ie=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(I,ne)},we.useId=function(){return ue.H.useId()},we.useImperativeHandle=function(I,ne,oe){return ue.H.useImperativeHandle(I,ne,oe)},we.useInsertionEffect=function(I,ne){return ue.H.useInsertionEffect(I,ne)},we.useLayoutEffect=function(I,ne){return ue.H.useLayoutEffect(I,ne)},we.useMemo=function(I,ne){return ue.H.useMemo(I,ne)},we.useOptimistic=function(I,ne){return ue.H.useOptimistic(I,ne)},we.useReducer=function(I,ne,oe){return ue.H.useReducer(I,ne,oe)},we.useRef=function(I){return ue.H.useRef(I)},we.useState=function(I){return ue.H.useState(I)},we.useSyncExternalStore=function(I,ne,oe){return ue.H.useSyncExternalStore(I,ne,oe)},we.useTransition=function(){return ue.H.useTransition()},we.version="19.1.1",we}var Uy;function jd(){return Uy||(Uy=1,nd.exports=nT()),nd.exports}var H=jd();const T=tT(H);var ad={exports:{}},to={},rd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function aT(){return Py||(Py=1,(function(r){function t($,le){var me=$.length;$.push(le);e:for(;0<me;){var ze=me-1>>>1,I=$[ze];if(0<o(I,le))$[ze]=le,$[me]=I,me=ze;else break e}}function a($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],me=$.pop();if(me!==le){$[0]=me;e:for(var ze=0,I=$.length,ne=I>>>1;ze<ne;){var oe=2*(ze+1)-1,ie=$[oe],ge=oe+1,xe=$[ge];if(0>o(ie,me))ge<I&&0>o(xe,ie)?($[ze]=xe,$[ge]=me,ze=ge):($[ze]=ie,$[oe]=me,ze=oe);else if(ge<I&&0>o(xe,me))$[ze]=xe,$[ge]=me,ze=ge;else break e}}return le}function o($,le){var me=$.sortIndex-le.sortIndex;return me!==0?me:$.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,S=null,w=3,C=!1,U=!1,K=!1,B=!1,ae=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function re($){for(var le=a(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=$)s(p),le.sortIndex=le.expirationTime,t(y,le);else break;le=a(p)}}function ue($){if(K=!1,re($),!U)if(a(y)!==null)U=!0,Ee||(Ee=!0,L());else{var le=a(p);le!==null&&st(ue,le.startTime-$)}}var Ee=!1,O=-1,R=5,N=-1;function M(){return B?!0:!(r.unstable_now()-N<R)}function k(){if(B=!1,Ee){var $=r.unstable_now();N=$;var le=!0;try{e:{U=!1,K&&(K=!1,q(O),O=-1),C=!0;var me=w;try{t:{for(re($),S=a(y);S!==null&&!(S.expirationTime>$&&M());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,w=S.priorityLevel;var I=ze(S.expirationTime<=$);if($=r.unstable_now(),typeof I=="function"){S.callback=I,re($),le=!0;break t}S===a(y)&&s(y),re($)}else s(y);S=a(y)}if(S!==null)le=!0;else{var ne=a(p);ne!==null&&st(ue,ne.startTime-$),le=!1}}break e}finally{S=null,w=me,C=!1}le=void 0}}finally{le?L():Ee=!1}}}var L;if(typeof X=="function")L=function(){X(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,kt=D.port2;D.port1.onmessage=k,L=function(){kt.postMessage(null)}}else L=function(){ae(k,0)};function st($,le){O=ae(function(){$(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var me=w;w=le;try{return $()}finally{w=me}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=w;w=$;try{return le()}finally{w=me}},r.unstable_scheduleCallback=function($,le,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=me+I,$={id:E++,callback:le,priorityLevel:$,startTime:me,expirationTime:I,sortIndex:-1},me>ze?($.sortIndex=me,t(p,$),a(y)===null&&$===a(p)&&(K?(q(O),O=-1):K=!0,st(ue,me-ze))):($.sortIndex=I,t(y,$),U||C||(U=!0,Ee||(Ee=!0,L()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var le=w;return function(){var me=w;w=le;try{return $.apply(this,arguments)}finally{w=me}}}})(id)),id}var Ly;function rT(){return Ly||(Ly=1,rd.exports=aT()),rd.exports}var sd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function iT(){if(zy)return Qt;zy=1;var r=jd();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,E)},Qt.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Qt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Qt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:C}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Qt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Qt.requestFormReset=function(y){s.d.r(y)},Qt.unstable_batchedUpdates=function(y,p){return y(p)},Qt.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var By;function sT(){if(By)return sd.exports;By=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sd.exports=iT(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function lT(){if(qy)return to;qy=1;var r=rT(),t=jd(),a=sT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=h,l=f;else{for(var _=!1,b=h.child;b;){if(b===i){_=!0,i=h,l=f;break}if(b===l){_=!0,l=h,i=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===i){_=!0,i=f,l=h;break}if(b===l){_=!0,l=f,i=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case B:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case Ee:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case X:return(e.displayName||"Context")+".Provider";case q:return(e._context.displayName||"Context")+".Consumer";case re:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:kt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return kt(e(n))}catch{}}return null}var st=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],I=-1;function ne(e){return{current:e}}function oe(e){0>I||(e.current=ze[I],ze[I]=null,I--)}function ie(e,n){I++,ze[I]=e.current,e.current=n}var ge=ne(null),xe=ne(null),be=ne(null),xt=ne(null);function Ze(e,n){switch(ie(be,n),ie(xe,e),ie(ge,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?uy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=uy(n),e=cy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(ge),ie(ge,e)}function Ln(){oe(ge),oe(xe),oe(be)}function Ka(e){e.memoizedState!==null&&ie(xt,e);var n=ge.current,i=cy(n,e.type);n!==i&&(ie(xe,e),ie(ge,i))}function ma(e){xe.current===e&&(oe(ge),oe(xe)),xt.current===e&&(oe(xt),$l._currentValue=me)}var Ur=Object.prototype.hasOwnProperty,Pr=r.unstable_scheduleCallback,Lr=r.unstable_cancelCallback,Ys=r.unstable_shouldYield,Vo=r.unstable_requestPaint,gn=r.unstable_now,th=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Ii=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,nh=r.unstable_LowPriority,Vi=r.unstable_IdlePriority,Xs=r.log,Oo=r.unstable_setDisableYieldValue,lt=null,He=null;function sn(e){if(typeof Xs=="function"&&Oo(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,e)}catch{}}var Ft=Math.clz32?Math.clz32:Br,Mo=Math.log,ah=Math.LN2;function Br(e){return e>>>=0,e===0?32:31-(Mo(e)/ah|0)|0}var qr=256,jr=4194304;function Dn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oi(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=Dn(l):(_&=b,_!==0?h=Dn(_):i||(i=b&~e,i!==0&&(h=Dn(i))))):(b=l&~f,b!==0?h=Dn(b):_!==0?h=Dn(_):i||(i=l&~e,i!==0&&(h=Dn(i)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:h}function Hr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $s(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),e}function Js(){var e=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),e}function ga(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function pa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ws(e,n,i,l,h,f){var _=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,F=e.hiddenUpdates;for(i=_&~i;0<i;){var Z=31-Ft(i),W=1<<Z;b[Z]=0,x[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}i&=~W}l!==0&&zn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function zn(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ft(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function el(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Ft(i),h=1<<l;h&n|e[l]&n&&(e[l]|=n),i&=~h}}function Xa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $a(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:Cy(e.type))}function ko(e,n){var i=le.p;try{return le.p=e,n()}finally{le.p=i}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,mt="__reactProps$"+tt,pn="__reactContainer$"+tt,tl="__reactEvents$"+tt,rh="__reactListeners$"+tt,Za="__reactHandles$"+tt,Uo="__reactResources$"+tt,Fr="__reactMarker$"+tt;function Ja(e){delete e[Et],delete e[mt],delete e[tl],delete e[rh],delete e[Za]}function ya(e){var n=e[Et];if(n)return n;for(var i=e.parentNode;i;){if(n=i[pn]||i[Et]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=my(e);e!==null;){if(i=e[Et])return i;e=my(e)}return n}e=i,i=e.parentNode}return null}function Bn(e){if(e=e[Et]||e[pn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function $t(e){var n=e[Uo];return n||(n=e[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ct(e){e[Fr]=!0}var nl=new Set,ki={};function In(e,n){va(e,n),va(e+"Capture",n)}function va(e,n){for(ki[e]=n,e=0;e<n.length;e++)nl.add(n[e])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Gr={};function zo(e){return Ur.call(Gr,e)?!0:Ur.call(Lo,e)?!1:Po.test(e)?Gr[e]=!0:(Lo[e]=!0,!1)}function Wa(e,n,i){if(zo(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function jn(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Ut(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var Qr,Bo;function _a(e){if(Qr===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Qr=n&&n[1]||"",Bo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+e+Bo}var Ui=!1;function Pi(e,n){if(!e||Ui)return"";Ui=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var G=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){G=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){G=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var x=_.split(`
`),F=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===F.length)for(l=x.length-1,h=F.length-1;1<=l&&0<=h&&x[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==F[h]){var Z=`
`+x[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ui=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?_a(i):""}function al(e){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return _a("Activity");default:return""}}function Li(e){try{var n="";do n+=al(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(e){var n=rl(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function zi(e){e._valueTracker||(e._valueTracker=ih(e))}function il(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=rl(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sh=/[\n"\\]/g;function gt(e){return e.replace(sh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,i,l,h,f,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Zt(n)):e.value!==""+Zt(n)&&(e.value=""+Zt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?er(e,_,Zt(n)):i!=null?er(e,_,Zt(i)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Zt(b):e.removeAttribute("name")}function Kr(e,n,i,l,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+Zt(i):"",n=n!=null?""+Zt(n):i,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function er(e,n,i){n==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ea(e,n,i,l){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Zt(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qe(e,n,i){if(n!=null&&(n=""+Zt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Zt(i):""}function Xr(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Zt(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function yn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||$r.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function sl(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&i[h]!==l&&qo(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&qo(e,f,n[f])}function ll(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(e){return oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ta=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,Aa=null;function ol(e){var n=Bn(e);if(n&&(e=n.stateNode)){var i=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ln(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var h=l[mt]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&il(l)}break e;case"textarea":Qe(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ea(e,!!i.multiple,n,!1)}}}var Hn=!1;function jo(e,n,i){if(Hn)return e(n,i);Hn=!0;try{var l=e(n);return l}finally{if(Hn=!1,(ba!==null||Aa!==null)&&(ku(),ba&&(n=ba,e=Aa,Aa=ba=null,ol(n),e)))for(n=0;n<e.length;n++)ol(e[n])}}function Zr(e,n){var i=e.stateNode;if(i===null)return null;var l=i[mt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{_n=!1}var Fn=null,tr=null,Sa=null;function ul(){if(Sa)return Sa;var e,n=tr,i=n.length,l,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(e=0;e<i&&n[e]===h[e];e++);var _=i-e;for(l=1;l<=_&&n[i-l]===h[f-l];l++);return Sa=h.slice(e,1<l?1-l:void 0)}function Gn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function cl(){return!1}function Nt(e){function n(i,l,h,f,_){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:cl,this.isPropagationStopped=cl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Nt(qe),Wr=E({},qe,{view:0,detail:0}),Ho=Nt(Wr),ji,Hi,Yn,ei=E({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(ji=e.screenX-Yn.screenX,Hi=e.screenY-Yn.screenY):Hi=ji=0,Yn=e),ji)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),En=Nt(ei),Fo=E({},ei,{dataTransfer:0}),uh=Nt(Fo),ti=E({},Wr,{relatedTarget:0}),Fi=Nt(ti),hl=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=Nt(hl),Go=E({},qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qi=Nt(Go),ch=E({},qe,{data:0}),fl=Nt(ch),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yo[e])?!!n[e]:!1}function ai(){return dl}var Ko=E({},Wr,{key:function(e){if(e.key){var n=ni[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yi=Nt(Ko),Xo=E({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Nt(Xo),wa=E({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),$o=Nt(wa),Zo=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=Nt(Zo),Wo=E({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ki=Nt(Wo),Jt=E({},qe,{newState:0,oldState:0}),eu=Nt(Jt),tu=[9,13,27,32],Kn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,v=Vn&&(!Kn||u&&8<u&&11>=u),A=" ",z=!1;function Y(e,n){switch(e){case"keyup":return tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oe=!1;function Tt(e,n){switch(e){case"compositionend":return se(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return e=n.data,e===A&&z?null:e;default:return null}}function Me(e,n){if(Oe)return e==="compositionend"||!Kn&&Y(e,n)?(e=ul(),Sa=tr=Fn=null,Oe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ct={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ct[e.type]:n==="textarea"}function Ra(e,n,i,l){ba?Aa?Aa.push(l):Aa=[l]:ba=l,n=qu(n,"onChange"),0<n.length&&(i=new qi("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Pt=null,Xn=null;function gl(e){ry(e,0)}function nu(e){var n=qn(e);if(il(n))return e}function wm(e,n){if(e==="change")return n}var Rm=!1;if(Vn){var hh;if(Vn){var fh="oninput"in document;if(!fh){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),fh=typeof xm.oninput=="function"}hh=fh}else hh=!1;Rm=hh&&(!document.documentMode||9<document.documentMode)}function Nm(){Pt&&(Pt.detachEvent("onpropertychange",Cm),Xn=Pt=null)}function Cm(e){if(e.propertyName==="value"&&nu(Xn)){var n=[];Ra(n,Xn,e,vn(e)),jo(gl,n)}}function IE(e,n,i){e==="focusin"?(Nm(),Pt=n,Xn=i,Pt.attachEvent("onpropertychange",Cm)):e==="focusout"&&Nm()}function VE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(Xn)}function OE(e,n){if(e==="click")return nu(n)}function ME(e,n){if(e==="input"||e==="change")return nu(n)}function kE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:kE;function pl(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!Ur.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Im(e,n){var i=Dm(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dm(i)}}function Vm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Om(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Yr(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Yr(e.document)}return n}function dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var UE=Vn&&"documentMode"in document&&11>=document.documentMode,Xi=null,mh=null,yl=null,gh=!1;function Mm(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;gh||Xi==null||Xi!==Yr(l)||(l=Xi,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=qu(mh,"onSelect"),0<l.length&&(n=new qi("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Xi)))}function ri(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var $i={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},ph={},km={};Vn&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function ii(e){if(ph[e])return ph[e];if(!$i[e])return e;var n=$i[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in km)return ph[e]=n[i];return e}var Um=ii("animationend"),Pm=ii("animationiteration"),Lm=ii("animationstart"),PE=ii("transitionrun"),LE=ii("transitionstart"),zE=ii("transitioncancel"),zm=ii("transitionend"),Bm=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function On(e,n){Bm.set(e,n),In(n,[e])}var qm=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var i=qm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Li(n)},qm.set(e,n),n)}return{value:e,source:n,stack:Li(n)}}var bn=[],Zi=0,vh=0;function au(){for(var e=Zi,n=vh=Zi=0;n<e;){var i=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&jm(i,h,f)}}function ru(e,n,i,l){bn[Zi++]=e,bn[Zi++]=n,bn[Zi++]=i,bn[Zi++]=l,vh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _h(e,n,i,l){return ru(e,n,i,l),iu(e)}function Ji(e,n){return ru(e,null,null,n),iu(e)}function jm(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var h=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ft(i),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=i|536870912),f):null}function iu(e){if(50<jl)throw jl=0,Rf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Wi={};function BE(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,i,l){return new BE(e,n,i,l)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,n){var i=e.alternate;return i===null?(i=un(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Hm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function su(e,n,i,l,h,f){var _=0;if(l=e,typeof e=="function")Eh(e)&&(_=1);else if(typeof e=="string")_=j1(e,i,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=un(31,i,n,h),e.elementType=N,e.lanes=f,e;case U:return si(i.children,h,f,n);case K:_=8,h|=24;break;case B:return e=un(12,i,n,h|2),e.elementType=B,e.lanes=f,e;case ue:return e=un(13,i,n,h),e.elementType=ue,e.lanes=f,e;case Ee:return e=un(19,i,n,h),e.elementType=Ee,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:case X:_=10;break e;case q:_=9;break e;case re:_=11;break e;case O:_=14;break e;case R:_=16,l=null;break e}_=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=un(_,i,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function si(e,n,i,l){return e=un(7,e,l,n),e.lanes=i,e}function Th(e,n,i){return e=un(6,e,null,n),e.lanes=i,e}function bh(e,n,i){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var es=[],ts=0,lu=null,ou=0,An=[],Sn=0,li=null,Na=1,Ca="";function oi(e,n){es[ts++]=ou,es[ts++]=lu,lu=e,ou=n}function Fm(e,n,i){An[Sn++]=Na,An[Sn++]=Ca,An[Sn++]=li,li=e;var l=Na;e=Ca;var h=32-Ft(l)-1;l&=~(1<<h),i+=1;var f=32-Ft(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Na=1<<32-Ft(n)+h|i<<h|l,Ca=f+e}else Na=1<<f|i<<h|l,Ca=e}function Ah(e){e.return!==null&&(oi(e,1),Fm(e,1,0))}function Sh(e){for(;e===lu;)lu=es[--ts],es[ts]=null,ou=es[--ts],es[ts]=null;for(;e===li;)li=An[--Sn],An[Sn]=null,Ca=An[--Sn],An[Sn]=null,Na=An[--Sn],An[Sn]=null}var Wt=null,ot=null,Be=!1,ui=null,$n=!1,wh=Error(s(519));function ci(e){var n=Error(s(418,""));throw El(Tn(n,e)),wh}function Gm(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[Et]=e,n[mt]=l,i){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(i=0;i<Fl.length;i++)De(Fl[i],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),Kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zi(n);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),Xr(n,l.value,l.defaultValue,l.children),zi(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||oy(n.textContent,i)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||ci(e)}function Qm(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Wt=Wt.return}}function vl(e){if(e!==Wt)return!1;if(!Be)return Qm(e),Be=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||jf(e.type,e.memoizedProps)),i=!i),i&&ot&&ci(e),Qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ot=kn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ot=null}}else n===27?(n=ot,yr(e.type)?(e=Qf,Qf=null,ot=e):ot=n):ot=Wt?kn(e.stateNode.nextSibling):null;return!0}function _l(){ot=Wt=null,Be=!1}function Ym(){var e=ui;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ui=null),e}function El(e){ui===null?ui=[e]:ui.push(e)}var Rh=ne(null),hi=null,Da=null;function nr(e,n,i){ie(Rh,n._currentValue),n._currentValue=i}function Ia(e){e._currentValue=Rh.current,oe(Rh)}function xh(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Nh(e,n,i,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var x=0;x<n.length;x++)if(b.context===n[x]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),xh(f.return,i,e),l||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=i,f=_.alternate,f!==null&&(f.lanes|=i),xh(_,i,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Tl(e,n,i,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;on(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}h=h.return}e!==null&&Nh(n,e,i,l),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fi(e){hi=e,Da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Km(hi,e)}function cu(e,n){return hi===null&&fi(e),Km(e,n)}function Km(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Da===null){if(e===null)throw Error(s(308));Da=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Da=Da.next=n;return i}var qE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},jE=r.unstable_scheduleCallback,HE=r.unstable_NormalPriority,At={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new qE,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&jE(HE,function(){e.controller.abort()})}var Al=null,Dh=0,ns=0,as=null;function FE(e,n){if(Al===null){var i=Al=[];Dh=0,ns=Of(),as={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Dh++,n.then(Xm,Xm),n}function Xm(){if(--Dh===0&&Al!==null){as!==null&&(as.status="fulfilled");var e=Al;Al=null,ns=0,as=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function GE(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),l}var $m=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&FE(e,n),$m!==null&&$m(e,n)};var di=ne(null);function Ih(){var e=di.current;return e!==null?e:Je.pooledCache}function hu(e,n){n===null?ie(di,di.current):ie(di,n.pool)}function Zm(){var e=Ih();return e===null?null:{parent:At._currentValue,pool:e}}var Sl=Error(s(460)),Jm=Error(s(474)),fu=Error(s(542)),Vh={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function eg(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(du,du),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e}throw wl=n,Sl}}var wl=null;function tg(){if(wl===null)throw Error(s(459));var e=wl;return wl=null,e}function ng(e){if(e===Sl||e===fu)throw Error(s(483))}var ar=!1;function Oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=iu(e),jm(e,null,i),n}return ru(e,l,n,i),iu(e)}function Rl(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,el(e,i)}}function kh(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,i=i.next}while(i!==null);f===null?h=f=n:f=f.next=n}else h=f=n;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Uh=!1;function xl(){if(Uh){var e=as;if(e!==null)throw e}}function Nl(e,n,i,l){Uh=!1;var h=e.updateQueue;ar=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,F=x.next;x.next=null,_===null?f=F:_.next=F,_=x;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=x))}if(f!==null){var W=h.baseState;_=0,Z=F=x=null,b=f;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(ke&G)===G:(l&G)===G){G!==0&&G===ns&&(Uh=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=e,ye=b;G=n;var Xe=i;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){W=Te.call(Xe,W,G);break e}W=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,G=typeof Te=="function"?Te.call(Xe,W,G):Te,G==null)break e;W=E({},W,G);break e;case 2:ar=!0}}G=b.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=Q,x=W):Z=Z.next=Q,_|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(x=W),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),dr|=_,e.lanes=_,e.memoizedState=W}}function ag(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function rg(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ag(i[e],n)}var rs=ne(null),mu=ne(0);function ig(e,n){e=La,ie(mu,e),ie(rs,n),La=e|n.baseLanes}function Ph(){ie(mu,La),ie(rs,rs.current)}function Lh(){La=mu.current,oe(rs),oe(mu)}var sr=0,Re=null,Ye=null,pt=null,gu=!1,is=!1,mi=!1,pu=0,Cl=0,ss=null,QE=0;function ht(){throw Error(s(321))}function zh(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!on(e[i],n[i]))return!1;return!0}function Bh(e,n,i,l,h,f){return sr=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?jg:Hg,mi=!1,f=i(l,h),mi=!1,is&&(f=lg(n,i,l,h)),sg(e),f}function sg(e){$.H=bu;var n=Ye!==null&&Ye.next!==null;if(sr=0,pt=Ye=Re=null,gu=!1,Cl=0,ss=null,n)throw Error(s(300));e===null||Dt||(e=e.dependencies,e!==null&&uu(e)&&(Dt=!0))}function lg(e,n,i,l){Re=e;var h=0;do{if(is&&(ss=null),Cl=0,is=!1,25<=h)throw Error(s(301));if(h+=1,pt=Ye=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=WE,f=n(i,l)}while(is);return f}function YE(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Dl(n):n,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Re.flags|=1024),n}function qh(){var e=pu!==0;return pu=0,e}function jh(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Hh(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}sr=0,pt=Ye=Re=null,is=!1,Cl=pu=0,ss=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=e:pt=pt.next=e,pt}function yt(){if(Ye===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var n=pt===null?Re.memoizedState:pt.next;if(n!==null)pt=n,Ye=e;else{if(e===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},pt===null?Re.memoizedState=pt=e:pt=pt.next=e}return pt}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(e){var n=Cl;return Cl+=1,ss===null&&(ss=[]),e=eg(ss,e,n),n=Re,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?jg:Hg),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dl(e);if(e.$$typeof===X)return Gt(e)}throw Error(s(438,String(e)))}function Gh(e){var n=null,i=Re.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Fh(),Re.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=M;return n.index++,i}function Va(e,n){return typeof n=="function"?n(e):n}function vu(e){var n=yt();return Qh(n,Ye,e)}function Qh(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=_=null,x=null,F=n,Z=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(ke&W)===W:(sr&W)===W){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===ns&&(Z=!0);else if((sr&G)===G){F=F.next,G===ns&&(Z=!0);continue}else W={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=W,_=f):x=x.next=W,Re.lanes|=G,dr|=G;W=F.action,mi&&i(f,W),f=F.hasEagerState?F.eagerState:i(f,W)}else G={lane:W,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=G,_=f):x=x.next=G,Re.lanes|=W,dr|=W;F=F.next}while(F!==null&&F!==n);if(x===null?_=f:x.next=b,!on(f,e.memoizedState)&&(Dt=!0,Z&&(i=as,i!==null)))throw i;e.memoizedState=f,e.baseState=_,e.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yh(e){var n=yt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,f=n.memoizedState;if(h!==null){i.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);on(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function og(e,n,i){var l=Re,h=yt(),f=Be;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=n();var _=!on((Ye||h).memoizedState,i);_&&(h.memoizedState=i,Dt=!0),h=h.queue;var b=hg.bind(null,l,h,e);if(Il(2048,8,b,[e]),h.getSnapshot!==n||_||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,ls(9,_u(),cg.bind(null,l,h,i,n),null),Je===null)throw Error(s(349));f||(sr&124)!==0||ug(l,n,i)}return i}function ug(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Re.updateQueue,n===null?(n=Fh(),Re.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function cg(e,n,i,l){n.value=i,n.getSnapshot=l,fg(n)&&dg(e)}function hg(e,n,i){return i(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!on(e,i)}catch{return!0}}function dg(e){var n=Ji(e,2);n!==null&&mn(n,e,2)}function Kh(e){var n=en();if(typeof e=="function"){var i=e;if(e=i(),mi){sn(!0);try{i()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},n}function mg(e,n,i,l){return e.baseState=i,Qh(e,Ye,typeof l=="function"?l:Va)}function KE(e,n,i,l,h){if(Tu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,gg(n,f)):(f.next=i.next,n.pending=i.next=f)}}function gg(e,n){var i=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=$.T,_={};$.T=_;try{var b=i(h,l),x=$.S;x!==null&&x(_,b),pg(e,n,b)}catch(F){Xh(e,n,F)}finally{$.T=f}}else try{f=i(h,l),pg(e,n,f)}catch(F){Xh(e,n,F)}}function pg(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){yg(e,n,l)},function(l){return Xh(e,n,l)}):yg(e,n,i)}function yg(e,n,i){n.status="fulfilled",n.value=i,vg(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,gg(e,i)))}function Xh(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,vg(n),n=n.next;while(n!==l)}e.action=null}function vg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _g(e,n){return n}function Eg(e,n){if(Be){var i=Je.formState;if(i!==null){e:{var l=Re;if(Be){if(ot){t:{for(var h=ot,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=kn(h.nextSibling),l=h.data==="F!";break e}}ci(l)}l=!1}l&&(n=i[0])}}return i=en(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},i.queue=l,i=zg.bind(null,Re,l),l.dispatch=i,l=Kh(!1),f=ef.bind(null,Re,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,i=KE.bind(null,Re,h,f,i),h.dispatch=i,l.memoizedState=e,[n,i,!1]}function Tg(e){var n=yt();return bg(n,Ye,e)}function bg(e,n,i){if(n=Qh(e,n,_g)[0],e=vu(Va)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(_){throw _===Sl?fu:_}else l=n;n=yt();var h=n.queue,f=h.dispatch;return i!==n.memoizedState&&(Re.flags|=2048,ls(9,_u(),XE.bind(null,h,i),null)),[l,f,e]}function XE(e,n){e.action=n}function Ag(e){var n=yt(),i=Ye;if(i!==null)return bg(n,i,e);yt(),n=n.memoizedState,i=yt();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function ls(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Fh(),Re.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function _u(){return{destroy:void 0,resource:void 0}}function Sg(){return yt().memoizedState}function Eu(e,n,i,l){var h=en();l=l===void 0?null:l,Re.flags|=e,h.memoizedState=ls(1|n,_u(),i,l)}function Il(e,n,i,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ye!==null&&l!==null&&zh(l,Ye.memoizedState.deps)?h.memoizedState=ls(n,f,i,l):(Re.flags|=e,h.memoizedState=ls(1|n,f,i,l))}function wg(e,n){Eu(8390656,8,e,n)}function Rg(e,n){Il(2048,8,e,n)}function xg(e,n){return Il(4,2,e,n)}function Ng(e,n){return Il(4,4,e,n)}function Cg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dg(e,n,i){i=i!=null?i.concat([e]):null,Il(4,4,Cg.bind(null,n,e),i)}function $h(){}function Ig(e,n){var i=yt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&zh(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Vg(e,n){var i=yt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&zh(n,l[1]))return l[0];if(l=e(),mi){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[l,n],l}function Zh(e,n,i){return i===void 0||(sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=kp(),Re.lanes|=e,dr|=e,i)}function Og(e,n,i,l){return on(i,n)?i:rs.current!==null?(e=Zh(e,i,l),on(e,n)||(Dt=!0),e):(sr&42)===0?(Dt=!0,e.memoizedState=i):(e=kp(),Re.lanes|=e,dr|=e,n)}function Mg(e,n,i,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var _=$.T,b={};$.T=b,ef(e,!1,n,i);try{var x=h(),F=$.S;if(F!==null&&F(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=GE(x,l);Vl(e,n,Z,dn(e))}else Vl(e,n,l,dn(e))}catch(W){Vl(e,n,{then:function(){},status:"rejected",reason:W},dn())}finally{le.p=f,$.T=_}}function $E(){}function Jh(e,n,i,l){if(e.tag!==5)throw Error(s(476));var h=kg(e).queue;Mg(e,h,n,me,i===null?$E:function(){return Ug(e),i(l)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:me},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=kg(e).next.queue;Vl(e,n,{},dn())}function Wh(){return Gt($l)}function Pg(){return yt().memoizedState}function Lg(){return yt().memoizedState}function ZE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=dn();e=rr(i);var l=ir(n,e,i);l!==null&&(mn(l,n,i),Rl(l,n,i)),n={cache:Ch()},e.payload=n;return}n=n.return}}function JE(e,n,i){var l=dn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Bg(n,i):(i=_h(e,n,i,l),i!==null&&(mn(i,e,l),qg(i,n,l)))}function zg(e,n,i){var l=dn();Vl(e,n,i,l)}function Vl(e,n,i,l){var h={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Bg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,i);if(h.hasEagerState=!0,h.eagerState=b,on(b,_))return ru(e,n,h,0),Je===null&&au(),!1}catch{}finally{}if(i=_h(e,n,h,l),i!==null)return mn(i,e,l),qg(i,n,l),!0}return!1}function ef(e,n,i,l){if(l={lane:2,revertLane:Of(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(s(479))}else n=_h(e,i,l,2),n!==null&&mn(n,e,2)}function Tu(e){var n=e.alternate;return e===Re||n!==null&&n===Re}function Bg(e,n){is=gu=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function qg(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,el(e,i)}}var bu={readContext:Gt,use:yu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},jg={readContext:Gt,use:yu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Gt,useEffect:wg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Eu(4194308,4,Cg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var i=en();n=n===void 0?null:n;var l=e();if(mi){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=en();if(i!==void 0){var h=i(n);if(mi){sn(!0);try{i(n)}finally{sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=JE.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Kh(e);var n=e.queue,i=zg.bind(null,Re,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:$h,useDeferredValue:function(e,n){var i=en();return Zh(i,e,n)},useTransition:function(){var e=Kh(!1);return e=Mg.bind(null,Re,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=Re,h=en();if(Be){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Je===null)throw Error(s(349));(ke&124)!==0||ug(l,n,i)}h.memoizedState=i;var f={value:i,getSnapshot:n};return h.queue=f,wg(hg.bind(null,l,f,e),[e]),l.flags|=2048,ls(9,_u(),cg.bind(null,l,f,i,n),null),i},useId:function(){var e=en(),n=Je.identifierPrefix;if(Be){var i=Ca,l=Na;i=(l&~(1<<32-Ft(l)-1)).toString(32)+i,n="«"+n+"R"+i,i=pu++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=QE++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ef.bind(null,Re,!0,i),i.dispatch=n,[e,n]},useMemoCache:Gh,useCacheRefresh:function(){return en().memoizedState=ZE.bind(null,Re)}},Hg={readContext:Gt,use:yu,useCallback:Ig,useContext:Gt,useEffect:Rg,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Ng,useMemo:Vg,useReducer:vu,useRef:Sg,useState:function(){return vu(Va)},useDebugValue:$h,useDeferredValue:function(e,n){var i=yt();return Og(i,Ye.memoizedState,e,n)},useTransition:function(){var e=vu(Va)[0],n=yt().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:og,useId:Pg,useHostTransitionStatus:Wh,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var i=yt();return mg(i,Ye,e,n)},useMemoCache:Gh,useCacheRefresh:Lg},WE={readContext:Gt,use:yu,useCallback:Ig,useContext:Gt,useEffect:Rg,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Ng,useMemo:Vg,useReducer:Yh,useRef:Sg,useState:function(){return Yh(Va)},useDebugValue:$h,useDeferredValue:function(e,n){var i=yt();return Ye===null?Zh(i,e,n):Og(i,Ye.memoizedState,e,n)},useTransition:function(){var e=Yh(Va)[0],n=yt().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:og,useId:Pg,useHostTransitionStatus:Wh,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var i=yt();return Ye!==null?mg(i,Ye,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Lg},os=null,Ol=0;function Au(e){var n=Ol;return Ol+=1,os===null&&(os=[]),eg(os,e,n)}function Ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){var n=e._init;return n(e._payload)}function Gg(e){function n(P,V){if(e){var j=P.deletions;j===null?(P.deletions=[V],P.flags|=16):j.push(V)}}function i(P,V){if(!e)return null;for(;V!==null;)n(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=xa(P,V),P.index=0,P.sibling=null,P}function f(P,V,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<V?(P.flags|=67108866,V):j):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function b(P,V,j,J){return V===null||V.tag!==6?(V=Th(j,P.mode,J),V.return=P,V):(V=h(V,j),V.return=P,V)}function x(P,V,j,J){var he=j.type;return he===U?Z(P,V,j.props.children,J,j.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Fg(he)===V.type)?(V=h(V,j.props),Ml(V,j),V.return=P,V):(V=su(j.type,j.key,j.props,null,P.mode,J),Ml(V,j),V.return=P,V)}function F(P,V,j,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=bh(j,P.mode,J),V.return=P,V):(V=h(V,j.children||[]),V.return=P,V)}function Z(P,V,j,J,he){return V===null||V.tag!==7?(V=si(j,P.mode,J,he),V.return=P,V):(V=h(V,j),V.return=P,V)}function W(P,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Th(""+V,P.mode,j),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return j=su(V.type,V.key,V.props,null,P.mode,j),Ml(j,V),j.return=P,j;case C:return V=bh(V,P.mode,j),V.return=P,V;case R:var J=V._init;return V=J(V._payload),W(P,V,j)}if(st(V)||L(V))return V=si(V,P.mode,j,null),V.return=P,V;if(typeof V.then=="function")return W(P,Au(V),j);if(V.$$typeof===X)return W(P,cu(P,V),j);Su(P,V)}return null}function G(P,V,j,J){var he=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:b(P,V,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===he?x(P,V,j,J):null;case C:return j.key===he?F(P,V,j,J):null;case R:return he=j._init,j=he(j._payload),G(P,V,j,J)}if(st(j)||L(j))return he!==null?null:Z(P,V,j,J,null);if(typeof j.then=="function")return G(P,V,Au(j),J);if(j.$$typeof===X)return G(P,V,cu(P,j),J);Su(P,j)}return null}function Q(P,V,j,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(j)||null,b(V,P,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return P=P.get(J.key===null?j:J.key)||null,x(V,P,J,he);case C:return P=P.get(J.key===null?j:J.key)||null,F(V,P,J,he);case R:var Ne=J._init;return J=Ne(J._payload),Q(P,V,j,J,he)}if(st(J)||L(J))return P=P.get(j)||null,Z(V,P,J,he,null);if(typeof J.then=="function")return Q(P,V,j,Au(J),he);if(J.$$typeof===X)return Q(P,V,j,cu(V,J),he);Su(V,J)}return null}function Te(P,V,j,J){for(var he=null,Ne=null,de=V,ve=V=0,Vt=null;de!==null&&ve<j.length;ve++){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var Le=G(P,de,j[ve],J);if(Le===null){de===null&&(de=Vt);break}e&&de&&Le.alternate===null&&n(P,de),V=f(Le,V,ve),Ne===null?he=Le:Ne.sibling=Le,Ne=Le,de=Vt}if(ve===j.length)return i(P,de),Be&&oi(P,ve),he;if(de===null){for(;ve<j.length;ve++)de=W(P,j[ve],J),de!==null&&(V=f(de,V,ve),Ne===null?he=de:Ne.sibling=de,Ne=de);return Be&&oi(P,ve),he}for(de=l(de);ve<j.length;ve++)Vt=Q(de,P,ve,j[ve],J),Vt!==null&&(e&&Vt.alternate!==null&&de.delete(Vt.key===null?ve:Vt.key),V=f(Vt,V,ve),Ne===null?he=Vt:Ne.sibling=Vt,Ne=Vt);return e&&de.forEach(function(br){return n(P,br)}),Be&&oi(P,ve),he}function ye(P,V,j,J){if(j==null)throw Error(s(151));for(var he=null,Ne=null,de=V,ve=V=0,Vt=null,Le=j.next();de!==null&&!Le.done;ve++,Le=j.next()){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var br=G(P,de,Le.value,J);if(br===null){de===null&&(de=Vt);break}e&&de&&br.alternate===null&&n(P,de),V=f(br,V,ve),Ne===null?he=br:Ne.sibling=br,Ne=br,de=Vt}if(Le.done)return i(P,de),Be&&oi(P,ve),he;if(de===null){for(;!Le.done;ve++,Le=j.next())Le=W(P,Le.value,J),Le!==null&&(V=f(Le,V,ve),Ne===null?he=Le:Ne.sibling=Le,Ne=Le);return Be&&oi(P,ve),he}for(de=l(de);!Le.done;ve++,Le=j.next())Le=Q(de,P,ve,Le.value,J),Le!==null&&(e&&Le.alternate!==null&&de.delete(Le.key===null?ve:Le.key),V=f(Le,V,ve),Ne===null?he=Le:Ne.sibling=Le,Ne=Le);return e&&de.forEach(function(eT){return n(P,eT)}),Be&&oi(P,ve),he}function Xe(P,V,j,J){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var he=j.key;V!==null;){if(V.key===he){if(he=j.type,he===U){if(V.tag===7){i(P,V.sibling),J=h(V,j.props.children),J.return=P,P=J;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Fg(he)===V.type){i(P,V.sibling),J=h(V,j.props),Ml(J,j),J.return=P,P=J;break e}i(P,V);break}else n(P,V);V=V.sibling}j.type===U?(J=si(j.props.children,P.mode,J,j.key),J.return=P,P=J):(J=su(j.type,j.key,j.props,null,P.mode,J),Ml(J,j),J.return=P,P=J)}return _(P);case C:e:{for(he=j.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){i(P,V.sibling),J=h(V,j.children||[]),J.return=P,P=J;break e}else{i(P,V);break}else n(P,V);V=V.sibling}J=bh(j,P.mode,J),J.return=P,P=J}return _(P);case R:return he=j._init,j=he(j._payload),Xe(P,V,j,J)}if(st(j))return Te(P,V,j,J);if(L(j)){if(he=L(j),typeof he!="function")throw Error(s(150));return j=he.call(j),ye(P,V,j,J)}if(typeof j.then=="function")return Xe(P,V,Au(j),J);if(j.$$typeof===X)return Xe(P,V,cu(P,j),J);Su(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(i(P,V.sibling),J=h(V,j),J.return=P,P=J):(i(P,V),J=Th(j,P.mode,J),J.return=P,P=J),_(P)):i(P,V)}return function(P,V,j,J){try{Ol=0;var he=Xe(P,V,j,J);return os=null,he}catch(de){if(de===Sl||de===fu)throw de;var Ne=un(29,de,null,P.mode);return Ne.lanes=J,Ne.return=P,Ne}finally{}}}var us=Gg(!0),Qg=Gg(!1),wn=ne(null),Zn=null;function lr(e){var n=e.alternate;ie(St,St.current&1),ie(wn,e),Zn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(Zn=e)}function Yg(e){if(e.tag===22){if(ie(St,St.current),ie(wn,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else or()}function or(){ie(St,St.current),ie(wn,wn.current)}function Oa(e){oe(wn),Zn===e&&(Zn=null),oe(St)}var St=ne(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Gf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tf(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:E({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nf={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=dn(),h=rr(l);h.payload=n,i!=null&&(h.callback=i),n=ir(e,h,l),n!==null&&(mn(n,e,l),Rl(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=dn(),h=rr(l);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=ir(e,h,l),n!==null&&(mn(n,e,l),Rl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=dn(),l=rr(i);l.tag=2,n!=null&&(l.callback=n),n=ir(e,l,i),n!==null&&(mn(n,e,i),Rl(n,e,i))}};function Kg(e,n,i,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!pl(i,l)||!pl(h,f):!0}function Xg(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&nf.enqueueReplaceState(n,n.state,null)}function gi(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=E({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $g(e){Ru(e)}function Zg(e){console.error(e)}function Jg(e){Ru(e)}function xu(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(e,n,i){return i=rr(i),i.tag=3,i.payload={element:null},i.callback=function(){xu(e,n)},i}function ep(e){return e=rr(e),e.tag=3,e}function tp(e,n,i,l){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Wg(n,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Wg(n,i,l),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function e1(e,n,i,l,h){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Tl(n,i,h,!0),i=wn.current,i!==null){switch(i.tag){case 13:return Zn===null?Nf():i.alternate===null&&ut===0&&(ut=3),i.flags&=-257,i.flags|=65536,i.lanes=h,l===Vh?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Df(e,l,h)),!1;case 22:return i.flags|=65536,l===Vh?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Df(e,l,h)),!1}throw Error(s(435,i.tag))}return Df(e,l,h),Nf(),!1}if(Be)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==wh&&(e=Error(s(422),{cause:l}),El(Tn(e,i)))):(l!==wh&&(n=Error(s(423),{cause:l}),El(Tn(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Tn(l,i),h=af(e.stateNode,l,h),kh(e,h),ut!==4&&(ut=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,i),ql===null?ql=[f]:ql.push(f),ut!==4&&(ut=2),n===null)return!0;l=Tn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=af(i.stateNode,l,e),kh(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=ep(h),tp(h,e,i,l),kh(i,h),!1}i=i.return}while(i!==null);return!1}var np=Error(s(461)),Dt=!1;function Lt(e,n,i,l){n.child=e===null?Qg(n,null,i,l):us(n,e.child,i,l)}function ap(e,n,i,l,h){i=i.render;var f=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return fi(n),l=Bh(e,n,i,_,f,h),b=qh(),e!==null&&!Dt?(jh(e,n,h),Ma(e,n,h)):(Be&&b&&Ah(n),n.flags|=1,Lt(e,n,l,h),n.child)}function rp(e,n,i,l,h){if(e===null){var f=i.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,ip(e,n,f,l,h)):(e=su(i.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ff(e,h)){var _=f.memoizedProps;if(i=i.compare,i=i!==null?i:pl,i(_,l)&&e.ref===n.ref)return Ma(e,n,h)}return n.flags|=1,e=xa(f,l),e.ref=n.ref,e.return=n,n.child=e}function ip(e,n,i,l,h){if(e!==null){var f=e.memoizedProps;if(pl(f,l)&&e.ref===n.ref)if(Dt=!1,n.pendingProps=l=f,ff(e,h))(e.flags&131072)!==0&&(Dt=!0);else return n.lanes=e.lanes,Ma(e,n,h)}return rf(e,n,i,l,h)}function sp(e,n,i){var l=n.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return lp(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(n,f!==null?f.cachePool:null),f!==null?ig(n,f):Ph(),Yg(n);else return n.lanes=n.childLanes=536870912,lp(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(hu(n,f.cachePool),ig(n,f),or(),n.memoizedState=null):(e!==null&&hu(n,null),Ph(),or());return Lt(e,n,h,i),n.child}function lp(e,n,i,l){var h=Ih();return h=h===null?null:{parent:At._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&hu(n,null),Ph(),Yg(n),e!==null&&Tl(e,n,l,!0),null}function Nu(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function rf(e,n,i,l,h){return fi(n),i=Bh(e,n,i,l,void 0,h),l=qh(),e!==null&&!Dt?(jh(e,n,h),Ma(e,n,h)):(Be&&l&&Ah(n),n.flags|=1,Lt(e,n,i,h),n.child)}function op(e,n,i,l,h,f){return fi(n),n.updateQueue=null,i=lg(n,l,i,h),sg(e),l=qh(),e!==null&&!Dt?(jh(e,n,f),Ma(e,n,f)):(Be&&l&&Ah(n),n.flags|=1,Lt(e,n,i,f),n.child)}function up(e,n,i,l,h){if(fi(n),n.stateNode===null){var f=Wi,_=i.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Oh(n),_=i.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Wi,f.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(tf(n,i,_,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&nf.enqueueReplaceState(f,f.state,null),Nl(n,l,f,h),xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,x=gi(i,b);f.props=x;var F=f.context,Z=i.contextType;_=Wi,typeof Z=="object"&&Z!==null&&(_=Gt(Z));var W=i.getDerivedStateFromProps;Z=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==_)&&Xg(n,f,l,_),ar=!1;var G=n.memoizedState;f.state=G,Nl(n,l,f,h),xl(),F=n.memoizedState,b||G!==F||ar?(typeof W=="function"&&(tf(n,i,W,l),F=n.memoizedState),(x=ar||Kg(n,i,x,l,G,F,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=_,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mh(e,n),_=n.memoizedProps,Z=gi(i,_),f.props=Z,W=n.pendingProps,G=f.context,F=i.contextType,x=Wi,typeof F=="object"&&F!==null&&(x=Gt(F)),b=i.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||G!==x)&&Xg(n,f,l,x),ar=!1,G=n.memoizedState,f.state=G,Nl(n,l,f,h),xl();var Q=n.memoizedState;_!==W||G!==Q||ar||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof b=="function"&&(tf(n,i,b,l),Q=n.memoizedState),(Z=ar||Kg(n,i,Z,l,G,Q,x)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=x,l=Z):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Nu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=us(n,e.child,null,h),n.child=us(n,null,i,h)):Lt(e,n,i,h),n.memoizedState=f.state,e=n.child):e=Ma(e,n,h),e}function cp(e,n,i,l){return _l(),n.flags|=256,Lt(e,n,i,l),n.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:Zm()}}function of(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Rn),e}function hp(e,n,i){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(h?lr(n):or(),Be){var b=ot,x;if(x=b){e:{for(x=b,b=$n;x.nodeType!==8;){if(!b){b=null;break e}if(x=kn(x.nextSibling),x===null){b=null;break e}}b=x}b!==null?(n.memoizedState={dehydrated:b,treeContext:li!==null?{id:Na,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},x=un(18,null,null,0),x.stateNode=b,x.return=n,n.child=x,Wt=n,ot=null,x=!0):x=!1}x||ci(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Gf(b)?n.lanes=32:n.lanes=536870912,null;Oa(n)}return b=l.children,l=l.fallback,h?(or(),h=n.mode,b=Cu({mode:"hidden",children:b},h),l=si(l,h,i,null),b.return=n,l.return=n,b.sibling=l,n.child=b,h=n.child,h.memoizedState=lf(i),h.childLanes=of(e,_,i),n.memoizedState=sf,l):(lr(n),uf(n,b))}if(x=e.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(f)n.flags&256?(lr(n),n.flags&=-257,n=cf(e,n,i)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),h=l.fallback,b=n.mode,l=Cu({mode:"visible",children:l.children},b),h=si(h,b,i,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,us(n,e.child,null,i),l=n.child,l.memoizedState=lf(i),l.childLanes=of(e,_,i),n.memoizedState=sf,n=h);else if(lr(n),Gf(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),n=cf(e,n,i)}else if(Dt||Tl(e,n,i,!1),_=(i&e.childLanes)!==0,Dt||_){if(_=Je,_!==null&&(l=i&-i,l=(l&42)!==0?1:Xa(l),l=(l&(_.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Ji(e,l),mn(_,e,l),np;b.data==="$?"||Nf(),n=cf(e,n,i)}else b.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ot=kn(b.nextSibling),Wt=n,Be=!0,ui=null,$n=!1,e!==null&&(An[Sn++]=Na,An[Sn++]=Ca,An[Sn++]=li,Na=e.id,Ca=e.overflow,li=n),n=uf(n,l.children),n.flags|=4096);return n}return h?(or(),h=l.fallback,b=n.mode,x=e.child,F=x.sibling,l=xa(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?h=xa(F,h):(h=si(h,b,i,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,b=e.child.memoizedState,b===null?b=lf(i):(x=b.cachePool,x!==null?(F=At._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=Zm(),b={baseLanes:b.baseLanes|i,cachePool:x}),h.memoizedState=b,h.childLanes=of(e,_,i),n.memoizedState=sf,l):(lr(n),i=e.child,e=i.sibling,i=xa(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=i,n.memoizedState=null,i)}function uf(e,n){return n=Cu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Cu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cf(e,n,i){return us(n,e.child,null,i),e=uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fp(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),xh(e.return,n,i)}function hf(e,n,i,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=h)}function dp(e,n,i){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Lt(e,n,l.children,i),l=St.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,i,n);else if(e.tag===19)fp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&wu(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),hf(n,!1,h,i,f);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}hf(n,!0,i,null,f);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ma(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),dr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Tl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=xa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=xa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function t1(e,n,i){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),nr(n,At,e.memoizedState.cache),_l();break;case 27:case 5:Ka(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?hp(e,n,i):(lr(n),e=Ma(e,n,i),e!==null?e.sibling:null);lr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Tl(e,n,i,!1),l=(i&n.childLanes)!==0),h){if(l)return dp(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return n.lanes=0,sp(e,n,i);case 24:nr(n,At,e.memoizedState.cache)}return Ma(e,n,i)}function mp(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Dt=!0;else{if(!ff(e,i)&&(n.flags&128)===0)return Dt=!1,t1(e,n,i);Dt=(e.flags&131072)!==0}else Dt=!1,Be&&(n.flags&1048576)!==0&&Fm(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Eh(l)?(e=gi(l,e),n.tag=1,n=up(null,n,l,e,i)):(n.tag=0,n=rf(null,n,l,e,i));else{if(l!=null){if(h=l.$$typeof,h===re){n.tag=11,n=ap(null,n,l,e,i);break e}else if(h===O){n.tag=14,n=rp(null,n,l,e,i);break e}}throw n=kt(l)||l,Error(s(306,n,""))}}return n;case 0:return rf(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,h=gi(l,n.pendingProps),up(e,n,l,h,i);case 3:e:{if(Ze(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Mh(e,n),Nl(n,l,null,i);var _=n.memoizedState;if(l=_.cache,nr(n,At,l),l!==f.cache&&Nh(n,[At],i,!0),xl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cp(e,n,l,i);break e}else if(l!==h){h=Tn(Error(s(424)),n),El(h),n=cp(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ot=kn(e.firstChild),Wt=n,Be=!0,ui=null,$n=!0,i=Qg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(_l(),l===h){n=Ma(e,n,i);break e}Lt(e,n,l,i)}n=n.child}return n;case 26:return Nu(e,n),e===null?(i=vy(n.type,null,n.pendingProps,null))?n.memoizedState=i:Be||(i=n.type,e=n.pendingProps,l=Hu(be.current).createElement(i),l[Et]=n,l[mt]=e,Bt(l,i,e),ct(l),n.stateNode=l):n.memoizedState=vy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ka(n),e===null&&Be&&(l=n.stateNode=gy(n.type,n.pendingProps,be.current),Wt=n,$n=!0,h=ot,yr(n.type)?(Qf=h,ot=kn(l.firstChild)):ot=h),Lt(e,n,n.pendingProps.children,i),Nu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Be&&((h=l=ot)&&(l=C1(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Wt=n,ot=kn(l.firstChild),$n=!1,h=!0):h=!1),h||ci(n)),Ka(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,jf(h,f)?l=null:_!==null&&jf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(e,n,YE,null,null,i),$l._currentValue=h),Nu(e,n),Lt(e,n,l,i),n.child;case 6:return e===null&&Be&&((e=i=ot)&&(i=D1(i,n.pendingProps,$n),i!==null?(n.stateNode=i,Wt=n,ot=null,e=!0):e=!1),e||ci(n)),null;case 13:return hp(e,n,i);case 4:return Ze(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=us(n,null,l,i):Lt(e,n,l,i),n.child;case 11:return ap(e,n,n.type,n.pendingProps,i);case 7:return Lt(e,n,n.pendingProps,i),n.child;case 8:return Lt(e,n,n.pendingProps.children,i),n.child;case 12:return Lt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),Lt(e,n,l.children,i),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,fi(n),h=Gt(h),l=l(h),n.flags|=1,Lt(e,n,l,i),n.child;case 14:return rp(e,n,n.type,n.pendingProps,i);case 15:return ip(e,n,n.type,n.pendingProps,i);case 19:return dp(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=Cu(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=xa(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return sp(e,n,i);case 24:return fi(n),l=Gt(At),e===null?(h=Ih(),h===null&&(h=Je,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),n.memoizedState={parent:l,cache:h},Oh(n),nr(n,At,h)):((e.lanes&i)!==0&&(Mh(e,n),Nl(n,null,null,i),xl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),nr(n,At,l)):(l=f.cache,nr(n,At,l),l!==h.cache&&Nh(n,[At],i,!0))),Lt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ka(e){e.flags|=4}function gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ay(n)){if(n=wn.current,n!==null&&((ke&4194048)===ke?Zn!==null:(ke&62914560)!==ke&&(ke&536870912)===0||n!==Zn))throw wl=Vh,Jm;e.flags|=8192}}function Du(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Js():536870912,e.lanes|=n,ds|=n)}function kl(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function n1(e,n,i){var l=n.pendingProps;switch(Sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ia(At),Ln(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vl(n)?ka(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ym())),at(n),null;case 26:return i=n.memoizedState,e===null?(ka(n),i!==null?(at(n),gp(n,i)):(at(n),n.flags&=-16777217)):i?i!==e.memoizedState?(ka(n),at(n),gp(n,i)):(at(n),n.flags&=-16777217):(e.memoizedProps!==l&&ka(n),at(n),n.flags&=-16777217),null;case 27:ma(n),i=be.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ka(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}e=ge.current,vl(n)?Gm(n):(e=gy(h,l,i),n.stateNode=e,ka(n))}return at(n),null;case 5:if(ma(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ka(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}if(e=ge.current,vl(n))Gm(n);else{switch(h=Hu(be.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(i,{is:l.is}):h.createElement(i)}}e[Et]=n,e[mt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;e:switch(Bt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ka(n)}}return at(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ka(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=be.current,vl(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Et]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||oy(e.nodeValue,i)),e||ci(n)}else e=Hu(e).createTextNode(l),e[Et]=n,n.stateNode=e}return at(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=vl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=n}else _l(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=Ym(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Oa(n),n):(Oa(n),null)}if(Oa(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Du(n,n.updateQueue),at(n),null;case 4:return Ln(),e===null&&Pf(n.stateNode.containerInfo),at(n),null;case 10:return Ia(n.type),at(n),null;case 19:if(oe(St),h=n.memoizedState,h===null)return at(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)kl(h,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=wu(e),f!==null){for(n.flags|=128,kl(h,!1),e=f.updateQueue,n.updateQueue=e,Du(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Hm(i,e),i=i.sibling;return ie(St,St.current&1|2),n.child}e=e.sibling}h.tail!==null&&gn()>Ou&&(n.flags|=128,l=!0,kl(h,!1),n.lanes=4194304)}else{if(!l)if(e=wu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Du(n,e),kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Be)return at(n),null}else 2*gn()-h.renderingStartTime>Ou&&i!==536870912&&(n.flags|=128,l=!0,kl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,e=St.current,ie(St,l?e&1|2:e&1),n):(at(n),null);case 22:case 23:return Oa(n),Lh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),i=n.updateQueue,i!==null&&Du(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&oe(di),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ia(At),at(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function a1(e,n){switch(Sh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ia(At),Ln(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ma(n),null;case 13:if(Oa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_l()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return oe(St),null;case 4:return Ln(),null;case 10:return Ia(n.type),null;case 22:case 23:return Oa(n),Lh(),e!==null&&oe(di),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ia(At),null;case 25:return null;default:return null}}function pp(e,n){switch(Sh(n),n.tag){case 3:Ia(At),Ln();break;case 26:case 27:case 5:ma(n);break;case 4:Ln();break;case 13:Oa(n);break;case 19:oe(St);break;case 10:Ia(n.type);break;case 22:case 23:Oa(n),Lh(),e!==null&&oe(di);break;case 24:Ia(At)}}function Ul(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&e)===e){l=void 0;var f=i.create,_=i.inst;l=f(),_.destroy=l}i=i.next}while(i!==h)}}catch(b){$e(n,n.return,b)}}function ur(e,n,i){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var x=i,F=b;try{F()}catch(Z){$e(h,x,Z)}}}l=l.next}while(l!==f)}}catch(Z){$e(n,n.return,Z)}}function yp(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{rg(n,i)}catch(l){$e(e,e.return,l)}}}function vp(e,n,i){i.props=gi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){$e(e,n,l)}}function Pl(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(h){$e(e,n,h)}}function Jn(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(h){$e(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){$e(e,n,h)}else i.current=null}function _p(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(h){$e(e,e.return,h)}}function df(e,n,i){try{var l=e.stateNode;S1(l,e.type,i,n),l[mt]=n}catch(h){$e(e,e.return,h)}}function Ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ju));else if(l!==4&&(l===27&&yr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(gf(e,n,i),e=e.sibling;e!==null;)gf(e,n,i),e=e.sibling}function Iu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Iu(e,n,i),e=e.sibling;e!==null;)Iu(e,n,i),e=e.sibling}function Tp(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Bt(n,l,i),n[Et]=e,n[mt]=i}catch(f){$e(e,e.return,f)}}var Ua=!1,ft=!1,pf=!1,bp=typeof WeakSet=="function"?WeakSet:Set,It=null;function r1(e,n){if(e=e.containerInfo,Bf=Xu,e=Om(e),dh(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var _=0,b=-1,x=-1,F=0,Z=0,W=e,G=null;t:for(;;){for(var Q;W!==i||h!==0&&W.nodeType!==3||(b=_+h),W!==f||l!==0&&W.nodeType!==3||(x=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)G=W,W=Q;for(;;){if(W===e)break t;if(G===i&&++F===h&&(b=_),G===f&&++Z===l&&(x=_),(Q=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Q}i=b===-1||x===-1?null:{start:b,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(qf={focusedElem:e,selectionRange:i},Xu=!1,It=n;It!==null;)if(n=It,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,It=e;else for(;It!==null;){switch(n=It,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,h=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var Te=gi(i.type,h,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(Te,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){$e(i,i.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Ff(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,It=e;break}It=n.return}}function Ap(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:cr(e,i),l&4&&Ul(5,i);break;case 1:if(cr(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(_){$e(i,i.return,_)}else{var h=gi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(i,i.return,_)}}l&64&&yp(i),l&512&&Pl(i,i.return);break;case 3:if(cr(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{rg(e,n)}catch(_){$e(i,i.return,_)}}break;case 27:n===null&&l&4&&Tp(i);case 26:case 5:cr(e,i),n===null&&l&4&&_p(i),l&512&&Pl(i,i.return);break;case 12:cr(e,i);break;case 13:cr(e,i),l&4&&Rp(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=d1.bind(null,i),I1(e,i))));break;case 22:if(l=i.memoizedState!==null||Ua,!l){n=n!==null&&n.memoizedState!==null||ft,h=Ua;var f=ft;Ua=l,(ft=n)&&!f?hr(e,i,(i.subtreeFlags&8772)!==0):cr(e,i),Ua=h,ft=f}break;case 30:break;default:cr(e,i)}}function Sp(e){var n=e.alternate;n!==null&&(e.alternate=null,Sp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ja(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,tn=!1;function Pa(e,n,i){for(i=i.child;i!==null;)wp(e,n,i),i=i.sibling}function wp(e,n,i){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,i)}catch{}switch(i.tag){case 26:ft||Jn(i,n),Pa(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ft||Jn(i,n);var l=nt,h=tn;yr(i.type)&&(nt=i.stateNode,tn=!1),Pa(e,n,i),Ql(i.stateNode),nt=l,tn=h;break;case 5:ft||Jn(i,n);case 6:if(l=nt,h=tn,nt=null,Pa(e,n,i),nt=l,tn=h,nt!==null)if(tn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(i.stateNode)}catch(f){$e(i,n,f)}else try{nt.removeChild(i.stateNode)}catch(f){$e(i,n,f)}break;case 18:nt!==null&&(tn?(e=nt,dy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),eo(e)):dy(nt,i.stateNode));break;case 4:l=nt,h=tn,nt=i.stateNode.containerInfo,tn=!0,Pa(e,n,i),nt=l,tn=h;break;case 0:case 11:case 14:case 15:ft||ur(2,i,n),ft||ur(4,i,n),Pa(e,n,i);break;case 1:ft||(Jn(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&vp(i,n,l)),Pa(e,n,i);break;case 21:Pa(e,n,i);break;case 22:ft=(l=ft)||i.memoizedState!==null,Pa(e,n,i),ft=l;break;default:Pa(e,n,i)}}function Rp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(i){$e(n,n.return,i)}}function i1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bp),n;default:throw Error(s(435,e.tag))}}function yf(e,n){var i=i1(e);n.forEach(function(l){var h=m1.bind(null,e,l);i.has(l)||(i.add(l),l.then(h,h))})}function cn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l],f=e,_=n,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(yr(b.type)){nt=b.stateNode,tn=!1;break e}break;case 5:nt=b.stateNode,tn=!1;break e;case 3:case 4:nt=b.stateNode.containerInfo,tn=!0;break e}b=b.return}if(nt===null)throw Error(s(160));wp(f,_,h),nt=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xp(n,e),n=n.sibling}var Mn=null;function xp(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(ur(3,e,e.return),Ul(3,e),ur(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(ft||i===null||Jn(i,i.return)),l&64&&Ua&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var h=Mn;if(cn(n,e),hn(e),l&512&&(ft||i===null||Jn(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Fr]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Bt(f,l,i),f[Et]=e,ct(f),l=f;break e;case"link":var _=Ty("link","href",h).get(l+(i.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(l),Bt(f,l,i),h.head.appendChild(f);break;case"meta":if(_=Ty("meta","content",h).get(l+(i.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(b,1);break t}}f=h.createElement(l),Bt(f,l,i),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Et]=e,ct(f),l=f}e.stateNode=l}else by(h,e.type,e.stateNode);else e.stateNode=Ey(h,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?by(h,e.type,e.stateNode):Ey(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&df(e,e.memoizedProps,i.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(ft||i===null||Jn(i,i.return)),i!==null&&l&4&&df(e,e.memoizedProps,i.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(ft||i===null||Jn(i,i.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(Q){$e(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,df(e,h,i!==null?i.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(Q){$e(e,e.return,Q)}}break;case 3:if(Qu=null,h=Mn,Mn=Fu(n.containerInfo),cn(n,e),Mn=h,hn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(Q){$e(e,e.return,Q)}pf&&(pf=!1,Np(e));break;case 4:l=Mn,Mn=Fu(e.stateNode.containerInfo),cn(n,e),hn(e),Mn=l;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Af=gn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yf(e,l)));break;case 22:h=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,F=Ua,Z=ft;if(Ua=F||h,ft=Z||x,cn(n,e),ft=Z,Ua=F,hn(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||x||Ua||ft||pi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){x=i=n;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var W=x.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){$e(x,x.return,Q)}}}else if(n.tag===6){if(i===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Q){$e(x,x.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,yf(e,i))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yf(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(Ep(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,f=mf(e);Iu(e,f,h);break;case 5:var _=i.stateNode;i.flags&32&&(yn(_,""),i.flags&=-33);var b=mf(e);Iu(e,b,_);break;case 3:case 4:var x=i.stateNode.containerInfo,F=mf(e);gf(e,F,x);break;default:throw Error(s(161))}}catch(Z){$e(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Np(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ap(e,n.alternate,n),n=n.sibling}function pi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ur(4,n,n.return),pi(n);break;case 1:Jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&vp(n,n.return,i),pi(n);break;case 27:Ql(n.stateNode);case 26:case 5:Jn(n,n.return),pi(n);break;case 22:n.memoizedState===null&&pi(n);break;case 30:pi(n);break;default:pi(n)}e=e.sibling}}function hr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:hr(h,f,i),Ul(4,f);break;case 1:if(hr(h,f,i),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)ag(x[h],b)}catch(F){$e(l,l.return,F)}}i&&_&64&&yp(f),Pl(f,f.return);break;case 27:Tp(f);case 26:case 5:hr(h,f,i),i&&l===null&&_&4&&_p(f),Pl(f,f.return);break;case 12:hr(h,f,i);break;case 13:hr(h,f,i),i&&_&4&&Rp(h,f);break;case 22:f.memoizedState===null&&hr(h,f,i),Pl(f,f.return);break;case 30:break;default:hr(h,f,i)}n=n.sibling}}function vf(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&bl(i))}function _f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e))}function Wn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cp(e,n,i,l),n=n.sibling}function Cp(e,n,i,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,i,l),h&2048&&Ul(9,n);break;case 1:Wn(e,n,i,l);break;case 3:Wn(e,n,i,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e)));break;case 12:if(h&2048){Wn(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$e(n,n.return,x)}}else Wn(e,n,i,l);break;case 13:Wn(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,i,l):Ll(e,n):f._visibility&2?Wn(e,n,i,l):(f._visibility|=2,cs(e,n,i,l,(n.subtreeFlags&10256)!==0)),h&2048&&vf(_,n);break;case 24:Wn(e,n,i,l),h&2048&&_f(n.alternate,n);break;default:Wn(e,n,i,l)}}function cs(e,n,i,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,b=i,x=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:cs(f,_,b,x,h),Ul(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?cs(f,_,b,x,h):Ll(f,_):(Z._visibility|=2,cs(f,_,b,x,h)),h&&F&2048&&vf(_.alternate,_);break;case 24:cs(f,_,b,x,h),h&&F&2048&&_f(_.alternate,_);break;default:cs(f,_,b,x,h)}n=n.sibling}}function Ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,h=l.flags;switch(l.tag){case 22:Ll(i,l),h&2048&&vf(l.alternate,l);break;case 24:Ll(i,l),h&2048&&_f(l.alternate,l);break;default:Ll(i,l)}n=n.sibling}}var zl=8192;function hs(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Dp(e),e=e.sibling}function Dp(e){switch(e.tag){case 26:hs(e),e.flags&zl&&e.memoizedState!==null&&F1(Mn,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=Mn;Mn=Fu(e.stateNode.containerInfo),hs(e),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,hs(e),zl=n):hs(e));break;default:hs(e)}}function Ip(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];It=l,Op(l,e)}Ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vp(e),e=e.sibling}function Vp(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):Bl(e);break;default:Bl(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];It=l,Op(l,e)}Ip(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ur(8,n,n.return),Vu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function Op(e,n){for(;It!==null;){var i=It;switch(i.tag){case 0:case 11:case 15:ur(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,It=l;else e:for(i=e;It!==null;){l=It;var h=l.sibling,f=l.return;if(Sp(l),l===i){It=null;break e}if(h!==null){h.return=f,It=h;break e}It=f}}}var s1={getCacheForType:function(e){var n=Gt(At),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},l1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,Ce=null,ke=0,Ge=0,fn=null,fr=!1,fs=!1,Ef=!1,La=0,ut=0,dr=0,yi=0,Tf=0,Rn=0,ds=0,ql=null,nn=null,bf=!1,Af=0,Ou=1/0,Mu=null,mr=null,zt=0,gr=null,ms=null,gs=0,Sf=0,wf=null,Mp=null,jl=0,Rf=null;function dn(){if((Fe&2)!==0&&ke!==0)return ke&-ke;if($.T!==null){var e=ns;return e!==0?e:Of()}return $a()}function kp(){Rn===0&&(Rn=(ke&536870912)===0||Be?Zs():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Rn}function mn(e,n,i){(e===Je&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(ps(e,0),pr(e,ke,Rn,!1)),pa(e,i),((Fe&2)===0||e!==Je)&&(e===Je&&((Fe&2)===0&&(yi|=i),ut===4&&pr(e,ke,Rn,!1)),ea(e))}function Up(e,n,i){if((Fe&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Hr(e,n),h=l?c1(e,n):Cf(e,n,!0),f=l;do{if(h===0){fs&&!l&&pr(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!o1(i)){h=Cf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var b=e;h=ql;var x=b.current.memoizedState.isDehydrated;if(x&&(ps(b,_).flags|=256),_=Cf(b,_,!1),_!==2){if(Ef&&!x){b.errorRecoveryDisabledLanes|=f,yi|=f,h=4;break e}f=nn,nn=h,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ps(e,0),pr(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pr(l,n,Rn,!fr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Af+300-gn(),10<h)){if(pr(l,n,Rn,!fr),Oi(l,0,!0)!==0)break e;l.timeoutHandle=hy(Pp.bind(null,l,i,nn,Mu,bf,n,Rn,yi,ds,fr,f,2,-0,0),h);break e}Pp(l,i,nn,Mu,bf,n,Rn,yi,ds,fr,f,0,-0,0)}}break}while(!0);ea(e)}function Pp(e,n,i,l,h,f,_,b,x,F,Z,W,G,Q){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:H1},Dp(n),W=G1(),W!==null)){e.cancelPendingCommit=W(Fp.bind(null,e,n,f,i,l,h,_,b,x,Z,1,G,Q)),pr(e,f,_,!F);return}Fp(e,n,f,i,l,h,_,b,x)}function o1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var h=i[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(e,n,i,l){n&=~Tf,n&=~yi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Ft(h),_=1<<f;l[f]=-1,h&=~_}i!==0&&zn(e,i,n)}function ku(){return(Fe&6)===0?(Hl(0),!1):!0}function xf(){if(Ce!==null){if(Ge===0)var e=Ce.return;else e=Ce,Da=hi=null,Hh(e),os=null,Ol=0,e=Ce;for(;e!==null;)pp(e.alternate,e),e=e.return;Ce=null}}function ps(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,R1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),xf(),Je=e,Ce=i=xa(e.current,null),ke=n,Ge=0,fn=null,fr=!1,fs=Hr(e,n),Ef=!1,ds=Rn=Tf=yi=dr=ut=0,nn=ql=null,bf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ft(l),f=1<<h;n|=e[h],l&=~f}return La=n,au(),i}function Lp(e,n){Re=null,$.H=bu,n===Sl||n===fu?(n=tg(),Ge=3):n===Jm?(n=tg(),Ge=4):Ge=n===np?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Ce===null&&(ut=1,xu(e,Tn(n,e.current)))}function zp(){var e=$.H;return $.H=bu,e===null?bu:e}function Bp(){var e=$.A;return $.A=s1,e}function Nf(){ut=4,fr||(ke&4194048)!==ke&&wn.current!==null||(fs=!0),(dr&134217727)===0&&(yi&134217727)===0||Je===null||pr(Je,ke,Rn,!1)}function Cf(e,n,i){var l=Fe;Fe|=2;var h=zp(),f=Bp();(Je!==e||ke!==n)&&(Mu=null,ps(e,n)),n=!1;var _=ut;e:do try{if(Ge!==0&&Ce!==null){var b=Ce,x=fn;switch(Ge){case 8:xf(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var F=Ge;if(Ge=0,fn=null,ys(e,b,x,F),i&&fs){_=0;break e}break;default:F=Ge,Ge=0,fn=null,ys(e,b,x,F)}}u1(),_=ut;break}catch(Z){Lp(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Da=hi=null,Fe=l,$.H=h,$.A=f,Ce===null&&(Je=null,ke=0,au()),_}function u1(){for(;Ce!==null;)qp(Ce)}function c1(e,n){var i=Fe;Fe|=2;var l=zp(),h=Bp();Je!==e||ke!==n?(Mu=null,Ou=gn()+500,ps(e,n)):fs=Hr(e,n);e:do try{if(Ge!==0&&Ce!==null){n=Ce;var f=fn;t:switch(Ge){case 1:Ge=0,fn=null,ys(e,n,f,1);break;case 2:case 9:if(Wm(f)){Ge=0,fn=null,jp(n);break}n=function(){Ge!==2&&Ge!==9||Je!==e||(Ge=7),ea(e)},f.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Wm(f)?(Ge=0,fn=null,jp(n)):(Ge=0,fn=null,ys(e,n,f,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var b=Ce;if(!_||Ay(_)){Ge=0,fn=null;var x=b.sibling;if(x!==null)Ce=x;else{var F=b.return;F!==null?(Ce=F,Uu(F)):Ce=null}break t}}Ge=0,fn=null,ys(e,n,f,5);break;case 6:Ge=0,fn=null,ys(e,n,f,6);break;case 8:xf(),ut=6;break e;default:throw Error(s(462))}}h1();break}catch(Z){Lp(e,Z)}while(!0);return Da=hi=null,$.H=l,$.A=h,Fe=i,Ce!==null?0:(Je=null,ke=0,au(),ut)}function h1(){for(;Ce!==null&&!Ys();)qp(Ce)}function qp(e){var n=mp(e.alternate,e,La);e.memoizedProps=e.pendingProps,n===null?Uu(e):Ce=n}function jp(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=op(i,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=op(i,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:Hh(n);default:pp(i,n),n=Ce=Hm(n,La),n=mp(i,n,La)}e.memoizedProps=e.pendingProps,n===null?Uu(e):Ce=n}function ys(e,n,i,l){Da=hi=null,Hh(n),os=null,Ol=0;var h=n.return;try{if(e1(e,h,n,i,ke)){ut=1,xu(e,Tn(i,e.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ut=1,xu(e,Tn(i,e.current)),Ce=null;return}n.flags&32768?(Be||l===1?e=!0:fs||(ke&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hp(n,e)):Uu(n)}function Uu(e){var n=e;do{if((n.flags&32768)!==0){Hp(n,fr);return}e=n.return;var i=n1(n.alternate,n,La);if(i!==null){Ce=i;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);ut===0&&(ut=5)}function Hp(e,n){do{var i=a1(e.alternate,e);if(i!==null){i.flags&=32767,Ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=i}while(e!==null);ut=6,Ce=null}function Fp(e,n,i,l,h,f,_,b,x){e.cancelPendingCommit=null;do Pu();while(zt!==0);if((Fe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=vh,Ws(e,i,f,_,b,x),e===Je&&(Ce=Je=null,ke=0),ms=n,gr=e,gs=i,Sf=f,wf=h,Mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,g1(zr,function(){return Xp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,_=Fe,Fe|=4;try{r1(e,n,i)}finally{Fe=_,le.p=h,$.T=l}}zt=1,Gp(),Qp(),Yp()}}function Gp(){if(zt===1){zt=0;var e=gr,n=ms,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var l=le.p;le.p=2;var h=Fe;Fe|=4;try{xp(n,e);var f=qf,_=Om(e.containerInfo),b=f.focusedElem,x=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&Vm(b.ownerDocument.documentElement,b)){if(x!==null&&dh(b)){var F=x.start,Z=x.end;if(Z===void 0&&(Z=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Z,b.value.length);else{var W=b.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Te=b.textContent.length,ye=Math.min(x.start,Te),Xe=x.end===void 0?ye:Math.min(x.end,Te);!Q.extend&&ye>Xe&&(_=Xe,Xe=ye,ye=_);var P=Im(b,ye),V=Im(b,Xe);if(P&&V&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var j=W.createRange();j.setStart(P.node,P.offset),Q.removeAllRanges(),ye>Xe?(Q.addRange(j),Q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Q.addRange(j))}}}}for(W=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var J=W[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xu=!!Bf,qf=Bf=null}finally{Fe=h,le.p=l,$.T=i}}e.current=n,zt=2}}function Qp(){if(zt===2){zt=0;var e=gr,n=ms,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var l=le.p;le.p=2;var h=Fe;Fe|=4;try{Ap(e,n.alternate,n)}finally{Fe=h,le.p=l,$.T=i}}zt=3}}function Yp(){if(zt===4||zt===3){zt=0,Vo();var e=gr,n=ms,i=gs,l=Mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,ms=gr=null,Kp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(mr=null),Mi(i),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=le.p,le.p=2,$.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{$.T=n,le.p=h}}(gs&3)!==0&&Pu(),ea(e),h=e.pendingLanes,(i&4194090)!==0&&(h&42)!==0?e===Rf?jl++:(jl=0,Rf=e):jl=0,Hl(0)}}function Kp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bl(n)))}function Pu(e){return Gp(),Qp(),Yp(),Xp()}function Xp(){if(zt!==5)return!1;var e=gr,n=Sf;Sf=0;var i=Mi(gs),l=$.T,h=le.p;try{le.p=32>i?32:i,$.T=null,i=wf,wf=null;var f=gr,_=gs;if(zt=0,ms=gr=null,gs=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,Vp(f.current),Cp(f,f.current,_,i),Fe=b,Hl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,f)}catch{}return!0}finally{le.p=h,$.T=l,Kp(e,n)}}function $p(e,n,i){n=Tn(i,n),n=af(e.stateNode,n,2),e=ir(e,n,2),e!==null&&(pa(e,2),ea(e))}function $e(e,n,i){if(e.tag===3)$p(e,e,i);else for(;n!==null;){if(n.tag===3){$p(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){e=Tn(i,e),i=ep(2),l=ir(n,i,2),l!==null&&(tp(i,l,n,e),pa(l,2),ea(l));break}}n=n.return}}function Df(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new l1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(i)||(Ef=!0,h.add(i),e=f1.bind(null,e,n,i),n.then(e,e))}function f1(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Je===e&&(ke&i)===i&&(ut===4||ut===3&&(ke&62914560)===ke&&300>gn()-Af?(Fe&2)===0&&ps(e,0):Tf|=i,ds===ke&&(ds=0)),ea(e)}function Zp(e,n){n===0&&(n=Js()),e=Ji(e,n),e!==null&&(pa(e,n),ea(e))}function d1(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Zp(e,i)}function m1(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zp(e,i)}function g1(e,n){return Pr(e,n)}var Lu=null,vs=null,If=!1,zu=!1,Vf=!1,vi=0;function ea(e){e!==vs&&e.next===null&&(vs===null?Lu=vs=e:vs=vs.next=e),zu=!0,If||(If=!0,y1())}function Hl(e,n){if(!Vf&&zu){Vf=!0;do for(var i=!1,l=Lu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Ft(42|e)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ty(l,f))}else f=ke,f=Oi(l,l===Je?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hr(l,f)||(i=!0,ty(l,f));l=l.next}while(i);Vf=!1}}function p1(){Jp()}function Jp(){zu=If=!1;var e=0;vi!==0&&(w1()&&(e=vi),vi=0);for(var n=gn(),i=null,l=Lu;l!==null;){var h=l.next,f=Wp(l,n);f===0?(l.next=null,i===null?Lu=h:i.next=h,h===null&&(vs=i)):(i=l,(e!==0||(f&3)!==0)&&(zu=!0)),l=h}Hl(e)}function Wp(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Ft(f),b=1<<_,x=h[_];x===-1?((b&i)===0||(b&l)!==0)&&(h[_]=$s(b,n)):x<=n&&(e.expiredLanes|=b),f&=~b}if(n=Je,i=ke,i=Oi(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Hr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Lr(l),Mi(i)){case 2:case 8:i=Ii;break;case 32:i=zr;break;case 268435456:i=Vi;break;default:i=zr}return l=ey.bind(null,e),i=Pr(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Lr(l),e.callbackPriority=2,e.callbackNode=null,2}function ey(e,n){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Pu()&&e.callbackNode!==i)return null;var l=ke;return l=Oi(e,e===Je?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Up(e,l,n),Wp(e,gn()),e.callbackNode!=null&&e.callbackNode===i?ey.bind(null,e):null)}function ty(e,n){if(Pu())return null;Up(e,n,!0)}function y1(){x1(function(){(Fe&6)!==0?Pr(Ks,p1):Jp()})}function Of(){return vi===0&&(vi=Zs()),vi}function ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bi(""+e)}function ay(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function v1(e,n,i,l,h){if(n==="submit"&&i&&i.stateNode===h){var f=ny((h[mt]||null).action),_=l.submitter;_&&(n=(n=_[mt]||null)?ny(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new qi("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vi!==0){var x=_?ay(h,_):new FormData(h);Jh(i,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(b.preventDefault(),x=_?ay(h,_):new FormData(h),Jh(i,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Mf=0;Mf<yh.length;Mf++){var kf=yh[Mf],_1=kf.toLowerCase(),E1=kf[0].toUpperCase()+kf.slice(1);On(_1,"on"+E1)}On(Um,"onAnimationEnd"),On(Pm,"onAnimationIteration"),On(Lm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(PE,"onTransitionRun"),On(LE,"onTransitionStart"),On(zE,"onTransitionCancel"),On(zm,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function ry(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],x=b.instance,F=b.currentTarget;if(b=b.listener,x!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(Z){Ru(Z)}h.currentTarget=null,f=x}else for(_=0;_<l.length;_++){if(b=l[_],x=b.instance,F=b.currentTarget,b=b.listener,x!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(Z){Ru(Z)}h.currentTarget=null,f=x}}}}function De(e,n){var i=n[tl];i===void 0&&(i=n[tl]=new Set);var l=e+"__bubble";i.has(l)||(iy(n,e,2,!1),i.add(l))}function Uf(e,n,i){var l=0;n&&(l|=4),iy(i,e,l,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Bu]){e[Bu]=!0,nl.forEach(function(i){i!=="selectionchange"&&(T1.has(i)||Uf(i,!1,e),Uf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Uf("selectionchange",!1,n))}}function iy(e,n,i,l){switch(Cy(n)){case 2:var h=K1;break;case 8:h=X1;break;default:h=Zf}i=h.bind(null,n,i,e),h=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Lf(e,n,i,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=ya(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=f=_;continue e}b=b.parentNode}}l=l.return}jo(function(){var F=f,Z=vn(i),W=[];e:{var G=Bm.get(e);if(G!==void 0){var Q=qi,Te=e;switch(e){case"keypress":if(Gn(i)===0)break e;case"keydown":case"keyup":Q=Yi;break;case"focusin":Te="focus",Q=Fi;break;case"focusout":Te="blur",Q=Fi;break;case"beforeblur":case"afterblur":Q=Fi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=$o;break;case Um:case Pm:case Lm:Q=Gi;break;case zm:Q=Jo;break;case"scroll":case"scrollend":Q=Ho;break;case"wheel":Q=Ki;break;case"copy":case"cut":case"paste":Q=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ml;break;case"toggle":case"beforetoggle":Q=eu}var ye=(n&4)!==0,Xe=!ye&&(e==="scroll"||e==="scrollend"),P=ye?G!==null?G+"Capture":null:G;ye=[];for(var V=F,j;V!==null;){var J=V;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||P===null||(J=Zr(V,P),J!=null&&ye.push(Gl(V,J,j))),Xe)break;V=V.return}0<ye.length&&(G=new Q(G,Te,null,i,Z),W.push({event:G,listeners:ye}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&i!==Ta&&(Te=i.relatedTarget||i.fromElement)&&(ya(Te)||Te[pn]))break e;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Te=i.relatedTarget||i.toElement,Q=F,Te=Te?ya(Te):null,Te!==null&&(Xe=c(Te),ye=Te.tag,Te!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(Q=null,Te=F),Q!==Te)){if(ye=En,J="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(ye=ml,J="onPointerLeave",P="onPointerEnter",V="pointer"),Xe=Q==null?G:qn(Q),j=Te==null?G:qn(Te),G=new ye(J,V+"leave",Q,i,Z),G.target=Xe,G.relatedTarget=j,J=null,ya(Z)===F&&(ye=new ye(P,V+"enter",Te,i,Z),ye.target=j,ye.relatedTarget=Xe,J=ye),Xe=J,Q&&Te)t:{for(ye=Q,P=Te,V=0,j=ye;j;j=_s(j))V++;for(j=0,J=P;J;J=_s(J))j++;for(;0<V-j;)ye=_s(ye),V--;for(;0<j-V;)P=_s(P),j--;for(;V--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=_s(ye),P=_s(P)}ye=null}else ye=null;Q!==null&&sy(W,G,Q,ye,!1),Te!==null&&Xe!==null&&sy(W,Xe,Te,ye,!0)}}e:{if(G=F?qn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var he=wm;else if(bt(G))if(Rm)he=ME;else{he=VE;var Ne=IE}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ll(F.elementType)&&(he=wm):he=OE;if(he&&(he=he(e,F))){Ra(W,he,i,Z);break e}Ne&&Ne(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&er(G,"number",G.value)}switch(Ne=F?qn(F):window,e){case"focusin":(bt(Ne)||Ne.contentEditable==="true")&&(Xi=Ne,mh=F,yl=null);break;case"focusout":yl=mh=Xi=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Mm(W,i,Z);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Mm(W,i,Z)}var de;if(Kn)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Oe?Y(e,i)&&(ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ve="onCompositionStart");ve&&(v&&i.locale!=="ko"&&(Oe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Oe&&(de=ul()):(Fn=Z,tr="value"in Fn?Fn.value:Fn.textContent,Oe=!0)),Ne=qu(F,ve),0<Ne.length&&(ve=new fl(ve,e,null,i,Z),W.push({event:ve,listeners:Ne}),de?ve.data=de:(de=se(i),de!==null&&(ve.data=de)))),(de=m?Tt(e,i):Me(e,i))&&(ve=qu(F,"onBeforeInput"),0<ve.length&&(Ne=new fl("onBeforeInput","beforeinput",null,i,Z),W.push({event:Ne,listeners:ve}),Ne.data=de)),v1(W,e,F,i,Z)}ry(W,n)})}function Gl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function qu(e,n){for(var i=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zr(e,i),h!=null&&l.unshift(Gl(e,h,f)),h=Zr(e,n),h!=null&&l.push(Gl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sy(e,n,i,l,h){for(var f=n._reactName,_=[];i!==null&&i!==l;){var b=i,x=b.alternate,F=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||F===null||(x=F,h?(F=Zr(i,f),F!=null&&_.unshift(Gl(i,F,x))):h||(F=Zr(i,f),F!=null&&_.push(Gl(i,F,x)))),i=i.return}_.length!==0&&e.push({event:n,listeners:_})}var b1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function ly(e){return(typeof e=="string"?e:""+e).replace(b1,`
`).replace(A1,"")}function oy(e,n){return n=ly(n),ly(e)===n}function ju(){}function Ke(e,n,i,l,h,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(e,""+l);break;case"className":jn(e,"class",l);break;case"tabIndex":jn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(e,i,l);break;case"style":sl(e,l,f);break;case"data":if(n!=="object"){jn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Bi(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Ke(e,n,"name",h.name,h,null),Ke(e,n,"formEncType",h.formEncType,h,null),Ke(e,n,"formMethod",h.formMethod,h,null),Ke(e,n,"formTarget",h.formTarget,h,null)):(Ke(e,n,"encType",h.encType,h,null),Ke(e,n,"method",h.method,h,null),Ke(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Bi(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=ju);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Bi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":De("beforetoggle",e),De("toggle",e),Wa(e,"popover",l);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=lh.get(i)||i,Wa(e,i,l))}}function zf(e,n,i,l,h,f){switch(i){case"style":sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?yn(e,l):(typeof l=="number"||typeof l=="bigint")&&yn(e,""+l);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),f=e[mt]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,h);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Wa(e,i,l)}}}function Bt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var l=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var _=i[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ke(e,n,f,_,i,null)}}h&&Ke(e,n,"srcSet",i.srcSet,i,null),l&&Ke(e,n,"src",i.src,i,null);return;case"input":De("invalid",e);var b=f=_=h=null,x=null,F=null;for(l in i)if(i.hasOwnProperty(l)){var Z=i[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":x=Z;break;case"defaultChecked":F=Z;break;case"value":f=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Ke(e,n,l,Z,i,null)}}Kr(e,f,b,x,F,_,h,!1),zi(e);return;case"select":De("invalid",e),l=_=f=null;for(h in i)if(i.hasOwnProperty(h)&&(b=i[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ke(e,n,h,b,i,null)}n=f,i=_,e.multiple=!!l,n!=null?Ea(e,!!l,n,!1):i!=null&&Ea(e,!!l,i,!0);return;case"textarea":De("invalid",e),f=h=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(b=i[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ke(e,n,_,b,i,null)}Xr(e,l,h,f),zi(e);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(e,n,x,l,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(l=0;l<Fl.length;l++)De(Fl[l],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in i)if(i.hasOwnProperty(F)&&(l=i[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ke(e,n,F,l,i,null)}return;default:if(ll(n)){for(Z in i)i.hasOwnProperty(Z)&&(l=i[Z],l!==void 0&&zf(e,n,Z,l,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(l=i[b],l!=null&&Ke(e,n,b,l,i,null))}function S1(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,x=null,F=null,Z=null;for(Q in i){var W=i[Q];if(i.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(Q)||Ke(e,n,Q,null,l,W)}}for(var G in l){var Q=l[G];if(W=i[G],l.hasOwnProperty(G)&&(Q!=null||W!=null))switch(G){case"type":f=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==W&&Ke(e,n,G,Q,l,W)}}ln(e,_,b,x,F,Z,f,h);return;case"select":Q=_=b=G=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(f)||Ke(e,n,f,null,l,x)}for(h in l)if(f=l[h],x=i[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==x&&Ke(e,n,h,f,l,x)}n=b,i=_,l=Q,G!=null?Ea(e,!!i,G,!1):!!l!=!!i&&(n!=null?Ea(e,!!i,n,!0):Ea(e,!!i,i?[]:"",!1));return;case"textarea":Q=G=null;for(b in i)if(h=i[b],i.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ke(e,n,b,null,l,h)}for(_ in l)if(h=l[_],f=i[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ke(e,n,_,h,l,f)}Qe(e,G,Q);return;case"option":for(var Te in i)if(G=i[Te],i.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":e.selected=!1;break;default:Ke(e,n,Te,null,l,G)}for(x in l)if(G=l[x],Q=i[x],l.hasOwnProperty(x)&&G!==Q&&(G!=null||Q!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(e,n,x,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)G=i[ye],i.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Ke(e,n,ye,null,l,G);for(F in l)if(G=l[F],Q=i[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Ke(e,n,F,G,l,Q)}return;default:if(ll(n)){for(var Xe in i)G=i[Xe],i.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&zf(e,n,Xe,void 0,l,G);for(Z in l)G=l[Z],Q=i[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||zf(e,n,Z,G,l,Q);return}}for(var P in i)G=i[P],i.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&Ke(e,n,P,null,l,G);for(W in l)G=l[W],Q=i[W],!l.hasOwnProperty(W)||G===Q||G==null&&Q==null||Ke(e,n,W,G,l,Q)}var Bf=null,qf=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function uy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function w1(){var e=window.event;return e&&e.type==="popstate"?e===Hf?!1:(Hf=e,!0):(Hf=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(e){return fy.resolve(null).then(e).catch(N1)}:hy;function N1(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function dy(e,n){var i=n,l=0,h=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var _=e.ownerDocument;if(i&1&&Ql(_.documentElement),i&2&&Ql(_.body),i&4)for(i=_.head,Ql(i),_=i.firstChild;_;){var b=_.nextSibling,x=_.nodeName;_[Fr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||i.removeChild(_),_=b}}if(h===0){e.removeChild(f),eo(n);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);eo(n)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ff(i),Ja(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function C1(e,n,i,l){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Fr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function D1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function I1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Qf=null;function my(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function gy(e,n,i){switch(n=Hu(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ja(e)}var xn=new Map,py=new Set;function Fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=le.d;le.d={f:V1,r:O1,D:M1,C:k1,L:U1,m:P1,X:z1,S:L1,M:B1};function V1(){var e=za.f(),n=ku();return e||n}function O1(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):za.r(e)}var Es=typeof document>"u"?null:document;function yy(e,n,i){var l=Es;if(l&&typeof n=="string"&&n){var h=gt(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),py.has(h)||(py.add(h),e={rel:e,crossOrigin:i,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Bt(n,"link",e),ct(n),l.head.appendChild(n)))}}function M1(e){za.D(e),yy("dns-prefetch",e,null)}function k1(e,n){za.C(e,n),yy("preconnect",e,n)}function U1(e,n,i){za.L(e,n,i);var l=Es;if(l&&e&&n){var h='link[rel="preload"][as="'+gt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+gt(i.imageSizes)+'"]')):h+='[href="'+gt(e)+'"]';var f=h;switch(n){case"style":f=Ts(e);break;case"script":f=bs(e)}xn.has(f)||(e=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),xn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Yl(f))||n==="script"&&l.querySelector(Kl(f))||(n=l.createElement("link"),Bt(n,"link",e),ct(n),l.head.appendChild(n)))}}function P1(e,n){za.m(e,n);var i=Es;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bs(e)}if(!xn.has(f)&&(e=E({rel:"modulepreload",href:e},n),xn.set(f,e),i.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Kl(f)))return}l=i.createElement("link"),Bt(l,"link",e),ct(l),i.head.appendChild(l)}}}function L1(e,n,i){za.S(e,n,i);var l=Es;if(l&&e){var h=$t(l).hoistableStyles,f=Ts(e);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Yl(f)))b.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},i),(i=xn.get(f))&&Yf(e,i);var x=_=l.createElement("link");ct(x),Bt(x,"link",e),x._p=new Promise(function(F,Z){x.onload=F,x.onerror=Z}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Gu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function z1(e,n){za.X(e,n);var i=Es;if(i&&e){var l=$t(i).hoistableScripts,h=bs(e),f=l.get(h);f||(f=i.querySelector(Kl(h)),f||(e=E({src:e,async:!0},n),(n=xn.get(h))&&Kf(e,n),f=i.createElement("script"),ct(f),Bt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B1(e,n){za.M(e,n);var i=Es;if(i&&e){var l=$t(i).hoistableScripts,h=bs(e),f=l.get(h);f||(f=i.querySelector(Kl(h)),f||(e=E({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&Kf(e,n),f=i.createElement("script"),ct(f),Bt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function vy(e,n,i,l){var h=(h=be.current)?Fu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ts(i.href),i=$t(h).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ts(i.href);var f=$t(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Yl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),xn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},xn.set(e,i),f||q1(h,e,i,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bs(i),i=$t(h).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ts(e){return'href="'+gt(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function _y(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Bt(n,"link",i),ct(n),e.head.appendChild(n))}function bs(e){return'[src="'+gt(e)+'"]'}function Kl(e){return"script[async]"+e}function Ey(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+gt(i.href)+'"]');if(l)return n.instance=l,ct(l),l;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),Bt(l,"style",h),Gu(l,i.precedence,e),n.instance=l;case"stylesheet":h=Ts(i.href);var f=e.querySelector(Yl(h));if(f)return n.state.loading|=4,n.instance=f,ct(f),f;l=_y(i),(h=xn.get(h))&&Yf(l,h),f=(e.ownerDocument||e).createElement("link"),ct(f);var _=f;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),Bt(f,"link",l),n.state.loading|=4,Gu(f,i.precedence,e),n.instance=f;case"script":return f=bs(i.src),(h=e.querySelector(Kl(f)))?(n.instance=h,ct(h),h):(l=i,(h=xn.get(f))&&(l=E({},i),Kf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ct(h),Bt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gu(l,i.precedence,e));return n.instance}function Gu(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function Ty(e,n,i){if(Qu===null){var l=new Map,h=Qu=new Map;h.set(i,l)}else h=Qu,l=h.get(i),l||(l=new Map,h.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var f=i[h];if(!(f[Fr]||f[Et]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function by(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function j1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xl=null;function H1(){}function F1(e,n,i){if(Xl===null)throw Error(s(475));var l=Xl;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ts(i.href),f=e.querySelector(Yl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Yu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ct(f);return}f=e.ownerDocument||e,i=_y(i),(h=xn.get(h))&&Yf(i,h),f=f.createElement("link"),ct(f);var _=f;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),Bt(f,"link",i),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Yu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function G1(){if(Xl===null)throw Error(s(475));var e=Xl;return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ku=null;function Xf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ku=new Map,n.forEach(Q1,e),Ku=null,Yu.call(e))}function Q1(e,n){if(!(n.state.loading&4)){var i=Ku.get(e);if(i)var l=i.get(null);else{i=new Map,Ku.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=i.get(_)||l,f===l&&i.set(null,h),i.set(_,h),this.count++,l=Yu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var $l={$$typeof:X,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Y1(e,n,i,l,h,f,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sy(e,n,i,l,h,f,_,b,x,F,Z,W){return e=new Y1(e,n,i,_,b,x,F,W),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=Ch(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},Oh(f),e}function wy(e){return e?(e=Wi,e):Wi}function Ry(e,n,i,l,h,f){h=wy(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=ir(e,l,n),i!==null&&(mn(i,e,n),Rl(i,e,n))}function xy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function $f(e,n){xy(e,n),(e=e.alternate)&&xy(e,n)}function Ny(e){if(e.tag===13){var n=Ji(e,67108864);n!==null&&mn(n,e,67108864),$f(e,67108864)}}var Xu=!0;function K1(e,n,i,l){var h=$.T;$.T=null;var f=le.p;try{le.p=2,Zf(e,n,i,l)}finally{le.p=f,$.T=h}}function X1(e,n,i,l){var h=$.T;$.T=null;var f=le.p;try{le.p=8,Zf(e,n,i,l)}finally{le.p=f,$.T=h}}function Zf(e,n,i,l){if(Xu){var h=Jf(l);if(h===null)Lf(e,n,l,$u,i),Dy(e,l);else if(Z1(h,e,n,i,l))l.stopPropagation();else if(Dy(e,l),n&4&&-1<$1.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Dn(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-Ft(_);b.entanglements[1]|=x,_&=~x}ea(f),(Fe&6)===0&&(Ou=gn()+500,Hl(0))}}break;case 13:b=Ji(f,2),b!==null&&mn(b,f,2),ku(),$f(f,2)}if(f=Jf(l),f===null&&Lf(e,n,l,$u,i),f===h)break;h=f}h!==null&&l.stopPropagation()}else Lf(e,n,l,null,i)}}function Jf(e){return e=vn(e),Wf(e)}var $u=null;function Wf(e){if($u=null,e=ya(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $u=e,null}function Cy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Ks:return 2;case Ii:return 8;case zr:case nh:return 32;case Vi:return 268435456;default:return 32}default:return 32}}var ed=!1,vr=null,_r=null,Er=null,Zl=new Map,Jl=new Map,Tr=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function Wl(e,n,i,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&Ny(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Z1(e,n,i,l,h){switch(n){case"focusin":return vr=Wl(vr,e,n,i,l,h),!0;case"dragenter":return _r=Wl(_r,e,n,i,l,h),!0;case"mouseover":return Er=Wl(Er,e,n,i,l,h),!0;case"pointerover":var f=h.pointerId;return Zl.set(f,Wl(Zl.get(f)||null,e,n,i,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Jl.set(f,Wl(Jl.get(f)||null,e,n,i,l,h)),!0}return!1}function Iy(e){var n=ya(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,ko(e.priority,function(){if(i.tag===13){var l=dn();l=Xa(l);var h=Ji(i,l);h!==null&&mn(h,i,l),$f(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Jf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Ta=l,i.target.dispatchEvent(l),Ta=null}else return n=Bn(i),n!==null&&Ny(n),e.blockedOn=i,!1;n.shift()}return!0}function Vy(e,n,i){Zu(e)&&i.delete(n)}function J1(){ed=!1,vr!==null&&Zu(vr)&&(vr=null),_r!==null&&Zu(_r)&&(_r=null),Er!==null&&Zu(Er)&&(Er=null),Zl.forEach(Vy),Jl.forEach(Vy)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,J1)))}var Wu=null;function Oy(e){Wu!==e&&(Wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Wf(l||i)===null)continue;break}var f=Bn(i);f!==null&&(e.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:i.method,action:l},l,h))}}))}function eo(e){function n(x){return Ju(x,e)}vr!==null&&Ju(vr,e),_r!==null&&Ju(_r,e),Er!==null&&Ju(Er,e),Zl.forEach(n),Jl.forEach(n);for(var i=0;i<Tr.length;i++){var l=Tr[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Tr.length&&(i=Tr[0],i.blockedOn===null);)Iy(i),i.blockedOn===null&&Tr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var h=i[l],f=i[l+1],_=h[mt]||null;if(typeof f=="function")_||Oy(i);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[mt]||null)b=_.formAction;else if(Wf(h)!==null)continue}else b=_.action;typeof b=="function"?i[l+1]=b:(i.splice(l,3),l-=3),Oy(i)}}}function td(e){this._internalRoot=e}ec.prototype.render=td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=dn();Ry(i,l,e,n,null,null)},ec.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ry(e.current,2,null,e,null,null),ku(),n[pn]=null}};function ec(e){this._internalRoot=e}ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=$a();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Tr.length&&n!==0&&n<Tr[i].priority;i++);Tr.splice(i,0,e),i===0&&Iy(e)}};var My=t.version;if(My!=="19.1.1")throw Error(s(527,My,"19.1.1"));le.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var W1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{lt=tc.inject(W1),He=tc}catch{}}return to.createRoot=function(e,n){if(!o(e))throw Error(s(299));var i=!1,l="",h=$g,f=Zg,_=Jg,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=Sy(e,1,!1,null,null,i,l,h,f,_,b,null),e[pn]=n.current,Pf(e),new td(n)},to.hydrateRoot=function(e,n,i){if(!o(e))throw Error(s(299));var l=!1,h="",f=$g,_=Zg,b=Jg,x=null,F=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(F=i.formState)),n=Sy(e,1,!0,n,i??null,l,h,f,_,b,x,F),n.context=wy(null),i=n.current,l=dn(),l=Xa(l),h=rr(l),h.callback=null,ir(i,h,l),i=l,n.current.lanes=i,pa(n,i),ea(n),e[pn]=n.current,Pf(e),new ec(n)},to.version="19.1.1",to}var jy;function oT(){if(jy)return ad.exports;jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=lT(),ad.exports}var uT=oT();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hy="popstate";function cT(r={}){function t(s,o){let{pathname:c,search:d,hash:g}=s.location;return _d("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:fo(o)}return fT(t,a,null,r)}function rt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sa(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function Fy(r,t){return{usr:r.state,key:r.key,idx:t}}function _d(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?zs(t):t,state:a,key:t&&t.key||s||hT()}}function fo({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function zs(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function fT(r,t,a,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let B=E(),ae=B==null?null:B-p;p=B,y&&y({action:g,location:K.location,delta:ae})}function w(B,ae){g="PUSH";let q=_d(K.location,B,ae);p=E()+1;let X=Fy(q,p),re=K.createHref(q);try{d.pushState(X,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}c&&y&&y({action:g,location:K.location,delta:1})}function C(B,ae){g="REPLACE";let q=_d(K.location,B,ae);p=E();let X=Fy(q,p),re=K.createHref(q);d.replaceState(X,"",re),c&&y&&y({action:g,location:K.location,delta:0})}function U(B){return dT(B)}let K={get action(){return g},get location(){return r(o,d)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Hy,S),y=B,()=>{o.removeEventListener(Hy,S),y=null}},createHref(B){return t(o,B)},createURL:U,encodeLocation(B){let ae=U(B);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:w,replace:C,go(B){return d.go(B)}};return K}function dT(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),rt(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function o_(r,t,a="/"){return mT(r,t,a,!1)}function mT(r,t,a,s){let o=typeof t=="string"?zs(t):t,c=Ha(o.pathname||"/",a);if(c==null)return null;let d=u_(r);gT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=RT(c);g=ST(d[y],p,s)}return g}function u_(r,t=[],a=[],s="",o=!1){let c=(d,g,y=o,p)=>{let E={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;rt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ba([s,E.relativePath]),w=a.concat(E);d.children&&d.children.length>0&&(rt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),u_(d.children,t,w,S,y)),!(d.path==null&&!d.index)&&t.push({path:S,score:bT(S,d.index),routesMeta:w})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let y of c_(d.path))c(d,g,!0,y)}),t}function c_(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=c_(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function gT(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:AT(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var pT=/^:[\w-]+$/,yT=3,vT=2,_T=1,ET=10,TT=-2,Gy=r=>r==="*";function bT(r,t){let a=r.split("/"),s=a.length;return a.some(Gy)&&(s+=TT),t&&(s+=vT),a.filter(o=>!Gy(o)).reduce((o,c)=>o+(pT.test(c)?yT:c===""?_T:ET),s)}function AT(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function ST(r,t,a=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),w=y.route;if(!S&&p&&a&&!s[s.length-1].route.index&&(S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Ba([c,S.pathname]),pathnameBase:DT(Ba([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Ba([c,S.pathnameBase]))}return d}function yc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=wT(r.path,r.caseSensitive,r.end),o=t.match(a);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},w)=>{if(E==="*"){let U=g[w]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const C=g[w];return S&&!C?p[E]=void 0:p[E]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function wT(r,t=!1,a=!0){sa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function RT(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ha(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}function xT(r,t="/"){let{pathname:a,search:s="",hash:o=""}=typeof r=="string"?zs(r):r;return{pathname:a?a.startsWith("/")?a:NT(a,t):t,search:IT(s),hash:VT(o)}}function NT(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function ld(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CT(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function h_(r){let t=CT(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function f_(r,t,a,s=!1){let o;typeof r=="string"?o=zs(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=a;else{let S=t.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}g=S>=0?t[S]:"/"}let y=xT(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Ba=r=>r.join("/").replace(/\/\/+/g,"/"),DT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function OT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var MT=["GET",...d_];new Set(MT);var Bs=H.createContext(null);Bs.displayName="DataRouter";var Uc=H.createContext(null);Uc.displayName="DataRouterState";H.createContext(!1);var m_=H.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var kT=H.createContext(new Map);kT.displayName="Fetchers";var UT=H.createContext(null);UT.displayName="Await";var ha=H.createContext(null);ha.displayName="Navigation";var Ao=H.createContext(null);Ao.displayName="Location";var fa=H.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var Hd=H.createContext(null);Hd.displayName="RouteError";function PT(r,{relative:t}={}){rt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=H.useContext(ha),{hash:o,pathname:c,search:d}=wo(r,{relative:t}),g=c;return a!=="/"&&(g=c==="/"?a:Ba([a,c])),s.createHref({pathname:g,search:d,hash:o})}function So(){return H.useContext(Ao)!=null}function Si(){return rt(So(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ao).location}var g_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p_(r){H.useContext(ha).static||H.useLayoutEffect(r)}function y_(){let{isDataRoute:r}=H.useContext(fa);return r?ZT():LT()}function LT(){rt(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Bs),{basename:t,navigator:a}=H.useContext(ha),{matches:s}=H.useContext(fa),{pathname:o}=Si(),c=JSON.stringify(h_(s)),d=H.useRef(!1);return p_(()=>{d.current=!0}),H.useCallback((y,p={})=>{if(sa(d.current,g_),!d.current)return;if(typeof y=="number"){a.go(y);return}let E=f_(y,JSON.parse(c),o,p.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ba([t,E.pathname])),(p.replace?a.replace:a.push)(E,p.state,p)},[t,a,c,o,r])}H.createContext(null);function zT(){let{matches:r}=H.useContext(fa),t=r[r.length-1];return t?t.params:{}}function wo(r,{relative:t}={}){let{matches:a}=H.useContext(fa),{pathname:s}=Si(),o=JSON.stringify(h_(a));return H.useMemo(()=>f_(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function BT(r,t){return v_(r,t)}function v_(r,t,a,s,o){rt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(ha),{matches:d}=H.useContext(fa),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let q=S&&S.path||"";__(p,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Si(),C;if(t){let q=typeof t=="string"?zs(t):t;rt(E==="/"||q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${q.pathname}" was given in the \`location\` prop.`),C=q}else C=w;let U=C.pathname||"/",K=U;if(E!=="/"){let q=E.replace(/^\//,"").split("/");K="/"+U.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=o_(r,{pathname:K});sa(S||B!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),sa(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ae=GT(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:Ba([E,c.encodeLocation?c.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?E:Ba([E,c.encodeLocation?c.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),d,a,s,o);return t&&ae?H.createElement(Ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},ae):ae}function qT(){let r=$T(),t=OT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),a?H.createElement("pre",{style:o},a):null,d)}var jT=H.createElement(qT,null),HT=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement(fa.Provider,{value:this.props.routeContext},H.createElement(Hd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FT({routeContext:r,match:t,children:a}){let s=H.useContext(Bs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(fa.Provider,{value:r},a)}function GT(r,t=[],a=null,s=null,o=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let c=r,d=a?.errors;if(d!=null){let p=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,y=-1;if(a)for(let p=0;p<c.length;p++){let E=c[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:S,errors:w}=a,C=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||C){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((p,E,S)=>{let w,C=!1,U=null,K=null;a&&(w=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||jT,g&&(y<0&&S===0?(__("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,K=null):y===S&&(C=!0,K=E.route.hydrateFallbackElement||null)));let B=t.concat(c.slice(0,S+1)),ae=()=>{let q;return w?q=U:C?q=K:E.route.Component?q=H.createElement(E.route.Component,null):E.route.element?q=E.route.element:q=p,H.createElement(FT,{match:E,routeContext:{outlet:p,matches:B,isDataRoute:a!=null},children:q})};return a&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?H.createElement(HT,{location:a.location,revalidation:a.revalidation,component:U,error:w,children:ae(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):ae()},null)}function Fd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(r){let t=H.useContext(Bs);return rt(t,Fd(r)),t}function YT(r){let t=H.useContext(Uc);return rt(t,Fd(r)),t}function KT(r){let t=H.useContext(fa);return rt(t,Fd(r)),t}function Gd(r){let t=KT(r),a=t.matches[t.matches.length-1];return rt(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function XT(){return Gd("useRouteId")}function $T(){let r=H.useContext(Hd),t=YT("useRouteError"),a=Gd("useRouteError");return r!==void 0?r:t.errors?.[a]}function ZT(){let{router:r}=QT("useNavigate"),t=Gd("useNavigate"),a=H.useRef(!1);return p_(()=>{a.current=!0}),H.useCallback(async(o,c={})=>{sa(a.current,g_),a.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var Qy={};function __(r,t,a){!t&&!Qy[r]&&(Qy[r]=!0,sa(!1,a))}H.memo(JT);function JT({routes:r,future:t,state:a,unstable_onError:s}){return v_(r,void 0,a,s,t)}function Ar(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WT({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:o,static:c=!1}){rt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof a=="string"&&(a=zs(a));let{pathname:y="/",search:p="",hash:E="",state:S=null,key:w="default"}=a,C=H.useMemo(()=>{let U=Ha(y,d);return U==null?null:{location:{pathname:U,search:p,hash:E,state:S,key:w},navigationType:s}},[d,y,p,E,S,w,s]);return sa(C!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:H.createElement(ha.Provider,{value:g},H.createElement(Ao.Provider,{children:t,value:C}))}function eb({children:r,location:t}){return BT(Ed(r),t)}function Ed(r,t=[]){let a=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let c=[...t,o];if(s.type===H.Fragment){a.push.apply(a,Ed(s.props.children,c));return}rt(s.type===Ar,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Ed(s.props.children,c)),a.push(d)}),a}var uc="get",cc="application/x-www-form-urlencoded";function Pc(r){return r!=null&&typeof r.tagName=="string"}function tb(r){return Pc(r)&&r.tagName.toLowerCase()==="button"}function nb(r){return Pc(r)&&r.tagName.toLowerCase()==="form"}function ab(r){return Pc(r)&&r.tagName.toLowerCase()==="input"}function rb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ib(r,t){return r.button===0&&(!t||t==="_self")&&!rb(r)}var nc=null;function sb(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var lb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(r){return r!=null&&!lb.has(r)?(sa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function ob(r,t){let a,s,o,c,d;if(nb(r)){let g=r.getAttribute("action");s=g?Ha(g,t):null,a=r.getAttribute("method")||uc,o=od(r.getAttribute("enctype"))||cc,c=new FormData(r)}else if(tb(r)||ab(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Ha(y,t):null,a=r.getAttribute("formmethod")||g.getAttribute("method")||uc,o=od(r.getAttribute("formenctype"))||od(g.getAttribute("enctype"))||cc,c=new FormData(g,r),!sb()){let{name:p,type:E,value:S}=r;if(E==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,S)}}else{if(Pc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=uc,s=null,o=cc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ub(r,t,a){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${a}`:t&&Ha(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function cb(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fb(r,t,a){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await cb(c,a);return d.links?d.links():[]}return[]}));return pb(s.flat(1).filter(hb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(r,t,a,s,o,c){let d=(y,p)=>a[p]?y.route.id!==a[p].route.id:!0,g=(y,p)=>a[p].pathname!==y.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?t.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function db(r,t,{includeHydrateFallback:a}={}){return mb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function mb(r){return[...new Set(r)]}function gb(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function pb(r,t){let a=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(gb(o));return a.has(c)||(a.add(c),s.push({key:c,link:o})),s},[])}function E_(){let r=H.useContext(Bs);return Qd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yb(){let r=H.useContext(Uc);return Qd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yd=H.createContext(void 0);Yd.displayName="FrameworkContext";function T_(){let r=H.useContext(Yd);return Qd(r,"You must render this element inside a <HydratedRouter> element"),r}function vb(r,t){let a=H.useContext(Yd),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=t,w=H.useRef(null);H.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=ae=>{ae.forEach(q=>{d(q.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[r]),H.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let C=()=>{o(!0)},U=()=>{o(!1),d(!1)};return a?r!=="intent"?[c,w,{}]:[c,w,{onFocus:no(g,C),onBlur:no(y,U),onMouseEnter:no(p,C),onMouseLeave:no(E,U),onTouchStart:no(S,C)}]:[!1,w,{}]}function no(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function _b({page:r,...t}){let{router:a}=E_(),s=H.useMemo(()=>o_(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?H.createElement(Tb,{page:r,matches:s,...t}):null}function Eb(r){let{manifest:t,routeModules:a}=T_(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return fb(r,t,a).then(d=>{c||o(d)}),()=>{c=!0}},[r,t,a]),s}function Tb({page:r,matches:t,...a}){let s=Si(),{manifest:o,routeModules:c}=T_(),{basename:d}=E_(),{loaderData:g,matches:y}=yb(),p=H.useMemo(()=>Yy(r,t,y,o,s,"data"),[r,t,y,o,s]),E=H.useMemo(()=>Yy(r,t,y,o,s,"assets"),[r,t,y,o,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,K=!1;if(t.forEach(ae=>{let q=o.routes[ae.route.id];!q||!q.hasLoader||(!p.some(X=>X.route.id===ae.route.id)&&ae.route.id in g&&c[ae.route.id]?.shouldRevalidate||q.hasClientLoader?K=!0:U.add(ae.route.id))}),U.size===0)return[];let B=ub(r,d,"data");return K&&U.size>0&&B.searchParams.set("_routes",t.filter(ae=>U.has(ae.route.id)).map(ae=>ae.route.id).join(",")),[B.pathname+B.search]},[d,g,s,o,p,t,r,c]),w=H.useMemo(()=>db(E,o),[E,o]),C=Eb(E);return H.createElement(H.Fragment,null,S.map(U=>H.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...a})),w.map(U=>H.createElement("link",{key:U,rel:"modulepreload",href:U,...a})),C.map(({key:U,link:K})=>H.createElement("link",{key:U,nonce:a.nonce,...K})))}function bb(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var b_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b_&&(window.__reactRouterVersion="7.9.1")}catch{}function Ab({basename:r,children:t,window:a}){let s=H.useRef();s.current==null&&(s.current=cT({window:a,v5Compat:!0}));let o=s.current,[c,d]=H.useState({action:o.action,location:o.location}),g=H.useCallback(y=>{H.startTransition(()=>d(y))},[d]);return H.useLayoutEffect(()=>o.listen(g),[o,g]),H.createElement(WT,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var A_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qs=H.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:S,...w},C){let{basename:U}=H.useContext(ha),K=typeof p=="string"&&A_.test(p),B,ae=!1;if(typeof p=="string"&&K&&(B=p,b_))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),k=Ha(M.pathname,U);M.origin===N.origin&&k!=null?p=k+M.search+M.hash:ae=!0}catch{sa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=PT(p,{relative:o}),[X,re,ue]=vb(s,w),Ee=Rb(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:S});function O(N){t&&t(N),N.defaultPrevented||Ee(N)}let R=H.createElement("a",{...w,...ue,href:B||q,onClick:ae||c?t:O,ref:bb(C,re),target:y,"data-discover":!K&&a==="render"?"true":void 0});return X&&!K?H.createElement(H.Fragment,null,R,H.createElement(_b,{page:q})):R});qs.displayName="Link";var As=H.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let S=wo(d,{relative:p.relative}),w=Si(),C=H.useContext(Uc),{navigator:U,basename:K}=H.useContext(ha),B=C!=null&&Ib(S)&&g===!0,ae=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,q=w.pathname,X=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;a||(q=q.toLowerCase(),X=X?X.toLowerCase():null,ae=ae.toLowerCase()),X&&K&&(X=Ha(X,K)||X);const re=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let ue=q===ae||!o&&q.startsWith(ae)&&q.charAt(re)==="/",Ee=X!=null&&(X===ae||!o&&X.startsWith(ae)&&X.charAt(ae.length)==="/"),O={isActive:ue,isPending:Ee,isTransitioning:B},R=ue?t:void 0,N;typeof s=="function"?N=s(O):N=[s,ue?"active":null,Ee?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(O):c;return H.createElement(qs,{...p,"aria-current":R,className:N,ref:E,style:M,to:d,viewTransition:g},typeof y=="function"?y(O):y)});As.displayName="NavLink";var Sb=H.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:o,state:c,method:d=uc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:S,...w},C)=>{let U=Cb(),K=Db(g,{relative:p}),B=d.toLowerCase()==="get"?"get":"post",ae=typeof g=="string"&&A_.test(g),q=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let re=X.nativeEvent.submitter,ue=re?.getAttribute("formmethod")||d;U(re||X.currentTarget,{fetcherKey:t,method:ue,navigate:a,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:S})};return H.createElement("form",{ref:C,method:B,action:K,onSubmit:s?y:q,...w,"data-discover":!ae&&r==="render"?"true":void 0})});Sb.displayName="Form";function wb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(r){let t=H.useContext(Bs);return rt(t,wb(r)),t}function Rb(r,{target:t,replace:a,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=y_(),y=Si(),p=wo(r,{relative:c});return H.useCallback(E=>{if(ib(E,t)){E.preventDefault();let S=a!==void 0?a:fo(y)===fo(p);g(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,a,s,t,r,o,c,d])}var xb=0,Nb=()=>`__${String(++xb)}__`;function Cb(){let{router:r}=S_("useSubmit"),{basename:t}=H.useContext(ha),a=XT();return H.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=ob(s,t);if(o.navigate===!1){let E=o.fetcherKey||Nb();await r.fetch(E,a,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,a])}function Db(r,{relative:t}={}){let{basename:a}=H.useContext(ha),s=H.useContext(fa);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...wo(r||".",{relative:t})},d=Si();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Ba([a,c.pathname])),fo(c)}function Ib(r,{relative:t}={}){let a=H.useContext(m_);rt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=S_("useViewTransitionState"),o=wo(r,{relative:t});if(!a.isTransitioning)return!1;let c=Ha(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=Ha(a.nextLocation.pathname,s)||a.nextLocation.pathname;return yc(o.pathname,d)!=null||yc(o.pathname,c)!=null}const Vb=()=>{};var Ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(r){const t=[];let a=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},Ob=function(r){const t=[];let a=0,s=0;for(;a<r.length;){const o=r[a++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[a++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[a++],d=r[a++],g=r[a++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[a++],d=r[a++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let w=(g&15)<<2|p>>6,C=p&63;y||(C=64,d||(w=64)),s.push(a[E],a[S],a[w],a[C])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ob(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=a[r.charAt(o++)],g=o<r.length?a[r.charAt(o)]:0;++o;const p=o<r.length?a[r.charAt(o)]:64;++o;const S=o<r.length?a[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||S==null)throw new Mb;const w=c<<2|g>>4;if(s.push(w),p!==64){const C=g<<4&240|p>>2;if(s.push(C),S!==64){const U=p<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(r){const t=w_(r);return R_.encodeByteArray(t,!0)},vc=function(r){return kb(r).replace(/\./g,"")},Ub=function(r){try{return R_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=()=>Pb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof Ky>"u")return;const r=Ky.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Ub(r[1]);return t&&JSON.parse(t)},Kd=()=>{try{return Vb()||Lb()||zb()||Bb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qb=r=>Kd()?.emulatorHosts?.[r],x_=r=>{const t=qb(r);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),s]:[t.substring(0,a),s]},N_=()=>Kd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vc(JSON.stringify(a)),vc(JSON.stringify(d)),""].join(".")}const lo={};function Hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(lo))lo[t]?r.emulator.push(t):r.prod.push(t);return r}function Fb(r){let t=document.getElementById(r),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),a=!0),{created:a,element:t}}let Xy=!1;function I_(r,t){if(typeof window>"u"||typeof document>"u"||!Lc(window.location.host)||lo[r]===t||lo[r]||Xy)return;lo[r]=t;function a(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=Hb().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Xy=!0,d()},w}function E(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Fb(s),C=a("text"),U=document.getElementById(C)||document.createElement("span"),K=a("learnmore"),B=document.getElementById(K)||document.createElement("a"),ae=a("preprendIcon"),q=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;g(X),E(B,K);const re=p();y(q,ae),X.append(q,U,B,re),document.body.appendChild(X)}c?(U.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){const r=Kd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((r,t)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="FirebaseError";class wi extends Error{constructor(t,a,s){super(a),this.code=t,this.customData=s,this.name=$b,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(t,a,s){this.service=t,this.serviceName=a,this.errors=s}create(t,...a){const s=a[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Zb(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new wi(o,g,s)}}function Zb(r,t){return r.replace(Jb,(a,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Jb=/\{\$([^}]+)}/g;function _c(r,t){if(r===t)return!0;const a=Object.keys(r),s=Object.keys(t);for(const o of a){if(!s.includes(o))return!1;const c=r[o],d=t[o];if($y(c)&&$y(d)){if(!_c(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function $y(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(r){return r&&r._delegate?r._delegate:r}class Is{constructor(t,a,s){this.name=t,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const s=new jb;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tA(t))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=_i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_i){return this.instances.has(t)}getOptions(t=_i){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(t,a){const s=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eA(t),options:a}),this.instances.set(t,s),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_i){return this.component?this.component.multipleInstances?t:_i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(r){return r===_i?void 0:r}function tA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new Wb(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const aA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},rA=Pe.INFO,iA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},sA=(r,t,...a)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=iA[t];if(o)console[o](`[${s}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O_{constructor(t){this.name=t,this._logLevel=rA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const lA=(r,t)=>t.some(a=>r instanceof a);let Zy,Jy;function oA(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,Td=new WeakMap,k_=new WeakMap,ud=new WeakMap,Xd=new WeakMap;function cA(r){const t=new Promise((a,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{a(wr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(a=>{a instanceof IDBCursor&&M_.set(a,r)}).catch(()=>{}),Xd.set(t,r),t}function hA(r){if(Td.has(r))return;const t=new Promise((a,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{a(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Td.set(r,t)}let bd={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return Td.get(r);if(t==="objectStoreNames")return r.objectStoreNames||k_.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return wr(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fA(r){bd=r(bd)}function dA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const s=r.call(cd(this),t,...a);return k_.set(s,t.sort?t.sort():[t]),wr(s)}:uA().includes(r)?function(...t){return r.apply(cd(this),t),wr(M_.get(this))}:function(...t){return wr(r.apply(cd(this),t))}}function mA(r){return typeof r=="function"?dA(r):(r instanceof IDBTransaction&&hA(r),lA(r,oA())?new Proxy(r,bd):r)}function wr(r){if(r instanceof IDBRequest)return cA(r);if(ud.has(r))return ud.get(r);const t=mA(r);return t!==r&&(ud.set(r,t),Xd.set(t,r)),t}const cd=r=>Xd.get(r);function gA(r,t,{blocked:a,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=wr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(wr(d.result),y.oldVersion,y.newVersion,wr(d.transaction),y)}),a&&d.addEventListener("blocked",y=>a(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const pA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],hd=new Map;function Wy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,o=yA.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pA.includes(a)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[a](...g),o&&y.done]))[0]};return hd.set(t,c),c}fA(r=>({...r,get:(t,a,s)=>Wy(t,a)||r.get(t,a,s),has:(t,a)=>!!Wy(t,a)||r.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(_A(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function _A(r){return r.getComponent()?.type==="VERSION"}const Ad="@firebase/app",ev="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new O_("@firebase/app"),EA="@firebase/app-compat",TA="@firebase/analytics-compat",bA="@firebase/analytics",AA="@firebase/app-check-compat",SA="@firebase/app-check",wA="@firebase/auth",RA="@firebase/auth-compat",xA="@firebase/database",NA="@firebase/data-connect",CA="@firebase/database-compat",DA="@firebase/functions",IA="@firebase/functions-compat",VA="@firebase/installations",OA="@firebase/installations-compat",MA="@firebase/messaging",kA="@firebase/messaging-compat",UA="@firebase/performance",PA="@firebase/performance-compat",LA="@firebase/remote-config",zA="@firebase/remote-config-compat",BA="@firebase/storage",qA="@firebase/storage-compat",jA="@firebase/firestore",HA="@firebase/ai",FA="@firebase/firestore-compat",GA="firebase",QA="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",YA={[Ad]:"fire-core",[EA]:"fire-core-compat",[bA]:"fire-analytics",[TA]:"fire-analytics-compat",[SA]:"fire-app-check",[AA]:"fire-app-check-compat",[wA]:"fire-auth",[RA]:"fire-auth-compat",[xA]:"fire-rtdb",[NA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[DA]:"fire-fn",[IA]:"fire-fn-compat",[VA]:"fire-iid",[OA]:"fire-iid-compat",[MA]:"fire-fcm",[kA]:"fire-fcm-compat",[UA]:"fire-perf",[PA]:"fire-perf-compat",[LA]:"fire-rc",[zA]:"fire-rc-compat",[BA]:"fire-gcs",[qA]:"fire-gcs-compat",[jA]:"fire-fst",[FA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,KA=new Map,wd=new Map;function tv(r,t){try{r.container.addComponent(t)}catch(a){Fa.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,a)}}function mo(r){const t=r.name;if(wd.has(t))return Fa.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,r);for(const a of Ec.values())tv(a,r);for(const a of KA.values())tv(a,r);return!0}function U_(r,t){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(t)}function P_(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new V_("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,a,s){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=QA;function z_(r,t={}){let a=r;typeof t!="object"&&(t={name:t});const s={name:Sd,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(a||(a=N_()),!a)throw Rr.create("no-options");const c=Ec.get(o);if(c){if(_c(a,c.options)&&_c(s,c.config))return c;throw Rr.create("duplicate-app",{appName:o})}const d=new nA(o);for(const y of wd.values())d.addComponent(y);const g=new $A(a,s,d);return Ec.set(o,g),g}function B_(r=Sd){const t=Ec.get(r);if(!t&&r===Sd&&N_())return z_();if(!t)throw Rr.create("no-app",{appName:r});return t}function xr(r,t,a){let s=YA[r]??r;a&&(s+=`-${a}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fa.warn(d.join(" "));return}mo(new Is(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",JA=1,go="firebase-heartbeat-store";let fd=null;function q_(){return fd||(fd=gA(ZA,JA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(go)}catch(a){console.warn(a)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),fd}async function WA(r){try{const a=(await q_()).transaction(go),s=await a.objectStore(go).get(j_(r));return await a.done,s}catch(t){if(t instanceof wi)Fa.warn(t.message);else{const a=Rr.create("idb-get",{originalErrorMessage:t?.message});Fa.warn(a.message)}}}async function nv(r,t){try{const s=(await q_()).transaction(go,"readwrite");await s.objectStore(go).put(t,j_(r)),await s.done}catch(a){if(a instanceof wi)Fa.warn(a.message);else{const s=Rr.create("idb-set",{originalErrorMessage:a?.message});Fa.warn(s.message)}}}function j_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=1024,tS=30;class nS{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new rS(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>tS){const o=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=av(),{heartbeatsToSend:a,unsentEntries:s}=aS(this._heartbeatsCache.heartbeats),o=vc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fa.warn(t),""}}}function av(){return new Date().toISOString().substring(0,10)}function aS(r,t=eS){const a=[];let s=r.slice();for(const o of r){const c=a.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),rv(a)>t){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),rv(a)>t){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class rS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await WA(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function rv(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function iS(r){if(r.length===0)return-1;let t=0,a=r[0].date;for(let s=1;s<r.length;s++)r[s].date<a&&(a=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r){mo(new Is("platform-logger",t=>new vA(t),"PRIVATE")),mo(new Is("heartbeat",t=>new nS(t),"PRIVATE")),xr(Ad,ev,r),xr(Ad,ev,"esm2020"),xr("fire-js","")}sS("");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,H_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function N(){}N.prototype=R.prototype,O.D=R.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(M,k,L){for(var D=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)D[kt-2]=arguments[kt];return R.prototype[k].apply(M,D)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,a),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,N){N||(N=0);var M=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)M[k]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(k=0;16>k;++k)M[k]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=O.g[0],N=O.g[1],k=O.g[2];var L=O.g[3],D=R+(L^N&(k^L))+M[0]+3614090360&4294967295;R=N+(D<<7&4294967295|D>>>25),D=L+(k^R&(N^k))+M[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=k+(N^L&(R^N))+M[2]+606105819&4294967295,k=L+(D<<17&4294967295|D>>>15),D=N+(R^k&(L^R))+M[3]+3250441966&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(L^N&(k^L))+M[4]+4118548399&4294967295,R=N+(D<<7&4294967295|D>>>25),D=L+(k^R&(N^k))+M[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=k+(N^L&(R^N))+M[6]+2821735955&4294967295,k=L+(D<<17&4294967295|D>>>15),D=N+(R^k&(L^R))+M[7]+4249261313&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(L^N&(k^L))+M[8]+1770035416&4294967295,R=N+(D<<7&4294967295|D>>>25),D=L+(k^R&(N^k))+M[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=k+(N^L&(R^N))+M[10]+4294925233&4294967295,k=L+(D<<17&4294967295|D>>>15),D=N+(R^k&(L^R))+M[11]+2304563134&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(L^N&(k^L))+M[12]+1804603682&4294967295,R=N+(D<<7&4294967295|D>>>25),D=L+(k^R&(N^k))+M[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=k+(N^L&(R^N))+M[14]+2792965006&4294967295,k=L+(D<<17&4294967295|D>>>15),D=N+(R^k&(L^R))+M[15]+1236535329&4294967295,N=k+(D<<22&4294967295|D>>>10),D=R+(k^L&(N^k))+M[1]+4129170786&4294967295,R=N+(D<<5&4294967295|D>>>27),D=L+(N^k&(R^N))+M[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(L^R))+M[11]+643717713&4294967295,k=L+(D<<14&4294967295|D>>>18),D=N+(L^R&(k^L))+M[0]+3921069994&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^L&(N^k))+M[5]+3593408605&4294967295,R=N+(D<<5&4294967295|D>>>27),D=L+(N^k&(R^N))+M[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(L^R))+M[15]+3634488961&4294967295,k=L+(D<<14&4294967295|D>>>18),D=N+(L^R&(k^L))+M[4]+3889429448&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^L&(N^k))+M[9]+568446438&4294967295,R=N+(D<<5&4294967295|D>>>27),D=L+(N^k&(R^N))+M[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(L^R))+M[3]+4107603335&4294967295,k=L+(D<<14&4294967295|D>>>18),D=N+(L^R&(k^L))+M[8]+1163531501&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(k^L&(N^k))+M[13]+2850285829&4294967295,R=N+(D<<5&4294967295|D>>>27),D=L+(N^k&(R^N))+M[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=k+(R^N&(L^R))+M[7]+1735328473&4294967295,k=L+(D<<14&4294967295|D>>>18),D=N+(L^R&(k^L))+M[12]+2368359562&4294967295,N=k+(D<<20&4294967295|D>>>12),D=R+(N^k^L)+M[5]+4294588738&4294967295,R=N+(D<<4&4294967295|D>>>28),D=L+(R^N^k)+M[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=k+(L^R^N)+M[11]+1839030562&4294967295,k=L+(D<<16&4294967295|D>>>16),D=N+(k^L^R)+M[14]+4259657740&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^L)+M[1]+2763975236&4294967295,R=N+(D<<4&4294967295|D>>>28),D=L+(R^N^k)+M[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=k+(L^R^N)+M[7]+4139469664&4294967295,k=L+(D<<16&4294967295|D>>>16),D=N+(k^L^R)+M[10]+3200236656&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^L)+M[13]+681279174&4294967295,R=N+(D<<4&4294967295|D>>>28),D=L+(R^N^k)+M[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=k+(L^R^N)+M[3]+3572445317&4294967295,k=L+(D<<16&4294967295|D>>>16),D=N+(k^L^R)+M[6]+76029189&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(N^k^L)+M[9]+3654602809&4294967295,R=N+(D<<4&4294967295|D>>>28),D=L+(R^N^k)+M[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=k+(L^R^N)+M[15]+530742520&4294967295,k=L+(D<<16&4294967295|D>>>16),D=N+(k^L^R)+M[2]+3299628645&4294967295,N=k+(D<<23&4294967295|D>>>9),D=R+(k^(N|~L))+M[0]+4096336452&4294967295,R=N+(D<<6&4294967295|D>>>26),D=L+(N^(R|~k))+M[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=k+(R^(L|~N))+M[14]+2878612391&4294967295,k=L+(D<<15&4294967295|D>>>17),D=N+(L^(k|~R))+M[5]+4237533241&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~L))+M[12]+1700485571&4294967295,R=N+(D<<6&4294967295|D>>>26),D=L+(N^(R|~k))+M[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=k+(R^(L|~N))+M[10]+4293915773&4294967295,k=L+(D<<15&4294967295|D>>>17),D=N+(L^(k|~R))+M[1]+2240044497&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~L))+M[8]+1873313359&4294967295,R=N+(D<<6&4294967295|D>>>26),D=L+(N^(R|~k))+M[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=k+(R^(L|~N))+M[6]+2734768916&4294967295,k=L+(D<<15&4294967295|D>>>17),D=N+(L^(k|~R))+M[13]+1309151649&4294967295,N=k+(D<<21&4294967295|D>>>11),D=R+(k^(N|~L))+M[4]+4149444226&4294967295,R=N+(D<<6&4294967295|D>>>26),D=L+(N^(R|~k))+M[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=k+(R^(L|~N))+M[2]+718787259&4294967295,k=L+(D<<15&4294967295|D>>>17),D=N+(L^(k|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var N=R-this.blockSize,M=this.B,k=this.h,L=0;L<R;){if(k==0)for(;L<=N;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(M[k++]=O.charCodeAt(L++),k==this.blockSize){o(this,M),k=0;break}}else for(;L<R;)if(M[k++]=O[L++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var N=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=N&255,N/=256;for(this.u(O),O=Array(16),R=N=0;4>R;++R)for(var M=0;32>M;M+=8)O[N++]=this.g[R]>>>M&255;return O};function c(O,R){var N=g;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=R(O)}function d(O,R){this.h=R;for(var N=[],M=!0,k=O.length-1;0<=k;k--){var L=O[k]|0;M&&L==R||(N[k]=L,M=!1)}this.g=N}var g={};function y(O){return-128<=O&&128>O?c(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return B(p(-O));for(var R=[],N=1,M=0;O>=N;M++)R[M]=O/N|0,N*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return B(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(R,8)),M=S,k=0;k<O.length;k+=8){var L=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+L),R);8>L?(L=p(Math.pow(R,L)),M=M.j(L).add(p(D))):(M=M.j(N),M=M.add(p(D)))}return M}var S=y(0),w=y(1),C=y(16777216);r=d.prototype,r.m=function(){if(K(this))return-B(this).m();for(var O=0,R=1,N=0;N<this.g.length;N++){var M=this.i(N);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(K(this))return"-"+B(this).toString(O);for(var R=p(Math.pow(O,6)),N=this,M="";;){var k=re(N,R).g;N=ae(N,k.j(R));var L=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=k,U(N))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}r.l=function(O){return O=ae(this,O),K(O)?-1:U(O)?0:1};function B(O){for(var R=O.g.length,N=[],M=0;M<R;M++)N[M]=~O.g[M];return new d(N,~O.h).add(w)}r.abs=function(){return K(this)?B(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],M=0,k=0;k<=R;k++){var L=M+(this.i(k)&65535)+(O.i(k)&65535),D=(L>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);M=D>>>16,L&=65535,D&=65535,N[k]=D<<16|L}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ae(O,R){return O.add(B(R))}r.j=function(O){if(U(this)||U(O))return S;if(K(this))return K(O)?B(this).j(B(O)):B(B(this).j(O));if(K(O))return B(this.j(B(O)));if(0>this.l(C)&&0>O.l(C))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,N=[],M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<O.g.length;k++){var L=this.i(M)>>>16,D=this.i(M)&65535,kt=O.i(k)>>>16,st=O.i(k)&65535;N[2*M+2*k]+=D*st,q(N,2*M+2*k),N[2*M+2*k+1]+=L*st,q(N,2*M+2*k+1),N[2*M+2*k+1]+=D*kt,q(N,2*M+2*k+1),N[2*M+2*k+2]+=L*kt,q(N,2*M+2*k+2)}for(M=0;M<R;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=R;M<2*R;M++)N[M]=0;return new d(N,0)};function q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function X(O,R){this.g=O,this.h=R}function re(O,R){if(U(R))throw Error("division by zero");if(U(O))return new X(S,S);if(K(O))return R=re(B(O),R),new X(B(R.g),B(R.h));if(K(R))return R=re(O,B(R)),new X(B(R.g),R.h);if(30<O.g.length){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=R;0>=M.l(O);)N=ue(N),M=ue(M);var k=Ee(N,1),L=Ee(M,1);for(M=Ee(M,2),N=Ee(N,2);!U(M);){var D=L.add(M);0>=D.l(O)&&(k=k.add(N),L=D),M=Ee(M,1),N=Ee(N,1)}return R=ae(O,k.j(R)),new X(k,R)}for(k=S;0<=O.l(R);){for(N=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=p(N),D=L.j(R);K(D)||0<D.l(O);)N-=M,L=p(N),D=L.j(R);U(L)&&(L=w),k=k.add(L),O=ae(O,D)}return new X(k,O)}r.A=function(O){return re(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)&O.i(M);return new d(N,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)|O.i(M);return new d(N,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)^O.i(M);return new d(N,this.h^O.h)};function ue(O){for(var R=O.g.length+1,N=[],M=0;M<R;M++)N[M]=O.i(M)<<1|O.i(M-1)>>>31;return new d(N,O.h)}function Ee(O,R){var N=R>>5;R%=32;for(var M=O.g.length-N,k=[],L=0;L<M;L++)k[L]=0<R?O.i(L+N)>>>R|O.i(L+N+1)<<32-R:O.i(L+N);return new d(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,H_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Nr=d}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F_,ao,G_,hc,Rd,Q_,Y_,K_;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=a(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break e;v=v[z]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,A=!1,z={next:function(){if(!A&&v<u.length){var Y=v++;return{value:m(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function w(u,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function C(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function U(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,z,Y){for(var se=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)se[Oe-2]=arguments[Oe];return m.prototype[z].apply(A,se)}}function K(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function B(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(y(A)){const z=u.length||0,Y=A.length||0;u.length=z+Y;for(let se=0;se<Y;se++)u[z+se]=A[se]}else u.push(A)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var ue=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ee(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let Y=0;Y<N.length;Y++)v=N[Y],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function k(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){g.setTimeout(()=>{throw u},0)}function D(){var u=ze;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class kt{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new ae(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,ze=new kt,I=()=>{const u=g.Promise.resolve(void 0);le=()=>{u.then(ne)}};var ne=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){L(v)}var m=st;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u})();function xe(u,m){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{re(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}U(xe,ie);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Ln(u,m,v,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function Ka(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ma(u){this.src=u,this.g={},this.h=0}ma.prototype.add=function(u,m,v,A,z){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var se=Pr(u,m,A,z);return-1<se?(m=u[se],v||(m.fa=!1)):(m=new Ln(m,this.src,Y,!!A,z),m.fa=v,u.push(m)),m};function Ur(u,m){var v=m.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,m,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(Ka(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Pr(u,m,v,A){for(var z=0;z<u.length;++z){var Y=u[z];if(!Y.da&&Y.listener==m&&Y.capture==!!v&&Y.ha==A)return z}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),Ys={};function Vo(u,m,v,A,z){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Vo(u,m[Y],v,A,z);return null}return v=Oo(v),u&&u[xt]?u.K(m,v,p(A)?!!A.capture:!1,z):gn(u,m,v,!1,A,z)}function gn(u,m,v,A,z,Y){if(!m)throw Error("Invalid event type");var se=p(z)?!!z.capture:!!z,Oe=Vi(u);if(Oe||(u[Lr]=Oe=new ma(u)),v=Oe.add(m,v,A,se,Y),v.proxy)return v;if(A=th(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ge||(z=se),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(zr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function th(){function u(v){return m.call(u.src,u.listener,v)}const m=nh;return u}function Ks(u,m,v,A,z){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)Ks(u,m[Y],v,A,z);else A=p(A)?!!A.capture:!!A,v=Oo(v),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],v=Pr(Y,v,A,z),-1<v&&(Ka(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pr(m,v,A,z)),(v=-1<u?m[u]:null)&&Ii(v))}function Ii(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Ur(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(zr(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Vi(m))?(Ur(v,u),v.h==0&&(v.src=null,m[Lr]=null)):Ka(u)}}}function zr(u){return u in Ys?Ys[u]:Ys[u]="on"+u}function nh(u,m){if(u.da)u=!0;else{m=new xe(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Ii(u),u=v.call(A,m)}return u}function Vi(u){return u=u[Lr],u instanceof ma?u:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(u){return typeof u=="function"?u:(u[Xs]||(u[Xs]=function(m){return u.handleEvent(m)}),u[Xs])}function lt(){oe.call(this),this.i=new ma(this),this.M=this,this.F=null}U(lt,oe),lt.prototype[xt]=!0,lt.prototype.removeEventListener=function(u,m,v,A){Ks(this,u,m,v,A)};function He(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new ie(m,u);else if(m instanceof ie)m.target=m.target||u;else{var z=m;m=new ie(A,u),M(m,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=m.g=v[Y];z=sn(se,A,!0,m)&&z}if(se=m.g=u,z=sn(se,A,!0,m)&&z,z=sn(se,A,!1,m)&&z,v)for(Y=0;Y<v.length;Y++)se=m.g=v[Y],z=sn(se,A,!1,m)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)Ka(v[A]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},lt.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function sn(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Y=0;Y<m.length;++Y){var se=m[Y];if(se&&!se.da&&se.capture==v){var Oe=se.listener,Tt=se.ha||se.src;se.fa&&Ur(u.i,se),z=Oe.call(Tt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ft(u,m,v){if(typeof u=="function")v&&(u=w(u,v));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Mo(u){u.g=Ft(()=>{u.g=null,u.i&&(u.i=!1,Mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ah extends oe{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(u){oe.call(this),this.h=u,this.g={}}U(Br,oe);var qr=[];function jr(u){Ee(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ii(m)},u),u.g={}}Br.prototype.N=function(){Br.aa.N.call(this),jr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Oi=g.JSON.parse,Hr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function $s(){}$s.prototype.h=null;function Zs(u){return u.h||(u.h=u.i())}function Js(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pa(){ie.call(this,"d")}U(pa,ie);function Ws(){ie.call(this,"c")}U(Ws,ie);var zn={},el=null;function Xa(){return el=el||new lt}zn.La="serverreachability";function Mi(u){ie.call(this,zn.La,u)}U(Mi,ie);function $a(u){const m=Xa();He(m,new Mi(m))}zn.STAT_EVENT="statevent";function ko(u,m){ie.call(this,zn.STAT_EVENT,u),this.stat=m}U(ko,ie);function tt(u){const m=Xa();He(m,new ko(m,u))}zn.Ma="timingevent";function Et(u,m){ie.call(this,zn.Ma,u),this.size=m}U(Et,ie);function mt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function tl(u,m,v,A,z,Y){u.info(function(){if(u.g)if(Y)for(var se="",Oe=Y.split("&"),Tt=0;Tt<Oe.length;Tt++){var Me=Oe[Tt].split("=");if(1<Me.length){var Ct=Me[0];Me=Me[1];var bt=Ct.split("_");se=2<=bt.length&&bt[1]=="type"?se+(Ct+"="+Me+"&"):se+(Ct+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+v+`
`+se})}function rh(u,m,v,A,z,Y,se){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+v+`
`+Y+" "+se})}function Za(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fr(u,v)+(A?" "+A:"")})}function Uo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Fr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Dn(v)}catch{return m}}var Ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}U(qn,$s),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function $t(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var nl={},ki={};function In(u,m,v){u.L=1,u.v=Xr(ln(m)),u.m=v,u.P=!0,va(u,null)}function va(u,m){u.F=Date.now(),Gr(u),u.A=ln(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ol(v.i,"t",A),u.C=0,v=u.j.J,u.h=new ct,u.g=Jo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ah(w(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(qr[0]=z.toString()),z=qr);for(var Y=0;Y<z.length;Y++){var se=Vo(v,z[Y],A||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$a(),tl(u.i,u.u,u.A,u.l,u.R,u.m)}$t.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},$t.prototype.Y=function(u){try{if(u==this.g)e:{const bt=En(this.g);var m=this.g.Ba();const Ra=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||bt!=4||m==7||(m==8||0>=Ra?$a(3):$a(2)),Wa(this);var v=this.g.Z();this.X=v;t:if(Po(this)){var A=Fo(this.g);u="";var z=A.length,Y=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),jn(this);var se="";break t}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(Y&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,rh(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Tt=this.g;if((Oe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Oe)){var Me=Oe;break t}}Me=null}if(v=Me)Za(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,v);else{this.o=!1,this.s=3,tt(12),Ut(this),jn(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<se.length;)if(Pt=Lo(this,se),Pt==ki){bt==4&&(this.s=4,tt(14),v=!1),Za(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==nl){this.s=4,tt(15),Za(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Za(this.i,this.l,Pt,null),Qr(this,Pt);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)Za(this.i,this.l,se,"[Invalid Chunked Response]"),Ut(this),jn(this);else if(0<se.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ai(Ct),Ct.M=!0,tt(11))}}else Za(this.i,this.l,se,null),Qr(this,se);bt==4&&Ut(this),this.o&&!this.J&&(bt==4?Xo(this.j,this):(this.o=!1,Gr(this)))}else uh(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ut(this),jn(this)}}}catch{}finally{}};function Po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ki:(v=Number(m.substring(v,A)),isNaN(v)?nl:(A+=1,A+v>m.length?ki:(m=m.slice(A,A+v),u.C=A+v,m)))}$t.prototype.cancel=function(){this.J=!0,Ut(this)};function Gr(u){u.S=Date.now()+u.I,zo(u,u.I)}function zo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mt(w(u.ba,u),m)}function Wa(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$t.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Uo(this.i,this.A),this.L!=2&&($a(),tt(17)),Ut(this),this.s=2,jn(this)):zo(this,this.S-u)};function jn(u){u.j.G==0||u.J||Xo(u.j,u)}function Ut(u){Wa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,jr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||al(v.h,u))){if(!u.K&&al(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Yi(v),Gi(v);else break e;dl(v),tt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(w(v.Za,v),6e3));if(1>=Pi(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else wa(v,11)}else if((u.K||v.g==u)&&Yi(v),!q(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Me=z[m];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const Ct=Me[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const bt=Me[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Ra=Me[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(A=1.5*Ra,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Pt=u.g;if(Pt){const Xn=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var Y=A.h;Y.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Li(Y,Y.h),Y.h=null))}if(A.D){const gl=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(A.ya=gl,Qe(A.I,A.D,gl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=u;if(A.qa=Zo(A,A.J?A.ia:null,A.W),se.K){Zt(A.h,se);var Oe=se,Tt=A.L;Tt&&(Oe.I=Tt),Oe.B&&(Wa(Oe),Gr(Oe)),A.g=se}else Yo(A);0<v.i.length&&Qi(v)}else Me[0]!="stop"&&Me[0]!="close"||wa(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?wa(v,7):hl(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}$a(4)}catch{}}var Bo=class{constructor(u,m){this.g=u,this.map=m}};function _a(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ui(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pi(u){return u.h?1:u.g?u.g.size:0}function al(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Li(u,m){u.g?u.g.add(m):u.h=m}function Zt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_a.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return K(u.i)}function ih(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function zi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=zi(u),A=ih(u),z=A.length,Y=0;Y<z;Y++)m.call(void 0,A[Y],v&&v[Y],u)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),z=null;if(0<=A){var Y=u[v].substring(0,A);z=u[v].substring(A+1)}else Y=u[v];m(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function gt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gt){this.h=u.h,Kr(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var m=u.i,v=new Ta;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ea(this,v),this.m=u.m}else u&&(m=String(u).match(Yr))?(this.h=!1,Kr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),er(this,m[4]),this.l=yn(m[5]||"",!0),Ea(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}gt.prototype.toString=function(){var u=[],m=this.j;m&&u.push($r(m,sl,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push($r(m,sl,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push($r(v,v.charAt(0)=="/"?lh:ll,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",$r(v,Bi)),u.join("")};function ln(u){return new gt(u)}function Kr(u,m,v){u.j=v?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ea(u,m,v){m instanceof Ta?(u.i=m,jo(u.i,u.h)):(v||(m=$r(m,oh)),u.i=new Ta(m,u.h))}function Qe(u,m,v){u.i.set(m,v)}function Xr(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,qo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sl=/[#\/\?@]/g,ll=/[#\?:]/g,lh=/[#\?]/g,oh=/[#\?@]/g,Bi=/#/g;function Ta(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&sh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ta.prototype,r.add=function(u,m){vn(this),this.i=null,u=Hn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ba(u,m){vn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Aa(u,m){return vn(u),m=Hn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(m,z,A,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const z=u[A];for(let Y=0;Y<z.length;Y++)v.push(m[A])}return v},r.V=function(u){vn(this);let m=[];if(typeof u=="string")Aa(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Hn(this,u),Aa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ol(u,m,v){ba(u,m),0<v.length&&(u.i=null,u.g.set(Hn(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const Y=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var z=Y;se[A]!==""&&(z+="="+encodeURIComponent(String(se[A]))),u.push(z)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jo(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(ba(this,A),ol(this,z,v))},u)),u.j=m}function Zr(u,m){const v=new pn;if(g.Image){const A=new Image;A.onload=C(_n,v,"TestLoadImage: loaded",!0,m,A),A.onerror=C(_n,v,"TestLoadImage: error",!1,m,A),A.onabort=C(_n,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=C(_n,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const v=new pn,A=new AbortController,z=setTimeout(()=>{A.abort(),_n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?_n(v,"TestPingServer: ok",!0,m):_n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),_n(v,"TestPingServer: error",!1,m)})}function _n(u,m,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Jr(){this.g=new Hr}function Fn(u,m,v){const A=v||"";try{il(u,function(z,Y){let se=z;p(z)&&(se=Dn(z)),m.push(A+Y+"="+encodeURIComponent(se))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}U(tr,$s),tr.prototype.g=function(){return new Sa(this.l,this.j)},tr.prototype.i=(function(u){return function(){return u}})({});function Sa(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Sa,lt),r=Sa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&ul(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},r.Qa=function(u){this.g&&(this.response=u,Gn(this))},r.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cl(u){let m="";return Ee(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Nt(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=cl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Qe(u,m,v))}function qe(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,lt);var qi=/^https?$/i,Wr=["POST","PUT"];r=qe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Zs(this.o):Zs(Bn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Ho(this,Y);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Wr,m,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ei(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Ho(this,Y)}};function Ho(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ji(u),Yn(u)}function ji(u){u.A||(u.A=!0,He(u,"complete"),He(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,He(this,"complete"),He(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Hi(this):this.bb())},r.bb=function(){Hi(this)};function Hi(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)Ft(u.Ea,0,u);else if(He(u,"readystatechange"),En(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=se===0){var z=String(u.D).match(Yr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!qi.test(z?z.toLowerCase():"")}v=A}if(v)He(u,"complete"),He(u,"success");else{u.m=6;try{var Y=2<En(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",ji(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){ei(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||He(u,"ready");try{v.onreadystatechange=A}catch{}}}function ei(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oi(m)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(q(u[A]))continue;var v=k(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=m[z]||[];m[z]=Y,Y.push(v)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Fi(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ti("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ti("baseRetryDelayMs",5e3,u),this.cb=ti("retryDelaySeedMs",1e4,u),this.Wa=ti("forwardChannelMaxRetries",2,u),this.wa=ti("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _a(u&&u.concurrentRequestLimit),this.Da=new Jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fi.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,A){tt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Zo(this,null,this.W),Qi(this)};function hl(u){if(Go(u),u.G==3){var m=u.U++,v=ln(u.I);if(Qe(v,"SID",u.K),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),ni(u,v),m=new $t(u,u.j,m),m.L=2,m.v=Xr(ln(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Jo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gr(m)}$o(u)}function Gi(u){u.g&&(ai(u),u.g.cancel(),u.g=null)}function Go(u){Gi(u),u.u&&(g.clearTimeout(u.u),u.u=null),Yi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Qi(u){if(!Ui(u.h)&&!u.s){u.s=!0;var m=u.Ga;le||I(),me||(le(),me=!0),ze.add(m,u),u.B=0}}function ch(u,m){return Pi(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mt(w(u.Ga,u,m),ml(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new $t(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Qo(this,z,m),v=ln(this.I),Qe(v,"RID",u),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),ni(this,v),Y&&(this.O?m="headers="+encodeURIComponent(String(cl(Y)))+"&"+m:this.m&&Nt(v,this.m,Y)),Li(this.h,z),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",m),Qe(v,"SID","null"),z.T=!0,In(z,v,null)):In(z,v,m),this.G=2}}else this.G==3&&(u?fl(this,u):this.i.length==0||Ui(this.h)||fl(this))};function fl(u,m){var v;m?v=m.l:v=u.U++;const A=ln(u.I);Qe(A,"SID",u.K),Qe(A,"RID",v),Qe(A,"AID",u.T),ni(u,A),u.m&&u.o&&Nt(A,u.m,u.o),v=new $t(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Li(u.h,v),In(v,A,m)}function ni(u,m){u.H&&Ee(u.H,function(v,A){Qe(m,A,v)}),u.l&&il({},function(v,A){Qe(m,A,v)})}function Qo(u,m,v){v=Math.min(u.i.length,v);var A=u.l?w(u.l.Na,u.l,u):null;e:{var z=u.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=z[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Oe=!0;for(let Tt=0;Tt<v;Tt++){let Me=z[Tt].g;const Ct=z[Tt].map;if(Me-=Y,0>Me)Y=Math.max(0,z[Tt].g-100),Oe=!1;else try{Fn(Ct,se,"req"+Me+"_")}catch{A&&A(Ct)}}if(Oe){A=se.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,A}function Yo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;le||I(),me||(le(),me=!0),ze.add(m,u),u.v=0}}function dl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mt(w(u.Fa,u),ml(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mt(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Gi(this),Ko(this))};function ai(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ko(u){u.g=new $t(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),ni(u,m),u.m&&u.o&&Nt(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Xr(ln(m)),v.m=null,v.P=!0,va(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Gi(this),dl(this),tt(19))};function Yi(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Xo(u,m){var v=null;if(u.g==m){Yi(u),ai(u),u.g=null;var A=2}else if(al(u.h,m))v=m.D,Zt(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=Xa(),He(A,new Et(A,v)),Qi(u)}else Yo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&ch(u,m)||A==2&&dl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:wa(u,5);break;case 4:wa(u,10);break;case 3:wa(u,6);break;default:wa(u,2)}}}function ml(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function wa(u,m){if(u.j.info("Error code "+m),m==2){var v=w(u.fb,u),A=u.Xa;const z=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Kr(A,"https"),Xr(A),z?Zr(A.toString(),v):Vn(A.toString(),v)}else tt(2);u.G=0,u.l&&u.l.sa(m),$o(u),Go(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function $o(u){if(u.G=0,u.ka=[],u.l){const m=rl(u.h);(m.length!=0||u.i.length!=0)&&(B(u.ka,m),B(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Zo(u,m,v){var A=v instanceof gt?ln(v):new gt(v);if(A.g!="")m&&(A.g=m+"."+A.g),er(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Y=new gt(null);A&&Kr(Y,A),m&&(Y.g=m),z&&er(Y,z),v&&(Y.l=v),A=Y}return v=u.D,m=u.ya,v&&m&&Qe(A,v,m),Qe(A,"VER",u.la),ni(u,A),A}function Jo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qe(new tr({eb:v})):new qe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ki(){}Ki.prototype.g=function(u,m){return new Jt(u,m)};function Jt(u,m){lt.call(this),this.g=new Fi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}U(Jt,lt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){hl(this.g)},Jt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Dn(u),u=v);m.i.push(new Bo(m.Ya++,u)),m.G==3&&Qi(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Jt.aa.N.call(this)};function eu(u){pa.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}U(eu,pa);function tu(){Ws.call(this),this.status=1}U(tu,Ws);function Kn(u){this.g=u}U(Kn,Wo),Kn.prototype.ua=function(){He(this.g,"a")},Kn.prototype.ta=function(u){He(this.g,new eu(u))},Kn.prototype.sa=function(u){He(this.g,new tu)},Kn.prototype.ra=function(){He(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,K_=function(){return new Ki},Y_=function(){return Xa()},Q_=zn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,hc=Ja,ya.COMPLETE="complete",G_=ya,Js.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ao=Js,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,F_=qe}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",lv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new O_("@firebase/firestore");function Ss(){return bi.logLevel}function ce(r,...t){if(bi.logLevel<=Pe.DEBUG){const a=t.map($d);bi.debug(`Firestore (${js}): ${r}`,...a)}}function Ga(r,...t){if(bi.logLevel<=Pe.ERROR){const a=t.map($d);bi.error(`Firestore (${js}): ${r}`,...a)}}function Vs(r,...t){if(bi.logLevel<=Pe.WARN){const a=t.map($d);bi.warn(`Firestore (${js}): ${r}`,...a)}}function $d(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,X_(r,s,a)}function X_(r,t,a){let s=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(a!==void 0)try{s+=" CONTEXT: "+JSON.stringify(a)}catch{s+=" CONTEXT: "+a}throw Ga(s),new Error(s)}function je(r,t,a,s){let o="Unexpected state";typeof a=="string"?o=a:s=a,r||X_(t,o,s)}function Se(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends wi{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(Kt.UNAUTHENTICATED)))}shutdown(){}}class oS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class uS{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){je(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,a(y)):Promise.resolve();let c=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qa,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qa)}}),0),d()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((s=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new $_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string",2055,{h:t}),new Kt(t)}}class cS{constructor(t,a,s){this.P=t,this.T=a,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hS{constructor(t,a,s){this.P=t,this.T=a,this.I=s}getToken(){return Promise.resolve(new cS(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fS{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P_(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){je(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(je(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new ov(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let s=0;s<r;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<a&&(s+=t.charAt(o[c]%62))}return s}}function Ie(r,t){return r<t?-1:r>t?1:0}function xd(r,t){const a=Math.min(r.length,t.length);for(let s=0;s<a;s++){const o=r.charAt(s),c=t.charAt(s);if(o!==c)return dd(o)===dd(c)?Ie(o,c):dd(o)?1:-1}return Ie(r.length,t.length)}const mS=55296,gS=57343;function dd(r){const t=r.charCodeAt(0);return t>=mS&&t<=gS}function Os(r,t,a){return r.length===t.length&&r.every(((s,o)=>a(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__name__";class ta{constructor(t,a,s){a===void 0?a=0:a>t.length&&_e(637,{offset:a,range:t.length}),s===void 0?s=t.length-a:s>t.length-a&&_e(1746,{length:s,range:t.length-a}),this.segments=t,this.offset=a,this.len=s}get length(){return this.len}isEqual(t){return ta.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof ta?t.forEach((s=>{a.push(s)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,s=this.limit();a<s;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const s=Math.min(t.length,a.length);for(let o=0;o<s;o++){const c=ta.compareSegments(t.get(o),a.get(o));if(c!==0)return c}return Ie(t.length,a.length)}static compareSegments(t,a){const s=ta.isNumericId(t),o=ta.isNumericId(a);return s&&!o?-1:!s&&o?1:s&&o?ta.extractNumericId(t).compare(ta.extractNumericId(a)):xd(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class We extends ta{construct(t,a,s){return new We(t,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const s of t){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter((o=>o.length>0)))}return new We(a)}static emptyPath(){return new We([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ta{construct(t,a,s){return new jt(t,a,s)}static isValidIdentifier(t){return pS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new jt([uv])}static fromServerFormat(t){const a=[];let s="",o=0;const c=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jt(a)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(We.fromString(t))}static fromName(t){return new pe(We.fromString(t).popFirst(5))}static empty(){return new pe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&We.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return We.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new We(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r,t,a){if(!a)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function yS(r,t,a,s){if(t===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${a} cannot be used together.`)}function cv(r){if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hv(r){if(pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Ms(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Jd(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t){const a={typeString:r};return t&&(a.value=t),a}function Ro(r,t){if(!J_(r))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let a;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){a=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){a=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){a=`Expected '${s}' field to equal '${c.value}'`;break}}if(a)throw new fe(te.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-62135596800,dv=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(t){return et.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),s=Math.floor((t-1e3*a)*dv);return new et(a,s)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<fv)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ro(t,et._jsonSchema))return new et(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:_t("string",et._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(t){return new Ae(t)}static min(){return new Ae(new et(0,0))}static max(){return new Ae(new et(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function vS(r,t){const a=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new et(a+1,0):new et(a,s));return new Dr(o,pe.empty(),t)}function _S(r){return new Dr(r.readTime,r.key,po)}class Dr{constructor(t,a,s){this.readTime=t,this.documentKey=a,this.largestBatchId=s}static min(){return new Dr(Ae.min(),pe.empty(),po)}static max(){return new Dr(Ae.max(),pe.empty(),po)}}function ES(r,t){let a=r.readTime.compareTo(t.readTime);return a!==0?a:(a=pe.comparator(r.documentKey,t.documentKey),a!==0?a:Ie(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==TS)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new ee(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(a,c).next(s,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof ee?a:ee.resolve(a)}catch(a){return ee.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.reject(a)}static resolve(t){return new ee(((a,s)=>{a(t)}))}static reject(t){return new ee(((a,s)=>{s(t)}))}static waitFor(t){return new ee(((a,s)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&a()}),(y=>s(y)))})),d=!0,c===o&&a()}))}static or(t){let a=ee.resolve(!1);for(const s of t)a=a.next((o=>o?ee.resolve(o):s()));return a}static forEach(t,a){const s=[];return t.forEach(((o,c)=>{s.push(a.call(this,o,c))})),this.waitFor(s)}static mapArray(t,a){return new ee(((s,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;a(t[p]).next((E=>{d[p]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(t,a){return new ee(((s,o)=>{const c=()=>{t()===!0?a().next((()=>{c()}),o):s()};c()}))}}function AS(r){const t=r.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>a.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function Bc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function SS(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function wS(r){let t="";for(let a=0;a<r.length;a++)t.length>0&&(t=mv(t)),t=RS(r.get(a),t);return mv(t)}function RS(r,t){let a=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":a+="";break;case W_:a+="";break;default:a+=c}}return a}function mv(r){return r+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){let t=0;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t++;return t}function Ri(r,t){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t(a,r[a])}function e0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t,a){this.comparator=t,this.root=a||qt.EMPTY}insert(t,a){return new it(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(t){return new it(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qt.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(t,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(t){let a=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return a+s.left.size;o<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,s)=>(t(a,s),!1)))}toString(){const t=[];return this.inorderTraversal(((a,s)=>(t.push(`${a}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rc(this.root,t,this.comparator,!0)}}class rc{constructor(t,a,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=a?s(t.key,a):1,a&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qt{constructor(t,a,s,o,c){this.key=t,this.value=a,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=c??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,s,o,c){return new qt(t??this.key,a??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,a,s),null):c===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let s,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _e(27949);return t+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(t,a,s,o,c){return this}insert(t,a,s){return new qt(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.comparator=t,this.data=new it(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,s)=>(t(a),!1)))}forEachInRange(t,a){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((s=>{a=a.add(s)})),a}isEqual(t){if(!(t instanceof Rt)||this.size!==t.size)return!1;const a=this.data.getIterator(),s=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Rt(this.comparator);return a.data=t,a}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(jt.comparator)}static empty(){return new Un([])}unionWith(t){let a=new Rt(jt.comparator);for(const s of this.fields)a=a.add(s);for(const s of t)a=a.add(s);return new Un(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,((a,s)=>a.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new t0("Invalid base64 string: "+c):c}})(t);return new Ht(a)}static fromUint8Array(t){const a=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ht(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const xS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(r){if(je(!!r,39018),typeof r=="string"){let t=0;const a=xS.exec(r);if(je(!!a,46558,{timestamp:r}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",a0="__type__",r0="__previous_value__",i0="__local_write_time__";function em(r){return(r?.mapValue?.fields||{})[a0]?.stringValue===n0}function qc(r){const t=r.mapValue.fields[r0];return em(t)?qc(t):t}function yo(r){const t=Ir(r.mapValue.fields[i0].timestampValue);return new et(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,a,s,o,c,d,g,y,p,E){this.databaseId=t,this.appId=a,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const bc="(default)";class vo{constructor(t,a){this.projectId=t,this.database=a||bc}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===bc}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__type__",CS="__max__",ic={mapValue:{}},l0="__vector__",Ac="value";function Or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?em(r)?4:IS(r)?9007199254740991:DS(r)?10:11:_e(28295,{value:r})}function la(r,t){if(r===t)return!0;const a=Or(r);if(a!==Or(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yo(r).isEqual(yo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ir(o.timestampValue),g=Ir(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Vr(o.bytesValue).isEqual(Vr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return dt(o.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return dt(o.integerValue)===dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=dt(o.doubleValue),g=dt(c.doubleValue);return d===g?Tc(d)===Tc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Os(r.arrayValue.values||[],t.arrayValue.values||[],la);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(gv(d)!==gv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!la(d[y],g[y])))return!1;return!0})(r,t);default:return _e(52216,{left:r})}}function _o(r,t){return(r.values||[]).find((a=>la(a,t)))!==void 0}function ks(r,t){if(r===t)return 0;const a=Or(r),s=Or(t);if(a!==s)return Ie(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=dt(c.integerValue||c.doubleValue),y=dt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return yv(r.timestampValue,t.timestampValue);case 4:return yv(yo(r),yo(t));case 5:return xd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Vr(c),y=Vr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ie(g[p],y[p]);if(E!==0)return E}return Ie(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ie(dt(c.latitude),dt(d.latitude));return g!==0?g:Ie(dt(c.longitude),dt(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},p=g[Ac]?.arrayValue,E=y[Ac]?.arrayValue,S=Ie(p?.values?.length||0,E?.values?.length||0);return S!==0?S:vv(p,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===ic.mapValue&&d===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const w=xd(y[S],E[S]);if(w!==0)return w;const C=ks(g[y[S]],p[E[S]]);if(C!==0)return C}return Ie(y.length,E.length)})(r.mapValue,t.mapValue);default:throw _e(23264,{he:a})}}function yv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ie(r,t);const a=Ir(r),s=Ir(t),o=Ie(a.seconds,s.seconds);return o!==0?o:Ie(a.nanos,s.nanos)}function vv(r,t){const a=r.values||[],s=t.values||[];for(let o=0;o<a.length&&o<s.length;++o){const c=ks(a[o],s[o]);if(c)return c}return Ie(a.length,s.length)}function Us(r){return Nd(r)}function Nd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(a){const s=Ir(a);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(a){return Vr(a).toBase64()})(r.bytesValue):"referenceValue"in r?(function(a){return pe.fromName(a).toString()})(r.referenceValue):"geoPointValue"in r?(function(a){return`geo(${a.latitude},${a.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(a){let s="[",o=!0;for(const c of a.values||[])o?o=!1:s+=",",s+=Nd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(a){const s=Object.keys(a.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Nd(a.fields[d])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function fc(r){switch(Or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qc(r);return t?16+fc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ri(s.fields,((c,d)=>{o+=c.length+fc(d)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function Cd(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function DS(r){return(r?.mapValue?.fields||{})[s0]?.stringValue===l0}function oo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ri(r.mapValue.fields,((a,s)=>t.mapValue.fields[a]=oo(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(r.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=oo(r.arrayValue.values[a]);return t}return{...r}}function IS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let s=0;s<t.length-1;++s)if(a=(a.mapValue.fields||{})[t.get(s)],!dc(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=oo(a)}setAll(t){let a=jt.emptyPath(),s={},o=[];t.forEach(((d,g)=>{if(!a.isImmediateParentOf(g)){const y=this.getFieldsMap(a);this.applyChanges(y,s,o),s={},o=[],a=g.popLast()}d?s[g.lastSegment()]=oo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(a);this.applyChanges(c,s,o)}delete(t){const a=this.field(t.popLast());dc(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return la(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=a.mapValue.fields[t.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(s)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,s){Ri(a,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new Nn(oo(this.value))}}function o0(r){const t=[];return Ri(r.fields,((a,s)=>{const o=new jt([a]);if(dc(s)){const c=o0(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,a,s,o,c,d,g){this.key=t,this.documentType=a,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xt(t,0,Ae.min(),Ae.min(),Ae.min(),Nn.empty(),0)}static newFoundDocument(t,a,s,o){return new Xt(t,1,a,Ae.min(),s,o,0)}static newNoDocument(t,a){return new Xt(t,2,a,Ae.min(),Ae.min(),Nn.empty(),0)}static newUnknownDocument(t,a){return new Xt(t,3,a,Ae.min(),Ae.min(),Nn.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,a){this.position=t,this.inclusive=a}}function Tv(r,t,a){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(d.referenceValue),a.key):s=ks(d,a.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let a=0;a<r.position.length;a++)if(!la(r.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,a="asc"){this.field=t,this.dir=a}}function VS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class wt extends u0{constructor(t,a,s){super(),this.field=t,this.op=a,this.value=s}static create(t,a,s){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,s):new MS(t,a,s):a==="array-contains"?new PS(t,s):a==="in"?new LS(t,s):a==="not-in"?new zS(t,s):a==="array-contains-any"?new BS(t,s):new wt(t,a,s)}static createKeyFieldInFilter(t,a,s){return a==="in"?new kS(t,s):new US(t,s)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(ks(a,this.value)):a!==null&&Or(this.value)===Or(a)&&this.matchesComparison(ks(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oa extends u0{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new oa(t,a)}matches(t){return c0(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function h0(r){return OS(r)&&c0(r)}function OS(r){for(const t of r.filters)if(t instanceof oa)return!1;return!0}function Dd(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Us(r.value);if(h0(r))return r.filters.map((t=>Dd(t))).join(",");{const t=r.filters.map((a=>Dd(a))).join(",");return`${r.op}(${t})`}}function f0(r,t){return r instanceof wt?(function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&la(s.value,o.value)})(r,t):r instanceof oa?(function(s,o){return o instanceof oa&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&f0(d,o.filters[g])),!0):!1})(r,t):void _e(19439)}function d0(r){return r instanceof wt?(function(a){return`${a.field.canonicalString()} ${a.op} ${Us(a.value)}`})(r):r instanceof oa?(function(a){return a.op.toString()+" {"+a.getFilters().map(d0).join(" ,")+"}"})(r):"Filter"}class MS extends wt{constructor(t,a,s){super(t,a,s),this.key=pe.fromName(s.referenceValue)}matches(t){const a=pe.comparator(t.key,this.key);return this.matchesComparison(a)}}class kS extends wt{constructor(t,a){super(t,"in",a),this.keys=m0("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class US extends wt{constructor(t,a){super(t,"not-in",a),this.keys=m0("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function m0(r,t){return(t.arrayValue?.values||[]).map((a=>pe.fromName(a.referenceValue)))}class PS extends wt{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return tm(a)&&_o(a.arrayValue,this.value)}}class LS extends wt{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&_o(this.value.arrayValue,a)}}class zS extends wt{constructor(t,a){super(t,"not-in",a)}matches(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!_o(this.value.arrayValue,a)}}class BS extends wt{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!tm(a)||!a.arrayValue.values)&&a.arrayValue.values.some((s=>_o(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,a=null,s=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=a,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Av(r,t=null,a=[],s=[],o=null,c=null,d=null){return new qS(r,t,a,s,o,c,d)}function nm(r){const t=Se(r);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((s=>Dd(s))).join(","),a+="|ob:",a+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Bc(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>Us(s))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>Us(s))).join(",")),t.Te=a}return t.Te}function am(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!VS(r.orderBy[a],t.orderBy[a]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if(!f0(r.filters[a],t.filters[a]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bv(r.startAt,t.startAt)&&bv(r.endAt,t.endAt)}function Id(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,a=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jS(r,t,a,s,o,c,d,g){return new jc(r,t,a,s,o,c,d,g)}function rm(r){return new jc(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HS(r){return r.collectionGroup!==null}function uo(r){const t=Se(r);if(t.Ie===null){t.Ie=[];const a=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),a.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Rt(jt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((c=>{a.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new wc(c,s))})),a.has(jt.keyField().canonicalString())||t.Ie.push(new wc(jt.keyField(),s))}return t.Ie}function na(r){const t=Se(r);return t.Ee||(t.Ee=FS(t,uo(r))),t.Ee}function FS(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wc(o.field,c)}));const a=r.endAt?new Sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,a,s)}}function Vd(r,t,a){return new jc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,a,r.startAt,r.endAt)}function Hc(r,t){return am(na(r),na(t))&&r.limitType===t.limitType}function g0(r){return`${nm(na(r))}|lt:${r.limitType}`}function ws(r){return`Query(target=${(function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map((o=>d0(o))).join(", ")}]`),Bc(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map((o=>Us(o))).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map((o=>Us(o))).join(",")),`Target(${s})`})(na(r))}; limitType=${r.limitType})`}function Fc(r,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,o){for(const c of uo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const p=Tv(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,uo(s),o)||s.endAt&&!(function(d,g,y){const p=Tv(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,uo(s),o))})(r,t)}function GS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(t,a)=>{let s=!1;for(const o of uo(r)){const c=QS(o,t,a);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function QS(r,t,a){const s=r.field.isKeyField()?pe.comparator(t.key,a.key):(function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?ks(y,p):_e(42886)})(r.field,t,a);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,a){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,a]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[a]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ri(this.inner,((a,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new it(pe.comparator);function Qa(){return YS}const y0=new it(pe.comparator);function ro(...r){let t=y0;for(const a of r)t=t.insert(a.key,a);return t}function v0(r){let t=y0;return r.forEach(((a,s)=>t=t.insert(a,s.overlayedDocument))),t}function Ei(){return co()}function _0(){return co()}function co(){return new xi((r=>r.toString()),((r,t)=>r.isEqual(t)))}const KS=new it(pe.comparator),XS=new Rt(pe.comparator);function Ve(...r){let t=XS;for(const a of r)t=t.add(a);return t}const $S=new Rt(Ie);function ZS(){return $S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function E0(r){return{integerValue:""+r}}function JS(r,t){return SS(t)?E0(t):im(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function WS(r,t,a){return r instanceof Rc?(function(o,c){const d={fields:{[a0]:{stringValue:n0},[i0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&em(c)&&(c=qc(c)),c&&(d.fields[r0]=c),{mapValue:d}})(a,t):r instanceof Eo?b0(r,t):r instanceof To?A0(r,t):(function(o,c){const d=T0(o,c),g=wv(d)+wv(o.Ae);return Cd(d)&&Cd(o.Ae)?E0(g):im(o.serializer,g)})(r,t)}function e2(r,t,a){return r instanceof Eo?b0(r,t):r instanceof To?A0(r,t):a}function T0(r,t){return r instanceof xc?(function(s){return Cd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Rc extends Gc{}class Eo extends Gc{constructor(t){super(),this.elements=t}}function b0(r,t){const a=S0(t);for(const s of r.elements)a.some((o=>la(o,s)))||a.push(s);return{arrayValue:{values:a}}}class To extends Gc{constructor(t){super(),this.elements=t}}function A0(r,t){let a=S0(t);for(const s of r.elements)a=a.filter((o=>!la(o,s)));return{arrayValue:{values:a}}}class xc extends Gc{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function wv(r){return dt(r.integerValue||r.doubleValue)}function S0(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function t2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Os(s.elements,o.elements,la):s instanceof xc&&o instanceof xc?la(s.Ae,o.Ae):s instanceof Rc&&o instanceof Rc})(r.transform,t.transform)}class n2{constructor(t,a){this.version=t,this.transformResults=a}}class ja{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Qc{}function w0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new x0(r.key,ja.none()):new xo(r.key,r.data,ja.none());{const a=r.data,s=Nn.empty();let o=new Rt(jt.comparator);for(let c of t.fields)if(!o.has(c)){let d=a.field(c);d===null&&c.length>1&&(c=c.popLast(),d=a.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ni(r.key,s,new Un(o.toArray()),ja.none())}}function a2(r,t,a){r instanceof xo?(function(o,c,d){const g=o.value.clone(),y=xv(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,a):r instanceof Ni?(function(o,c,d){if(!mc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(R0(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,a):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,a)}function ho(r,t,a,s){return r instanceof xo?(function(c,d,g,y){if(!mc(c.precondition,d))return g;const p=c.value.clone(),E=Nv(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,t,a,s):r instanceof Ni?(function(c,d,g,y){if(!mc(c.precondition,d))return g;const p=Nv(c.fieldTransforms,y,d),E=d.data;return E.setAll(R0(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,a,s):(function(c,d,g){return mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,a)}function r2(r,t){let a=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=T0(s.transform,o||null);c!=null&&(a===null&&(a=Nn.empty()),a.set(s.field,c))}return a||null}function Rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Os(s,o,((c,d)=>t2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xo extends Qc{constructor(t,a,s,o=[]){super(),this.key=t,this.value=a,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ni extends Qc{constructor(t,a,s,o,c=[]){super(),this.key=t,this.data=a,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function R0(r){const t=new Map;return r.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const s=r.data.field(a);t.set(a,s)}})),t}function xv(r,t,a){const s=new Map;je(r.length===a.length,32656,{Re:a.length,Ve:r.length});for(let o=0;o<a.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);s.set(c.field,e2(d,g,a[o]))}return s}function Nv(r,t,a){const s=new Map;for(const o of r){const c=o.transform,d=a.data.field(o.field);s.set(o.field,WS(c,d,t))}return s}class x0 extends Qc{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends Qc{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,a,s,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,a){const s=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&a2(c,t,s[o])}}applyToLocalView(t,a){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(a=ho(s,t,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(a=ho(s,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const s=_0();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=a.has(o.key)?null:g;const y=w0(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),Ve())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,((a,s)=>Rv(a,s)))&&Os(this.baseMutations,t.baseMutations,((a,s)=>Rv(a,s)))}}class sm{constructor(t,a,s,o){this.batch=t,this.commitVersion=a,this.mutationResults=s,this.docVersions=o}static from(t,a,s){je(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return KS})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new sm(t,a,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function u2(r){switch(r){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function N0(r){if(r===void 0)return Ga("GRPC error has no .code"),te.UNKNOWN;switch(r){case vt.OK:return te.OK;case vt.CANCELLED:return te.CANCELLED;case vt.UNKNOWN:return te.UNKNOWN;case vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case vt.INTERNAL:return te.INTERNAL;case vt.UNAVAILABLE:return te.UNAVAILABLE;case vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case vt.NOT_FOUND:return te.NOT_FOUND;case vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case vt.ABORTED:return te.ABORTED;case vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case vt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Nr([4294967295,4294967295],0);function Cv(r){const t=c2().encode(r),a=new H_;return a.update(t),new Uint8Array(a.digest())}function Dv(r){const t=new DataView(r.buffer),a=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Nr([a,s],0),new Nr([o,c],0)]}class lm{constructor(t,a,s){if(this.bitmap=t,this.padding=a,this.hashCount=s,a<0||a>=8)throw new io(`Invalid padding: ${a}`);if(s<0)throw new io(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${s}`);if(t.length===0&&a!==0)throw new io(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Nr.fromNumber(this.ge)}ye(t,a,s){let o=t.add(a.multiply(Nr.fromNumber(s)));return o.compare(h2)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=Cv(t),[s,o]=Dv(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(t,a,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new lm(c,o,a);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const a=Cv(t),[s,o]=Dv(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(t){const a=Math.floor(t/8),s=t%8;this.bitmap[a]|=1<<s}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,a,s,o,c){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,a,s){const o=new Map;return o.set(t,No.createSynthesizedTargetChangeForCurrentChange(t,a,s)),new Yc(Ae.min(),o,new it(Ie),Qa(),Ve())}}class No{constructor(t,a,s,o,c){this.resumeToken=t,this.current=a,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,a,s){return new No(s,a,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,a,s,o){this.be=t,this.removedTargetIds=a,this.key=s,this.De=o}}class C0{constructor(t,a){this.targetId=t,this.Ce=a}}class D0{constructor(t,a,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=s,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ve(),a=Ve(),s=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:c})}})),new No(this.Me,this.xe,t,a,s)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class f2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qa(),this.Je=sc(),this.He=sc(),this.Ye=new it(Ie)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const s=this.nt(a);switch(t.state){case 0:this.rt(a)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),s.Le(t.resumeToken));break;default:_e(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((s,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,s=t.Ce.count,o=this.ot(a);if(o){const c=o.target;if(Id(c))if(s===0){const d=new pe(c.path);this.et(a,d,Xt.newNoDocument(d,Ae.min()))}else je(s===1,20013,{expectedCount:s});else{const d=this._t(a);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(a);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,p)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=a;let d,g;try{d=Vr(s).toUint8Array()}catch(y){if(y instanceof t0)return Vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new lm(d,o,c)}catch(y){return Vs(y instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,a,s){return a.Ce.count===s-this.Pt(t,a.targetId)?0:2}Pt(t,a){const s=this.Ge.getRemoteKeysForTarget(a);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(a,c,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Id(g.target)){const y=new pe(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xt.newNoDocument(y,t))}c.Be&&(a.set(d,c.ke()),c.qe())}}));let s=Ve();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Yc(t,a,this.Ye,this.je,s);return this.je=Qa(),this.Je=sc(),this.He=sc(),this.Ye=new it(Ie),o}Xe(t,a){if(!this.rt(t))return;const s=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,s),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),s&&(this.je=this.je.insert(a,s))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new Iv,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Rt(Ie),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Rt(Ie),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||ce("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function sc(){return new it(pe.comparator)}function Vv(){return new it(pe.comparator)}const d2={asc:"ASCENDING",desc:"DESCENDING"},m2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g2={and:"AND",or:"OR"};class p2{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Od(r,t){return r.useProto3Json||Bc(t)?t:{value:t}}function Nc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function y2(r,t){return Nc(r,t.toTimestamp())}function aa(r){return je(!!r,49232),Ae.fromTimestamp((function(a){const s=Ir(a);return new et(s.seconds,s.nanos)})(r))}function om(r,t){return Md(r,t).canonicalString()}function Md(r,t){const a=(function(o){return new We(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?a:a.child(t)}function V0(r){const t=We.fromString(r);return je(P0(t),10190,{key:t.toString()}),t}function kd(r,t){return om(r.databaseId,t.path)}function md(r,t){const a=V0(t);if(a.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+r.databaseId.projectId);if(a.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+r.databaseId.database);return new pe(M0(a))}function O0(r,t){return om(r.databaseId,t)}function v2(r){const t=V0(r);return t.length===4?We.emptyPath():M0(t)}function Ud(r){return new We(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function M0(r){return je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ov(r,t,a){return{name:kd(r,t),fields:a.value.mapValue.fields}}function _2(r,t){let a;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(je(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?te.UNKNOWN:N0(p.code);return new fe(E,p.message||"")})(d);a=new D0(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=md(r,s.document.name),c=aa(s.document.updateTime),d=s.document.createTime?aa(s.document.createTime):Ae.min(),g=new Nn({mapValue:{fields:s.document.fields}}),y=Xt.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];a=new gc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=md(r,s.document),c=s.readTime?aa(s.readTime):Ae.min(),d=Xt.newNoDocument(o,c),g=s.removedTargetIds||[];a=new gc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=md(r,s.document),c=s.removedTargetIds||[];a=new gc([],c,o,null)}else{if(!("filter"in t))return _e(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new o2(o,c),g=s.targetId;a=new C0(g,d)}}return a}function E2(r,t){let a;if(t instanceof xo)a={update:Ov(r,t.key,t.value)};else if(t instanceof x0)a={delete:kd(r,t.key)};else if(t instanceof Ni)a={update:Ov(r,t.key,t.data),updateMask:C2(t.fieldMask)};else{if(!(t instanceof i2))return _e(16599,{Vt:t.type});a={verify:kd(r,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(a.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:y2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(r,t.precondition)),a}function T2(r,t){return r&&r.length>0?(je(t!==void 0,14353),r.map((a=>(function(o,c){let d=o.updateTime?aa(o.updateTime):aa(c);return d.isEqual(Ae.min())&&(d=aa(c)),new n2(d,o.transformResults||[])})(a,t)))):[]}function b2(r,t){return{documents:[O0(r,t.path)]}}function A2(r,t){const a={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=O0(r,o);const c=(function(p){if(p.length!==0)return U0(oa.create(p,"and"))})(t.filters);c&&(a.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:Rs(w.field),direction:R2(w.dir)}})(E)))})(t.orderBy);d&&(a.structuredQuery.orderBy=d);const g=Od(r,t.limit);return g!==null&&(a.structuredQuery.limit=g),t.startAt&&(a.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:a,parent:o}}function S2(r){let t=v2(r.parent);const a=r.structuredQuery,s=a.from?a.from.length:0;let o=null;if(s>0){je(s===1,65062);const E=a.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];a.where&&(c=(function(S){const w=k0(S);return w instanceof oa&&h0(w)?w.getFilters():[w]})(a.where));let d=[];a.orderBy&&(d=(function(S){return S.map((w=>(function(U){return new wc(xs(U.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(a.orderBy));let g=null;a.limit&&(g=(function(S){let w;return w=typeof S=="object"?S.value:S,Bc(w)?null:w})(a.limit));let y=null;a.startAt&&(y=(function(S){const w=!!S.before,C=S.values||[];return new Sc(C,w)})(a.startAt));let p=null;return a.endAt&&(p=(function(S){const w=!S.before,C=S.values||[];return new Sc(C,w)})(a.endAt)),jS(t,o,d,c,g,"F",y,p)}function w2(r,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function k0(r){return r.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=xs(a.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(a.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(a.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xs(a.unaryFilter.field);return wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(a){return wt.create(xs(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(a){return oa.create(a.compositeFilter.filters.map((s=>k0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(a.compositeFilter.op))})(r):_e(30097,{filter:r})}function R2(r){return d2[r]}function x2(r){return m2[r]}function N2(r){return g2[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function xs(r){return jt.fromServerFormat(r.fieldPath)}function U0(r){return r instanceof wt?(function(a){if(a.op==="=="){if(Ev(a.value))return{unaryFilter:{field:Rs(a.field),op:"IS_NAN"}};if(_v(a.value))return{unaryFilter:{field:Rs(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Ev(a.value))return{unaryFilter:{field:Rs(a.field),op:"IS_NOT_NAN"}};if(_v(a.value))return{unaryFilter:{field:Rs(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(a.field),op:x2(a.op),value:a.value}}})(r):r instanceof oa?(function(a){const s=a.getFilters().map((o=>U0(o)));return s.length===1?s[0]:{compositeFilter:{op:N2(a.op),filters:s}}})(r):_e(54877,{filter:r})}function C2(r){const t=[];return r.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function P0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,a,s,o,c=Ae.min(),d=Ae.min(),g=Ht.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=a,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.yt=t}}function I2(r){const t=S2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Cn=new O2}addToCollectionParentIndex(t,a){return this.Cn.add(a),ee.resolve()}getCollectionParents(t,a){return ee.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return ee.resolve()}deleteFieldIndex(t,a){return ee.resolve()}deleteAllFieldIndexes(t){return ee.resolve()}createTargetIndexes(t,a){return ee.resolve()}getDocumentsMatchingTarget(t,a){return ee.resolve(null)}getIndexType(t,a){return ee.resolve(0)}getFieldIndexes(t,a){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,a){return ee.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,a){return ee.resolve(Dr.min())}updateCollectionGroup(t,a,s){return ee.resolve()}updateIndexEntries(t,a){return ee.resolve()}}class O2{constructor(){this.index={}}add(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a]||new Rt(We.comparator),c=!o.has(s);return this.index[a]=o.add(s),c}has(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Rt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(L0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ps(0)}static cr(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LruGarbageCollector",M2=1048576;function Uv([r,t],[a,s]){const o=Ie(r,a);return o===0?Ie(t,s):o}class k2{constructor(t){this.Ir=t,this.buffer=new Rt(Uv),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();Uv(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(t,a,s){this.garbageCollector=t,this.asyncQueue=a,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ce(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Fs(a)?ce(kv,"Ignoring IndexedDB error during garbage collection: ",a):await Hs(a)}await this.Vr(3e5)}))}}class P2{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((s=>Math.floor(a/100*s)))}nthSequenceNumber(t,a){if(a===0)return ee.resolve(zc.ce);const s=new k2(a);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,a,s){return this.mr.removeTargets(t,a,s)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Mv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,a)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(p=Date.now(),Ss()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function L2(r,t){return new P2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.changes=new xi((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,Xt.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?ee.resolve(s):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,a,s,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,a){let s=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(s!==null&&ho(s.mutation,o,Un.empty(),et.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.getLocalViewOfDocuments(t,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(t,a,s=Ve()){const o=Ei();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,s).next((c=>{let d=ro();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,a){const s=Ei();return this.populateOverlays(t,s,a).next((()=>this.computeViews(t,a,s,Ve())))}populateOverlays(t,a,s){const o=[];return s.forEach((c=>{a.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{a.set(d,g)}))}))}computeViews(t,a,s,o){let c=Qa();const d=co(),g=(function(){return co()})();return a.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ni)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),ho(E.mutation,p,E.mutation.getFieldMask(),et.now())):d.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((p,E)=>d.set(p,E))),a.forEach(((p,E)=>g.set(p,new B2(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,a){const s=co();let o=new it(((d,g)=>d-g)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=a.get(y);if(p===null)return;let E=s.get(y)||Un.empty();E=g.applyToLocalView(p,E),s.set(y,E);const S=(o.get(g.batchId)||Ve()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,S=_0();E.forEach((w=>{if(!c.has(w)){const C=w0(a.get(w),s.get(w));C!==null&&S.set(w,C),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return ee.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,a,s,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):HS(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,s,o):this.getDocumentsMatchingCollectionQuery(t,a,s,o)}getNextDocuments(t,a,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,s.largestBatchId,o-c.size):ee.resolve(Ei());let g=po,y=c;return d.next((p=>ee.forEach(p,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(t,p,c))).next((()=>this.computeViews(t,y,p,Ve()))).next((E=>({batchId:g,changes:v0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new pe(a)).next((s=>{let o=ro();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,s,o){const c=a.collectionGroup;let d=ro();return this.indexManager.getCollectionParents(t,c).next((g=>ee.forEach(g,(y=>{const p=(function(S,w){return new jc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(a,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next((E=>{E.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,a,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,s,c,o)))).next((d=>{c.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Xt.newInvalidDocument(E)))}));let g=ro();return d.forEach(((y,p)=>{const E=c.get(y);E!==void 0&&ho(E.mutation,p,Un.empty(),et.now()),Fc(a,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return ee.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:aa(o.createTime)}})(a)),ee.resolve()}getNamedQuery(t,a){return ee.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:I2(o.bundledQuery),readTime:aa(o.readTime)}})(a)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.overlays=new it(pe.comparator),this.qr=new Map}getOverlay(t,a){return ee.resolve(this.overlays.get(a))}getOverlays(t,a){const s=Ei();return ee.forEach(a,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,a,s){return s.forEach(((o,c)=>{this.St(t,a,c)})),ee.resolve()}removeOverlaysForBatchId(t,a,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(t,a,s){const o=Ei(),c=a.length+1,d=new pe(a.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!a.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(t,a,s,o){let c=new it(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===a&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Ei(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Ei(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return ee.resolve(g)}St(t,a,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new l2(a,s));let c=this.qr.get(a);c===void 0&&(c=Ve(),this.qr.set(a,c)),this.qr.set(a,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(t){return ee.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Qr=new Rt(Ot.$r),this.Ur=new Rt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const s=new Ot(t,a);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,a){t.forEach((s=>this.addReference(s,a)))}removeReference(t,a){this.Gr(new Ot(t,a))}zr(t,a){t.forEach((s=>this.removeReference(s,a)))}jr(t){const a=new pe(new We([])),s=new Ot(a,t),o=new Ot(a,t+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new pe(new We([])),s=new Ot(a,t),o=new Ot(a,t+1);let c=Ve();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const a=new Ot(t,0),s=this.Qr.firstAfterOrEqual(a);return s!==null&&t.isEqual(s.key)}}class Ot{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return pe.comparator(t.key,a.key)||Ie(t.Yr,a.Yr)}static Kr(t,a){return Ie(t.Yr,a.Yr)||pe.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Ot.$r)}checkEmpty(t){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new s2(c,a,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ot(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(t,a){return ee.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const s=a+1,o=this.ei(s),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Wd:this.tr-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const s=new Ot(a,0),o=new Ot(a,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,a){let s=new Rt(Ie);return a.forEach((o=>{const c=new Ot(o,0),d=new Ot(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,a){const s=a.path,o=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const d=new Ot(new pe(c),0);let g=new Rt(Ie);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)}),d),ee.resolve(this.ti(g))}ti(t){const a=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){je(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(a.mutations,(o=>{const c=new Ot(o.key,a.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,a){const s=new Ot(a,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ee.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.ri=t,this.docs=(function(){return new it(pe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const s=a.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const s=this.docs.get(a);return ee.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(a))}getEntries(t,a){let s=Qa();return a.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(t,a,s,o){let c=Qa();const d=a.path,g=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||ES(_S(E),s)<=0||(o.has(E.key)||Fc(a,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(t,a,s,o){_e(9500)}ii(t,a){return ee.forEach(this.docs,(s=>a(s)))}newChangeBuffer(t){return new Y2(this)}getSize(t){return ee.resolve(this.size)}}class Y2 extends z2{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),ee.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.persistence=t,this.si=new xi((a=>nm(a)),am),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new um,this.targetCount=0,this.ai=Ps.ur()}forEachTarget(t,a){return this.si.forEach(((s,o)=>a(o))),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this.oi&&(this.oi=a),ee.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new Ps(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,ee.resolve()}updateTargetData(t,a){return this.Pr(a),ee.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,a,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=a&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),ee.waitFor(c).next((()=>o))}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,a){const s=this.si.get(a)||null;return ee.resolve(s)}addMatchingKeys(t,a,s){return this._i.Wr(a,s),ee.resolve()}removeMatchingKeys(t,a,s){this._i.zr(a,s);const o=this.persistence.referenceDelegate,c=[];return o&&a.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),ee.waitFor(c)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),ee.resolve()}getMatchingKeysForTargetId(t,a){const s=this._i.Hr(a);return ee.resolve(s)}containsKey(t,a){return ee.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,a){this.ui={},this.overlays={},this.ci=new zc(0),this.li=!1,this.li=!0,this.hi=new F2,this.referenceDelegate=t(this),this.Pi=new K2(this),this.indexManager=new V2,this.remoteDocumentCache=(function(o){return new Q2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new D2(a),this.Ii=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new H2,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let s=this.ui[t.toKey()];return s||(s=new G2(a,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,s){ce("MemoryPersistence","Starting transaction:",t);const o=new X2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,a){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,a))))}}class X2 extends bS{constructor(t){super(),this.currentSequenceNumber=t}}class cm{constructor(t){this.persistence=t,this.Ri=new um,this.Vi=null}static mi(t){return new cm(t)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(t,a,s){return this.Ri.addReference(s,a),this.fi.delete(s.toString()),ee.resolve()}removeReference(t,a,s){return this.Ri.removeReference(s,a),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),ee.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(t,o).next((c=>{c||a.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((s=>{s?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return ee.or([()=>ee.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class Cc{constructor(t,a){this.persistence=t,this.pi=new xi((s=>wS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=L2(this,a)}static mi(t,a){return new Cc(t,a)}Ei(){}di(t){return ee.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>a.next((o=>s+o))))}wr(t){let a=0;return this.pr(t,(s=>{a++})).next((()=>a))}pr(t,a){return ee.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?ee.resolve():a(o)))))}removeTargets(t,a,s){return this.persistence.getTargetCache().removeTargets(t,a,s)}removeOrphanedDocuments(t,a){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,a).next((g=>{g||(s++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}removeTarget(t,a){const s=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),ee.resolve()}removeReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),ee.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=fc(t.data.value)),a}br(t,a,s){return ee.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,a,s,o){this.targetId=t,this.fromCache=a,this.Es=s,this.ds=o}static As(t,a){let s=Ve(),o=Ve();for(const c of a.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hm(t,a.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yb()?8:AS(Gb())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,s,o){const c={result:null};return this.ys(t,a).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,a,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new $2;return this.Ss(t,a,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,a,d,g.size)}))})).next((()=>c.result))}bs(t,a,s,o){return s.documentReadCount<this.fs?(Ss()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ws(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ss()<=Pe.DEBUG&&ce("QueryEngine","Query:",ws(a),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ss()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ws(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,na(a))):ee.resolve())}ys(t,a){if(Sv(a))return ee.resolve(null);let s=na(a);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Vd(a,null,"F"),s=na(a)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ve(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const p=this.Ds(a,g);return this.Cs(a,p,d,y.readTime)?this.ys(t,Vd(a,null,"F")):this.vs(t,p,a,y)}))))})))))}ws(t,a,s,o){return Sv(a)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(a,c);return this.Cs(a,d,s,o)?ee.resolve(null):(Ss()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ws(a)),this.vs(t,d,a,vS(o,po)).next((g=>g)))}))}Ds(t,a){let s=new Rt(p0(t));return a.forEach(((o,c)=>{Fc(t,c)&&(s=s.add(c))})),s}Cs(t,a,s,o){if(t.limit===null)return!1;if(s.size!==a.size)return!0;const c=t.limitType==="F"?a.last():a.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,a,s){return Ss()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ws(a)),this.ps.getDocumentsMatchingQuery(t,a,Dr.min(),s)}vs(t,a,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(a.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="LocalStore",J2=3e8;class W2{constructor(t,a,s,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new it(Ie),this.xs=new xi((c=>nm(c)),am),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function ew(r,t,a,s){return new W2(r,t,a,s)}async function B0(r,t){const a=Se(r);return await a.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return a.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,a.Bs(t),a.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Ve();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return a.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function tw(r,t){const a=Se(r);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const S=p.batch,w=S.keys();let C=ee.resolve();return w.forEach((U=>{C=C.next((()=>E.getEntry(y,U))).next((K=>{const B=p.docVersions.get(U);je(B!==null,48541),K.version.compareTo(B)<0&&(S.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))}))})),C.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(a,s,t,c).next((()=>c.apply(s))).next((()=>a.mutationQueue.performConsistencyCheck(s))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Ve();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>a.localDocuments.getDocuments(s,o)))}))}function q0(r){const t=Se(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function nw(r,t){const a=Se(r),s=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const g=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;g.push(a.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>a.Pi.addMatchingKeys(c,E.addedDocuments,S))));let C=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?C=C.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(S,C),(function(K,B,ae){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=J2?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(w,C,E)&&g.push(a.Pi.updateTargetData(c,C))}));let y=Qa(),p=Ve();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(a.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(aw(c,d,t.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(Ae.min())){const E=a.Pi.getLastRemoteSnapshotVersion(c).next((S=>a.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return ee.waitFor(g).next((()=>d.apply(c))).next((()=>a.localDocuments.getLocalViewOfDocuments(c,y,p))).next((()=>y))})).then((c=>(a.Ms=o,c)))}function aw(r,t,a){let s=Ve(),o=Ve();return a.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Qa();return a.forEach(((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ce(fm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function rw(r,t){const a=Se(r);return a.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wd),a.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function iw(r,t){const a=Se(r);return a.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return a.Pi.getTargetData(s,t).next((c=>c?(o=c,ee.resolve(o)):a.Pi.allocateTargetId(s).next((d=>(o=new Sr(t,d,"TargetPurposeListen",s.currentSequenceNumber),a.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=a.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(s.targetId,s),a.xs.set(t,s.targetId)),s}))}async function Pd(r,t,a){const s=Se(r),o=s.Ms.get(t),c=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fs(d))throw d;ce(fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Pv(r,t,a){const s=Se(r);let o=Ae.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const S=Se(y),w=S.xs.get(E);return w!==void 0?ee.resolve(S.Ms.get(w)):S.Pi.getTargetData(p,E)})(s,d,na(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,a?o:Ae.min(),a?c:Ve()))).next((g=>(sw(s,GS(t),g),{documents:g,Qs:c})))))}function sw(r,t,a){let s=r.Os.get(t)||Ae.min();a.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Lv{constructor(){this.activeTargetIds=ZS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lw{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,s){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,s){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,a,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(zv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ce(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function Ld(){return lc===null?lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RestConnection",uw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,a,s,o,c){const d=Ld(),g=this.zo(t,a.toUriEncodedString());ce(gd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(g),E=Lc(p);return this.Jo(t,g,y,s,E).then((S=>(ce(gd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Vs(gd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,a,s,o,c,d){return this.Go(t,a,s,o,c)}jo(t,a,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+js})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,a){const s=uw[t];return`${this.Uo}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class fw extends cw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,s,o,c){const d=Ld();return new Promise(((g,y)=>{const p=new F_;p.setWithCredentials(!0),p.listenOnce(G_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hc.NO_ERROR:const S=p.getResponseJson();ce(Yt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case hc.TIMEOUT:ce(Yt,`RPC '${t}' ${d} timed out`),y(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const w=p.getStatus();if(ce(Yt,`RPC '${t}' ${d} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const K=(function(ae){const q=ae.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN})(U.status);y(new fe(K,U.message))}else y(new fe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Yt,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);ce(Yt,`RPC '${t}' ${d} sending request:`,o),p.send(a,"POST",E,s,15)}))}T_(t,a,s){const o=Ld(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=K_(),g=Y_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,a,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ce(Yt,`Creating RPC '${t}' stream ${o}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let w=!1,C=!1;const U=new hw({Yo:B=>{C?ce(Yt,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(w||(ce(Yt,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ce(Yt,`RPC '${t}' stream ${o} sending:`,B),S.send(B))},Zo:()=>S.close()}),K=(B,ae,q)=>{B.listen(ae,(X=>{try{q(X)}catch(re){setTimeout((()=>{throw re}),0)}}))};return K(S,ao.EventType.OPEN,(()=>{C||(ce(Yt,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),K(S,ao.EventType.CLOSE,(()=>{C||(C=!0,ce(Yt,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(S))})),K(S,ao.EventType.ERROR,(B=>{C||(C=!0,Vs(Yt,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),U.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),K(S,ao.EventType.MESSAGE,(B=>{if(!C){const ae=B.data[0];je(!!ae,16349);const q=ae,X=q?.error||q[0]?.error;if(X){ce(Yt,`RPC '${t}' stream ${o} received error:`,X);const re=X.status;let ue=(function(R){const N=vt[R];if(N!==void 0)return N0(N)})(re),Ee=X.message;ue===void 0&&(ue=te.INTERNAL,Ee="Unknown error status: "+re+" with message "+X.message),C=!0,U.a_(new fe(ue,Ee)),S.close()}else ce(Yt,`RPC '${t}' stream ${o} received:`,ae),U.u_(ae)}})),K(g,Q_.STAT_EVENT,(B=>{B.stat===Rd.PROXY?ce(Yt,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Rd.NOPROXY&&ce(Yt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){return new p2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,a,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=a,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="PersistentStream";class H0{constructor(t,a,s,o,c,d,g,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j0(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===te.RESOURCE_EXHAUSTED?(Ga(a.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===a&&this.G_(s,o)}),(s=>{t((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,a){const s=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ce(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(ce(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dw extends H0{constructor(t,a,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,o,d),this.serializer=c}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=_2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?aa(d.readTime):Ae.min()})(t);return this.listener.H_(a,s)}Y_(t){const a={};a.database=Ud(this.serializer),a.addTarget=(function(c,d){let g;const y=d.target;if(g=Id(y)?{documents:b2(c,y)}:{query:A2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=I0(c,d.resumeToken);const p=Od(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ae.min())>0){g.readTime=Nc(c,d.snapshotVersion.toTimestamp());const p=Od(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const s=w2(this.serializer,t);s&&(a.labels=s),this.q_(a)}Z_(t){const a={};a.database=Ud(this.serializer),a.removeTarget=t,this.q_(a)}}class mw extends H0{constructor(t,a,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return je(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,je(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){je(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=T2(t.writeResults,t.commitTime),s=aa(t.commitTime);return this.listener.na(s,a)}ra(){const t={};t.database=Ud(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((s=>E2(this.serializer,s)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{}class pw extends gw{constructor(t,a,s,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Md(a,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}Ho(t,a,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Md(a,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yw{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ga(a),this.aa=!1):ce("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="RemoteStore";class vw{constructor(t,a,s,o,c){this.localStore=t,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ci(this)&&(ce(Ai,"Restarting streams for network reachability change."),await(async function(y){const p=Se(y);p.Ea.add(4),await Co(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xc(p)})(this))}))})),this.Ra=new yw(s,o)}}async function Xc(r){if(Ci(r))for(const t of r.da)await t(!0)}async function Co(r){for(const t of r.da)await t(!1)}function F0(r,t){const a=Se(r);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),pm(a)?gm(a):Gs(a).O_()&&mm(a,t))}function dm(r,t){const a=Se(r),s=Gs(a);a.Ia.delete(t),s.O_()&&G0(a,t),a.Ia.size===0&&(s.O_()?s.L_():Ci(a)&&a.Ra.set("Unknown"))}function mm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ae.min())>0){const a=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}Gs(r).Y_(t)}function G0(r,t){r.Va.Ue(t),Gs(r).Z_(t)}function gm(r){r.Va=new f2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Ra.ua()}function pm(r){return Ci(r)&&!Gs(r).x_()&&r.Ia.size>0}function Ci(r){return Se(r).Ea.size===0}function Q0(r){r.Va=void 0}async function _w(r){r.Ra.set("Online")}async function Ew(r){r.Ia.forEach(((t,a)=>{mm(r,t)}))}async function Tw(r,t){Q0(r),pm(r)?(r.Ra.ha(t),gm(r)):r.Ra.set("Unknown")}async function bw(r,t,a){if(r.Ra.set("Online"),t instanceof D0&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(s){ce(Ai,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Dc(r,s)}else if(t instanceof gc?r.Va.Ze(t):t instanceof C0?r.Va.st(t):r.Va.tt(t),!a.isEqual(Ae.min()))try{const s=await q0(r.localStore);a.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),G0(c,y);const S=new Sr(E.target,y,p,E.sequenceNumber);mm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,a)}catch(s){ce(Ai,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,t,a){if(!Fs(t))throw t;r.Ea.add(1),await Co(r),r.Ra.set("Offline"),a||(a=()=>q0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Ai,"Retrying IndexedDB access"),await a(),r.Ea.delete(1),await Xc(r)}))}function Y0(r,t){return t().catch((a=>Dc(r,a,t)))}async function $c(r){const t=Se(r),a=Mr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wd;for(;Aw(t);)try{const o=await rw(t.localStore,s);if(o===null){t.Ta.length===0&&a.L_();break}s=o.batchId,Sw(t,o)}catch(o){await Dc(t,o)}K0(t)&&X0(t)}function Aw(r){return Ci(r)&&r.Ta.length<10}function Sw(r,t){r.Ta.push(t);const a=Mr(r);a.O_()&&a.X_&&a.ea(t.mutations)}function K0(r){return Ci(r)&&!Mr(r).x_()&&r.Ta.length>0}function X0(r){Mr(r).start()}async function ww(r){Mr(r).ra()}async function Rw(r){const t=Mr(r);for(const a of r.Ta)t.ea(a.mutations)}async function xw(r,t,a){const s=r.Ta.shift(),o=sm.from(s,t,a);await Y0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $c(r)}async function Nw(r,t){t&&Mr(r).X_&&await(async function(s,o){if((function(d){return u2(d)&&d!==te.ABORTED})(o.code)){const c=s.Ta.shift();Mr(s).B_(),await Y0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await $c(s)}})(r,t),K0(r)&&X0(r)}async function jv(r,t){const a=Se(r);a.asyncQueue.verifyOperationInProgress(),ce(Ai,"RemoteStore received new credentials");const s=Ci(a);a.Ea.add(3),await Co(a),s&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await Xc(a)}async function Cw(r,t){const a=Se(r);t?(a.Ea.delete(2),await Xc(a)):t||(a.Ea.add(2),await Co(a),a.Ra.set("Unknown"))}function Gs(r){return r.ma||(r.ma=(function(a,s,o){const c=Se(a);return c.sa(),new dw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_w.bind(null,r),t_:Ew.bind(null,r),r_:Tw.bind(null,r),H_:bw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),pm(r)?gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),Q0(r))}))),r.ma}function Mr(r){return r.fa||(r.fa=(function(a,s,o){const c=Se(a);return c.sa(),new mw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ww.bind(null,r),r_:Nw.bind(null,r),ta:Rw.bind(null,r),na:xw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await $c(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Ai,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,a,s,o,c){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,s,o,c){const d=Date.now()+s,g=new ym(t,a,d,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(r,t){if(Ga("AsyncQueue",`${t}: ${r}`),Fs(r))return new fe(te.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(t){return new Ns(t.comparator)}constructor(t){this.comparator=t?(a,s)=>t(a,s)||pe.comparator(a.key,s.key):(a,s)=>pe.comparator(a.key,s.key),this.keyedMap=ro(),this.sortedSet=new it(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,s)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Ns)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const s=new Ns;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.ga=new it(pe.comparator)}track(t){const a=t.doc.key,s=this.ga.get(a);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(a,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(a,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(a):t.type===1&&s.type===2?this.ga=this.ga.insert(a,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):_e(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,s)=>{t.push(s)})),t}}class Ls{constructor(t,a,s,o,c,d,g,y,p){this.query=t,this.docs=a,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,a,s,o,c){const d=[];return a.forEach((g=>{d.push({type:0,doc:g})})),new Ls(t,a,Ns.emptySet(a),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,s=t.docChanges;if(a.length!==s.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==s[o].type||!a[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Iw{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,s){const o=Se(a),c=o.queries;o.queries=Fv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function Fv(){return new xi((r=>g0(r)),Hc)}async function $0(r,t){const a=Se(r);let s=3;const o=t.query;let c=a.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new Dw,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await a.onListen(o,!0);break;case 1:c.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(d){const g=vm(d,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(g)}a.queries.set(o,c),c.Sa.push(t),t.va(a.onlineState),c.wa&&t.Fa(c.wa)&&_m(a)}async function Z0(r,t){const a=Se(r),s=t.query;let o=3;const c=a.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function Vw(r,t){const a=Se(r);let s=!1;for(const o of t){const c=o.query,d=a.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&_m(a)}function Ow(r,t,a){const s=Se(r),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(a);s.queries.delete(t)}function _m(r){r.Ca.forEach((t=>{t.next()}))}var zd,Gv;(Gv=zd||(zd={})).Ma="default",Gv.Cache="cache";class J0{constructor(t,a,s){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ls(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const s=a!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Ls.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.key=t}}class eE{constructor(t){this.key=t}}class Mw{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=p0(t),this.tu=new Ns(this.eu)}get nu(){return this.Ya}ru(t,a){const s=a?a.iu:new Hv,o=a?a.tu:this.tu;let c=a?a.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),C=Fc(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;w&&C?w.data.isEqual(C.data)?U!==K&&(s.track({type:3,doc:C}),B=!0):this.su(w,C)||(s.track({type:2,doc:C}),B=!0,(y&&this.eu(C,y)>0||p&&this.eu(C,p)<0)&&(g=!0)):!w&&C?(s.track({type:0,doc:C}),B=!0):w&&!C&&(s.track({type:1,doc:w}),B=!0,(y||p)&&(g=!0)),B&&(C?(d=d.add(C),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,S)=>(function(C,U){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:B})}};return K(C)-K(U)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const g=a&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Ls(this.query,t.tu,c,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const a=[];return t.forEach((s=>{this.Xa.has(s)||a.push(new eE(s))})),this.Xa.forEach((s=>{t.has(s)||a.push(new W0(s))})),a}cu(t){this.Ya=t.Qs,this.Xa=Ve();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Ls.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Em="SyncEngine";class kw{constructor(t,a,s){this.query=t,this.targetId=a,this.view=s}}class Uw{constructor(t){this.key=t,this.hu=!1}}class Pw{constructor(t,a,s,o,c,d){this.localStore=t,this.remoteStore=a,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xi((g=>g0(g)),Hc),this.Iu=new Map,this.Eu=new Set,this.du=new it(pe.comparator),this.Au=new Map,this.Ru=new um,this.Vu={},this.mu=new Map,this.fu=Ps.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Lw(r,t,a=!0){const s=sE(r);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tE(s,t,a,!0),o}async function zw(r,t){const a=sE(r);await tE(a,t,!0,!1)}async function tE(r,t,a,s){const o=await iw(r.localStore,na(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,a);let g;return s&&(g=await Bw(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&a&&F0(r.remoteStore,o),g}async function Bw(r,t,a,s,o){r.pu=(S,w,C)=>(async function(K,B,ae,q){let X=B.view.ru(ae);X.Cs&&(X=await Pv(K.localStore,B.query,!1).then((({documents:O})=>B.view.ru(O,X))));const re=q&&q.targetChanges.get(B.targetId),ue=q&&q.targetMismatches.get(B.targetId)!=null,Ee=B.view.applyChanges(X,K.isPrimaryClient,re,ue);return Yv(K,B.targetId,Ee.au),Ee.snapshot})(r,S,w,C);const c=await Pv(r.localStore,t,!0),d=new Mw(t,c.Qs),g=d.ru(c.documents),y=No.createSynthesizedTargetChangeForCurrentChange(a,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);Yv(r,a,p.au);const E=new kw(t,a,d);return r.Tu.set(t,E),r.Iu.has(a)?r.Iu.get(a).push(t):r.Iu.set(a,[t]),p.snapshot}async function qw(r,t,a){const s=Se(r),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Hc(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),a&&dm(s.remoteStore,o.targetId),Bd(s,o.targetId)})).catch(Hs)):(Bd(s,o.targetId),await Pd(s.localStore,o.targetId,!0))}async function jw(r,t){const a=Se(r),s=a.Tu.get(t),o=a.Iu.get(s.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),dm(a.remoteStore,s.targetId))}async function Hw(r,t,a){const s=$w(r);try{const o=await(function(d,g){const y=Se(d),p=et.now(),E=g.reduce(((C,U)=>C.add(U.key)),Ve());let S,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Qa(),K=Ve();return y.Ns.getEntries(C,E).next((B=>{U=B,U.forEach(((ae,q)=>{q.isValidDocument()||(K=K.add(ae))}))})).next((()=>y.localDocuments.getOverlayedDocuments(C,U))).next((B=>{S=B;const ae=[];for(const q of g){const X=r2(q,S.get(q.key).overlayedDocument);X!=null&&ae.push(new Ni(q.key,X,o0(X.value.mapValue),ja.exists(!0)))}return y.mutationQueue.addMutationBatch(C,p,ae,g)})).next((B=>{w=B;const ae=B.applyToLocalDocumentSet(S,K);return y.documentOverlayCache.saveOverlays(C,B.batchId,ae)}))})).then((()=>({batchId:w.batchId,changes:v0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new it(Ie)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,a),await Do(s,o.changes),await $c(s.remoteStore)}catch(o){const c=vm(o,"Failed to persist write");a.reject(c)}}async function nE(r,t){const a=Se(r);try{const s=await nw(a.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=a.Au.get(c);d&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?je(d.hu,14607):o.removedDocuments.size>0&&(je(d.hu,42227),d.hu=!1))})),await Do(a,s,t)}catch(s){await Hs(s)}}function Qv(r,t,a){const s=Se(r);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Se(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(g)&&(p=!0)})),p&&_m(y)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Fw(r,t,a){const s=Se(r);s.sharedClientState.updateQueryState(t,"rejected",a);const o=s.Au.get(t),c=o&&o.key;if(c){let d=new it(pe.comparator);d=d.insert(c,Xt.newNoDocument(c,Ae.min()));const g=Ve().add(c),y=new Yc(Ae.min(),new Map,new it(Ie),d,g);await nE(s,y),s.du=s.du.remove(c),s.Au.delete(t),Tm(s)}else await Pd(s.localStore,t,!1).then((()=>Bd(s,t,a))).catch(Hs)}async function Gw(r,t){const a=Se(r),s=t.batch.batchId;try{const o=await tw(a.localStore,t);rE(a,s,null),aE(a,s),a.sharedClientState.updateMutationState(s,"acknowledged"),await Do(a,o)}catch(o){await Hs(o)}}async function Qw(r,t,a){const s=Se(r);try{const o=await(function(d,g){const y=Se(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(je(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,t);rE(s,t,a),aE(s,t),s.sharedClientState.updateMutationState(t,"rejected",a),await Do(s,o)}catch(o){await Hs(o)}}function aE(r,t){(r.mu.get(t)||[]).forEach((a=>{a.resolve()})),r.mu.delete(t)}function rE(r,t,a){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(a?c.reject(a):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Bd(r,t,a=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),a&&r.Pu.yu(s,a);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||iE(r,s)}))}function iE(r,t){r.Eu.delete(t.path.canonicalString());const a=r.du.get(t);a!==null&&(dm(r.remoteStore,a),r.du=r.du.remove(t),r.Au.delete(a),Tm(r))}function Yv(r,t,a){for(const s of a)s instanceof W0?(r.Ru.addReference(s.key,t),Yw(r,s)):s instanceof eE?(ce(Em,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||iE(r,s.key)):_e(19791,{wu:s})}function Yw(r,t){const a=t.key,s=a.path.canonicalString();r.du.get(a)||r.Eu.has(s)||(ce(Em,"New document in limbo: "+a),r.Eu.add(s),Tm(r))}function Tm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const a=new pe(We.fromString(t)),s=r.fu.next();r.Au.set(s,new Uw(a)),r.du=r.du.insert(a,s),F0(r.remoteStore,new Sr(na(rm(a.path)),s,"TargetPurposeLimboResolution",zc.ce))}}async function Do(r,t,a){const s=Se(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,a).then((p=>{if((p||a)&&s.isPrimaryClient){const E=p?!p.fromCache:a?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=hm.As(y.targetId,p);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(y,p){const E=Se(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ee.forEach(p,(w=>ee.forEach(w.Es,(C=>E.persistence.referenceDelegate.addReference(S,w.targetId,C))).next((()=>ee.forEach(w.ds,(C=>E.persistence.referenceDelegate.removeReference(S,w.targetId,C)))))))))}catch(S){if(!Fs(S))throw S;ce(fm,"Failed to update sequence numbers: "+S)}for(const S of p){const w=S.targetId;if(!S.fromCache){const C=E.Ms.get(w),U=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(w,K)}}})(s.localStore,c))}async function Kw(r,t){const a=Se(r);if(!a.currentUser.isEqual(t)){ce(Em,"User change. New user:",t.toKey());const s=await B0(a.localStore,t);a.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new fe(te.CANCELLED,d))}))})),c.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Do(a,s.Ls)}}function Xw(r,t){const a=Se(r),s=a.Au.get(t);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const c=a.Iu.get(t);if(!c)return o;for(const d of c){const g=a.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function sE(r){const t=Se(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fw.bind(null,t),t.Pu.H_=Vw.bind(null,t.eventManager),t.Pu.yu=Ow.bind(null,t.eventManager),t}function $w(r){const t=Se(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qw.bind(null,t),t}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return ew(this.persistence,new Z2,t.initialUser,this.serializer)}Cu(t){return new z0(cm.mi,this.serializer)}Du(t){return new lw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class Zw extends Ic{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){je(this.persistence.referenceDelegate instanceof Cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new U2(s,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new z0((s=>Cc.mi(s,a)),this.serializer)}}class qd{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kw.bind(null,this.syncEngine),await Cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Iw})()}createDatastore(t){const a=Kc(t.databaseInfo.databaseId),s=(function(c){return new fw(c)})(t.databaseInfo);return(function(c,d,g,y){return new pw(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,a)}createRemoteStore(t){return(function(s,o,c,d,g){return new vw(s,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(a=>Qv(this.syncEngine,a,0)),(function(){return Bv.v()?new Bv:new ow})())}createSyncEngine(t,a){return(function(o,c,d,g,y,p,E){const S=new Pw(o,c,d,g,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const s=Se(a);ce(Ai,"RemoteStore shutting down."),s.Ea.add(5),await Co(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ga("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class Jw{constructor(t,a,s,o,c){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ce(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const s=vm(a,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function yd(r,t){r.asyncQueue.verifyOperationInProgress(),ce(kr,"Initializing OfflineComponentProvider");const a=r.configuration;await t.initialize(a);let s=a.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await B0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const a=await Ww(r);ce(kr,"Initializing OnlineComponentProvider"),await t.initialize(a,r.configuration),r.setCredentialChangeListener((s=>jv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>jv(t.remoteStore,o))),r._onlineComponents=t}async function Ww(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(kr,"Using user provided OfflineComponentProvider");try{await yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;Vs("Error using user provided cache. Falling back to memory cache: "+a),await yd(r,new Ic)}}else ce(kr,"Using default OfflineComponentProvider"),await yd(r,new Zw(void 0));return r._offlineComponents}async function oE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(kr,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(ce(kr,"Using default OnlineComponentProvider"),await Kv(r,new qd))),r._onlineComponents}function eR(r){return oE(r).then((t=>t.syncEngine))}async function uE(r){const t=await oE(r),a=t.eventManager;return a.onListen=Lw.bind(null,t.syncEngine),a.onUnlisten=qw.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=zw.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=jw.bind(null,t.syncEngine),a}function tR(r,t,a={}){const s=new qa;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const E=new lE({next:w=>{E.Nu(),d.enqueueAndForget((()=>Z0(c,S)));const C=w.docs.has(g);!C&&w.fromCache?p.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&y&&y.source==="server"?p.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new J0(rm(g.path),E,{includeMetadataChanges:!0,qa:!0});return $0(c,S)})(await uE(r),r.asyncQueue,t,a,s))),s.promise}function nR(r,t,a={}){const s=new qa;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const E=new lE({next:w=>{E.Nu(),d.enqueueAndForget((()=>Z0(c,S))),w.fromCache&&y.source==="server"?p.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new J0(g,E,{includeMetadataChanges:!0,qa:!0});return $0(c,S)})(await uE(r),r.asyncQueue,t,a,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firestore.googleapis.com",$v=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hE,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M2)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zc{constructor(t,a,s,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lS;switch(s.type){case"firstParty":return new hS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const s=Xv.get(a);s&&(ce("ComponentProvider","Removing Datastore"),Xv.delete(a),s.terminate())})(this),Promise.resolve()}}function aR(r,t,a,s={}){r=Ms(r,Zc);const o=Lc(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${a}`;o&&(C_(`https://${g}`),I_("Firestore",!0)),c.host!==hE&&c.host!==g&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!_c(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Kt.MOCK_USER;else{p=D_(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Kt(S)}r._authCredentials=new oS(new $_(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Jc(this.firestore,t,this._query)}}class Mt{constructor(t,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mt(this.firestore,t,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,s){if(Ro(a,Mt._jsonSchema))return new Mt(t,s||null,new pe(We.fromString(a.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:_t("string",Mt._jsonSchemaVersion),referencePath:_t("string")};class Cr extends Jc{constructor(t,a,s){super(t,a,rm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mt(this.firestore,null,new pe(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Qs(r,t,...a){if(r=Ds(r),Z_("collection","path",t),r instanceof Zc){const s=We.fromString(t,...a);return hv(s),new Cr(r,null,s)}{if(!(r instanceof Mt||r instanceof Cr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(t,...a));return hv(s),new Cr(r.firestore,null,s)}}function fE(r,t,...a){if(r=Ds(r),arguments.length===1&&(t=Zd.newId()),Z_("doc","path",t),r instanceof Zc){const s=We.fromString(t,...a);return cv(s),new Mt(r,null,new pe(s))}{if(!(r instanceof Mt||r instanceof Cr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(t,...a));return cv(s),new Mt(r.firestore,r instanceof Cr?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j0(this,"async_queue_retry"),this._c=()=>{const s=pd();s&&ce(Jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const a=pd();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=pd();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fs(t))throw t;ce(Jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ga("INTERNAL UNHANDLED ERROR: ",e_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=a,a}enqueueAfterDelay(t,a,s){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=ym.createAndSchedule(this,t,a,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:e_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,s)=>a.targetTimeMs-s.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function e_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Wc extends Zc{constructor(t,a,s,o){super(t,a,s,o),this.type="firestore",this._queue=new Wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function rR(r,t){const a=typeof r=="object"?r:B_(),s=typeof r=="string"?r:bc,o=U_(a,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=x_("firestore");c&&aR(o,...c)}return o}function bm(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iR(r),r._firestoreClient}function iR(r){const t=r._freezeSettings(),a=(function(o,c,d,g){return new NS(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,cE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Jw(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cn(Ht.fromBase64String(t))}catch(a){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Cn(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ro(t,Cn._jsonSchema))return Cn.fromBase64String(t.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:_t("string",Cn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ra._jsonSchemaVersion}}static fromJSON(t){if(Ro(t,ra._jsonSchema))return new ra(t.latitude,t.longitude)}}ra._jsonSchemaVersion="firestore/geoPoint/1.0",ra._jsonSchema={type:_t("string",ra._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ia._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ro(t,ia._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new ia(t.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ia._jsonSchemaVersion="firestore/vectorValue/1.0",ia._jsonSchema={type:_t("string",ia._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/^__.*__$/;class lR{constructor(t,a,s){this.data=t,this.fieldMask=a,this.fieldTransforms=s}toMutation(t,a){return this.fieldMask!==null?new Ni(t,this.data,this.fieldMask,a,this.fieldTransforms):new xo(t,this.data,a,this.fieldTransforms)}}function mE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Sm{constructor(t,a,s,o,c,d){this.settings=t,this.databaseId=a,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const a=this.path?.child(t),s=this.Vc({path:a,fc:!1});return s.gc(t),s}yc(t){const a=this.path?.child(t),s=this.Vc({path:a,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mE(this.Ac)&&sR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oR{constructor(t,a,s){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=s||Kc(t)}Cc(t,a,s,o=!1){return new Sm({Ac:t,methodName:a,Dc:s,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uR(r){const t=r._freezeSettings(),a=Kc(r._databaseId);return new oR(r._databaseId,!!t.ignoreUndefinedProperties,a)}function cR(r,t,a,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,a,o);vE("Data must be an object, but it was:",d,s);const g=pE(s,d);let y,p;if(c.merge)y=new Un(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const w=hR(t,S,a);if(!d.contains(w))throw new fe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);dR(E,w)||E.push(w)}y=new Un(E),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new lR(new Nn(g),y,p)}function gE(r,t){if(yE(r=Ds(r)))return vE("Unsupported field value:",t,r),pE(r,t);if(r instanceof dE)return(function(s,o){if(!mE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let y=gE(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,o){if((s=Ds(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=et.fromDate(s);return{timestampValue:Nc(o.serializer,c)}}if(s instanceof et){const c=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,c)}}if(s instanceof ra)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:I0(o.serializer,s._byteString)};if(s instanceof Mt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:om(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ia)return(function(d,g){return{mapValue:{fields:{[s0]:{stringValue:l0},[Ac]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return im(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jd(s)}`)})(r,t)}function pE(r,t){const a={};return e0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ri(r,((s,o)=>{const c=gE(o,t.mc(s));c!=null&&(a[s]=c)})),{mapValue:{fields:a}}}function yE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof ra||r instanceof Cn||r instanceof Mt||r instanceof dE||r instanceof ia)}function vE(r,t,a){if(!yE(a)||!J_(a)){const s=Jd(a);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function hR(r,t,a){if((t=Ds(t))instanceof Am)return t._internalPath;if(typeof t=="string")return _E(r,t);throw Vc("Field path arguments must be of type string or ",r,!1,void 0,a)}const fR=new RegExp("[~\\*/\\[\\]]");function _E(r,t,a){if(t.search(fR)>=0)throw Vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,a);try{return new Am(...t.split("."))._internalPath}catch{throw Vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,a)}}function Vc(r,t,a,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;a&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new fe(te.INVALID_ARGUMENT,g+r+y)}function dR(r,t){return r.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,a,s,o,c){this._firestore=t,this._userDataWriter=a,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(TE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class mR extends EE{data(){return super.data()}}function TE(r,t){return typeof t=="string"?_E(r,t):t instanceof Am?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pR{convertValue(t,a="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw _e(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const s={};return Ri(t,((o,c)=>{s[o]=this.convertValue(c,a)})),s}convertVectorValue(t){const a=t.fields?.[Ac].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new ia(a)}convertGeoPoint(t){return new ra(dt(t.latitude),dt(t.longitude))}convertArray(t,a){return(t.values||[]).map((s=>this.convertValue(s,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const s=qc(t);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const a=Ir(t);return new et(a.seconds,a.nanos)}convertDocumentKey(t,a){const s=We.fromString(t);je(P0(s),9688,{name:t});const o=new vo(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return o.isEqual(a)||Ga(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r,t,a){let s;return s=r?r.toFirestore(t):t,s}class so{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ti extends EE{constructor(t,a,s,o,c,d){super(t,a,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const s=this._document.data.field(TE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Ti._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:_t("string",Ti._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class pc extends Ti{data(t={}){return super.data(t)}}class Cs{constructor(t,a,s,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((s=>{t.call(a,new pc(this._firestore,this._userDataWriter,s.key,s,new so(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:vR(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Cs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(a.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){r=Ms(r,Mt);const t=Ms(r.firestore,Wc);return tR(bm(t),r._key).then((a=>bR(t,r,a)))}Cs._jsonSchemaVersion="firestore/querySnapshot/1.0",Cs._jsonSchema={type:_t("string",Cs._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class bE extends pR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Mt(this.firestore,null,a)}}function Io(r){r=Ms(r,Jc);const t=Ms(r.firestore,Wc),a=bm(t),s=new bE(t);return gR(r._query),nR(a,r._query).then((o=>new Cs(t,s,r,o)))}function ER(r,t){const a=Ms(r.firestore,Wc),s=fE(r),o=yR(r.converter,t);return TR(a,[cR(uR(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ja.exists(!1))]).then((()=>s))}function TR(r,t){return(function(s,o){const c=new qa;return s.asyncQueue.enqueueAndForget((async()=>Hw(await eR(s),o,c))),c.promise})(bm(r),t)}function bR(r,t,a){const s=a.docs.get(t._key),o=new bE(r);return new Ti(r,o,t._key,s,new so(a.hasPendingWrites,a.fromCache),t.converter)}(function(t,a=!0){(function(o){js=o})(L_),mo(new Is("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Wc(new uS(s.getProvider("auth-internal")),new fS(d,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(p.options.projectId,E)})(d,o),d);return c={useFetchStreams:a,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),xr(sv,lv,t),xr(sv,lv,"esm2020")})();var AR="firebase",SR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(AR,SR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebasestorage.googleapis.com",wR="storageBucket",RR=120*1e3,xR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends wi{constructor(t,a,s=0){super(vd(t),`Firebase Storage: ${a} (${vd(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,da.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ua;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ua||(ua={}));function vd(r){return"storage/"+r}function NR(){const r="An unknown error occurred, please check the error payload for server response.";return new da(ua.UNKNOWN,r)}function CR(){return new da(ua.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DR(){return new da(ua.CANCELED,"User canceled the upload/download.")}function IR(r){return new da(ua.INVALID_URL,"Invalid URL '"+r+"'.")}function VR(r){return new da(ua.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function t_(r){return new da(ua.INVALID_ARGUMENT,r)}function SE(){return new da(ua.APP_DELETED,"The Firebase app was deleted.")}function OR(r){return new da(ua.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,a){this.bucket=t,this.path_=a}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,a){let s;try{s=Pn.makeFromUrl(t,a)}catch{return new Pn(t,"")}if(s.path==="")return s;throw VR(t)}static makeFromUrl(t,a){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),y={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",S=a.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${S}/${E}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},K=a===AE?"(?:storage.googleapis.com|storage.cloud.google.com)":a,B="([^?#]*)",ae=new RegExp(`^https?://${K}/${o}/${B}`,"i"),X=[{regex:g,indices:y,postModify:c},{regex:C,indices:U,postModify:p},{regex:ae,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<X.length;re++){const ue=X[re],Ee=ue.regex.exec(t);if(Ee){const O=Ee[ue.indices.bucket];let R=Ee[ue.indices.path];R||(R=""),s=new Pn(O,R),ue.postModify(s);break}}if(s==null)throw IR(t);return s}}class MR{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r,t,a){let s=1,o=null,c=null,d=!1,g=0;function y(){return g===2}let p=!1;function E(...B){p||(p=!0,t.apply(null,B))}function S(B){o=setTimeout(()=>{o=null,r(C,y())},B)}function w(){c&&clearTimeout(c)}function C(B,...ae){if(p){w();return}if(B){w(),E.call(null,B,...ae);return}if(y()||d){w(),E.call(null,B,...ae);return}s<64&&(s*=2);let X;g===1?(g=2,X=0):X=(s+Math.random())*1e3,S(X)}let U=!1;function K(B){U||(U=!0,w(),!p&&(o!==null?(B||(g=2),clearTimeout(o),S(0)):B||(g=1)))}return S(0),c=setTimeout(()=>{d=!0,K(!0)},a),K}function UR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){return r!==void 0}function n_(r,t,a,s){if(s<t)throw t_(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>a)throw t_(`Invalid value for '${r}'. Expected ${a} or less.`)}function LR(r){const t=encodeURIComponent;let a="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);a=a+o+"&"}return a=a.slice(0,-1),a}var Oc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Oc||(Oc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r,t){const a=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return a||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,a,s,o,c,d,g,y,p,E,S,w=!0,C=!1){this.url_=t,this.method_=a,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=y,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=S,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,K)=>{this.resolve_=U,this.reject_=K,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new oc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=g=>{const y=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,p)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const g=c.getErrorCode()===Oc.NO_ERROR,y=c.getStatus();if(!g||zR(y,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Oc.ABORT;s(!1,new oc(!1,null,E));return}const p=this.successCodes_.indexOf(y)!==-1;s(!0,new oc(p,c))})},a=(s,o)=>{const c=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());PR(y)?c(y):c()}catch(y){d(y)}else if(g!==null){const y=NR();y.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,y)):d(y)}else if(o.canceled){const y=this.appDelete_?SE():DR();d(y)}else{const y=CR();d(y)}};this.canceled_?a(!1,new oc(!1,null,!0)):this.backoffId_=kR(t,a,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&UR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(t,a,s){this.wasSuccessCode=t,this.connection=a,this.canceled=!!s}}function qR(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function jR(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HR(r,t){t&&(r["X-Firebase-GMPID"]=t)}function FR(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function GR(r,t,a,s,o,c,d=!0,g=!1){const y=LR(r.urlParams),p=r.url+y,E=Object.assign({},r.headers);return HR(E,t),qR(E,a),jR(E,c),FR(E,s),new BR(p,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function YR(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,a){this._service=t,a instanceof Pn?this._location=a:this._location=Pn.makeFromUrl(a,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,a){return new Mc(t,a)}get root(){const t=new Pn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YR(this._location.path)}get storage(){return this._service}get parent(){const t=QR(this._location.path);if(t===null)return null;const a=new Pn(this._location.bucket,t);return new Mc(this._service,a)}_throwIfRoot(t){if(this._location.path==="")throw OR(t)}}function a_(r,t){const a=t?.[wR];return a==null?null:Pn.makeFromBucketSpec(a,r)}function KR(r,t,a,s={}){r.host=`${t}:${a}`;const o=Lc(t);o&&(C_(`https://${r.host}/b`),I_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:D_(c,r.app.options.projectId))}class XR{constructor(t,a,s,o,c,d=!1){this.app=t,this._authProvider=a,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=AE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RR,this._maxUploadRetryTime=xR,this._requests=new Set,o!=null?this._bucket=Pn.makeFromBucketSpec(o,this._host):this._bucket=a_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,t):this._bucket=a_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){n_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){n_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const a=await t.getToken();if(a!==null)return a.accessToken}return null}async _getAppCheckToken(){if(P_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mc(this,t)}_makeRequest(t,a,s,o,c=!0){if(this._deleted)return new MR(SE());{const d=GR(t,this._appId,s,o,a,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,a){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,a,s,o).getPromise()}}const r_="@firebase/storage",i_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="storage";function $R(r=B_(),t){r=Ds(r);const s=U_(r,wE).getImmediate({identifier:t}),o=x_("storage");return o&&ZR(s,...o),s}function ZR(r,t,a,s={}){KR(r,t,a,s)}function JR(r,{instanceIdentifier:t}){const a=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new XR(a,s,o,t,L_)}function WR(){mo(new Is(wE,JR,"PUBLIC").setMultipleInstances(!0)),xr(r_,i_,""),xr(r_,i_,"esm2020")}WR();const ex={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},RE=z_(ex),Di=rR(RE);$R(RE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),s_=r=>{const t=nx(r);return t.charAt(0).toUpperCase()+t.slice(1)},xE=(...r)=>r.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),ax=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=H.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...g},y)=>H.createElement("svg",{ref:y,...rx,width:t,height:t,stroke:r,strokeWidth:s?Number(a)*24/Number(t):a,className:xE("lucide",o),...!c&&!ax(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,E])=>H.createElement(p,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(r,t)=>{const a=H.forwardRef(({className:s,...o},c)=>H.createElement(ix,{ref:c,iconNode:t,className:xE(`lucide-${tx(s_(r))}`,`lucide-${r}`,s),...o}));return a.displayName=s_(r),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lx=rn("chevron-left",sx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ux=rn("chevron-right",ox);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],eh=rn("expand",cx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NE=rn("heart-off",hx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ca=rn("heart",fx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mx=rn("house",dx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],px=rn("list",gx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M5 12h14",key:"1ays0h"}]],vx=rn("minus",yx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ex=rn("plus",_x);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bx=rn("search",Tx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ya=rn("shopping-cart",Ax);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CE=rn("trash-2",Sx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bo=rn("wifi-off",wx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kc=rn("x",Rx),xx=()=>{const[r,t]=H.useState([]),[a,s]=H.useState(1),[o,c]=H.useState(!0),[d,g]=H.useState(!0),[y,p]=H.useState(null),E=H.useRef(null);H.useEffect(()=>{(async()=>{try{g(!0),p(null);const re=(await Io(Qs(Di,"heroes"))).docs.map(ue=>({id:ue.id,...ue.data()}));t(re)}catch(X){console.error("Error fetching heroes:",X),p("Failed to load slides. Please try again.")}finally{g(!1)}})()},[]);const S=H.useCallback(()=>{E.current&&clearInterval(E.current),E.current=setInterval(()=>{s(q=>q+1)},5e3)},[]),w=H.useCallback(()=>{E.current&&(clearInterval(E.current),E.current=null)},[]),C=H.useCallback(()=>{w(),S()},[S,w]);H.useEffect(()=>{const q=()=>{document.hidden?w():r.length>0&&S()};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[r.length,S,w]),H.useEffect(()=>{if(r.length!==0)return S(),()=>w()},[r.length,S,w]);const U=H.useCallback(()=>{s(q=>q+1),C()},[C]),K=H.useCallback(()=>{s(q=>q-1),C()},[C]),B=H.useCallback(()=>{r.length&&(a===r.length+1&&(c(!1),s(1)),a===0&&(c(!1),s(r.length)))},[a,r.length]);if(H.useEffect(()=>{if(!o){const q=setTimeout(()=>c(!0),50);return()=>clearTimeout(q)}},[o]),d)return T.createElement("div",{className:"hero-slider"},T.createElement("div",{className:"slider-loading"},T.createElement("div",{className:"loading-skeleton"}),T.createElement("div",{className:"loading-text"},"Loading slides...")));if(y)return T.createElement("div",{className:"hero-slider"},T.createElement("div",{className:"slider-error"},T.createElement(bo,{size:48}),T.createElement("p",null,y),T.createElement("button",{className:"retry-button",onClick:()=>window.location.reload()},"Retry")));if(!r.length)return T.createElement("div",{className:"hero-slider"},T.createElement("div",{className:"slider-empty"},T.createElement(bo,{size:48}),T.createElement("p",null,"No slides available")));const ae=[r[r.length-1],...r,r[0]];return T.createElement("div",{className:"hero-slider"},T.createElement("div",{className:"slides-container",style:{transform:`translateX(-${a*100}%)`,transition:o?"transform 0.8s ease-in-out":"none"},onTransitionEnd:B},ae.map((q,X)=>T.createElement("div",{className:"slide",key:`${q.id}-${X}`},T.createElement("img",{src:q.image,alt:q.title||"Hero",className:"slide-image",loading:X<=2?"eager":"lazy"}),T.createElement("div",{className:"slide-overlay"},T.createElement("div",{className:"slide-content"},T.createElement("h2",{className:"slide-title"},q.title),q.description&&T.createElement("p",{className:"slide-description"},q.description),q.subtitle&&T.createElement("button",{onClick:()=>{document.getElementById("men-section")?.scrollIntoView({behavior:"smooth"})},className:"slide-subtitle  hero-btn"},q.subtitle)))))),T.createElement("button",{className:"nav-btn nav-btn--left",onClick:K,"aria-label":"Previous slide"},T.createElement(lx,{size:24})),T.createElement("button",{className:"nav-btn nav-btn--right",onClick:U,"aria-label":"Next slide"},T.createElement(ux,{size:24})),T.createElement("div",{className:"slide-indicators"},r.map((q,X)=>T.createElement("button",{key:X,className:`indicator ${(a-1+r.length)%r.length===X?"indicator--active":""}`,onClick:()=>{s(X+1),C()},"aria-label":`Go to slide ${X+1}`}))))},DE="/Ecommerce/assets/women-Dfw609QD.jpg",Nx="/Ecommerce/assets/man-BNem_KT8.jpg",Cx="/Ecommerce/assets/kid-aD3lXmzM.jpg",l_=({onAddToCart:r,onAddToFavorites:t,favorites:a=[]})=>{const[s,o]=H.useState([]),[c,d]=H.useState(!1),[g,y]=H.useState(""),[p,E]=H.useState({}),S=q=>{if(E(X=>({...X,[q]:!X[q]})),t){const X=s.find(re=>re.id===q);X&&t(X)}};H.useEffect(()=>{(async()=>{d(!0);try{const re=(await Io(Qs(Di,"products"))).docs.map(ue=>({id:ue.id,...ue.data()}));o(re)}catch(X){console.error("Error fetching products:",X)}finally{d(!1)}})()},[]);const w=()=>Array(6).fill(0).map((q,X)=>T.createElement("div",{key:X,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},T.createElement("div",{className:"w-full h-64 bg-gray-300"}),T.createElement("div",{className:"p-4"},T.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-3"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-4"}),T.createElement("div",{className:"flex items-center justify-between"},T.createElement("div",{className:"h-6 w-20 bg-gray-300 rounded"}),T.createElement("div",{className:"flex space-x-2"},T.createElement("div",{className:"h-10 w-10 bg-gray-300 rounded-full"}),T.createElement("div",{className:"h-10 w-24 bg-gray-300 rounded-lg"})))))),C=q=>{const X=p[q.id]||!1,re=parseFloat(q.price),ue=parseFloat(q.newprice);return T.createElement("div",{key:q.id,className:" bg-white w-full sm:w-[300px] rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},T.createElement("div",{className:"relative overflow-hidden h-48 sm:h-64"},q.images?.map((Ee,O)=>T.createElement("img",{key:O,src:Ee,alt:`${q.name} ${O}`,className:"exist-product-img"})),T.createElement("button",{onClick:()=>S(q.id),className:`absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${X?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},T.createElement(ca,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${X?"fill-current":""}`})),T.createElement(qs,{to:`/product/${q.id}`},T.createElement("button",{className:"absolute top-5 right-2 bg-gray-300 top-[8px] sm:top-3 right-15 sm:right-15 p-1.5 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},T.createElement(eh,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),re>ue&&T.createElement("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((re-ue)/re*100),"% OFF")),T.createElement("div",{className:"h-[130px] sm:h-[150px] p-3 sm:p-5"},T.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1"},q.name),T.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-1"},q.det),T.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs font-medium capitalize"},q.category),T.createElement("div",{className:"flex items-center justify-between mt-2"},T.createElement("div",{className:"flex items-center space-x-1 sm:space-x-2"},T.createElement("span",{className:"line-through text-sm sm:text-lg text-red-400"},"$",re.toFixed(2)),T.createElement("span",{className:"text-base sm:text-xl font-bold text-gray-900"},"$",ue.toFixed(2))),T.createElement("button",{onClick:()=>r&&r(q),className:"bg-red-700 text-white px-2 sm:px-4 py-1 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},T.createElement(Ya,{className:"w-3 h-3 sm:w-4 sm:h-4"}),T.createElement("span",{className:"hidden sm:inline text-xs sm:text-sm"},"Add")))))},U=s.filter(q=>q.name.toLowerCase().includes(g.toLowerCase())),K=U.filter(q=>q.category==="men"),B=U.filter(q=>q.category==="women"),ae=U.filter(q=>q.category==="kids");return c?T.createElement("div",{className:"min-h-screen bg-gray-50"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-8"},"Loading Products..."),T.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},w()))):s.length===0?T.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},T.createElement("div",{className:"text-center"},T.createElement(bo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),T.createElement("p",{className:"text-gray-600"},"No products available"))):T.createElement("div",{className:"min-h-screen bg-gray-50"},T.createElement(xx,null),T.createElement("div",{className:"max-w-7xl mt-8 mx-auto px-4 py-6"},T.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Categories"),T.createElement("div",{className:"flex justify-center gap-[10%]"},[{name:"men",img:DE},{name:"women",img:Nx},{name:"kids",img:Cx}].map(q=>T.createElement("div",null,T.createElement("button",{key:q.name,onClick:()=>{document.getElementById(`${q.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"flex flex-col items-  justify-center w-24 h-24 rounded-full bg-white shadow-md border border-gray-200 hover:shadow-xl hover:-translate-y-1 transition-transform duration-300 overflow-hidden"},T.createElement("img",{src:q.img,alt:q.name,className:"w-full h-full  rounded-[50%] object-cover "})),T.createElement("span",{className:"capitalize ml-6 text-gray-700 font-medium text-sm"},q.name))))),T.createElement("div",{className:"w-[80%] mb-5 h-9 mx-auto px-4 py-6"},T.createElement("div",{className:"flex items-center bg-white rounded-2xl shadow-md border border-gray-200 px-4 py-2 transition-all duration-300 hover:shadow-lg "},T.createElement(bx,{className:"w-7 h-7 text-gray-400 mr-3"}),T.createElement("input",{type:"text",placeholder:"Search products...",value:g,onChange:q=>y(q.target.value),className:"w-full bg-transparent h-9  outline-none text-gray-700 placeholder-gray-400 text-sm sm:text-base"}))),K.length>0&&T.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-8"},"Men Products"),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12"},K.map(q=>C(q)))),B.length>0&&T.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-8"},"Women Products"),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12"},B.map(q=>C(q)))),ae.length>0&&T.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-8"},"Kids Products"),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12"},ae.map(q=>C(q)))))},Dx=({onAddToCart:r,favorites:t=[],onAddToFavorites:a,searchQuery:s})=>{const[o,c]=H.useState([]),[d,g]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const K=(await Io(Qs(Di,"products"))).docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.category==="men");c(K)}catch(U){console.error("Error fetching men products:",U)}finally{g(!1)}})()},[]);const y=C=>t.some(U=>U.id===C),p=C=>{a&&a(C)},E=C=>{r&&r(C)},S=o.filter(C=>C.name.toLowerCase().includes(s?.toLowerCase()||"")),w=()=>Array(6).fill(0).map((C,U)=>T.createElement("div",{key:U,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},T.createElement("div",{className:"w-full h-48 bg-gray-300"}),T.createElement("div",{className:"p-4"},T.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),T.createElement("div",{className:"flex items-center justify-between"},T.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),T.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return d?T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Men Products"),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},w()))):S.length===0?T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},T.createElement("div",{className:"text-center"},T.createElement(bo,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Men Products"),T.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No products found matching your search."),T.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},T.createElement(ca,{className:"w-5 h-5 mr-2"}),"Start Shopping"))):T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("div",{className:"mb-8"},T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men Products"),T.createElement("p",{className:"text-gray-600"},S.length," product",S.length!==1?"s":""," available")),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},S.map(C=>{const U=parseFloat(C.price)||0,K=parseFloat(C.newprice||C.newPrice)||U;return T.createElement("div",{key:C.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},T.createElement("div",{className:"relative overflow-hidden"},T.createElement("img",{src:C.images?.[0]||"/fallback.jpg",alt:C.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),T.createElement("button",{onClick:()=>p(C),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${y(C.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},T.createElement(ca,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${y(C.id)?"fill-current":""}`})),T.createElement(qs,{to:`/product/${C.id}`},T.createElement("button",{className:"absolute  bg-gray-100 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},T.createElement(eh,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),U>K&&T.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((U-K)/U*100),"% OFF")),T.createElement("div",{className:"p-3 sm:p-4"},T.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},C.name),T.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},C.det||"No description available"),T.createElement("div",{className:"mb-3"},T.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},C.category)),T.createElement("div",{className:"flex items-center justify-between mb-4"},T.createElement("div",{className:"flex items-center space-x-2"},U>K&&T.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",U.toFixed(2)),T.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",K.toFixed(2))),T.createElement("button",{onClick:()=>E(C),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},T.createElement(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))})),T.createElement("div",{className:"mt-12 text-center"},T.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},Ix=({onAddToCart:r,onAddToFavorites:t,favorites:a=[],searchQuery:s})=>{const[o,c]=H.useState([]),[d,g]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const K=(await Io(Qs(Di,"products"))).docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.category==="women");c(K)}catch(U){console.error("Error fetching women products:",U)}finally{g(!1)}})()},[]);const y=o.filter(C=>C.name.toLowerCase().includes(s?.toLowerCase()||"")),p=C=>a.some(U=>U.id===C),E=C=>{t&&t(C)},S=C=>{r&&r(C)},w=()=>Array(6).fill(0).map((C,U)=>T.createElement("div",{key:U,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},T.createElement("div",{className:"w-full h-48 bg-gray-300"}),T.createElement("div",{className:"p-4"},T.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),T.createElement("div",{className:"flex items-center justify-between"},T.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),T.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return d?T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Women Products"),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},w()))):y.length===0?T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},T.createElement("div",{className:"text-center"},T.createElement(bo,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Women Products"),T.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No women products found matching your search."),T.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},T.createElement(ca,{className:"w-5 h-5 mr-2"}),"Start Shopping"))):T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("div",{className:"mb-8"},T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women Products"),T.createElement("p",{className:"text-gray-600"},y.length," product",y.length!==1?"s":""," available")),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},y.map(C=>{const U=parseFloat(C.price)||0,K=parseFloat(C.newprice||C.newPrice)||U;return T.createElement("div",{key:C.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},T.createElement("div",{className:"relative overflow-hidden"},T.createElement("img",{src:C.images[0]||DE,alt:C.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),T.createElement("button",{onClick:()=>E(C),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${p(C.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},T.createElement(ca,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${p(C.id)?"fill-current":""}`})),T.createElement(qs,{to:`/product/${C.id}`},T.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},T.createElement(eh,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),U>K&&T.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((U-K)/U*100),"% OFF")),T.createElement("div",{className:"p-3 sm:p-4"},T.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},C.name),T.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},C.det||"No description available"),T.createElement("div",{className:"mb-3"},T.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},C.category)),T.createElement("div",{className:"flex items-center justify-between mb-4"},T.createElement("div",{className:"flex items-center space-x-2"},U>K&&T.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",U.toFixed(2)),T.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",K.toFixed(2))),T.createElement("button",{onClick:()=>S(C),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},T.createElement(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))})),T.createElement("div",{className:"mt-12 text-center"},T.createElement("a",{href:"/",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},Vx=({onAddToCart:r,favorites:t=[],onAddToFavorites:a})=>{const[s,o]=H.useState([]),[c,d]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const S=(await Io(Qs(Di,"products"))).docs.map(w=>({id:w.id,...w.data()})).filter(w=>w.category==="kids");o(S)}catch(E){console.error("Error fetching kids products:",E)}finally{d(!1)}})()},[]);const g=p=>t.some(E=>E.id===p),y=p=>{a&&a(p)};return c?T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Kids Products"),T.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Array(6).fill(0).map((p,E)=>T.createElement("div",{key:E,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},T.createElement("div",{className:"w-full h-64 bg-gray-300"}),T.createElement("div",{className:"p-4"},T.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),T.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),T.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"})))))):s.length===0?T.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16"},T.createElement("div",{className:"text-center"},T.createElement(NE,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Kids Products"),T.createElement("p",{className:"text-gray-600 mb-6"},"You haven't added any items to your kids section yet."))):T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("div",{className:"mb-8"},T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids Products"),T.createElement("p",{className:"text-gray-600"},"You have ",s.length," item",s.length!==1?"s":""," in the kids section")),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},s.map(p=>{const E=parseFloat(p.price)||0,S=parseFloat(p.newPrice||p.newprice)||E;return T.createElement("div",{key:p.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},T.createElement("div",{className:"relative overflow-hidden"},T.createElement("img",{src:p.images[0]||"https://via.placeholder.com/300x300?text=No+Image",alt:p.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),T.createElement("button",{onClick:()=>y(p),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${g(p.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},T.createElement(ca,{className:`w-5 h-5 transition-all duration-200 ${g(p.id)?"fill-current":""}`})),T.createElement(qs,{to:`/product/${p.id}`},T.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},T.createElement(eh,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200"}))),E>S&&T.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((E-S)/E*100),"% OFF")),T.createElement("div",{className:"p-4 sm:p-5"},T.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},p.name),T.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},p.det||"No description available"),T.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},p.category),T.createElement("div",{className:"flex items-center justify-between mt-2"},T.createElement("div",{className:"flex items-center space-x-2"},E>S&&T.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",E.toFixed(2)),T.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",S.toFixed(2))),T.createElement("button",{onClick:()=>r(p),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},T.createElement(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))})),T.createElement("div",{className:"mt-12 text-center"},T.createElement("a",{href:"/",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},Ox=({favorites:r=[],onRemoveFromFavorites:t,onAddToCart:a})=>{const s=c=>{t&&t(c)},o=c=>{a&&a(c)};return r.length===0?T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},T.createElement("div",{className:"text-center"},T.createElement(NE,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),T.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),T.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},T.createElement(ca,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):T.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},T.createElement("div",{className:"mb-8"},T.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),T.createElement("p",{className:"text-gray-600"},"You have ",r.length," item",r.length!==1?"s":""," in your favorites")),T.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},r.map(c=>T.createElement("div",{key:c.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},T.createElement("div",{className:"relative overflow-hidden"},T.createElement("img",{src:c.images[0]||"https://via.placeholder.com/300x300?text=No+Image",alt:c.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),T.createElement("button",{onClick:()=>s(c.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-0 group-hover:opacity-100","aria-label":`Remove ${c.name} from favorites`},T.createElement(CE,{className:"w-4 h-4"})),parseFloat(c.price)>parseFloat(c.newprice||c.newPrice)&&T.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(c.newprice||c.newPrice)/parseFloat(c.price))*100),"% OFF"),T.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},T.createElement(ca,{className:"w-4 h-4 fill-current"}))),T.createElement("div",{className:"p-3 sm:p-4"},T.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},c.name),T.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},c.det||"No description available"),T.createElement("div",{className:"mb-3"},T.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},c.category)),T.createElement("div",{className:"flex items-center justify-between mb-4"},T.createElement("div",{className:"flex items-center space-x-2"},T.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(c.price).toFixed(2)),T.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(c.newprice||c.newPrice).toFixed(2))),T.createElement("button",{onClick:()=>o(c),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},T.createElement(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),T.createElement("div",{className:"mt-12 text-center"},T.createElement("a",{href:"/",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function Mx({cartItemCount:r,onCartClick:t,onSearch:a}){const[s,o]=H.useState(!1),c=["Home","Men","Favorites","Wemen","Kids"];return T.createElement(T.Fragment,null,T.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm"},T.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T.createElement("div",{className:"flex items-center justify-between h-16"},T.createElement("div",{className:"flex items-center space-x-4"},T.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop"),T.createElement("nav",{className:"hidden md:flex space-x-6"},c.map(d=>T.createElement(As,{key:d,to:`/${d==="Home"?"":d.toLowerCase()}`,className:({isActive:g})=>g?"text-red-700 font-semibold transition-colors":"text-gray-600 hover:text-gray-900 transition-colors"},d)))),T.createElement("div",{className:"flex items-center space-x-4"},T.createElement("input",{type:"text",placeholder:"Search products...",onChange:d=>a&&a(d.target.value),className:"hidden md:block px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition"}),T.createElement("div",{className:"relative"},T.createElement("button",{onClick:t,className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors"},T.createElement(Ya,{className:"w-6 h-6"}),r>0&&T.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center"},r))),T.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-900 transition-colors",onClick:()=>o(!s)},s?T.createElement(kc,{className:"w-6 h-6"}):T.createElement(px,{className:"w-6 h-6"})))))),s&&T.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 md:hidden",onClick:()=>o(!1)}),T.createElement("div",{className:`fixed top-0 right-0 h-full w-64 bg-white shadow-lg border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${s?"translate-x-0":"translate-x-full"}`},T.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200"},T.createElement("h2",{className:"text-lg font-semibold text-red-700"},"Menu"),T.createElement("button",{onClick:()=>o(!1),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors"},T.createElement(kc,{className:"w-6 h-6"}))),T.createElement("nav",{className:"flex flex-col mt-4 space-y-2 px-4"},c.map(d=>T.createElement(As,{key:d,to:`/${d==="Home"?"":d.toLowerCase()}`,className:({isActive:g})=>g?"block px-3 py-2 rounded-md text-red-700 font-semibold":"block px-3 py-2 rounded-md text-gray-600 hover:text-gray-900",onClick:()=>o(!1)},d)))),T.createElement("nav",{className:"flex  w-full justify-around items-center py-3 fixed bottom-0 left-0 bg-red-300 md:hidden z-40"},T.createElement(As,{to:"/"},T.createElement(mx,null)),T.createElement(As,{to:"/favorites"},T.createElement(ca,null)),T.createElement(As,{to:"/cart"},T.createElement(Ya,null))))}function kx({isOpen:r,onClose:t,cart:a,onIncreaseQty:s,onDecreaseQty:o,onRemoveItem:c,onClearCart:d,onCheckout:g,total:y}){return T.createElement("div",{className:`fixed inset-0 z-50 ${r?"":"hidden"}`},T.createElement("div",{className:"fixed inset-0 bg-gray-500/40 ",onClick:t}),T.createElement("div",{className:`fixed inset-y-0 right-0 max-w-sm w-full bg-white shadow-xl transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`},T.createElement("div",{className:"flex flex-col h-full"},T.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200"},T.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Shopping Cart"),T.createElement("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md transition-colors"},T.createElement(kc,{className:"w-5 h-5"}))),T.createElement("div",{className:"flex-1 overflow-y-auto p-4"},a.length===0?T.createElement("div",{className:"text-center py-12"},T.createElement(Ya,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),T.createElement("p",{className:"text-gray-600"},"Your cart is empty"),T.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Add some products to get started")):T.createElement("div",{className:"space-y-4"},a.map(p=>T.createElement("div",{key:p.id,className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},p.images?.[0]&&T.createElement("img",{src:p.images[0],alt:p.name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),T.createElement("div",{className:"flex-1 min-w-0"},T.createElement("h4",{className:"text-sm font-medium text-gray-900 truncate"},p.name),T.createElement("p",{className:"text-sm text-red-700 font-semibold"},"$",parseFloat(p.price).toFixed(2))),T.createElement("div",{className:"flex items-center space-x-2"},T.createElement("button",{onClick:()=>o(p.id),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm"},T.createElement(vx,{className:"w-3 h-3"})),T.createElement("span",{className:"text-sm font-medium w-8 text-center"},p.qty),T.createElement("button",{onClick:()=>s(p.id),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-sm"},T.createElement(Ex,{className:"w-3 h-3"}))),T.createElement("button",{onClick:()=>c(p.id),className:"text-red-600 hover:text-red-800 p-1"},T.createElement(CE,{className:"w-4 h-4"})))))),a.length>0&&T.createElement("div",{className:"border-t border-gray-200 p-4 space-y-4"},T.createElement("div",{className:"flex justify-between items-center text-lg font-semibold"},T.createElement("span",null,"Total:"),T.createElement("span",{className:"text-red-700"},"$",y.toFixed(2))),T.createElement("button",{onClick:g,className:"w-full bg-red-700 text-white py-3 px-4 rounded-lg hover:bg-red-800 transition-colors font-medium"},"Proceed to Checkout"),T.createElement("button",{onClick:d,className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors text-sm"},"Clear Cart")))))}function Ux({isOpen:r,onClose:t,cart:a,total:s,onOrderSuccess:o}){const[c,d]=H.useState({name:"",email:"",phone:"",address:""}),[g,y]=H.useState(!1),[p,E]=H.useState(""),S=U=>{d(K=>({...K,[U.target.name]:U.target.value}))},w=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),C=async U=>{if(U.preventDefault(),!c.name.trim()||!c.email.trim()||!c.phone.trim()||!c.address.trim()){E("Please fill in all fields.");return}if(!w(c.email)){E("Please enter a valid email address.");return}if(a.length===0){E("Your cart is empty.");return}try{y(!0),await ER(Qs(Di,"orders"),{client:c,items:a,total:s,timestamp:new Date().toISOString()}),E("Order placed successfully!"),o(),t(),d({name:"",email:"",phone:"",address:""})}catch(K){console.error("Error placing order:",K),E("Failed to place order. Try again.")}finally{y(!1)}};return H.useEffect(()=>{if(p){const U=setTimeout(()=>E(""),3e3);return()=>clearTimeout(U)}},[p]),r?React.createElement("div",{className:"fixed inset-0 z-50"},React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),React.createElement("div",{className:"fixed inset-0 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto"},React.createElement("div",{className:"p-6"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Checkout"),React.createElement("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md transition-colors"},React.createElement(kc,{className:"w-5 h-5"}))),p&&React.createElement("div",{className:`p-3 rounded-md mb-4 ${p.includes("success")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},p),React.createElement("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg"},React.createElement("h3",{className:"font-medium text-gray-900 mb-2"},"Order Summary"),React.createElement("div",{className:"space-y-2 text-sm"},a.map(U=>React.createElement("div",{key:U.id,className:"flex justify-between"},React.createElement("span",null,React.createElement("img",{src:U.image,alt:""})," ",U.name," × ",U.qty),React.createElement("span",null,"$",(parseFloat(U.price)*U.qty).toFixed(2))))),React.createElement("div",{className:"border-t border-gray-200 mt-2 pt-2 flex justify-between font-semibold"},React.createElement("span",null,"Total:"),React.createElement("span",{className:"text-red-700"},"$",s.toFixed(2)))),React.createElement("form",{onSubmit:C,className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Full Name"),React.createElement("input",{type:"text",name:"name",value:c.name,onChange:S,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-700 focus:border-transparent",placeholder:"Enter your full name",disabled:g})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),React.createElement("input",{type:"email",name:"email",value:c.email,onChange:S,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-700 focus:border-transparent",placeholder:"Enter your email",disabled:g})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number"),React.createElement("input",{type:"tel",name:"phone",value:c.phone,onChange:S,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-700 focus:border-transparent",placeholder:"Enter your phone number",disabled:g})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Shipping Address"),React.createElement("textarea",{name:"address",value:c.address,onChange:S,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-700 focus:border-transparent resize-none",placeholder:"Enter your shipping address",disabled:g})),React.createElement("button",{type:"submit",disabled:g,className:"w-full bg-red-700 text-white py-3 px-4 rounded-lg hover:bg-red-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"},g?"Processing Order...":"Place Order")))))):null}const Px=({onAddToCart:r,onAddToFavorites:t,favorites:a=[]})=>{const{id:s}=zT(),o=y_(),[c,d]=H.useState(null),[g,y]=H.useState(!0),[p,E]=H.useState(null),S=a.some(w=>w.id===s);return H.useEffect(()=>{(async()=>{y(!0);try{const C=fE(Di,"products",s),U=await _R(C);if(U.exists()){const K={id:U.id,...U.data()};d(K),E(K.images?.[0]||null)}else console.log("No such product!")}catch(C){console.error("Error fetching product:",C)}finally{y(!1)}})()},[s]),g?T.createElement("div",{className:"text-center py-20"},"Loading..."):c?T.createElement("div",{className:"max-w-5xl mx-auto py-8 px-4"},T.createElement("button",{onClick:()=>o(-1),className:"text-blue-600 mb-4"},"← Back"),T.createElement("div",{className:"flex flex-col md:flex-row gap-8"},T.createElement("div",{className:"flex flex-col md:flex-row gap-8"},T.createElement("div",{className:" flex  gap-4"},p&&T.createElement("div",{className:"w-full h-[400px]  md:h-[400px] bg-gray-100 flex items-center justify-center rounded-lg overflow-hidden"},T.createElement("img",{src:p,alt:c.name,className:"object-cover w-[300px] rounded-2xl h-full"})),T.createElement("div",{className:"flex-col gap-2 mt-2 overflow-x-auto"},c.images?.map((w,C)=>T.createElement("img",{key:C,src:w,alt:`${c.name} ${C}`,className:`w-[80px] h-[80px] rounded-lg cursor-pointer border-2 ${p===w?"border-blue-500":"border-gray-300"}`,onClick:()=>E(w)}))))),T.createElement("div",{className:"md:w-1/2 flex flex-col gap-4"},T.createElement("h1",{className:"text-2xl font-bold"},c.name),T.createElement("p",{className:"text-gray-600"},c.det),c.sizes&&c.sizes.length>0&&T.createElement("div",{className:"flex gap-2 items-center"},T.createElement("span",{className:"font-semibold"},"Sizes:"),c.sizes.map(w=>T.createElement("span",{key:w,className:"px-2 py-1 border rounded"},w))),T.createElement("div",{className:"flex items-center gap-4"},T.createElement("span",{className:"text-xl font-bold"},"$",c.newprice||c.price),c.newprice&&c.newprice<c.price&&T.createElement("span",{className:"line-through text-gray-400"},"$",c.price)),T.createElement("div",{className:"flex gap-4 mt-4"},T.createElement("button",{onClick:()=>r(c),className:"flex items-center gap-2 bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800"},T.createElement(Ya,{className:"w-5 h-5"})," Add to Cart"),T.createElement("button",{onClick:()=>t(c),className:`flex items-center gap-2 px-4 py-2 rounded ${S?"bg-pink-100 text-pink-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`},T.createElement(ca,{className:"w-5 h-5"})," ",S?"Favorited":"Add to Favorites"))))):T.createElement("div",{className:"text-center py-20"},"Product not found")};function Lx(){const[r,t]=H.useState([]),[a,s]=H.useState(!1),[o,c]=H.useState(!1),[d,g]=H.useState([]),[y,p]=H.useState(""),E=X=>{g(re=>re.find(ue=>ue.id===X.id)?re:[...re,X])},S=X=>{g(re=>re.filter(ue=>ue.id!==X))},w=X=>{t(re=>re.find(Ee=>Ee.id===X.id)?re.map(Ee=>Ee.id===X.id?{...Ee,qty:Ee.qty+1}:Ee):[...re,{...X,qty:1}])},C=X=>{t(r.map(re=>re.id===X?{...re,qty:re.qty+1}:re))},U=X=>{t(r.map(re=>re.id===X?{...re,qty:re.qty>1?re.qty-1:1}:re))},K=X=>t(r.filter(re=>re.id!==X)),B=()=>t([]),ae=()=>r.reduce((X,re)=>X+re.qty,0),q=()=>r.reduce((X,re)=>X+parseFloat(re.price)*re.qty,0);return T.createElement(Ab,null,T.createElement(Mx,{cartItemCount:ae(),onCartClick:()=>s(!0),onSearch:p}),T.createElement(kx,{isOpen:a,onClose:()=>s(!1),cart:r,onIncreaseQty:C,onDecreaseQty:U,onRemoveItem:K,onClearCart:B,onCheckout:()=>{c(!0),s(!1)},total:q()}),T.createElement(Ux,{isOpen:o,onClose:()=>c(!1),cart:r,total:q(),onOrderSuccess:B}),T.createElement(eb,null,T.createElement(Ar,{path:"/",element:T.createElement(l_,{onAddToCart:w,onAddToFavorites:E,onRemoveFromFavorites:S,favorites:d,searchQuery:y})}),T.createElement(Ar,{path:"/Ecommerce",element:T.createElement(l_,{onAddToCart:w,onAddToFavorites:E,onRemoveFromFavorites:S,favorites:d,searchQuery:y})}),T.createElement(Ar,{path:"/men",element:T.createElement(Dx,{onAddToCart:w,onAddToFavorites:E,onRemoveFromFavorites:S,favorites:d,searchQuery:y})}),T.createElement(Ar,{path:"/wemen",element:T.createElement(Ix,{onAddToCart:w,onAddToFavorites:E,onRemoveFromFavorites:S,favorites:d,searchQuery:y})}),T.createElement(Ar,{path:"/kids",element:T.createElement(Vx,{onAddToCart:w,onAddToFavorites:E,onRemoveFromFavorites:S,favorites:d,searchQuery:y})}),T.createElement(Ar,{path:"/favorites",element:T.createElement(Ox,{favorites:d,onRemoveFromFavorites:S,onAddToCart:w})}),T.createElement(Ar,{path:"/product/:id",element:T.createElement(Px,{onAddToCart:w,onAddToFavorites:E,favorites:d})})))}uT.createRoot(document.getElementById("root")).render(T.createElement(H.StrictMode,null,T.createElement(Lx,null)));
