const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-depIeGvV.js","assets/chevron-right-BkJehp5H.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-C4i5AGU2.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function hN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function fN(){if(J_)return Fe;J_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function I(k,se,pe){this.props=k,this.context=se,this.refs=P,this.updater=pe||R}I.prototype.isReactComponent={},I.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},I.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=I.prototype;function F(k,se,pe){this.props=k,this.context=se,this.refs=P,this.updater=pe||R}var H=F.prototype=new j;H.constructor=F,C(H,I.prototype),H.isPureReactComponent=!0;var le=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function O(k,se,pe,ue,be,Ce){return pe=Ce.ref,{$$typeof:t,type:k,key:se,ref:pe!==void 0?pe:null,props:Ce}}function x(k,se){return O(k.type,se,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function M(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return se[pe]})}var U=/\/+/g;function q(k,se){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):se.toString(36)}function V(){}function qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(V,V):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function He(k,se,pe,ue,be){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(Ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case t:case e:Se=!0;break;case v:return Se=k._init,He(Se(k._payload),se,pe,ue,be)}}if(Se)return be=be(k),Se=ue===""?"."+q(k,0):ue,le(be)?(pe="",Se!=null&&(pe=Se.replace(U,"$&/")+"/"),He(be,se,pe,"",function(Tn){return Tn})):be!=null&&(N(be)&&(be=x(be,pe+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Se)),se.push(be)),1;Se=0;var At=ue===""?".":ue+":";if(le(k))for(var We=0;We<k.length;We++)ue=k[We],Ce=At+q(ue,We),Se+=He(ue,se,pe,Ce,be);else if(We=b(k),typeof We=="function")for(k=We.call(k),We=0;!(ue=k.next()).done;)ue=ue.value,Ce=At+q(ue,We++),Se+=He(ue,se,pe,Ce,be);else if(Ce==="object"){if(typeof k.then=="function")return He(qe(k),se,pe,ue,be);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function J(k,se,pe){if(k==null)return k;var ue=[],be=0;return He(k,ue,"","",function(Ce){return se.call(pe,Ce,be++)}),ue}function fe(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var ye=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ie(){}return Fe.Children={map:J,forEach:function(k,se,pe){J(k,function(){se.apply(this,arguments)},pe)},count:function(k){var se=0;return J(k,function(){se++}),se},toArray:function(k){return J(k,function(se){return se})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Fe.Component=I,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=F,Fe.StrictMode=i,Fe.Suspense=m,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return B.H.useMemoCache(k)}},Fe.cache=function(k){return function(){return k.apply(null,arguments)}},Fe.cloneElement=function(k,se,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=C({},k.props),be=k.key,Ce=void 0;if(se!=null)for(Se in se.ref!==void 0&&(Ce=void 0),se.key!==void 0&&(be=""+se.key),se)!K.call(se,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&se.ref===void 0||(ue[Se]=se[Se]);var Se=arguments.length-2;if(Se===1)ue.children=pe;else if(1<Se){for(var At=Array(Se),We=0;We<Se;We++)At[We]=arguments[We+2];ue.children=At}return O(k.type,be,void 0,void 0,Ce,ue)},Fe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Fe.createElement=function(k,se,pe){var ue,be={},Ce=null;if(se!=null)for(ue in se.key!==void 0&&(Ce=""+se.key),se)K.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=se[ue]);var Se=arguments.length-2;if(Se===1)be.children=pe;else if(1<Se){for(var At=Array(Se),We=0;We<Se;We++)At[We]=arguments[We+2];be.children=At}if(k&&k.defaultProps)for(ue in Se=k.defaultProps,Se)be[ue]===void 0&&(be[ue]=Se[ue]);return O(k,Ce,void 0,void 0,null,be)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(k){return{$$typeof:f,render:k}},Fe.isValidElement=N,Fe.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:fe}},Fe.memo=function(k,se){return{$$typeof:p,type:k,compare:se===void 0?null:se}},Fe.startTransition=function(k){var se=B.T,pe={};B.T=pe;try{var ue=k(),be=B.S;be!==null&&be(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ie,ye)}catch(Ce){ye(Ce)}finally{B.T=se}},Fe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Fe.use=function(k){return B.H.use(k)},Fe.useActionState=function(k,se,pe){return B.H.useActionState(k,se,pe)},Fe.useCallback=function(k,se){return B.H.useCallback(k,se)},Fe.useContext=function(k){return B.H.useContext(k)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(k,se){return B.H.useDeferredValue(k,se)},Fe.useEffect=function(k,se,pe){var ue=B.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(k,se)},Fe.useId=function(){return B.H.useId()},Fe.useImperativeHandle=function(k,se,pe){return B.H.useImperativeHandle(k,se,pe)},Fe.useInsertionEffect=function(k,se){return B.H.useInsertionEffect(k,se)},Fe.useLayoutEffect=function(k,se){return B.H.useLayoutEffect(k,se)},Fe.useMemo=function(k,se){return B.H.useMemo(k,se)},Fe.useOptimistic=function(k,se){return B.H.useOptimistic(k,se)},Fe.useReducer=function(k,se,pe){return B.H.useReducer(k,se,pe)},Fe.useRef=function(k){return B.H.useRef(k)},Fe.useState=function(k){return B.H.useState(k)},Fe.useSyncExternalStore=function(k,se,pe){return B.H.useSyncExternalStore(k,se,pe)},Fe.useTransition=function(){return B.H.useTransition()},Fe.version="19.1.1",Fe}var eb;function td(){return eb||(eb=1,Rp.exports=fN()),Rp.exports}var D=td();const g=hN(D);var Np={exports:{}},Dc={},Cp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function dN(){return tb||(tb=1,(function(t){function e(J,fe){var ye=J.length;J.push(fe);e:for(;0<ye;){var Ie=ye-1>>>1,k=J[Ie];if(0<a(k,fe))J[Ie]=fe,J[ye]=k,ye=Ie;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var fe=J[0],ye=J.pop();if(ye!==fe){J[0]=ye;e:for(var Ie=0,k=J.length,se=k>>>1;Ie<se;){var pe=2*(Ie+1)-1,ue=J[pe],be=pe+1,Ce=J[be];if(0>a(ue,ye))be<k&&0>a(Ce,ue)?(J[Ie]=Ce,J[be]=ye,Ie=be):(J[Ie]=ue,J[pe]=ye,Ie=pe);else if(be<k&&0>a(Ce,ye))J[Ie]=Ce,J[be]=ye,Ie=be;else break e}}return fe}function a(J,fe){var ye=J.sortIndex-fe.sortIndex;return ye!==0?ye:J.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,_=null,b=3,R=!1,C=!1,P=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function le(J){for(var fe=n(p);fe!==null;){if(fe.callback===null)i(p);else if(fe.startTime<=J)i(p),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(p)}}function B(J){if(P=!1,le(J),!C)if(n(m)!==null)C=!0,K||(K=!0,q());else{var fe=n(p);fe!==null&&He(B,fe.startTime-J)}}var K=!1,O=-1,x=5,N=-1;function M(){return I?!0:!(t.unstable_now()-N<x)}function U(){if(I=!1,K){var J=t.unstable_now();N=J;var fe=!0;try{e:{C=!1,P&&(P=!1,F(O),O=-1),R=!0;var ye=b;try{t:{for(le(J),_=n(m);_!==null&&!(_.expirationTime>J&&M());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,b=_.priorityLevel;var k=Ie(_.expirationTime<=J);if(J=t.unstable_now(),typeof k=="function"){_.callback=k,le(J),fe=!0;break t}_===n(m)&&i(m),le(J)}else i(m);_=n(m)}if(_!==null)fe=!0;else{var se=n(p);se!==null&&He(B,se.startTime-J),fe=!1}}break e}finally{_=null,b=ye,R=!1}fe=void 0}}finally{fe?q():K=!1}}}var q;if(typeof H=="function")q=function(){H(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,qe=V.port2;V.port1.onmessage=U,q=function(){qe.postMessage(null)}}else q=function(){j(U,0)};function He(J,fe){O=j(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var ye=b;b=fe;try{return J()}finally{b=ye}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=b;b=J;try{return fe()}finally{b=ye}},t.unstable_scheduleCallback=function(J,fe,ye){var Ie=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ie+ye:Ie):ye=Ie,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ye+k,J={id:v++,callback:fe,priorityLevel:J,startTime:ye,expirationTime:k,sortIndex:-1},ye>Ie?(J.sortIndex=ye,e(p,J),n(m)===null&&J===n(p)&&(P?(F(O),O=-1):P=!0,He(B,ye-Ie))):(J.sortIndex=k,e(m,J),C||R||(C=!0,K||(K=!0,q()))),J},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(J){var fe=b;return function(){var ye=b;b=fe;try{return J.apply(this,arguments)}finally{b=ye}}}})(Ip)),Ip}var nb;function mN(){return nb||(nb=1,Cp.exports=dN()),Cp.exports}var Dp={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function pN(){if(rb)return xn;rb=1;var t=td();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},xn.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},xn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},xn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},xn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):v==="script"&&i.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},xn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},xn.requestFormReset=function(m){i.d.r(m)},xn.unstable_batchedUpdates=function(m,p){return m(p)},xn.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.1.1",xn}var ib;function gN(){if(ib)return Dp.exports;ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=pN(),Dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function yN(){if(sb)return Dc;sb=1;var t=mN(),e=td(),n=gN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return f(d),r;if(y===c)return f(d),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=y;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,c=y;break}if(S===c){w=!0,c=d,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,c=d;break}if(S===c){w=!0,c=y,o=d;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function qe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case I:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case H:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case le:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:qe(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return qe(r(s))}catch{}}return null}var He=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ie=[],k=-1;function se(r){return{current:r}}function pe(r){0>k||(r.current=Ie[k],Ie[k]=null,k--)}function ue(r,s){k++,Ie[k]=r.current,r.current=s}var be=se(null),Ce=se(null),Se=se(null),At=se(null);function We(r,s){switch(ue(Se,s),ue(Ce,r),ue(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?R_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=R_(s),r=N_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(be),ue(be,r)}function Tn(){pe(be),pe(Ce),pe(Se)}function hn(r){r.memoizedState!==null&&ue(At,r);var s=be.current,o=N_(s,r.type);s!==o&&(ue(Ce,r),ue(be,o))}function yt(r){Ce.current===r&&(pe(be),pe(Ce)),At.current===r&&(pe(At),Ac._currentValue=ye)}var zt=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,fi=t.unstable_cancelCallback,es=t.unstable_shouldYield,na=t.unstable_requestPaint,Ln=t.unstable_now,ts=t.unstable_getCurrentPriorityLevel,ra=t.unstable_ImmediatePriority,di=t.unstable_UserBlockingPriority,_r=t.unstable_NormalPriority,ns=t.unstable_LowPriority,Or=t.unstable_IdlePriority,ia=t.log,me=t.unstable_setDisableYieldValue,$=null,re=null;function de(r){if(typeof ia=="function"&&me(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode($,r)}catch{}}var Ne=Math.clz32?Math.clz32:te,Be=Math.log,nt=Math.LN2;function te(r){return r>>>=0,r===0?32:31-(Be(r)/nt|0)|0}var ae=256,Te=4194304;function Ee(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _e(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?d=Ee(c):(w&=S,w!==0?d=Ee(w):o||(o=S&~r,o!==0&&(d=Ee(o))))):(S=c&~y,S!==0?d=Ee(S):w!==0?d=Ee(w):o||(o=c&~r,o!==0&&(d=Ee(o)))),d===0?0:s!==0&&s!==d&&(s&y)===0&&(y=d&-d,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:d}function Le(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ct(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var r=ae;return ae<<=1,(ae&4194048)===0&&(ae=256),r}function it(){var r=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),r}function vt(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function at(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pt(r,s,o,c,d,y){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,L=r.expirationTimes,X=r.hiddenUpdates;for(o=w&~o;0<o;){var ne=31-Ne(o),ce=1<<ne;S[ne]=0,L[ne]=-1;var W=X[ne];if(W!==null)for(X[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}o&=~ce}c!==0&&fn(r,c,0),y!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~s))}function fn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ne(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function qn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Ne(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function br(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:K_(r.type))}function Iu(r,s){var o=fe.p;try{return fe.p=r,s()}finally{fe.p=o}}var wt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+wt,qt="__reactProps$"+wt,Jn="__reactContainer$"+wt,Dl="__reactEvents$"+wt,Id="__reactListeners$"+wt,rs="__reactHandles$"+wt,Du="__reactResources$"+wt,sa="__reactMarker$"+wt;function is(r){delete r[Wt],delete r[qt],delete r[Dl],delete r[Id],delete r[rs]}function pi(r){var s=r[Wt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Jn]||o[Wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=P_(r);r!==null;){if(o=r[Wt])return o;r=P_(r)}return s}r=o,o=r.parentNode}return null}function Mr(r){if(r=r[Wt]||r[Jn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Vr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function In(r){var s=r[Du];return s||(s=r[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[sa]=!0}var Pl=new Set,io={};function Tr(r,s){gi(r,s),gi(r+"Capture",s)}function gi(r,s){for(io[r]=s,r=0;r<s.length;r++)Pl.add(s[r])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},aa={};function Mu(r){return zt.call(aa,r)?!0:zt.call(Ou,r)?!1:Pu.test(r)?aa[r]=!0:(Ou[r]=!0,!1)}function ss(r,s,o){if(Mu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function kr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function dn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var oa,Vu;function yi(r){if(oa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);oa=s&&s[1]||"",Vu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+r+Vu}var so=!1;function ao(r,s){if(!r||so)return"";so=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(Z){var W=Z}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(Z){W=Z}r.call(ce.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var L=w.split(`
`),X=S.split(`
`);for(d=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(c===L.length||d===X.length)for(c=L.length-1,d=X.length-1;1<=c&&0<=d&&L[c]!==X[d];)d--;for(;1<=c&&0<=d;c--,d--)if(L[c]!==X[d]){if(c!==1||d!==1)do if(c--,d--,0>d||L[c]!==X[d]){var ne=`
`+L[c].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=c&&0<=d);break}}}finally{so=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yi(o):""}function Ol(r){switch(r.tag){case 26:case 27:case 5:return yi(r.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return ao(r.type,!1);case 11:return ao(r.type.render,!1);case 1:return ao(r.type,!0);case 31:return yi("Activity");default:return""}}function oo(r){try{var s="";do s+=Ol(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ml(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dd(r){var s=Ml(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lo(r){r._valueTracker||(r._valueTracker=Dd(r))}function Vl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ml(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function la(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pd=/[\n"\\]/g;function Ht(r){return r.replace(Pd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Gn(r,s,o,c,d,y,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Dn(s)):r.value!==""+Dn(s)&&(r.value=""+Dn(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?as(r,w,Dn(s)):o!=null?as(r,w,Dn(o)):c!=null&&r.removeAttribute("value"),d==null&&y!=null&&(r.defaultChecked=!!y),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Dn(S):r.removeAttribute("name")}function ca(r,s,o,c,d,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Dn(o):"",s=s!=null?""+Dn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function as(r,s,o){s==="number"&&la(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function vi(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Dn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function dt(r,s,o){if(s!=null&&(s=""+Dn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Dn(o):""}function ua(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(He(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Dn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function er(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ha.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function kl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&ku(r,d,c)}else for(var y in s)s.hasOwnProperty(y)&&ku(r,y,s[y])}function Ll(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(r){return Md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ei=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _i=null,bi=null;function Ul(r){var s=Mr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Gn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[qt]||null;if(!d)throw Error(i(90));Gn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Vl(c)}break e;case"textarea":dt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&vi(r,!!o.multiple,s,!1)}}}var Lr=!1;function Lu(r,s,o){if(Lr)return r(s,o);Lr=!0;try{var c=r(s);return c}finally{if(Lr=!1,(_i!==null||bi!==null)&&(Ih(),_i&&(s=_i,r=bi,bi=_i=null,Ul(s),r)))for(s=0;s<r.length;s++)Ul(r[s])}}function fa(r,s){var o=r.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(wr)try{var da={};Object.defineProperty(da,"passive",{get:function(){nr=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{nr=!1}var Ur=null,os=null,Ti=null;function jl(){if(Ti)return Ti;var r,s=os,o=s.length,c,d="value"in Ur?Ur.value:Ur.textContent,y=d.length;for(r=0;r<o&&s[r]===d[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===d[y-c];c++);return Ti=d.slice(r,1<c?1-c:void 0)}function jr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function Bl(){return!1}function sn(r){function s(o,c,d,y,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Br:Bl,this.isPropagationStopped=Bl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),s}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=sn(ot),ma=v({},ot,{view:0,detail:0}),Uu=sn(ma),ho,fo,Fr,pa=v({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fr&&(Fr&&r.type==="mousemove"?(ho=r.screenX-Fr.screenX,fo=r.screenY-Fr.screenY):fo=ho=0,Fr=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),rr=sn(pa),ju=v({},pa,{dataTransfer:0}),Vd=sn(ju),ga=v({},ma,{relatedTarget:0}),mo=sn(ga),Fl=v({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),po=sn(Fl),Bu=v({},ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=sn(Bu),kd=v({},ot,{data:0}),zl=sn(kd),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=zu[r])?!!s[r]:!1}function va(){return ql}var qu=v({},ma,{key:function(r){if(r.key){var s=ya[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=jr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Fu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(r){return r.type==="keypress"?jr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?jr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yo=sn(qu),Hu=v({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=sn(Hu),wi=v({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),Gu=sn(wi),$u=v({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=sn($u),Yu=v({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=sn(Yu),Pn=v({},ot,{newState:0,oldState:0}),Qu=sn(Pn),Xu=[9,13,27,32],zr=wr&&"CompositionEvent"in window,h=null;wr&&"documentMode"in document&&(h=document.documentMode);var E=wr&&"TextEvent"in window&&!h,T=wr&&(!zr||h&&8<h&&11>=h),A=" ",Y=!1;function ee(r,s){switch(r){case"keyup":return Xu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function Zt(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(Y=!0,A);case"textInput":return r=s.data,r===A&&Y?null:r;default:return null}}function Je(r,s){if(Ze)return r==="compositionend"||!zr&&ee(r,s)?(r=jl(),Ti=os=Ur=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!an[r.type]:s==="textarea"}function xi(r,s,o,c){_i?bi?bi.push(c):bi=[c]:_i=c,s=kh(s,"onChange"),0<s.length&&(o=new uo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var mn=null,qr=null;function Gl(r){T_(r,0)}function Wu(r){var s=Vr(r);if(Vl(s))return r}function q0(r,s){if(r==="change")return s}var H0=!1;if(wr){var Ld;if(wr){var Ud="oninput"in document;if(!Ud){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Ud=typeof G0.oninput=="function"}Ld=Ud}else Ld=!1;H0=Ld&&(!document.documentMode||9<document.documentMode)}function $0(){mn&&(mn.detachEvent("onpropertychange",K0),qr=mn=null)}function K0(r){if(r.propertyName==="value"&&Wu(qr)){var s=[];xi(s,qr,r,tr(r)),Lu(Gl,s)}}function FR(r,s,o){r==="focusin"?($0(),mn=s,qr=o,mn.attachEvent("onpropertychange",K0)):r==="focusout"&&$0()}function zR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wu(qr)}function qR(r,s){if(r==="click")return Wu(s)}function HR(r,s){if(r==="input"||r==="change")return Wu(s)}function GR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:GR;function $l(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!zt.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function Y0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Q0(r,s){var o=Y0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Y0(o)}}function X0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?X0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function W0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=la(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=la(r.document)}return s}function jd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var $R=wr&&"documentMode"in document&&11>=document.documentMode,Eo=null,Bd=null,Kl=null,Fd=!1;function Z0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||Eo==null||Eo!==la(c)||(c=Eo,"selectionStart"in c&&jd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kl&&$l(Kl,c)||(Kl=c,c=kh(Bd,"onSelect"),0<c.length&&(s=new uo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Eo)))}function Ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var _o={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},zd={},J0={};wr&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(r){if(zd[r])return zd[r];if(!_o[r])return r;var s=_o[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in J0)return zd[r]=s[o];return r}var ev=_a("animationend"),tv=_a("animationiteration"),nv=_a("animationstart"),KR=_a("transitionrun"),YR=_a("transitionstart"),QR=_a("transitioncancel"),rv=_a("transitionend"),iv=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function xr(r,s){iv.set(r,s),Tr(s,[r])}var sv=new WeakMap;function ir(r,s){if(typeof r=="object"&&r!==null){var o=sv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:oo(s)},sv.set(r,s),s)}return{value:r,source:s,stack:oo(s)}}var sr=[],bo=0,Hd=0;function Zu(){for(var r=bo,s=Hd=bo=0;s<r;){var o=sr[s];sr[s++]=null;var c=sr[s];sr[s++]=null;var d=sr[s];sr[s++]=null;var y=sr[s];if(sr[s++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}y!==0&&av(o,d,y)}}function Ju(r,s,o,c){sr[bo++]=r,sr[bo++]=s,sr[bo++]=o,sr[bo++]=c,Hd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Gd(r,s,o,c){return Ju(r,s,o,c),eh(r)}function To(r,s){return Ju(r,null,null,s),eh(r)}function av(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(d=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,d&&s!==null&&(d=31-Ne(o),r=y.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),y):null}function eh(r){if(50<vc)throw vc=0,Wm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var wo={};function XR(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,o,c){return new XR(r,s,o,c)}function $d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,s){var o=r.alternate;return o===null?(o=Kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function ov(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function th(r,s,o,c,d,y){var w=0;if(c=r,typeof r=="function")$d(r)&&(w=1);else if(typeof r=="string")w=Z2(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Kn(31,o,s,d),r.elementType=N,r.lanes=y,r;case C:return ba(o.children,d,y,s);case P:w=8,d|=24;break;case I:return r=Kn(12,o,s,d|2),r.elementType=I,r.lanes=y,r;case B:return r=Kn(13,o,s,d),r.elementType=B,r.lanes=y,r;case K:return r=Kn(19,o,s,d),r.elementType=K,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case H:w=10;break e;case F:w=9;break e;case le:w=11;break e;case O:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Kn(w,o,s,d),s.elementType=r,s.type=c,s.lanes=y,s}function ba(r,s,o,c){return r=Kn(7,r,c,s),r.lanes=o,r}function Kd(r,s,o){return r=Kn(6,r,null,s),r.lanes=o,r}function Yd(r,s,o){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var xo=[],So=0,nh=null,rh=0,ar=[],or=0,Ta=null,Ai=1,Ri="";function wa(r,s){xo[So++]=rh,xo[So++]=nh,nh=r,rh=s}function lv(r,s,o){ar[or++]=Ai,ar[or++]=Ri,ar[or++]=Ta,Ta=r;var c=Ai;r=Ri;var d=32-Ne(c)-1;c&=~(1<<d),o+=1;var y=32-Ne(s)+d;if(30<y){var w=d-d%5;y=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ai=1<<32-Ne(s)+d|o<<d|c,Ri=y+r}else Ai=1<<y|o<<d|c,Ri=r}function Qd(r){r.return!==null&&(wa(r,1),lv(r,1,0))}function Xd(r){for(;r===nh;)nh=xo[--So],xo[So]=null,rh=xo[--So],xo[So]=null;for(;r===Ta;)Ta=ar[--or],ar[or]=null,Ri=ar[--or],ar[or]=null,Ai=ar[--or],ar[or]=null}var On=null,Ot=null,st=!1,xa=null,Hr=!1,Wd=Error(i(519));function Sa(r){var s=Error(i(418,""));throw Xl(ir(s,r)),Wd}function cv(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Wt]=r,s[qt]=c,o){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(o=0;o<_c.length;o++)Ke(_c[o],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),ca(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),lo(s);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),ua(s,c.value,c.defaultValue,c.children),lo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||A_(s.textContent,o)?(c.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),c.onScroll!=null&&Ke("scroll",s),c.onScrollEnd!=null&&Ke("scrollend",s),c.onClick!=null&&(s.onclick=Lh),s=!0):s=!1,s||Sa(r)}function uv(r){for(On=r.return;On;)switch(On.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:On=On.return}}function Yl(r){if(r!==On)return!1;if(!st)return uv(r),st=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||dp(r.type,r.memoizedProps)),o=!o),o&&Ot&&Sa(r),uv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ot=Ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ot=null}}else s===27?(s=Ot,ws(r.type)?(r=yp,yp=null,Ot=r):Ot=s):Ot=On?Ar(r.stateNode.nextSibling):null;return!0}function Ql(){Ot=On=null,st=!1}function hv(){var r=xa;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),xa=null),r}function Xl(r){xa===null?xa=[r]:xa.push(r)}var Zd=se(null),Aa=null,Ni=null;function ls(r,s,o){ue(Zd,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=Zd.current,pe(Zd)}function Jd(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function em(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=d;for(var L=0;L<s.length;L++)if(S.context===s[L]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Jd(y.return,o,r),c||(w=null);break e}y=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Jd(w,o,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Wl(r,s,o,c){r=null;for(var d=s,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=d.type;$n(d.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(d===At.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Ac):r=[Ac])}d=d.return}r!==null&&em(s,r,o,c),s.flags|=262144}function ih(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ra(r){Aa=r,Ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return fv(Aa,r)}function sh(r,s){return Aa===null&&Ra(r),fv(r,s)}function fv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ni===null){if(r===null)throw Error(i(308));Ni=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ni=Ni.next=s;return o}var WR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},ZR=t.unstable_scheduleCallback,JR=t.unstable_NormalPriority,en={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new WR,data:new Map,refCount:0}}function Zl(r){r.refCount--,r.refCount===0&&ZR(JR,function(){r.controller.abort()})}var Jl=null,nm=0,Ao=0,Ro=null;function e2(r,s){if(Jl===null){var o=Jl=[];nm=0,Ao=ip(),Ro={status:"pending",value:void 0,then:function(c){o.push(c)}}}return nm++,s.then(dv,dv),s}function dv(){if(--nm===0&&Jl!==null){Ro!==null&&(Ro.status="fulfilled");var r=Jl;Jl=null,Ao=0,Ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function t2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var mv=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&e2(r,s),mv!==null&&mv(r,s)};var Na=se(null);function rm(){var r=Na.current;return r!==null?r:bt.pooledCache}function ah(r,s){s===null?ue(Na,Na.current):ue(Na,s.pool)}function pv(){var r=rm();return r===null?null:{parent:en._currentValue,pool:r}}var ec=Error(i(460)),gv=Error(i(474)),oh=Error(i(542)),im={then:function(){}};function yv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function lh(){}function vv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(lh,lh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,_v(r),r;default:if(typeof s.status=="string")s.then(lh,lh);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,_v(r),r}throw tc=s,ec}}var tc=null;function Ev(){if(tc===null)throw Error(i(459));var r=tc;return tc=null,r}function _v(r){if(r===ec||r===oh)throw Error(i(483))}var cs=!1;function sm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function us(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=eh(r),av(r,null,o),s}return Ju(r,c,s,o),eh(r)}function nc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}function om(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?d=y=s:y=y.next=s}else d=y=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var lm=!1;function rc(){if(lm){var r=Ro;if(r!==null)throw r}}function ic(r,s,o,c){lm=!1;var d=r.updateQueue;cs=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var L=S,X=L.next;L.next=null,w===null?y=X:w.next=X,w=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==w&&(S===null?ne.firstBaseUpdate=X:S.next=X,ne.lastBaseUpdate=L))}if(y!==null){var ce=d.baseState;w=0,ne=X=L=null,S=y;do{var W=S.lane&-536870913,Z=W!==S.lane;if(Z?(et&W)===W:(c&W)===W){W!==0&&W===Ao&&(lm=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=r,De=S;W=s;var gt=o;switch(De.tag){case 1:if(Me=De.payload,typeof Me=="function"){ce=Me.call(gt,ce,W);break e}ce=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,W=typeof Me=="function"?Me.call(gt,ce,W):Me,W==null)break e;ce=v({},ce,W);break e;case 2:cs=!0}}W=S.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(X=ne=Z,L=ce):ne=ne.next=Z,w|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ne===null&&(L=ce),d.baseState=L,d.firstBaseUpdate=X,d.lastBaseUpdate=ne,y===null&&(d.shared.lanes=0),Es|=w,r.lanes=w,r.memoizedState=ce}}function bv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Tv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)bv(o[r],s)}var No=se(null),ch=se(0);function wv(r,s){r=ki,ue(ch,r),ue(No,s),ki=r|s.baseLanes}function cm(){ue(ch,ki),ue(No,No.current)}function um(){ki=ch.current,pe(No),pe(ch)}var fs=0,ze=null,mt=null,Gt=null,uh=!1,Co=!1,Ca=!1,hh=0,sc=0,Io=null,n2=0;function Lt(){throw Error(i(321))}function hm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!$n(r[o],s[o]))return!1;return!0}function fm(r,s,o,c,d,y){return fs=y,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?aE:oE,Ca=!1,y=o(c,d),Ca=!1,Co&&(y=Sv(s,o,c,d)),xv(r),y}function xv(r){J.H=yh;var s=mt!==null&&mt.next!==null;if(fs=0,Gt=mt=ze=null,uh=!1,sc=0,Io=null,s)throw Error(i(300));r===null||on||(r=r.dependencies,r!==null&&ih(r)&&(on=!0))}function Sv(r,s,o,c){ze=r;var d=0;do{if(Co&&(Io=null),sc=0,Co=!1,25<=d)throw Error(i(301));if(d+=1,Gt=mt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=c2,y=s(o,c)}while(Co);return y}function r2(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?ac(s):s,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(ze.flags|=1024),s}function dm(){var r=hh!==0;return hh=0,r}function mm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function pm(r){if(uh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uh=!1}fs=0,Gt=mt=ze=null,Co=!1,sc=hh=0,Io=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ze.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function $t(){if(mt===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=Gt===null?ze.memoizedState:Gt.next;if(s!==null)Gt=s,mt=r;else{if(r===null)throw ze.alternate===null?Error(i(467)):Error(i(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Gt===null?ze.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(r){var s=sc;return sc+=1,Io===null&&(Io=[]),r=vv(Io,r,s),s=ze,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?aE:oE),r}function fh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ac(r);if(r.$$typeof===H)return wn(r)}throw Error(i(438,String(r)))}function ym(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=gm(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=M;return s.index++,o}function Ii(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=$t();return vm(s,mt,r)}function vm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,y=c.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}s.baseQueue=d=y,c.pending=null}if(y=r.baseState,d===null)r.memoizedState=y;else{s=d.next;var S=w=null,L=null,X=s,ne=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(et&ce)===ce:(fs&ce)===ce){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Ao&&(ne=!0);else if((fs&W)===W){X=X.next,W===Ao&&(ne=!0);continue}else ce={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=ce,w=y):L=L.next=ce,ze.lanes|=W,Es|=W;ce=X.action,Ca&&o(y,ce),y=X.hasEagerState?X.eagerState:o(y,ce)}else W={lane:ce,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=W,w=y):L=L.next=W,ze.lanes|=ce,Es|=ce;X=X.next}while(X!==null&&X!==s);if(L===null?w=y:L.next=S,!$n(y,r.memoizedState)&&(on=!0,ne&&(o=Ro,o!==null)))throw o;r.memoizedState=y,r.baseState=w,r.baseQueue=L,c.lastRenderedState=y}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Em(r){var s=$t(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,y=s.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do y=r(y,w.action),w=w.next;while(w!==d);$n(y,s.memoizedState)||(on=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function Av(r,s,o){var c=ze,d=$t(),y=st;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!$n((mt||d).memoizedState,o);w&&(d.memoizedState=o,on=!0),d=d.queue;var S=Cv.bind(null,c,d,r);if(oc(2048,8,S,[r]),d.getSnapshot!==s||w||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,Do(9,mh(),Nv.bind(null,c,d,o,s),null),bt===null)throw Error(i(349));y||(fs&124)!==0||Rv(c,s,o)}return o}function Rv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=gm(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Nv(r,s,o,c){s.value=o,s.getSnapshot=c,Iv(s)&&Dv(r)}function Cv(r,s,o){return o(function(){Iv(s)&&Dv(r)})}function Iv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!$n(r,o)}catch{return!0}}function Dv(r){var s=To(r,2);s!==null&&Zn(s,r,2)}function _m(r){var s=Un();if(typeof r=="function"){var o=r;if(r=o(),Ca){de(!0);try{o()}finally{de(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},s}function Pv(r,s,o,c){return r.baseState=o,vm(r,mt,typeof c=="function"?c:Ii)}function i2(r,s,o,c,d){if(gh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};J.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,Ov(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Ov(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var y=J.T,w={};J.T=w;try{var S=o(d,c),L=J.S;L!==null&&L(w,S),Mv(r,s,S)}catch(X){bm(r,s,X)}finally{J.T=y}}else try{y=o(d,c),Mv(r,s,y)}catch(X){bm(r,s,X)}}function Mv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Vv(r,s,c)},function(c){return bm(r,s,c)}):Vv(r,s,o)}function Vv(r,s,o){s.status="fulfilled",s.value=o,kv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Ov(r,o)))}function bm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,kv(s),s=s.next;while(s!==c)}r.action=null}function kv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Lv(r,s){return s}function Uv(r,s){if(st){var o=bt.formState;if(o!==null){e:{var c=ze;if(st){if(Ot){t:{for(var d=Ot,y=Hr;d.nodeType!==8;){if(!y){d=null;break t}if(d=Ar(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Ot=Ar(d.nextSibling),c=d.data==="F!";break e}}Sa(c)}c=!1}c&&(s=o[0])}}return o=Un(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:s},o.queue=c,o=rE.bind(null,ze,c),c.dispatch=o,c=_m(!1),y=Am.bind(null,ze,!1,c.queue),c=Un(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=i2.bind(null,ze,d,y,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function jv(r){var s=$t();return Bv(s,mt,r)}function Bv(r,s,o){if(s=vm(r,s,Lv)[0],r=dh(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ac(s)}catch(w){throw w===ec?oh:w}else c=s;s=$t();var d=s.queue,y=d.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,Do(9,mh(),s2.bind(null,d,o),null)),[c,y,r]}function s2(r,s){r.action=s}function Fv(r){var s=$t(),o=mt;if(o!==null)return Bv(s,o,r);$t(),s=s.memoizedState,o=$t();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Do(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=gm(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function mh(){return{destroy:void 0,resource:void 0}}function zv(){return $t().memoizedState}function ph(r,s,o,c){var d=Un();c=c===void 0?null:c,ze.flags|=r,d.memoizedState=Do(1|s,mh(),o,c)}function oc(r,s,o,c){var d=$t();c=c===void 0?null:c;var y=d.memoizedState.inst;mt!==null&&c!==null&&hm(c,mt.memoizedState.deps)?d.memoizedState=Do(s,y,o,c):(ze.flags|=r,d.memoizedState=Do(1|s,y,o,c))}function qv(r,s){ph(8390656,8,r,s)}function Hv(r,s){oc(2048,8,r,s)}function Gv(r,s){return oc(4,2,r,s)}function $v(r,s){return oc(4,4,r,s)}function Kv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Yv(r,s,o){o=o!=null?o.concat([r]):null,oc(4,4,Kv.bind(null,s,r),o)}function Tm(){}function Qv(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&hm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function Xv(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&hm(s,c[1]))return c[0];if(c=r(),Ca){de(!0);try{r()}finally{de(!1)}}return o.memoizedState=[c,s],c}function wm(r,s,o){return o===void 0||(fs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=JE(),ze.lanes|=r,Es|=r,o)}function Wv(r,s,o,c){return $n(o,s)?o:No.current!==null?(r=wm(r,o,c),$n(r,s)||(on=!0),r):(fs&42)===0?(on=!0,r.memoizedState=o):(r=JE(),ze.lanes|=r,Es|=r,s)}function Zv(r,s,o,c,d){var y=fe.p;fe.p=y!==0&&8>y?y:8;var w=J.T,S={};J.T=S,Am(r,!1,s,o);try{var L=d(),X=J.S;if(X!==null&&X(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=t2(L,c);lc(r,s,ne,Wn(r))}else lc(r,s,c,Wn(r))}catch(ce){lc(r,s,{then:function(){},status:"rejected",reason:ce},Wn())}finally{fe.p=y,J.T=w}}function a2(){}function xm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=Jv(r).queue;Zv(r,d,s,ye,o===null?a2:function(){return eE(r),o(c)})}function Jv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ye},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function eE(r){var s=Jv(r).next.queue;lc(r,s,{},Wn())}function Sm(){return wn(Ac)}function tE(){return $t().memoizedState}function nE(){return $t().memoizedState}function o2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wn();r=us(o);var c=hs(s,r,o);c!==null&&(Zn(c,s,o),nc(c,s,o)),s={cache:tm()},r.payload=s;return}s=s.return}}function l2(r,s,o){var c=Wn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},gh(r)?iE(s,o):(o=Gd(r,s,o,c),o!==null&&(Zn(o,r,c),sE(o,s,c)))}function rE(r,s,o){var c=Wn();lc(r,s,o,c)}function lc(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(r))iE(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,S=y(w,o);if(d.hasEagerState=!0,d.eagerState=S,$n(S,w))return Ju(r,s,d,0),bt===null&&Zu(),!1}catch{}finally{}if(o=Gd(r,s,d,c),o!==null)return Zn(o,r,c),sE(o,s,c),!0}return!1}function Am(r,s,o,c){if(c={lane:2,revertLane:ip(),action:c,hasEagerState:!1,eagerState:null,next:null},gh(r)){if(s)throw Error(i(479))}else s=Gd(r,o,c,2),s!==null&&Zn(s,r,2)}function gh(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function iE(r,s){Co=uh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function sE(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}var yh={readContext:wn,use:fh,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},aE={readContext:wn,use:fh,useCallback:function(r,s){return Un().memoizedState=[r,s===void 0?null:s],r},useContext:wn,useEffect:qv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ph(4194308,4,Kv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ph(4194308,4,r,s)},useInsertionEffect:function(r,s){ph(4,2,r,s)},useMemo:function(r,s){var o=Un();s=s===void 0?null:s;var c=r();if(Ca){de(!0);try{r()}finally{de(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Un();if(o!==void 0){var d=o(s);if(Ca){de(!0);try{o(s)}finally{de(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=l2.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=Un();return r={current:r},s.memoizedState=r},useState:function(r){r=_m(r);var s=r.queue,o=rE.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(r,s){var o=Un();return wm(o,r,s)},useTransition:function(){var r=_m(!1);return r=Zv.bind(null,ze,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=ze,d=Un();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),bt===null)throw Error(i(349));(et&124)!==0||Rv(c,s,o)}d.memoizedState=o;var y={value:o,getSnapshot:s};return d.queue=y,qv(Cv.bind(null,c,y,r),[r]),c.flags|=2048,Do(9,mh(),Nv.bind(null,c,y,o,s),null),o},useId:function(){var r=Un(),s=bt.identifierPrefix;if(st){var o=Ri,c=Ai;o=(c&~(1<<32-Ne(c)-1)).toString(32)+o,s=""+s+"R"+o,o=hh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=n2++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Sm,useFormState:Uv,useActionState:Uv,useOptimistic:function(r){var s=Un();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Am.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:ym,useCacheRefresh:function(){return Un().memoizedState=o2.bind(null,ze)}},oE={readContext:wn,use:fh,useCallback:Qv,useContext:wn,useEffect:Hv,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:$v,useMemo:Xv,useReducer:dh,useRef:zv,useState:function(){return dh(Ii)},useDebugValue:Tm,useDeferredValue:function(r,s){var o=$t();return Wv(o,mt.memoizedState,r,s)},useTransition:function(){var r=dh(Ii)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:ac(r),s]},useSyncExternalStore:Av,useId:tE,useHostTransitionStatus:Sm,useFormState:jv,useActionState:jv,useOptimistic:function(r,s){var o=$t();return Pv(o,mt,r,s)},useMemoCache:ym,useCacheRefresh:nE},c2={readContext:wn,use:fh,useCallback:Qv,useContext:wn,useEffect:Hv,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:$v,useMemo:Xv,useReducer:Em,useRef:zv,useState:function(){return Em(Ii)},useDebugValue:Tm,useDeferredValue:function(r,s){var o=$t();return mt===null?wm(o,r,s):Wv(o,mt.memoizedState,r,s)},useTransition:function(){var r=Em(Ii)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:ac(r),s]},useSyncExternalStore:Av,useId:tE,useHostTransitionStatus:Sm,useFormState:Fv,useActionState:Fv,useOptimistic:function(r,s){var o=$t();return mt!==null?Pv(o,mt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ym,useCacheRefresh:nE},Po=null,cc=0;function vh(r){var s=cc;return cc+=1,Po===null&&(Po=[]),vv(Po,r,s)}function uc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Eh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function lE(r){var s=r._init;return s(r._payload)}function cE(r){function s(G,z){if(r){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function o(G,z){if(!r)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function d(G,z){return G=Si(G,z),G.index=0,G.sibling=null,G}function y(G,z,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=67108866,z):Q):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function w(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function S(G,z,Q,oe){return z===null||z.tag!==6?(z=Kd(Q,G.mode,oe),z.return=G,z):(z=d(z,Q),z.return=G,z)}function L(G,z,Q,oe){var xe=Q.type;return xe===C?ne(G,z,Q.props.children,oe,Q.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&lE(xe)===z.type)?(z=d(z,Q.props),uc(z,Q),z.return=G,z):(z=th(Q.type,Q.key,Q.props,null,G.mode,oe),uc(z,Q),z.return=G,z)}function X(G,z,Q,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Yd(Q,G.mode,oe),z.return=G,z):(z=d(z,Q.children||[]),z.return=G,z)}function ne(G,z,Q,oe,xe){return z===null||z.tag!==7?(z=ba(Q,G.mode,oe,xe),z.return=G,z):(z=d(z,Q),z.return=G,z)}function ce(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Kd(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Q=th(z.type,z.key,z.props,null,G.mode,Q),uc(Q,z),Q.return=G,Q;case R:return z=Yd(z,G.mode,Q),z.return=G,z;case x:var oe=z._init;return z=oe(z._payload),ce(G,z,Q)}if(He(z)||q(z))return z=ba(z,G.mode,Q,null),z.return=G,z;if(typeof z.then=="function")return ce(G,vh(z),Q);if(z.$$typeof===H)return ce(G,sh(G,z),Q);Eh(G,z)}return null}function W(G,z,Q,oe){var xe=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:S(G,z,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===xe?L(G,z,Q,oe):null;case R:return Q.key===xe?X(G,z,Q,oe):null;case x:return xe=Q._init,Q=xe(Q._payload),W(G,z,Q,oe)}if(He(Q)||q(Q))return xe!==null?null:ne(G,z,Q,oe,null);if(typeof Q.then=="function")return W(G,z,vh(Q),oe);if(Q.$$typeof===H)return W(G,z,sh(G,Q),oe);Eh(G,Q)}return null}function Z(G,z,Q,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Q)||null,S(z,G,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return G=G.get(oe.key===null?Q:oe.key)||null,L(z,G,oe,xe);case R:return G=G.get(oe.key===null?Q:oe.key)||null,X(z,G,oe,xe);case x:var Ge=oe._init;return oe=Ge(oe._payload),Z(G,z,Q,oe,xe)}if(He(oe)||q(oe))return G=G.get(Q)||null,ne(z,G,oe,xe,null);if(typeof oe.then=="function")return Z(G,z,Q,vh(oe),xe);if(oe.$$typeof===H)return Z(G,z,Q,sh(z,oe),xe);Eh(z,oe)}return null}function Me(G,z,Q,oe){for(var xe=null,Ge=null,Ae=z,Pe=z=0,cn=null;Ae!==null&&Pe<Q.length;Pe++){Ae.index>Pe?(cn=Ae,Ae=null):cn=Ae.sibling;var rt=W(G,Ae,Q[Pe],oe);if(rt===null){Ae===null&&(Ae=cn);break}r&&Ae&&rt.alternate===null&&s(G,Ae),z=y(rt,z,Pe),Ge===null?xe=rt:Ge.sibling=rt,Ge=rt,Ae=cn}if(Pe===Q.length)return o(G,Ae),st&&wa(G,Pe),xe;if(Ae===null){for(;Pe<Q.length;Pe++)Ae=ce(G,Q[Pe],oe),Ae!==null&&(z=y(Ae,z,Pe),Ge===null?xe=Ae:Ge.sibling=Ae,Ge=Ae);return st&&wa(G,Pe),xe}for(Ae=c(Ae);Pe<Q.length;Pe++)cn=Z(Ae,G,Pe,Q[Pe],oe),cn!==null&&(r&&cn.alternate!==null&&Ae.delete(cn.key===null?Pe:cn.key),z=y(cn,z,Pe),Ge===null?xe=cn:Ge.sibling=cn,Ge=cn);return r&&Ae.forEach(function(Ns){return s(G,Ns)}),st&&wa(G,Pe),xe}function De(G,z,Q,oe){if(Q==null)throw Error(i(151));for(var xe=null,Ge=null,Ae=z,Pe=z=0,cn=null,rt=Q.next();Ae!==null&&!rt.done;Pe++,rt=Q.next()){Ae.index>Pe?(cn=Ae,Ae=null):cn=Ae.sibling;var Ns=W(G,Ae,rt.value,oe);if(Ns===null){Ae===null&&(Ae=cn);break}r&&Ae&&Ns.alternate===null&&s(G,Ae),z=y(Ns,z,Pe),Ge===null?xe=Ns:Ge.sibling=Ns,Ge=Ns,Ae=cn}if(rt.done)return o(G,Ae),st&&wa(G,Pe),xe;if(Ae===null){for(;!rt.done;Pe++,rt=Q.next())rt=ce(G,rt.value,oe),rt!==null&&(z=y(rt,z,Pe),Ge===null?xe=rt:Ge.sibling=rt,Ge=rt);return st&&wa(G,Pe),xe}for(Ae=c(Ae);!rt.done;Pe++,rt=Q.next())rt=Z(Ae,G,Pe,rt.value,oe),rt!==null&&(r&&rt.alternate!==null&&Ae.delete(rt.key===null?Pe:rt.key),z=y(rt,z,Pe),Ge===null?xe=rt:Ge.sibling=rt,Ge=rt);return r&&Ae.forEach(function(uN){return s(G,uN)}),st&&wa(G,Pe),xe}function gt(G,z,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var xe=Q.key;z!==null;){if(z.key===xe){if(xe=Q.type,xe===C){if(z.tag===7){o(G,z.sibling),oe=d(z,Q.props.children),oe.return=G,G=oe;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&lE(xe)===z.type){o(G,z.sibling),oe=d(z,Q.props),uc(oe,Q),oe.return=G,G=oe;break e}o(G,z);break}else s(G,z);z=z.sibling}Q.type===C?(oe=ba(Q.props.children,G.mode,oe,Q.key),oe.return=G,G=oe):(oe=th(Q.type,Q.key,Q.props,null,G.mode,oe),uc(oe,Q),oe.return=G,G=oe)}return w(G);case R:e:{for(xe=Q.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){o(G,z.sibling),oe=d(z,Q.children||[]),oe.return=G,G=oe;break e}else{o(G,z);break}else s(G,z);z=z.sibling}oe=Yd(Q,G.mode,oe),oe.return=G,G=oe}return w(G);case x:return xe=Q._init,Q=xe(Q._payload),gt(G,z,Q,oe)}if(He(Q))return Me(G,z,Q,oe);if(q(Q)){if(xe=q(Q),typeof xe!="function")throw Error(i(150));return Q=xe.call(Q),De(G,z,Q,oe)}if(typeof Q.then=="function")return gt(G,z,vh(Q),oe);if(Q.$$typeof===H)return gt(G,z,sh(G,Q),oe);Eh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(o(G,z.sibling),oe=d(z,Q),oe.return=G,G=oe):(o(G,z),oe=Kd(Q,G.mode,oe),oe.return=G,G=oe),w(G)):o(G,z)}return function(G,z,Q,oe){try{cc=0;var xe=gt(G,z,Q,oe);return Po=null,xe}catch(Ae){if(Ae===ec||Ae===oh)throw Ae;var Ge=Kn(29,Ae,null,G.mode);return Ge.lanes=oe,Ge.return=G,Ge}finally{}}}var Oo=cE(!0),uE=cE(!1),lr=se(null),Gr=null;function ds(r){var s=r.alternate;ue(tn,tn.current&1),ue(lr,r),Gr===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Gr=r)}function hE(r){if(r.tag===22){if(ue(tn,tn.current),ue(lr,r),Gr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Gr=r)}}else ms()}function ms(){ue(tn,tn.current),ue(lr,lr.current)}function Di(r){pe(lr),Gr===r&&(Gr=null),pe(tn)}var tn=se(0);function _h(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Rm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Nm={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=us(c);d.payload=s,o!=null&&(d.callback=o),s=hs(r,d,c),s!==null&&(Zn(s,r,c),nc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=us(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=hs(r,d,c),s!==null&&(Zn(s,r,c),nc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wn(),c=us(o);c.tag=2,s!=null&&(c.callback=s),s=hs(r,c,o),s!==null&&(Zn(s,r,o),nc(s,r,o))}};function fE(r,s,o,c,d,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!$l(o,c)||!$l(d,y):!0}function dE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Nm.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var bh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function mE(r){bh(r)}function pE(r){console.error(r)}function gE(r){bh(r)}function Th(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function yE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cm(r,s,o){return o=us(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(r,s)},o}function vE(r){return r=us(r),r.tag=3,r}function EE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;r.payload=function(){return d(y)},r.callback=function(){yE(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){yE(s,o,c),typeof d!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function u2(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Wl(s,o,d,!0),o=lr.current,o!==null){switch(o.tag){case 13:return Gr===null?Jm():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===im?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),tp(r,c,d)),!1;case 22:return o.flags|=65536,c===im?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),tp(r,c,d)),!1}throw Error(i(435,o.tag))}return tp(r,c,d),Jm(),!1}if(st)return s=lr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Wd&&(r=Error(i(422),{cause:c}),Xl(ir(r,o)))):(c!==Wd&&(s=Error(i(423),{cause:c}),Xl(ir(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=ir(c,o),d=Cm(r.stateNode,c,d),om(r,d),Mt!==4&&(Mt=2)),!1;var y=Error(i(520),{cause:c});if(y=ir(y,o),yc===null?yc=[y]:yc.push(y),Mt!==4&&(Mt=2),s===null)return!0;c=ir(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Cm(o.stateNode,c,r),om(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_s===null||!_s.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=vE(d),EE(d,r,o,c),om(o,d),!1}o=o.return}while(o!==null);return!1}var _E=Error(i(461)),on=!1;function pn(r,s,o,c){s.child=r===null?uE(s,null,o,c):Oo(s,r.child,o,c)}function bE(r,s,o,c,d){o=o.render;var y=s.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return Ra(s),c=fm(r,s,o,w,y,d),S=dm(),r!==null&&!on?(mm(r,s,d),Pi(r,s,d)):(st&&S&&Qd(s),s.flags|=1,pn(r,s,c,d),s.child)}function TE(r,s,o,c,d){if(r===null){var y=o.type;return typeof y=="function"&&!$d(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,wE(r,s,y,c,d)):(r=th(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Lm(r,d)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(w,c)&&r.ref===s.ref)return Pi(r,s,d)}return s.flags|=1,r=Si(y,c),r.ref=s.ref,r.return=s,s.child=r}function wE(r,s,o,c,d){if(r!==null){var y=r.memoizedProps;if($l(y,c)&&r.ref===s.ref)if(on=!1,s.pendingProps=c=y,Lm(r,d))(r.flags&131072)!==0&&(on=!0);else return s.lanes=r.lanes,Pi(r,s,d)}return Im(r,s,o,c,d)}function xE(r,s,o){var c=s.pendingProps,d=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(d=s.child=r.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return SE(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,y!==null?y.cachePool:null),y!==null?wv(s,y):cm(),hE(s);else return s.lanes=s.childLanes=536870912,SE(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(ah(s,y.cachePool),wv(s,y),ms(),s.memoizedState=null):(r!==null&&ah(s,null),cm(),ms());return pn(r,s,d,o),s.child}function SE(r,s,o,c){var d=rm();return d=d===null?null:{parent:en._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&ah(s,null),cm(),hE(s),r!==null&&Wl(r,s,c,!0),null}function wh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Im(r,s,o,c,d){return Ra(s),o=fm(r,s,o,c,void 0,d),c=dm(),r!==null&&!on?(mm(r,s,d),Pi(r,s,d)):(st&&c&&Qd(s),s.flags|=1,pn(r,s,o,d),s.child)}function AE(r,s,o,c,d,y){return Ra(s),s.updateQueue=null,o=Sv(s,c,o,d),xv(r),c=dm(),r!==null&&!on?(mm(r,s,y),Pi(r,s,y)):(st&&c&&Qd(s),s.flags|=1,pn(r,s,o,y),s.child)}function RE(r,s,o,c,d){if(Ra(s),s.stateNode===null){var y=wo,w=o.contextType;typeof w=="object"&&w!==null&&(y=wn(w)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Nm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},sm(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?wn(w):wo,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Rm(s,o,w,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Nm.enqueueReplaceState(y,y.state,null),ic(s,c,y,d),rc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,L=Ia(o,S);y.props=L;var X=y.context,ne=o.contextType;w=wo,typeof ne=="object"&&ne!==null&&(w=wn(ne));var ce=o.getDerivedStateFromProps;ne=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||X!==w)&&dE(s,y,c,w),cs=!1;var W=s.memoizedState;y.state=W,ic(s,c,y,d),rc(),X=s.memoizedState,S||W!==X||cs?(typeof ce=="function"&&(Rm(s,o,ce,c),X=s.memoizedState),(L=cs||fE(s,o,L,c,W,X,w))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),y.props=c,y.state=X,y.context=w,c=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,am(r,s),w=s.memoizedProps,ne=Ia(o,w),y.props=ne,ce=s.pendingProps,W=y.context,X=o.contextType,L=wo,typeof X=="object"&&X!==null&&(L=wn(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ce||W!==L)&&dE(s,y,c,L),cs=!1,W=s.memoizedState,y.state=W,ic(s,c,y,d),rc();var Z=s.memoizedState;w!==ce||W!==Z||cs||r!==null&&r.dependencies!==null&&ih(r.dependencies)?(typeof S=="function"&&(Rm(s,o,S,c),Z=s.memoizedState),(ne=cs||fE(s,o,ne,c,W,Z,L)||r!==null&&r.dependencies!==null&&ih(r.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Z,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Z,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),y.props=c,y.state=Z,y.context=L,c=ne):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,wh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Oo(s,r.child,null,d),s.child=Oo(s,null,o,d)):pn(r,s,o,d),s.memoizedState=y.state,r=s.child):r=Pi(r,s,d),r}function NE(r,s,o,c){return Ql(),s.flags|=256,pn(r,s,o,c),s.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(r){return{baseLanes:r,cachePool:pv()}}function Om(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=cr),r}function CE(r,s,o){var c=s.pendingProps,d=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(d?ds(s):ms(),st){var S=Ot,L;if(L=S){e:{for(L=S,S=Hr;L.nodeType!==8;){if(!S){S=null;break e}if(L=Ar(L.nextSibling),L===null){S=null;break e}}S=L}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ta!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},L=Kn(18,null,null,0),L.stateNode=S,L.return=s,s.child=L,On=s,Ot=null,L=!0):L=!1}L||Sa(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return gp(S)?s.lanes=32:s.lanes=536870912,null;Di(s)}return S=c.children,c=c.fallback,d?(ms(),d=s.mode,S=xh({mode:"hidden",children:S},d),c=ba(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,d=s.child,d.memoizedState=Pm(o),d.childLanes=Om(r,w,o),s.memoizedState=Dm,c):(ds(s),Mm(s,S))}if(L=r.memoizedState,L!==null&&(S=L.dehydrated,S!==null)){if(y)s.flags&256?(ds(s),s.flags&=-257,s=Vm(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),d=c.fallback,S=s.mode,c=xh({mode:"visible",children:c.children},S),d=ba(d,S,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Oo(s,r.child,null,o),c=s.child,c.memoizedState=Pm(o),c.childLanes=Om(r,w,o),s.memoizedState=Dm,s=d);else if(ds(s),gp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var X=w.dgst;w=X,c=Error(i(419)),c.stack="",c.digest=w,Xl({value:c,source:null,stack:null}),s=Vm(r,s,o)}else if(on||Wl(r,s,o,!1),w=(o&r.childLanes)!==0,on||w){if(w=bt,w!==null&&(c=o&-o,c=(c&42)!==0?1:Hn(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,To(r,c),Zn(w,r,c),_E;S.data==="$?"||Jm(),s=Vm(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,Ot=Ar(S.nextSibling),On=s,st=!0,xa=null,Hr=!1,r!==null&&(ar[or++]=Ai,ar[or++]=Ri,ar[or++]=Ta,Ai=r.id,Ri=r.overflow,Ta=s),s=Mm(s,c.children),s.flags|=4096);return s}return d?(ms(),d=c.fallback,S=s.mode,L=r.child,X=L.sibling,c=Si(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?d=Si(X,d):(d=ba(d,S,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,S=r.child.memoizedState,S===null?S=Pm(o):(L=S.cachePool,L!==null?(X=en._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=pv(),S={baseLanes:S.baseLanes|o,cachePool:L}),d.memoizedState=S,d.childLanes=Om(r,w,o),s.memoizedState=Dm,c):(ds(s),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function Mm(r,s){return s=xh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function xh(r,s){return r=Kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vm(r,s,o){return Oo(s,r.child,null,o),r=Mm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function IE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Jd(r.return,s,o)}function km(r,s,o,c,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=d)}function DE(r,s,o){var c=s.pendingProps,d=c.revealOrder,y=c.tail;if(pn(r,s,c.children,o),c=tn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&IE(r,o,s);else if(r.tag===19)IE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ue(tn,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&_h(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),km(s,!1,d,o,y);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&_h(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}km(s,!0,o,null,y);break;case"together":km(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Wl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Lm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ih(r)))}function h2(r,s,o){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),ls(s,en,r.memoizedState.cache),Ql();break;case 27:case 5:hn(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?CE(r,s,o):(ds(s),r=Pi(r,s,o),r!==null?r.sibling:null);ds(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Wl(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return DE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(tn,tn.current),c)break;return null;case 22:case 23:return s.lanes=0,xE(r,s,o);case 24:ls(s,en,r.memoizedState.cache)}return Pi(r,s,o)}function PE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)on=!0;else{if(!Lm(r,o)&&(s.flags&128)===0)return on=!1,h2(r,s,o);on=(r.flags&131072)!==0}else on=!1,st&&(s.flags&1048576)!==0&&lv(s,rh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")$d(c)?(r=Ia(c,r),s.tag=1,s=RE(null,s,c,r,o)):(s.tag=0,s=Im(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===le){s.tag=11,s=bE(null,s,c,r,o);break e}else if(d===O){s.tag=14,s=TE(null,s,c,r,o);break e}}throw s=qe(c)||c,Error(i(306,s,""))}}return s;case 0:return Im(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Ia(c,s.pendingProps),RE(r,s,c,d,o);case 3:e:{if(We(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;d=y.element,am(r,s),ic(s,c,null,o);var w=s.memoizedState;if(c=w.cache,ls(s,en,c),c!==y.cache&&em(s,[en],o,!0),rc(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=NE(r,s,c,o);break e}else if(c!==d){d=ir(Error(i(424)),s),Xl(d),s=NE(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ot=Ar(r.firstChild),On=s,st=!0,xa=null,Hr=!0,o=uE(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),c===d){s=Pi(r,s,o);break e}pn(r,s,c,o)}s=s.child}return s;case 26:return wh(r,s),r===null?(o=k_(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,r=s.pendingProps,c=Uh(Se.current).createElement(o),c[Wt]=s,c[qt]=r,yn(c,o,r),kt(c),s.stateNode=c):s.memoizedState=k_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return hn(s),r===null&&st&&(c=s.stateNode=O_(s.type,s.pendingProps,Se.current),On=s,Hr=!0,d=Ot,ws(s.type)?(yp=d,Ot=Ar(c.firstChild)):Ot=d),pn(r,s,s.pendingProps.children,o),wh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((d=c=Ot)&&(c=j2(c,s.type,s.pendingProps,Hr),c!==null?(s.stateNode=c,On=s,Ot=Ar(c.firstChild),Hr=!1,d=!0):d=!1),d||Sa(s)),hn(s),d=s.type,y=s.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,dp(d,y)?c=null:w!==null&&dp(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=fm(r,s,r2,null,null,o),Ac._currentValue=d),wh(r,s),pn(r,s,c,o),s.child;case 6:return r===null&&st&&((r=o=Ot)&&(o=B2(o,s.pendingProps,Hr),o!==null?(s.stateNode=o,On=s,Ot=null,r=!0):r=!1),r||Sa(s)),null;case 13:return CE(r,s,o);case 4:return We(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Oo(s,null,c,o):pn(r,s,c,o),s.child;case 11:return bE(r,s,s.type,s.pendingProps,o);case 7:return pn(r,s,s.pendingProps,o),s.child;case 8:return pn(r,s,s.pendingProps.children,o),s.child;case 12:return pn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ls(s,s.type,c.value),pn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ra(s),d=wn(d),c=c(d),s.flags|=1,pn(r,s,c,o),s.child;case 14:return TE(r,s,s.type,s.pendingProps,o);case 15:return wE(r,s,s.type,s.pendingProps,o);case 19:return DE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=xh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Si(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return xE(r,s,o);case 24:return Ra(s),c=wn(en),r===null?(d=rm(),d===null&&(d=bt,y=tm(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),s.memoizedState={parent:c,cache:d},sm(s),ls(s,en,d)):((r.lanes&o)!==0&&(am(r,s),ic(s,null,null,o),rc()),d=r.memoizedState,y=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ls(s,en,c)):(c=y.cache,ls(s,en,c),c!==d.cache&&em(s,[en],o,!0))),pn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function OE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!F_(s)){if(s=lr.current,s!==null&&((et&4194048)===et?Gr!==null:(et&62914560)!==et&&(et&536870912)===0||s!==Gr))throw tc=im,gv;r.flags|=8192}}function Sh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?it():536870912,r.lanes|=s,Lo|=s)}function hc(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function f2(r,s,o){var c=s.pendingProps;switch(Xd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Rt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ci(en),Tn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Yl(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hv())),Rt(s),null;case 26:return o=s.memoizedState,r===null?(Oi(s),o!==null?(Rt(s),OE(s,o)):(Rt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Oi(s),Rt(s),OE(s,o)):(Rt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Oi(s),Rt(s),s.flags&=-16777217),null;case 27:yt(s),o=Se.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}r=be.current,Yl(s)?cv(s):(r=O_(d,c,o),s.stateNode=r,Oi(s))}return Rt(s),null;case 5:if(yt(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}if(r=be.current,Yl(s))cv(s);else{switch(d=Uh(Se.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[Wt]=s,r[qt]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(yn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return Rt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Se.current,Yl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=On,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Wt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||A_(r.nodeValue,o)),r||Sa(s)}else r=Uh(r).createTextNode(c),r[Wt]=s,s.stateNode=r}return Rt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Yl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Wt]=s}else Ql(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),d=!1}else d=hv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Di(s),s):(Di(s),null)}if(Di(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Sh(s,s.updateQueue),Rt(s),null;case 4:return Tn(),r===null&&lp(s.stateNode.containerInfo),Rt(s),null;case 10:return Ci(s.type),Rt(s),null;case 19:if(pe(tn),d=s.memoizedState,d===null)return Rt(s),null;if(c=(s.flags&128)!==0,y=d.rendering,y===null)if(c)hc(d,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=_h(r),y!==null){for(s.flags|=128,hc(d,!1),r=y.updateQueue,s.updateQueue=r,Sh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)ov(o,r),o=o.sibling;return ue(tn,tn.current&1|2),s.child}r=r.sibling}d.tail!==null&&Ln()>Nh&&(s.flags|=128,c=!0,hc(d,!1),s.lanes=4194304)}else{if(!c)if(r=_h(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Sh(s,r),hc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!st)return Rt(s),null}else 2*Ln()-d.renderingStartTime>Nh&&o!==536870912&&(s.flags|=128,c=!0,hc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(r=d.last,r!==null?r.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ln(),s.sibling=null,r=tn.current,ue(tn,c?r&1|2:r&1),s):(Rt(s),null);case 22:case 23:return Di(s),um(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),o=s.updateQueue,o!==null&&Sh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&pe(Na),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(en),Rt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function d2(r,s){switch(Xd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(en),Tn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return yt(s),null;case 13:if(Di(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ql()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pe(tn),null;case 4:return Tn(),null;case 10:return Ci(s.type),null;case 22:case 23:return Di(s),um(),r!==null&&pe(Na),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(en),null;case 25:return null;default:return null}}function ME(r,s){switch(Xd(s),s.tag){case 3:Ci(en),Tn();break;case 26:case 27:case 5:yt(s);break;case 4:Tn();break;case 13:Di(s);break;case 19:pe(tn);break;case 10:Ci(s.type);break;case 22:case 23:Di(s),um(),r!==null&&pe(Na);break;case 24:Ci(en)}}function fc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==d)}}catch(S){Et(s,s.return,S)}}function ps(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&r)===r){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=s;var L=o,X=S;try{X()}catch(ne){Et(d,L,ne)}}}c=c.next}while(c!==y)}}catch(ne){Et(s,s.return,ne)}}function VE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Tv(s,o)}catch(c){Et(r,r.return,c)}}}function kE(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Et(r,s,c)}}function dc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){Et(r,s,d)}}function $r(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Et(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Et(r,s,d)}else o.current=null}function LE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Et(r,r.return,d)}}function Um(r,s,o){try{var c=r.stateNode;M2(c,r.type,o,s),c[qt]=s}catch(d){Et(r,r.return,d)}}function UE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ws(r.type)||r.tag===4}function jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||UE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ws(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lh));else if(c!==4&&(c===27&&ws(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Bm(r,s,o),r=r.sibling;r!==null;)Bm(r,s,o),r=r.sibling}function Ah(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&ws(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ah(r,s,o),r=r.sibling;r!==null;)Ah(r,s,o),r=r.sibling}function jE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);yn(s,c,o),s[Wt]=r,s[qt]=o}catch(y){Et(r,r.return,y)}}var Mi=!1,Ut=!1,Fm=!1,BE=typeof WeakSet=="function"?WeakSet:Set,ln=null;function m2(r,s){if(r=r.containerInfo,hp=Hh,r=W0(r),jd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,L=-1,X=0,ne=0,ce=r,W=null;t:for(;;){for(var Z;ce!==o||d!==0&&ce.nodeType!==3||(S=w+d),ce!==y||c!==0&&ce.nodeType!==3||(L=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(Z=ce.firstChild)!==null;)W=ce,ce=Z;for(;;){if(ce===r)break t;if(W===o&&++X===d&&(S=w),W===y&&++ne===c&&(L=w),(Z=ce.nextSibling)!==null)break;ce=W,W=ce.parentNode}ce=Z}o=S===-1||L===-1?null:{start:S,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(fp={focusedElem:r,selectionRange:o},Hh=!1,ln=s;ln!==null;)if(s=ln,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,ln=r;else for(;ln!==null;){switch(s=ln,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,d=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Me=Ia(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Me,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){Et(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)pp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,ln=r;break}ln=s.return}}function FE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:gs(r,o),c&4&&fc(5,o);break;case 1:if(gs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){Et(o,o.return,w)}else{var d=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(o,o.return,w)}}c&64&&VE(o),c&512&&dc(o,o.return);break;case 3:if(gs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Tv(r,s)}catch(w){Et(o,o.return,w)}}break;case 27:s===null&&c&4&&jE(o);case 26:case 5:gs(r,o),s===null&&c&4&&LE(o),c&512&&dc(o,o.return);break;case 12:gs(r,o);break;case 13:gs(r,o),c&4&&HE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=w2.bind(null,o),F2(r,o))));break;case 22:if(c=o.memoizedState!==null||Mi,!c){s=s!==null&&s.memoizedState!==null||Ut,d=Mi;var y=Ut;Mi=c,(Ut=s)&&!y?ys(r,o,(o.subtreeFlags&8772)!==0):gs(r,o),Mi=d,Ut=y}break;case 30:break;default:gs(r,o)}}function zE(r){var s=r.alternate;s!==null&&(r.alternate=null,zE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&is(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,jn=!1;function Vi(r,s,o){for(o=o.child;o!==null;)qE(r,s,o),o=o.sibling}function qE(r,s,o){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount($,o)}catch{}switch(o.tag){case 26:Ut||$r(o,s),Vi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ut||$r(o,s);var c=xt,d=jn;ws(o.type)&&(xt=o.stateNode,jn=!1),Vi(r,s,o),Tc(o.stateNode),xt=c,jn=d;break;case 5:Ut||$r(o,s);case 6:if(c=xt,d=jn,xt=null,Vi(r,s,o),xt=c,jn=d,xt!==null)if(jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{xt.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:xt!==null&&(jn?(r=xt,D_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ic(r)):D_(xt,o.stateNode));break;case 4:c=xt,d=jn,xt=o.stateNode.containerInfo,jn=!0,Vi(r,s,o),xt=c,jn=d;break;case 0:case 11:case 14:case 15:Ut||ps(2,o,s),Ut||ps(4,o,s),Vi(r,s,o);break;case 1:Ut||($r(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&kE(o,s,c)),Vi(r,s,o);break;case 21:Vi(r,s,o);break;case 22:Ut=(c=Ut)||o.memoizedState!==null,Vi(r,s,o),Ut=c;break;default:Vi(r,s,o)}}function HE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ic(r)}catch(o){Et(s,s.return,o)}}function p2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new BE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new BE),s;default:throw Error(i(435,r.tag))}}function zm(r,s){var o=p2(r);s.forEach(function(c){var d=x2.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Yn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],y=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(ws(S.type)){xt=S.stateNode,jn=!1;break e}break;case 5:xt=S.stateNode,jn=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(xt===null)throw Error(i(160));qE(y,w,d),xt=null,jn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)GE(s,r),s=s.sibling}var Sr=null;function GE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(s,r),Qn(r),c&4&&(ps(3,r,r.return),fc(3,r),ps(5,r,r.return));break;case 1:Yn(s,r),Qn(r),c&512&&(Ut||o===null||$r(o,o.return)),c&64&&Mi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Sr;if(Yn(s,r),Qn(r),c&512&&(Ut||o===null||$r(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[sa]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),yn(y,c,o),y[Wt]=r,kt(y),c=y;break e;case"link":var w=j_("link","href",d).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=d.createElement(c),yn(y,c,o),d.head.appendChild(y);break;case"meta":if(w=j_("meta","content",d).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=d.createElement(c),yn(y,c,o),d.head.appendChild(y);break;default:throw Error(i(468,c))}y[Wt]=r,kt(y),c=y}r.stateNode=c}else B_(d,r.type,r.stateNode);else r.stateNode=U_(d,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?B_(d,r.type,r.stateNode):U_(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Um(r,r.memoizedProps,o.memoizedProps)}break;case 27:Yn(s,r),Qn(r),c&512&&(Ut||o===null||$r(o,o.return)),o!==null&&c&4&&Um(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Yn(s,r),Qn(r),c&512&&(Ut||o===null||$r(o,o.return)),r.flags&32){d=r.stateNode;try{er(d,"")}catch(Z){Et(r,r.return,Z)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,Um(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Fm=!0);break;case 6:if(Yn(s,r),Qn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Z){Et(r,r.return,Z)}}break;case 3:if(Fh=null,d=Sr,Sr=jh(s.containerInfo),Yn(s,r),Sr=d,Qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ic(s.containerInfo)}catch(Z){Et(r,r.return,Z)}Fm&&(Fm=!1,$E(r));break;case 4:c=Sr,Sr=jh(r.stateNode.containerInfo),Yn(s,r),Qn(r),Sr=c;break;case 12:Yn(s,r),Qn(r);break;case 13:Yn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ym=Ln()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,zm(r,c)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=Mi,ne=Ut;if(Mi=X||d,Ut=ne||L,Yn(s,r),Ut=ne,Mi=X,Qn(r),c&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||L||Mi||Ut||Da(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(y=L.stateNode,d)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=L.stateNode;var ce=L.memoizedProps.style,W=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){Et(L,L.return,Z)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(Z){Et(L,L.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,zm(r,o))));break;case 19:Yn(s,r),Qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,zm(r,c)));break;case 30:break;case 21:break;default:Yn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(UE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,y=jm(r);Ah(r,y,d);break;case 5:var w=o.stateNode;o.flags&32&&(er(w,""),o.flags&=-33);var S=jm(r);Ah(r,S,w);break;case 3:case 4:var L=o.stateNode.containerInfo,X=jm(r);Bm(r,X,L);break;default:throw Error(i(161))}}catch(ne){Et(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $E(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;$E(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function gs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)FE(r,s.alternate,s),s=s.sibling}function Da(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Da(s);break;case 1:$r(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&kE(s,s.return,o),Da(s);break;case 27:Tc(s.stateNode);case 26:case 5:$r(s,s.return),Da(s);break;case 22:s.memoizedState===null&&Da(s);break;case 30:Da(s);break;default:Da(s)}r=r.sibling}}function ys(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:ys(d,y,o),fc(4,y);break;case 1:if(ys(d,y,o),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){Et(c,c.return,X)}if(c=y,d=c.updateQueue,d!==null){var S=c.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)bv(L[d],S)}catch(X){Et(c,c.return,X)}}o&&w&64&&VE(y),dc(y,y.return);break;case 27:jE(y);case 26:case 5:ys(d,y,o),o&&c===null&&w&4&&LE(y),dc(y,y.return);break;case 12:ys(d,y,o);break;case 13:ys(d,y,o),o&&w&4&&HE(d,y);break;case 22:y.memoizedState===null&&ys(d,y,o),dc(y,y.return);break;case 30:break;default:ys(d,y,o)}s=s.sibling}}function qm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Zl(o))}function Hm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zl(r))}function Kr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KE(r,s,o,c),s=s.sibling}function KE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(r,s,o,c),d&2048&&fc(9,s);break;case 1:Kr(r,s,o,c);break;case 3:Kr(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zl(r)));break;case 12:if(d&2048){Kr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){Et(s,s.return,L)}}else Kr(r,s,o,c);break;case 13:Kr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Kr(r,s,o,c):mc(r,s):y._visibility&2?Kr(r,s,o,c):(y._visibility|=2,Mo(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&qm(w,s);break;case 24:Kr(r,s,o,c),d&2048&&Hm(s.alternate,s);break;default:Kr(r,s,o,c)}}function Mo(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,w=s,S=o,L=c,X=w.flags;switch(w.tag){case 0:case 11:case 15:Mo(y,w,S,L,d),fc(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&2?Mo(y,w,S,L,d):mc(y,w):(ne._visibility|=2,Mo(y,w,S,L,d)),d&&X&2048&&qm(w.alternate,w);break;case 24:Mo(y,w,S,L,d),d&&X&2048&&Hm(w.alternate,w);break;default:Mo(y,w,S,L,d)}s=s.sibling}}function mc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:mc(o,c),d&2048&&qm(c.alternate,c);break;case 24:mc(o,c),d&2048&&Hm(c.alternate,c);break;default:mc(o,c)}s=s.sibling}}var pc=8192;function Vo(r){if(r.subtreeFlags&pc)for(r=r.child;r!==null;)YE(r),r=r.sibling}function YE(r){switch(r.tag){case 26:Vo(r),r.flags&pc&&r.memoizedState!==null&&eN(Sr,r.memoizedState,r.memoizedProps);break;case 5:Vo(r);break;case 3:case 4:var s=Sr;Sr=jh(r.stateNode.containerInfo),Vo(r),Sr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=pc,pc=16777216,Vo(r),pc=s):Vo(r));break;default:Vo(r)}}function QE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function gc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,WE(c,r)}QE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)XE(r),r=r.sibling}function XE(r){switch(r.tag){case 0:case 11:case 15:gc(r),r.flags&2048&&ps(9,r,r.return);break;case 3:gc(r);break;case 12:gc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Rh(r)):gc(r);break;default:gc(r)}}function Rh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,WE(c,r)}QE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Rh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(s));break;default:Rh(s)}r=r.sibling}}function WE(r,s){for(;ln!==null;){var o=ln;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ln=c;else e:for(o=r;ln!==null;){c=ln;var d=c.sibling,y=c.return;if(zE(c),c===o){ln=null;break e}if(d!==null){d.return=y,ln=d;break e}ln=y}}}var g2={getCacheForType:function(r){var s=wn(en),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},y2=typeof WeakMap=="function"?WeakMap:Map,ht=0,bt=null,$e=null,et=0,ft=0,Xn=null,vs=!1,ko=!1,Gm=!1,ki=0,Mt=0,Es=0,Pa=0,$m=0,cr=0,Lo=0,yc=null,Bn=null,Km=!1,Ym=0,Nh=1/0,Ch=null,_s=null,gn=0,bs=null,Uo=null,jo=0,Qm=0,Xm=null,ZE=null,vc=0,Wm=null;function Wn(){if((ht&2)!==0&&et!==0)return et&-et;if(J.T!==null){var r=Ao;return r!==0?r:ip()}return br()}function JE(){cr===0&&(cr=(et&536870912)===0||st?ut():536870912);var r=lr.current;return r!==null&&(r.flags|=32),cr}function Zn(r,s,o){(r===bt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Bo(r,0),Ts(r,et,cr,!1)),at(r,o),((ht&2)===0||r!==bt)&&(r===bt&&((ht&2)===0&&(Pa|=o),Mt===4&&Ts(r,et,cr,!1)),Yr(r))}function e_(r,s,o){if((ht&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Le(r,s),d=c?_2(r,s):ep(r,s,!0),y=c;do{if(d===0){ko&&!c&&Ts(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!v2(o)){d=ep(r,s,!1),y=!1;continue}if(d===2){if(y=s,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=r;d=yc;var L=S.current.memoizedState.isDehydrated;if(L&&(Bo(S,w).flags|=256),w=ep(S,w,!1),w!==2){if(Gm&&!L){S.errorRecoveryDisabledLanes|=y,Pa|=y,d=4;break e}y=Bn,Bn=d,y!==null&&(Bn===null?Bn=y:Bn.push.apply(Bn,y))}d=w}if(y=!1,d!==2)continue}}if(d===1){Bo(r,0),Ts(r,s,0,!0);break}e:{switch(c=r,y=d,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ts(c,s,cr,!vs);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Ym+300-Ln(),10<d)){if(Ts(c,s,cr,!vs),_e(c,0,!0)!==0)break e;c.timeoutHandle=C_(t_.bind(null,c,o,Bn,Ch,Km,s,cr,Pa,Lo,vs,y,2,-0,0),d);break e}t_(c,o,Bn,Ch,Km,s,cr,Pa,Lo,vs,y,0,-0,0)}}break}while(!0);Yr(r)}function t_(r,s,o,c,d,y,w,S,L,X,ne,ce,W,Z){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Sc={stylesheets:null,count:0,unsuspend:J2},YE(s),ce=tN(),ce!==null)){r.cancelPendingCommit=ce(l_.bind(null,r,s,y,o,c,d,w,S,L,ne,1,W,Z)),Ts(r,y,w,!X);return}l_(r,s,y,o,c,d,w,S,L)}function v2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],y=d.getSnapshot;d=d.value;try{if(!$n(y(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(r,s,o,c){s&=~$m,s&=~Pa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var y=31-Ne(d),w=1<<y;c[y]=-1,d&=~w}o!==0&&fn(r,o,s)}function Ih(){return(ht&6)===0?(Ec(0),!1):!0}function Zm(){if($e!==null){if(ft===0)var r=$e.return;else r=$e,Ni=Aa=null,pm(r),Po=null,cc=0,r=$e;for(;r!==null;)ME(r.alternate,r),r=r.return;$e=null}}function Bo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,k2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Zm(),bt=r,$e=o=Si(r.current,null),et=s,ft=0,Xn=null,vs=!1,ko=Le(r,s),Gm=!1,Lo=cr=$m=Pa=Es=Mt=0,Bn=yc=null,Km=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Ne(c),y=1<<d;s|=r[d],c&=~y}return ki=s,Zu(),o}function n_(r,s){ze=null,J.H=yh,s===ec||s===oh?(s=Ev(),ft=3):s===gv?(s=Ev(),ft=4):ft=s===_E?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,$e===null&&(Mt=1,Th(r,ir(s,r.current)))}function r_(){var r=J.H;return J.H=yh,r===null?yh:r}function i_(){var r=J.A;return J.A=g2,r}function Jm(){Mt=4,vs||(et&4194048)!==et&&lr.current!==null||(ko=!0),(Es&134217727)===0&&(Pa&134217727)===0||bt===null||Ts(bt,et,cr,!1)}function ep(r,s,o){var c=ht;ht|=2;var d=r_(),y=i_();(bt!==r||et!==s)&&(Ch=null,Bo(r,s)),s=!1;var w=Mt;e:do try{if(ft!==0&&$e!==null){var S=$e,L=Xn;switch(ft){case 8:Zm(),w=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(s=!0);var X=ft;if(ft=0,Xn=null,Fo(r,S,L,X),o&&ko){w=0;break e}break;default:X=ft,ft=0,Xn=null,Fo(r,S,L,X)}}E2(),w=Mt;break}catch(ne){n_(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Ni=Aa=null,ht=c,J.H=d,J.A=y,$e===null&&(bt=null,et=0,Zu()),w}function E2(){for(;$e!==null;)s_($e)}function _2(r,s){var o=ht;ht|=2;var c=r_(),d=i_();bt!==r||et!==s?(Ch=null,Nh=Ln()+500,Bo(r,s)):ko=Le(r,s);e:do try{if(ft!==0&&$e!==null){s=$e;var y=Xn;t:switch(ft){case 1:ft=0,Xn=null,Fo(r,s,y,1);break;case 2:case 9:if(yv(y)){ft=0,Xn=null,a_(s);break}s=function(){ft!==2&&ft!==9||bt!==r||(ft=7),Yr(r)},y.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:yv(y)?(ft=0,Xn=null,a_(s)):(ft=0,Xn=null,Fo(r,s,y,7));break;case 5:var w=null;switch($e.tag){case 26:w=$e.memoizedState;case 5:case 27:var S=$e;if(!w||F_(w)){ft=0,Xn=null;var L=S.sibling;if(L!==null)$e=L;else{var X=S.return;X!==null?($e=X,Dh(X)):$e=null}break t}}ft=0,Xn=null,Fo(r,s,y,5);break;case 6:ft=0,Xn=null,Fo(r,s,y,6);break;case 8:Zm(),Mt=6;break e;default:throw Error(i(462))}}b2();break}catch(ne){n_(r,ne)}while(!0);return Ni=Aa=null,J.H=c,J.A=d,ht=o,$e!==null?0:(bt=null,et=0,Zu(),Mt)}function b2(){for(;$e!==null&&!es();)s_($e)}function s_(r){var s=PE(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?Dh(r):$e=s}function a_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=AE(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=AE(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:pm(s);default:ME(o,s),s=$e=ov(s,ki),s=PE(o,s,ki)}r.memoizedProps=r.pendingProps,s===null?Dh(r):$e=s}function Fo(r,s,o,c){Ni=Aa=null,pm(s),Po=null,cc=0;var d=s.return;try{if(u2(r,d,s,o,et)){Mt=1,Th(r,ir(o,r.current)),$e=null;return}}catch(y){if(d!==null)throw $e=d,y;Mt=1,Th(r,ir(o,r.current)),$e=null;return}s.flags&32768?(st||c===1?r=!0:ko||(et&536870912)!==0?r=!1:(vs=r=!0,(c===2||c===9||c===3||c===6)&&(c=lr.current,c!==null&&c.tag===13&&(c.flags|=16384))),o_(s,r)):Dh(s)}function Dh(r){var s=r;do{if((s.flags&32768)!==0){o_(s,vs);return}r=s.return;var o=f2(s.alternate,s,ki);if(o!==null){$e=o;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=r}while(s!==null);Mt===0&&(Mt=5)}function o_(r,s){do{var o=d2(r.alternate,r);if(o!==null){o.flags&=32767,$e=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){$e=r;return}$e=r=o}while(r!==null);Mt=6,$e=null}function l_(r,s,o,c,d,y,w,S,L){r.cancelPendingCommit=null;do Ph();while(gn!==0);if((ht&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Hd,Pt(r,o,y,w,S,L),r===bt&&($e=bt=null,et=0),Uo=s,bs=r,jo=o,Qm=y,Xm=d,ZE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,S2(_r,function(){return d_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,d=fe.p,fe.p=2,w=ht,ht|=4;try{m2(r,s,o)}finally{ht=w,fe.p=d,J.T=c}}gn=1,c_(),u_(),h_()}}function c_(){if(gn===1){gn=0;var r=bs,s=Uo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=fe.p;fe.p=2;var d=ht;ht|=4;try{GE(s,r);var y=fp,w=W0(r.containerInfo),S=y.focusedElem,L=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&X0(S.ownerDocument.documentElement,S)){if(L!==null&&jd(S)){var X=L.start,ne=L.end;if(ne===void 0&&(ne=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ne,S.value.length);else{var ce=S.ownerDocument||document,W=ce&&ce.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Me=S.textContent.length,De=Math.min(L.start,Me),gt=L.end===void 0?De:Math.min(L.end,Me);!Z.extend&&De>gt&&(w=gt,gt=De,De=w);var G=Q0(S,De),z=Q0(S,gt);if(G&&z&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var Q=ce.createRange();Q.setStart(G.node,G.offset),Z.removeAllRanges(),De>gt?(Z.addRange(Q),Z.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),Z.addRange(Q))}}}}for(ce=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ce.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ce.length;S++){var oe=ce[S];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Hh=!!hp,fp=hp=null}finally{ht=d,fe.p=c,J.T=o}}r.current=s,gn=2}}function u_(){if(gn===2){gn=0;var r=bs,s=Uo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=fe.p;fe.p=2;var d=ht;ht|=4;try{FE(r,s.alternate,s)}finally{ht=d,fe.p=c,J.T=o}}gn=3}}function h_(){if(gn===4||gn===3){gn=0,na();var r=bs,s=Uo,o=jo,c=ZE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gn=5:(gn=0,Uo=bs=null,f_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(_s=null),mi(o),s=s.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot($,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=J.T,d=fe.p,fe.p=2,J.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var S=c[w];y(S.value,{componentStack:S.stack})}}finally{J.T=s,fe.p=d}}(jo&3)!==0&&Ph(),Yr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Wm?vc++:(vc=0,Wm=r):vc=0,Ec(0)}}function f_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Zl(s)))}function Ph(r){return c_(),u_(),h_(),d_()}function d_(){if(gn!==5)return!1;var r=bs,s=Qm;Qm=0;var o=mi(jo),c=J.T,d=fe.p;try{fe.p=32>o?32:o,J.T=null,o=Xm,Xm=null;var y=bs,w=jo;if(gn=0,Uo=bs=null,jo=0,(ht&6)!==0)throw Error(i(331));var S=ht;if(ht|=4,XE(y.current),KE(y,y.current,w,o),ht=S,Ec(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot($,y)}catch{}return!0}finally{fe.p=d,J.T=c,f_(r,s)}}function m_(r,s,o){s=ir(o,s),s=Cm(r.stateNode,s,2),r=hs(r,s,2),r!==null&&(at(r,2),Yr(r))}function Et(r,s,o){if(r.tag===3)m_(r,r,o);else for(;s!==null;){if(s.tag===3){m_(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=ir(o,r),o=vE(2),c=hs(s,o,2),c!==null&&(EE(o,c,s,r),at(c,2),Yr(c));break}}s=s.return}}function tp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new y2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Gm=!0,d.add(o),r=T2.bind(null,r,s,o),s.then(r,r))}function T2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,bt===r&&(et&o)===o&&(Mt===4||Mt===3&&(et&62914560)===et&&300>Ln()-Ym?(ht&2)===0&&Bo(r,0):$m|=o,Lo===et&&(Lo=0)),Yr(r)}function p_(r,s){s===0&&(s=it()),r=To(r,s),r!==null&&(at(r,s),Yr(r))}function w2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),p_(r,o)}function x2(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),p_(r,o)}function S2(r,s){return Dt(r,s)}var Oh=null,zo=null,np=!1,Mh=!1,rp=!1,Oa=0;function Yr(r){r!==zo&&r.next===null&&(zo===null?Oh=zo=r:zo=zo.next=r),Mh=!0,np||(np=!0,R2())}function Ec(r,s){if(!rp&&Mh){rp=!0;do for(var o=!1,c=Oh;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var w=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-Ne(42|r)+1)-1,y&=d&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,E_(c,y))}else y=et,y=_e(c,c===bt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Le(c,y)||(o=!0,E_(c,y));c=c.next}while(o);rp=!1}}function A2(){g_()}function g_(){Mh=np=!1;var r=0;Oa!==0&&(V2()&&(r=Oa),Oa=0);for(var s=Ln(),o=null,c=Oh;c!==null;){var d=c.next,y=y_(c,s);y===0?(c.next=null,o===null?Oh=d:o.next=d,d===null&&(zo=o)):(o=c,(r!==0||(y&3)!==0)&&(Mh=!0)),c=d}Ec(r)}function y_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Ne(y),S=1<<w,L=d[w];L===-1?((S&o)===0||(S&c)!==0)&&(d[w]=ct(S,s)):L<=s&&(r.expiredLanes|=S),y&=~S}if(s=bt,o=et,o=_e(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&fi(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Le(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&fi(c),mi(o)){case 2:case 8:o=di;break;case 32:o=_r;break;case 268435456:o=Or;break;default:o=_r}return c=v_.bind(null,r),o=Dt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&fi(c),r.callbackPriority=2,r.callbackNode=null,2}function v_(r,s){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ph()&&r.callbackNode!==o)return null;var c=et;return c=_e(r,r===bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(e_(r,c,s),y_(r,Ln()),r.callbackNode!=null&&r.callbackNode===o?v_.bind(null,r):null)}function E_(r,s){if(Ph())return null;e_(r,s,!0)}function R2(){L2(function(){(ht&6)!==0?Dt(ra,A2):g_()})}function ip(){return Oa===0&&(Oa=ut()),Oa}function __(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:co(""+r)}function b_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function N2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var y=__((d[qt]||null).action),w=c.submitter;w&&(s=(s=w[qt]||null)?__(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var S=new uo("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var L=w?b_(d,w):new FormData(d);xm(o,{pending:!0,data:L,method:d.method,action:y},null,L)}}else typeof y=="function"&&(S.preventDefault(),L=w?b_(d,w):new FormData(d),xm(o,{pending:!0,data:L,method:d.method,action:y},y,L))},currentTarget:d}]})}}for(var sp=0;sp<qd.length;sp++){var ap=qd[sp],C2=ap.toLowerCase(),I2=ap[0].toUpperCase()+ap.slice(1);xr(C2,"on"+I2)}xr(ev,"onAnimationEnd"),xr(tv,"onAnimationIteration"),xr(nv,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(KR,"onTransitionRun"),xr(YR,"onTransitionStart"),xr(QR,"onTransitionCancel"),xr(rv,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function T_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],L=S.instance,X=S.currentTarget;if(S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(ne){bh(ne)}d.currentTarget=null,y=L}else for(w=0;w<c.length;w++){if(S=c[w],L=S.instance,X=S.currentTarget,S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(ne){bh(ne)}d.currentTarget=null,y=L}}}}function Ke(r,s){var o=s[Dl];o===void 0&&(o=s[Dl]=new Set);var c=r+"__bubble";o.has(c)||(w_(s,r,2,!1),o.add(c))}function op(r,s,o){var c=0;s&&(c|=4),w_(o,r,c,s)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function lp(r){if(!r[Vh]){r[Vh]=!0,Pl.forEach(function(o){o!=="selectionchange"&&(D2.has(o)||op(o,!1,r),op(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vh]||(s[Vh]=!0,op("selectionchange",!1,s))}}function w_(r,s,o,c){switch(K_(s)){case 2:var d=iN;break;case 8:d=sN;break;default:d=Tp}o=d.bind(null,s,o,r),d=void 0,!nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function cp(r,s,o,c,d){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=pi(S),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=y=w;continue e}S=S.parentNode}}c=c.return}Lu(function(){var X=y,ne=tr(o),ce=[];e:{var W=iv.get(r);if(W!==void 0){var Z=uo,Me=r;switch(r){case"keypress":if(jr(o)===0)break e;case"keydown":case"keyup":Z=yo;break;case"focusin":Me="focus",Z=mo;break;case"focusout":Me="blur",Z=mo;break;case"beforeblur":case"afterblur":Z=mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Gu;break;case ev:case tv:case nv:Z=po;break;case rv:Z=Ku;break;case"scroll":case"scrollend":Z=Uu;break;case"wheel":Z=vo;break;case"copy":case"cut":case"paste":Z=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hl;break;case"toggle":case"beforetoggle":Z=Qu}var De=(s&4)!==0,gt=!De&&(r==="scroll"||r==="scrollend"),G=De?W!==null?W+"Capture":null:W;De=[];for(var z=X,Q;z!==null;){var oe=z;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||G===null||(oe=fa(z,G),oe!=null&&De.push(bc(z,oe,Q))),gt)break;z=z.return}0<De.length&&(W=new Z(W,Me,null,o,ne),ce.push({event:W,listeners:De}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&o!==Ei&&(Me=o.relatedTarget||o.fromElement)&&(pi(Me)||Me[Jn]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Me=o.relatedTarget||o.toElement,Z=X,Me=Me?pi(Me):null,Me!==null&&(gt=l(Me),De=Me.tag,Me!==gt||De!==5&&De!==27&&De!==6)&&(Me=null)):(Z=null,Me=X),Z!==Me)){if(De=rr,oe="onMouseLeave",G="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(De=Hl,oe="onPointerLeave",G="onPointerEnter",z="pointer"),gt=Z==null?W:Vr(Z),Q=Me==null?W:Vr(Me),W=new De(oe,z+"leave",Z,o,ne),W.target=gt,W.relatedTarget=Q,oe=null,pi(ne)===X&&(De=new De(G,z+"enter",Me,o,ne),De.target=Q,De.relatedTarget=gt,oe=De),gt=oe,Z&&Me)t:{for(De=Z,G=Me,z=0,Q=De;Q;Q=qo(Q))z++;for(Q=0,oe=G;oe;oe=qo(oe))Q++;for(;0<z-Q;)De=qo(De),z--;for(;0<Q-z;)G=qo(G),Q--;for(;z--;){if(De===G||G!==null&&De===G.alternate)break t;De=qo(De),G=qo(G)}De=null}else De=null;Z!==null&&x_(ce,W,Z,De,!1),Me!==null&&gt!==null&&x_(ce,gt,Me,De,!0)}}e:{if(W=X?Vr(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var xe=q0;else if(Jt(W))if(H0)xe=HR;else{xe=zR;var Ge=FR}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Ll(X.elementType)&&(xe=q0):xe=qR;if(xe&&(xe=xe(r,X))){xi(ce,xe,o,ne);break e}Ge&&Ge(r,W,X),r==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&as(W,"number",W.value)}switch(Ge=X?Vr(X):window,r){case"focusin":(Jt(Ge)||Ge.contentEditable==="true")&&(Eo=Ge,Bd=X,Kl=null);break;case"focusout":Kl=Bd=Eo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,Z0(ce,o,ne);break;case"selectionchange":if($R)break;case"keydown":case"keyup":Z0(ce,o,ne)}var Ae;if(zr)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ze?ee(r,o)&&(Pe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(T&&o.locale!=="ko"&&(Ze||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ze&&(Ae=jl()):(Ur=ne,os="value"in Ur?Ur.value:Ur.textContent,Ze=!0)),Ge=kh(X,Pe),0<Ge.length&&(Pe=new zl(Pe,r,null,o,ne),ce.push({event:Pe,listeners:Ge}),Ae?Pe.data=Ae:(Ae=ge(o),Ae!==null&&(Pe.data=Ae)))),(Ae=E?Zt(r,o):Je(r,o))&&(Pe=kh(X,"onBeforeInput"),0<Pe.length&&(Ge=new zl("onBeforeInput","beforeinput",null,o,ne),ce.push({event:Ge,listeners:Pe}),Ge.data=Ae)),N2(ce,r,X,o,ne)}T_(ce,s)})}function bc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function kh(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=fa(r,o),d!=null&&c.unshift(bc(r,d,y)),d=fa(r,s),d!=null&&c.push(bc(r,d,y))),r.tag===3)return c;r=r.return}return[]}function qo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function x_(r,s,o,c,d){for(var y=s._reactName,w=[];o!==null&&o!==c;){var S=o,L=S.alternate,X=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||X===null||(L=X,d?(X=fa(o,y),X!=null&&w.unshift(bc(o,X,L))):d||(X=fa(o,y),X!=null&&w.push(bc(o,X,L)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var P2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function S_(r){return(typeof r=="string"?r:""+r).replace(P2,`
`).replace(O2,"")}function A_(r,s){return s=S_(s),S_(r)===s}function Lh(){}function pt(r,s,o,c,d,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||er(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&er(r,""+c);break;case"className":kr(r,"class",c);break;case"tabIndex":kr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(r,o,c);break;case"style":kl(r,c,y);break;case"data":if(s!=="object"){kr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=co(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&pt(r,s,"name",d.name,d,null),pt(r,s,"formEncType",d.formEncType,d,null),pt(r,s,"formMethod",d.formMethod,d,null),pt(r,s,"formTarget",d.formTarget,d,null)):(pt(r,s,"encType",d.encType,d,null),pt(r,s,"method",d.method,d,null),pt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=co(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Lh);break;case"onScroll":c!=null&&Ke("scroll",r);break;case"onScrollEnd":c!=null&&Ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=co(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ke("beforetoggle",r),Ke("toggle",r),ss(r,"popover",c);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ss(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Od.get(o)||o,ss(r,o,c))}}function up(r,s,o,c,d,y){switch(o){case"style":kl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?er(r,c):(typeof c=="number"||typeof c=="bigint")&&er(r,""+c);break;case"onScroll":c!=null&&Ke("scroll",r);break;case"onScrollEnd":c!=null&&Ke("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),y=r[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ss(r,o,c)}}}function yn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",r),Ke("load",r);var c=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,y,w,o,null)}}d&&pt(r,s,"srcSet",o.srcSet,o,null),c&&pt(r,s,"src",o.src,o,null);return;case"input":Ke("invalid",r);var S=y=w=d=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":d=ne;break;case"type":w=ne;break;case"checked":L=ne;break;case"defaultChecked":X=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:pt(r,s,c,ne,o,null)}}ca(r,y,S,L,X,w,d,!1),lo(r);return;case"select":Ke("invalid",r),c=w=y=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:pt(r,s,d,S,o,null)}s=y,o=w,r.multiple=!!c,s!=null?vi(r,!!c,s,!1):o!=null&&vi(r,!!c,o,!0);return;case"textarea":Ke("invalid",r),y=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":d=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:pt(r,s,w,S,o,null)}ua(r,c,d,y),lo(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(r,s,L,c,o,null)}return;case"dialog":Ke("beforetoggle",r),Ke("toggle",r),Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":Ke("load",r);break;case"video":case"audio":for(c=0;c<_c.length;c++)Ke(_c[c],r);break;case"image":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"embed":case"source":case"link":Ke("error",r),Ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,X,c,o,null)}return;default:if(Ll(s)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&up(r,s,ne,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&pt(r,s,S,c,o,null))}function M2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,S=null,L=null,X=null,ne=null;for(Z in o){var ce=o[Z];if(o.hasOwnProperty(Z)&&ce!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=ce;default:c.hasOwnProperty(Z)||pt(r,s,Z,null,c,ce)}}for(var W in c){var Z=c[W];if(ce=o[W],c.hasOwnProperty(W)&&(Z!=null||ce!=null))switch(W){case"type":y=Z;break;case"name":d=Z;break;case"checked":X=Z;break;case"defaultChecked":ne=Z;break;case"value":w=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ce&&pt(r,s,W,Z,c,ce)}}Gn(r,w,S,L,X,ne,y,d);return;case"select":Z=w=S=W=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Z=L;default:c.hasOwnProperty(y)||pt(r,s,y,null,c,L)}for(d in c)if(y=c[d],L=o[d],c.hasOwnProperty(d)&&(y!=null||L!=null))switch(d){case"value":W=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==L&&pt(r,s,d,y,c,L)}s=S,o=w,c=Z,W!=null?vi(r,!!o,W,!1):!!c!=!!o&&(s!=null?vi(r,!!o,s,!0):vi(r,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,s,S,null,c,d)}for(w in c)if(d=c[w],y=o[w],c.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":W=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==y&&pt(r,s,w,d,c,y)}dt(r,W,Z);return;case"option":for(var Me in o)if(W=o[Me],o.hasOwnProperty(Me)&&W!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:pt(r,s,Me,null,c,W)}for(L in c)if(W=c[L],Z=o[L],c.hasOwnProperty(L)&&W!==Z&&(W!=null||Z!=null))switch(L){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:pt(r,s,L,W,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)W=o[De],o.hasOwnProperty(De)&&W!=null&&!c.hasOwnProperty(De)&&pt(r,s,De,null,c,W);for(X in c)if(W=c[X],Z=o[X],c.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:pt(r,s,X,W,c,Z)}return;default:if(Ll(s)){for(var gt in o)W=o[gt],o.hasOwnProperty(gt)&&W!==void 0&&!c.hasOwnProperty(gt)&&up(r,s,gt,void 0,c,W);for(ne in c)W=c[ne],Z=o[ne],!c.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||up(r,s,ne,W,c,Z);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&pt(r,s,G,null,c,W);for(ce in c)W=c[ce],Z=o[ce],!c.hasOwnProperty(ce)||W===Z||W==null&&Z==null||pt(r,s,ce,W,c,Z)}var hp=null,fp=null;function Uh(r){return r.nodeType===9?r:r.ownerDocument}function R_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function dp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mp=null;function V2(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(r){return I_.resolve(null).then(r).catch(U2)}:C_;function U2(r){setTimeout(function(){throw r})}function ws(r){return r==="head"}function D_(r,s){var o=s,c=0,d=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Tc(w.documentElement),o&2&&Tc(w.body),o&4)for(o=w.head,Tc(o),w=o.firstChild;w;){var S=w.nextSibling,L=w.nodeName;w[sa]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(d===0){r.removeChild(y),Ic(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Ic(s)}function pp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pp(o),is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function j2(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[sa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function B2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ar(r.nextSibling),r===null))return null;return r}function gp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function F2(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var yp=null;function P_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function O_(r,s,o){switch(s=Uh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);is(r)}var ur=new Map,M_=new Set;function jh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=fe.d;fe.d={f:z2,r:q2,D:H2,C:G2,L:$2,m:K2,X:Q2,S:Y2,M:X2};function z2(){var r=Li.f(),s=Ih();return r||s}function q2(r){var s=Mr(r);s!==null&&s.tag===5&&s.type==="form"?eE(s):Li.r(r)}var Ho=typeof document>"u"?null:document;function V_(r,s,o){var c=Ho;if(c&&typeof s=="string"&&s){var d=Ht(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),M_.has(d)||(M_.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),yn(s,"link",r),kt(s),c.head.appendChild(s)))}}function H2(r){Li.D(r),V_("dns-prefetch",r,null)}function G2(r,s){Li.C(r,s),V_("preconnect",r,s)}function $2(r,s,o){Li.L(r,s,o);var c=Ho;if(c&&r&&s){var d='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ht(o.imageSizes)+'"]')):d+='[href="'+Ht(r)+'"]';var y=d;switch(s){case"style":y=Go(r);break;case"script":y=$o(r)}ur.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(y,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(wc(y))||s==="script"&&c.querySelector(xc(y))||(s=c.createElement("link"),yn(s,"link",r),kt(s),c.head.appendChild(s)))}}function K2(r,s){Li.m(r,s);var o=Ho;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(r)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(r)}if(!ur.has(y)&&(r=v({rel:"modulepreload",href:r},s),ur.set(y,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xc(y)))return}c=o.createElement("link"),yn(c,"link",r),kt(c),o.head.appendChild(c)}}}function Y2(r,s,o){Li.S(r,s,o);var c=Ho;if(c&&r){var d=In(c).hoistableStyles,y=Go(r);s=s||"default";var w=d.get(y);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(wc(y)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(y))&&vp(r,o);var L=w=c.createElement("link");kt(L),yn(L,"link",r),L._p=new Promise(function(X,ne){L.onload=X,L.onerror=ne}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(y,w)}}}function Q2(r,s){Li.X(r,s);var o=Ho;if(o&&r){var c=In(o).hoistableScripts,d=$o(r),y=c.get(d);y||(y=o.querySelector(xc(d)),y||(r=v({src:r,async:!0},s),(s=ur.get(d))&&Ep(r,s),y=o.createElement("script"),kt(y),yn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function X2(r,s){Li.M(r,s);var o=Ho;if(o&&r){var c=In(o).hoistableScripts,d=$o(r),y=c.get(d);y||(y=o.querySelector(xc(d)),y||(r=v({src:r,async:!0,type:"module"},s),(s=ur.get(d))&&Ep(r,s),y=o.createElement("script"),kt(y),yn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function k_(r,s,o,c){var d=(d=Se.current)?jh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Go(o.href),o=In(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Go(o.href);var y=In(d).hoistableStyles,w=y.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=d.querySelector(wc(r)))&&!y._p&&(w.instance=y,w.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),y||W2(d,r,o,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$o(o),o=In(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Go(r){return'href="'+Ht(r)+'"'}function wc(r){return'link[rel="stylesheet"]['+r+"]"}function L_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function W2(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),yn(s,"link",o),kt(s),r.head.appendChild(s))}function $o(r){return'[src="'+Ht(r)+'"]'}function xc(r){return"script[async]"+r}function U_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),yn(c,"style",d),Bh(c,o.precedence,r),s.instance=c;case"stylesheet":d=Go(o.href);var y=r.querySelector(wc(d));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;c=L_(o),(d=ur.get(d))&&vp(c,d),y=(r.ownerDocument||r).createElement("link"),kt(y);var w=y;return w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),yn(y,"link",c),s.state.loading|=4,Bh(y,o.precedence,r),s.instance=y;case"script":return y=$o(o.src),(d=r.querySelector(xc(y)))?(s.instance=d,kt(d),d):(c=o,(d=ur.get(y))&&(c=v({},o),Ep(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),kt(d),yn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Bh(c,o.precedence,r));return s.instance}function Bh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===s)y=S;else if(y!==d)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Fh=null;function j_(r,s,o){if(Fh===null){var c=new Map,d=Fh=new Map;d.set(o,c)}else d=Fh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var y=o[d];if(!(y[sa]||y[Wt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=r+w;var S=c.get(w);S?S.push(y):c.set(w,[y])}}return c}function B_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Z2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function F_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Sc=null;function J2(){}function eN(r,s,o){if(Sc===null)throw Error(i(475));var c=Sc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Go(o.href),y=r.querySelector(wc(d));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=zh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,kt(y);return}y=r.ownerDocument||r,o=L_(o),(d=ur.get(d))&&vp(o,d),y=y.createElement("link"),kt(y);var w=y;w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),yn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=zh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function tN(){if(Sc===null)throw Error(i(475));var r=Sc;return r.stylesheets&&r.count===0&&_p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&_p(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)_p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qh=null;function _p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qh=new Map,s.forEach(nN,r),qh=null,zh.call(r))}function nN(r,s){if(!(s.state.loading&4)){var o=qh.get(r);if(o)var c=o.get(null);else{o=new Map,qh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=s.instance,w=d.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,d),o.set(w,d),this.count++,c=zh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Ac={$$typeof:H,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function rN(r,s,o,c,d,y,w,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function z_(r,s,o,c,d,y,w,S,L,X,ne,ce){return r=new rN(r,s,o,w,S,L,X,ce),s=1,y===!0&&(s|=24),y=Kn(3,null,null,s),r.current=y,y.stateNode=r,s=tm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},sm(y),r}function q_(r){return r?(r=wo,r):wo}function H_(r,s,o,c,d,y){d=q_(d),c.context===null?c.context=d:c.pendingContext=d,c=us(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=hs(r,c,s),o!==null&&(Zn(o,r,s),nc(o,r,s))}function G_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function bp(r,s){G_(r,s),(r=r.alternate)&&G_(r,s)}function $_(r){if(r.tag===13){var s=To(r,67108864);s!==null&&Zn(s,r,67108864),bp(r,67108864)}}var Hh=!0;function iN(r,s,o,c){var d=J.T;J.T=null;var y=fe.p;try{fe.p=2,Tp(r,s,o,c)}finally{fe.p=y,J.T=d}}function sN(r,s,o,c){var d=J.T;J.T=null;var y=fe.p;try{fe.p=8,Tp(r,s,o,c)}finally{fe.p=y,J.T=d}}function Tp(r,s,o,c){if(Hh){var d=wp(c);if(d===null)cp(r,s,c,Gh,o),Y_(r,c);else if(oN(d,r,s,o,c))c.stopPropagation();else if(Y_(r,c),s&4&&-1<aN.indexOf(r)){for(;d!==null;){var y=Mr(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Ee(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var L=1<<31-Ne(w);S.entanglements[1]|=L,w&=~L}Yr(y),(ht&6)===0&&(Nh=Ln()+500,Ec(0))}}break;case 13:S=To(y,2),S!==null&&Zn(S,y,2),Ih(),bp(y,2)}if(y=wp(c),y===null&&cp(r,s,c,Gh,o),y===d)break;d=y}d!==null&&c.stopPropagation()}else cp(r,s,c,null,o)}}function wp(r){return r=tr(r),xp(r)}var Gh=null;function xp(r){if(Gh=null,r=pi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Gh=r,null}function K_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case ra:return 2;case di:return 8;case _r:case ns:return 32;case Or:return 268435456;default:return 32}default:return 32}}var Sp=!1,xs=null,Ss=null,As=null,Rc=new Map,Nc=new Map,Rs=[],aN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(r,s){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Rc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(s.pointerId)}}function Cc(r,s,o,c,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Mr(s),s!==null&&$_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function oN(r,s,o,c,d){switch(s){case"focusin":return xs=Cc(xs,r,s,o,c,d),!0;case"dragenter":return Ss=Cc(Ss,r,s,o,c,d),!0;case"mouseover":return As=Cc(As,r,s,o,c,d),!0;case"pointerover":var y=d.pointerId;return Rc.set(y,Cc(Rc.get(y)||null,r,s,o,c,d)),!0;case"gotpointercapture":return y=d.pointerId,Nc.set(y,Cc(Nc.get(y)||null,r,s,o,c,d)),!0}return!1}function Q_(r){var s=pi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Iu(r.priority,function(){if(o.tag===13){var c=Wn();c=Hn(c);var d=To(o,c);d!==null&&Zn(d,o,c),bp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $h(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=wp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Ei=c,o.target.dispatchEvent(c),Ei=null}else return s=Mr(o),s!==null&&$_(s),r.blockedOn=o,!1;s.shift()}return!0}function X_(r,s,o){$h(r)&&o.delete(s)}function lN(){Sp=!1,xs!==null&&$h(xs)&&(xs=null),Ss!==null&&$h(Ss)&&(Ss=null),As!==null&&$h(As)&&(As=null),Rc.forEach(X_),Nc.forEach(X_)}function Kh(r,s){r.blockedOn===s&&(r.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lN)))}var Yh=null;function W_(r){Yh!==r&&(Yh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(xp(c||o)===null)continue;break}var y=Mr(o);y!==null&&(r.splice(s,3),s-=3,xm(y,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Ic(r){function s(L){return Kh(L,r)}xs!==null&&Kh(xs,r),Ss!==null&&Kh(Ss,r),As!==null&&Kh(As,r),Rc.forEach(s),Nc.forEach(s);for(var o=0;o<Rs.length;o++){var c=Rs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)Q_(o),o.blockedOn===null&&Rs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],y=o[c+1],w=d[qt]||null;if(typeof y=="function")w||W_(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[qt]||null)S=w.formAction;else if(xp(d)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),W_(o)}}}function Ap(r){this._internalRoot=r}Qh.prototype.render=Ap.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Wn();H_(o,c,r,s,null,null)},Qh.prototype.unmount=Ap.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;H_(r.current,2,null,r,null,null),Ih(),s[Jn]=null}};function Qh(r){this._internalRoot=r}Qh.prototype.unstable_scheduleHydration=function(r){if(r){var s=br();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Rs.length&&s!==0&&s<Rs[o].priority;o++);Rs.splice(o,0,r),o===0&&Q_(r)}};var Z_=e.version;if(Z_!=="19.1.1")throw Error(i(527,Z_,"19.1.1"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var cN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{$=Xh.inject(cN),re=Xh}catch{}}return Dc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=mE,y=pE,w=gE,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=z_(r,1,!1,null,null,o,c,d,y,w,S,null),r[Jn]=s.current,lp(r),new Ap(s)},Dc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",y=mE,w=pE,S=gE,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=z_(r,1,!0,s,o??null,c,d,y,w,S,L,X),s.context=q_(null),o=s.current,c=Wn(),c=Hn(c),d=us(c),d.callback=null,hs(o,d,c),o=c,s.current.lanes=o,at(s,o),Yr(s),r[Jn]=s.current,lp(r),new Qh(s)},Dc.version="19.1.1",Dc}var ab;function vN(){if(ab)return Np.exports;ab=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=yN(),Np.exports}var EN=vN();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ob="popstate";function _N(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=Qa(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fg("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Xc(l))}function i(a,l){Dr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return TN(e,n,i,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function lb(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qa(e):e,state:n,key:e&&e.key||i||bN()}}function Xc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function TN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let I=v(),j=I==null?null:I-p;p=I,m&&m({action:f,location:P.location,delta:j})}function b(I,j){f="PUSH";let F=fg(P.location,I,j);n&&n(F,I),p=v()+1;let H=lb(F,p),le=P.createHref(F);try{u.pushState(H,"",le)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(le)}l&&m&&m({action:f,location:P.location,delta:1})}function R(I,j){f="REPLACE";let F=fg(P.location,I,j);n&&n(F,I),p=v();let H=lb(F,p),le=P.createHref(F);u.replaceState(H,"",le),l&&m&&m({action:f,location:P.location,delta:0})}function C(I){return wN(I)}let P={get action(){return f},get location(){return t(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ob,_),m=I,()=>{a.removeEventListener(ob,_),m=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let j=C(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:R,go(I){return u.go(I)}};return P}function wN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Xc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function h1(t,e,n="/"){return xN(t,e,n,!1)}function xN(t,e,n,i){let a=typeof e=="string"?Qa(e):e,l=Hi(a.pathname||"/",n);if(l==null)return null;let u=f1(t);SN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kN(l);f=MN(u[m],p,i)}return f}function f1(t,e=[],n=[],i="",a=!1){let l=(u,f,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Fi([i,v.relativePath]),b=n.concat(v);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),f1(u.children,e,b,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:PN(_,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of d1(u.path))l(u,f,!0,m)}),e}function d1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=d1(i.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function SN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ON(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var AN=/^:[\w-]+$/,RN=3,NN=2,CN=1,IN=10,DN=-2,cb=t=>t==="*";function PN(t,e){let n=t.split("/"),i=n.length;return n.some(cb)&&(i+=DN),e&&(i+=NN),n.filter(a=>!cb(a)).reduce((a,l)=>a+(AN.test(l)?RN:l===""?CN:IN),i)}function ON(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function MN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Fi([l,_.pathname]),pathnameBase:BN(Fi([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Fi([l,_.pathnameBase]))}return u}function Af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=VN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},b)=>{if(v==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[b];return _&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function VN(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function kN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function LN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Qa(t):t;return{pathname:n?n.startsWith("/")?n:UN(n,e):e,search:FN(i),hash:zN(a)}}function UN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m1(t){let e=jN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function p1(t,e,n,i=!1){let a;typeof t=="string"?a=Qa(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=LN(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),BN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var g1=["POST","PUT","PATCH","DELETE"];new Set(g1);var HN=["GET",...g1];new Set(HN);var _l=D.createContext(null);_l.displayName="DataRouter";var nd=D.createContext(null);nd.displayName="DataRouterState";D.createContext(!1);var y1=D.createContext({isTransitioning:!1});y1.displayName="ViewTransition";var GN=D.createContext(new Map);GN.displayName="Fetchers";var $N=D.createContext(null);$N.displayName="Await";var li=D.createContext(null);li.displayName="Navigation";var fu=D.createContext(null);fu.displayName="Location";var ci=D.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var oy=D.createContext(null);oy.displayName="RouteError";function KN(t,{relative:e}={}){Ct(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(li),{hash:a,pathname:l,search:u}=mu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Fi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function du(){return D.useContext(fu)!=null}function Js(){return Ct(du(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(fu).location}var v1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E1(t){D.useContext(li).static||D.useLayoutEffect(t)}function _1(){let{isDataRoute:t}=D.useContext(ci);return t?oC():YN()}function YN(){Ct(du(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(_l),{basename:e,navigator:n}=D.useContext(li),{matches:i}=D.useContext(ci),{pathname:a}=Js(),l=JSON.stringify(m1(i)),u=D.useRef(!1);return E1(()=>{u.current=!0}),D.useCallback((m,p={})=>{if(Dr(u.current,v1),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=p1(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}D.createContext(null);function QN(){let{matches:t}=D.useContext(ci),e=t[t.length-1];return e?e.params:{}}function mu(t,{relative:e}={}){let{matches:n}=D.useContext(ci),{pathname:i}=Js(),a=JSON.stringify(m1(n));return D.useMemo(()=>p1(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function XN(t,e){return b1(t,e)}function b1(t,e,n,i,a){Ct(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(li),{matches:u}=D.useContext(ci),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let F=_&&_.path||"";T1(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Js(),R;if(e){let F=typeof e=="string"?Qa(e):e;Ct(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),R=F}else R=b;let C=R.pathname||"/",P=C;if(v!=="/"){let F=v.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let I=h1(t,{pathname:P});Dr(_||I!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Dr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=tC(I&&I.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Fi([v,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Fi([v,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,i,a);return e&&j?D.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function WN(){let t=aC(),e=qN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,u)}var ZN=D.createElement(WN,null),JN=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(ci.Provider,{value:this.props.routeContext},D.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:t,match:e,children:n}){let i=D.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ci.Provider,{value:t},n)}function tC(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=p),v.route.id){let{loaderData:_,errors:b}=n,R=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||R){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let b,R=!1,C=null,P=null;n&&(b=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||ZN,f&&(m<0&&_===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):m===_&&(R=!0,P=v.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,_+1)),j=()=>{let F;return b?F=C:R?F=P:v.route.Component?F=D.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=p,D.createElement(eC,{match:v,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?D.createElement(JN,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:i}):j()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nC(t){let e=D.useContext(_l);return Ct(e,ly(t)),e}function rC(t){let e=D.useContext(nd);return Ct(e,ly(t)),e}function iC(t){let e=D.useContext(ci);return Ct(e,ly(t)),e}function cy(t){let e=iC(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sC(){return cy("useRouteId")}function aC(){let t=D.useContext(oy),e=rC("useRouteError"),n=cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function oC(){let{router:t}=nC("useNavigate"),e=cy("useNavigate"),n=D.useRef(!1);return E1(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{Dr(n.current,v1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var ub={};function T1(t,e,n){!e&&!ub[t]&&(ub[t]=!0,Dr(!1,n))}D.memo(lC);function lC({routes:t,future:e,state:n,unstable_onError:i}){return b1(t,void 0,n,i,e)}function Ui(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Ct(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Qa(n));let{pathname:m="/",search:p="",hash:v="",state:_=null,key:b="default"}=n,R=D.useMemo(()=>{let C=Hi(m,u);return C==null?null:{location:{pathname:C,search:p,hash:v,state:_,key:b},navigationType:i}},[u,m,p,v,_,b,i]);return Dr(R!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:D.createElement(li.Provider,{value:f},D.createElement(fu.Provider,{children:e,value:R}))}function uC({children:t,location:e}){return XN(dg(t),e)}function dg(t,e=[]){let n=[];return D.Children.forEach(t,(i,a)=>{if(!D.isValidElement(i))return;let l=[...e,a];if(i.type===D.Fragment){n.push.apply(n,dg(i.props.children,l));return}Ct(i.type===Ui,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dg(i.props.children,l)),n.push(u)}),n}var uf="get",hf="application/x-www-form-urlencoded";function rd(t){return t!=null&&typeof t.tagName=="string"}function hC(t){return rd(t)&&t.tagName.toLowerCase()==="button"}function fC(t){return rd(t)&&t.tagName.toLowerCase()==="form"}function dC(t){return rd(t)&&t.tagName.toLowerCase()==="input"}function mC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pC(t,e){return t.button===0&&(!e||e==="_self")&&!mC(t)}var Wh=null;function gC(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var yC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Op(t){return t!=null&&!yC.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function vC(t,e){let n,i,a,l,u;if(fC(t)){let f=t.getAttribute("action");i=f?Hi(f,e):null,n=t.getAttribute("method")||uf,a=Op(t.getAttribute("enctype"))||hf,l=new FormData(t)}else if(hC(t)||dC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(i=m?Hi(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||uf,a=Op(t.getAttribute("formenctype"))||Op(f.getAttribute("enctype"))||hf,l=new FormData(f,t),!gC()){let{name:p,type:v,value:_}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uf,i=null,a=hf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Hi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function _C(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TC(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await _C(l,n);return u.links?u.links():[]}return[]}));return AC(i.flat(1).filter(bC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hb(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function wC(t,e,{includeHydrateFallback:n}={}){return xC(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function xC(t){return[...new Set(t)]}function SC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function AC(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(SC(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function w1(){let t=D.useContext(_l);return uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RC(){let t=D.useContext(nd);return uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hy=D.createContext(void 0);hy.displayName="FrameworkContext";function x1(){let t=D.useContext(hy);return uy(t,"You must render this element inside a <HydratedRouter> element"),t}function NC(t,e){let n=D.useContext(hy),[i,a]=D.useState(!1),[l,u]=D.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,b=D.useRef(null);D.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=j=>{j.forEach(F=>{u(F.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[t]),D.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let R=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Pc(f,R),onBlur:Pc(m,C),onMouseEnter:Pc(p,R),onMouseLeave:Pc(v,C),onTouchStart:Pc(_,R)}]:[!1,b,{}]}function Pc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CC({page:t,...e}){let{router:n}=w1(),i=D.useMemo(()=>h1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?D.createElement(DC,{page:t,matches:i,...e}):null}function IC(t){let{manifest:e,routeModules:n}=x1(),[i,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return TC(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function DC({page:t,matches:e,...n}){let i=Js(),{manifest:a,routeModules:l}=x1(),{basename:u}=w1(),{loaderData:f,matches:m}=RC(),p=D.useMemo(()=>hb(t,e,m,a,i,"data"),[t,e,m,a,i]),v=D.useMemo(()=>hb(t,e,m,a,i,"assets"),[t,e,m,a,i]),_=D.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,P=!1;if(e.forEach(j=>{let F=a.routes[j.route.id];!F||!F.hasLoader||(!p.some(H=>H.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||F.hasClientLoader?P=!0:C.add(j.route.id))}),C.size===0)return[];let I=EC(t,u,"data");return P&&C.size>0&&I.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[I.pathname+I.search]},[u,f,i,a,p,e,t,l]),b=D.useMemo(()=>wC(v,a),[v,a]),R=IC(v);return D.createElement(D.Fragment,null,_.map(C=>D.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>D.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),R.map(({key:C,link:P})=>D.createElement("link",{key:C,nonce:n.nonce,...P})))}function PC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S1&&(window.__reactRouterVersion="7.9.1")}catch{}function OC({basename:t,children:e,window:n}){let i=D.useRef();i.current==null&&(i.current=_N({window:n,v5Compat:!0}));let a=i.current,[l,u]=D.useState({action:a.action,location:a.location}),f=D.useCallback(m=>{D.startTransition(()=>u(m))},[u]);return D.useLayoutEffect(()=>a.listen(f),[a,f]),D.createElement(cC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,...b},R){let{basename:C}=D.useContext(li),P=typeof p=="string"&&A1.test(p),I,j=!1;if(typeof p=="string"&&P&&(I=p,S1))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),U=Hi(M.pathname,C);M.origin===N.origin&&U!=null?p=U+M.search+M.hash:j=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=KN(p,{relative:a}),[H,le,B]=NC(i,b),K=kC(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_});function O(N){e&&e(N),N.defaultPrevented||K(N)}let x=D.createElement("a",{...b,...B,href:I||F,onClick:j||l?e:O,ref:PC(R,le),target:m,"data-discover":!P&&n==="render"?"true":void 0});return H&&!P?D.createElement(D.Fragment,null,x,D.createElement(CC,{page:F})):x});vr.displayName="Link";var Ds=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let _=mu(u,{relative:p.relative}),b=Js(),R=D.useContext(nd),{navigator:C,basename:P}=D.useContext(li),I=R!=null&&FC(_)&&f===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,F=b.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(F=F.toLowerCase(),H=H?H.toLowerCase():null,j=j.toLowerCase()),H&&P&&(H=Hi(H,P)||H);const le=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let B=F===j||!a&&F.startsWith(j)&&F.charAt(le)==="/",K=H!=null&&(H===j||!a&&H.startsWith(j)&&H.charAt(j.length)==="/"),O={isActive:B,isPending:K,isTransitioning:I},x=B?e:void 0,N;typeof i=="function"?N=i(O):N=[i,B?"active":null,K?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(O):l;return D.createElement(vr,{...p,"aria-current":x,className:N,ref:v,style:M,to:u,viewTransition:f},typeof m=="function"?m(O):m)});Ds.displayName="NavLink";var MC=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=uf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...b},R)=>{let C=jC(),P=BC(f,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&A1.test(f),F=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let le=H.nativeEvent.submitter,B=le?.getAttribute("formmethod")||u;C(le||H.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return D.createElement("form",{ref:R,method:I,action:P,onSubmit:i?m:F,...b,"data-discover":!j&&t==="render"?"true":void 0})});MC.displayName="Form";function VC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(t){let e=D.useContext(_l);return Ct(e,VC(t)),e}function kC(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=_1(),m=Js(),p=mu(t,{relative:l});return D.useCallback(v=>{if(pC(v,e)){v.preventDefault();let _=n!==void 0?n:Xc(m)===Xc(p);f(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,p,n,i,e,t,a,l,u])}var LC=0,UC=()=>`__${String(++LC)}__`;function jC(){let{router:t}=R1("useSubmit"),{basename:e}=D.useContext(li),n=sC();return D.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=vC(i,e);if(a.navigate===!1){let v=a.fetcherKey||UC();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function BC(t,{relative:e}={}){let{basename:n}=D.useContext(li),i=D.useContext(ci);Ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...mu(t||".",{relative:e})},u=Js();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fi([n,l.pathname])),Xc(l)}function FC(t,{relative:e}={}){let n=D.useContext(y1);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R1("useViewTransitionState"),a=mu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Hi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Hi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Af(a.pathname,u)!=null||Af(a.pathname,l)!=null}const zC=()=>{};var fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},qC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,R=p&63;m||(R=64,u||(b=64)),i.push(n[v],n[_],n[b],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new HC;const b=l<<2|f>>4;if(i.push(b),p!==64){const R=f<<4&240|p>>2;if(i.push(R),_!==64){const C=p<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GC=function(t){const e=N1(t);return C1.encodeByteArray(e,!0)},Rf=function(t){return GC(t).replace(/\./g,"")},I1=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>$C().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof fb>"u")return;const t=fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I1(t[1]);return e&&JSON.parse(e)},id=()=>{try{return zC()||KC()||YC()||QC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},D1=t=>id()?.emulatorHosts?.[t],P1=t=>{const e=D1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},O1=()=>id()?.config,M1=t=>id()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rf(JSON.stringify(n)),Rf(JSON.stringify(u)),""].join(".")}const Bc={};function WC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function ZC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let db=!1;function dy(t,e){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||Bc[t]===e||Bc[t]||db)return;Bc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=WC().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{db=!0,u()},b}function v(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=ZC(i),R=n("text"),C=document.getElementById(R)||document.createElement("span"),P=n("learnmore"),I=document.getElementById(P)||document.createElement("a"),j=n("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;f(H),v(I,P);const le=p();m(F,j),H.append(F,C,I,le),document.body.appendChild(H)}l?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function eI(){const t=id()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iI(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sI(){return!eI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="FirebaseError";class ui extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=lI,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?cI(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new ui(a,f,i)}}function cI(t,e){return t.replace(uI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const uI=/\{\$([^}]+)}/g;function hI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(mb(l)&&mb(u)){if(!qa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function mb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fI(t,e){const n=new dI(t,e);return n.subscribe.bind(n)}class dI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");mI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new XC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yI(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gI(t){return t===Va?void 0:t}function yI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const EI={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},_I=Ye.INFO,bI={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},TI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=bI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=_I,this._logHandler=TI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const wI=(t,e)=>e.some(n=>t instanceof n);let pb,gb;function xI(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SI(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,mg=new WeakMap,L1=new WeakMap,Vp=new WeakMap,py=new WeakMap;function AI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ls(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),py.set(e,t),e}function RI(t){if(mg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});mg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NI(t){pg=t(pg)}function CI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kp(this),e,...n);return L1.set(i,e.sort?e.sort():[e]),Ls(i)}:SI().includes(t)?function(...e){return t.apply(kp(this),e),Ls(k1.get(this))}:function(...e){return Ls(t.apply(kp(this),e))}}function II(t){return typeof t=="function"?CI(t):(t instanceof IDBTransaction&&RI(t),wI(t,xI())?new Proxy(t,pg):t)}function Ls(t){if(t instanceof IDBRequest)return AI(t);if(Vp.has(t))return Vp.get(t);const e=II(t);return e!==t&&(Vp.set(t,e),py.set(e,t)),e}const kp=t=>py.get(t);function DI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Ls(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Ls(u.result),m.oldVersion,m.newVersion,Ls(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const PI=["get","getKey","getAll","getAllKeys","count"],OI=["put","add","delete","clear"],Lp=new Map;function yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=OI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||PI.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Lp.set(e,l),l}NI(t=>({...t,get:(e,n,i)=>yb(e,n)||t.get(e,n,i),has:(e,n)=>!!yb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function VI(t){return t.getComponent()?.type==="VERSION"}const gg="@firebase/app",vb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new my("@firebase/app"),kI="@firebase/app-compat",LI="@firebase/analytics-compat",UI="@firebase/analytics",jI="@firebase/app-check-compat",BI="@firebase/app-check",FI="@firebase/auth",zI="@firebase/auth-compat",qI="@firebase/database",HI="@firebase/data-connect",GI="@firebase/database-compat",$I="@firebase/functions",KI="@firebase/functions-compat",YI="@firebase/installations",QI="@firebase/installations-compat",XI="@firebase/messaging",WI="@firebase/messaging-compat",ZI="@firebase/performance",JI="@firebase/performance-compat",eD="@firebase/remote-config",tD="@firebase/remote-config-compat",nD="@firebase/storage",rD="@firebase/storage-compat",iD="@firebase/firestore",sD="@firebase/ai",aD="@firebase/firestore-compat",oD="firebase",lD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",cD={[gg]:"fire-core",[kI]:"fire-core-compat",[UI]:"fire-analytics",[LI]:"fire-analytics-compat",[BI]:"fire-app-check",[jI]:"fire-app-check-compat",[FI]:"fire-auth",[zI]:"fire-auth-compat",[qI]:"fire-rtdb",[HI]:"fire-data-connect",[GI]:"fire-rtdb-compat",[$I]:"fire-fn",[KI]:"fire-fn-compat",[YI]:"fire-iid",[QI]:"fire-iid-compat",[XI]:"fire-fcm",[WI]:"fire-fcm-compat",[ZI]:"fire-perf",[JI]:"fire-perf-compat",[eD]:"fire-rc",[tD]:"fire-rc-compat",[nD]:"fire-gcs",[rD]:"fire-gcs-compat",[iD]:"fire-fst",[aD]:"fire-fst-compat",[sD]:"fire-vertex","fire-js":"fire-js",[oD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,uD=new Map,vg=new Map;function Eb(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(vg.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of Nf.values())Eb(n,t);for(const n of uD.values())Eb(n,t);return!0}function sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new pu("app","Firebase",hD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=lD;function U1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:yg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Us.create("bad-app-name",{appName:String(a)});if(n||(n=O1()),!n)throw Us.create("no-options");const l=Nf.get(a);if(l){if(qa(n,l.options)&&qa(i,l.config))return l;throw Us.create("duplicate-app",{appName:a})}const u=new vI(a);for(const m of vg.values())u.addComponent(m);const f=new fD(n,i,u);return Nf.set(a,f),f}function gy(t=yg){const e=Nf.get(t);if(!e&&t===yg&&O1())return U1();if(!e)throw Us.create("no-app",{appName:t});return e}function Xr(t,e,n){let i=cD[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(u.join(" "));return}Ha(new zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",mD=1,Wc="firebase-heartbeat-store";let Up=null;function j1(){return Up||(Up=DI(dD,mD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),Up}async function pD(t){try{const n=(await j1()).transaction(Wc),i=await n.objectStore(Wc).get(B1(t));return await n.done,i}catch(e){if(e instanceof ui)Gi.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(n.message)}}}async function _b(t,e){try{const i=(await j1()).transaction(Wc,"readwrite");await i.objectStore(Wc).put(e,B1(t)),await i.done}catch(n){if(n instanceof ui)Gi.warn(n.message);else{const i=Us.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(i.message)}}}function B1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1024,yD=30;class vD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _D(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>yD){const a=bD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bb(),{heartbeatsToSend:n,unsentEntries:i}=ED(this._heartbeatsCache.heartbeats),a=Rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gi.warn(e),""}}}function bb(){return new Date().toISOString().substring(0,10)}function ED(t,e=gD){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Tb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Tb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _D{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tb(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}function bD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){Ha(new zs("platform-logger",e=>new MI(e),"PRIVATE")),Ha(new zs("heartbeat",e=>new vD(e),"PRIVATE")),Xr(gg,vb,t),Xr(gg,vb,"esm2020"),Xr("fire-js","")}TD("");function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=F1,z1=new pu("auth","Firebase",F1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new my("@firebase/auth");function xD(t,...e){Cf.logLevel<=Ye.WARN&&Cf.warn(`Auth (${Wa}): ${t}`,...e)}function ff(t,...e){Cf.logLevel<=Ye.ERROR&&Cf.error(`Auth (${Wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw yy(t,...e)}function Wr(t,...e){return yy(t,...e)}function q1(t,e,n){const i={...wD(),[e]:n};return new pu("auth","Firebase",i).create(e,{appName:t.name})}function js(t){return q1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return z1.create(t,...e)}function ke(t,e,...n){if(!t)throw yy(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Ki(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return typeof self<"u"&&self.location?.href||""}function SD(){return wb()==="http:"||wb()==="https:"}function wb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||nI()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=JC()||rI()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ID=new yu(3e4,6e4);function vu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Za(t,e,n,i,a={}){return G1(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=gu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return tI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(p.credentials="include"),H1.fetch()(await K1(t,t.config.apiHost,n,f),p)})}async function G1(t,e,n){t._canInitEmulator=!1;const i={...ND,...e};try{const a=new PD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Zh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Zh(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw q1(t,v,p);$i(t,v)}}catch(a){if(a instanceof ui)throw a;$i(t,"network-request-failed",{message:String(a)})}}async function $1(t,e,n,i,a={}){const l=await Za(t,e,n,i,a);return"mfaPendingCredential"in l&&$i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function K1(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?vy(t.config,a):`${t.config.apiScheme}://${a}`;return CD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function DD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),ID.get())})}}function Zh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Wr(t,e,i);return a.customData._tokenResponse=n,a}function xb(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MD(t,e){return Za(t,"GET","/v2/recaptchaConfig",vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function If(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kD(t,e=!1){const n=kn(t),i=await n.getIdToken(e),a=Ey(i);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Fc(jp(a.auth_time)),issuedAtTime:Fc(jp(a.iat)),expirationTime:Fc(jp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function jp(t){return Number(t)*1e3}function Ey(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=I1(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Sb(t){const e=Ey(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ui&&LD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){const e=t.auth,n=await t.getIdToken(),i=await Zc(t,If(e,{idToken:n}));ke(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Y1(a.providerUserInfo):[],u=BD(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function jD(t){const e=kn(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Y1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){const n=await G1(t,{},async()=>{const i=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await K1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(m.credentials="include"),H1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zD(t,e){return Za(t,"POST","/v2/accounts:revokeToken",vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=Sb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await FD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new rl;return i&&(ke(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(ke(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ke(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new UD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _g(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kD(this,e)}reload(){return jD(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Zc(this,VD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:C,stsTokenManager:P}=n;ke(_&&P,e,"internal-error");const I=rl.fromJSON(this.name,P);ke(typeof _=="string",e,"internal-error"),Cs(i,e.name),Cs(a,e.name),ke(typeof b=="boolean",e,"internal-error"),ke(typeof R=="boolean",e,"internal-error"),Cs(l,e.name),Cs(u,e.name),Cs(f,e.name),Cs(m,e.name),Cs(p,e.name),Cs(v,e.name);const j=new Nr({uid:_,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:p,lastLoginAt:v});return C&&Array.isArray(C)&&(j.providerData=C.map(F=>({...F}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,n,i=!1){const a=new rl;a.updateFromServerResponse(n);const l=new Nr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Df(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Y1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new rl;f.updateFromIdToken(i);const m=new Nr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function Bi(t){Ki(t instanceof Function,"Expected a class definition");let e=Ab.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ab.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q1.type="NONE";const Rb=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await If(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new il(Bi(Rb),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Bi(Rb);const u=df(i,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const b=await If(e,{idToken:v}).catch(()=>{});if(!b)break;_=await Nr._fromGetAccountInfoResponse(e,b,v)}else _=Nr._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new il(l,e,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new il(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tx(e))return"Blackberry";if(nx(e))return"Webos";if(W1(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(ex(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function X1(t=Cn()){return/firefox\//i.test(t)}function W1(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=Cn()){return/crios\//i.test(t)}function J1(t=Cn()){return/iemobile/i.test(t)}function ex(t=Cn()){return/android/i.test(t)}function tx(t=Cn()){return/blackberry/i.test(t)}function nx(t=Cn()){return/webos/i.test(t)}function _y(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qD(t=Cn()){return _y(t)&&!!window.navigator?.standalone}function HD(){return iI()&&document.documentMode===10}function rx(t=Cn()){return _y(t)||ex(t)||nx(t)||tx(t)||/windows phone/i.test(t)||J1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e=[]){let n;switch(t){case"Browser":n=Nb(Cn());break;case"Worker":n=`${Nb(Cn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return Za(t,"GET","/v2/passwordPolicy",vu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=6;class YD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new GD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await If(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(js(this));const n=e?kn(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),n=new YD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bl(t){return kn(t)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=fI(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XD(t){ad=t}function sx(t){return ad.loadJS(t)}function WD(){return ad.recaptchaEnterpriseScript}function ZD(){return ad.gapiScript}function JD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eP{constructor(){this.enterprise=new tP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nP="recaptcha-enterprise",ax="NO_RECAPTCHA";class rP{constructor(e){this.type=nP,this.auth=bl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{MD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new OD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;xb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(ax)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&xb(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=WD();m.length!==0&&(m+=f),sx(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function Ib(t,e,n,i=!1,a=!1){const l=new rP(t);let u;if(a)u=ax;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function iP(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ib(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ib(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){const n=sd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(qa(l,e??{}))return a;$i(a,"already-initialized")}return n.initialize({options:e})}function aP(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function oP(t,e,n){const i=bl(t);ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=ox(e),{host:u,port:f}=lP(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ke(qa(p,i.config.emulator)&&qa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Xa(u)?(fy(`${l}//${u}${m}`),dy("Auth",!0)):cP()}function ox(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lP(t){const e=ox(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Db(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Db(u)}}}function Db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e){return $1(t,"POST","/v1/accounts:signInWithIdp",vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="http://localhost";class Ga extends lx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ga(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,sl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:uP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Eu{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Os.credential(n,i)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Eu{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Vs.credential(n,i)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){return $1(t,"POST","/v1/accounts:signUp",vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Nr._fromIdTokenResponse(e,i,a),u=Pb(i);return new $a({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Pb(i);return new $a({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends ui{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Pf(e,n,i,a)}}function ux(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(t,l,e,i):l})}async function fP(t,e,n=!1){const i=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $a._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e,n=!1){const{auth:i}=t;if(dr(i.app))return Promise.reject(js(i));const a="reauthenticate";try{const l=await Zc(t,ux(i,a,e,t),n);ke(l.idToken,i,"internal-error");const u=Ey(l.idToken);ke(u,i,"internal-error");const{sub:f}=u;return ke(t.uid===f,i,"user-mismatch"),$a._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&$i(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e,n=!1){if(dr(t.app))return Promise.reject(js(t));const i="signIn",a=await ux(t,i,e),l=await $a._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t){const e=bl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gP(t,e,n){if(dr(t.app))return Promise.reject(js(t));const i=bl(t),u=await iP(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&pP(t),m}),f=await $a._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function yP(t,e,n,i){return kn(t).onIdTokenChanged(e,n,i)}function vP(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}function hx(t,e,n,i){return kn(t).onAuthStateChanged(e,n,i)}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=1e3,_P=10;class dx extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);HD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_P):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},EP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dx.type="LOCAL";const bP=dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mx.type="SESSION";const px=mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await TP(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=by("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function xP(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function SP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AP(){return navigator?.serviceWorker?.controller||null}function RP(){return gx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebaseLocalStorageDb",NP=1,Mf="firebaseLocalStorage",vx="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function CP(){const t=indexedDB.deleteDatabase(yx);return new _u(t).toPromise()}function bg(){const t=indexedDB.open(yx,NP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mf,{keyPath:vx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mf)?e(i):(i.close(),await CP(),e(await bg()))})})}async function Ob(t,e,n){const i=ld(t,!0).put({[vx]:e,value:n});return new _u(i).toPromise()}async function IP(t,e){const n=ld(t,!1).get(e),i=await new _u(n).toPromise();return i===void 0?null:i.value}function Mb(t,e){const n=ld(t,!0).delete(e);return new _u(n).toPromise()}const DP=800,PP=3;class Ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>PP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(RP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SP(),!this.activeServiceWorker)return;this.sender=new wP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await Ob(e,Of,"1"),await Mb(e,Of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ob(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>IP(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new _u(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ex.type="LOCAL";const OP=Ex;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){return e?Bi(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends lx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VP(t){return mP(t.auth,new Ty(t),t.bypassAuthState)}function kP(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),dP(n,new Ty(t),t.bypassAuthState)}async function LP(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),fP(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VP;case"linkViaPopup":case"linkViaRedirect":return LP;case"reauthViaPopup":case"reauthViaRedirect":return kP;default:$i(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new yu(2e3,1e4);class Wo extends _x{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="pendingRedirect",mf=new Map;class BP extends _x{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const i=await FP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FP(t,e){const n=HP(e),i=qP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function zP(t,e){mf.set(t._key(),e)}function qP(t){return Bi(t._redirectPersistence)}function HP(t){return df(jP,t.config.apiKey,t.name)}async function GP(t,e,n=!1){if(dr(t.app))return Promise.reject(js(t));const i=bl(t),a=MP(i,e),u=await new BP(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=600*1e3;class KP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$P&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WP=/^https?/;async function ZP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QP(t);for(const n of e)try{if(JP(n))return}catch{}$i(t,"unauthorized-domain")}function JP(t){const e=Eg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!WP.test(n))return!1;if(XP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new yu(3e4,6e4);function kb(){const t=Zr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tO(t){return new Promise((e,n)=>{function i(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),n(Wr(t,"network-request-failed"))},timeout:eO.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)i();else{const a=JD("iframefcb");return Zr()[a]=()=>{gapi.load?i():n(Wr(t,"network-request-failed"))},sx(`${ZD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pf=null,e})}let pf=null;function nO(t){return pf=pf||tO(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new yu(5e3,15e3),iO="__/auth/iframe",sO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lO(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,sO):`https://${t.config.authDomain}/${iO}`,i={apiKey:e.apiKey,appName:t.name,v:Wa},a=oO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${gu(i).slice(1)}`}async function cO(t){const e=await nO(t),n=Zr().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:lO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Wr(t,"network-request-failed"),f=Zr().setTimeout(()=>{l(u)},rO.get());function m(){Zr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hO=500,fO=600,dO="_blank",mO="http://localhost";class Lb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(t,e,n,i=hO,a=fO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...uO,width:i.toString(),height:a.toString(),top:l,left:u},p=Cn().toLowerCase();n&&(f=Z1(p)?dO:n),X1(p)&&(e=e||mO,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[R,C])=>`${b}${R}=${C},`,"");if(qD(p)&&f!=="_self")return gO(e||"",f),new Lb(null);const _=window.open(e||"",f,v);ke(_,t,"popup-blocked");try{_.focus()}catch{}return new Lb(_)}function gO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="__/auth/handler",vO="emulator/auth/handler",EO=encodeURIComponent("fac");async function Ub(t,e,n,i,a,l){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Wa,eventId:a};if(e instanceof cx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",hI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Eu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${EO}=${encodeURIComponent(m)}`:"";return`${_O(t)}?${gu(f).slice(1)}${p}`}function _O({config:t}){return t.emulator?vy(t,vO):`https://${t.authDomain}/${yO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class bO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=px,this._completeRedirectFn=GP,this._overrideRedirectResult=zP}async _openPopup(e,n,i,a){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ub(e,n,i,Eg(),a);return pO(e,l,by())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Ub(e,n,i,Eg(),a);return xP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await cO(e),i=new KP(e);return n.register("authEvent",a=>(ke(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},a=>{const l=a?.[0]?.[Bp];l!==void 0&&n(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rx()||W1()||_y()}}const TO=bO;var jb="@firebase/auth",Bb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SO(t){Ha(new zs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;ke(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ix(t)},p=new QD(i,a,l,m);return aP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ha(new zs("auth-internal",e=>{const n=bl(e.getProvider("auth").getImmediate());return(i=>new wO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(jb,Bb,xO(t)),Xr(jb,Bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=300,RO=M1("authIdTokenMaxAge")||AO;let Fb=null;const NO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>RO)return;const a=n?.token;Fb!==a&&(Fb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function CO(t=gy()){const e=sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sP(t,{popupRedirectResolver:TO,persistence:[OP,bP,px]}),i=M1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=NO(l.toString());vP(n,u,()=>u(n.currentUser)),yP(n,f=>u(f))}}const a=D1("auth");return a&&oP(n,`http://${a}`),n}function IO(){return document.getElementsByTagName("head")?.[0]??document}XD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Wr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",IO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SO("Browser");var DO="firebase",PO="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(DO,PO,"app");var zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,Tx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function N(){}N.prototype=x.prototype,O.D=x.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(M,U,q){for(var V=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)V[qe-2]=arguments[qe];return x.prototype[U].apply(M,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,x,N){N||(N=0);var M=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)M[U]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(U=0;16>U;++U)M[U]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=O.g[0],N=O.g[1],U=O.g[2];var q=O.g[3],V=x+(q^N&(U^q))+M[0]+3614090360&4294967295;x=N+(V<<7&4294967295|V>>>25),V=q+(U^x&(N^U))+M[1]+3905402710&4294967295,q=x+(V<<12&4294967295|V>>>20),V=U+(N^q&(x^N))+M[2]+606105819&4294967295,U=q+(V<<17&4294967295|V>>>15),V=N+(x^U&(q^x))+M[3]+3250441966&4294967295,N=U+(V<<22&4294967295|V>>>10),V=x+(q^N&(U^q))+M[4]+4118548399&4294967295,x=N+(V<<7&4294967295|V>>>25),V=q+(U^x&(N^U))+M[5]+1200080426&4294967295,q=x+(V<<12&4294967295|V>>>20),V=U+(N^q&(x^N))+M[6]+2821735955&4294967295,U=q+(V<<17&4294967295|V>>>15),V=N+(x^U&(q^x))+M[7]+4249261313&4294967295,N=U+(V<<22&4294967295|V>>>10),V=x+(q^N&(U^q))+M[8]+1770035416&4294967295,x=N+(V<<7&4294967295|V>>>25),V=q+(U^x&(N^U))+M[9]+2336552879&4294967295,q=x+(V<<12&4294967295|V>>>20),V=U+(N^q&(x^N))+M[10]+4294925233&4294967295,U=q+(V<<17&4294967295|V>>>15),V=N+(x^U&(q^x))+M[11]+2304563134&4294967295,N=U+(V<<22&4294967295|V>>>10),V=x+(q^N&(U^q))+M[12]+1804603682&4294967295,x=N+(V<<7&4294967295|V>>>25),V=q+(U^x&(N^U))+M[13]+4254626195&4294967295,q=x+(V<<12&4294967295|V>>>20),V=U+(N^q&(x^N))+M[14]+2792965006&4294967295,U=q+(V<<17&4294967295|V>>>15),V=N+(x^U&(q^x))+M[15]+1236535329&4294967295,N=U+(V<<22&4294967295|V>>>10),V=x+(U^q&(N^U))+M[1]+4129170786&4294967295,x=N+(V<<5&4294967295|V>>>27),V=q+(N^U&(x^N))+M[6]+3225465664&4294967295,q=x+(V<<9&4294967295|V>>>23),V=U+(x^N&(q^x))+M[11]+643717713&4294967295,U=q+(V<<14&4294967295|V>>>18),V=N+(q^x&(U^q))+M[0]+3921069994&4294967295,N=U+(V<<20&4294967295|V>>>12),V=x+(U^q&(N^U))+M[5]+3593408605&4294967295,x=N+(V<<5&4294967295|V>>>27),V=q+(N^U&(x^N))+M[10]+38016083&4294967295,q=x+(V<<9&4294967295|V>>>23),V=U+(x^N&(q^x))+M[15]+3634488961&4294967295,U=q+(V<<14&4294967295|V>>>18),V=N+(q^x&(U^q))+M[4]+3889429448&4294967295,N=U+(V<<20&4294967295|V>>>12),V=x+(U^q&(N^U))+M[9]+568446438&4294967295,x=N+(V<<5&4294967295|V>>>27),V=q+(N^U&(x^N))+M[14]+3275163606&4294967295,q=x+(V<<9&4294967295|V>>>23),V=U+(x^N&(q^x))+M[3]+4107603335&4294967295,U=q+(V<<14&4294967295|V>>>18),V=N+(q^x&(U^q))+M[8]+1163531501&4294967295,N=U+(V<<20&4294967295|V>>>12),V=x+(U^q&(N^U))+M[13]+2850285829&4294967295,x=N+(V<<5&4294967295|V>>>27),V=q+(N^U&(x^N))+M[2]+4243563512&4294967295,q=x+(V<<9&4294967295|V>>>23),V=U+(x^N&(q^x))+M[7]+1735328473&4294967295,U=q+(V<<14&4294967295|V>>>18),V=N+(q^x&(U^q))+M[12]+2368359562&4294967295,N=U+(V<<20&4294967295|V>>>12),V=x+(N^U^q)+M[5]+4294588738&4294967295,x=N+(V<<4&4294967295|V>>>28),V=q+(x^N^U)+M[8]+2272392833&4294967295,q=x+(V<<11&4294967295|V>>>21),V=U+(q^x^N)+M[11]+1839030562&4294967295,U=q+(V<<16&4294967295|V>>>16),V=N+(U^q^x)+M[14]+4259657740&4294967295,N=U+(V<<23&4294967295|V>>>9),V=x+(N^U^q)+M[1]+2763975236&4294967295,x=N+(V<<4&4294967295|V>>>28),V=q+(x^N^U)+M[4]+1272893353&4294967295,q=x+(V<<11&4294967295|V>>>21),V=U+(q^x^N)+M[7]+4139469664&4294967295,U=q+(V<<16&4294967295|V>>>16),V=N+(U^q^x)+M[10]+3200236656&4294967295,N=U+(V<<23&4294967295|V>>>9),V=x+(N^U^q)+M[13]+681279174&4294967295,x=N+(V<<4&4294967295|V>>>28),V=q+(x^N^U)+M[0]+3936430074&4294967295,q=x+(V<<11&4294967295|V>>>21),V=U+(q^x^N)+M[3]+3572445317&4294967295,U=q+(V<<16&4294967295|V>>>16),V=N+(U^q^x)+M[6]+76029189&4294967295,N=U+(V<<23&4294967295|V>>>9),V=x+(N^U^q)+M[9]+3654602809&4294967295,x=N+(V<<4&4294967295|V>>>28),V=q+(x^N^U)+M[12]+3873151461&4294967295,q=x+(V<<11&4294967295|V>>>21),V=U+(q^x^N)+M[15]+530742520&4294967295,U=q+(V<<16&4294967295|V>>>16),V=N+(U^q^x)+M[2]+3299628645&4294967295,N=U+(V<<23&4294967295|V>>>9),V=x+(U^(N|~q))+M[0]+4096336452&4294967295,x=N+(V<<6&4294967295|V>>>26),V=q+(N^(x|~U))+M[7]+1126891415&4294967295,q=x+(V<<10&4294967295|V>>>22),V=U+(x^(q|~N))+M[14]+2878612391&4294967295,U=q+(V<<15&4294967295|V>>>17),V=N+(q^(U|~x))+M[5]+4237533241&4294967295,N=U+(V<<21&4294967295|V>>>11),V=x+(U^(N|~q))+M[12]+1700485571&4294967295,x=N+(V<<6&4294967295|V>>>26),V=q+(N^(x|~U))+M[3]+2399980690&4294967295,q=x+(V<<10&4294967295|V>>>22),V=U+(x^(q|~N))+M[10]+4293915773&4294967295,U=q+(V<<15&4294967295|V>>>17),V=N+(q^(U|~x))+M[1]+2240044497&4294967295,N=U+(V<<21&4294967295|V>>>11),V=x+(U^(N|~q))+M[8]+1873313359&4294967295,x=N+(V<<6&4294967295|V>>>26),V=q+(N^(x|~U))+M[15]+4264355552&4294967295,q=x+(V<<10&4294967295|V>>>22),V=U+(x^(q|~N))+M[6]+2734768916&4294967295,U=q+(V<<15&4294967295|V>>>17),V=N+(q^(U|~x))+M[13]+1309151649&4294967295,N=U+(V<<21&4294967295|V>>>11),V=x+(U^(N|~q))+M[4]+4149444226&4294967295,x=N+(V<<6&4294967295|V>>>26),V=q+(N^(x|~U))+M[11]+3174756917&4294967295,q=x+(V<<10&4294967295|V>>>22),V=U+(x^(q|~N))+M[2]+718787259&4294967295,U=q+(V<<15&4294967295|V>>>17),V=N+(q^(U|~x))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+q&4294967295}i.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var N=x-this.blockSize,M=this.B,U=this.h,q=0;q<x;){if(U==0)for(;q<=N;)a(this,O,q),q+=this.blockSize;if(typeof O=="string"){for(;q<x;)if(M[U++]=O.charCodeAt(q++),U==this.blockSize){a(this,M),U=0;break}}else for(;q<x;)if(M[U++]=O[q++],U==this.blockSize){a(this,M),U=0;break}}this.h=U,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var N=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=N&255,N/=256;for(this.u(O),O=Array(16),x=N=0;4>x;++x)for(var M=0;32>M;M+=8)O[N++]=this.g[x]>>>M&255;return O};function l(O,x){var N=f;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=x(O)}function u(O,x){this.h=x;for(var N=[],M=!0,U=O.length-1;0<=U;U--){var q=O[U]|0;M&&q==x||(N[U]=q,M=!1)}this.g=N}var f={};function m(O){return-128<=O&&128>O?l(O,function(x){return new u([x|0],0>x?-1:0)}):new u([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return I(p(-O));for(var x=[],N=1,M=0;O>=N;M++)x[M]=O/N|0,N*=4294967296;return new u(x,0)}function v(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return I(v(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(x,8)),M=_,U=0;U<O.length;U+=8){var q=Math.min(8,O.length-U),V=parseInt(O.substring(U,U+q),x);8>q?(q=p(Math.pow(x,q)),M=M.j(q).add(p(V))):(M=M.j(N),M=M.add(p(V)))}return M}var _=m(0),b=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-I(this).m();for(var O=0,x=1,N=0;N<this.g.length;N++){var M=this.i(N);O+=(0<=M?M:4294967296+M)*x,x*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(P(this))return"-"+I(this).toString(O);for(var x=p(Math.pow(O,6)),N=this,M="";;){var U=le(N,x).g;N=j(N,U.j(x));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=U,C(N))return q+M;for(;6>q.length;)q="0"+q;M=q+M}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function P(O){return O.h==-1}t.l=function(O){return O=j(this,O),P(O)?-1:C(O)?0:1};function I(O){for(var x=O.g.length,N=[],M=0;M<x;M++)N[M]=~O.g[M];return new u(N,~O.h).add(b)}t.abs=function(){return P(this)?I(this):this},t.add=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0,U=0;U<=x;U++){var q=M+(this.i(U)&65535)+(O.i(U)&65535),V=(q>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);M=V>>>16,q&=65535,V&=65535,N[U]=V<<16|q}return new u(N,N[N.length-1]&-2147483648?-1:0)};function j(O,x){return O.add(I(x))}t.j=function(O){if(C(this)||C(O))return _;if(P(this))return P(O)?I(this).j(I(O)):I(I(this).j(O));if(P(O))return I(this.j(I(O)));if(0>this.l(R)&&0>O.l(R))return p(this.m()*O.m());for(var x=this.g.length+O.g.length,N=[],M=0;M<2*x;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<O.g.length;U++){var q=this.i(M)>>>16,V=this.i(M)&65535,qe=O.i(U)>>>16,He=O.i(U)&65535;N[2*M+2*U]+=V*He,F(N,2*M+2*U),N[2*M+2*U+1]+=q*He,F(N,2*M+2*U+1),N[2*M+2*U+1]+=V*qe,F(N,2*M+2*U+1),N[2*M+2*U+2]+=q*qe,F(N,2*M+2*U+2)}for(M=0;M<x;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=x;M<2*x;M++)N[M]=0;return new u(N,0)};function F(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function H(O,x){this.g=O,this.h=x}function le(O,x){if(C(x))throw Error("division by zero");if(C(O))return new H(_,_);if(P(O))return x=le(I(O),x),new H(I(x.g),I(x.h));if(P(x))return x=le(O,I(x)),new H(I(x.g),x.h);if(30<O.g.length){if(P(O)||P(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,M=x;0>=M.l(O);)N=B(N),M=B(M);var U=K(N,1),q=K(M,1);for(M=K(M,2),N=K(N,2);!C(M);){var V=q.add(M);0>=V.l(O)&&(U=U.add(N),q=V),M=K(M,1),N=K(N,1)}return x=j(O,U.j(x)),new H(U,x)}for(U=_;0<=O.l(x);){for(N=Math.max(1,Math.floor(O.m()/x.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),q=p(N),V=q.j(x);P(V)||0<V.l(O);)N-=M,q=p(N),V=q.j(x);C(q)&&(q=b),U=U.add(q),O=j(O,V)}return new H(U,O)}t.A=function(O){return le(this,O).h},t.and=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)&O.i(M);return new u(N,this.h&O.h)},t.or=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)|O.i(M);return new u(N,this.h|O.h)},t.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)^O.i(M);return new u(N,this.h^O.h)};function B(O){for(var x=O.g.length+1,N=[],M=0;M<x;M++)N[M]=O.i(M)<<1|O.i(M-1)>>>31;return new u(N,O.h)}function K(O,x){var N=x>>5;x%=32;for(var M=O.g.length-N,U=[],q=0;q<M;q++)U[q]=0<x?O.i(q+N)>>>x|O.i(q+N+1)<<32-x:O.i(q+N);return new u(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Tx=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Bs=u}).apply(typeof zb<"u"?zb:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wx,Vc,xx,gf,Tg,Sx,Ax,Rx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,T){return h==Array.prototype||h==Object.prototype||(h[E]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var E=0;E<h.length;++E){var T=h[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,E){if(E)e:{var T=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var Y=h[A];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],A=T[h],E=E(A),E!=A&&E!=null&&e(T,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var T=0,A=!1,Y={next:function(){if(!A&&T<h.length){var ee=T++;return{value:E(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(E,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function p(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function v(h,E,T){return h.call.apply(h.bind,arguments)}function _(h,E,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,A),h.apply(E,Y)}}return function(){return h.apply(E,arguments)}}function b(h,E,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,b.apply(null,arguments)}function R(h,E){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,E){function T(){}T.prototype=E.prototype,h.aa=E.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,Y,ee){for(var ge=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ge[Ze-2]=arguments[Ze];return E.prototype[Y].apply(A,ge)}}function P(h){const E=h.length;if(0<E){const T=Array(E);for(let A=0;A<E;A++)T[A]=h[A];return T}return[]}function I(h,E){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const Y=h.length||0,ee=A.length||0;h.length=Y+ee;for(let ge=0;ge<ee;ge++)h[Y+ge]=A[ge]}else h.push(A)}}class j{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function F(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function le(h){return le[" "](h),h}le[" "]=function(){};var B=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function K(h,E,T){for(const A in h)E.call(T,h[A],A,h)}function O(h,E){for(const T in h)E.call(void 0,h[T],T,h)}function x(h){const E={};for(const T in h)E[T]=h[T];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,E){let T,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(T in A)h[T]=A[T];for(let ee=0;ee<N.length;ee++)T=N[ee],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function U(h){var E=1;h=h.split(":");const T=[];for(;0<E&&h.length;)T.push(h.shift()),E--;return h.length&&T.push(h.join(":")),T}function q(h){f.setTimeout(()=>{throw h},0)}function V(){var h=Ie;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class qe{constructor(){this.h=this.g=null}add(E,T){const A=He.get();A.set(E,T),this.h?this.h.next=A:this.g=A,this.h=A}}var He=new j(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,Ie=new qe,k=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(se)}};var se=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){q(T)}var E=He;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}ye=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,E),f.removeEventListener("test",T,E)}catch{}return h})();function Ce(h,E){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(B){e:{try{le(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else T=="mouseover"?E=h.fromElement:T=="mouseout"&&(E=h.toElement);this.relatedTarget=E,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,ue);var Se={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),We=0;function Tn(h,E,T,A,Y){this.listener=h,this.proxy=null,this.src=E,this.type=T,this.capture=!!A,this.ha=Y,this.key=++We,this.da=this.fa=!1}function hn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h){this.src=h,this.g={},this.h=0}yt.prototype.add=function(h,E,T,A,Y){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ge=Dt(h,E,A,Y);return-1<ge?(E=h[ge],T||(E.fa=!1)):(E=new Tn(E,this.src,ee,!!A,Y),E.fa=T,h.push(E)),E};function zt(h,E){var T=E.type;if(T in h.g){var A=h.g[T],Y=Array.prototype.indexOf.call(A,E,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(A,Y,1),ee&&(hn(E),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,E,T,A){for(var Y=0;Y<h.length;++Y){var ee=h[Y];if(!ee.da&&ee.listener==E&&ee.capture==!!T&&ee.ha==A)return Y}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),es={};function na(h,E,T,A,Y){if(Array.isArray(E)){for(var ee=0;ee<E.length;ee++)na(h,E[ee],T,A,Y);return null}return T=me(T),h&&h[At]?h.K(E,T,p(A)?!!A.capture:!1,Y):Ln(h,E,T,!1,A,Y)}function Ln(h,E,T,A,Y,ee){if(!E)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,Ze=Or(h);if(Ze||(h[fi]=Ze=new yt(h)),T=Ze.add(E,T,A,ge,ee),T.proxy)return T;if(A=ts(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)be||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(E.toString(),A,Y);else if(h.attachEvent)h.attachEvent(_r(E.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ts(){function h(T){return E.call(h.src,h.listener,T)}const E=ns;return h}function ra(h,E,T,A,Y){if(Array.isArray(E))for(var ee=0;ee<E.length;ee++)ra(h,E[ee],T,A,Y);else A=p(A)?!!A.capture:!!A,T=me(T),h&&h[At]?(h=h.i,E=String(E).toString(),E in h.g&&(ee=h.g[E],T=Dt(ee,T,A,Y),-1<T&&(hn(ee[T]),Array.prototype.splice.call(ee,T,1),ee.length==0&&(delete h.g[E],h.h--)))):h&&(h=Or(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Dt(E,T,A,Y)),(T=-1<h?E[h]:null)&&di(T))}function di(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[At])zt(E.i,h);else{var T=h.type,A=h.proxy;E.removeEventListener?E.removeEventListener(T,A,h.capture):E.detachEvent?E.detachEvent(_r(T),A):E.addListener&&E.removeListener&&E.removeListener(A),(T=Or(E))?(zt(T,h),T.h==0&&(T.src=null,E[fi]=null)):hn(h)}}}function _r(h){return h in es?es[h]:es[h]="on"+h}function ns(h,E){if(h.da)h=!0;else{E=new Ce(E,this);var T=h.listener,A=h.ha||h.src;h.fa&&di(h),h=T.call(A,E)}return h}function Or(h){return h=h[fi],h instanceof yt?h:null}var ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(h){return typeof h=="function"?h:(h[ia]||(h[ia]=function(E){return h.handleEvent(E)}),h[ia])}function $(){pe.call(this),this.i=new yt(this),this.M=this,this.F=null}C($,pe),$.prototype[At]=!0,$.prototype.removeEventListener=function(h,E,T,A){ra(this,h,E,T,A)};function re(h,E){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=E.type||E,typeof E=="string")E=new ue(E,h);else if(E instanceof ue)E.target=E.target||h;else{var Y=E;E=new ue(A,h),M(E,Y)}if(Y=!0,T)for(var ee=T.length-1;0<=ee;ee--){var ge=E.g=T[ee];Y=de(ge,A,!0,E)&&Y}if(ge=E.g=h,Y=de(ge,A,!0,E)&&Y,Y=de(ge,A,!1,E)&&Y,T)for(ee=0;ee<T.length;ee++)ge=E.g=T[ee],Y=de(ge,A,!1,E)&&Y}$.prototype.N=function(){if($.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var T=h.g[E],A=0;A<T.length;A++)hn(T[A]);delete h.g[E],h.h--}}this.F=null},$.prototype.K=function(h,E,T,A){return this.i.add(String(h),E,!1,T,A)},$.prototype.L=function(h,E,T,A){return this.i.add(String(h),E,!0,T,A)};function de(h,E,T,A){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ee=0;ee<E.length;++ee){var ge=E[ee];if(ge&&!ge.da&&ge.capture==T){var Ze=ge.listener,Zt=ge.ha||ge.src;ge.fa&&zt(h.i,ge),Y=Ze.call(Zt,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function Ne(h,E,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:f.setTimeout(h,E||0)}function Be(h){h.g=Ne(()=>{h.g=null,h.i&&(h.i=!1,Be(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class nt extends pe{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(h){pe.call(this),this.h=h,this.g={}}C(te,pe);var ae=[];function Te(h){K(h.g,function(E,T){this.g.hasOwnProperty(T)&&di(E)},h),h.g={}}te.prototype.N=function(){te.aa.N.call(this),Te(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=f.JSON.stringify,_e=f.JSON.parse,Le=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ct(){}ct.prototype.h=null;function ut(h){return h.h||(h.h=h.i())}function it(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){ue.call(this,"d")}C(at,ue);function Pt(){ue.call(this,"c")}C(Pt,ue);var fn={},qn=null;function Hn(){return qn=qn||new $}fn.La="serverreachability";function mi(h){ue.call(this,fn.La,h)}C(mi,ue);function br(h){const E=Hn();re(E,new mi(E))}fn.STAT_EVENT="statevent";function Iu(h,E){ue.call(this,fn.STAT_EVENT,h),this.stat=E}C(Iu,ue);function wt(h){const E=Hn();re(E,new Iu(E,h))}fn.Ma="timingevent";function Wt(h,E){ue.call(this,fn.Ma,h),this.size=E}C(Wt,ue);function qt(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Dl(h,E,T,A,Y,ee){h.info(function(){if(h.g)if(ee)for(var ge="",Ze=ee.split("&"),Zt=0;Zt<Ze.length;Zt++){var Je=Ze[Zt].split("=");if(1<Je.length){var an=Je[0];Je=Je[1];var Jt=an.split("_");ge=2<=Jt.length&&Jt[1]=="type"?ge+(an+"="+Je+"&"):ge+(an+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+E+`
`+T+`
`+ge})}function Id(h,E,T,A,Y,ee,ge){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+E+`
`+T+`
`+ee+" "+ge})}function rs(h,E,T,A){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+sa(h,T)+(A?" "+A:"")})}function Du(h,E){h.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function sa(h,E){if(!h.g)return E;if(!E)return null;try{var T=JSON.parse(E);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var Y=A[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Ee(T)}catch{return E}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Vr(){}C(Vr,ct),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},Mr=new Vr;function In(h,E,T,A){this.j=h,this.i=E,this.l=T,this.R=A||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Pl={},io={};function Tr(h,E,T){h.L=1,h.v=ua(Gn(E)),h.m=T,h.P=!0,gi(h,null)}function gi(h,E){h.F=Date.now(),aa(h),h.A=Gn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ul(T.i,"t",A),h.C=0,T=h.j.J,h.h=new kt,h.g=Ku(h.j,T?E:null,!h.m),0<h.O&&(h.M=new nt(b(h.Y,h,h.g),h.O)),E=h.U,T=h.g,A=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ae[0]=Y.toString()),Y=ae);for(var ee=0;ee<Y.length;ee++){var ge=na(T,Y[ee],A||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),br(),Dl(h.i,h.u,h.A,h.l,h.R,h.m)}In.prototype.ca=function(h){h=h.target;const E=this.M;E&&rr(h)==3?E.j():this.Y(h)},In.prototype.Y=function(h){try{if(h==this.g)e:{const Jt=rr(this.g);var E=this.g.Ba();const xi=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Jt!=4||E==7||(E==8||0>=xi?br(3):br(2)),ss(this);var T=this.g.Z();this.X=T;t:if(Pu(this)){var A=ju(this.g);h="";var Y=A.length,ee=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),kr(this);var ge="";break t}this.h.i=new f.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,h+=this.h.i.decode(A[E],{stream:!(ee&&E==Y-1)});A.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=T==200,Id(this.i,this.u,this.A,this.l,this.R,Jt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Zt=this.g;if((Ze=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ze)){var Je=Ze;break t}}Je=null}if(T=Je)rs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,T);else{this.o=!1,this.s=3,wt(12),dn(this),kr(this);break e}}if(this.P){T=!0;let mn;for(;!this.J&&this.C<ge.length;)if(mn=Ou(this,ge),mn==io){Jt==4&&(this.s=4,wt(14),T=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Pl){this.s=4,wt(15),rs(this.i,this.l,ge,"[Invalid Chunk]"),T=!1;break}else rs(this.i,this.l,mn,null),oa(this,mn);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||ge.length!=0||this.h.h||(this.s=1,wt(16),T=!1),this.o=this.o&&T,!T)rs(this.i,this.l,ge,"[Invalid Chunked Response]"),dn(this),kr(this);else if(0<ge.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),va(an),an.M=!0,wt(11))}}else rs(this.i,this.l,ge,null),oa(this,ge);Jt==4&&dn(this),this.o&&!this.J&&(Jt==4?Hu(this.j,this):(this.o=!1,aa(this)))}else Vd(this.g),T==400&&0<ge.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),dn(this),kr(this)}}}catch{}finally{}};function Pu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ou(h,E){var T=h.C,A=E.indexOf(`
`,T);return A==-1?io:(T=Number(E.substring(T,A)),isNaN(T)?Pl:(A+=1,A+T>E.length?io:(E=E.slice(A,A+T),h.C=A+T,E)))}In.prototype.cancel=function(){this.J=!0,dn(this)};function aa(h){h.S=Date.now()+h.I,Mu(h,h.I)}function Mu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qt(b(h.ba,h),E)}function ss(h){h.B&&(f.clearTimeout(h.B),h.B=null)}In.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Du(this.i,this.A),this.L!=2&&(br(),wt(17)),dn(this),this.s=2,kr(this)):Mu(this,this.S-h)};function kr(h){h.j.G==0||h.J||Hu(h.j,h)}function dn(h){ss(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,Te(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function oa(h,E){try{var T=h.j;if(T.G!=0&&(T.g==h||Ol(T.h,h))){if(!h.K&&Ol(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(E)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)yo(T),po(T);else break e;ql(T),wt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=qt(b(T.Za,T),6e3));if(1>=ao(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else wi(T,11)}else if((h.K||T.g==h)&&yo(T),!F(E))for(Y=T.Da.g.parse(E),E=0;E<Y.length;E++){let Je=Y[E];if(T.T=Je[0],Je=Je[1],T.G==2)if(Je[0]=="c"){T.K=Je[1],T.ia=Je[2];const an=Je[3];an!=null&&(T.la=an,T.j.info("VER="+T.la));const Jt=Je[4];Jt!=null&&(T.Aa=Jt,T.j.info("SVER="+T.Aa));const xi=Je[5];xi!=null&&typeof xi=="number"&&0<xi&&(A=1.5*xi,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const mn=h.g;if(mn){const qr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var ee=A.h;ee.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(oo(ee,ee.h),ee.h=null))}if(A.D){const Gl=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(A.ya=Gl,dt(A.I,A.D,Gl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ge=h;if(A.qa=$u(A,A.J?A.ia:null,A.W),ge.K){Dn(A.h,ge);var Ze=ge,Zt=A.L;Zt&&(Ze.I=Zt),Ze.B&&(ss(Ze),aa(Ze)),A.g=ge}else zu(A);0<T.i.length&&go(T)}else Je[0]!="stop"&&Je[0]!="close"||wi(T,7);else T.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?wi(T,7):Fl(T):Je[0]!="noop"&&T.l&&T.l.ta(Je),T.v=0)}}br(4)}catch{}}var Vu=class{constructor(h,E){this.g=h,this.map=E}};function yi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function so(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ao(h){return h.h?1:h.g?h.g.size:0}function Ol(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function oo(h,E){h.g?h.g.add(E):h.h=E}function Dn(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}yi.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const T of h.g.values())E=E.concat(T.D);return E}return P(h.i)}function Dd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var E=[],T=h.length,A=0;A<T;A++)E.push(h[A]);return E}E=[],T=0;for(A in h)E[T++]=h[A];return E}function lo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var E=[];h=h.length;for(var T=0;T<h;T++)E.push(T);return E}E=[],T=0;for(const A in h)E[T++]=A;return E}}}function Vl(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var T=lo(h),A=Dd(h),Y=A.length,ee=0;ee<Y;ee++)E.call(void 0,A[ee],T&&T[ee],h)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(h,E){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),Y=null;if(0<=A){var ee=h[T].substring(0,A);Y=h[T].substring(A+1)}else ee=h[T];E(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ht(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ht){this.h=h.h,ca(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var E=h.i,T=new Ei;T.i=E.i,E.g&&(T.g=new Map(E.g),T.h=E.h),vi(this,T),this.m=h.m}else h&&(E=String(h).match(la))?(this.h=!1,ca(this,E[1]||"",!0),this.o=er(E[2]||""),this.g=er(E[3]||"",!0),as(this,E[4]),this.l=er(E[5]||"",!0),vi(this,E[6]||"",!0),this.m=er(E[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}Ht.prototype.toString=function(){var h=[],E=this.j;E&&h.push(ha(E,kl,!0),":");var T=this.g;return(T||E=="file")&&(h.push("//"),(E=this.o)&&h.push(ha(E,kl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ha(T,T.charAt(0)=="/"?Od:Ll,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ha(T,co)),h.join("")};function Gn(h){return new Ht(h)}function ca(h,E,T){h.j=T?er(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function vi(h,E,T){E instanceof Ei?(h.i=E,Lu(h.i,h.h)):(T||(E=ha(E,Md)),h.i=new Ei(E,h.h))}function dt(h,E,T){h.i.set(E,T)}function ua(h){return dt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function er(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,E,T){return typeof h=="string"?(h=encodeURI(h).replace(E,ku),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ku(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kl=/[#\/\?@]/g,Ll=/[#\?:]/g,Od=/[#\?]/g,Md=/[#\?@]/g,co=/#/g;function Ei(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function tr(h){h.g||(h.g=new Map,h.h=0,h.i&&Pd(h.i,function(E,T){h.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=Ei.prototype,t.add=function(h,E){tr(this),this.i=null,h=Lr(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(E),this.h+=1,this};function _i(h,E){tr(h),E=Lr(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function bi(h,E){return tr(h),E=Lr(h,E),h.g.has(E)}t.forEach=function(h,E){tr(this),this.g.forEach(function(T,A){T.forEach(function(Y){h.call(E,Y,A,this)},this)},this)},t.na=function(){tr(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),T=[];for(let A=0;A<E.length;A++){const Y=h[A];for(let ee=0;ee<Y.length;ee++)T.push(E[A])}return T},t.V=function(h){tr(this);let E=[];if(typeof h=="string")bi(this,h)&&(E=E.concat(this.g.get(Lr(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)E=E.concat(h[T])}return E},t.set=function(h,E){return tr(this),this.i=null,h=Lr(this,h),bi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function Ul(h,E,T){_i(h,E),0<T.length&&(h.i=null,h.g.set(Lr(h,E),P(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var T=0;T<E.length;T++){var A=E[T];const ee=encodeURIComponent(String(A)),ge=this.V(A);for(A=0;A<ge.length;A++){var Y=ee;ge[A]!==""&&(Y+="="+encodeURIComponent(String(ge[A]))),h.push(Y)}}return this.i=h.join("&")};function Lr(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Lu(h,E){E&&!h.j&&(tr(h),h.i=null,h.g.forEach(function(T,A){var Y=A.toLowerCase();A!=Y&&(_i(this,A),Ul(this,Y,T))},h)),h.j=E}function fa(h,E){const T=new Jn;if(f.Image){const A=new Image;A.onload=R(nr,T,"TestLoadImage: loaded",!0,E,A),A.onerror=R(nr,T,"TestLoadImage: error",!1,E,A),A.onabort=R(nr,T,"TestLoadImage: abort",!1,E,A),A.ontimeout=R(nr,T,"TestLoadImage: timeout",!1,E,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else E(!1)}function wr(h,E){const T=new Jn,A=new AbortController,Y=setTimeout(()=>{A.abort(),nr(T,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(Y),ee.ok?nr(T,"TestPingServer: ok",!0,E):nr(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),nr(T,"TestPingServer: error",!1,E)})}function nr(h,E,T,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(T)}catch{}}function da(){this.g=new Le}function Ur(h,E,T){const A=T||"";try{Vl(h,function(Y,ee){let ge=Y;p(Y)&&(ge=Ee(Y)),E.push(A+ee+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(A+"type="+encodeURIComponent("_badmap")),Y}}function os(h){this.l=h.Ub||null,this.j=h.eb||!1}C(os,ct),os.prototype.g=function(){return new Ti(this.l,this.j)},os.prototype.i=(function(h){return function(){return h}})({});function Ti(h,E){$.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ti,$),t=Ti.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Br(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||f).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?jr(this):Br(this),this.readyState==3&&jl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,jr(this))},t.Qa=function(h){this.g&&(this.response=h,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Br(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=E.next();return h.join(`\r
`)};function Br(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bl(h){let E="";return K(h,function(T,A){E+=A,E+=":",E+=T,E+=`\r
`}),E}function sn(h,E,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Bl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):dt(h,E,T))}function ot(h){$.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ot,$);var uo=/^https?$/i,ma=["POST","PUT"];t=ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?ut(this.o):ut(Mr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ee){Uu(this,ee);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)T.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())T.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ma,E,void 0))||A||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of T)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Uu(this,ee)}};function Uu(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,ho(h),Fr(h)}function ho(h){h.A||(h.A=!0,re(h,"complete"),re(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,re(this,"complete"),re(this,"abort"),Fr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},t.bb=function(){fo(this)};function fo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||rr(h)!=4||h.Z()!=2)){if(h.u&&rr(h)==4)Ne(h.Ea,0,h);else if(re(h,"readystatechange"),rr(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var A;if(A=ge===0){var Y=String(h.D).match(la)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),A=!uo.test(Y?Y.toLowerCase():"")}T=A}if(T)re(h,"complete"),re(h,"success");else{h.m=6;try{var ee=2<rr(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",ho(h)}}finally{Fr(h)}}}}function Fr(h,E){if(h.g){pa(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||re(h,"ready");try{T.onreadystatechange=A}catch{}}}function pa(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function rr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),_e(E)}};function ju(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(h){const E={};h=(h.g&&2<=rr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(F(h[A]))continue;var T=U(h[A]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=E[Y]||[];E[Y]=ee,ee.push(T)}O(E,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(h,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||E}function mo(h){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,h),this.cb=ga("retryDelaySeedMs",1e4,h),this.Wa=ga("forwardChannelMaxRetries",2,h),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(h&&h.concurrentRequestLimit),this.Da=new da,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mo.prototype,t.la=8,t.G=1,t.connect=function(h,E,T,A){wt(0),this.W=h,this.H=E||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=$u(this,null,this.W),go(this)};function Fl(h){if(Bu(h),h.G==3){var E=h.U++,T=Gn(h.I);if(dt(T,"SID",h.K),dt(T,"RID",E),dt(T,"TYPE","terminate"),ya(h,T),E=new In(h,h.j,E),E.L=2,E.v=ua(Gn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(E.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=E.v,T=!0),T||(E.g=Ku(E.j,null),E.g.ea(E.v)),E.F=Date.now(),aa(E)}Gu(h)}function po(h){h.g&&(va(h),h.g.cancel(),h.g=null)}function Bu(h){po(h),h.u&&(f.clearTimeout(h.u),h.u=null),yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function go(h){if(!so(h.h)&&!h.s){h.s=!0;var E=h.Ga;fe||k(),ye||(fe(),ye=!0),Ie.add(E,h),h.B=0}}function kd(h,E){return ao(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qt(b(h.Ga,h,E),Hl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new In(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=x(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(E+=A,4096<E){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Fu(this,Y,E),T=Gn(this.I),dt(T,"RID",h),dt(T,"CVER",22),this.D&&dt(T,"X-HTTP-Session-Id",this.D),ya(this,T),ee&&(this.O?E="headers="+encodeURIComponent(String(Bl(ee)))+"&"+E:this.m&&sn(T,this.m,ee)),oo(this.h,Y),this.Ua&&dt(T,"TYPE","init"),this.P?(dt(T,"$req",E),dt(T,"SID","null"),Y.T=!0,Tr(Y,T,null)):Tr(Y,T,E),this.G=2}}else this.G==3&&(h?zl(this,h):this.i.length==0||so(this.h)||zl(this))};function zl(h,E){var T;E?T=E.l:T=h.U++;const A=Gn(h.I);dt(A,"SID",h.K),dt(A,"RID",T),dt(A,"AID",h.T),ya(h,A),h.m&&h.o&&sn(A,h.m,h.o),T=new In(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),E&&(h.i=E.D.concat(h.i)),E=Fu(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),oo(h.h,T),Tr(T,A,E)}function ya(h,E){h.H&&K(h.H,function(T,A){dt(E,A,T)}),h.l&&Vl({},function(T,A){dt(E,A,T)})}function Fu(h,E,T){T=Math.min(h.i.length,T);var A=h.l?b(h.l.Na,h.l,h):null;e:{var Y=h.i;let ee=-1;for(;;){const ge=["count="+T];ee==-1?0<T?(ee=Y[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let Ze=!0;for(let Zt=0;Zt<T;Zt++){let Je=Y[Zt].g;const an=Y[Zt].map;if(Je-=ee,0>Je)ee=Math.max(0,Y[Zt].g-100),Ze=!1;else try{Ur(an,ge,"req"+Je+"_")}catch{A&&A(an)}}if(Ze){A=ge.join("&");break e}}}return h=h.i.splice(0,T),E.D=h,A}function zu(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;fe||k(),ye||(fe(),ye=!0),Ie.add(E,h),h.v=0}}function ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qt(b(h.Fa,h),Hl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qt(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),po(this),qu(this))};function va(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function qu(h){h.g=new In(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Gn(h.qa);dt(E,"RID","rpc"),dt(E,"SID",h.K),dt(E,"AID",h.T),dt(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&dt(E,"TO",h.ja),dt(E,"TYPE","xmlhttp"),ya(h,E),h.m&&h.o&&sn(E,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ua(Gn(E)),T.m=null,T.P=!0,gi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,po(this),ql(this),wt(19))};function yo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Hu(h,E){var T=null;if(h.g==E){yo(h),va(h),h.g=null;var A=2}else if(Ol(h.h,E))T=E.D,Dn(h.h,E),A=1;else return;if(h.G!=0){if(E.o)if(A==1){T=E.m?E.m.length:0,E=Date.now()-E.F;var Y=h.B;A=Hn(),re(A,new Wt(A,T)),go(h)}else zu(h);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(A==1&&kd(h,E)||A==2&&ql(h)))switch(T&&0<T.length&&(E=h.h,E.i=E.i.concat(T)),Y){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function Hl(h,E){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*E}function wi(h,E){if(h.j.info("Error code "+E),E==2){var T=b(h.fb,h),A=h.Xa;const Y=!A;A=new Ht(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ca(A,"https"),ua(A),Y?fa(A.toString(),T):wr(A.toString(),T)}else wt(2);h.G=0,h.l&&h.l.sa(E),Gu(h),Bu(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Gu(h){if(h.G=0,h.ka=[],h.l){const E=Ml(h.h);(E.length!=0||h.i.length!=0)&&(I(h.ka,E),I(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function $u(h,E,T){var A=T instanceof Ht?Gn(T):new Ht(T);if(A.g!="")E&&(A.g=E+"."+A.g),as(A,A.s);else{var Y=f.location;A=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ht(null);A&&ca(ee,A),E&&(ee.g=E),Y&&as(ee,Y),T&&(ee.l=T),A=ee}return T=h.D,E=h.ya,T&&E&&dt(A,T,E),dt(A,"VER",h.la),ya(h,A),A}function Ku(h,E,T){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new ot(new os({eb:T})):new ot(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}t=Yu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vo(){}vo.prototype.g=function(h,E){return new Pn(h,E)};function Pn(h,E){$.call(this),this.g=new mo(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!F(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!F(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new zr(this)}C(Pn,$),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Fl(this.g)},Pn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Ee(h),h=T);E.i.push(new Vu(E.Ya++,h)),E.G==3&&go(E)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,Pn.aa.N.call(this)};function Qu(h){at.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const T in E){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}C(Qu,at);function Xu(){Pt.call(this),this.status=1}C(Xu,Pt);function zr(h){this.g=h}C(zr,Yu),zr.prototype.ua=function(){re(this.g,"a")},zr.prototype.ta=function(h){re(this.g,new Qu(h))},zr.prototype.sa=function(h){re(this.g,new Xu)},zr.prototype.ra=function(){re(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Rx=function(){return new vo},Ax=function(){return Hn()},Sx=fn,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,gf=is,pi.COMPLETE="complete",xx=pi,it.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",$.prototype.listen=$.prototype.K,Vc=it,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,wx=ot}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore",Hb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new my("@firebase/firestore");function Ko(){return Ka.logLevel}function we(t,...e){if(Ka.logLevel<=Ye.DEBUG){const n=e.map(wy);Ka.debug(`Firestore (${Tl}): ${t}`,...n)}}function Yi(t,...e){if(Ka.logLevel<=Ye.ERROR){const n=e.map(wy);Ka.error(`Firestore (${Tl}): ${t}`,...n)}}function ul(t,...e){if(Ka.logLevel<=Ye.WARN){const n=e.map(wy);Ka.warn(`Firestore (${Tl}): ${t}`,...n)}}function wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Nx(t,i,n)}function Nx(t,e,n){let i=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Yi(i),new Error(i)}function lt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||Nx(e,a,i)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class MO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VO{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new Cx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class kO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new kO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=jO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Qe(t,e){return t<e?-1:t>e?1:0}function wg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Fp(a)===Fp(l)?Qe(a,l):Fp(a)?1:-1}return Qe(t.length,e.length)}const BO=55296,FO=57343;function Fp(t){const e=t.charCodeAt(0);return e>=BO&&e<=FO}function hl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="__name__";class Qr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Oe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Qe(e.length,n.length)}static compareSegments(e,n){const i=Qr.isNumericId(e),a=Qr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class _t extends Qr{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const zO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Qr{construct(e,n,i){return new _n(e,n,i)}static isValidIdentifier(e){return zO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xg}static keyField(){return new _n([xg])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qO(t,e,n,i){if(e===!0&&i===!0)throw new ve(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $b(t){if(!Re.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kb(t){if(Re.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function fl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cd(t);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!Dx(t))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=-62135596800,Qb=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Qb);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yb)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qb}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Xt("string",Tt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Tt(0,0))}static max(){return new Ue(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function HO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new qs(a,Re.empty(),e)}function GO(t){return new qs(t.readTime,t.key,Jc)}class qs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qs(Ue.min(),Re.empty(),Jc)}static max(){return new qs(Ue.max(),Re.empty(),Jc)}}function $O(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==KO)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,i)=>{n(e)}))}static reject(e){return new he(((n,i)=>{i(e)}))}static waitFor(e){return new he(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next((a=>a?he.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new he(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++f,f===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new he(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function QO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ud.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function hd(t){return t==null}function Vf(t){return t===0&&1/t==-1/0}function XO(t){return typeof t=="number"&&Number.isInteger(t)&&!Vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function WO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xb(e)),e=ZO(t.get(n),e);return Xb(e)}function ZO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Px:n+="";break;default:n+=l}}return n}function Xb(t){return t+Px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new En(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new rn(_n.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Mx("Invalid base64 string: "+l):l}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const JO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=JO.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="server_timestamp",kx="__type__",Lx="__previous_value__",Ux="__local_write_time__";function fd(t){return(t?.mapValue?.fields||{})[kx]?.stringValue===Vx}function dd(t){const e=t.mapValue.fields[Lx];return fd(e)?dd(e):e}function eu(t){const e=Hs(t.mapValue.fields[Ux].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i,a,l,u,f,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const kf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||kf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__type__",t4="__max__",tf={mapValue:{}},Bx="__vector__",Lf="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fd(t)?4:r4(t)?9007199254740991:n4(t)?10:11:Oe(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hs(a.timestampValue),f=Hs(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Gs(a.bytesValue).isEqual(Gs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),f=Bt(l.doubleValue);return u===f?Vf(u)===Vf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Wb(u)!==Wb(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!ai(u[m],f[m])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>ai(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=$s(t),i=$s(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Bt(l.integerValue||l.doubleValue),m=Bt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Jb(t.timestampValue,e.timestampValue);case 4:return Jb(eu(t),eu(e));case 5:return wg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Gs(l),m=Gs(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Qe(f[p],m[p]);if(v!==0)return v}return Qe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Qe(Bt(l.latitude),Bt(u.latitude));return f!==0?f:Qe(Bt(l.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Lf]?.arrayValue,v=m[Lf]?.arrayValue,_=Qe(p?.values?.length||0,v?.values?.length||0);return _!==0?_:eT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===tf.mapValue&&u===tf.mapValue)return 0;if(l===tf.mapValue)return 1;if(u===tf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const b=wg(m[_],v[_]);if(b!==0)return b;const R=dl(f[m[_]],p[v[_]]);if(R!==0)return R}return Qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function Jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Hs(t),i=Hs(e),a=Qe(n.seconds,i.seconds);return a!==0?a:Qe(n.nanos,i.nanos)}function eT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=dl(n[a],i[a]);if(l)return l}return Qe(n.length,i.length)}function ml(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Hs(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Sg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Sg(n.fields[u])}`;return a+"}"})(t.mapValue):Oe(61005,{value:t})}function yf(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(t);return e?16+yf(e):16;case 5:return 2*t.stringValue.length;case 6:return Gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+yf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Ja(i.fields,((l,u)=>{a+=l.length+yf(u)})),a})(t.mapValue);default:throw Oe(13486,{value:t})}}function Uf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ag(t){return!!t&&"integerValue"in t}function Ay(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function n4(t){return(t?.mapValue?.fields||{})[jx]?.stringValue===Bx}function zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=zc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return{...t}}function r4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=_n.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=zc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ja(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new mr(zc(this.value))}}function Fx(t){const e=[];return Ja(t.fields,((n,i)=>{const a=new _n([n]);if(vf(i)){const l=Fx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,Ue.min(),Ue.min(),Ue.min(),mr.empty(),0)}static newFoundDocument(e,n,i,a){return new Rn(e,1,n,Ue.min(),i,a,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ue.min(),Ue.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ue.min(),Ue.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(u.referenceValue),n.key):i=dl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function i4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class Qt extends zx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new a4(e,n,i):n==="array-contains"?new c4(e,i):n==="in"?new u4(e,i):n==="not-in"?new h4(e,i):n==="array-contains-any"?new f4(e,i):new Qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new o4(e,i):new l4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends zx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return qx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qx(t){return t.op==="and"}function Hx(t){return s4(t)&&qx(t)}function s4(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function Rg(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(Hx(t))return t.filters.map((e=>Rg(e))).join(",");{const e=t.filters.map((n=>Rg(n))).join(",");return`${t.op}(${e})`}}function Gx(t,e){return t instanceof Qt?(function(i,a){return a instanceof Qt&&i.op===a.op&&i.field.isEqual(a.field)&&ai(i.value,a.value)})(t,e):t instanceof Pr?(function(i,a){return a instanceof Pr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&Gx(u,a.filters[f])),!0):!1})(t,e):void Oe(19439)}function $x(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`})(t):t instanceof Pr?(function(n){return n.op.toString()+" {"+n.getFilters().map($x).join(" ,")+"}"})(t):"Filter"}class a4 extends Qt{constructor(e,n,i){super(e,n,i),this.key=Re.fromName(i.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class o4 extends Qt{constructor(e,n){super(e,"in",n),this.keys=Kx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l4 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=Kx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Kx(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class c4 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ay(n)&&nu(n.arrayValue,this.value)}}class u4 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class h4 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class f4 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>nu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function sT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new d4(t,e,n,i,a,l,u)}function Ry(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Rg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>ml(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>ml(i))).join(",")),e.Te=n}return e.Te}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!i4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function Ng(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m4(t,e,n,i,a,l,u,f){return new Sl(t,e,n,i,a,l,u,f)}function Cy(t){return new Sl(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iy(t){return t.collectionGroup!==null}function al(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new rn(_n.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new jf(l,i))})),n.has(_n.keyField().canonicalString())||e.Ie.push(new jf(_n.keyField(),i))}return e.Ie}function Jr(t){const e=je(t);return e.Ee||(e.Ee=p4(e,al(t))),e.Ee}function p4(t,e){if(t.limitType==="F")return sT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new jf(a.field,l)}));const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return sT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cg(t,e){const n=t.filters.concat([e]);return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bf(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return Ny(Jr(t),Jr(e))&&t.limitType===e.limitType}function Yx(t){return`${Ry(Jr(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>$x(a))).join(", ")}]`),hd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>ml(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>ml(a))).join(",")),`Target(${i})`})(Jr(t))}; limitType=${t.limitType})`}function pd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of al(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const p=rT(u,f,m);return u.inclusive?p<=0:p<0})(i.startAt,al(i),a)||i.endAt&&!(function(u,f,m){const p=rT(u,f,m);return u.inclusive?p>=0:p>0})(i.endAt,al(i),a))})(t,e)}function g4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qx(t){return(e,n)=>{let i=!1;for(const a of al(t)){const l=y4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function y4(t,e,n){const i=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?dl(m,p):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new It(Re.comparator);function Qi(){return v4}const Xx=new It(Re.comparator);function kc(...t){let e=Xx;for(const n of t)e=e.insert(n.key,n);return e}function Wx(t){let e=Xx;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function La(){return qc()}function Zx(){return qc()}function qc(){return new eo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const E4=new It(Re.comparator),_4=new rn(Re.comparator);function Xe(...t){let e=_4;for(const n of t)e=e.add(n);return e}const b4=new rn(Qe);function T4(){return b4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function Jx(t){return{integerValue:""+t}}function w4(t,e){return XO(e)?Jx(e):Dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof Ff?(function(a,l){const u={fields:{[kx]:{stringValue:Vx},[Ux]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&fd(l)&&(l=dd(l)),l&&(u.fields[Lx]=l),{mapValue:u}})(n,e):t instanceof ru?tS(t,e):t instanceof iu?nS(t,e):(function(a,l){const u=eS(a,l),f=oT(u)+oT(a.Ae);return Ag(u)&&Ag(a.Ae)?Jx(f):Dy(a.serializer,f)})(t,e)}function S4(t,e,n){return t instanceof ru?tS(t,e):t instanceof iu?nS(t,e):n}function eS(t,e){return t instanceof zf?(function(i){return Ag(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ff extends gd{}class ru extends gd{constructor(e){super(),this.elements=e}}function tS(t,e){const n=rS(e);for(const i of t.elements)n.some((a=>ai(a,i)))||n.push(i);return{arrayValue:{values:n}}}class iu extends gd{constructor(e){super(),this.elements=e}}function nS(t,e){let n=rS(e);for(const i of t.elements)n=n.filter((a=>!ai(a,i)));return{arrayValue:{values:n}}}class zf extends gd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oT(t){return Bt(t.integerValue||t.doubleValue)}function rS(t){return Ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof ru&&a instanceof ru||i instanceof iu&&a instanceof iu?hl(i.elements,a.elements,ai):i instanceof zf&&a instanceof zf?ai(i.Ae,a.Ae):i instanceof Ff&&a instanceof Ff})(t.transform,e.transform)}class R4{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yd{}function iS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aS(t.key,qi.none()):new Tu(t.key,t.data,qi.none());{const n=t.data,i=mr.empty();let a=new rn(_n.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new to(t.key,i,new Cr(a.toArray()),qi.none())}}function N4(t,e,n){t instanceof Tu?(function(a,l,u){const f=a.value.clone(),m=cT(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof to?(function(a,l,u){if(!Ef(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=cT(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(sS(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Hc(t,e,n,i){return t instanceof Tu?(function(l,u,f,m){if(!Ef(l.precondition,u))return f;const p=l.value.clone(),v=uT(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof to?(function(l,u,f,m){if(!Ef(l.precondition,u))return f;const p=uT(l.fieldTransforms,m,u),v=u.data;return v.setAll(sS(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(l,u,f){return Ef(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function C4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=eS(i.transform,a||null);l!=null&&(n===null&&(n=mr.empty()),n.set(i.field,l))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&hl(i,a,((l,u)=>A4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tu extends yd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class to extends yd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function cT(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,S4(u,f,n[a]))}return i}function uT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,x4(l,u,e))}return i}class aS extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I4 extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&N4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Zx();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=iS(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,i)=>lT(n,i)))&&hl(this.baseMutations,e.baseMutations,((n,i)=>lT(n,i)))}}class Py{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return E4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Py(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,tt;function M4(t){switch(t){case ie.OK:return Oe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function oS(t){if(t===void 0)return Yi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Kt.OK:return ie.OK;case Kt.CANCELLED:return ie.CANCELLED;case Kt.UNKNOWN:return ie.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ie.INTERNAL;case Kt.UNAVAILABLE:return ie.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ie.NOT_FOUND;case Kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Kt.ABORTED:return ie.ABORTED;case Kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Kt.DATA_LOSS:return ie.DATA_LOSS;default:return Oe(39323,{code:t})}}(tt=Kt||(Kt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Bs([4294967295,4294967295],0);function hT(t){const e=V4().encode(t),n=new Tx;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([n,i],0),new Bs([a,l],0)]}class Oy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lc(`Invalid padding: ${n}`);if(i<0)throw new Lc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Bs.fromNumber(i)));return a.compare(k4)===1&&(a=new Bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hT(e),[i,a]=fT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Oy(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=hT(e),[i,a]=fT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vd(Ue.min(),a,new It(Qe),Qi(),Xe())}}class wu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new wu(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class lS{constructor(e,n){this.targetId=e,this.Ce=n}}class cS{constructor(e,n,i=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class dT{constructor(){this.ve=0,this.Fe=mT(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Oe(38017,{changeType:l})}})),new wu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=mT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=nf(),this.He=nf(),this.Ye=new It(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ng(l))if(i===0){const u=new Re(l.path);this.et(n,u,Rn.newNoDocument(u,Ue.min()))}else lt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Gs(i).toUint8Array()}catch(m){if(m instanceof Mx)return ul("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Oy(u,a,l)}catch(m){return ul(m instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ng(f.target)){const m=new Re(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Rn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Xe();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new vd(e,n,this.Ye,this.je,i);return this.je=Qi(),this.Je=nf(),this.He=nf(),this.Ye=new It(Qe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nf(){return new It(Re.comparator)}function mT(){return new It(Re.comparator)}const U4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class F4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||hd(e)?e:{value:e}}function qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z4(t,e){return qf(t,e.toTimestamp())}function ei(t){return lt(!!t,49232),Ue.fromTimestamp((function(n){const i=Hs(n);return new Tt(i.seconds,i.nanos)})(t))}function My(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function hS(t){const e=_t.fromString(t);return lt(gS(e),10190,{key:e.toString()}),e}function Pg(t,e){return My(t.databaseId,e.path)}function zp(t,e){const n=hS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(dS(n))}function fS(t,e){return My(t.databaseId,e)}function q4(t){const e=hS(t);return e.length===4?_t.emptyPath():dS(e)}function Og(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dS(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pT(t,e,n){return{name:Pg(t,e),fields:n.value.mapValue.fields}}function H4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(lt(v===void 0||typeof v=="string",58123),bn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),bn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?ie.UNKNOWN:oS(p.code);return new ve(v,p.message||"")})(u);n=new cS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=zp(t,i.document.name),l=ei(i.document.updateTime),u=i.document.createTime?ei(i.document.createTime):Ue.min(),f=new mr({mapValue:{fields:i.document.fields}}),m=Rn.newFoundDocument(a,l,u,f),p=i.targetIds||[],v=i.removedTargetIds||[];n=new _f(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=zp(t,i.document),l=i.readTime?ei(i.readTime):Ue.min(),u=Rn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new _f([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=zp(t,i.document),l=i.removedTargetIds||[];n=new _f([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new O4(a,l),f=i.targetId;n=new lS(f,u)}}return n}function G4(t,e){let n;if(e instanceof Tu)n={update:pT(t,e.key,e.value)};else if(e instanceof aS)n={delete:Pg(t,e.key)};else if(e instanceof to)n={update:pT(t,e.key,e.data),updateMask:eM(e.fieldMask)};else{if(!(e instanceof I4))return Oe(16599,{Vt:e.type});n={verify:Pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Ff)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ru)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Oe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function $4(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ei(a.updateTime):ei(l);return u.isEqual(Ue.min())&&(u=ei(l)),new R4(u,a.transformResults||[])})(n,e)))):[]}function K4(t,e){return{documents:[fS(t,e.path)]}}function Y4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fS(t,a);const l=(function(p){if(p.length!==0)return pS(Pr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:Qo(b.field),direction:W4(b.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Ig(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Q4(t){let e=q4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){lt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const b=mS(_);return b instanceof Pr&&Hx(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((b=>(function(C){return new jf(Xo(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,hd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,R=_.values||[];return new pl(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,R=_.values||[];return new pl(R,b)})(n.endAt)),m4(e,a,u,l,f,"F",m,p)}function X4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xo(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(n.unaryFilter.field);return Qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(n.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(Xo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pr.create(n.compositeFilter.filters.map((i=>mS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function W4(t){return U4[t]}function Z4(t){return j4[t]}function J4(t){return B4[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return _n.fromServerFormat(t.fieldPath)}function pS(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:Z4(n.op),value:n.value}}})(t):t instanceof Pr?(function(n){const i=n.getFilters().map((a=>pS(a)));return i.length===1?i[0]:{compositeFilter:{op:J4(n.op),filters:i}}})(t):Oe(54877,{filter:t})}function eM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,i,a,l=Ue.min(),u=Ue.min(),f=bn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.yt=e}}function nM(t){const e=Q4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Cn=new iM}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(qs.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class iM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new rn(_t.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new rn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(yS,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",sM=1048576;function vT([t,e],[n,i]){const a=Qe(t,n);return a===0?Qe(e,i):a}class aM{constructor(e){this.Ir=e,this.buffer=new rn(vT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(yT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?we(yT,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.Vr(3e5)}))}}class lM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(ud.ce);const i=new aM(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(gT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(p=Date.now(),Ko()<=Ye.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function cM(t,e){return new lM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.changes=new eo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Hc(i.mutation,a,Cr.empty(),Tt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const a=La();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=kc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=La();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=Qi();const u=qc(),f=(function(){return qc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof to)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Hc(v.mutation,p,v.mutation.getFieldMask(),Tt.now())):u.set(p.key,Cr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>f.set(p,new hM(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=qc();let a=new It(((u,f)=>u-f)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Cr.empty();v=f.applyToLocalView(p,v),i.set(m,v);const _=(a.get(f.batchId)||Xe()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=Zx();v.forEach((b=>{if(!l.has(b)){const R=iS(n.get(b),i.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return he.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Iy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):he.resolve(La());let f=Jc,m=l;return u.next((p=>he.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{m=m.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Xe()))).next((v=>({batchId:f,changes:Wx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((i=>{let a=kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(_,b){return new Sl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Rn.newInvalidDocument(v)))}));let f=kc();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Hc(v.mutation,p,Cr.empty(),Tt.now()),pd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ei(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:nM(a.bundledQuery),readTime:ei(a.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.overlays=new It(Re.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=La();return he.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const a=La(),l=n.length+1,u=new Re(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new It(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=La(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=La(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return he.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new P4(n,i));let l=this.qr.get(n);l===void 0&&(l=Xe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Re(new _t([])),i=new un(n,e),a=new un(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new _t([])),i=new un(n,e),a=new un(n,e+1);let l=Xe();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new D4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new un(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Sy:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),a=new un(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Qe);return n.forEach((a=>{const l=new un(a,0),u=new un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),he.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const u=new un(new Re(l),0);let f=new rn(Qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),he.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return he.forEach(n.mutations,(a=>{const l=new un(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),a=this.Zr.firstAfterOrEqual(i);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.ri=e,this.docs=(function(){return new It(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let i=Qi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Rn.newInvalidDocument(a))})),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Qi();const u=n.path,f=new Re(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||$O(GO(v),i)<=0||(a.has(v.key)||pd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Oe(9500)}ii(e,n){return he.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new vM(this)}getSize(e){return he.resolve(this.size)}}class vM extends uM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.persistence=e,this.si=new eo((n=>Ry(n)),Ny),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Vy,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.ui={},this.overlays={},this.ci=new ud(0),this.li=!1,this.li=!0,this.hi=new pM,this.referenceDelegate=e(this),this.Pi=new EM(this),this.indexManager=new rM,this.remoteDocumentCache=(function(a){return new yM(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new tM(n),this.Ii=new dM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new gM(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){we("MemoryPersistence","Starting transaction:",e);const a=new _M(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return he.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class _M extends YO{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Vy,this.Vi=null}static mi(e){return new ky(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(i=>{const a=Re.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hf{constructor(e,n){this.persistence=e,this.pi=new eo((i=>WO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=cM(this,n)}static mi(e,n){return new Hf(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?he.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Ue.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yf(e.data.value)),n}br(e,n,i){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Xe(),a=Xe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ly(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sI()?8:QO(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new bM;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Ko()<=Ye.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Ko()<=Ye.DEBUG&&we("QueryEngine","Query:",Yo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ko()<=Ye.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):he.resolve())}ys(e,n){if(aT(n))return he.resolve(null);let i=Jr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Bf(n,null,"F"),i=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Xe(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,u,m.readTime)?this.ys(e,Bf(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,i,a){return aT(n)||a.isEqual(Ue.min())?he.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?he.resolve(null):(Ko()<=Ye.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(n)),this.vs(e,u,n,HO(a,Jc)).next((f=>f)))}))}Ds(e,n){let i=new rn(Qx(e));return n.forEach(((a,l)=>{pd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Ko()<=Ye.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ps.getDocumentsMatchingQuery(e,n,qs.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LocalStore",wM=3e8;class xM{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new It(Qe),this.xs=new eo((l=>Ry(l)),Ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SM(t,e,n,i){return new xM(t,e,n,i)}async function ES(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Xe();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function AM(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,b=_.keys();let R=he.resolve();return b.forEach((C=>{R=R.next((()=>v.getEntry(m,C))).next((P=>{const I=p.docVersions.get(C);lt(I!==null,48541),P.version.compareTo(I)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Xe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function _S(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RM(t,e){const n=je(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(bn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(_,R),(function(P,I,j){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=wM?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,R,v)&&f.push(n.Pi.updateTargetData(l,R))}));let m=Qi(),p=Xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(NM(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!i.isEqual(Ue.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return he.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function NM(t,e,n){let i=Xe(),a=Xe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Qi();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):we(Uy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function CM(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Sy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function IM(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,he.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new ks(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Mg(t,e,n){const i=je(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!xl(u))throw u;we(Uy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function ET(t,e,n){const i=je(t);let a=Ue.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const _=je(m),b=_.xs.get(v);return b!==void 0?he.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,v)})(i,u,Jr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Ue.min(),n?l:Xe()))).next((f=>(DM(i,g4(e),f),{documents:f,Qs:l})))))}function DM(t,e,n){let i=t.Os.get(e)||Ue.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class _T{constructor(){this.activeTargetIds=T4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PM{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(bT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function Vg(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",MM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Vg(),f=this.zo(e,n.toUriEncodedString());we(qp,`Sending RPC '${e}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=Xa(p);return this.Jo(e,f,m,i,v).then((_=>(we(qp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw ul(qp,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=MM[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class LM extends VM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Vg();return new Promise(((f,m)=>{const p=new wx;p.setWithCredentials(!0),p.listenOnce(xx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gf.NO_ERROR:const _=p.getResponseJson();we(Sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case gf.TIMEOUT:we(Sn,`RPC '${e}' ${u} timed out`),m(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const b=p.getStatus();if(we(Sn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R?.error;if(C&&C.status&&C.message){const P=(function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(C.status);m(new ve(P,C.message))}else m(new ve(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{we(Sn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);we(Sn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=Vg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Rx(),f=Ax(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const v=l.join("");we(Sn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let b=!1,R=!1;const C=new kM({Yo:I=>{R?we(Sn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(we(Sn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),we(Sn,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},Zo:()=>_.close()}),P=(I,j,F)=>{I.listen(j,(H=>{try{F(H)}catch(le){setTimeout((()=>{throw le}),0)}}))};return P(_,Vc.EventType.OPEN,(()=>{R||(we(Sn,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),P(_,Vc.EventType.CLOSE,(()=>{R||(R=!0,we(Sn,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(_))})),P(_,Vc.EventType.ERROR,(I=>{R||(R=!0,ul(Sn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),P(_,Vc.EventType.MESSAGE,(I=>{if(!R){const j=I.data[0];lt(!!j,16349);const F=j,H=F?.error||F[0]?.error;if(H){we(Sn,`RPC '${e}' stream ${a} received error:`,H);const le=H.status;let B=(function(x){const N=Kt[x];if(N!==void 0)return oS(N)})(le),K=H.message;B===void 0&&(B=ie.INTERNAL,K="Unknown error status: "+le+" with message "+H.message),R=!0,C.a_(new ve(B,K)),_.close()}else we(Sn,`RPC '${e}' stream ${a} received:`,j),C.u_(j)}})),P(f,Sx.STAT_EVENT,(I=>{I.stat===Tg.PROXY?we(Sn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Tg.NOPROXY&&we(Sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new F4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class TS{constructor(e,n,i,a,l,u,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UM extends TS{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ue.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?ei(u.readTime):Ue.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Og(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Ng(m)?{documents:K4(l,m)}:{query:Y4(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=uS(l,u.resumeToken);const p=Ig(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=qf(l,u.snapshotVersion.toTimestamp());const p=Ig(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=X4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.q_(n)}}class jM extends TS{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$4(e.writeResults,e.commitTime),i=ei(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Og(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>G4(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{}class FM extends BM{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Dg(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ie.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Dg(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class qM{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{no(this)&&(we(Ya,"Restarting streams for network reachability change."),await(async function(m){const p=je(m);p.Ea.add(4),await xu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await _d(p)})(this))}))})),this.Ra=new zM(i,a)}}async function _d(t){if(no(t))for(const e of t.da)await e(!0)}async function xu(t){for(const e of t.da)await e(!1)}function wS(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zy(n)?Fy(n):Al(n).O_()&&By(n,e))}function jy(t,e){const n=je(t),i=Al(n);n.Ia.delete(e),i.O_()&&xS(n,e),n.Ia.size===0&&(i.O_()?i.L_():no(n)&&n.Ra.set("Unknown"))}function By(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).Y_(e)}function xS(t,e){t.Va.Ue(e),Al(t).Z_(e)}function Fy(t){t.Va=new L4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.Ra.ua()}function zy(t){return no(t)&&!Al(t).x_()&&t.Ia.size>0}function no(t){return je(t).Ea.size===0}function SS(t){t.Va=void 0}async function HM(t){t.Ra.set("Online")}async function GM(t){t.Ia.forEach(((e,n)=>{By(t,e)}))}async function $M(t,e){SS(t),zy(t)?(t.Ra.ha(e),Fy(t)):t.Ra.set("Unknown")}async function KM(t,e,n){if(t.Ra.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){we(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gf(t,i)}else if(e instanceof _f?t.Va.Ze(e):e instanceof lS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const i=await _S(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(bn.EMPTY_BYTE_STRING,v.snapshotVersion)),xS(l,m);const _=new ks(v.target,m,p,v.sequenceNumber);By(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){we(Ya,"Failed to raise snapshot:",i),await Gf(t,i)}}async function Gf(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await xu(t),t.Ra.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _d(t)}))}function AS(t,e){return e().catch((n=>Gf(t,n,e)))}async function bd(t){const e=je(t),n=Ks(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sy;for(;YM(e);)try{const a=await CM(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,QM(e,a)}catch(a){await Gf(e,a)}RS(e)&&NS(e)}function YM(t){return no(t)&&t.Ta.length<10}function QM(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RS(t){return no(t)&&!Ks(t).x_()&&t.Ta.length>0}function NS(t){Ks(t).start()}async function XM(t){Ks(t).ra()}async function WM(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZM(t,e,n){const i=t.Ta.shift(),a=Py.from(i,e,n);await AS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await bd(t)}async function JM(t,e){e&&Ks(t).X_&&await(async function(i,a){if((function(u){return M4(u)&&u!==ie.ABORTED})(a.code)){const l=i.Ta.shift();Ks(i).B_(),await AS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bd(i)}})(t,e),RS(t)&&NS(t)}async function xT(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),we(Ya,"RemoteStore received new credentials");const i=no(n);n.Ea.add(3),await xu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _d(n)}async function eV(t,e){const n=je(t);e?(n.Ea.delete(2),await _d(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Al(t){return t.ma||(t.ma=(function(n,i,a){const l=je(n);return l.sa(),new UM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:HM.bind(null,t),t_:GM.bind(null,t),r_:$M.bind(null,t),H_:KM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),zy(t)?Fy(t):t.Ra.set("Unknown")):(await t.ma.stop(),SS(t))}))),t.ma}function Ks(t){return t.fa||(t.fa=(function(n,i,a){const l=je(n);return l.sa(),new jM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XM.bind(null,t),r_:JM.bind(null,t),ta:WM.bind(null,t),na:ZM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await bd(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new qy(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),xl(t))return new ve(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Re.comparator(n.key,i.key):(n,i)=>Re.comparator(n.key,i.key),this.keyedMap=kc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ga=new It(Re.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class yl{constructor(e,n,i,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new yl(e,n,ol.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nV{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=je(n),l=a.queries;a.queries=AT(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function AT(){return new eo((t=>Yx(t)),md)}async function CS(t,e){const n=je(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new tV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Hy(u,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Gy(n)}async function IS(t,e){const n=je(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function rV(t,e){const n=je(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&Gy(n)}function iV(t,e,n){const i=je(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function Gy(t){t.Ca.forEach((e=>{e.next()}))}var kg,RT;(RT=kg||(kg={})).Ma="default",RT.Cache="cache";class DS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.key=e}}class OS{constructor(e){this.key=e}}class sV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Qx(e),this.tu=new ol(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new ST,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const b=a.get(v),R=pd(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let I=!1;b&&R?b.data.isEqual(R.data)?C!==P&&(i.track({type:3,doc:R}),I=!0):this.su(b,R)||(i.track({type:2,doc:R}),I=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!b&&R?(i.track({type:0,doc:R}),I=!0):b&&!R&&(i.track({type:1,doc:b}),I=!0,(m||p)&&(f=!0)),I&&(R?(u=u.add(R),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(R,C){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:I})}};return P(R)-P(C)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new yl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new OS(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new PS(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $y="SyncEngine";class aV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oV{constructor(e){this.key=e,this.hu=!1}}class lV{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new eo((f=>Yx(f)),md),this.Iu=new Map,this.Eu=new Set,this.du=new It(Re.comparator),this.Au=new Map,this.Ru=new Vy,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cV(t,e,n=!0){const i=jS(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await MS(i,e,n,!0),a}async function uV(t,e){const n=jS(t);await MS(n,e,!0,!1)}async function MS(t,e,n,i){const a=await IM(t.localStore,Jr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await hV(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&wS(t.remoteStore,a),f}async function hV(t,e,n,i,a){t.pu=(_,b,R)=>(async function(P,I,j,F){let H=I.view.ru(j);H.Cs&&(H=await ET(P.localStore,I.query,!1).then((({documents:O})=>I.view.ru(O,H))));const le=F&&F.targetChanges.get(I.targetId),B=F&&F.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(H,P.isPrimaryClient,le,B);return CT(P,I.targetId,K.au),K.snapshot})(t,_,b,R);const l=await ET(t.localStore,e,!0),u=new sV(e,l.Qs),f=u.ru(l.documents),m=wu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);CT(t,n,p.au);const v=new aV(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function fV(t,e,n){const i=je(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!md(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Mg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&jy(i.remoteStore,a.targetId),Lg(i,a.targetId)})).catch(wl)):(Lg(i,a.targetId),await Mg(i.localStore,a.targetId,!0))}async function dV(t,e){const n=je(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jy(n.remoteStore,i.targetId))}async function mV(t,e,n){const i=bV(t);try{const a=await(function(u,f){const m=je(u),p=Tt.now(),v=f.reduce(((R,C)=>R.add(C.key)),Xe());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let C=Qi(),P=Xe();return m.Ns.getEntries(R,v).next((I=>{C=I,C.forEach(((j,F)=>{F.isValidDocument()||(P=P.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,C))).next((I=>{_=I;const j=[];for(const F of f){const H=C4(F,_.get(F.key).overlayedDocument);H!=null&&j.push(new to(F.key,H,Fx(H.value.mapValue),qi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,j,f)})).next((I=>{b=I;const j=I.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(R,I.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:Wx(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new It(Qe)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await Su(i,a.changes),await bd(i.remoteStore)}catch(a){const l=Hy(a,"Failed to persist write");n.reject(l)}}async function VS(t,e){const n=je(t);try{const i=await RM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?lt(u.hu,14607):a.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await Su(n,i,e)}catch(i){await wl(i)}}function NT(t,e,n){const i=je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=je(u);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&Gy(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pV(t,e,n){const i=je(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new It(Re.comparator);u=u.insert(l,Rn.newNoDocument(l,Ue.min()));const f=Xe().add(l),m=new vd(Ue.min(),new Map,new It(Qe),u,f);await VS(i,m),i.du=i.du.remove(l),i.Au.delete(e),Ky(i)}else await Mg(i.localStore,e,!1).then((()=>Lg(i,e,n))).catch(wl)}async function gV(t,e){const n=je(t),i=e.batch.batchId;try{const a=await AM(n.localStore,e);LS(n,i,null),kS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Su(n,a)}catch(a){await wl(a)}}async function yV(t,e,n){const i=je(t);try{const a=await(function(u,f){const m=je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(lt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);LS(i,e,n),kS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Su(i,a)}catch(a){await wl(a)}}function kS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LS(t,e,n){const i=je(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||US(t,i)}))}function US(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ky(t))}function CT(t,e,n){for(const i of n)i instanceof PS?(t.Ru.addReference(i.key,e),vV(t,i)):i instanceof OS?(we($y,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||US(t,i.key)):Oe(19791,{wu:i})}function vV(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(we($y,"New document in limbo: "+n),t.Eu.add(i),Ky(t))}function Ky(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(_t.fromString(e)),i=t.fu.next();t.Au.set(i,new oV(n)),t.du=t.du.insert(n,i),wS(t.remoteStore,new ks(Jr(Cy(n.path)),i,"TargetPurposeLimboResolution",ud.ce))}}async function Su(t,e,n){const i=je(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Ly.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const v=je(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>he.forEach(p,(b=>he.forEach(b.Es,(R=>v.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>he.forEach(b.ds,(R=>v.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!xl(_))throw _;we(Uy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=v.Ms.get(b),C=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(b,P)}}})(i.localStore,l))}async function EV(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){we($y,"User change. New user:",e.toKey());const i=await ES(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Su(n,i.Ls)}}function _V(t,e){const n=je(t),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function jS(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pV.bind(null,e),e.Pu.H_=rV.bind(null,e.eventManager),e.Pu.yu=iV.bind(null,e.eventManager),e}function bV(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yV.bind(null,e),e}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SM(this.persistence,new TM,e.initialUser,this.serializer)}Cu(e){return new vS(ky.mi,this.serializer)}Du(e){return new PM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class TV extends $f{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new vS((i=>Hf.mi(i,n)),this.serializer)}}class Ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=EV.bind(null,this.syncEngine),await eV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nV})()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),i=(function(l){return new LM(l)})(e.databaseInfo);return(function(l,u,f,m){return new FM(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new qM(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return TT.v()?new TT:new OM})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,v){const _=new lV(a,l,u,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=je(n);we(Ya,"RemoteStore shutting down."),i.Ea.add(5),await xu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ug.provider={build:()=>new Ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class wV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{we(Ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(we(Ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ES(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xV(t);we(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>xT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>xT(e.remoteStore,a))),t._onlineComponents=e}async function xV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ys,"Using user provided OfflineComponentProvider");try{await Gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Gp(t,new $f)}}else we(Ys,"Using default OfflineComponentProvider"),await Gp(t,new TV(void 0));return t._offlineComponents}async function FS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ys,"Using user provided OnlineComponentProvider"),await IT(t,t._uninitializedComponentsProvider._online)):(we(Ys,"Using default OnlineComponentProvider"),await IT(t,new Ug))),t._onlineComponents}function SV(t){return FS(t).then((e=>e.syncEngine))}async function zS(t){const e=await FS(t),n=e.eventManager;return n.onListen=cV.bind(null,e.syncEngine),n.onUnlisten=fV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dV.bind(null,e.syncEngine),n}function AV(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new BS({next:b=>{v.Nu(),u.enqueueAndForget((()=>IS(l,_)));const R=b.docs.has(f);!R&&b.fromCache?p.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new DS(Cy(f.path),v,{includeMetadataChanges:!0,qa:!0});return CS(l,_)})(await zS(t),t.asyncQueue,e,n,i))),i.promise}function RV(t,e,n={}){const i=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new BS({next:b=>{v.Nu(),u.enqueueAndForget((()=>IS(l,_))),b.fromCache&&m.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new DS(f,v,{includeMetadataChanges:!0,qa:!0});return CS(l,_)})(await zS(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firestore.googleapis.com",PT=!0;class OT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HS,this.ssl=PT}else this.host=e.host,this.ssl=e.ssl??PT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sM)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new OO;switch(i.type){case"firstParty":return new LO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=DT.get(n);i&&(we("ComponentProvider","Removing Datastore"),DT.delete(n),i.terminate())})(this),Promise.resolve()}}function NV(t,e,n,i={}){t=fl(t,Td);const a=Xa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(fy(`https://${f}`),dy("Firestore",!0)),l.host!==HS&&l.host!==f&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!qa(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=An.MOCK_USER;else{p=V1(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new An(_)}t._authCredentials=new MO(new Cx(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class nn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(bu(n,nn._jsonSchema))return new nn(e,i||null,new Re(_t.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:Xt("string",nn._jsonSchemaVersion),referencePath:Xt("string")};class Fs extends ea{constructor(e,n,i){super(e,n,Cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Re(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function ro(t,e,...n){if(t=kn(t),Ix("collection","path",e),t instanceof Td){const i=_t.fromString(e,...n);return Kb(i),new Fs(t,null,i)}{if(!(t instanceof nn||t instanceof Fs))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return Kb(i),new Fs(t.firestore,null,i)}}function Yy(t,e,...n){if(t=kn(t),arguments.length===1&&(e=xy.newId()),Ix("doc","path",e),t instanceof Td){const i=_t.fromString(e,...n);return $b(i),new nn(t,null,new Re(i))}{if(!(t instanceof nn||t instanceof Fs))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return $b(i),new nn(t.firestore,t instanceof Fs?t.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const i=Hp();i&&we(MT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;we(MT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",kT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=qy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:kT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wd extends Td{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new VT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function CV(t,e){const n=typeof t=="object"?t:gy(),i=typeof t=="string"?t:kf,a=sd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=P1("firestore");l&&NV(a,...l)}return a}function Qy(t){if(t._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IV(t),t._firestoreClient}function IV(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new e4(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(bn.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Xt("string",pr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function DV(){return new xd(xg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(bu(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Xt("string",ti._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ni(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Xt("string",ni._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class OV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}function $S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class Xy{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($S(this.Ac)&&PV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ed(e)}Cc(e,n,i,a=!1){return new Xy({Ac:e,methodName:n,Dc:i,path:_n.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wy(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new MV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VV(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);XS("Data must be an object, but it was:",u,i);const f=YS(i,u);let m,p;if(l.merge)m=new Cr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=kV(e,_,n);if(!u.contains(b))throw new ve(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);UV(v,b)||v.push(b)}m=new Cr(v),p=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=u.fieldTransforms;return new OV(new mr(f),m,p)}function KS(t,e,n,i=!1){return Zy(n,t.Cc(i?4:3,e))}function Zy(t,e){if(QS(t=kn(t)))return XS("Unsupported field value:",e,t),YS(t,e);if(t instanceof GS)return(function(i,a){if(!$S(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=Zy(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:qf(a.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qf(a.serializer,l)}}if(i instanceof ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:uS(a.serializer,i._byteString)};if(i instanceof nn){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:My(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ni)return(function(u,f){return{mapValue:{fields:{[jx]:{stringValue:Bx},[Lf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Dy(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${cd(i)}`)})(t,e)}function YS(t,e){const n={};return Ox(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,((i,a)=>{const l=Zy(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function QS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ti||t instanceof pr||t instanceof nn||t instanceof GS||t instanceof ni)}function XS(t,e,n){if(!QS(n)||!Dx(n)){const i=cd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function kV(t,e,n){if((e=kn(e))instanceof xd)return e._internalPath;if(typeof e=="string")return WS(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const LV=new RegExp("[~\\*/\\[\\]]");function WS(t,e,n){if(e.search(LV)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ve(ie.INVALID_ARGUMENT,f+t+m)}function UV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jV extends Jy{data(){return super.data()}}function e0(t,e){return typeof e=="string"?WS(t,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class n0 extends t0{}function Mn(t,e,...n){let i=[];e instanceof t0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof r0)).length,f=l.filter((m=>m instanceof Sd)).length;if(u>1||u>0&&f>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Sd extends n0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Sd(e,n,i)}_apply(e){const n=this._parse(e);return ZS(e._query,n),new ea(e.firestore,e.converter,Cg(e._query,n))}_parse(e){const n=Wy(e.firestore);return(function(l,u,f,m,p,v,_){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(_,v);const C=[];for(const P of _)C.push(LT(m,l,P));b={arrayValue:{values:C}}}else b=LT(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(_,v),b=KS(f,u,_,v==="in"||v==="not-in");return Qt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ri(t,e,n){const i=e,a=e0("where",t);return Sd._create(a,i,n)}class r0 extends t0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)ZS(u,m),u=Cg(u,m)})(e._query,n),new ea(e.firestore,e.converter,Cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends n0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new i0(e,n,i)}_apply(e){return new ea(e.firestore,e.converter,Bf(e._query,this._limit,this._limitType))}}function Qs(t){return i0._create("limit",t,"F")}class s0 extends n0{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new s0(e,n,i)}_apply(e){const n=FV(e,this.type,this._docOrFields,this._inclusive);return new ea(e.firestore,e.converter,(function(a,l){return new Sl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,n))}}function Ad(...t){return s0._create("startAfter",t,!1)}function FV(t,e,n,i){if(n[0]=kn(n[0]),n[0]instanceof Jy)return(function(l,u,f,m,p){if(!m)throw new ve(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const _ of al(l))if(_.field.isKeyField())v.push(Uf(u,m.key));else{const b=m.data.field(_.field);if(fd(b))throw new ve(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const R=_.field.canonicalString();throw new ve(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(b)}return new pl(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,i);{const a=Wy(t.firestore);return(function(u,f,m,p,v,_){const b=u.explicitOrderBy;if(v.length>b.length)throw new ve(ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let C=0;C<v.length;C++){const P=v[C];if(b[C].field.isKeyField()){if(typeof P!="string")throw new ve(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!Iy(u)&&P.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const I=u.path.child(_t.fromString(P));if(!Re.isDocumentKey(I))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const j=new Re(I);R.push(Uf(f,j))}else{const I=KS(m,p,P);R.push(I)}}return new pl(R,_)})(t._query,t.firestore._databaseId,a,e,n,i)}}function LT(t,e,n){if(typeof(n=kn(n))=="string"){if(n==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iy(e)&&n.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!Re.isDocumentKey(i))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uf(t,new Re(i))}if(n instanceof nn)return Uf(t,n._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zV{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ja(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Lf].arrayValue?.values?.map((i=>Bt(i.doubleValue)));return new ni(n)}convertGeoPoint(e){return new ti(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=dd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);lt(gS(i),9688,{name:e});const a=new tu(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(n)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends Jy{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(e0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Xt("string",Ba._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class bf extends Ba{data(e={}){return super.data(e)}}class ll{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Uc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new bf(this._firestore,this._userDataWriter,i.key,i,new Uc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:HV(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){t=fl(t,nn);const e=fl(t.firestore,wd);return AV(Qy(e),t._key).then((n=>KV(e,t,n)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Xt("string",ll._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class eA extends zV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Rl(t){t=fl(t,ea);const e=fl(t.firestore,wd),n=Qy(e),i=new eA(e);return BV(t._query),RV(n,t._query).then((a=>new ll(e,i,t,a)))}function GV(t,e){const n=fl(t.firestore,wd),i=Yy(t),a=qV(t.converter,e);return $V(n,[VV(Wy(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,qi.exists(!1))]).then((()=>i))}function $V(t,e){return(function(i,a){const l=new zi;return i.asyncQueue.enqueueAndForget((async()=>mV(await SV(i),a,l))),l.promise})(Qy(t),e)}function KV(t,e,n){const i=n.docs.get(e._key),a=new eA(t);return new Ba(t,a,e._key,i,new Uc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Tl=a})(Wa),Ha(new zs("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new wd(new VO(i.getProvider("auth-internal")),new UO(u,i.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xr(qb,Hb,e),Xr(qb,Hb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebasestorage.googleapis.com",YV="storageBucket",QV=120*1e3,XV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ui{constructor(e,n,i=0){super($p(e),`Firebase Storage: ${n} (${$p(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function $p(t){return"storage/"+t}function WV(){const t="An unknown error occurred, please check the error payload for server response.";return new hi(oi.UNKNOWN,t)}function ZV(){return new hi(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JV(){return new hi(oi.CANCELED,"User canceled the upload/download.")}function ek(t){return new hi(oi.INVALID_URL,"Invalid URL '"+t+"'.")}function tk(t){return new hi(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jT(t){return new hi(oi.INVALID_ARGUMENT,t)}function nA(){return new hi(oi.APP_DELETED,"The Firebase app was deleted.")}function nk(t){return new hi(oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(i.path==="")return i;throw tk(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${v}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},P=n===tA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",j=new RegExp(`^https?://${P}/${a}/${I}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:R,indices:C,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<H.length;le++){const B=H[le],K=B.regex.exec(e);if(K){const O=K[B.indices.bucket];let x=K[B.indices.path];x||(x=""),i=new Ir(O,x),B.postModify(i);break}}if(i==null)throw ek(e);return i}}class rk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e,n){let i=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function v(...I){p||(p=!0,e.apply(null,I))}function _(I){a=setTimeout(()=>{a=null,t(R,m())},I)}function b(){l&&clearTimeout(l)}function R(I,...j){if(p){b();return}if(I){b(),v.call(null,I,...j);return}if(m()||u){b(),v.call(null,I,...j);return}i<64&&(i*=2);let H;f===1?(f=2,H=0):H=(i+Math.random())*1e3,_(H)}let C=!1;function P(I){C||(C=!0,b(),!p&&(a!==null?(I||(f=2),clearTimeout(a),_(0)):I||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,P(!0)},n),P}function sk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return t!==void 0}function BT(t,e,n,i){if(i<e)throw jT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw jT(`Invalid value for '${t}'. Expected ${n} or less.`)}function ok(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Yf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,i,a,l,u,f,m,p,v,_,b=!0,R=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new sf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Yf.NO_ERROR,m=l.getStatus();if(!f||lk(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Yf.ABORT;i(!1,new sf(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new sf(p,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());ak(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=WV();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?nA():JV();u(m)}else{const m=ZV();u(m)}};this.canceled_?n(!1,new sf(!1,null,!0)):this.backoffId_=ik(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function uk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mk(t,e,n,i,a,l,u=!0,f=!1){const m=ok(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return fk(v,e),uk(v,n),hk(v,l),dk(v,i),new ck(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qf(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gk(this._location.path)}get storage(){return this._service}get parent(){const e=pk(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new Qf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nk(e)}}function FT(t,e){const n=e?.[YV];return n==null?null:Ir.makeFromBucketSpec(n,t)}function yk(t,e,n,i={}){t.host=`${e}:${n}`;const a=Xa(e);a&&(fy(`https://${t.host}/b`),dy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:V1(l,t.app.options.projectId))}class vk{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=tA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QV,this._maxUploadRetryTime=XV,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=FT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=FT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new rk(nA());{const u=mk(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const zT="@firebase/storage",qT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="storage";function Ek(t=gy(),e){t=kn(t);const i=sd(t,rA).getImmediate({identifier:e}),a=P1("storage");return a&&_k(i,...a),i}function _k(t,e,n,i={}){yk(t,e,n,i)}function bk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new vk(n,i,a,e,Wa)}function Tk(){Ha(new zs(rA,bk,"PUBLIC").setMultipleInstances(!0)),Xr(zT,qT,""),Xr(zT,qT,"esm2020")}Tk();const wk={apiKey:"AIzaSyAGm3bzsCxYSARcgVn41ta_EOut9fauWr0",authDomain:"ecommerce-74229.firebaseapp.com",projectId:"ecommerce-74229",storageBucket:"ecommerce-74229.firebasestorage.app",messagingSenderId:"47160479095",appId:"1:47160479095:web:0dd3a844d5d5c3847ea572",measurementId:"G-47FYXTR59Z"},a0=U1(wk),Zi=CV(a0);Ek(a0);const o0=CO(a0),xk="modulepreload",Sk=function(t){return"/Ecommerce/"+t},HT={},Ji=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=Sk(p),p in HT)return;HT[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":xk,v||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),v)return new Promise((R,C)=>{b.addEventListener("load",R),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var Kp={exports:{}},GT;function Ak(){return GT||(GT=1,(()=>{var t={296:(a,l,u)=>{var f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt,b=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,R=typeof self=="object"&&self&&self.Object===Object&&self,C=b||R||Function("return this")(),P=Object.prototype.toString,I=Math.max,j=Math.min,F=function(){return C.Date.now()};function H(B){var K=typeof B;return!!B&&(K=="object"||K=="function")}function le(B){if(typeof B=="number")return B;if((function(x){return typeof x=="symbol"||(function(N){return!!N&&typeof N=="object"})(x)&&P.call(x)=="[object Symbol]"})(B))return NaN;if(H(B)){var K=typeof B.valueOf=="function"?B.valueOf():B;B=H(K)?K+"":K}if(typeof B!="string")return B===0?B:+B;B=B.replace(f,"");var O=p.test(B);return O||v.test(B)?_(B.slice(2),O?2:8):m.test(B)?NaN:+B}a.exports=function(B,K,O){var x,N,M,U,q,V,qe=0,He=!1,J=!1,fe=!0;if(typeof B!="function")throw new TypeError("Expected a function");function ye(ue){var be=x,Ce=N;return x=N=void 0,qe=ue,U=B.apply(Ce,be)}function Ie(ue){var be=ue-V;return V===void 0||be>=K||be<0||J&&ue-qe>=M}function k(){var ue=F();if(Ie(ue))return se(ue);q=setTimeout(k,(function(be){var Ce=K-(be-V);return J?j(Ce,M-(be-qe)):Ce})(ue))}function se(ue){return q=void 0,fe&&x?ye(ue):(x=N=void 0,U)}function pe(){var ue=F(),be=Ie(ue);if(x=arguments,N=this,V=ue,be){if(q===void 0)return(function(Ce){return qe=Ce,q=setTimeout(k,K),He?ye(Ce):U})(V);if(J)return q=setTimeout(k,K),ye(V)}return q===void 0&&(q=setTimeout(k,K)),U}return K=le(K)||0,H(O)&&(He=!!O.leading,M=(J="maxWait"in O)?I(le(O.maxWait)||0,K):M,fe="trailing"in O?!!O.trailing:fe),pe.cancel=function(){q!==void 0&&clearTimeout(q),qe=0,x=V=N=q=void 0},pe.flush=function(){return q===void 0?U:se(F())},pe}},96:(a,l,u)=>{var f="Expected a function",m=NaN,p="[object Symbol]",v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,R=/^0o[0-7]+$/i,C=parseInt,P=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,I=typeof self=="object"&&self&&self.Object===Object&&self,j=P||I||Function("return this")(),F=Object.prototype.toString,H=Math.max,le=Math.min,B=function(){return j.Date.now()};function K(x){var N=typeof x;return!!x&&(N=="object"||N=="function")}function O(x){if(typeof x=="number")return x;if((function(U){return typeof U=="symbol"||(function(q){return!!q&&typeof q=="object"})(U)&&F.call(U)==p})(x))return m;if(K(x)){var N=typeof x.valueOf=="function"?x.valueOf():x;x=K(N)?N+"":N}if(typeof x!="string")return x===0?x:+x;x=x.replace(v,"");var M=b.test(x);return M||R.test(x)?C(x.slice(2),M?2:8):_.test(x)?m:+x}a.exports=function(x,N,M){var U=!0,q=!0;if(typeof x!="function")throw new TypeError(f);return K(M)&&(U="leading"in M?!!M.leading:U,q="trailing"in M?!!M.trailing:q),(function(V,qe,He){var J,fe,ye,Ie,k,se,pe=0,ue=!1,be=!1,Ce=!0;if(typeof V!="function")throw new TypeError(f);function Se(yt){var zt=J,Dt=fe;return J=fe=void 0,pe=yt,Ie=V.apply(Dt,zt)}function At(yt){var zt=yt-se;return se===void 0||zt>=qe||zt<0||be&&yt-pe>=ye}function We(){var yt=B();if(At(yt))return Tn(yt);k=setTimeout(We,(function(zt){var Dt=qe-(zt-se);return be?le(Dt,ye-(zt-pe)):Dt})(yt))}function Tn(yt){return k=void 0,Ce&&J?Se(yt):(J=fe=void 0,Ie)}function hn(){var yt=B(),zt=At(yt);if(J=arguments,fe=this,se=yt,zt){if(k===void 0)return(function(Dt){return pe=Dt,k=setTimeout(We,qe),ue?Se(Dt):Ie})(se);if(be)return k=setTimeout(We,qe),Se(se)}return k===void 0&&(k=setTimeout(We,qe)),Ie}return qe=O(qe)||0,K(He)&&(ue=!!He.leading,ye=(be="maxWait"in He)?H(O(He.maxWait)||0,qe):ye,Ce="trailing"in He?!!He.trailing:Ce),hn.cancel=function(){k!==void 0&&clearTimeout(k),pe=0,J=se=fe=k=void 0},hn.flush=function(){return k===void 0?Ie:Tn(B())},hn})(x,N,{leading:U,maxWait:N,trailing:q})}},703:(a,l,u)=>{var f=u(414);function m(){}function p(){}p.resetWarningCache=m,a.exports=function(){function v(R,C,P,I,j,F){if(F!==f){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}}function _(){return v}v.isRequired=v;var b={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:_,element:v,elementType:v,instanceOf:_,node:v,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:p,resetWarningCache:m};return b.PropTypes=b,b}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(a){var l=e[a];if(l!==void 0)return l.exports;var u=e[a]={exports:{}};return t[a](u,u.exports,n),u.exports}n.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return n.d(l,{a:l}),l},n.d=(a,l)=>{for(var u in l)n.o(l,u)&&!n.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{LazyLoadComponent:()=>zt,LazyLoadImage:()=>ia,trackWindowScroll:()=>Ie});const a=td();var l=n.n(a),u=n(697);function f(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(me){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},m(me)}function p(me,$){var re=Object.keys(me);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(me);$&&(de=de.filter((function(Ne){return Object.getOwnPropertyDescriptor(me,Ne).enumerable}))),re.push.apply(re,de)}return re}function v(me,$,re){return($=b($))in me?Object.defineProperty(me,$,{value:re,enumerable:!0,configurable:!0,writable:!0}):me[$]=re,me}function _(me,$){for(var re=0;re<$.length;re++){var de=$[re];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(me,b(de.key),de)}}function b(me){var $=(function(re,de){if(m(re)!=="object"||re===null)return re;var Ne=re[Symbol.toPrimitive];if(Ne!==void 0){var Be=Ne.call(re,"string");if(m(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(re)})(me);return m($)==="symbol"?$:String($)}function R(me,$){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,de){return re.__proto__=de,re},R(me,$)}function C(me){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},C(me)}var P=function(me){me.forEach((function($){$.isIntersecting&&$.target.onVisible()}))},I={},j=(function(me){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&R(te,ae)})(nt,me);var $,re,de,Ne,Be=(de=nt,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ae=C(de);if(Ne){var Te=C(this).constructor;te=Reflect.construct(ae,arguments,Te)}else te=ae.apply(this,arguments);return(function(Ee,_e){if(_e&&(m(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le})(Ee)})(this,te)});function nt(te){var ae;if((function(Ee,_e){if(!(Ee instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,nt),(ae=Be.call(this,te)).supportsObserver=!te.scrollPosition&&te.useIntersectionObserver&&f(),ae.supportsObserver){var Te=te.threshold;ae.observer=(function(Ee){return I[Ee]=I[Ee]||new IntersectionObserver(P,{rootMargin:Ee+"px"}),I[Ee]})(Te)}return ae}return $=nt,re=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ae=this.placeholder.getBoundingClientRect(),Te=this.placeholder.style,Ee=parseInt(Te.getPropertyValue("margin-left"),10)||0,_e=parseInt(Te.getPropertyValue("margin-top"),10)||0;return{bottom:te.y+ae.bottom+_e,left:te.x+ae.left+Ee,right:te.x+ae.right+Ee,top:te.y+ae.top+_e}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var te=this.props,ae=te.scrollPosition,Te=te.threshold,Ee=this.getPlaceholderBoundingBox(ae),_e=ae.y+window.innerHeight,Le=ae.x,ct=ae.x+window.innerWidth,ut=ae.y;return ut-Te<=Ee.bottom&&_e+Te>=Ee.top&&Le-Te<=Ee.right&&ct+Te>=Ee.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var te=this,ae=this.props,Te=ae.className,Ee=ae.height,_e=ae.placeholder,Le=ae.style,ct=ae.width;if(_e&&typeof _e.type!="function")return l().cloneElement(_e,{ref:function(it){return te.placeholder=it}});var ut=(function(it){for(var vt=1;vt<arguments.length;vt++){var at=arguments[vt]!=null?arguments[vt]:{};vt%2?p(Object(at),!0).forEach((function(Pt){v(it,Pt,at[Pt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(at)):p(Object(at)).forEach((function(Pt){Object.defineProperty(it,Pt,Object.getOwnPropertyDescriptor(at,Pt))}))}return it})({display:"inline-block"},Le);return ct!==void 0&&(ut.width=ct),Ee!==void 0&&(ut.height=Ee),l().createElement("span",{className:Te,ref:function(it){return te.placeholder=it},style:ut},_e)}}],re&&_($.prototype,re),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);j.propTypes={onVisible:u.PropTypes.func.isRequired,className:u.PropTypes.string,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),placeholder:u.PropTypes.element,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,scrollPosition:u.PropTypes.shape({x:u.PropTypes.number.isRequired,y:u.PropTypes.number.isRequired}),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string])},j.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const F=j;var H=n(296),le=n.n(H),B=n(96),K=n.n(B),O=function(me){var $=getComputedStyle(me,null);return $.getPropertyValue("overflow")+$.getPropertyValue("overflow-y")+$.getPropertyValue("overflow-x")};const x=function(me){if(!(me instanceof HTMLElement))return window;for(var $=me;$&&$ instanceof HTMLElement;){if(/(scroll|auto)/.test(O($)))return $;$=$.parentNode}return window};function N(me){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},N(me)}var M=["delayMethod","delayTime"];function U(){return U=Object.assign?Object.assign.bind():function(me){for(var $=1;$<arguments.length;$++){var re=arguments[$];for(var de in re)Object.prototype.hasOwnProperty.call(re,de)&&(me[de]=re[de])}return me},U.apply(this,arguments)}function q(me,$){for(var re=0;re<$.length;re++){var de=$[re];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(me,(Ne=(function(Be,nt){if(N(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(N(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)})(de.key),N(Ne)==="symbol"?Ne:String(Ne)),de)}var Ne}function V(me,$){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,de){return re.__proto__=de,re},V(me,$)}function qe(me,$){if($&&(N($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(me)}function He(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function J(me){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},J(me)}var fe=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ye=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Ie=function(me){var $=(function(re){(function(Te,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Ee&&V(Te,Ee)})(ae,re);var de,Ne,Be,nt,te=(Be=ae,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Te,Ee=J(Be);if(nt){var _e=J(this).constructor;Te=Reflect.construct(Ee,arguments,_e)}else Te=Ee.apply(this,arguments);return qe(this,Te)});function ae(Te){var Ee;if((function(Le,ct){if(!(Le instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,ae),(Ee=te.call(this,Te)).useIntersectionObserver=Te.useIntersectionObserver&&f(),Ee.useIntersectionObserver)return qe(Ee);var _e=Ee.onChangeScroll.bind(He(Ee));return Te.delayMethod==="debounce"?Ee.delayedScroll=le()(_e,Te.delayTime):Te.delayMethod==="throttle"&&(Ee.delayedScroll=K()(_e,Te.delayTime)),Ee.state={scrollPosition:{x:fe(),y:ye()}},Ee.baseComponentRef=l().createRef(),Ee}return de=ae,(Ne=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||x(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=x(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:fe(),y:ye()}})}},{key:"render",value:function(){var Te=this.props,Ee=(Te.delayMethod,Te.delayTime,(function(Le,ct){if(Le==null)return{};var ut,it,vt=(function(Pt,fn){if(Pt==null)return{};var qn,Hn,mi={},br=Object.keys(Pt);for(Hn=0;Hn<br.length;Hn++)qn=br[Hn],fn.indexOf(qn)>=0||(mi[qn]=Pt[qn]);return mi})(Le,ct);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Le);for(it=0;it<at.length;it++)ut=at[it],ct.indexOf(ut)>=0||Object.prototype.propertyIsEnumerable.call(Le,ut)&&(vt[ut]=Le[ut])}return vt})(Te,M)),_e=this.useIntersectionObserver?null:this.state.scrollPosition;return l().createElement(me,U({forwardRef:this.baseComponentRef,scrollPosition:_e},Ee))}}])&&q(de.prototype,Ne),Object.defineProperty(de,"prototype",{writable:!1}),ae})(l().Component);return $.propTypes={delayMethod:u.PropTypes.oneOf(["debounce","throttle"]),delayTime:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool},$.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},$};function k(me){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},k(me)}function se(me,$){for(var re=0;re<$.length;re++){var de=$[re];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(me,(Ne=(function(Be,nt){if(k(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(k(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)})(de.key),k(Ne)==="symbol"?Ne:String(Ne)),de)}var Ne}function pe(me,$){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,de){return re.__proto__=de,re},pe(me,$)}function ue(me){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},ue(me)}var be=(function(me){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&pe(te,ae)})(nt,me);var $,re,de,Ne,Be=(de=nt,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ae=ue(de);if(Ne){var Te=ue(this).constructor;te=Reflect.construct(ae,arguments,Te)}else te=ae.apply(this,arguments);return(function(Ee,_e){if(_e&&(k(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le})(Ee)})(this,te)});function nt(te){return(function(ae,Te){if(!(ae instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,nt),Be.call(this,te)}return $=nt,(re=[{key:"render",value:function(){return l().createElement(F,this.props)}}])&&se($.prototype,re),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);const Ce=Ie(be);function Se(me){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},Se(me)}function At(me,$){for(var re=0;re<$.length;re++){var de=$[re];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(me,(Ne=(function(Be,nt){if(Se(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(Se(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)})(de.key),Se(Ne)==="symbol"?Ne:String(Ne)),de)}var Ne}function We(me,$){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,de){return re.__proto__=de,re},We(me,$)}function Tn(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function hn(me){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},hn(me)}var yt=(function(me){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&We(te,ae)})(nt,me);var $,re,de,Ne,Be=(de=nt,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ae=hn(de);if(Ne){var Te=hn(this).constructor;te=Reflect.construct(ae,arguments,Te)}else te=ae.apply(this,arguments);return(function(Ee,_e){if(_e&&(Se(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tn(Ee)})(this,te)});function nt(te){var ae;(function(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,nt),ae=Be.call(this,te);var Te=te.afterLoad,Ee=te.beforeLoad,_e=te.scrollPosition,Le=te.visibleByDefault;return ae.state={visible:Le},Le&&(Ee(),Te()),ae.onVisible=ae.onVisible.bind(Tn(ae)),ae.isScrollTracked=!!(_e&&Number.isFinite(_e.x)&&_e.x>=0&&Number.isFinite(_e.y)&&_e.y>=0),ae}return $=nt,(re=[{key:"componentDidUpdate",value:function(te,ae){ae.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var te=this.props,ae=te.className,Te=te.delayMethod,Ee=te.delayTime,_e=te.height,Le=te.placeholder,ct=te.scrollPosition,ut=te.style,it=te.threshold,vt=te.useIntersectionObserver,at=te.width;return this.isScrollTracked||vt&&f()?l().createElement(F,{className:ae,height:_e,onVisible:this.onVisible,placeholder:Le,scrollPosition:ct,style:ut,threshold:it,useIntersectionObserver:vt,width:at}):l().createElement(Ce,{className:ae,delayMethod:Te,delayTime:Ee,height:_e,onVisible:this.onVisible,placeholder:Le,style:ut,threshold:it,width:at})}}])&&At($.prototype,re),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);yt.propTypes={afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool},yt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const zt=yt;function Dt(me){return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},Dt(me)}var fi=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function es(me,$){var re=Object.keys(me);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(me);$&&(de=de.filter((function(Ne){return Object.getOwnPropertyDescriptor(me,Ne).enumerable}))),re.push.apply(re,de)}return re}function na(me){for(var $=1;$<arguments.length;$++){var re=arguments[$]!=null?arguments[$]:{};$%2?es(Object(re),!0).forEach((function(de){Ln(me,de,re[de])})):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(re)):es(Object(re)).forEach((function(de){Object.defineProperty(me,de,Object.getOwnPropertyDescriptor(re,de))}))}return me}function Ln(me,$,re){return($=di($))in me?Object.defineProperty(me,$,{value:re,enumerable:!0,configurable:!0,writable:!0}):me[$]=re,me}function ts(){return ts=Object.assign?Object.assign.bind():function(me){for(var $=1;$<arguments.length;$++){var re=arguments[$];for(var de in re)Object.prototype.hasOwnProperty.call(re,de)&&(me[de]=re[de])}return me},ts.apply(this,arguments)}function ra(me,$){for(var re=0;re<$.length;re++){var de=$[re];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(me,di(de.key),de)}}function di(me){var $=(function(re,de){if(Dt(re)!=="object"||re===null)return re;var Ne=re[Symbol.toPrimitive];if(Ne!==void 0){var Be=Ne.call(re,"string");if(Dt(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(re)})(me);return Dt($)==="symbol"?$:String($)}function _r(me,$){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,de){return re.__proto__=de,re},_r(me,$)}function ns(me){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},ns(me)}var Or=(function(me){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&_r(te,ae)})(nt,me);var $,re,de,Ne,Be=(de=nt,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ae=ns(de);if(Ne){var Te=ns(this).constructor;te=Reflect.construct(ae,arguments,Te)}else te=ae.apply(this,arguments);return(function(Ee,_e){if(_e&&(Dt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le})(Ee)})(this,te)});function nt(te){var ae;return(function(Te,Ee){if(!(Te instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,nt),(ae=Be.call(this,te)).state={loaded:!1},ae}return $=nt,(re=[{key:"onImageLoad",value:function(){var te=this;return this.state.loaded?null:function(ae){te.props.onLoad(ae),te.props.afterLoad(),te.setState({loaded:!0})}}},{key:"getImg",value:function(){var te=this.props,ae=(te.afterLoad,te.beforeLoad,te.delayMethod,te.delayTime,te.effect,te.placeholder,te.placeholderSrc,te.scrollPosition,te.threshold,te.useIntersectionObserver,te.visibleByDefault,te.wrapperClassName,te.wrapperProps,(function(Te,Ee){if(Te==null)return{};var _e,Le,ct=(function(it,vt){if(it==null)return{};var at,Pt,fn={},qn=Object.keys(it);for(Pt=0;Pt<qn.length;Pt++)at=qn[Pt],vt.indexOf(at)>=0||(fn[at]=it[at]);return fn})(Te,Ee);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Te);for(Le=0;Le<ut.length;Le++)_e=ut[Le],Ee.indexOf(_e)>=0||Object.prototype.propertyIsEnumerable.call(Te,_e)&&(ct[_e]=Te[_e])}return ct})(te,fi));return l().createElement("img",ts({},ae,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var te=this.props,ae=te.beforeLoad,Te=te.className,Ee=te.delayMethod,_e=te.delayTime,Le=te.height,ct=te.placeholder,ut=te.scrollPosition,it=te.style,vt=te.threshold,at=te.useIntersectionObserver,Pt=te.visibleByDefault,fn=te.width;return l().createElement(zt,{beforeLoad:ae,className:Te,delayMethod:Ee,delayTime:_e,height:Le,placeholder:ct,scrollPosition:ut,style:it,threshold:vt,useIntersectionObserver:at,visibleByDefault:Pt,width:fn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(te){var ae=this.props,Te=ae.effect,Ee=ae.height,_e=ae.placeholderSrc,Le=ae.width,ct=ae.wrapperClassName,ut=ae.wrapperProps,it=this.state.loaded,vt=it?" lazy-load-image-loaded":"",at=it||!_e?{}:{backgroundImage:"url(".concat(_e,")"),backgroundSize:"100% 100%"};return l().createElement("span",ts({className:ct+" lazy-load-image-background "+Te+vt,style:na(na({},at),{},{color:"transparent",display:"inline-block",height:Ee,width:Le})},ut),te)}},{key:"render",value:function(){var te=this.props,ae=te.effect,Te=te.placeholderSrc,Ee=te.visibleByDefault,_e=te.wrapperClassName,Le=te.wrapperProps,ct=this.getLazyLoadImage();return(ae||Te)&&!Ee||_e||Le?this.getWrappedLazyLoadImage(ct):ct}}])&&ra($.prototype,re),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);Or.propTypes={onLoad:u.PropTypes.func,afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,delayMethod:u.PropTypes.string,delayTime:u.PropTypes.number,effect:u.PropTypes.string,placeholderSrc:u.PropTypes.string,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool,wrapperClassName:u.PropTypes.string,wrapperProps:u.PropTypes.object},Or.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ia=Or})(),Kp.exports=i})()),Kp.exports}var iA=Ak();const Rk="/Ecommerce/assets/women-Dfw609QD.jpg",Nk="/Ecommerce/assets/man-BNem_KT8.jpg",Ck="/Ecommerce/assets/kid-aD3lXmzM.jpg",Ik=D.lazy(()=>Ji(()=>import("./HeroSlider-depIeGvV.js"),__vite__mapDeps([0,1,2]))),Dk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.ShoppingCart}))),l0=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.WifiOff}))),Pk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Heart}))),Ok=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Search}))),Mk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Expand}))),Vk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.X}))),kk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Grid}))),Lk=D.lazy(()=>Ji(()=>import("./lucide-react-C4i5AGU2.js"),__vite__mapDeps([3,1])).then(t=>({default:t.List})));class Uk extends g.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?g.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},g.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(l0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),g.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const jk=(t,e)=>{let n;return function(...a){const l=()=>{clearTimeout(n),t(...a)};clearTimeout(n),n=setTimeout(l,e)}},Bk={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function Fk(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const zk=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},qk=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},Yp=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const[a,l]=D.useState(!1),[u,f]=D.useState(!1),m=parseFloat(t.price),p=parseFloat(t.newPrice),v=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},v?g.createElement(iA.LazyLoadImage,{src:v,alt:t.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>l(!0),onError:()=>f(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),!a&&!u&&v&&g.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},g.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),u&&g.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},g.createElement(l0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),g.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(Pk,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(Mk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),m>p&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((m-p)/m*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},m>p&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",m.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",p.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(Dk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),Hk=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),Gk=g.memo(({searchQuery:t,setSearchQuery:e,filteredCount:n})=>{const i=D.useCallback(jk(a=>e(a),300),[e]);return g.createElement("div",{className:"w-full mb-10 mx-auto px-4"},g.createElement("div",{className:"max-w-2xl mx-auto"},g.createElement("div",{className:"relative"},g.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},g.createElement(Ok,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),g.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:t,onChange:a=>i(a.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),t&&g.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},g.createElement(Vk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),t.trim()!==""&&g.createElement("div",{className:"mt-2 text-center"},g.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",g.createElement("span",{className:"font-semibold text-red-700"},'"',t,'"')),g.createElement("p",{className:"text-gray-600 text-xs"},"Found ",g.createElement("span",{className:"font-bold"},n)," result",n!==1?"s":""))))}),$k=g.memo(()=>{const t=[{name:"men",img:Nk},{name:"women",img:Rk},{name:"kids",img:Ck}];return g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},g.createElement("div",{className:"text-center mb-6"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),g.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),g.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},t.map(e=>g.createElement("div",{key:e.name,className:"flex flex-col items-center group"},g.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},g.createElement(iA.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),g.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),Qp=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),Kk=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const[i,a]=D.useReducer(Fk,Bk),{products:l,loading:u,searchQuery:f,favoriteState:m,lastVisible:p,hasMore:v,page:_,viewMode:b}=i,R=12,C=D.useRef(m);D.useEffect(()=>{C.current=m},[m]),D.useEffect(()=>{const K=zk();a({type:"SET_FAVORITE_STATE",payload:K})},[]);const P=D.useCallback(async(K=1,O=f)=>{K===1&&(a({type:"SET_LOADING",payload:!0}),a({type:"RESET_PAGINATION"}));try{let x=ro(Zi,"products");O.trim()!==""&&(x=Mn(x,ri("name",">=",O),ri("name","<=",O+""))),K>1&&p?x=Mn(x,Ad(p),Qs(R)):x=Mn(x,Qs(R));const N=await Rl(x),M=N.docs.map(U=>({id:U.id,...U.data()}));a(K===1?{type:"SET_PRODUCTS",payload:M}:{type:"SET_PRODUCTS",payload:[...l,...M]}),a({type:"SET_LAST_VISIBLE",payload:N.docs[N.docs.length-1]}),a({type:"SET_HAS_MORE",payload:N.docs.length===R}),a({type:"SET_PAGE",payload:K})}catch(x){console.error("Error fetching products:",x)}finally{a({type:"SET_LOADING",payload:!1})}},[f,p,l,R]);D.useEffect(()=>{P()},[]),D.useEffect(()=>{f!==i.searchQuery&&P(1,f)},[f]);const I=D.useCallback(()=>{!u&&v&&P(_+1)},[u,v,_,P]),j=D.useCallback(K=>{const O=Array.isArray(C.current)?[...C.current]:typeof C.current=="object"&&C.current!==null?Object.values(C.current):[],x=O.includes(K);let N;if(x?N=O.filter(M=>M!==K):N=[...O,K],qk(N),a({type:"SET_FAVORITE_STATE",payload:N}),e){const M=l.find(U=>U.id===K);M&&e(M)}},[e,l]),F=Array.isArray(m)?m:typeof m=="object"&&m!==null?Object.values(m):[],H=l.filter(K=>K.category==="men"),le=l.filter(K=>K.category==="women"),B=l.filter(K=>K.category==="kids");return u&&l.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((K,O)=>g.createElement(Hk,{key:O}))))):l.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(l0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement(Uk,null,g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement(D.Suspense,{fallback:g.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},g.createElement(Ik,null)),g.createElement($k,null),g.createElement(Gk,{searchQuery:f,setSearchQuery:K=>a({type:"SET_SEARCH_QUERY",payload:K}),filteredCount:l.length}),g.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},g.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},g.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${b==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},g.createElement(kk,{className:"w-4 h-4 sm:w-5 sm:h-5"})),g.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${b==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},g.createElement(Lk,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),H.length>0&&g.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(Qp,{title:"Men's Collection",count:H.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},H.map(K=>g.createElement(Yp,{key:K.id,product:K,onAddToCart:t,onAddToFavorites:j,isFav:F.includes(K.id)})))),le.length>0&&g.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(Qp,{title:"Women's Collection",count:le.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},le.map(K=>g.createElement(Yp,{key:K.id,product:K,onAddToCart:t,onAddToFavorites:j,isFav:F.includes(K.id)})))),B.length>0&&g.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(Qp,{title:"Kids' Collection",count:B.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},B.map(K=>g.createElement(Yp,{key:K.id,product:K,onAddToCart:t,onAddToFavorites:j,isFav:F.includes(K.id)})))),v&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:I,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},Yk=g.memo(Kk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),$T=t=>{const e=Xk(t);return e.charAt(0).toUpperCase()+e.slice(1)},sA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Wk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},m)=>D.createElement("svg",{ref:m,...Zk,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:sA("lucide",a),...!l&&!Wk(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,v])=>D.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const n=D.forwardRef(({className:i,...a},l)=>D.createElement(Jk,{ref:l,iconNode:e,className:sA(`lucide-${Qk($T(t))}`,`lucide-${t}`,i),...a}));return n.displayName=$T(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KT=Ft("arrow-left",e3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n3=Ft("calendar",t3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aA=Ft("circle-alert",r3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],c0=Ft("circle-check-big",i3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],u0=Ft("expand",s3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oA=Ft("heart-off",a3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Xs=Ft("heart",o3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YT=Ft("house",l3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],u3=Ft("list",c3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],f3=Ft("mail",h3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],QT=Ft("map-pin",d3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M5 12h14",key:"1ays0h"}]],p3=Ft("minus",m3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],y3=Ft("package",g3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],E3=Ft("phone",v3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b3=Ft("plus",_3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Er=Ft("shopping-cart",T3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lA=Ft("trash-2",w3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],S3=Ft("truck",x3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],R3=Ft("user",A3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cA=Ft("wifi-off",N3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],su=Ft("x",C3),I3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function D3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const P3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},O3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},M3=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(Xs,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(u0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(Er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),V3=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),k3=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),L3=({onAddToCart:t,searchQuery:e})=>{const[n,i]=D.useReducer(D3,I3),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:p}=n,v=12;D.useEffect(()=>{const P=P3();i({type:"SET_FAVORITE_STATE",payload:P})},[]);const _=D.useCallback(async(P=1)=>{P===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let I=ro(Zi,"products");I=Mn(I,ri("category","==","men")),e&&e.trim()!==""&&(I=Mn(I,ri("name",">=",e),ri("name","<=",e+""))),P>1&&f?I=Mn(I,Ad(f),Qs(v)):I=Mn(I,Qs(v));const j=await Rl(I),F=j.docs.map(H=>({id:H.id,...H.data()}));i(P===1?{type:"SET_PRODUCTS",payload:F}:{type:"SET_PRODUCTS",payload:[...a,...F]}),i({type:"SET_LAST_VISIBLE",payload:j.docs[j.docs.length-1]}),i({type:"SET_HAS_MORE",payload:j.docs.length===v}),i({type:"SET_PAGE",payload:P})}catch(I){console.error("Error fetching men products:",I)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);D.useEffect(()=>{_()},[]),D.useEffect(()=>{e&&_(1)},[e]);const b=D.useCallback(P=>{const I=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],j=I.includes(P);let F;j?F=I.filter(H=>H!==P):F=[...I,P],O3(F),i({type:"SET_FAVORITE_STATE",payload:F})},[u]),R=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=D.useCallback(()=>{!l&&m&&_(p+1)},[l,m,p,_]);return l&&a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((P,I)=>g.createElement(V3,{key:I}))))):a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(cA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(k3,{title:"Men's Collection",count:a.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(P=>g.createElement(M3,{key:P.id,product:P,onAddToCart:t,onAddToFavorites:b,isFav:R.includes(P.id)}))),m&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},U3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function j3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const B3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},F3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},z3=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(Xs,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(u0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(Er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),q3=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),H3=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),G3=({onAddToCart:t,searchQuery:e})=>{const[n,i]=D.useReducer(j3,U3),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:p}=n,v=12;D.useEffect(()=>{const P=B3();i({type:"SET_FAVORITE_STATE",payload:P})},[]);const _=D.useCallback(async(P=1)=>{P===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let I=ro(Zi,"products");I=Mn(I,ri("category","==","women")),e&&e.trim()!==""&&(I=Mn(I,ri("name",">=",e),ri("name","<=",e+""))),P>1&&f?I=Mn(I,Ad(f),Qs(v)):I=Mn(I,Qs(v));const j=await Rl(I),F=j.docs.map(H=>({id:H.id,...H.data()}));i(P===1?{type:"SET_PRODUCTS",payload:F}:{type:"SET_PRODUCTS",payload:[...a,...F]}),i({type:"SET_LAST_VISIBLE",payload:j.docs[j.docs.length-1]}),i({type:"SET_HAS_MORE",payload:j.docs.length===v}),i({type:"SET_PAGE",payload:P})}catch(I){console.error("Error fetching women products:",I)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);D.useEffect(()=>{_()},[]),D.useEffect(()=>{e&&_(1)},[e]);const b=D.useCallback(P=>{const I=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],j=I.includes(P);let F;j?F=I.filter(H=>H!==P):F=[...I,P],F3(F),i({type:"SET_FAVORITE_STATE",payload:F})},[u]),R=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=D.useCallback(()=>{!l&&m&&_(p+1)},[l,m,p,_]);return l&&a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((P,I)=>g.createElement(q3,{key:I}))))):a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(cA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(H3,{title:"Women's Collection",count:a.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(P=>g.createElement(z3,{key:P.id,product:P,onAddToCart:t,onAddToFavorites:b,isFav:R.includes(P.id)}))),m&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},$3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function K3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const Y3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},Q3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},X3=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newPrice||t.newprice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(Xs,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(u0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(Er,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),W3=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),Z3=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),J3=({onAddToCart:t})=>{const[e,n]=D.useReducer(K3,$3),{products:i,loading:a,favoriteState:l,lastVisible:u,hasMore:f,page:m}=e,p=12;D.useEffect(()=>{const C=Y3();n({type:"SET_FAVORITE_STATE",payload:C})},[]);const v=D.useCallback(async(C=1)=>{C===1&&(n({type:"SET_LOADING",payload:!0}),n({type:"RESET_PAGINATION"}));try{let P=ro(Zi,"products");P=Mn(P,ri("category","==","kids")),C>1&&u?P=Mn(P,Ad(u),Qs(p)):P=Mn(P,Qs(p));const I=await Rl(P),j=I.docs.map(F=>({id:F.id,...F.data()}));n(C===1?{type:"SET_PRODUCTS",payload:j}:{type:"SET_PRODUCTS",payload:[...i,...j]}),n({type:"SET_LAST_VISIBLE",payload:I.docs[I.docs.length-1]}),n({type:"SET_HAS_MORE",payload:I.docs.length===p}),n({type:"SET_PAGE",payload:C})}catch(P){console.error("Error fetching kids products:",P)}finally{n({type:"SET_LOADING",payload:!1})}},[u,i,p]);D.useEffect(()=>{v()},[]);const _=D.useCallback(C=>{const P=Array.isArray(l)?[...l]:typeof l=="object"&&l!==null?Object.values(l):[],I=P.includes(C);let j;I?j=P.filter(F=>F!==C):j=[...P,C],Q3(j),n({type:"SET_FAVORITE_STATE",payload:j})},[l]),b=Array.isArray(l)?l:typeof l=="object"&&l!==null?Object.values(l):[],R=D.useCallback(()=>{!a&&f&&v(m+1)},[a,f,m,v]);return a&&i.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((C,P)=>g.createElement(W3,{key:P}))))):i.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(oA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(Z3,{title:"Kids' Collection",count:i.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},i.map(C=>g.createElement(X3,{key:C.id,product:C,onAddToCart:t,onAddToFavorites:_,isFav:b.includes(C.id)}))),f&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:R,disabled:a,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},a?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},e5=({onAddToCart:t})=>{const[e,n]=D.useState([]),[i,a]=D.useState(!0),[l,u]=D.useState(null),f=()=>{try{const _=localStorage.getItem("favorites");if(!_)return[];const b=JSON.parse(_);return Array.isArray(b)?b:[]}catch(_){return console.error("Error getting favorites from localStorage:",_),[]}},m=D.useCallback(async()=>{a(!0),u(null);try{const _=f();if(_.length===0){n([]),a(!1);return}const b=Mn(ro(Zi,"products"),ri(DV(),"in",_)),C=(await Rl(b)).docs.map(P=>({id:P.id,...P.data()}));n(C)}catch(_){console.error("Error fetching favorite products:",_),u("Failed to load your favorites. Please try again later.")}finally{a(!1)}},[]),p=D.useCallback(_=>{try{const R=f().filter(C=>C!==_);localStorage.setItem("favorites",JSON.stringify(R)),n(C=>C.filter(P=>P.id!==_))}catch(b){console.error("Error removing favorite:",b)}},[]),v=D.useCallback(_=>{t&&t(_)},[t]);return D.useEffect(()=>{m()},[m]),i?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"flex justify-center items-center h-64"},g.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):l?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"text-center"},g.createElement("div",{className:"text-red-500 text-5xl mb-4"},""),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},l),g.createElement("button",{onClick:m,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"text-center"},g.createElement(oA,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),g.createElement(Ds,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},g.createElement(Xs,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),g.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),g.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(_=>g.createElement("div",{key:_.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},g.createElement("div",{className:"relative overflow-hidden"},g.createElement(vr,{to:`/product/${_.id}`,"aria-label":`View details for ${_.name}`},g.createElement("img",{src:_.images&&_.images.length>0?_.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:_.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),g.createElement("button",{onClick:()=>p(_.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${_.name} from favorites`},g.createElement(lA,{className:"w-4 h-4"})),parseFloat(_.price)>parseFloat(_.newprice||_.newPrice)&&g.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(_.newprice||_.newPrice)/parseFloat(_.price))*100),"% OFF"),g.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},g.createElement(Xs,{className:"w-4 h-4 fill-current"}))),g.createElement("div",{className:"p-3 sm:p-4"},g.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},_.name),g.createElement("div",{className:"mb-3"},g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},_.category)),g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("div",{className:"flex items-center space-x-2"},g.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(_.price).toFixed(2)),g.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(_.newprice||_.newPrice).toFixed(2))),g.createElement("button",{onClick:()=>v(_),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},g.createElement(Er,{className:"w-4 h-4 sm:w-5 sm:h-5"}),g.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),g.createElement("div",{className:"mt-12 text-center"},g.createElement(Ds,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function t5({cartItemCount:t,onCartClick:e}){const[n,i]=D.useState(!1),[a,l]=D.useState(!1),u=Js(),f=["Home","Men","Women","Kids","Favorites","contact","Orders"];return D.useEffect(()=>{i(!1)},[u]),g.createElement(g.Fragment,null,g.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"flex items-center justify-between h-16"},g.createElement("div",{className:"flex items-center space-x-8"},g.createElement(Ds,{to:"/",className:"flex items-center space-x-2"},g.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-white font-bold text-lg"},"S")),g.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop")),g.createElement("nav",{className:"hidden md:flex space-x-1"},f.map(m=>g.createElement(Ds,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:p})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${p?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},m)))),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"relative"},g.createElement("button",{onClick:()=>{e(),l(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},g.createElement(Er,{className:"w-6 h-6"}),t>0&&g.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},t>99?"99+":t))),g.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>i(!n)},n?g.createElement(su,{className:"w-6 h-6"}):g.createElement(u3,{className:"w-6 h-6"})))))),n&&g.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>i(!1)}),g.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${n?"translate-x-0":"translate-x-full"}`},g.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},g.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),g.createElement("button",{onClick:()=>i(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},g.createElement(su,{className:"w-6 h-6"}))),g.createElement("div",{className:"p-4"},g.createElement("nav",{className:"flex flex-col space-y-1"},f.map(m=>{const p=m==="Home"?YT:m==="Favorites"?Xs:null;return g.createElement(Ds,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:v})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${v?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>i(!1)},p&&g.createElement(p,{className:"w-5 h-5 mr-3"}),m)})))),g.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},g.createElement(Ds,{to:"/",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(YT,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Home")),g.createElement(Ds,{to:"/favorites",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(Xs,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Favorites")),g.createElement("button",{onClick:()=>{e(),l(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${a?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(Er,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Cart"),t>0&&g.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},t>99?"99+":t))))}function n5({isOpen:t,onClose:e,cart:n,onIncreaseQty:i,onDecreaseQty:a,onRemoveItem:l,onClearCart:u,onCheckout:f,total:m}){const[p,v]=D.useState(null),[_,b]=D.useState({}),[R,C]=D.useState(!1),P=(x,N="success")=>{v({text:x,type:N}),setTimeout(()=>v(null),2e3)};D.useEffect(()=>{const x=async()=>{const N={};for(const M of n)try{const U=await JS(Yy(Zi,"products",M.id));U.exists()&&(N[M.id]=U.data().shippingPrice||0)}catch(U){console.error("Error fetching shipping price:",U)}b(N)};n.length>0&&x()},[n]);const I=x=>{a(x)},j=x=>{i(x)},F=(x,N)=>{l(x),P(`${N} removed from cart`)},H=async()=>{C(!0);try{await f(),P("Checkout successful!")}catch{P("Checkout failed. Please try again.","error")}finally{C(!1)}},le=m,B=le*.2,K=le>0?15:0,O=le-B+K;return g.createElement("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`},g.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:e}),g.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`},g.createElement("div",{className:"flex flex-col h-full"},g.createElement("div",{className:"flex items-center justify-between p-5 bg-white border-b border-gray-200"},g.createElement("div",{className:"flex items-center space-x-2"},g.createElement("h2",{className:"text-xl font-bold text-gray-900 uppercase tracking-wide"},"YOUR CART"),n.length>0&&g.createElement("span",{className:"bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},n.reduce((x,N)=>x+N.qty,0))),g.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200","aria-label":"Close cart"},g.createElement(su,{className:"w-5 h-5 text-gray-700"}))),p&&g.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${p.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},g.createElement(c0,{className:"w-5 h-5"}),g.createElement("span",null,p.text)),g.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},n.length===0?g.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},g.createElement("div",{className:"bg-gray-100 p-4 rounded-full mb-4"},g.createElement(Er,{className:"w-16 h-16 text-gray-400"})),g.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),g.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),g.createElement("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors duration-300"},"Continue Shopping")):g.createElement("div",{className:"space-y-4"},n.map(x=>g.createElement("div",{key:`${x.id}-${x.selectedSize||"default"}`,className:"flex items-start p-4 bg-white border border-gray-200 rounded-lg"},g.createElement("div",{className:"relative"},g.createElement("img",{src:x.image||(Array.isArray(x.images)?x.images[0]:x.images),alt:x.name,className:"w-20 h-20 object-cover rounded-lg",onError:N=>{N.target.src="/placeholder.jpg"}}),x.selectedSize&&g.createElement("span",{className:"absolute bottom-0 right-0 bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},x.selectedSize)),g.createElement("div",{className:"flex-1 min-w-0 ml-4"},g.createElement("h4",{className:"text-base font-medium text-gray-900"},x.name),x.selectedSize&&g.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",g.createElement("span",{className:"font-medium"},x.selectedSize)),g.createElement("div",{className:"flex items-center mt-2"},g.createElement("span",{className:"text-gray-900 font-medium"},"$",parseFloat(x.price).toFixed(2)),x.originalPrice&&x.originalPrice>x.price&&g.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(x.originalPrice).toFixed(2)))),g.createElement("div",{className:"flex flex-col items-end space-y-3"},g.createElement("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-md p-1"},g.createElement("button",{onClick:()=>I(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Decrease quantity"},g.createElement(p3,{className:"w-3 h-3"})),g.createElement("span",{className:"text-sm font-medium w-8 text-center"},x.qty),g.createElement("button",{onClick:()=>j(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Increase quantity"},g.createElement(b3,{className:"w-3 h-3"}))),g.createElement("button",{onClick:()=>F(x.id,x.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},g.createElement(lA,{className:"w-4 h-4"}))))))),n.length>0&&g.createElement("div",{className:"border-t border-gray-200 p-5 bg-white"},g.createElement("div",{className:"space-y-3 mb-6"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-700 font-medium"},"Subtotal"),g.createElement("span",{className:"text-gray-900 font-medium"},"$",le.toFixed(2))),g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-700 font-medium"},"Shipping"),g.createElement("span",{className:"text-gray-900 font-medium"},"$",n.reduce((x,N)=>x+(_[N.id]||0),0).toFixed(2))),g.createElement("div",{className:"border-t border-gray-200 pt-3"},g.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},g.createElement("span",{className:"text-gray-900"},"Total"),g.createElement("span",{className:"text-gray-900"},"$",O.toFixed(2))))),g.createElement("button",{onClick:H,disabled:R,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${R?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800"} text-white`},R?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):g.createElement(g.Fragment,null,g.createElement(Er,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),g.createElement("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-700 hover:text-gray-900 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}const r5=(t,e)=>gP(o0,t,e);function XT(){const[t,e]=D.useState(""),[n,i]=D.useState(""),[a,l]=D.useState(""),[u,f]=D.useState(!1),[m,p]=D.useState(""),v=async _=>{if(_.preventDefault(),f(!0),p(""),n!==a){p("Passwords do not match"),f(!1);return}try{await r5(t,n)}catch(b){p(b.message)}finally{f(!1)}};return g.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},g.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-400"}),g.createElement("div",{className:"p-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Create Account"),g.createElement("p",{className:"text-gray-600 mt-2"},"Join us today")),m&&g.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},m),g.createElement("form",{onSubmit:v},g.createElement("div",{className:"mb-4"},g.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),g.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:_=>e(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("div",{className:"mb-4"},g.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-2"},"Password"),g.createElement("input",{id:"password",type:"password",placeholder:"",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("div",{className:"mb-6"},g.createElement("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-medium mb-2"},"Confirm Password"),g.createElement("input",{id:"confirmPassword",type:"password",placeholder:"",value:a,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},u?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating account..."):"Sign Up")))))}function i5({address:t}){if(!t)return g.createElement("p",{className:"text-gray-500 p-4 text-center"},"Enter your address or use location to preview on map.");const e=encodeURIComponent(t);return g.createElement("iframe",{title:"map-preview",src:`https://www.google.com/maps?q=${e}&t=k&z=15&output=embed`,width:"100%",height:"250",style:{border:0},loading:"lazy",allowFullScreen:!0})}function s5({isOpen:t,onClose:e,total:n,cart:i,onOrderSuccess:a}){const[l,u]=D.useState({name:"",email:"",phone:"",address:""}),[f,m]=D.useState(!1),[p,v]=D.useState(""),[_,b]=D.useState({}),[R,C]=D.useState(null),[P,I]=D.useState(!1);D.useEffect(()=>{const B=hx(o0,K=>{C(K)});return()=>B()},[]);const j=B=>{u(K=>({...K,[B.target.name]:B.target.value})),_[B.target.name]&&b(K=>({...K,[B.target.name]:null}))},F=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(B=>{const{latitude:K,longitude:O}=B.coords,x=`${K},${O}`;u(N=>({...N,address:x}))},B=>{alert("Failed to get location: "+B.message)})},H=()=>{const B={};return l.name.trim()||(B.name="Name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(B.email="Please enter a valid email address"):B.email="Email is required",l.phone.trim()?/^\+?[0-9\s\-()]{10,15}$/.test(l.phone.replace(/\s/g,""))||(B.phone="Please enter a valid phone number"):B.phone="Phone number is required",l.address.trim()||(B.address="Address is required"),b(B),Object.keys(B).length===0},le=async B=>{if(B.preventDefault(),!H()){v("Please correct the errors in the form.");return}if(!i||i.length===0){v("Your cart is empty.");return}try{m(!0);let K=null;if(l.address.includes(",")){const[O,x]=l.address.split(",").map(Number);!isNaN(O)&&!isNaN(x)&&(K={lat:O,lng:x})}await GV(ro(Zi,"orders"),{client:l,items:i,total:n,status:"pending",timestamp:new Date().toISOString(),location:K}),v("Order placed successfully!"),u({name:"",email:"",phone:"",address:""}),a?.(),setTimeout(()=>e(),2e3)}catch(K){console.error("Error placing order:",K),v("Failed to place order. Try again.")}finally{m(!1)}};return D.useEffect(()=>{if(p){const B=setTimeout(()=>v(""),3e3);return()=>clearTimeout(B)}},[p]),t?g.createElement(g.Fragment,null,p&&g.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},g.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${p.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},p.includes("success")?g.createElement(c0,{className:"w-8 h-8 flex-shrink-0"}):g.createElement(aA,{className:"w-8 h-8 flex-shrink-0"}),g.createElement("span",{className:"text-lg font-medium"},p))),g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),g.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},g.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},g.createElement(su,{className:"w-5 h-5"})),g.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},g.createElement("div",{className:"flex items-center space-x-3"},g.createElement(Er,{className:"w-8 h-8"}),g.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),g.createElement("div",{className:"flex-1 overflow-y-auto p-6"},R?g.createElement(g.Fragment,null,g.createElement("div",{className:"mb-8"},g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},g.createElement(Er,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),g.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},i.map((B,K)=>g.createElement("div",{key:`${B.id}-${K}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("img",{src:B.image||(Array.isArray(B.images)?B.images[0]:B.images),alt:B.name,className:"w-16 h-16 object-cover rounded-lg"}),g.createElement("div",null,g.createElement("div",{className:"text-sm font-semibold text-gray-900"},B.name),g.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},g.createElement("span",null,"Qty: ",B.qty),B.selectedSize&&g.createElement("span",null,"Size: ",B.selectedSize)))),g.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(B.qty*B.price).toFixed(2))))),g.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},g.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),g.createElement("span",{className:"text-xl font-bold text-red-700"},"$",n.toFixed(2)))),g.createElement("form",{onSubmit:le,className:"space-y-5"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(R3,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),g.createElement("input",{type:"text",name:"name",value:l.name,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your full name",disabled:f})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(f3,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),g.createElement("input",{type:"email",name:"email",value:l.email,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your email",disabled:f})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(E3,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),g.createElement("input",{type:"tel",name:"phone",value:l.phone,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your phone number",disabled:f})),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(QT,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),g.createElement("div",{className:"flex gap-2 mb-2"},g.createElement("textarea",{name:"address",value:l.address,onChange:j,rows:2,className:"flex-1 px-4 py-3 border rounded-lg resize-none",placeholder:"Enter your shipping address or coords",disabled:f}),g.createElement("button",{type:"button",onClick:F,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm"},"Use My Location"))),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(QT,{className:"w-4 h-4 mr-2 text-red-600"}),"Location Preview"),g.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},g.createElement(i5,{address:l.address}))),g.createElement("button",{type:"submit",disabled:f,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium"},f?"Processing Order...":"Place Order"))):g.createElement("div",null,g.createElement(XT,null),g.createElement("p",{className:"mt-4 text-center text-sm text-gray-600"},P?"Already have an account?":"Dont have an account?"," ",g.createElement("button",{onClick:()=>I(!P),className:"text-red-600 hover:underline"},P?"Sign In":"Sign Up"))))))):null}const a5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},WT=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},o5=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const{id:i}=QN(),a=_1(),[l,u]=D.useState(null),[f,m]=D.useState(!0),[p,v]=D.useState(null),[_,b]=D.useState(null),[R,C]=D.useState(""),[P,I]=D.useState(!1),[j,F]=D.useState([]);D.useEffect(()=>{const x=a5();F(x)},[]);const H=j.includes(i);D.useEffect(()=>{(async()=>{m(!0);try{const N=Yy(Zi,"products",i),M=await JS(N);if(M.exists()){const U={id:M.id,...M.data()};u(U),v(U.images?.[0]||null)}else u(null)}catch(N){console.error("Error fetching product:",N),u(null)}finally{m(!1)}})()},[i]),D.useEffect(()=>{window.scrollTo(0,0)},[i]);const le=l?.sizes&&l.sizes.length>0,B=()=>{if(le&&!_){C(" Please select a size before adding to cart.");return}C(" Added to cart!"),t({id:l.id,name:l.name,price:l.newprice||l.price,image:l.images?.[0]||"",selectedSize:_,quantity:1}),setTimeout(()=>C(""),3e3)},K=()=>{const x=[...j],N=l.id;if(H){const M=x.filter(U=>U!==N);WT(M),F(M),C(" Removed from favorites!")}else{const M=[...x,N];WT(M),F(M),e(l),C(" Added to favorites!")}setTimeout(()=>C(""),3e3)},O=()=>{I(!0)};return f?g.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},g.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):l?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"px-4 pt-4"},g.createElement("button",{onClick:()=>a(-1),className:"flex items-center text-red-600 hover:text-red-800 transition-colors"},g.createElement(KT,{className:"w-5 h-5 mr-1"})," Back")),g.createElement("div",{className:"px-4 pb-8"},g.createElement("div",{className:"flex flex-col lg:flex-row gap-8"},g.createElement("div",{className:"lg:w-1/2"},g.createElement("div",{className:"flex flex-col md:flex-row gap-6"},g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden shadow-inner flex items-center justify-center"},p&&!P?g.createElement("img",{src:p,alt:l.name,className:"w-full h-full object-contain",onError:O}):g.createElement("div",{className:"text-center p-8"},g.createElement("div",{className:"text-5xl mb-2"},""),g.createElement("p",{className:"text-gray-500"},"Image not available")))),g.createElement("div",{className:"flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-y-auto max-w-full md:max-w-[100px] lg:max-w-[120px] py-2"},l.images?.map((x,N)=>g.createElement("button",{key:N,onClick:()=>{v(x),I(!1)},className:`flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${p===x?"border-red-500 scale-105 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`},g.createElement("img",{src:x,alt:`${l.name} thumbnail ${N+1}`,className:"w-full h-full object-cover",onError:M=>{M.target.src="/placeholder.jpg"}})))))),g.createElement("div",{className:"lg:w-1/2"},g.createElement("div",{className:"bg-white rounded-2xl p-6 lg:p-8 shadow-sm"},g.createElement("div",{className:"flex flex-col h-full"},g.createElement("div",null,g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},l.name),g.createElement("p",{className:"text-gray-600 mb-6"},l.category),le&&g.createElement("div",{className:"mb-6"},g.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Select Size"),g.createElement("div",{className:"flex flex-wrap gap-2"},l.sizes.map(x=>g.createElement("button",{key:x,onClick:()=>b(x),className:`px-4 py-2 rounded-lg border font-medium transition-all duration-200 ${_===x?"bg-red-600 text-white border-red-600 shadow-md":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`},x.toUpperCase()))),le&&!_&&g.createElement("p",{className:"mt-2 text-sm text-red-500"},"Please select a size")),g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"flex items-baseline gap-3"},g.createElement("span",{className:"text-3xl font-bold text-gray-900"},"$",l.newPrice||l.price),l.newPrice&&l.newPrice<l.price&&g.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",l.price),l.newPrice&&l.newPrice<l.price&&g.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},"Save $",(l.price-l.newPrice).toFixed(2)))),g.createElement("div",{className:"flex flex-wrap gap-4 mb-6"},g.createElement("button",{onClick:B,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300"},g.createElement(Er,{className:"w-5 h-5"})," Add to Cart"),g.createElement("button",{onClick:K,className:`p-3 rounded-xl border transition-all duration-300 ${H?"bg-red-50 text-red-600 border-red-200 shadow-sm":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100 hover:shadow-sm"}`,title:H?"Remove from favorites":"Add to favorites"},g.createElement(Xs,{className:`w-6 h-6 transition-all duration-300 ${H?"fill-red-600 text-red-600 scale-110":""}`}))),R&&g.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 animate-fadeIn"},R)),g.createElement("div",{className:"mt-auto pt-6 border-t border-gray-200"},g.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-3"},"Description"),g.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line break-words"},l.det||"No description available for this product.")))))))):g.createElement("div",{className:"text-center py-20 px-4"},g.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl p-8"},g.createElement("div",{className:"text-6xl mb-4"},""),g.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),g.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),g.createElement("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},g.createElement(KT,{className:"w-4 h-4 mr-2"})," Go Back")))},l5=({navLinks:t=[],socialLinks:e=[],contactInfo:n={},copyrightYear:i=new Date().getFullYear()})=>{const[a,l]=D.useState(""),[u,f]=D.useState(""),[m,p]=D.useState(!1),[v,_]=D.useState(!1),b=async R=>{if(R.preventDefault(),!a.trim()){f("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){f("Please enter a valid email address");return}_(!0),f("");try{await new Promise(C=>setTimeout(C,1e3)),console.log("Subscribed email:",a),p(!0),l("")}catch(C){console.error("Subscription error:",C),f("Subscription failed. Please try again.")}finally{_(!1)}};return g.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),g.createElement("ul",{className:"space-y-2"},t.map((R,C)=>g.createElement("li",{key:C},g.createElement("a",{href:R.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${R.name}`},R.name))))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),g.createElement("ul",{className:"space-y-3"},n.email&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),g.createElement("a",{href:`mailto:${n.email}`,className:"text-gray-300 hover:text-white transition-colors"},n.email)),n.phone&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),g.createElement("a",{href:`tel:${n.phone}`,className:"text-gray-300 hover:text-white transition-colors"},n.phone)),n.address&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),g.createElement("span",{className:"text-gray-300"},n.address)))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),g.createElement("div",{className:"flex space-x-4"},e.map((R,C)=>g.createElement("a",{key:C,href:R.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${R.name}`},R.icon&&g.createElement("span",{className:"w-5 h-5"},R.icon))))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),g.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),m?g.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},g.createElement("div",{className:"flex items-center"},g.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),g.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):g.createElement("form",{onSubmit:b,className:"space-y-3"},g.createElement("div",null,g.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),g.createElement("input",{type:"email",id:"footer-email",value:a,onChange:R=>l(R.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${u?"border-red-500":"border-gray-700"}`,"aria-invalid":!!u,"aria-describedby":u?"footer-email-error":void 0}),u&&g.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},u)),g.createElement("button",{type:"submit",disabled:v,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},v?"Subscribing...":"Subscribe")))),g.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},g.createElement("p",null," ",i," Your Company Name. All rights reserved."))))},c5=()=>{const[t,e]=D.useState({name:"",email:"",subject:"",message:""}),[n,i]=D.useState({name:"",email:"",subject:"",message:""}),[a,l]=D.useState(!1),[u,f]=D.useState(!1),m=()=>{let _=!0;const b={name:"",email:"",subject:"",message:""};return t.name.trim()||(b.name="Name is required",_=!1),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(b.email="Please enter a valid email address",_=!1):(b.email="Email is required",_=!1),t.subject.trim()||(b.subject="Subject is required",_=!1),t.message.trim()||(b.message="Message is required",_=!1),i(b),_},p=_=>{const{name:b,value:R}=_.target;e(C=>({...C,[b]:R})),n[b]&&i(C=>({...C,[b]:""}))},v=async _=>{if(_.preventDefault(),!!m()){f(!0);try{await new Promise(b=>setTimeout(b,1e3)),console.log("Form submitted:",t),l(!0),e({name:"",email:"",subject:"",message:""})}catch(b){console.error("Submission error:",b)}finally{f(!1)}}};return g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),g.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),g.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},g.createElement("div",null,g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),a?g.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},g.createElement("div",{className:"flex items-center"},g.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),g.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),g.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),g.createElement("button",{onClick:()=>l(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):g.createElement("form",{onSubmit:v,noValidate:!0},g.createElement("div",{className:"space-y-6"},g.createElement("div",null,g.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"text",id:"name",name:"name",value:t.name,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0}),n.name&&g.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},n.name)),g.createElement("div",null,g.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0}),n.email&&g.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},n.email)),g.createElement("div",null,g.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.subject,"aria-describedby":n.subject?"subject-error":void 0}),n.subject&&g.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},n.subject)),g.createElement("div",null,g.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0}),n.message&&g.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},n.message)),g.createElement("div",null,g.createElement("button",{type:"submit",disabled:u,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},u?g.createElement("span",{className:"flex items-center justify-center"},g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),g.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),g.createElement("div",{className:"space-y-6"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),g.createElement("ul",{className:"space-y-3"},g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),g.createElement("span",{className:"text-gray-700"},"contact@example.com")),g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),g.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),g.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",g.createElement("br",null),"San Francisco, CA 94107")))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),g.createElement("ul",{className:"space-y-2"},g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Monday - Friday"),g.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Saturday"),g.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Sunday"),g.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),g.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},g.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};var Xp={exports:{}},Oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function u5(){if(ZT)return Oc;ZT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Oc.Fragment=e,Oc.jsx=n,Oc.jsxs=n,Oc}var JT;function h5(){return JT||(JT=1,Xp.exports=u5()),Xp.exports}var jg=h5();const uA=D.createContext({});function f5(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const h0=typeof window<"u",d5=h0?D.useLayoutEffect:D.useEffect,f0=D.createContext(null);function d0(t,e){t.indexOf(e)===-1&&t.push(e)}function m0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xi=(t,e,n)=>n>e?e:n<t?t:n;let p0=()=>{};const Wi={},hA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fA(t){return typeof t=="object"&&t!==null}const dA=t=>/^0[^.\s]+$/u.test(t);function g0(t){let e;return()=>(e===void 0&&(e=t()),e)}const yr=t=>t,m5=(t,e)=>n=>e(t(n)),Au=(...t)=>t.reduce(m5),au=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class y0{constructor(){this.subscriptions=[]}add(e){return d0(this.subscriptions,e),()=>m0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ii=t=>t*1e3,gr=t=>t/1e3;function mA(t,e){return e?t*(1e3/e):0}const pA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p5=1e-7,g5=12;function y5(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=pA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>p5&&++f<g5);return u}function Ru(t,e,n,i){if(t===e&&n===i)return yr;const a=l=>y5(l,0,1,t,n);return l=>l===0||l===1?l:pA(a(l),e,i)}const gA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yA=t=>e=>1-t(1-e),vA=Ru(.33,1.53,.69,.99),v0=yA(vA),EA=gA(v0),_A=t=>(t*=2)<1?.5*v0(t):.5*(2-Math.pow(2,-10*(t-1))),E0=t=>1-Math.sin(Math.acos(t)),bA=yA(E0),TA=gA(E0),v5=Ru(.42,0,1,1),E5=Ru(0,0,.58,1),wA=Ru(.42,0,.58,1),_5=t=>Array.isArray(t)&&typeof t[0]!="number",xA=t=>Array.isArray(t)&&typeof t[0]=="number",b5={linear:yr,easeIn:v5,easeInOut:wA,easeOut:E5,circIn:E0,circInOut:TA,circOut:bA,backIn:v0,backInOut:EA,backOut:vA,anticipate:_A},T5=t=>typeof t=="string",ew=t=>{if(xA(t)){p0(t.length===4);const[e,n,i,a]=t;return Ru(e,n,i,a)}else if(T5(t))return b5[t];return t},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function w5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,b=!1)=>{const C=b&&a?n:i;return _&&u.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const x5=40;function SA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=af.reduce((H,le)=>(H[le]=w5(l),H),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:b,render:R,postRender:C}=u,P=()=>{const H=Wi.useManualTiming?a.timestamp:performance.now();n=!1,Wi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,x5),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),b.process(a),R.process(a),C.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(P))},I=()=>{n=!0,i=!0,a.isProcessing||t(P)};return{schedule:af.reduce((H,le)=>{const B=u[le];return H[le]=(K,O=!1,x=!1)=>(n||I(),B.schedule(K,O,x)),H},{}),cancel:H=>{for(let le=0;le<af.length;le++)u[af[le]].cancel(H)},state:a,steps:u}}const{schedule:St,cancel:Ws,state:vn,steps:Wp}=SA(typeof requestAnimationFrame<"u"?requestAnimationFrame:yr,!0);let Tf;function S5(){Tf=void 0}const zn={now:()=>(Tf===void 0&&zn.set(vn.isProcessing||Wi.useManualTiming?vn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(S5)}},AA=t=>e=>typeof e=="string"&&e.startsWith(t),_0=AA("--"),A5=AA("var(--"),b0=t=>A5(t)?R5.test(t.split("/*")[0].trim()):!1,R5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ou={...Nl,transform:t=>Xi(0,1,t)},of={...Nl,default:1},Gc=t=>Math.round(t*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N5(t){return t==null}const C5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w0=(t,e)=>n=>!!(typeof n=="string"&&C5.test(n)&&n.startsWith(t)||e&&!N5(n)&&Object.prototype.hasOwnProperty.call(n,e)),RA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(T0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},I5=t=>Xi(0,255,t),Zp={...Nl,transform:t=>Math.round(I5(t))},Ua={test:w0("rgb","red"),parse:RA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+Gc(ou.transform(i))+")"};function D5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Bg={test:w0("#"),parse:D5,transform:Ua.transform},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=Nu("deg"),si=Nu("%"),Ve=Nu("px"),P5=Nu("vh"),O5=Nu("vw"),tw={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},Zo={test:w0("hsl","hue"),parse:RA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+si.transform(Gc(e))+", "+si.transform(Gc(n))+", "+Gc(ou.transform(i))+")"},Yt={test:t=>Ua.test(t)||Bg.test(t)||Zo.test(t),parse:t=>Ua.test(t)?Ua.parse(t):Zo.test(t)?Zo.parse(t):Bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):Zo.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},M5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V5(t){return isNaN(t)&&typeof t=="string"&&(t.match(T0)?.length||0)+(t.match(M5)?.length||0)>0}const NA="number",CA="color",k5="var",L5="var(",nw="${}",U5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(U5,m=>(Yt.test(m)?(i.color.push(l),a.push(CA),n.push(Yt.parse(m))):m.startsWith(L5)?(i.var.push(l),a.push(k5),n.push(m)):(i.number.push(l),a.push(NA),n.push(parseFloat(m))),++l,nw)).split(nw);return{values:n,split:f,indexes:i,types:a}}function IA(t){return lu(t).values}function DA(t){const{split:e,types:n}=lu(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===NA?l+=Gc(a[u]):f===CA?l+=Yt.transform(a[u]):l+=a[u]}return l}}const j5=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function B5(t){const e=IA(t);return DA(t)(e.map(j5))}const Zs={test:V5,parse:IA,createTransformer:DA,getAnimatableNone:B5};function Jp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Jp(m,f,t+1/3),l=Jp(m,f,t),u=Jp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Xf(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,eg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},z5=[Bg,Ua,Zo],q5=t=>z5.find(e=>e.test(t));function rw(t){const e=q5(t);if(!e)return!1;let n=e.parse(t);return e===Zo&&(n=F5(n)),n}const iw=(t,e)=>{const n=rw(t),i=rw(e);if(!n||!i)return Xf(t,e);const a={...n};return l=>(a.red=eg(n.red,i.red,l),a.green=eg(n.green,i.green,l),a.blue=eg(n.blue,i.blue,l),a.alpha=Nt(n.alpha,i.alpha,l),Ua.transform(a))},Fg=new Set(["none","hidden"]);function H5(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G5(t,e){return n=>Nt(t,e,n)}function x0(t){return typeof t=="number"?G5:typeof t=="string"?b0(t)?Xf:Yt.test(t)?iw:Y5:Array.isArray(t)?PA:typeof t=="object"?Yt.test(t)?iw:$5:Xf}function PA(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>x0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function $5(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=x0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function K5(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const Y5=(t,e)=>{const n=Zs.createTransformer(e),i=lu(t),a=lu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Fg.has(t)&&!a.values.length||Fg.has(e)&&!i.values.length?H5(t,e):Au(PA(K5(i,a),a.values),n):Xf(t,e)};function OA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):x0(t)(t,e)}const Q5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>Ws(e),now:()=>vn.isProcessing?vn.timestamp:zn.now()}},MA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Wf=2e4;function S0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Wf;)e+=n,i=t.next(e);return e>=Wf?1/0:e}function X5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(S0(i),Wf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:gr(a)}}const W5=5;function VA(t,e,n){const i=Math.max(e-W5,0);return mA(n-t(i),e-i)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tg=.001;function Z5({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:i=Vt.mass}){let a,l,u=1-e;u=Xi(Vt.minDamping,Vt.maxDamping,u),t=Xi(Vt.minDuration,Vt.maxDuration,gr(t)),u<1?(a=p=>{const v=p*u,_=v*t,b=v-n,R=zg(p,u),C=Math.exp(-_);return tg-b/R*C},l=p=>{const _=p*u*t,b=_*n+n,R=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-_),P=zg(Math.pow(p,2),u);return(-a(p)+tg>0?-1:1)*((b-R)*C)/P}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-tg+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=e6(a,l,f);if(t=ii(t),isNaN(m))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const J5=12;function e6(t,e,n){let i=n;for(let a=1;a<J5;a++)i=i-t(i)/e(i);return i}function zg(t,e){return t*Math.sqrt(1-e*e)}const t6=["duration","bounce"],n6=["stiffness","damping","mass"];function sw(t,e){return e.some(n=>t[n]!==void 0)}function r6(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!sw(t,n6)&&sw(t,t6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Xi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Vt.mass,stiffness:a,damping:l}}else{const n=Z5(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function Zf(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:b,isResolvedFromDuration:R}=r6({...n,velocity:-gr(n.velocity||0)}),C=b||0,P=p/(2*Math.sqrt(m*v)),I=u-l,j=gr(Math.sqrt(m/v)),F=Math.abs(I)<5;i||(i=F?Vt.restSpeed.granular:Vt.restSpeed.default),a||(a=F?Vt.restDelta.granular:Vt.restDelta.default);let H;if(P<1){const B=zg(j,P);H=K=>{const O=Math.exp(-P*j*K);return u-O*((C+P*j*I)/B*Math.sin(B*K)+I*Math.cos(B*K))}}else if(P===1)H=B=>u-Math.exp(-j*B)*(I+(C+j*I)*B);else{const B=j*Math.sqrt(P*P-1);H=K=>{const O=Math.exp(-P*j*K),x=Math.min(B*K,300);return u-O*((C+P*j*I)*Math.sinh(x)+B*I*Math.cosh(x))/B}}const le={calculatedDuration:R&&_||null,next:B=>{const K=H(B);if(R)f.done=B>=_;else{let O=B===0?C:0;P<1&&(O=B===0?ii(C):VA(H,B,K));const x=Math.abs(O)<=i,N=Math.abs(u-K)<=a;f.done=x&&N}return f.value=f.done?u:K,f},toString:()=>{const B=Math.min(S0(le),Wf),K=MA(O=>le.next(B*O).value,B,30);return B+"ms "+K},toTransition:()=>{}};return le}Zf.applyToOptions=t=>{const e=X5(t,100,Zf);return t.ease=e.ease,t.duration=ii(e.duration),t.type="keyframes",t};function qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],b={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,C=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let P=n*e;const I=_+P,j=u===void 0?I:u(I);j!==I&&(P=j-_);const F=x=>-P*Math.exp(-x/i),H=x=>j+F(x),le=x=>{const N=F(x),M=H(x);b.done=Math.abs(N)<=p,b.value=b.done?j:M};let B,K;const O=x=>{R(b.value)&&(B=x,K=Zf({keyframes:[b.value,C(b.value)],velocity:VA(H,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return O(0),{calculatedDuration:null,next:x=>{let N=!1;return!K&&B===void 0&&(N=!0,le(x),O(x)),B!==void 0&&x>=B?K.next(x-B):(!N&&le(x),b)}}}function i6(t,e,n){const i=[],a=n||Wi.mix||OA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||yr:e;f=Au(m,f)}i.push(f)}return i}function s6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(p0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=i6(e,i,a),m=f.length,p=v=>{if(u&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const b=au(t[_],t[_+1],v);return f[_](b)};return n?v=>p(Xi(t[0],t[l-1],v)):p}function a6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=au(0,e,i);t.push(Nt(n,1,a))}}function o6(t){const e=[0];return a6(e,t.length-1),e}function l6(t,e){return t.map(n=>n*e)}function c6(t,e){return t.map(()=>e||wA).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=_5(i)?i.map(ew):ew(i),l={done:!1,value:e[0]},u=l6(n&&n.length===e.length?n:o6(e),t),f=s6(u,e,{ease:Array.isArray(a)?a:c6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const u6=t=>t!==null;function A0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(u6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const h6={decay:qg,inertia:qg,tween:$c,keyframes:$c,spring:Zf};function kA(t){typeof t.type=="string"&&(t.type=h6[t.type])}class R0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const f6=t=>t/100;class N0 extends R0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kA(e);const{type:n=$c,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||$c;m!==$c&&typeof f[0]!="number"&&(this.mixKeyframes=Au(f6,OA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=S0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:b,repeatDelay:R,type:C,onUpdate:P,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,le=i;if(_){const x=Math.min(this.currentTime,a)/f;let N=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(b==="reverse"?(M=1-M,R&&(M-=R/f)):b==="mirror"&&(le=u)),H=Xi(0,1,M)*f}const B=F?{done:!1,value:v[0]}:le.next(H);l&&(B.value=l(B.value));let{done:K}=B;!F&&m!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return O&&C!==qg&&(B.value=A0(v,this.options,I,this.speed)),P&&P(B.value),O&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(this.currentTime)}set time(e){e=ii(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function d6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ja=t=>t*180/Math.PI,Hg=t=>{const e=ja(Math.atan2(t[1],t[0]));return Gg(e)},m6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Hg,rotateZ:Hg,skewX:t=>ja(Math.atan(t[1])),skewY:t=>ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gg=t=>(t=t%360,t<0&&(t+=360),t),aw=Hg,ow=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),p6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ow,scaleY:lw,scale:t=>(ow(t)+lw(t))/2,rotateX:t=>Gg(ja(Math.atan2(t[6],t[5]))),rotateY:t=>Gg(ja(Math.atan2(-t[2],t[0]))),rotateZ:aw,rotate:aw,skewX:t=>ja(Math.atan(t[4])),skewY:t=>ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $g(t){return t.includes("scale")?1:0}function Kg(t,e){if(!t||t==="none")return $g(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=p6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=m6,a=f}if(!a)return $g(e);const l=i[e],u=a[1].split(",").map(y6);return typeof l=="function"?l(u):u[l]}const g6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kg(n,e)};function y6(t){return parseFloat(t.trim())}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Cl),cw=t=>t===Nl||t===Ve,v6=new Set(["x","y","z"]),E6=Cl.filter(t=>!v6.has(t));function _6(t){const e=[];return E6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kg(e,"x"),y:(t,{transform:e})=>Kg(e,"y")};Fa.translateX=Fa.x;Fa.translateY=Fa.y;const za=new Set;let Yg=!1,Qg=!1,Xg=!1;function LA(){if(Qg){const t=Array.from(za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=_6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Qg=!1,Yg=!1,za.forEach(t=>t.complete(Xg)),za.clear()}function UA(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qg=!0)})}function b6(){Xg=!0,UA(),LA(),Xg=!1}class C0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),Yg||(Yg=!0,St.read(UA),St.resolveKeyframes(LA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}d6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T6=t=>t.startsWith("--");function w6(t,e,n){T6(e)?t.style.setProperty(e,n):t.style[e]=n}const x6=g0(()=>window.ScrollTimeline!==void 0),S6={};function A6(t,e){const n=g0(t);return()=>S6[e]??n()}const jA=A6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,uw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function BA(t,e){if(t)return typeof t=="function"?jA()?MA(t,e):"ease-out":xA(t)?jc(t):Array.isArray(t)?t.map(n=>BA(n,e)||uw.easeOut):uw[t]}function R6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=BA(f,a);Array.isArray(_)&&(v.easing=_);const b={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(v,b)}function FA(t){return typeof t=="function"&&"applyToOptions"in t}function N6({type:t,...e}){return FA(t)&&jA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C6 extends R0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,p0(typeof e.type!="string");const p=N6(e);this.animation=R6(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=A0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):w6(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ii(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&x6()?(this.animation.timeline=e,yr):n(this)}}const zA={anticipate:_A,backInOut:EA,circInOut:TA};function I6(t){return t in zA}function D6(t){typeof t.ease=="string"&&I6(t.ease)&&(t.ease=zA[t.ease])}const hw=10;class P6 extends C6{constructor(e){D6(e),kA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new N0({...u,autoplay:!1}),m=ii(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-hw).value,f.sample(m).value,hw),f.stop()}}const fw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zs.test(t)||t==="0")&&!t.startsWith("url("));function O6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M6(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=fw(a,e),f=fw(l,e);return!u||!f?!1:O6(t)||(n==="spring"||FA(n))&&i}function Wg(t){t.duration=0,t.type="keyframes"}const V6=new Set(["opacity","clipPath","filter","transform"]),k6=g0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L6(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return k6()&&n&&V6.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const U6=40;class j6 extends R0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,..._},R=v?.KeyframeResolver||C0;this.keyframeResolver=new R(f,(C,P,I)=>this.onKeyframesResolved(C,P,b,!I),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=zn.now(),M6(e,l,u,f)||((Wi.instantAnimations||!m)&&v?.(A0(e,i,n)),e[0]=e[e.length-1],Wg(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>U6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},R=!p&&L6(b)?new P6({...b,element:b.motionValue.owner.current}):new N0(b);R.finished.then(()=>this.notifyFinished()).catch(yr),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),b6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const B6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F6(t){const e=B6.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function qA(t,e,n=1){const[i,a]=F6(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return hA(u)?parseFloat(u):u}return b0(a)?qA(a,e,n+1):a}function I0(t,e){return t?.[e]??t?.default??t}const HA=new Set(["width","height","top","left","right","bottom",...Cl]),z6={test:t=>t==="auto",parse:t=>t},GA=t=>e=>e.test(t),$A=[Nl,Ve,si,Is,O5,P5,z6],dw=t=>$A.find(GA(t));function q6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dA(t):!0}const H6=new Set(["brightness","contrast","saturate","opacity"]);function G6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(T0)||[];if(!i)return t;const a=n.replace(i,"");let l=H6.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const $6=/\b([a-z-]*)\(.*?\)/gu,Zg={...Zs,getAnimatableNone:t=>{const e=t.match($6);return e?e.map(G6).join(" "):t}},mw={...Nl,transform:Math.round},K6={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:Is,skewX:Is,skewY:Is,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:ou,originX:tw,originY:tw,originZ:Ve},D0={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...K6,zIndex:mw,fillOpacity:ou,strokeOpacity:ou,numOctaves:mw},Y6={...D0,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Zg,WebkitFilter:Zg},KA=t=>Y6[t];function YA(t,e){let n=KA(t);return n!==Zg&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Q6=new Set(["auto","none","0"]);function X6(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!Q6.has(l)&&lu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=YA(n,a)}class W6 extends C0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),b0(p))){const v=qA(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!HA.has(i)||e.length!==2)return;const[a,l]=e,u=dw(a),f=dw(l);if(u!==f)if(cw(u)&&cw(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Fa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||q6(e[a]))&&i.push(a);i.length&&X6(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Fa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Z6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const QA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function J6(t){return fA(t)&&"offsetHeight"in t}const pw=30,eL=t=>!isNaN(parseFloat(t));class tL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y0);const i=this.events[e].add(n);return e==="change"?()=>{i(),St.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return mA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new tL(t,e)}const{schedule:P0}=SA(queueMicrotask,!1),Rr={x:!1,y:!1};function XA(){return Rr.x||Rr.y}function nL(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}function WA(t,e){const n=Z6(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function gw(t){return!(t.pointerType==="touch"||XA())}function rL(t,e,n={}){const[i,a,l]=WA(t,n),u=f=>{if(!gw(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{gw(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const ZA=(t,e)=>e?t===e?!0:ZA(t,e.parentElement):!1,O0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,iL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sL(t){return iL.has(t.tagName)||t.tabIndex!==-1}const wf=new WeakSet;function yw(t){return e=>{e.key==="Enter"&&t(e)}}function ng(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=yw(()=>{if(wf.has(n))return;ng(n,"down");const a=yw(()=>{ng(n,"up")}),l=()=>ng(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function vw(t){return O0(t)&&!XA()}function oL(t,e,n={}){const[i,a,l]=WA(t,n),u=f=>{const m=f.currentTarget;if(!vw(f))return;wf.add(m);const p=e(m,f),v=(R,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),wf.has(m)&&wf.delete(m),vw(R)&&typeof p=="function"&&p(R,{success:C})},_=R=>{v(R,m===window||m===document||n.useGlobalTarget||ZA(m,R.target))},b=R=>{v(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),J6(f)&&(f.addEventListener("focus",p=>aL(p,a)),!sL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function JA(t){return fA(t)&&"ownerSVGElement"in t}function lL(t){return JA(t)&&t.tagName==="svg"}const Nn=t=>!!(t&&t.getVelocity),cL=[...$A,Yt,Zs],uL=t=>cL.find(GA(t)),eR=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hL(t=!0){const e=D.useContext(f0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const u=D.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const tR=D.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const t in Ew)El[t]={isEnabled:e=>Ew[t].some(n=>!!e[n])};function fL(t){for(const e in t)El[e]={...El[e],...t[e]}}const dL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dL.has(t)}let nR=t=>!Jf(t);function mL(t){typeof t=="function"&&(nR=e=>e.startsWith("on")?!Jf(e):t(e))}try{mL(require("@emotion/is-prop-valid").default)}catch{}function pL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(nR(a)||n===!0&&Jf(a)||!e&&!Jf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Rd=D.createContext({});function Nd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const M0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V0=["initial",...M0];function Cd(t){return Nd(t.animate)||V0.some(e=>cu(t[e]))}function rR(t){return!!(Cd(t)||t.variants)}function gL(t,e){if(Cd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(i)?i:void 0}}return t.inherit!==!1?e:{}}function yL(t){const{initial:e,animate:n}=gL(t,D.useContext(Rd));return D.useMemo(()=>({initial:e,animate:n}),[_w(e),_w(n)])}function _w(t){return Array.isArray(t)?t.join(" "):t}const uu={};function vL(t){for(const e in t)uu[e]=t[e],_0(e)&&(uu[e].isCSSVariable=!0)}function iR(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uu[t]||t==="opacity")}const EL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_L=Cl.length;function bL(t,e,n){let i="",a=!0;for(let l=0;l<_L;l++){const u=Cl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=QA(f,D0[u]);if(!m){a=!1;const v=EL[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function k0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Il.has(m)){u=!0;continue}else if(_0(m)){a[m]=p;continue}else{const v=QA(p,D0[m]);m.startsWith("origin")?(f=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=bL(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}const L0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sR(t,e,n){for(const i in e)!Nn(e[i])&&!iR(i,n)&&(t[i]=e[i])}function TL({transformTemplate:t},e){return D.useMemo(()=>{const n=L0();return k0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wL(t,e){const n=t.style||{},i={};return sR(i,n,t),Object.assign(i,TL(t,e)),i}function xL(t,e){const n={},i=wL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const SL={offset:"stroke-dashoffset",array:"stroke-dasharray"},AL={offset:"strokeDashoffset",array:"strokeDasharray"};function RL(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?SL:AL;t[l.offset]=Ve.transform(-i);const u=Ve.transform(e),f=Ve.transform(n);t[l.array]=`${u} ${f}`}function aR(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,v){if(k0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&RL(_,a,l,u,!1)}const oR=()=>({...L0(),attrs:{}}),lR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NL(t,e,n,i){const a=D.useMemo(()=>{const l=oR();return aR(l,e,lR(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sR(l,t.style,t),a.style={...l,...a.style}}return a}const CL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U0(t){return typeof t!="string"||t.includes("-")?!1:!!(CL.indexOf(t)>-1||/[A-Z]/u.test(t))}function IL(t,e,n,{latestValues:i},a,l=!1){const f=(U0(t)?NL:xL)(e,i,a,t),m=pL(e,typeof t=="string",l),p=t!==D.Fragment?{...m,...f,ref:n}:{},{children:v}=e,_=D.useMemo(()=>Nn(v)?v.get():v,[v]);return D.createElement(t,{...p,children:_})}function bw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function j0(t,e,n,i){if(typeof e=="function"){const[a,l]=bw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=bw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function xf(t){return Nn(t)?t.get():t}function DL({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:PL(n,i,a,t),renderState:e()}}function PL(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=xf(l[b]);let{initial:u,animate:f}=t;const m=Cd(t),p=rR(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?f:u;if(_&&typeof _!="boolean"&&!Nd(_)){const b=Array.isArray(_)?_:[_];for(let R=0;R<b.length;R++){const C=j0(t,b[R]);if(C){const{transitionEnd:P,transition:I,...j}=C;for(const F in j){let H=j[F];if(Array.isArray(H)){const le=v?H.length-1:0;H=H[le]}H!==null&&(a[F]=H)}for(const F in P)a[F]=P[F]}}}return a}const cR=t=>(e,n)=>{const i=D.useContext(Rd),a=D.useContext(f0),l=()=>DL(t,e,i,a);return n?l():f5(l)};function B0(t,e,n){const{style:i}=t,a={};for(const l in i)(Nn(i[l])||e.style&&Nn(e.style[l])||iR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const OL=cR({scrapeMotionValuesFromProps:B0,createRenderState:L0});function uR(t,e,n){const i=B0(t,e,n);for(const a in t)if(Nn(t[a])||Nn(e[a])){const l=Cl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const ML=cR({scrapeMotionValuesFromProps:uR,createRenderState:oR}),VL=Symbol.for("motionComponentSymbol");function Jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kL(t,e,n){return D.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Jo(n)&&(n.current=i))},[e])}const F0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LL="framerAppearId",hR="data-"+F0(LL),fR=D.createContext({});function UL(t,e,n,i,a){const{visualElement:l}=D.useContext(Rd),u=D.useContext(tR),f=D.useContext(f0),m=D.useContext(eR).reducedMotion,p=D.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,_=D.useContext(fR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&jL(p.current,n,a,_);const b=D.useRef(!1);D.useInsertionEffect(()=>{v&&b.current&&v.update(n,f)});const R=n[hR],C=D.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return d5(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),C.current=!1),v.enteringChildren=void 0)}),v}function jL(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Jo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function dR(t){if(t)return t.options.allowProjection!==!1?t.projection:dR(t.parent)}function rg(t,{forwardMotionProps:e=!1}={},n,i){n&&fL(n);const a=U0(t)?ML:OL;function l(f,m){let p;const v={...D.useContext(eR),...f,layoutId:BL(f)},{isStatic:_}=v,b=yL(f),R=a(f,_);if(!_&&h0){FL();const C=zL(v);p=C.MeasureLayout,b.visualElement=UL(t,R,v,i,C.ProjectionNode)}return jg.jsxs(Rd.Provider,{value:b,children:[p&&b.visualElement?jg.jsx(p,{visualElement:b.visualElement,...v}):null,IL(t,f,kL(R,b.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=D.forwardRef(l);return u[VL]=t,u}function BL({layoutId:t}){const e=D.useContext(uA).id;return e&&t!==void 0?e+"-"+t:t}function FL(t,e){D.useContext(tR).strict}function zL(t){const{drag:e,layout:n}=El;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qL(t,e){if(typeof Proxy>"u")return rg;const n=new Map,i=(l,u)=>rg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,rg(u,void 0,t,e)),n.get(u))})}function mR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function HL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ig(t){return t===void 0||t===1}function Jg({scale:t,scaleX:e,scaleY:n}){return!ig(t)||!ig(e)||!ig(n)}function ka(t){return Jg(t)||pR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pR(t){return Tw(t.x)||Tw(t.y)}function Tw(t){return t&&t!=="0%"}function ed(t,e,n){const i=t-n,a=e*i;return n+a}function ww(t,e,n,i,a){return a!==void 0&&(t=ed(t,a,i)),ed(t,n,i)+e}function ey(t,e=0,n=1,i,a){t.min=ww(t.min,e,n,i,a),t.max=ww(t.max,e,n,i,a)}function gR(t,{x:e,y:n}){ey(t.x,e.translate,e.scale,e.originPoint),ey(t.y,n.translate,n.scale,n.originPoint)}const xw=.999999999999,Sw=1.0000000000001;function $L(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&tl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,gR(t,u)),i&&ka(l.latestValues)&&tl(t,l.latestValues))}e.x<Sw&&e.x>xw&&(e.x=1),e.y<Sw&&e.y>xw&&(e.y=1)}function el(t,e){t.min=t.min+e,t.max=t.max+e}function Aw(t,e,n,i,a=.5){const l=Nt(t.min,t.max,a);ey(t,e,n,l,i)}function tl(t,e){Aw(t.x,e.x,e.scaleX,e.scale,e.originX),Aw(t.y,e.y,e.scaleY,e.scale,e.originY)}function yR(t,e){return mR(GL(t.getBoundingClientRect(),e))}function KL(t,e,n){const i=yR(t,n),{scroll:a}=e;return a&&(el(i.x,a.offset.x),el(i.y,a.offset.y)),i}const Rw=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:Rw(),y:Rw()}),Nw=()=>({min:0,max:0}),jt=()=>({x:Nw(),y:Nw()}),ty={current:null},vR={current:!1};function YL(){if(vR.current=!0,!!h0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ty.current=t.matches;t.addEventListener("change",e),e()}else ty.current=!1}const QL=new WeakMap;function XL(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Nn(a))t.addValue(i,a);else if(Nn(l))t.addValue(i,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,vl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WL{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=zn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,St.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Cd(n),this.isVariantNode=rR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const R=_[b];m[b]!==void 0&&Nn(R)&&R.set(m[b])}}mount(e){this.current=e,QL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),vR.current||YL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ty.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Il.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&St.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in El){const n=El[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Cw.length;i++){const a=Cw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=XL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=vl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(hA(i)||dA(i))?i=parseFloat(i):!uL(i)&&Zs.test(n)&&(i=YA(e,n)),this.setBaseTarget(e,Nn(i)?i.get():i)),Nn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=j0(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Nn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){P0.render(this.render)}}class ER extends WL{constructor(){super(...arguments),this.KeyframeResolver=W6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _R(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function ZL(t){return window.getComputedStyle(t)}class JL extends ER{constructor(){super(...arguments),this.type="html",this.renderInstance=_R}readValueFromInstance(e,n){if(Il.has(n))return this.projection?.isProjecting?$g(n):g6(e,n);{const i=ZL(e),a=(_0(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yR(e,n)}build(e,n,i){k0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return B0(e,n,i)}}const bR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e9(t,e,n,i){_R(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(bR.has(a)?a:F0(a),e.attrs[a])}class t9 extends ER{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const i=KA(n);return i&&i.default||0}return n=bR.has(n)?n:F0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return uR(e,n,i)}build(e,n,i){aR(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){e9(e,n,i,a)}mount(e){this.isSVGTag=lR(e.tagName),super.mount(e)}}const n9=(t,e)=>U0(t)?new t9(e):new JL(e,{allowProjection:t!==D.Fragment});function cl(t,e,n){const i=t.getProps();return j0(i,e,n!==void 0?n:i.custom,t)}const ny=t=>Array.isArray(t);function r9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function i9(t){return ny(t)?t[t.length-1]||0:t}function s9(t,e){const n=cl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=i9(l[u]);r9(t,u,f)}}function a9(t){return!!(Nn(t)&&t.add)}function ry(t,e){const n=t.getValue("willChange");if(a9(n))return n.add(e);if(!n&&Wi.WillChange){const i=new Wi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function TR(t){return t.props[hR]}const o9=t=>t!==null;function l9(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(o9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const c9={type:"spring",stiffness:500,damping:25,restSpeed:10},u9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),h9={type:"keyframes",duration:.8},f9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d9=(t,{keyframes:e})=>e.length>2?h9:Il.has(t)?t.startsWith("scale")?u9(e[1]):c9:f9;function m9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const z0=(t,e,n,i={},a,l)=>u=>{const f=I0(i,t)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ii(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};m9(f)||Object.assign(v,d9(t,v)),v.duration&&(v.duration=ii(v.duration)),v.repeatDelay&&(v.repeatDelay=ii(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wg(v),v.delay===0&&(_=!0)),(Wi.instantAnimations||Wi.skipAnimations)&&(_=!0,Wg(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=l9(v.keyframes,f);if(b!==void 0){St.update(()=>{v.onUpdate(b),v.onComplete()});return}}return f.isSync?new N0(v):new j6(v)};function p9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function wR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),b=f[v];if(b===void 0||p&&p9(p,v))continue;const R={delay:n,...I0(l||{},v)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!R.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const j=TR(t);if(j){const F=window.MotionHandoffAnimation(j,v,St);F!==null&&(R.startTime=F,P=!0)}}ry(t,v),_.start(z0(v,_,b,t.shouldReduceMotion&&HA.has(v)?{type:!1}:R,t,P));const I=_.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{St.update(()=>{u&&s9(t,u)})}),m}function xR(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function iy(t,e,n={}){const i=cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(wR(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:_}=a;return g9(t,e,m,p,v,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function g9(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(iy(m,e,{...u,delay:n+(typeof i=="function"?0:i)+xR(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function y9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=iy(t,e,n);else{const a=typeof e=="function"?cl(t,e,n.custom):e;i=Promise.all(wR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function SR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const v9=V0.length;function AR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<v9;n++){const i=V0[n],a=t.props[i];(cu(a)||a===!1)&&(e[i]=a)}return e}const E9=[...M0].reverse(),_9=M0.length;function b9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>y9(t,n,i)))}function T9(t){let e=b9(t),n=Iw(),i=!0;const a=m=>(p,v)=>{const _=cl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:R,...C}=_;p={...p,...C,...R}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=AR(t.parent)||{},_=[],b=new Set;let R={},C=1/0;for(let I=0;I<_9;I++){const j=E9[I],F=n[j],H=p[j]!==void 0?p[j]:v[j],le=cu(H),B=j===m?F.isActive:null;B===!1&&(C=I);let K=H===v[j]&&H!==p[j]&&le;if(K&&i&&t.manuallyAnimateOnMount&&(K=!1),F.protectedKeys={...R},!F.isActive&&B===null||!H&&!F.prevProp||Nd(H)||typeof H=="boolean")continue;const O=w9(F.prevProp,H);let x=O||j===m&&F.isActive&&!K&&le||I>C&&le,N=!1;const M=Array.isArray(H)?H:[H];let U=M.reduce(a(j),{});B===!1&&(U={});const{prevResolvedValues:q={}}=F,V={...q,...U},qe=fe=>{x=!0,b.has(fe)&&(N=!0,b.delete(fe)),F.needsAnimating[fe]=!0;const ye=t.getValue(fe);ye&&(ye.liveStyle=!1)};for(const fe in V){const ye=U[fe],Ie=q[fe];if(R.hasOwnProperty(fe))continue;let k=!1;ny(ye)&&ny(Ie)?k=!SR(ye,Ie):k=ye!==Ie,k?ye!=null?qe(fe):b.add(fe):ye!==void 0&&b.has(fe)?qe(fe):F.protectedKeys[fe]=!0}F.prevProp=H,F.prevResolvedValues=U,F.isActive&&(R={...R,...U}),i&&t.blockInitialAnimation&&(x=!1);const He=K&&O;x&&(!He||N)&&_.push(...M.map(fe=>{const ye={type:j};if(typeof fe=="string"&&i&&!He&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,k=cl(Ie,fe);if(Ie.enteringChildren&&k){const{delayChildren:se}=k.transition||{};ye.delay=xR(Ie.enteringChildren,t,se)}}return{animation:fe,options:ye}}))}if(b.size){const I={};if(typeof p.initial!="boolean"){const j=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(I.transition=j.transition)}b.forEach(j=>{const F=t.getBaseTarget(j),H=t.getValue(j);H&&(H.liveStyle=!0),I[j]=F??null}),_.push({animation:I})}let P=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Iw(),i=!0}}}function w9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SR(e,t):!1}function Ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iw(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x9 extends ta{constructor(e){super(e),e.animationState||(e.animationState=T9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S9=0;class A9 extends ta{constructor(){super(...arguments),this.id=S9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const R9={animation:{Feature:x9},exit:{Feature:A9}};function hu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Cu(t){return{point:{x:t.pageX,y:t.pageY}}}const N9=t=>e=>O0(e)&&t(e,Cu(e));function Kc(t,e,n,i){return hu(t,e,N9(n),i)}const RR=1e-4,C9=1-RR,I9=1+RR,NR=.01,D9=0-NR,P9=0+NR;function Vn(t){return t.max-t.min}function O9(t,e,n){return Math.abs(t-e)<=n}function Dw(t,e,n,i=.5){t.origin=i,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C9&&t.scale<=I9||isNaN(t.scale))&&(t.scale=1),(t.translate>=D9&&t.translate<=P9||isNaN(t.translate))&&(t.translate=0)}function Yc(t,e,n,i){Dw(t.x,e.x,n.x,i?i.originX:void 0),Dw(t.y,e.y,n.y,i?i.originY:void 0)}function Pw(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function M9(t,e,n){Pw(t.x,e.x,n.x),Pw(t.y,e.y,n.y)}function Ow(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function Qc(t,e,n){Ow(t.x,e.x,n.x),Ow(t.y,e.y,n.y)}function fr(t){return[t("x"),t("y")]}const CR=({current:t})=>t?t.ownerDocument.defaultView:null,Mw=(t,e)=>Math.abs(t-e);function V9(t,e){const n=Mw(t.x,e.x),i=Mw(t.y,e.y);return Math.sqrt(n**2+i**2)}class IR{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ag(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,C=V9(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!C)return;const{point:P}=b,{timestamp:I}=vn;this.history.push({...P,timestamp:I});const{onStart:j,onMove:F}=this.handlers;R||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=sg(R,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=ag(b.type==="pointercancel"?this.lastMoveEventInfo:sg(R,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,j),P&&P(b,j)},!O0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=Cu(e),m=sg(f,this.transformPagePoint),{point:p}=m,{timestamp:v}=vn;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,ag(m,this.history)),this.removeListeners=Au(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function sg(t,e){return e?{point:e(t.point)}:t}function Vw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ag({point:t},e){return{point:t,delta:Vw(t,DR(e)),offset:Vw(t,k9(e)),velocity:L9(e,.1)}}function k9(t){return t[0]}function DR(t){return t[t.length-1]}function L9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=DR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>ii(e)));)n--;if(!i)return{x:0,y:0};const l=gr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function U9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Nt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Nt(n,t,i.max):Math.min(t,n)),t}function kw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j9(t,{top:e,left:n,bottom:i,right:a}){return{x:kw(t.x,n,a),y:kw(t.y,e,i)}}function Lw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function B9(t,e){return{x:Lw(t.x,e.x),y:Lw(t.y,e.y)}}function F9(t,e){let n=.5;const i=Vn(t),a=Vn(e);return a>i?n=au(e.min,e.max-i,t.min):i>a&&(n=au(t.min,t.max-a,e.min)),Xi(0,1,n)}function z9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sy=.35;function q9(t=sy){return t===!1?t=0:t===!0&&(t=sy),{x:Uw(t,"left","right"),y:Uw(t,"top","bottom")}}function Uw(t,e,n){return{min:jw(t,e),max:jw(t,n)}}function jw(t,e){return typeof t=="number"?t:t[e]||0}const H9=new WeakMap;class G9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cu(_).point)},u=(_,b)=>{const{drag:R,dragPropagation:C,onDragStart:P}=this.getProps();if(R&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nL(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(j=>{let F=this.getAxisMotionValue(j).get()||0;if(si.test(F)){const{projection:H}=this.visualElement;if(H&&H.layout){const le=H.layout.layoutBox[j];le&&(F=Vn(le)*(parseFloat(F)/100))}}this.originPoint[j]=F}),P&&St.postRender(()=>P(_,b)),ry(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:C,onDirectionLock:P,onDrag:I}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:j}=b;if(C&&this.currentDirection===null){this.currentDirection=$9(j),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),I&&I(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>fr(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new IR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:CR(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&St.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!lf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=U9(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Jo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=j9(i.layoutBox,e):this.constraints=!1,this.elastic=q9(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=z9(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=KL(i,a.root,this.visualElement.getTransformPagePoint());let u=B9(a.layout.layoutBox,l);if(n){const f=n(HL(u));this.hasMutatedConstraints=!!f,f&&(u=mR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=fr(v=>{if(!lf(v,n,this.currentDirection))return;let _=m&&m[v]||{};u&&(_={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,C={type:"inertia",velocity:i?e[v]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ry(this.visualElement,e),i.start(z0(e,i,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:i}=this.getProps();if(!lf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Nt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fr(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=F9({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fr(u=>{if(!lf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Nt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;H9.set(this.visualElement,this);const e=this.visualElement.current,n=Kc(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Jo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),St.read(i);const u=hu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(fr(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=sy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K9 extends ta{constructor(e){super(e),this.removeGroupControls=yr,this.removeListeners=yr,this.controls=new G9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bw=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class Y9 extends ta{constructor(){super(...arguments),this.removePointerDownListener=yr}onPointerDown(e){this.session=new IR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Bw(e),onStart:Bw(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&St.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=Fw(t,e.target.x),i=Fw(t,e.target.y);return`${n}% ${i}%`}},Q9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Zs.parse(t);if(a.length>5)return i;const l=Zs.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Nt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let og=!1;class X9 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;vL(W9),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),og&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,og=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||St.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;og=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PR(t){const[e,n]=hL(),i=D.useContext(uA);return jg.jsx(X9,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(fR),isPresent:e,safeToRemove:n})}const W9={borderRadius:{...Mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mc,borderTopRightRadius:Mc,borderBottomLeftRadius:Mc,borderBottomRightRadius:Mc,boxShadow:Q9};function Z9(t,e,n){const i=Nn(t)?t:vl(t);return i.start(z0("",i,e,n)),i.animation}const J9=(t,e)=>t.depth-e.depth;class eU{constructor(){this.children=[],this.isDirty=!1}add(e){d0(this.children,e),this.isDirty=!0}remove(e){m0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J9),this.isDirty=!1,this.children.forEach(e)}}function tU(t,e){const n=zn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Ws(i),t(l-e))};return St.setup(i,!0),()=>Ws(i)}const OR=["TopLeft","TopRight","BottomLeft","BottomRight"],nU=OR.length,zw=t=>typeof t=="string"?parseFloat(t):t,qw=t=>typeof t=="number"||Ve.test(t);function rU(t,e,n,i,a,l){a?(t.opacity=Nt(0,n.opacity??1,iU(i)),t.opacityExit=Nt(e.opacity??1,0,sU(i))):l&&(t.opacity=Nt(e.opacity??1,n.opacity??1,i));for(let u=0;u<nU;u++){const f=`border${OR[u]}Radius`;let m=Hw(e,f),p=Hw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||qw(m)===qw(p)?(t[f]=Math.max(Nt(zw(m),zw(p),i),0),(si.test(p)||si.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,i))}function Hw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iU=MR(0,.5,bA),sU=MR(.5,.95,yr);function MR(t,e,n){return i=>i<t?0:i>e?1:n(au(t,e,i))}function Gw(t,e){t.min=e.min,t.max=e.max}function hr(t,e){Gw(t.x,e.x),Gw(t.y,e.y)}function $w(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Kw(t,e,n,i,a){return t-=e,t=ed(t,1/n,i),a!==void 0&&(t=ed(t,1/a,i)),t}function aU(t,e=0,n=1,i=.5,a,l=t,u=t){if(si.test(e)&&(e=parseFloat(e),e=Nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Nt(l.min,l.max,i);t===l&&(f-=e),t.min=Kw(t.min,e,n,f,a),t.max=Kw(t.max,e,n,f,a)}function Yw(t,e,[n,i,a],l,u){aU(t,e[n],e[i],e[a],e.scale,l,u)}const oU=["x","scaleX","originX"],lU=["y","scaleY","originY"];function Qw(t,e,n,i){Yw(t.x,e,oU,n?n.x:void 0,i?i.x:void 0),Yw(t.y,e,lU,n?n.y:void 0,i?i.y:void 0)}function Xw(t){return t.translate===0&&t.scale===1}function VR(t){return Xw(t.x)&&Xw(t.y)}function Ww(t,e){return t.min===e.min&&t.max===e.max}function cU(t,e){return Ww(t.x,e.x)&&Ww(t.y,e.y)}function Zw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kR(t,e){return Zw(t.x,e.x)&&Zw(t.y,e.y)}function Jw(t){return Vn(t.x)/Vn(t.y)}function e1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uU{constructor(){this.members=[]}add(e){d0(this.members,e),e.scheduleRender()}remove(e){if(m0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hU(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:b,skewX:R,skewY:C}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),_&&(i+=`rotateX(${_}deg) `),b&&(i+=`rotateY(${b}deg) `),R&&(i+=`skewX(${R}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const lg=["","X","Y","Z"],fU=1e3;let dU=0;function cg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function LR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&LR(i)}function UR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=dU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gU),this.nodes.forEach(_U),this.nodes.forEach(bU),this.nodes.forEach(yU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new eU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new y0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=JA(u)&&!lL(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const b=()=>this.root.updateBlockedByResize=!1;St.read(()=>{_=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,v&&v(),v=tU(b,250),Sf.hasAnimatedSinceResize&&(Sf.hasAnimatedSinceResize=!1,this.nodes.forEach(r1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||AU,{onLayoutAnimationStart:P,onLayoutAnimationComplete:I}=p.getProps(),j=!this.targetLayout||!kR(this.targetLayout,R),F=!_&&b;if(this.options.layoutRoot||this.resumeFrom||F||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...I0(C,"layout"),onPlay:P,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,F)}else _||r1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EU),this.nodes.forEach(mU),this.nodes.forEach(pU)):this.nodes.forEach(n1),this.clearAllSnapshots();const f=zn.now();vn.delta=Xi(0,1e3/60,f-vn.timestamp),vn.timestamp=f,vn.isProcessing=!0,Wp.update.process(vn),Wp.preRender.process(vn),Wp.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vU),this.sharedNodes.forEach(wU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vn(this.snapshot.measuredBox.x)&&!Vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!VR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||ka(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),RU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return jt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(NU))){const{scroll:p}=this.root;p&&(el(f.x,p.offset.x),el(f.y,p.offset.y))}return f}removeElementScroll(u){const f=jt();if(hr(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:_}=p;p!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&hr(f,u),el(f.x,v.offset.x),el(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const m=jt();hr(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&tl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ka(v.latestValues)&&tl(m,v.latestValues)}return ka(this.latestValues)&&tl(m,this.latestValues),m}removeTransform(u){const f=jt();hr(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ka(p.latestValues))continue;Jg(p.latestValues)&&p.updateSnapshot();const v=jt(),_=p.measurePageBox();hr(v,_),Qw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ka(this.latestValues)&&Qw(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Qc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),gR(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Qc(this.relativeTargetOrigin,this.target,b.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jg(this.parent.latestValues)||pR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;hr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;$L(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=jt());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($w(this.prevProjectionDelta.x,this.projectionDelta.x),$w(this.prevProjectionDelta.y,this.projectionDelta.y)),Yc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!e1(this.projectionDelta.x,this.prevProjectionDelta.x)||!e1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=jt(),R=m?m.source:void 0,C=this.layout?this.layout.source:void 0,P=R!==C,I=this.getStack(),j=!I||I.members.length<=1,F=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(SU));this.animationProgress=0;let H;this.mixTargetDelta=le=>{const B=le/1e3;i1(_.x,u.x,B),i1(_.y,u.y,B),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xU(this.relativeTarget,this.relativeTargetOrigin,b,B),H&&cU(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=jt()),hr(H,this.relativeTarget)),P&&(this.animationValues=v,rU(v,p,this.latestValues,B,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Sf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=Z9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&jR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||jt();const _=Vn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const b=Vn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}hr(f,m),tl(f,v),Yc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new uU),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&cg("z",u,p,this.animationValues);for(let v=0;v<lg.length;v++)cg(`rotate${lg[v]}`,u,p,this.animationValues),cg(`skew${lg[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=xf(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=xf(f?.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=hU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),u.transform=_;const{x:b,y:R}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in uu){if(v[C]===void 0)continue;const{correct:P,applyTo:I,isCSSVariable:j}=uu[C],F=_==="none"?v[C]:P(v[C],p);if(I){const H=I.length;for(let le=0;le<H;le++)u[I[le]]=F}else j?this.options.visualElement.renderState.vars[C]=F:u[C]=F}this.options.layoutId&&(u.pointerEvents=p===this?xf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function mU(t){t.updateLayout()}function pU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?fr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=Vn(_);_.min=n[v].min,_.max=_.min+b}):jR(a,e.layoutBox,n)&&fr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=Vn(n[v]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=nl();Yc(u,n,e.layoutBox);const f=nl();l?Yc(f,t.applyTransform(i,!0),e.measuredBox):Yc(f,n,e.layoutBox);const m=!VR(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:b}=v;if(_&&b){const R=jt();Qc(R,e.layoutBox,_.layoutBox);const C=jt();Qc(C,n,b.layoutBox),kR(R,C)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function gU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vU(t){t.clearSnapshot()}function t1(t){t.clearMeasurements()}function n1(t){t.isLayoutDirty=!1}function EU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _U(t){t.resolveTargetDelta()}function bU(t){t.calcProjection()}function TU(t){t.resetSkewAndRotation()}function wU(t){t.removeLeadSnapshot()}function i1(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s1(t,e,n,i){t.min=Nt(e.min,n.min,i),t.max=Nt(e.max,n.max,i)}function xU(t,e,n,i){s1(t.x,e.x,n.x,i),s1(t.y,e.y,n.y,i)}function SU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AU={duration:.45,ease:[.4,0,.1,1]},a1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o1=a1("applewebkit/")&&!a1("chrome/")?Math.round:yr;function l1(t){t.min=o1(t.min),t.max=o1(t.max)}function RU(t){l1(t.x),l1(t.y)}function jR(t,e,n){return t==="position"||t==="preserve-aspect"&&!O9(Jw(e),Jw(n),.2)}function NU(t){return t!==t.root&&t.scroll?.wasRoot}const CU=UR({attachResizeListener:(t,e)=>hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},BR=UR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ug.current){const t=new CU({});t.mount(window),t.setOptions({layoutScroll:!0}),ug.current=t}return ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IU={pan:{Feature:Y9},drag:{Feature:K9,ProjectionNode:BR,MeasureLayout:PR}};function c1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&St.postRender(()=>l(e,Cu(e)))}class DU extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=rL(e,(n,i)=>(c1(this.node,i,"Start"),a=>c1(this.node,a,"End"))))}unmount(){}}class PU extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&St.postRender(()=>l(e,Cu(e)))}class OU extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=oL(e,(n,i)=>(u1(this.node,i,"Start"),(a,{success:l})=>u1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ay=new WeakMap,hg=new WeakMap,MU=t=>{const e=ay.get(t.target);e&&e(t)},VU=t=>{t.forEach(MU)};function kU({root:t,...e}){const n=t||document;hg.has(n)||hg.set(n,{});const i=hg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(VU,{root:t,...e})),i[a]}function LU(t,e,n){const i=kU(e);return ay.set(t,n),i.observe(t),()=>{ay.delete(t),i.unobserve(t)}}const UU={some:0,all:1};class jU extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:UU[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=p?v:_;b&&b(m)};return LU(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BU(e,n))&&this.startObserver()}unmount(){}}function BU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FU={inView:{Feature:jU},tap:{Feature:OU},focus:{Feature:PU},hover:{Feature:DU}},zU={layout:{ProjectionNode:BR,MeasureLayout:PR}},qU={...R9,...FU,...IU,...zU},cf=qL(qU,n9),HU=()=>{const[t,e]=D.useState([]),[n,i]=D.useState(!0);D.useEffect(()=>{(async()=>{try{i(!0);const p=(await Rl(ro(Zi,"orders"))).docs.map(v=>({id:v.id,...v.data()}));e(p)}catch(m){console.error("Error fetching orders:",m)}finally{i(!1)}})()},[]);const a=f=>f?f.reduce((m,p)=>m+Number(p.price)*Number(p.qty||p.quantity||1),0):0,l=f=>{switch(f){case"Pending":return{bgColor:"bg-yellow-100",textColor:"text-yellow-800",icon:g.createElement(aA,{className:"w-4 h-4"})};case"In Transit":case"Shipped":return{bgColor:"bg-blue-100",textColor:"text-blue-800",icon:g.createElement(S3,{className:"w-4 h-4"})};case"Delivered":return{bgColor:"bg-green-100",textColor:"text-green-800",icon:g.createElement(c0,{className:"w-4 h-4"})};case"Cancelled":return{bgColor:"bg-red-100",textColor:"text-red-800",icon:g.createElement(su,{className:"w-4 h-4"})};default:return{bgColor:"bg-gray-100",textColor:"text-gray-800",icon:g.createElement(y3,{className:"w-4 h-4"})}}},u=f=>f?f.seconds?new Date(f.seconds*1e3).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):new Date(f).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"No date";return g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"max-w-6xl mx-auto"},g.createElement(cf.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-red-700"},"My Orders"),g.createElement("div",{className:"w-24 h-1 bg-red-600 mx-auto mt-4 rounded-full"})),n?g.createElement("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg"},g.createElement("p",{className:"text-gray-600"},"Loading your orders...")):t.length===0?g.createElement(cf.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center py-16 bg-white rounded-2xl shadow-lg"},g.createElement(Er,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),g.createElement("h2",{className:"text-xl font-semibold text-gray-700 mb-2"},"No orders yet"),g.createElement("p",{className:"text-gray-500 mb-6"},"You haven't placed any orders yet."),g.createElement(vr,{to:"/shop",className:"inline-block px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-md hover:shadow-lg"},"Start Shopping")):g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((f,m)=>{const p=l(f.status),v=a(f.items||f.products);return g.createElement(cf.div,{key:f.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},g.createElement("div",{className:"p-5 border-b border-gray-100"},g.createElement("div",{className:"flex justify-between items-start mb-3"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Order ",f.id),g.createElement("div",{className:"flex items-center text-gray-500 mt-1"},g.createElement(n3,{className:"w-4 h-4 mr-1"}),g.createElement("span",{className:"text-sm"},u(f.timestamp||f.date)))),g.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${p.bgColor} ${p.textColor}`},p.icon,g.createElement("span",{className:"ml-1"},f.status||"Pending")))),g.createElement("div",{className:"p-5"},g.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-3"},"Products Ordered"),g.createElement("div",{className:"space-y-4"},(f.items||[]).map((_,b)=>g.createElement("div",{key:_.id||b,className:"flex items-center"},g.createElement("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},g.createElement("img",{src:_.image||(Array.isArray(_.images)?_.images[0]:_.images),alt:_.name,className:"w-full h-full object-cover",onError:R=>{R.target.src="/placeholder.jpg"}})),g.createElement("div",{className:"ml-4 flex-1 min-w-0"},g.createElement("h5",{className:"text-sm font-medium text-gray-900 truncate"},_.name),g.createElement("div",{className:"flex justify-between mt-1"},g.createElement("span",{className:"text-sm text-gray-500"},"Qty: ",_.qty||_.quantity),g.createElement("span",{className:"text-sm font-medium text-gray-900"},"$",(Number(_.price)*(_.qty||_.quantity||1)).toFixed(2)))))))),g.createElement("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-base font-medium text-gray-900"},"Grand Total"),g.createElement("span",{className:"text-lg font-bold text-red-700"},"$",v.toFixed(2)))))})),t.length>0&&g.createElement(cf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-12 text-center"},g.createElement(vr,{to:"/shop",className:"inline-block px-8 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1"},"Continue Shopping"))))};function GU(){const[t,e]=D.useState([]),[n,i]=D.useState(!1),[a,l]=D.useState(!1),[u,f]=D.useState([]),[m,p]=D.useState(""),[v,_]=D.useState(null),[b,R]=D.useState(!0);D.useEffect(()=>{const B=hx(o0,K=>{_(K),R(!1)});return()=>B()},[]);const C=B=>{e(K=>K.find(x=>x.id===B.id)?K.map(x=>x.id===B.id?{...x,qty:x.qty+1}:x):[...K,{...B,qty:1}])},P=B=>e(t.map(K=>K.id===B?{...K,qty:K.qty+1}:K)),I=B=>e(t.map(K=>K.id===B?{...K,qty:K.qty>1?K.qty-1:1}:K)),j=B=>e(t.filter(K=>K.id!==B)),F=()=>e([]),H=()=>t.reduce((B,K)=>B+K.qty,0),le=()=>t.reduce((B,K)=>B+parseFloat(K.price)*K.qty,0);return b?g.createElement("p",null,"Loading..."):g.createElement(OC,null,g.createElement(t5,{cartItemCount:H(),onCartClick:()=>i(!0),onSearch:p}),g.createElement(n5,{isOpen:n,onClose:()=>i(!1),cart:t,onIncreaseQty:P,onDecreaseQty:I,onRemoveItem:j,onClearCart:F,onCheckout:()=>{l(!0),i(!1)},total:le()}),g.createElement(s5,{isOpen:a,onClose:()=>l(!1),cart:t,total:le(),onOrderSuccess:F,user:v}),g.createElement(uC,null,g.createElement(Ui,{path:"/",element:g.createElement(Yk,{onAddToCart:C,onAddToFavorites:B=>f([...u,B]),onRemoveFromFavorites:B=>f(u.filter(K=>K.id!==B)),favorites:u,searchQuery:m})}),g.createElement(Ui,{path:"/men",element:g.createElement(L3,{onAddToCart:C})}),g.createElement(Ui,{path:"/orders",element:g.createElement(HU,{onAddToCart:C})}),g.createElement(Ui,{path:"/women",element:g.createElement(G3,{onAddToCart:C})}),g.createElement(Ui,{path:"/kids",element:g.createElement(J3,{onAddToCart:C})}),g.createElement(Ui,{path:"/favorites",element:g.createElement(e5,{favorites:u,onAddToCart:C})}),g.createElement(Ui,{path:"/product/:id",element:g.createElement(o5,{onAddToCart:C})}),g.createElement(Ui,{path:"/contact",element:g.createElement(c5,null)})),g.createElement(l5,null))}EN.createRoot(document.getElementById("root")).render(g.createElement(D.StrictMode,null,g.createElement(GU,null)));export{KT as A,n3 as C,u0 as E,Xs as H,Jk as I,u3 as L,f3 as M,y3 as P,g as R,Er as S,lA as T,R3 as U,cA as W,su as X,Ft as a,aA as b,ro as c,Zi as d,c0 as e,oA as f,Rl as g,YT as h,QT as i,p3 as j,E3 as k,b3 as l,S3 as m,D as r};
