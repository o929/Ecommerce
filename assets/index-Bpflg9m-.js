const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-Dr-5vmCr.js","assets/chevron-right-DsEJFSIN.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-DmA7Wi2S.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function D1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ld={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function O1(){if(e0)return ze;e0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,q={};function I(O,ae,pe){this.props=O,this.context=ae,this.refs=q,this.updater=pe||N}I.prototype.isReactComponent={},I.prototype.setState=function(O,ae){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ae,"setState")},I.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=I.prototype;function ee(O,ae,pe){this.props=O,this.context=ae,this.refs=q,this.updater=pe||N}var Q=ee.prototype=new J;Q.constructor=ee,L(Q,I.prototype),Q.isPureReactComponent=!0;var W=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function V(O,ae,pe,oe,Ee,Ce){return pe=Ce.ref,{$$typeof:a,type:O,key:ae,ref:pe!==void 0?pe:null,props:Ce}}function A(O,ae){return V(O.type,ae,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function M(O){var ae={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return ae[pe]})}var P=/\/+/g;function U(O,ae){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ae.toString(36)}function C(){}function Qe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ae){O.status==="pending"&&(O.status="fulfilled",O.value=ae)},function(ae){O.status==="pending"&&(O.status="rejected",O.reason=ae)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $e(O,ae,pe,oe,Ee){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case a:case e:Ae=!0;break;case E:return Ae=O._init,$e(Ae(O._payload),ae,pe,oe,Ee)}}if(Ae)return Ee=Ee(O),Ae=oe===""?"."+U(O,0):oe,W(Ee)?(pe="",Ae!=null&&(pe=Ae.replace(P,"$&/")+"/"),$e(Ee,ae,pe,"",function(mn){return mn})):Ee!=null&&(R(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Ae)),ae.push(Ee)),1;Ae=0;var wt=oe===""?".":oe+":";if(W(O))for(var Ye=0;Ye<O.length;Ye++)oe=O[Ye],Ce=wt+U(oe,Ye),Ae+=$e(oe,ae,pe,Ce,Ee);else if(Ye=x(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(oe=O.next()).done;)oe=oe.value,Ce=wt+U(oe,Ye++),Ae+=$e(oe,ae,pe,Ce,Ee);else if(Ce==="object"){if(typeof O.then=="function")return $e(Qe(O),ae,pe,oe,Ee);throw ae=String(O),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(O,ae,pe){if(O==null)return O;var oe=[],Ee=0;return $e(O,oe,"","",function(Ce){return ae.call(pe,Ce,Ee++)}),oe}function me(O){if(O._status===-1){var ae=O._result;ae=ae(),ae.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=ae)}if(O._status===1)return O._result.default;throw O._result}var we=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return ze.Children={map:K,forEach:function(O,ae,pe){K(O,function(){ae.apply(this,arguments)},pe)},count:function(O){var ae=0;return K(O,function(){ae++}),ae},toArray:function(O){return K(O,function(ae){return ae})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ze.Component=I,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=ee,ze.StrictMode=s,ze.Suspense=y,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cloneElement=function(O,ae,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=L({},O.props),Ee=O.key,Ce=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(Ce=void 0),ae.key!==void 0&&(Ee=""+ae.key),ae)!de.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(oe[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=pe;else if(1<Ae){for(var wt=Array(Ae),Ye=0;Ye<Ae;Ye++)wt[Ye]=arguments[Ye+2];oe.children=wt}return V(O.type,Ee,void 0,void 0,Ce,oe)},ze.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ze.createElement=function(O,ae,pe){var oe,Ee={},Ce=null;if(ae!=null)for(oe in ae.key!==void 0&&(Ce=""+ae.key),ae)de.call(ae,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=ae[oe]);var Ae=arguments.length-2;if(Ae===1)Ee.children=pe;else if(1<Ae){for(var wt=Array(Ae),Ye=0;Ye<Ae;Ye++)wt[Ye]=arguments[Ye+2];Ee.children=wt}if(O&&O.defaultProps)for(oe in Ae=O.defaultProps,Ae)Ee[oe]===void 0&&(Ee[oe]=Ae[oe]);return V(O,Ce,void 0,void 0,null,Ee)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:m,render:O}},ze.isValidElement=R,ze.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},ze.memo=function(O,ae){return{$$typeof:g,type:O,compare:ae===void 0?null:ae}},ze.startTransition=function(O){var ae=ce.T,pe={};ce.T=pe;try{var oe=O(),Ee=ce.S;Ee!==null&&Ee(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Le,we)}catch(Ce){we(Ce)}finally{ce.T=ae}},ze.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},ze.use=function(O){return ce.H.use(O)},ze.useActionState=function(O,ae,pe){return ce.H.useActionState(O,ae,pe)},ze.useCallback=function(O,ae){return ce.H.useCallback(O,ae)},ze.useContext=function(O){return ce.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,ae){return ce.H.useDeferredValue(O,ae)},ze.useEffect=function(O,ae,pe){var oe=ce.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,ae)},ze.useId=function(){return ce.H.useId()},ze.useImperativeHandle=function(O,ae,pe){return ce.H.useImperativeHandle(O,ae,pe)},ze.useInsertionEffect=function(O,ae){return ce.H.useInsertionEffect(O,ae)},ze.useLayoutEffect=function(O,ae){return ce.H.useLayoutEffect(O,ae)},ze.useMemo=function(O,ae){return ce.H.useMemo(O,ae)},ze.useOptimistic=function(O,ae){return ce.H.useOptimistic(O,ae)},ze.useReducer=function(O,ae,pe){return ce.H.useReducer(O,ae,pe)},ze.useRef=function(O){return ce.H.useRef(O)},ze.useState=function(O){return ce.H.useState(O)},ze.useSyncExternalStore=function(O,ae,pe){return ce.H.useSyncExternalStore(O,ae,pe)},ze.useTransition=function(){return ce.H.useTransition()},ze.version="19.1.1",ze}var t0;function qc(){return t0||(t0=1,ld.exports=O1()),ld.exports}var B=qc();const v=D1(B);var od={exports:{}},fo={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function I1(){return n0||(n0=1,(function(a){function e(K,me){var we=K.length;K.push(me);e:for(;0<we;){var Le=we-1>>>1,O=K[Le];if(0<o(O,me))K[Le]=me,K[we]=O,we=Le;else break e}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var me=K[0],we=K.pop();if(we!==me){K[0]=we;e:for(var Le=0,O=K.length,ae=O>>>1;Le<ae;){var pe=2*(Le+1)-1,oe=K[pe],Ee=pe+1,Ce=K[Ee];if(0>o(oe,we))Ee<O&&0>o(Ce,oe)?(K[Le]=Ce,K[Ee]=we,Le=Ee):(K[Le]=oe,K[pe]=we,Le=pe);else if(Ee<O&&0>o(Ce,we))K[Le]=Ce,K[Ee]=we,Le=Ee;else break e}}return me}function o(K,me){var we=K.sortIndex-me.sortIndex;return we!==0?we:K.id-me.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var y=[],g=[],E=1,w=null,x=3,N=!1,L=!1,q=!1,I=!1,J=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W(K){for(var me=r(g);me!==null;){if(me.callback===null)s(g);else if(me.startTime<=K)s(g),me.sortIndex=me.expirationTime,e(y,me);else break;me=r(g)}}function ce(K){if(q=!1,W(K),!L)if(r(y)!==null)L=!0,de||(de=!0,U());else{var me=r(g);me!==null&&$e(ce,me.startTime-K)}}var de=!1,V=-1,A=5,R=-1;function M(){return I?!0:!(a.unstable_now()-R<A)}function P(){if(I=!1,de){var K=a.unstable_now();R=K;var me=!0;try{e:{L=!1,q&&(q=!1,ee(V),V=-1),N=!0;var we=x;try{t:{for(W(K),w=r(y);w!==null&&!(w.expirationTime>K&&M());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,x=w.priorityLevel;var O=Le(w.expirationTime<=K);if(K=a.unstable_now(),typeof O=="function"){w.callback=O,W(K),me=!0;break t}w===r(y)&&s(y),W(K)}else s(y);w=r(y)}if(w!==null)me=!0;else{var ae=r(g);ae!==null&&$e(ce,ae.startTime-K),me=!1}}break e}finally{w=null,x=we,N=!1}me=void 0}}finally{me?U():de=!1}}}var U;if(typeof Q=="function")U=function(){Q(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Qe=C.port2;C.port1.onmessage=P,U=function(){Qe.postMessage(null)}}else U=function(){J(P,0)};function $e(K,me){V=J(function(){K(a.unstable_now())},me)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(K){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var we=x;x=me;try{return K()}finally{x=we}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(K,me){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var we=x;x=K;try{return me()}finally{x=we}},a.unstable_scheduleCallback=function(K,me,we){var Le=a.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Le+we:Le):we=Le,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=we+O,K={id:E++,callback:me,priorityLevel:K,startTime:we,expirationTime:O,sortIndex:-1},we>Le?(K.sortIndex=we,e(g,K),r(y)===null&&K===r(g)&&(q?(ee(V),V=-1):q=!0,$e(ce,we-Le))):(K.sortIndex=O,e(y,K),L||N||(L=!0,de||(de=!0,U()))),K},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(K){var me=x;return function(){var we=x;x=me;try{return K.apply(this,arguments)}finally{x=we}}}})(cd)),cd}var r0;function V1(){return r0||(r0=1,ud.exports=I1()),ud.exports}var fd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function M1(){if(a0)return gn;a0=1;var a=qc();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:g,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},gn.flushSync=function(y){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=g,s.p=E,s.d.f()}},gn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},gn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},gn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:N}):E==="script"&&s.d.X(y,{crossOrigin:w,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},gn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gn.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},gn.requestFormReset=function(y){s.d.r(y)},gn.unstable_batchedUpdates=function(y,g){return y(g)},gn.useFormState=function(y,g,E){return h.H.useFormState(y,g,E)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var i0;function P1(){if(i0)return fd.exports;i0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),fd.exports=M1(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function k1(){if(s0)return fo;s0=1;var a=V1(),e=qc(),r=P1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,l=n;;){var f=i.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===i)return m(f),t;if(d===l)return m(f),n;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=d;else{for(var b=!1,T=f.child;T;){if(T===i){b=!0,i=f,l=d;break}if(T===l){b=!0,l=f,i=d;break}T=T.sibling}if(!b){for(T=d.child;T;){if(T===i){b=!0,i=d,l=f;break}if(T===l){b=!0,l=d,i=f;break}T=T.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case I:return"Profiler";case q:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var $e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function ae(t){return{current:t}}function pe(t){0>O||(t.current=Le[O],Le[O]=null,O--)}function oe(t,n){O++,Le[O]=t.current,t.current=n}var Ee=ae(null),Ce=ae(null),Ae=ae(null),wt=ae(null);function Ye(t,n){switch(oe(Ae,n),oe(Ce,t),oe(Ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ny(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(Ee),oe(Ee,t)}function mn(){pe(Ee),pe(Ce),pe(Ae)}function rn(t){t.memoizedState!==null&&oe(wt,t);var n=Ee.current,i=Cy(n,t.type);n!==i&&(oe(Ce,t),oe(Ee,i))}function pt(t){Ce.current===t&&(pe(Ee),pe(Ce)),wt.current===t&&(pe(wt),so._currentValue=we)}var Pt=Object.prototype.hasOwnProperty,Rt=a.unstable_scheduleCallback,Lr=a.unstable_cancelCallback,va=a.unstable_shouldYield,ui=a.unstable_requestPaint,Sn=a.unstable_now,_a=a.unstable_getCurrentPriorityLevel,ci=a.unstable_ImmediatePriority,Ur=a.unstable_UserBlockingPriority,er=a.unstable_NormalPriority,Ea=a.unstable_LowPriority,cr=a.unstable_IdlePriority,fi=a.log,he=a.unstable_setDisableYieldValue,j=null,ne=null;function fe(t){if(typeof fi=="function"&&he(t),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(j,t)}catch{}}var Ne=Math.clz32?Math.clz32:Z,Ue=Math.log,et=Math.LN2;function Z(t){return t>>>=0,t===0?32:31-(Ue(t)/et|0)|0}var ie=256,be=4194304;function ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _e(t,n,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=ve(l):(b&=T,b!==0?f=ve(b):i||(i=T&~t,i!==0&&(f=ve(i))))):(T=l&~d,T!==0?f=ve(T):b!==0?f=ve(b):i||(i=l&~t,i!==0&&(f=ve(i)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,i=n&-n,d>=i||d===32&&(i&4194048)!==0)?n:f}function Me(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var t=ie;return ie<<=1,(ie&4194048)===0&&(ie=256),t}function nt(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function gt(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function at(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nt(t,n,i,l,f,d){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(i=b&~i;0<i;){var te=31-Ne(i),le=1<<te;T[te]=0,D[te]=-1;var $=G[te];if($!==null)for(G[te]=null,te=0;te<$.length;te++){var Y=$[te];Y!==null&&(Y.lane&=-536870913)}i&=~le}l!==0&&an(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~n))}function an(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ne(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Cn(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-Ne(i),f=1<<l;f&n|t[l]&n&&(t[l]|=n),i&=~f}}function Dn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function Bo(t,n){var i=me.p;try{return me.p=t,n()}finally{me.p=i}}var bt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+bt,kt="__reactProps$"+bt,zn="__reactContainer$"+bt,fl="__reactEvents$"+bt,cf="__reactListeners$"+bt,ba="__reactHandles$"+bt,qo="__reactResources$"+bt,hi="__reactMarker$"+bt;function Ta(t){delete t[Ht],delete t[kt],delete t[fl],delete t[cf],delete t[ba]}function jr(t){var n=t[Ht];if(n)return n;for(var i=t.parentNode;i;){if(n=i[zn]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Vy(t);t!==null;){if(i=t[Ht])return i;t=Vy(t)}return n}t=i,i=t.parentNode}return null}function fr(t){if(t=t[Ht]||t[zn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function hr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function En(t){var n=t[qo];return n||(n=t[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[hi]=!0}var hl=new Set,Zi={};function nr(t,n){Br(t,n),Br(t+"Capture",n)}function Br(t,n){for(Zi[t]=n,t=0;t<n.length;t++)hl.add(n[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},di={};function Go(t){return Pt.call(di,t)?!0:Pt.call(Fo,t)?!1:Ho.test(t)?di[t]=!0:(Fo[t]=!0,!1)}function wa(t,n,i){if(Go(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function dr(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function sn(t,n,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+l)}}var mi,Qo;function qr(t){if(mi===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);mi=n&&n[1]||"",Qo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mi+t+Qo}var Wi=!1;function Ji(t,n){if(!t||Wi)return"";Wi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Y){var $=Y}Reflect.construct(t,[],le)}else{try{le.call()}catch(Y){$=Y}t.call(le.prototype)}}else{try{throw Error()}catch(Y){$=Y}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],T=d[1];if(b&&T){var D=b.split(`
`),G=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===G.length)for(l=D.length-1,f=G.length-1;1<=l&&0<=f&&D[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==G[f]){var te=`
`+D[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=f);break}}}finally{Wi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?qr(i):""}function dl(t){switch(t.tag){case 26:case 27:case 5:return qr(t.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return qr("Activity");default:return""}}function es(t){try{var n="";do n+=dl(t),t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ml(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ff(t){var n=ml(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ts(t){t._valueTracker||(t._valueTracker=ff(t))}function pl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=ml(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function Lt(t){return t.replace(hf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function On(t,n,i,l,f,d,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,b,bn(n)):i!=null?Sa(t,b,bn(i)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+bn(T):t.removeAttribute("name")}function gi(t,n,i,l,f,d,b,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Sa(t,n,i){n==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Hr(t,n,i,l){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function ft(t,n,i){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+bn(i):""}function yi(t,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=bn(n),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function jn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,i):typeof i!="number"||i===0||vi.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function gl(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&i[f]!==l&&$o(t,f,l)}else for(var d in n)n.hasOwnProperty(d)&&$o(t,d,n[d])}function yl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(t){return mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fr=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Qr=null;function vl(t){var n=fr(t);if(n&&(t=n.stateNode)){var i=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(On(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));On(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===t.form&&pl(l)}break e;case"textarea":ft(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Hr(t,!!i.multiple,n,!1)}}}var mr=!1;function Yo(t,n,i){if(mr)return t(n,i);mr=!0;try{var l=t(n);return l}finally{if(mr=!1,(Gr!==null||Qr!==null)&&(Bu(),Gr&&(n=Gr,t=Qr,Qr=Gr=null,vl(n),t)))for(n=0;n<t.length;n++)vl(t[n])}}function _i(t,n){var i=t.stateNode;if(i===null)return null;var l=i[kt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(rr)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{qn=!1}var pr=null,Aa=null,$r=null;function _l(){if($r)return $r;var t,n=Aa,i=n.length,l,f="value"in pr?pr.value:pr.textContent,d=f.length;for(t=0;t<i&&n[t]===f[t];t++);var b=i-t;for(l=1;l<=b&&n[i-l]===f[d-l];l++);return $r=f.slice(t,1<l?1-l:void 0)}function gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function yr(){return!0}function El(){return!1}function Zt(t){function n(i,l,f,d,b){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yr:El,this.isPropagationStopped=El,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),n}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Zt(it),bi=E({},it,{view:0,detail:0}),Ko=Zt(bi),as,is,vr,Ti=E({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vr&&(vr&&t.type==="mousemove"?(as=t.screenX-vr.screenX,is=t.screenY-vr.screenY):is=as=0,vr=t),as)},movementY:function(t){return"movementY"in t?t.movementY:is}}),Hn=Zt(Ti),Xo=E({},Ti,{dataTransfer:0}),pf=Zt(Xo),wi=E({},bi,{relatedTarget:0}),ss=Zt(wi),bl=E({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Zt(bl),Zo=E({},it,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),os=Zt(Zo),gf=E({},it,{data:0}),Tl=Zt(gf),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ai(){return wl}var eu=E({},bi,{key:function(t){if(t.key){var n=Si[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(t){return t.type==="keypress"?gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),us=Zt(eu),tu=E({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Zt(tu),Yr=E({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),nu=Zt(Yr),ru=E({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Zt(ru),iu=E({},Ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Zt(iu),Tn=E({},it,{newState:0,oldState:0}),su=Zt(Tn),lu=[9,13,27,32],_r=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var p=rr&&"TextEvent"in window&&!c,_=rr&&(!_r||c&&8<c&&11>=c),S=" ",H=!1;function X(t,n){switch(t){case"keyup":return lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function Ft(t,n){switch(t){case"compositionend":return ge(n);case"keypress":return n.which!==32?null:(H=!0,S);case"textInput":return t=n.data,t===S&&H?null:t;default:return null}}function Xe(t,n){if(Ke)return t==="compositionend"||!_r&&X(t,n)?(t=_l(),$r=Aa=pr=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Wt[t.type]:n==="textarea"}function Kr(t,n,i,l){Gr?Qr?Qr.push(l):Qr=[l]:Gr=l,n=$u(n,"onChange"),0<n.length&&(i=new rs("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var ln=null,Er=null;function Al(t){wy(t,0)}function ou(t){var n=hr(t);if(pl(n))return t}function Fm(t,n){if(t==="change")return n}var Gm=!1;if(rr){var yf;if(rr){var vf="oninput"in document;if(!vf){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),vf=typeof Qm.oninput=="function"}yf=vf}else yf=!1;Gm=yf&&(!document.documentMode||9<document.documentMode)}function $m(){ln&&(ln.detachEvent("onpropertychange",Ym),Er=ln=null)}function Ym(t){if(t.propertyName==="value"&&ou(Er)){var n=[];Kr(n,Er,t,Bn(t)),Yo(Al,n)}}function sb(t,n,i){t==="focusin"?($m(),ln=n,Er=i,ln.attachEvent("onpropertychange",Ym)):t==="focusout"&&$m()}function lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(Er)}function ob(t,n){if(t==="click")return ou(n)}function ub(t,n){if(t==="input"||t==="change")return ou(n)}function cb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:cb;function xl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Pt.call(n,f)||!In(t[f],n[f]))return!1}return!0}function Km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xm(t,n){var i=Km(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Km(i)}}function Zm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=pi(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=pi(t.document)}return n}function _f(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fb=rr&&"documentMode"in document&&11>=document.documentMode,fs=null,Ef=null,Rl=null,bf=!1;function Jm(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bf||fs==null||fs!==pi(l)||(l=fs,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&xl(Rl,l)||(Rl=l,l=$u(Ef,"onSelect"),0<l.length&&(n=new rs("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=fs)))}function xi(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var hs={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Tf={},ep={};rr&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Ri(t){if(Tf[t])return Tf[t];if(!hs[t])return t;var n=hs[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in ep)return Tf[t]=n[i];return t}var tp=Ri("animationend"),np=Ri("animationiteration"),rp=Ri("animationstart"),hb=Ri("transitionrun"),db=Ri("transitionstart"),mb=Ri("transitioncancel"),ap=Ri("transitionend"),ip=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function ar(t,n){ip.set(t,n),nr(n,[t])}var sp=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var i=sp.get(t);return i!==void 0?i:(n={value:t,source:n,stack:es(n)},sp.set(t,n),n)}return{value:t,source:n,stack:es(n)}}var Gn=[],ds=0,Sf=0;function uu(){for(var t=ds,n=Sf=ds=0;n<t;){var i=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var f=Gn[n];Gn[n++]=null;var d=Gn[n];if(Gn[n++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&lp(i,f,d)}}function cu(t,n,i,l){Gn[ds++]=t,Gn[ds++]=n,Gn[ds++]=i,Gn[ds++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,n,i,l){return cu(t,n,i,l),fu(t)}function ms(t,n){return cu(t,null,null,n),fu(t)}function lp(t,n,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,d=t.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Ne(i),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=i|536870912),d):null}function fu(t){if(50<Wl)throw Wl=0,Oh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ps={};function pb(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,i,l){return new pb(t,n,i,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,n){var i=t.alternate;return i===null?(i=Vn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function op(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function hu(t,n,i,l,f,d){var b=0;if(l=t,typeof t=="function")xf(t)&&(b=1);else if(typeof t=="string")b=y1(t,i,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Vn(31,i,n,f),t.elementType=R,t.lanes=d,t;case L:return Ni(i.children,f,d,n);case q:b=8,f|=24;break;case I:return t=Vn(12,i,n,f|2),t.elementType=I,t.lanes=d,t;case ce:return t=Vn(13,i,n,f),t.elementType=ce,t.lanes=d,t;case de:return t=Vn(19,i,n,f),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case Q:b=10;break e;case ee:b=9;break e;case W:b=11;break e;case V:b=14;break e;case A:b=16,l=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(b,i,n,f),n.elementType=t,n.type=l,n.lanes=d,n}function Ni(t,n,i,l){return t=Vn(7,t,l,n),t.lanes=i,t}function Rf(t,n,i){return t=Vn(6,t,null,n),t.lanes=i,t}function Nf(t,n,i){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gs=[],ys=0,du=null,mu=0,Qn=[],$n=0,Ci=null,Zr=1,Wr="";function Di(t,n){gs[ys++]=mu,gs[ys++]=du,du=t,mu=n}function up(t,n,i){Qn[$n++]=Zr,Qn[$n++]=Wr,Qn[$n++]=Ci,Ci=t;var l=Zr;t=Wr;var f=32-Ne(l)-1;l&=~(1<<f),i+=1;var d=32-Ne(n)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Zr=1<<32-Ne(n)+f|i<<f|l,Wr=d+t}else Zr=1<<d|i<<f|l,Wr=t}function Cf(t){t.return!==null&&(Di(t,1),up(t,1,0))}function Df(t){for(;t===du;)du=gs[--ys],gs[ys]=null,mu=gs[--ys],gs[ys]=null;for(;t===Ci;)Ci=Qn[--$n],Qn[$n]=null,Wr=Qn[--$n],Qn[$n]=null,Zr=Qn[--$n],Qn[$n]=null}var wn=null,Ct=null,rt=!1,Oi=null,br=!1,Of=Error(s(519));function Ii(t){var n=Error(s(418,""));throw Dl(Fn(n,t)),Of}function cp(t){var n=t.stateNode,i=t.type,l=t.memoizedProps;switch(n[Ht]=t,n[kt]=l,i){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<eo.length;i++)He(eo[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),gi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ts(n);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),yi(n,l.value,l.defaultValue,l.children),ts(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Ry(n.textContent,i)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=Yu),n=!0):n=!1,n||Ii(t)}function fp(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:wn=wn.return}}function Nl(t){if(t!==wn)return!1;if(!rt)return fp(t),rt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||$h(t.type,t.memoizedProps)),i=!i),i&&Ct&&Ii(t),fp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(n===0){Ct=sr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;t=t.nextSibling}Ct=null}}else n===27?(n=Ct,Ba(t.type)?(t=Zh,Zh=null,Ct=t):Ct=n):Ct=wn?sr(t.stateNode.nextSibling):null;return!0}function Cl(){Ct=wn=null,rt=!1}function hp(){var t=Oi;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Oi=null),t}function Dl(t){Oi===null?Oi=[t]:Oi.push(t)}var If=ae(null),Vi=null,Jr=null;function xa(t,n,i){oe(If,n._currentValue),n._currentValue=i}function ea(t){t._currentValue=If.current,pe(If)}function Vf(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function Mf(t,n,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=i,T=d.alternate,T!==null&&(T.lanes|=i),Vf(d.return,i,t),l||(b=null);break e}d=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=i,d=b.alternate,d!==null&&(d.lanes|=i),Vf(b,i,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ol(t,n,i,l){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=f.type;In(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===wt.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}f=f.return}t!==null&&Mf(n,t,i,l),n.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){Vi=t,Jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return dp(Vi,t)}function gu(t,n){return Vi===null&&Mi(t),dp(t,n)}function dp(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Jr===null){if(t===null)throw Error(s(308));Jr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jr=Jr.next=n;return i}var gb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},yb=a.unstable_scheduleCallback,vb=a.unstable_NormalPriority,Qt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new gb,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&yb(vb,function(){t.controller.abort()})}var Vl=null,kf=0,vs=0,_s=null;function _b(t,n){if(Vl===null){var i=Vl=[];kf=0,vs=Uh(),_s={status:"pending",value:void 0,then:function(l){i.push(l)}}}return kf++,n.then(mp,mp),n}function mp(){if(--kf===0&&Vl!==null){_s!==null&&(_s.status="fulfilled");var t=Vl;Vl=null,vs=0,_s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Eb(t,n){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var pp=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&_b(t,n),pp!==null&&pp(t,n)};var Pi=ae(null);function Lf(){var t=Pi.current;return t!==null?t:_t.pooledCache}function yu(t,n){n===null?oe(Pi,Pi.current):oe(Pi,n.pool)}function gp(){var t=Lf();return t===null?null:{parent:Qt._currentValue,pool:t}}var Ml=Error(s(460)),yp=Error(s(474)),vu=Error(s(542)),Uf={then:function(){}};function vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _u(){}function _p(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(_u,_u),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bp(t),t;default:if(typeof n.status=="string")n.then(_u,_u);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bp(t),t}throw Pl=n,Ml}}var Pl=null;function Ep(){if(Pl===null)throw Error(s(459));var t=Pl;return Pl=null,t}function bp(t){if(t===Ml||t===vu)throw Error(s(483))}var Ra=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=fu(t),lp(t,null,i),n}return cu(t,l,n,i),fu(t)}function kl(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Cn(t,i)}}function Bf(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,i=i.next}while(i!==null);d===null?f=d=n:d=d.next=n}else f=d=n;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var qf=!1;function Ll(){if(qf){var t=_s;if(t!==null)throw t}}function Ul(t,n,i,l){qf=!1;var f=t.updateQueue;Ra=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,G=D.next;D.next=null,b===null?d=G:b.next=G,b=D;var te=t.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==b&&(T===null?te.firstBaseUpdate=G:T.next=G,te.lastBaseUpdate=D))}if(d!==null){var le=f.baseState;b=0,te=G=D=null,T=d;do{var $=T.lane&-536870913,Y=$!==T.lane;if(Y?(Ze&$)===$:(l&$)===$){$!==0&&$===vs&&(qf=!0),te!==null&&(te=te.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=t,De=T;$=n;var mt=i;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){le=Ve.call(mt,le,$);break e}le=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,$=typeof Ve=="function"?Ve.call(mt,le,$):Ve,$==null)break e;le=E({},le,$);break e;case 2:Ra=!0}}$=T.callback,$!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[$]:Y.push($))}else Y={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(G=te=Y,D=le):te=te.next=Y,b|=$;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);te===null&&(D=le),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=te,d===null&&(f.shared.lanes=0),La|=b,t.lanes=b,t.memoizedState=le}}function Tp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function wp(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Tp(i[t],n)}var Es=ae(null),Eu=ae(0);function Sp(t,n){t=la,oe(Eu,t),oe(Es,n),la=t|n.baseLanes}function Hf(){oe(Eu,la),oe(Es,Es.current)}function Ff(){la=Eu.current,pe(Es),pe(Eu)}var Da=0,je=null,ht=null,Ut=null,bu=!1,bs=!1,ki=!1,Tu=0,zl=0,Ts=null,bb=0;function It(){throw Error(s(321))}function Gf(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!In(t[i],n[i]))return!1;return!0}function Qf(t,n,i,l,f,d){return Da=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?lg:og,ki=!1,d=i(l,f),ki=!1,bs&&(d=xp(n,i,l,f)),Ap(t),d}function Ap(t){K.H=Nu;var n=ht!==null&&ht.next!==null;if(Da=0,Ut=ht=je=null,bu=!1,zl=0,Ts=null,n)throw Error(s(300));t===null||Jt||(t=t.dependencies,t!==null&&pu(t)&&(Jt=!0))}function xp(t,n,i,l){je=t;var f=0;do{if(bs&&(Ts=null),zl=0,bs=!1,25<=f)throw Error(s(301));if(f+=1,Ut=ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Nb,d=n(i,l)}while(bs);return d}function Tb(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?jl(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),n}function $f(){var t=Tu!==0;return Tu=0,t}function Yf(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function Kf(t){if(bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}bu=!1}Da=0,Ut=ht=je=null,bs=!1,zl=Tu=0,Ts=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function zt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ut===null?je.memoizedState:Ut.next;if(n!==null)Ut=n,ht=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ut===null?je.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var n=zl;return zl+=1,Ts===null&&(Ts=[]),t=_p(Ts,t,n),n=je,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?lg:og),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===Q)return pn(t)}throw Error(s(438,String(t)))}function Zf(t){var n=null,i=je.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Xf(),je.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),l=0;l<t;l++)i[l]=M;return n.index++,i}function ta(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=zt();return Wf(n,ht,t)}function Wf(t,n,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var T=b=null,D=null,G=n,te=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Ze&le)===le:(Da&le)===le){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===vs&&(te=!0);else if((Da&$)===$){G=G.next,$===vs&&(te=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=le,b=d):D=D.next=le,je.lanes|=$,La|=$;le=G.action,ki&&i(d,le),d=G.hasEagerState?G.eagerState:i(d,le)}else $={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=$,b=d):D=D.next=$,je.lanes|=le,La|=le;G=G.next}while(G!==null&&G!==n);if(D===null?b=d:D.next=T,!In(d,t.memoizedState)&&(Jt=!0,te&&(i=_s,i!==null)))throw i;t.memoizedState=d,t.baseState=b,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var n=zt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,d=n.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do d=t(d,b.action),b=b.next;while(b!==f);In(d,n.memoizedState)||(Jt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,l]}function Rp(t,n,i){var l=je,f=zt(),d=rt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!In((ht||f).memoizedState,i);b&&(f.memoizedState=i,Jt=!0),f=f.queue;var T=Dp.bind(null,l,f,t);if(Bl(2048,8,T,[t]),f.getSnapshot!==n||b||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,ws(9,Au(),Cp.bind(null,l,f,i,n),null),_t===null)throw Error(s(349));d||(Da&124)!==0||Np(l,n,i)}return i}function Np(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n=Xf(),je.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Cp(t,n,i,l){n.value=i,n.getSnapshot=l,Op(n)&&Ip(t)}function Dp(t,n,i){return i(function(){Op(n)&&Ip(t)})}function Op(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!In(t,i)}catch{return!0}}function Ip(t){var n=ms(t,2);n!==null&&Un(n,t,2)}function eh(t){var n=An();if(typeof t=="function"){var i=t;if(t=i(),ki){fe(!0);try{i()}finally{fe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},n}function Vp(t,n,i,l){return t.baseState=i,Wf(t,ht,typeof l=="function"?l:ta)}function wb(t,n,i,l,f){if(Ru(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};K.T!==null?i(!0):d.isTransition=!1,l(d),i=n.pending,i===null?(d.next=n.pending=d,Mp(n,d)):(d.next=i.next,n.pending=i.next=d)}}function Mp(t,n){var i=n.action,l=n.payload,f=t.state;if(n.isTransition){var d=K.T,b={};K.T=b;try{var T=i(f,l),D=K.S;D!==null&&D(b,T),Pp(t,n,T)}catch(G){th(t,n,G)}finally{K.T=d}}else try{d=i(f,l),Pp(t,n,d)}catch(G){th(t,n,G)}}function Pp(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){kp(t,n,l)},function(l){return th(t,n,l)}):kp(t,n,i)}function kp(t,n,i){n.status="fulfilled",n.value=i,Lp(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,Mp(t,i)))}function th(t,n,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Lp(n),n=n.next;while(n!==l)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Up(t,n){return n}function zp(t,n){if(rt){var i=_t.formState;if(i!==null){e:{var l=je;if(rt){if(Ct){t:{for(var f=Ct,d=br;f.nodeType!==8;){if(!d){f=null;break t}if(f=sr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ct=sr(f.nextSibling),l=f.data==="F!";break e}}Ii(l)}l=!1}l&&(n=i[0])}}return i=An(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:n},i.queue=l,i=ag.bind(null,je,l),l.dispatch=i,l=eh(!1),d=sh.bind(null,je,!1,l.queue),l=An(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,i=wb.bind(null,je,f,d,i),f.dispatch=i,l.memoizedState=t,[n,i,!1]}function jp(t){var n=zt();return Bp(n,ht,t)}function Bp(t,n,i){if(n=Wf(t,n,Up)[0],t=Su(ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=jl(n)}catch(b){throw b===Ml?vu:b}else l=n;n=zt();var f=n.queue,d=f.dispatch;return i!==n.memoizedState&&(je.flags|=2048,ws(9,Au(),Sb.bind(null,f,i),null)),[l,d,t]}function Sb(t,n){t.action=n}function qp(t){var n=zt(),i=ht;if(i!==null)return Bp(n,i,t);zt(),n=n.memoizedState,i=zt();var l=i.queue.dispatch;return i.memoizedState=t,[n,l,!1]}function ws(t,n,i,l){return t={tag:t,create:i,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=Xf(),je.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t),t}function Au(){return{destroy:void 0,resource:void 0}}function Hp(){return zt().memoizedState}function xu(t,n,i,l){var f=An();l=l===void 0?null:l,je.flags|=t,f.memoizedState=ws(1|n,Au(),i,l)}function Bl(t,n,i,l){var f=zt();l=l===void 0?null:l;var d=f.memoizedState.inst;ht!==null&&l!==null&&Gf(l,ht.memoizedState.deps)?f.memoizedState=ws(n,d,i,l):(je.flags|=t,f.memoizedState=ws(1|n,d,i,l))}function Fp(t,n){xu(8390656,8,t,n)}function Gp(t,n){Bl(2048,8,t,n)}function Qp(t,n){return Bl(4,2,t,n)}function $p(t,n){return Bl(4,4,t,n)}function Yp(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kp(t,n,i){i=i!=null?i.concat([t]):null,Bl(4,4,Yp.bind(null,n,t),i)}function nh(){}function Xp(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Gf(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function Zp(t,n){var i=zt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Gf(n,l[1]))return l[0];if(l=t(),ki){fe(!0);try{t()}finally{fe(!1)}}return i.memoizedState=[l,n],l}function rh(t,n,i){return i===void 0||(Da&1073741824)!==0?t.memoizedState=n:(t.memoizedState=i,t=ey(),je.lanes|=t,La|=t,i)}function Wp(t,n,i,l){return In(i,n)?i:Es.current!==null?(t=rh(t,i,l),In(t,n)||(Jt=!0),t):(Da&42)===0?(Jt=!0,t.memoizedState=i):(t=ey(),je.lanes|=t,La|=t,n)}function Jp(t,n,i,l,f){var d=me.p;me.p=d!==0&&8>d?d:8;var b=K.T,T={};K.T=T,sh(t,!1,n,i);try{var D=f(),G=K.S;if(G!==null&&G(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=Eb(D,l);ql(t,n,te,Ln(t))}else ql(t,n,l,Ln(t))}catch(le){ql(t,n,{then:function(){},status:"rejected",reason:le},Ln())}finally{me.p=d,K.T=b}}function Ab(){}function ah(t,n,i,l){if(t.tag!==5)throw Error(s(476));var f=eg(t).queue;Jp(t,f,n,we,i===null?Ab:function(){return tg(t),i(l)})}function eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:we},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=eg(t).next.queue;ql(t,n,{},Ln())}function ih(){return pn(so)}function ng(){return zt().memoizedState}function rg(){return zt().memoizedState}function xb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ln();t=Na(i);var l=Ca(n,t,i);l!==null&&(Un(l,n,i),kl(l,n,i)),n={cache:Pf()},t.payload=n;return}n=n.return}}function Rb(t,n,i){var l=Ln();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ru(t)?ig(n,i):(i=Af(t,n,i,l),i!==null&&(Un(i,t,l),sg(i,n,l)))}function ag(t,n,i){var l=Ln();ql(t,n,i,l)}function ql(t,n,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))ig(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,T=d(b,i);if(f.hasEagerState=!0,f.eagerState=T,In(T,b))return cu(t,n,f,0),_t===null&&uu(),!1}catch{}finally{}if(i=Af(t,n,f,l),i!==null)return Un(i,t,l),sg(i,n,l),!0}return!1}function sh(t,n,i,l){if(l={lane:2,revertLane:Uh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(n)throw Error(s(479))}else n=Af(t,i,l,2),n!==null&&Un(n,t,2)}function Ru(t){var n=t.alternate;return t===je||n!==null&&n===je}function ig(t,n){bs=bu=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function sg(t,n,i){if((i&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Cn(t,i)}}var Nu={readContext:pn,use:wu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},lg={readContext:pn,use:wu,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:pn,useEffect:Fp,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,xu(4194308,4,Yp.bind(null,n,t),i)},useLayoutEffect:function(t,n){return xu(4194308,4,t,n)},useInsertionEffect:function(t,n){xu(4,2,t,n)},useMemo:function(t,n){var i=An();n=n===void 0?null:n;var l=t();if(ki){fe(!0);try{t()}finally{fe(!1)}}return i.memoizedState=[l,n],l},useReducer:function(t,n,i){var l=An();if(i!==void 0){var f=i(n);if(ki){fe(!0);try{i(n)}finally{fe(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Rb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=eh(t);var n=t.queue,i=ag.bind(null,je,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:nh,useDeferredValue:function(t,n){var i=An();return rh(i,t,n)},useTransition:function(){var t=eh(!1);return t=Jp.bind(null,je,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var l=je,f=An();if(rt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),_t===null)throw Error(s(349));(Ze&124)!==0||Np(l,n,i)}f.memoizedState=i;var d={value:i,getSnapshot:n};return f.queue=d,Fp(Dp.bind(null,l,d,t),[t]),l.flags|=2048,ws(9,Au(),Cp.bind(null,l,d,i,n),null),i},useId:function(){var t=An(),n=_t.identifierPrefix;if(rt){var i=Wr,l=Zr;i=(l&~(1<<32-Ne(l)-1)).toString(32)+i,n="«"+n+"R"+i,i=Tu++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=bb++,n="«"+n+"r"+i.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ih,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=sh.bind(null,je,!0,i),i.dispatch=n,[t,n]},useMemoCache:Zf,useCacheRefresh:function(){return An().memoizedState=xb.bind(null,je)}},og={readContext:pn,use:wu,useCallback:Xp,useContext:pn,useEffect:Gp,useImperativeHandle:Kp,useInsertionEffect:Qp,useLayoutEffect:$p,useMemo:Zp,useReducer:Su,useRef:Hp,useState:function(){return Su(ta)},useDebugValue:nh,useDeferredValue:function(t,n){var i=zt();return Wp(i,ht.memoizedState,t,n)},useTransition:function(){var t=Su(ta)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:jl(t),n]},useSyncExternalStore:Rp,useId:ng,useHostTransitionStatus:ih,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var i=zt();return Vp(i,ht,t,n)},useMemoCache:Zf,useCacheRefresh:rg},Nb={readContext:pn,use:wu,useCallback:Xp,useContext:pn,useEffect:Gp,useImperativeHandle:Kp,useInsertionEffect:Qp,useLayoutEffect:$p,useMemo:Zp,useReducer:Jf,useRef:Hp,useState:function(){return Jf(ta)},useDebugValue:nh,useDeferredValue:function(t,n){var i=zt();return ht===null?rh(i,t,n):Wp(i,ht.memoizedState,t,n)},useTransition:function(){var t=Jf(ta)[0],n=zt().memoizedState;return[typeof t=="boolean"?t:jl(t),n]},useSyncExternalStore:Rp,useId:ng,useHostTransitionStatus:ih,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var i=zt();return ht!==null?Vp(i,ht,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:rg},Ss=null,Hl=0;function Cu(t){var n=Hl;return Hl+=1,Ss===null&&(Ss=[]),_p(Ss,t,n)}function Fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Du(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function cg(t){function n(z,k){if(t){var F=z.deletions;F===null?(z.deletions=[k],z.flags|=16):F.push(k)}}function i(z,k){if(!t)return null;for(;k!==null;)n(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Xr(z,k),z.index=0,z.sibling=null,z}function d(z,k,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<k?(z.flags|=67108866,k):F):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,k,F,se){return k===null||k.tag!==6?(k=Rf(F,z.mode,se),k.return=z,k):(k=f(k,F),k.return=z,k)}function D(z,k,F,se){var Se=F.type;return Se===L?te(z,k,F.props.children,se,F.key):k!==null&&(k.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&ug(Se)===k.type)?(k=f(k,F.props),Fl(k,F),k.return=z,k):(k=hu(F.type,F.key,F.props,null,z.mode,se),Fl(k,F),k.return=z,k)}function G(z,k,F,se){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Nf(F,z.mode,se),k.return=z,k):(k=f(k,F.children||[]),k.return=z,k)}function te(z,k,F,se,Se){return k===null||k.tag!==7?(k=Ni(F,z.mode,se,Se),k.return=z,k):(k=f(k,F),k.return=z,k)}function le(z,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Rf(""+k,z.mode,F),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return F=hu(k.type,k.key,k.props,null,z.mode,F),Fl(F,k),F.return=z,F;case N:return k=Nf(k,z.mode,F),k.return=z,k;case A:var se=k._init;return k=se(k._payload),le(z,k,F)}if($e(k)||U(k))return k=Ni(k,z.mode,F,null),k.return=z,k;if(typeof k.then=="function")return le(z,Cu(k),F);if(k.$$typeof===Q)return le(z,gu(z,k),F);Du(z,k)}return null}function $(z,k,F,se){var Se=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Se!==null?null:T(z,k,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===Se?D(z,k,F,se):null;case N:return F.key===Se?G(z,k,F,se):null;case A:return Se=F._init,F=Se(F._payload),$(z,k,F,se)}if($e(F)||U(F))return Se!==null?null:te(z,k,F,se,null);if(typeof F.then=="function")return $(z,k,Cu(F),se);if(F.$$typeof===Q)return $(z,k,gu(z,F),se);Du(z,F)}return null}function Y(z,k,F,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get(F)||null,T(k,z,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return z=z.get(se.key===null?F:se.key)||null,D(k,z,se,Se);case N:return z=z.get(se.key===null?F:se.key)||null,G(k,z,se,Se);case A:var Be=se._init;return se=Be(se._payload),Y(z,k,F,se,Se)}if($e(se)||U(se))return z=z.get(F)||null,te(k,z,se,Se,null);if(typeof se.then=="function")return Y(z,k,F,Cu(se),Se);if(se.$$typeof===Q)return Y(z,k,F,gu(k,se),Se);Du(k,se)}return null}function Ve(z,k,F,se){for(var Se=null,Be=null,xe=k,Oe=k=0,tn=null;xe!==null&&Oe<F.length;Oe++){xe.index>Oe?(tn=xe,xe=null):tn=xe.sibling;var tt=$(z,xe,F[Oe],se);if(tt===null){xe===null&&(xe=tn);break}t&&xe&&tt.alternate===null&&n(z,xe),k=d(tt,k,Oe),Be===null?Se=tt:Be.sibling=tt,Be=tt,xe=tn}if(Oe===F.length)return i(z,xe),rt&&Di(z,Oe),Se;if(xe===null){for(;Oe<F.length;Oe++)xe=le(z,F[Oe],se),xe!==null&&(k=d(xe,k,Oe),Be===null?Se=xe:Be.sibling=xe,Be=xe);return rt&&Di(z,Oe),Se}for(xe=l(xe);Oe<F.length;Oe++)tn=Y(xe,z,Oe,F[Oe],se),tn!==null&&(t&&tn.alternate!==null&&xe.delete(tn.key===null?Oe:tn.key),k=d(tn,k,Oe),Be===null?Se=tn:Be.sibling=tn,Be=tn);return t&&xe.forEach(function(Qa){return n(z,Qa)}),rt&&Di(z,Oe),Se}function De(z,k,F,se){if(F==null)throw Error(s(151));for(var Se=null,Be=null,xe=k,Oe=k=0,tn=null,tt=F.next();xe!==null&&!tt.done;Oe++,tt=F.next()){xe.index>Oe?(tn=xe,xe=null):tn=xe.sibling;var Qa=$(z,xe,tt.value,se);if(Qa===null){xe===null&&(xe=tn);break}t&&xe&&Qa.alternate===null&&n(z,xe),k=d(Qa,k,Oe),Be===null?Se=Qa:Be.sibling=Qa,Be=Qa,xe=tn}if(tt.done)return i(z,xe),rt&&Di(z,Oe),Se;if(xe===null){for(;!tt.done;Oe++,tt=F.next())tt=le(z,tt.value,se),tt!==null&&(k=d(tt,k,Oe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return rt&&Di(z,Oe),Se}for(xe=l(xe);!tt.done;Oe++,tt=F.next())tt=Y(xe,z,Oe,tt.value,se),tt!==null&&(t&&tt.alternate!==null&&xe.delete(tt.key===null?Oe:tt.key),k=d(tt,k,Oe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return t&&xe.forEach(function(C1){return n(z,C1)}),rt&&Di(z,Oe),Se}function mt(z,k,F,se){if(typeof F=="object"&&F!==null&&F.type===L&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var Se=F.key;k!==null;){if(k.key===Se){if(Se=F.type,Se===L){if(k.tag===7){i(z,k.sibling),se=f(k,F.props.children),se.return=z,z=se;break e}}else if(k.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&ug(Se)===k.type){i(z,k.sibling),se=f(k,F.props),Fl(se,F),se.return=z,z=se;break e}i(z,k);break}else n(z,k);k=k.sibling}F.type===L?(se=Ni(F.props.children,z.mode,se,F.key),se.return=z,z=se):(se=hu(F.type,F.key,F.props,null,z.mode,se),Fl(se,F),se.return=z,z=se)}return b(z);case N:e:{for(Se=F.key;k!==null;){if(k.key===Se)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){i(z,k.sibling),se=f(k,F.children||[]),se.return=z,z=se;break e}else{i(z,k);break}else n(z,k);k=k.sibling}se=Nf(F,z.mode,se),se.return=z,z=se}return b(z);case A:return Se=F._init,F=Se(F._payload),mt(z,k,F,se)}if($e(F))return Ve(z,k,F,se);if(U(F)){if(Se=U(F),typeof Se!="function")throw Error(s(150));return F=Se.call(F),De(z,k,F,se)}if(typeof F.then=="function")return mt(z,k,Cu(F),se);if(F.$$typeof===Q)return mt(z,k,gu(z,F),se);Du(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(i(z,k.sibling),se=f(k,F),se.return=z,z=se):(i(z,k),se=Rf(F,z.mode,se),se.return=z,z=se),b(z)):i(z,k)}return function(z,k,F,se){try{Hl=0;var Se=mt(z,k,F,se);return Ss=null,Se}catch(xe){if(xe===Ml||xe===vu)throw xe;var Be=Vn(29,xe,null,z.mode);return Be.lanes=se,Be.return=z,Be}finally{}}}var As=cg(!0),fg=cg(!1),Yn=ae(null),Tr=null;function Oa(t){var n=t.alternate;oe($t,$t.current&1),oe(Yn,t),Tr===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(Tr=t)}function hg(t){if(t.tag===22){if(oe($t,$t.current),oe(Yn,t),Tr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Tr=t)}}else Ia()}function Ia(){oe($t,$t.current),oe(Yn,Yn.current)}function na(t){pe(Yn),Tr===t&&(Tr=null),pe($t)}var $t=ae(0);function Ou(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Xh(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function lh(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:E({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var oh={enqueueSetState:function(t,n,i){t=t._reactInternals;var l=Ln(),f=Na(l);f.payload=n,i!=null&&(f.callback=i),n=Ca(t,f,l),n!==null&&(Un(n,t,l),kl(n,t,l))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=Ln(),f=Na(l);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Ca(t,f,l),n!==null&&(Un(n,t,l),kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Ln(),l=Na(i);l.tag=2,n!=null&&(l.callback=n),n=Ca(t,l,i),n!==null&&(Un(n,t,i),kl(n,t,i))}};function dg(t,n,i,l,f,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!xl(i,l)||!xl(f,d):!0}function mg(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&oh.enqueueReplaceState(n,n.state,null)}function Li(t,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(t=t.defaultProps){i===n&&(i=E({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pg(t){Iu(t)}function gg(t){console.error(t)}function yg(t){Iu(t)}function Vu(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vg(t,n,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uh(t,n,i){return i=Na(i),i.tag=3,i.payload={element:null},i.callback=function(){Vu(t,n)},i}function _g(t){return t=Na(t),t.tag=3,t}function Eg(t,n,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){vg(n,i,l)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){vg(n,i,l),typeof f!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Cb(t,n,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Ol(n,i,f,!0),i=Yn.current,i!==null){switch(i.tag){case 13:return Tr===null?Vh():i.alternate===null&&Dt===0&&(Dt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===Uf?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Ph(t,l,f)),!1;case 22:return i.flags|=65536,l===Uf?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Ph(t,l,f)),!1}throw Error(s(435,i.tag))}return Ph(t,l,f),Vh(),!1}if(rt)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Of&&(t=Error(s(422),{cause:l}),Dl(Fn(t,i)))):(l!==Of&&(n=Error(s(423),{cause:l}),Dl(Fn(n,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Fn(l,i),f=uh(t.stateNode,l,f),Bf(t,f),Dt!==4&&(Dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,i),Zl===null?Zl=[d]:Zl.push(d),Dt!==4&&(Dt=2),n===null)return!0;l=Fn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=uh(i.stateNode,l,t),Bf(i,t),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ua===null||!Ua.has(d))))return i.flags|=65536,f&=-f,i.lanes|=f,f=_g(f),Eg(f,t,i,l),Bf(i,f),!1}i=i.return}while(i!==null);return!1}var bg=Error(s(461)),Jt=!1;function on(t,n,i,l){n.child=t===null?fg(n,null,i,l):As(n,t.child,i,l)}function Tg(t,n,i,l,f){i=i.render;var d=n.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Mi(n),l=Qf(t,n,i,b,d,f),T=$f(),t!==null&&!Jt?(Yf(t,n,f),ra(t,n,f)):(rt&&T&&Cf(n),n.flags|=1,on(t,n,l,f),n.child)}function wg(t,n,i,l,f){if(t===null){var d=i.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,Sg(t,n,d,l,f)):(t=hu(i.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!yh(t,f)){var b=d.memoizedProps;if(i=i.compare,i=i!==null?i:xl,i(b,l)&&t.ref===n.ref)return ra(t,n,f)}return n.flags|=1,t=Xr(d,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,i,l,f){if(t!==null){var d=t.memoizedProps;if(xl(d,l)&&t.ref===n.ref)if(Jt=!1,n.pendingProps=l=d,yh(t,f))(t.flags&131072)!==0&&(Jt=!0);else return n.lanes=t.lanes,ra(t,n,f)}return ch(t,n,i,l,f)}function Ag(t,n,i){var l=n.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return xg(t,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(n,d!==null?d.cachePool:null),d!==null?Sp(n,d):Hf(),hg(n);else return n.lanes=n.childLanes=536870912,xg(t,n,d!==null?d.baseLanes|i:i,i)}else d!==null?(yu(n,d.cachePool),Sp(n,d),Ia(),n.memoizedState=null):(t!==null&&yu(n,null),Hf(),Ia());return on(t,n,f,i),n.child}function xg(t,n,i,l){var f=Lf();return f=f===null?null:{parent:Qt._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},t!==null&&yu(n,null),Hf(),hg(n),t!==null&&Ol(t,n,l,!0),null}function Mu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function ch(t,n,i,l,f){return Mi(n),i=Qf(t,n,i,l,void 0,f),l=$f(),t!==null&&!Jt?(Yf(t,n,f),ra(t,n,f)):(rt&&l&&Cf(n),n.flags|=1,on(t,n,i,f),n.child)}function Rg(t,n,i,l,f,d){return Mi(n),n.updateQueue=null,i=xp(n,l,i,f),Ap(t),l=$f(),t!==null&&!Jt?(Yf(t,n,d),ra(t,n,d)):(rt&&l&&Cf(n),n.flags|=1,on(t,n,i,d),n.child)}function Ng(t,n,i,l,f){if(Mi(n),n.stateNode===null){var d=ps,b=i.contextType;typeof b=="object"&&b!==null&&(d=pn(b)),d=new i(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=oh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},zf(n),b=i.contextType,d.context=typeof b=="object"&&b!==null?pn(b):ps,d.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(lh(n,i,b,l),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&oh.enqueueReplaceState(d,d.state,null),Ul(n,l,d,f),Ll(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,D=Li(i,T);d.props=D;var G=d.context,te=i.contextType;b=ps,typeof te=="object"&&te!==null&&(b=pn(te));var le=i.getDerivedStateFromProps;te=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==b)&&mg(n,d,l,b),Ra=!1;var $=n.memoizedState;d.state=$,Ul(n,l,d,f),Ll(),G=n.memoizedState,T||$!==G||Ra?(typeof le=="function"&&(lh(n,i,le,l),G=n.memoizedState),(D=Ra||dg(n,i,D,l,$,G,b))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=b,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,jf(t,n),b=n.memoizedProps,te=Li(i,b),d.props=te,le=n.pendingProps,$=d.context,G=i.contextType,D=ps,typeof G=="object"&&G!==null&&(D=pn(G)),T=i.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==le||$!==D)&&mg(n,d,l,D),Ra=!1,$=n.memoizedState,d.state=$,Ul(n,l,d,f),Ll();var Y=n.memoizedState;b!==le||$!==Y||Ra||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof T=="function"&&(lh(n,i,T,l),Y=n.memoizedState),(te=Ra||dg(n,i,te,l,$,Y,D)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=te):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Mu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=As(n,t.child,null,f),n.child=As(n,null,i,f)):on(t,n,i,f),n.memoizedState=d.state,t=n.child):t=ra(t,n,f),t}function Cg(t,n,i,l){return Cl(),n.flags|=256,on(t,n,i,l),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(t){return{baseLanes:t,cachePool:gp()}}function dh(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Kn),t}function Dg(t,n,i){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(rt){if(f?Oa(n):Ia(),rt){var T=Ct,D;if(D=T){e:{for(D=T,T=br;D.nodeType!==8;){if(!T){T=null;break e}if(D=sr(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Ci!==null?{id:Zr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},D=Vn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,wn=n,Ct=null,D=!0):D=!1}D||Ii(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Xh(T)?n.lanes=32:n.lanes=536870912,null;na(n)}return T=l.children,l=l.fallback,f?(Ia(),f=n.mode,T=Pu({mode:"hidden",children:T},f),l=Ni(l,f,i,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=hh(i),f.childLanes=dh(t,b,i),n.memoizedState=fh,l):(Oa(n),mh(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(Oa(n),n.flags&=-257,n=ph(t,n,i)):n.memoizedState!==null?(Ia(),n.child=t.child,n.flags|=128,n=null):(Ia(),f=l.fallback,T=n.mode,l=Pu({mode:"visible",children:l.children},T),f=Ni(f,T,i,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,As(n,t.child,null,i),l=n.child,l.memoizedState=hh(i),l.childLanes=dh(t,b,i),n.memoizedState=fh,n=f);else if(Oa(n),Xh(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(s(419)),l.stack="",l.digest=b,Dl({value:l,source:null,stack:null}),n=ph(t,n,i)}else if(Jt||Ol(t,n,i,!1),b=(i&t.childLanes)!==0,Jt||b){if(b=_t,b!==null&&(l=i&-i,l=(l&42)!==0?1:Dn(l),l=(l&(b.suspendedLanes|i))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ms(t,l),Un(b,t,l),bg;T.data==="$?"||Vh(),n=ph(t,n,i)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Ct=sr(T.nextSibling),wn=n,rt=!0,Oi=null,br=!1,t!==null&&(Qn[$n++]=Zr,Qn[$n++]=Wr,Qn[$n++]=Ci,Zr=t.id,Wr=t.overflow,Ci=n),n=mh(n,l.children),n.flags|=4096);return n}return f?(Ia(),f=l.fallback,T=n.mode,D=t.child,G=D.sibling,l=Xr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?f=Xr(G,f):(f=Ni(f,T,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=t.child.memoizedState,T===null?T=hh(i):(D=T.cachePool,D!==null?(G=Qt._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=gp(),T={baseLanes:T.baseLanes|i,cachePool:D}),f.memoizedState=T,f.childLanes=dh(t,b,i),n.memoizedState=fh,l):(Oa(n),i=t.child,t=i.sibling,i=Xr(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function mh(t,n){return n=Pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Pu(t,n){return t=Vn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ph(t,n,i){return As(n,t.child,null,i),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Og(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vf(t.return,n,i)}function gh(t,n,i,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=f)}function Ig(t,n,i){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(on(t,n,l.children,i),l=$t.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,i,n);else if(t.tag===19)Og(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe($t,l),f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&Ou(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),gh(n,!1,f,i,d);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Ou(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}gh(n,!0,i,null,d);break;case"together":gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),La|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Ol(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=Xr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Xr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function Db(t,n,i){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),xa(n,Qt,t.memoizedState.cache),Cl();break;case 27:case 5:rn(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:xa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Oa(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Dg(t,n,i):(Oa(n),t=ra(t,n,i),t!==null?t.sibling:null);Oa(n);break;case 19:var f=(t.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Ol(t,n,i,!1),l=(i&n.childLanes)!==0),f){if(l)return Ig(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe($t,$t.current),l)break;return null;case 22:case 23:return n.lanes=0,Ag(t,n,i);case 24:xa(n,Qt,t.memoizedState.cache)}return ra(t,n,i)}function Vg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Jt=!0;else{if(!yh(t,i)&&(n.flags&128)===0)return Jt=!1,Db(t,n,i);Jt=(t.flags&131072)!==0}else Jt=!1,rt&&(n.flags&1048576)!==0&&up(n,mu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")xf(l)?(t=Li(l,t),n.tag=1,n=Ng(null,n,l,t,i)):(n.tag=0,n=ch(null,n,l,t,i));else{if(l!=null){if(f=l.$$typeof,f===W){n.tag=11,n=Tg(null,n,l,t,i);break e}else if(f===V){n.tag=14,n=wg(null,n,l,t,i);break e}}throw n=Qe(l)||l,Error(s(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,i);case 1:return l=n.type,f=Li(l,n.pendingProps),Ng(t,n,l,f,i);case 3:e:{if(Ye(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,jf(t,n),Ul(n,l,null,i);var b=n.memoizedState;if(l=b.cache,xa(n,Qt,l),l!==d.cache&&Mf(n,[Qt],i,!0),Ll(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Cg(t,n,l,i);break e}else if(l!==f){f=Fn(Error(s(424)),n),Dl(f),n=Cg(t,n,l,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ct=sr(t.firstChild),wn=n,rt=!0,Oi=null,br=!0,i=fg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cl(),l===f){n=ra(t,n,i);break e}on(t,n,l,i)}n=n.child}return n;case 26:return Mu(t,n),t===null?(i=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=i:rt||(i=n.type,t=n.pendingProps,l=Ku(Ae.current).createElement(i),l[Ht]=n,l[kt]=t,cn(l,i,t),Ot(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rn(n),t===null&&rt&&(l=n.stateNode=My(n.type,n.pendingProps,Ae.current),wn=n,br=!0,f=Ct,Ba(n.type)?(Zh=f,Ct=sr(l.firstChild)):Ct=f),on(t,n,n.pendingProps.children,i),Mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rt&&((f=l=Ct)&&(l=a1(l,n.type,n.pendingProps,br),l!==null?(n.stateNode=l,wn=n,Ct=sr(l.firstChild),br=!1,f=!0):f=!1),f||Ii(n)),rn(n),f=n.type,d=n.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,$h(f,d)?l=null:b!==null&&$h(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Qf(t,n,Tb,null,null,i),so._currentValue=f),Mu(t,n),on(t,n,l,i),n.child;case 6:return t===null&&rt&&((t=i=Ct)&&(i=i1(i,n.pendingProps,br),i!==null?(n.stateNode=i,wn=n,Ct=null,t=!0):t=!1),t||Ii(n)),null;case 13:return Dg(t,n,i);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=As(n,null,l,i):on(t,n,l,i),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,i);case 7:return on(t,n,n.pendingProps,i),n.child;case 8:return on(t,n,n.pendingProps.children,i),n.child;case 12:return on(t,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,xa(n,n.type,l.value),on(t,n,l.children,i),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Mi(n),f=pn(f),l=l(f),n.flags|=1,on(t,n,l,i),n.child;case 14:return wg(t,n,n.type,n.pendingProps,i);case 15:return Sg(t,n,n.type,n.pendingProps,i);case 19:return Ig(t,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},t===null?(i=Pu(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Xr(t.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Ag(t,n,i);case 24:return Mi(n),l=pn(Qt),t===null?(f=Lf(),f===null&&(f=_t,d=Pf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=i),f=d),n.memoizedState={parent:l,cache:f},zf(n),xa(n,Qt,f)):((t.lanes&i)!==0&&(jf(t,n),Ul(n,null,null,i),Ll()),f=t.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),xa(n,Qt,l)):(l=d.cache,xa(n,Qt,l),l!==f.cache&&Mf(n,[Qt],i,!0))),on(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function aa(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n)){if(n=Yn.current,n!==null&&((Ze&4194048)===Ze?Tr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||n!==Tr))throw Pl=Uf,yp;t.flags|=8192}}function ku(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nt():536870912,t.lanes|=n,Cs|=n)}function Gl(t,n){if(!rt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function Ob(t,n,i){var l=n.pendingProps;switch(Df(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return i=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ea(Qt),mn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Nl(n)?aa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hp())),St(n),null;case 26:return i=n.memoizedState,t===null?(aa(n),i!==null?(St(n),Mg(n,i)):(St(n),n.flags&=-16777217)):i?i!==t.memoizedState?(aa(n),St(n),Mg(n,i)):(St(n),n.flags&=-16777217):(t.memoizedProps!==l&&aa(n),St(n),n.flags&=-16777217),null;case 27:pt(n),i=Ae.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}t=Ee.current,Nl(n)?cp(n):(t=My(f,l,i),n.stateNode=t,aa(n))}return St(n),null;case 5:if(pt(n),i=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}if(t=Ee.current,Nl(n))cp(n);else{switch(f=Ku(Ae.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}t[Ht]=n,t[kt]=l;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;e:switch(cn(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&aa(n)}}return St(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ae.current,Nl(n)){if(t=n.stateNode,i=n.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ht]=n,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Ry(t.nodeValue,i)),t||Ii(n)}else t=Ku(t).createTextNode(l),t[Ht]=n,n.stateNode=t}return St(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Nl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ht]=n}else Cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),f=!1}else f=hp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(na(n),n):(na(n),null)}if(na(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return i!==t&&i&&(n.child.flags|=8192),ku(n,n.updateQueue),St(n),null;case 4:return mn(),t===null&&qh(n.stateNode.containerInfo),St(n),null;case 10:return ea(n.type),St(n),null;case 19:if(pe($t),f=n.memoizedState,f===null)return St(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)Gl(f,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ou(t),d!==null){for(n.flags|=128,Gl(f,!1),t=d.updateQueue,n.updateQueue=t,ku(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)op(i,t),i=i.sibling;return oe($t,$t.current&1|2),n.child}t=t.sibling}f.tail!==null&&Sn()>zu&&(n.flags|=128,l=!0,Gl(f,!1),n.lanes=4194304)}else{if(!l)if(t=Ou(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ku(n,t),Gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!rt)return St(n),null}else 2*Sn()-f.renderingStartTime>zu&&i!==536870912&&(n.flags|=128,l=!0,Gl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Sn(),n.sibling=null,t=$t.current,oe($t,l?t&1|2:t&1),n):(St(n),null);case 22:case 23:return na(n),Ff(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),i=n.updateQueue,i!==null&&ku(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),t!==null&&pe(Pi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ea(Qt),St(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Ib(t,n){switch(Df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ea(Qt),mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pt(n),null;case 13:if(na(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return pe($t),null;case 4:return mn(),null;case 10:return ea(n.type),null;case 22:case 23:return na(n),Ff(),t!==null&&pe(Pi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ea(Qt),null;case 25:return null;default:return null}}function Pg(t,n){switch(Df(n),n.tag){case 3:ea(Qt),mn();break;case 26:case 27:case 5:pt(n);break;case 4:mn();break;case 13:na(n);break;case 19:pe($t);break;case 10:ea(n.type);break;case 22:case 23:na(n),Ff(),t!==null&&pe(Pi);break;case 24:ea(Qt)}}function Ql(t,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var d=i.create,b=i.inst;l=d(),b.destroy=l}i=i.next}while(i!==f)}}catch(T){yt(n,n.return,T)}}function Va(t,n,i){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=n;var D=i,G=T;try{G()}catch(te){yt(f,D,te)}}}l=l.next}while(l!==d)}}catch(te){yt(n,n.return,te)}}function kg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{wp(n,i)}catch(l){yt(t,t.return,l)}}}function Lg(t,n,i){i.props=Li(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){yt(t,n,l)}}function $l(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){yt(t,n,f)}}function wr(t,n){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){yt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){yt(t,n,f)}else i.current=null}function Ug(t){var n=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){yt(t,t.return,f)}}function vh(t,n,i){try{var l=t.stateNode;Jb(l,t.type,i,n),l[kt]=n}catch(f){yt(t,t.return,f)}}function zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function _h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eh(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Yu));else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Eh(t,n,i),t=t.sibling;t!==null;)Eh(t,n,i),t=t.sibling}function Lu(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Lu(t,n,i),t=t.sibling;t!==null;)Lu(t,n,i),t=t.sibling}function jg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);cn(n,l,i),n[Ht]=t,n[kt]=i}catch(d){yt(t,t.return,d)}}var ia=!1,Vt=!1,bh=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,en=null;function Vb(t,n){if(t=t.containerInfo,Gh=tc,t=Wm(t),_f(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var b=0,T=-1,D=-1,G=0,te=0,le=t,$=null;t:for(;;){for(var Y;le!==i||f!==0&&le.nodeType!==3||(T=b+f),le!==d||l!==0&&le.nodeType!==3||(D=b+l),le.nodeType===3&&(b+=le.nodeValue.length),(Y=le.firstChild)!==null;)$=le,le=Y;for(;;){if(le===t)break t;if($===i&&++G===f&&(T=b),$===d&&++te===l&&(D=b),(Y=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=Y}i=T===-1||D===-1?null:{start:T,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qh={focusedElem:t,selectionRange:i},tc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=n,f=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var Ve=Li(i.type,f,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(De){yt(i,i.return,De)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)Kh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function qg(t,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ma(t,i),l&4&&Ql(5,i);break;case 1:if(Ma(t,i),l&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){yt(i,i.return,b)}else{var f=Li(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){yt(i,i.return,b)}}l&64&&kg(i),l&512&&$l(i,i.return);break;case 3:if(Ma(t,i),l&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{wp(t,n)}catch(b){yt(i,i.return,b)}}break;case 27:n===null&&l&4&&jg(i);case 26:case 5:Ma(t,i),n===null&&l&4&&Ug(i),l&512&&$l(i,i.return);break;case 12:Ma(t,i);break;case 13:Ma(t,i),l&4&&Gg(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=qb.bind(null,i),s1(t,i))));break;case 22:if(l=i.memoizedState!==null||ia,!l){n=n!==null&&n.memoizedState!==null||Vt,f=ia;var d=Vt;ia=l,(Vt=n)&&!d?Pa(t,i,(i.subtreeFlags&8772)!==0):Ma(t,i),ia=f,Vt=d}break;case 30:break;default:Ma(t,i)}}function Hg(t){var n=t.alternate;n!==null&&(t.alternate=null,Hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,xn=!1;function sa(t,n,i){for(i=i.child;i!==null;)Fg(t,n,i),i=i.sibling}function Fg(t,n,i){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(j,i)}catch{}switch(i.tag){case 26:Vt||wr(i,n),sa(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Vt||wr(i,n);var l=Tt,f=xn;Ba(i.type)&&(Tt=i.stateNode,xn=!1),sa(t,n,i),no(i.stateNode),Tt=l,xn=f;break;case 5:Vt||wr(i,n);case 6:if(l=Tt,f=xn,Tt=null,sa(t,n,i),Tt=l,xn=f,Tt!==null)if(xn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(i.stateNode)}catch(d){yt(i,n,d)}else try{Tt.removeChild(i.stateNode)}catch(d){yt(i,n,d)}break;case 18:Tt!==null&&(xn?(t=Tt,Iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),co(t)):Iy(Tt,i.stateNode));break;case 4:l=Tt,f=xn,Tt=i.stateNode.containerInfo,xn=!0,sa(t,n,i),Tt=l,xn=f;break;case 0:case 11:case 14:case 15:Vt||Va(2,i,n),Vt||Va(4,i,n),sa(t,n,i);break;case 1:Vt||(wr(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Lg(i,n,l)),sa(t,n,i);break;case 21:sa(t,n,i);break;case 22:Vt=(l=Vt)||i.memoizedState!==null,sa(t,n,i),Vt=l;break;default:sa(t,n,i)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(i){yt(n,n.return,i)}}function Mb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Bg),n;default:throw Error(s(435,t.tag))}}function Th(t,n){var i=Mb(t);n.forEach(function(l){var f=Hb.bind(null,t,l);i.has(l)||(i.add(l),l.then(f,f))})}function Mn(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],d=t,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ba(T.type)){Tt=T.stateNode,xn=!1;break e}break;case 5:Tt=T.stateNode,xn=!1;break e;case 3:case 4:Tt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Tt===null)throw Error(s(160));Fg(d,b,f),Tt=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var ir=null;function Qg(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Pn(t),l&4&&(Va(3,t,t.return),Ql(3,t),Va(5,t,t.return));break;case 1:Mn(n,t),Pn(t),l&512&&(Vt||i===null||wr(i,i.return)),l&64&&ia&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=ir;if(Mn(n,t),Pn(t),l&512&&(Vt||i===null||wr(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),cn(d,l,i),d[Ht]=t,Ot(d),l=d;break e;case"link":var b=jy("link","href",f).get(l+(i.href||""));if(b){for(var T=0;T<b.length;T++)if(d=b[T],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(T,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;case"meta":if(b=jy("meta","content",f).get(l+(i.content||""))){for(T=0;T<b.length;T++)if(d=b[T],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(T,1);break t}}d=f.createElement(l),cn(d,l,i),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ht]=t,Ot(d),l=d}t.stateNode=l}else By(f,t.type,t.stateNode);else t.stateNode=zy(f,l,t.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?By(f,t.type,t.stateNode):zy(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vh(t,t.memoizedProps,i.memoizedProps)}break;case 27:Mn(n,t),Pn(t),l&512&&(Vt||i===null||wr(i,i.return)),i!==null&&l&4&&vh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Mn(n,t),Pn(t),l&512&&(Vt||i===null||wr(i,i.return)),t.flags&32){f=t.stateNode;try{jn(f,"")}catch(Y){yt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,vh(t,f,i!==null?i.memoizedProps:f)),l&1024&&(bh=!0);break;case 6:if(Mn(n,t),Pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(Y){yt(t,t.return,Y)}}break;case 3:if(Wu=null,f=ir,ir=Xu(n.containerInfo),Mn(n,t),ir=f,Pn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(Y){yt(t,t.return,Y)}bh&&(bh=!1,$g(t));break;case 4:l=ir,ir=Xu(t.stateNode.containerInfo),Mn(n,t),Pn(t),ir=l;break;case 12:Mn(n,t),Pn(t);break;case 13:Mn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Nh=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 22:f=t.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,G=ia,te=Vt;if(ia=G||f,Vt=te||D,Mn(n,t),Vt=te,ia=G,Pn(t),l&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||D||ia||Vt||Ui(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){D=i=n;try{if(d=D.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=D.stateNode;var le=D.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){yt(D,D.return,Y)}}}else if(n.tag===6){if(i===null){D=n;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Y){yt(D,D.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Th(t,i))));break;case 19:Mn(n,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 30:break;case 21:break;default:Mn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var i,l=t.return;l!==null;){if(zg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,d=_h(t);Lu(t,d,f);break;case 5:var b=i.stateNode;i.flags&32&&(jn(b,""),i.flags&=-33);var T=_h(t);Lu(t,T,b);break;case 3:case 4:var D=i.stateNode.containerInfo,G=_h(t);Eh(t,G,D);break;default:throw Error(s(161))}}catch(te){yt(t,t.return,te)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;$g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ma(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(t,n.alternate,n),n=n.sibling}function Ui(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Va(4,n,n.return),Ui(n);break;case 1:wr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Lg(n,n.return,i),Ui(n);break;case 27:no(n.stateNode);case 26:case 5:wr(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}t=t.sibling}}function Pa(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(f,d,i),Ql(4,d);break;case 1:if(Pa(f,d,i),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){yt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Tp(D[f],T)}catch(G){yt(l,l.return,G)}}i&&b&64&&kg(d),$l(d,d.return);break;case 27:jg(d);case 26:case 5:Pa(f,d,i),i&&l===null&&b&4&&Ug(d),$l(d,d.return);break;case 12:Pa(f,d,i);break;case 13:Pa(f,d,i),i&&b&4&&Gg(f,d);break;case 22:d.memoizedState===null&&Pa(f,d,i),$l(d,d.return);break;case 30:break;default:Pa(f,d,i)}n=n.sibling}}function wh(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Il(i))}function Sh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Il(t))}function Sr(t,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,i,l),n=n.sibling}function Yg(t,n,i,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Sr(t,n,i,l),f&2048&&Ql(9,n);break;case 1:Sr(t,n,i,l);break;case 3:Sr(t,n,i,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Il(t)));break;case 12:if(f&2048){Sr(t,n,i,l),t=n.stateNode;try{var d=n.memoizedProps,b=d.id,T=d.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){yt(n,n.return,D)}}else Sr(t,n,i,l);break;case 13:Sr(t,n,i,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Sr(t,n,i,l):Yl(t,n):d._visibility&2?Sr(t,n,i,l):(d._visibility|=2,xs(t,n,i,l,(n.subtreeFlags&10256)!==0)),f&2048&&wh(b,n);break;case 24:Sr(t,n,i,l),f&2048&&Sh(n.alternate,n);break;default:Sr(t,n,i,l)}}function xs(t,n,i,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,b=n,T=i,D=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:xs(d,b,T,D,f),Ql(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?xs(d,b,T,D,f):Yl(d,b):(te._visibility|=2,xs(d,b,T,D,f)),f&&G&2048&&wh(b.alternate,b);break;case 24:xs(d,b,T,D,f),f&&G&2048&&Sh(b.alternate,b);break;default:xs(d,b,T,D,f)}n=n.sibling}}function Yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,l=n,f=l.flags;switch(l.tag){case 22:Yl(i,l),f&2048&&wh(l.alternate,l);break;case 24:Yl(i,l),f&2048&&Sh(l.alternate,l);break;default:Yl(i,l)}n=n.sibling}}var Kl=8192;function Rs(t){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:Rs(t),t.flags&Kl&&t.memoizedState!==null&&_1(ir,t.memoizedState,t.memoizedProps);break;case 5:Rs(t);break;case 3:case 4:var n=ir;ir=Xu(t.stateNode.containerInfo),Rs(t),ir=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Kl,Kl=16777216,Rs(t),Kl=n):Rs(t));break;default:Rs(t)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];en=l,Wg(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&Va(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uu(t)):Xl(t);break;default:Xl(t)}}function Uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];en=l,Wg(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Va(8,n,n.return),Uu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Uu(n));break;default:Uu(n)}t=t.sibling}}function Wg(t,n){for(;en!==null;){var i=en;switch(i.tag){case 0:case 11:case 15:Va(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,en=l;else e:for(i=t;en!==null;){l=en;var f=l.sibling,d=l.return;if(Hg(l),l===i){en=null;break e}if(f!==null){f.return=d,en=f;break e}en=d}}}var Pb={getCacheForType:function(t){var n=pn(Qt),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i}},kb=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,qe=null,Ze=0,ct=0,kn=null,ka=!1,Ns=!1,Ah=!1,la=0,Dt=0,La=0,zi=0,xh=0,Kn=0,Cs=0,Zl=null,Rn=null,Rh=!1,Nh=0,zu=1/0,ju=null,Ua=null,un=0,za=null,Ds=null,Os=0,Ch=0,Dh=null,Jg=null,Wl=0,Oh=null;function Ln(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(K.T!==null){var t=vs;return t!==0?t:Uh()}return tr()}function ey(){Kn===0&&(Kn=(Ze&536870912)===0||rt?ot():536870912);var t=Yn.current;return t!==null&&(t.flags|=32),Kn}function Un(t,n,i){(t===_t&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Is(t,0),ja(t,Ze,Kn,!1)),at(t,i),((ut&2)===0||t!==_t)&&(t===_t&&((ut&2)===0&&(zi|=i),Dt===4&&ja(t,Ze,Kn,!1)),Ar(t))}function ty(t,n,i){if((ut&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&t.expiredLanes)===0||Me(t,n),f=l?zb(t,n):Mh(t,n,!0),d=l;do{if(f===0){Ns&&!l&&ja(t,n,0,!1);break}else{if(i=t.current.alternate,d&&!Lb(i)){f=Mh(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=t;f=Zl;var D=T.current.memoizedState.isDehydrated;if(D&&(Is(T,b).flags|=256),b=Mh(T,b,!1),b!==2){if(Ah&&!D){T.errorRecoveryDisabledLanes|=d,zi|=d,f=4;break e}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){Is(t,0),ja(t,n,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ja(l,n,Kn,!ka);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Nh+300-Sn(),10<f)){if(ja(l,n,Kn,!ka),_e(l,0,!0)!==0)break e;l.timeoutHandle=Dy(ny.bind(null,l,i,Rn,ju,Rh,n,Kn,zi,Cs,ka,d,2,-0,0),f);break e}ny(l,i,Rn,ju,Rh,n,Kn,zi,Cs,ka,d,0,-0,0)}}break}while(!0);Ar(t)}function ny(t,n,i,l,f,d,b,T,D,G,te,le,$,Y){if(t.timeoutHandle=-1,le=n.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:v1},Kg(n),le=E1(),le!==null)){t.cancelPendingCommit=le(uy.bind(null,t,n,d,i,l,f,b,T,D,te,1,$,Y)),ja(t,d,b,!G);return}uy(t,n,d,i,l,f,b,T,D)}function Lb(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(t,n,i,l){n&=~xh,n&=~zi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var d=31-Ne(f),b=1<<d;l[d]=-1,f&=~b}i!==0&&an(t,i,n)}function Bu(){return(ut&6)===0?(Jl(0),!1):!0}function Ih(){if(qe!==null){if(ct===0)var t=qe.return;else t=qe,Jr=Vi=null,Kf(t),Ss=null,Hl=0,t=qe;for(;t!==null;)Pg(t.alternate,t),t=t.return;qe=null}}function Is(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,t1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ih(),_t=t,qe=i=Xr(t.current,null),Ze=n,ct=0,kn=null,ka=!1,Ns=Me(t,n),Ah=!1,Cs=Kn=xh=zi=La=Dt=0,Rn=Zl=null,Rh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-Ne(l),d=1<<f;n|=t[f],l&=~d}return la=n,uu(),i}function ry(t,n){je=null,K.H=Nu,n===Ml||n===vu?(n=Ep(),ct=3):n===yp?(n=Ep(),ct=4):ct=n===bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,qe===null&&(Dt=1,Vu(t,Fn(n,t.current)))}function ay(){var t=K.H;return K.H=Nu,t===null?Nu:t}function iy(){var t=K.A;return K.A=Pb,t}function Vh(){Dt=4,ka||(Ze&4194048)!==Ze&&Yn.current!==null||(Ns=!0),(La&134217727)===0&&(zi&134217727)===0||_t===null||ja(_t,Ze,Kn,!1)}function Mh(t,n,i){var l=ut;ut|=2;var f=ay(),d=iy();(_t!==t||Ze!==n)&&(ju=null,Is(t,n)),n=!1;var b=Dt;e:do try{if(ct!==0&&qe!==null){var T=qe,D=kn;switch(ct){case 8:Ih(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(n=!0);var G=ct;if(ct=0,kn=null,Vs(t,T,D,G),i&&Ns){b=0;break e}break;default:G=ct,ct=0,kn=null,Vs(t,T,D,G)}}Ub(),b=Dt;break}catch(te){ry(t,te)}while(!0);return n&&t.shellSuspendCounter++,Jr=Vi=null,ut=l,K.H=f,K.A=d,qe===null&&(_t=null,Ze=0,uu()),b}function Ub(){for(;qe!==null;)sy(qe)}function zb(t,n){var i=ut;ut|=2;var l=ay(),f=iy();_t!==t||Ze!==n?(ju=null,zu=Sn()+500,Is(t,n)):Ns=Me(t,n);e:do try{if(ct!==0&&qe!==null){n=qe;var d=kn;t:switch(ct){case 1:ct=0,kn=null,Vs(t,n,d,1);break;case 2:case 9:if(vp(d)){ct=0,kn=null,ly(n);break}n=function(){ct!==2&&ct!==9||_t!==t||(ct=7),Ar(t)},d.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:vp(d)?(ct=0,kn=null,ly(n)):(ct=0,kn=null,Vs(t,n,d,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var T=qe;if(!b||qy(b)){ct=0,kn=null;var D=T.sibling;if(D!==null)qe=D;else{var G=T.return;G!==null?(qe=G,qu(G)):qe=null}break t}}ct=0,kn=null,Vs(t,n,d,5);break;case 6:ct=0,kn=null,Vs(t,n,d,6);break;case 8:Ih(),Dt=6;break e;default:throw Error(s(462))}}jb();break}catch(te){ry(t,te)}while(!0);return Jr=Vi=null,K.H=l,K.A=f,ut=i,qe!==null?0:(_t=null,Ze=0,uu(),Dt)}function jb(){for(;qe!==null&&!va();)sy(qe)}function sy(t){var n=Vg(t.alternate,t,la);t.memoizedProps=t.pendingProps,n===null?qu(t):qe=n}function ly(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Rg(i,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=Rg(i,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:Kf(n);default:Pg(i,n),n=qe=op(n,la),n=Vg(i,n,la)}t.memoizedProps=t.pendingProps,n===null?qu(t):qe=n}function Vs(t,n,i,l){Jr=Vi=null,Kf(n),Ss=null,Hl=0;var f=n.return;try{if(Cb(t,f,n,i,Ze)){Dt=1,Vu(t,Fn(i,t.current)),qe=null;return}}catch(d){if(f!==null)throw qe=f,d;Dt=1,Vu(t,Fn(i,t.current)),qe=null;return}n.flags&32768?(rt||l===1?t=!0:Ns||(Ze&536870912)!==0?t=!1:(ka=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),oy(n,t)):qu(n)}function qu(t){var n=t;do{if((n.flags&32768)!==0){oy(n,ka);return}t=n.return;var i=Ob(n.alternate,n,la);if(i!==null){qe=i;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);Dt===0&&(Dt=5)}function oy(t,n){do{var i=Ib(t.alternate,t);if(i!==null){i.flags&=32767,qe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=i}while(t!==null);Dt=6,qe=null}function uy(t,n,i,l,f,d,b,T,D){t.cancelPendingCommit=null;do Hu();while(un!==0);if((ut&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Sf,Nt(t,i,d,b,T,D),t===_t&&(qe=_t=null,Ze=0),Ds=n,za=t,Os=i,Ch=d,Dh=f,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fb(er,function(){return my(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=me.p,me.p=2,b=ut,ut|=4;try{Vb(t,n,i)}finally{ut=b,me.p=f,K.T=l}}un=1,cy(),fy(),hy()}}function cy(){if(un===1){un=0;var t=za,n=Ds,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{Qg(n,t);var d=Qh,b=Wm(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(b!==T&&T&&T.ownerDocument&&Zm(T.ownerDocument.documentElement,T)){if(D!==null&&_f(T)){var G=D.start,te=D.end;if(te===void 0&&(te=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(te,T.value.length);else{var le=T.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var Y=$.getSelection(),Ve=T.textContent.length,De=Math.min(D.start,Ve),mt=D.end===void 0?De:Math.min(D.end,Ve);!Y.extend&&De>mt&&(b=mt,mt=De,De=b);var z=Xm(T,De),k=Xm(T,mt);if(z&&k&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=le.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),De>mt?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(le=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&le.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var se=le[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}tc=!!Gh,Qh=Gh=null}finally{ut=f,me.p=l,K.T=i}}t.current=n,un=2}}function fy(){if(un===2){un=0;var t=za,n=Ds,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var l=me.p;me.p=2;var f=ut;ut|=4;try{qg(t,n.alternate,n)}finally{ut=f,me.p=l,K.T=i}}un=3}}function hy(){if(un===4||un===3){un=0,ui();var t=za,n=Ds,i=Os,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?un=5:(un=0,Ds=za=null,dy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ua=null),zr(i),n=n.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(j,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,f=me.p,me.p=2,K.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];d(T.value,{componentStack:T.stack})}}finally{K.T=n,me.p=f}}(Os&3)!==0&&Hu(),Ar(t),f=t.pendingLanes,(i&4194090)!==0&&(f&42)!==0?t===Oh?Wl++:(Wl=0,Oh=t):Wl=0,Jl(0)}}function dy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Il(n)))}function Hu(t){return cy(),fy(),hy(),my()}function my(){if(un!==5)return!1;var t=za,n=Ch;Ch=0;var i=zr(Os),l=K.T,f=me.p;try{me.p=32>i?32:i,K.T=null,i=Dh,Dh=null;var d=za,b=Os;if(un=0,Ds=za=null,Os=0,(ut&6)!==0)throw Error(s(331));var T=ut;if(ut|=4,Zg(d.current),Yg(d,d.current,b,i),ut=T,Jl(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(j,d)}catch{}return!0}finally{me.p=f,K.T=l,dy(t,n)}}function py(t,n,i){n=Fn(i,n),n=uh(t.stateNode,n,2),t=Ca(t,n,2),t!==null&&(at(t,2),Ar(t))}function yt(t,n,i){if(t.tag===3)py(t,t,i);else for(;n!==null;){if(n.tag===3){py(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ua===null||!Ua.has(l))){t=Fn(i,t),i=_g(2),l=Ca(n,i,2),l!==null&&(Eg(i,l,n,t),at(l,2),Ar(l));break}}n=n.return}}function Ph(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new kb;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(i)||(Ah=!0,f.add(i),t=Bb.bind(null,t,n,i),n.then(t,t))}function Bb(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,_t===t&&(Ze&i)===i&&(Dt===4||Dt===3&&(Ze&62914560)===Ze&&300>Sn()-Nh?(ut&2)===0&&Is(t,0):xh|=i,Cs===Ze&&(Cs=0)),Ar(t)}function gy(t,n){n===0&&(n=nt()),t=ms(t,n),t!==null&&(at(t,n),Ar(t))}function qb(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),gy(t,i)}function Hb(t,n){var i=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),gy(t,i)}function Fb(t,n){return Rt(t,n)}var Fu=null,Ms=null,kh=!1,Gu=!1,Lh=!1,ji=0;function Ar(t){t!==Ms&&t.next===null&&(Ms===null?Fu=Ms=t:Ms=Ms.next=t),Gu=!0,kh||(kh=!0,Qb())}function Jl(t,n){if(!Lh&&Gu){Lh=!0;do for(var i=!1,l=Fu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ne(42|t)+1)-1,d&=f&~(b&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Ey(l,d))}else d=Ze,d=_e(l,l===_t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Me(l,d)||(i=!0,Ey(l,d));l=l.next}while(i);Lh=!1}}function Gb(){yy()}function yy(){Gu=kh=!1;var t=0;ji!==0&&(e1()&&(t=ji),ji=0);for(var n=Sn(),i=null,l=Fu;l!==null;){var f=l.next,d=vy(l,n);d===0?(l.next=null,i===null?Fu=f:i.next=f,f===null&&(Ms=i)):(i=l,(t!==0||(d&3)!==0)&&(Gu=!0)),l=f}Jl(t)}function vy(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-Ne(d),T=1<<b,D=f[b];D===-1?((T&i)===0||(T&l)!==0)&&(f[b]=lt(T,n)):D<=n&&(t.expiredLanes|=T),d&=~T}if(n=_t,i=Ze,i=_e(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Me(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(l!==null&&Lr(l),zr(i)){case 2:case 8:i=Ur;break;case 32:i=er;break;case 268435456:i=cr;break;default:i=er}return l=_y.bind(null,t),i=Rt(i,l),t.callbackPriority=n,t.callbackNode=i,n}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function _y(t,n){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Hu()&&t.callbackNode!==i)return null;var l=Ze;return l=_e(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ty(t,l,n),vy(t,Sn()),t.callbackNode!=null&&t.callbackNode===i?_y.bind(null,t):null)}function Ey(t,n){if(Hu())return null;ty(t,n,!0)}function Qb(){n1(function(){(ut&6)!==0?Rt(ci,Gb):yy()})}function Uh(){return ji===0&&(ji=ot()),ji}function by(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ns(""+t)}function Ty(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function $b(t,n,i,l,f){if(n==="submit"&&i&&i.stateNode===f){var d=by((f[kt]||null).action),b=l.submitter;b&&(n=(n=b[kt]||null)?by(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var T=new rs("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ji!==0){var D=b?Ty(f,b):new FormData(f);ah(i,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=b?Ty(f,b):new FormData(f),ah(i,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var zh=0;zh<wf.length;zh++){var jh=wf[zh],Yb=jh.toLowerCase(),Kb=jh[0].toUpperCase()+jh.slice(1);ar(Yb,"on"+Kb)}ar(tp,"onAnimationEnd"),ar(np,"onAnimationIteration"),ar(rp,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(hb,"onTransitionRun"),ar(db,"onTransitionStart"),ar(mb,"onTransitionCancel"),ar(ap,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function wy(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var T=l[b],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(te){Iu(te)}f.currentTarget=null,d=D}else for(b=0;b<l.length;b++){if(T=l[b],D=T.instance,G=T.currentTarget,T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=G;try{d(f)}catch(te){Iu(te)}f.currentTarget=null,d=D}}}}function He(t,n){var i=n[fl];i===void 0&&(i=n[fl]=new Set);var l=t+"__bubble";i.has(l)||(Sy(n,t,2,!1),i.add(l))}function Bh(t,n,i){var l=0;n&&(l|=4),Sy(i,t,l,n)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[Qu]){t[Qu]=!0,hl.forEach(function(i){i!=="selectionchange"&&(Xb.has(i)||Bh(i,!1,t),Bh(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qu]||(n[Qu]=!0,Bh("selectionchange",!1,n))}}function Sy(t,n,i,l){switch(Yy(n)){case 2:var f=w1;break;case 8:f=S1;break;default:f=nd}i=f.bind(null,n,i,t),f=void 0,!qn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function Hh(t,n,i,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=jr(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=d=b;continue e}T=T.parentNode}}l=l.return}Yo(function(){var G=d,te=Bn(i),le=[];e:{var $=ip.get(t);if($!==void 0){var Y=rs,Ve=t;switch(t){case"keypress":if(gr(i)===0)break e;case"keydown":case"keyup":Y=us;break;case"focusin":Ve="focus",Y=ss;break;case"focusout":Ve="blur",Y=ss;break;case"beforeblur":case"afterblur":Y=ss;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=nu;break;case tp:case np:case rp:Y=ls;break;case ap:Y=au;break;case"scroll":case"scrollend":Y=Ko;break;case"wheel":Y=cs;break;case"copy":case"cut":case"paste":Y=os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Sl;break;case"toggle":case"beforetoggle":Y=su}var De=(n&4)!==0,mt=!De&&(t==="scroll"||t==="scrollend"),z=De?$!==null?$+"Capture":null:$;De=[];for(var k=G,F;k!==null;){var se=k;if(F=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||F===null||z===null||(se=_i(k,z),se!=null&&De.push(to(k,se,F))),mt)break;k=k.return}0<De.length&&($=new Y($,Ve,null,i,te),le.push({event:$,listeners:De}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",$&&i!==Fr&&(Ve=i.relatedTarget||i.fromElement)&&(jr(Ve)||Ve[zn]))break e;if((Y||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Ve=i.relatedTarget||i.toElement,Y=G,Ve=Ve?jr(Ve):null,Ve!==null&&(mt=u(Ve),De=Ve.tag,Ve!==mt||De!==5&&De!==27&&De!==6)&&(Ve=null)):(Y=null,Ve=G),Y!==Ve)){if(De=Hn,se="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(De=Sl,se="onPointerLeave",z="onPointerEnter",k="pointer"),mt=Y==null?$:hr(Y),F=Ve==null?$:hr(Ve),$=new De(se,k+"leave",Y,i,te),$.target=mt,$.relatedTarget=F,se=null,jr(te)===G&&(De=new De(z,k+"enter",Ve,i,te),De.target=F,De.relatedTarget=mt,se=De),mt=se,Y&&Ve)t:{for(De=Y,z=Ve,k=0,F=De;F;F=Ps(F))k++;for(F=0,se=z;se;se=Ps(se))F++;for(;0<k-F;)De=Ps(De),k--;for(;0<F-k;)z=Ps(z),F--;for(;k--;){if(De===z||z!==null&&De===z.alternate)break t;De=Ps(De),z=Ps(z)}De=null}else De=null;Y!==null&&Ay(le,$,Y,De,!1),Ve!==null&&mt!==null&&Ay(le,mt,Ve,De,!0)}}e:{if($=G?hr(G):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var Se=Fm;else if(Gt($))if(Gm)Se=ub;else{Se=lb;var Be=sb}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&yl(G.elementType)&&(Se=Fm):Se=ob;if(Se&&(Se=Se(t,G))){Kr(le,Se,i,te);break e}Be&&Be(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Sa($,"number",$.value)}switch(Be=G?hr(G):window,t){case"focusin":(Gt(Be)||Be.contentEditable==="true")&&(fs=Be,Ef=G,Rl=null);break;case"focusout":Rl=Ef=fs=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Jm(le,i,te);break;case"selectionchange":if(fb)break;case"keydown":case"keyup":Jm(le,i,te)}var xe;if(_r)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ke?X(t,i)&&(Oe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&i.locale!=="ko"&&(Ke||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ke&&(xe=_l()):(pr=te,Aa="value"in pr?pr.value:pr.textContent,Ke=!0)),Be=$u(G,Oe),0<Be.length&&(Oe=new Tl(Oe,t,null,i,te),le.push({event:Oe,listeners:Be}),xe?Oe.data=xe:(xe=ge(i),xe!==null&&(Oe.data=xe)))),(xe=p?Ft(t,i):Xe(t,i))&&(Oe=$u(G,"onBeforeInput"),0<Oe.length&&(Be=new Tl("onBeforeInput","beforeinput",null,i,te),le.push({event:Be,listeners:Oe}),Be.data=xe)),$b(le,t,G,i,te)}wy(le,n)})}function to(t,n,i){return{instance:t,listener:n,currentTarget:i}}function $u(t,n){for(var i=n+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_i(t,i),f!=null&&l.unshift(to(t,f,d)),f=_i(t,n),f!=null&&l.push(to(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,n,i,l,f){for(var d=n._reactName,b=[];i!==null&&i!==l;){var T=i,D=T.alternate,G=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||G===null||(D=G,f?(G=_i(i,d),G!=null&&b.unshift(to(i,G,D))):f||(G=_i(i,d),G!=null&&b.push(to(i,G,D)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var Zb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(Wb,"")}function Ry(t,n){return n=xy(n),xy(t)===n}function Yu(){}function dt(t,n,i,l,f,d){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||jn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&jn(t,""+l);break;case"className":dr(t,"class",l);break;case"tabIndex":dr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(t,i,l);break;case"style":gl(t,l,d);break;case"data":if(n!=="object"){dr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=ns(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&dt(t,n,"name",f.name,f,null),dt(t,n,"formEncType",f.formEncType,f,null),dt(t,n,"formMethod",f.formMethod,f,null),dt(t,n,"formTarget",f.formTarget,f,null)):(dt(t,n,"encType",f.encType,f,null),dt(t,n,"method",f.method,f,null),dt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=ns(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Yu);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=ns(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":He("beforetoggle",t),He("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=df.get(i)||i,wa(t,i,l))}}function Fh(t,n,i,l,f,d){switch(i){case"style":gl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?jn(t,l):(typeof l=="number"||typeof l=="bigint")&&jn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zi.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),d=t[kt]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):wa(t,i,l)}}}function cn(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,f=!1,d;for(d in i)if(i.hasOwnProperty(d)){var b=i[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,d,b,i,null)}}f&&dt(t,n,"srcSet",i.srcSet,i,null),l&&dt(t,n,"src",i.src,i,null);return;case"input":He("invalid",t);var T=d=b=f=null,D=null,G=null;for(l in i)if(i.hasOwnProperty(l)){var te=i[l];if(te!=null)switch(l){case"name":f=te;break;case"type":b=te;break;case"checked":D=te;break;case"defaultChecked":G=te;break;case"value":d=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:dt(t,n,l,te,i,null)}}gi(t,d,T,D,G,b,f,!1),ts(t);return;case"select":He("invalid",t),l=b=d=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:dt(t,n,f,T,i,null)}n=d,i=b,t.multiple=!!l,n!=null?Hr(t,!!l,n,!1):i!=null&&Hr(t,!!l,i,!0);return;case"textarea":He("invalid",t),d=f=l=null;for(b in i)if(i.hasOwnProperty(b)&&(T=i[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:dt(t,n,b,T,i,null)}yi(t,l,f,d),ts(t);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,n,D,l,i,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<eo.length;l++)He(eo[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(l=i[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:dt(t,n,G,l,i,null)}return;default:if(yl(n)){for(te in i)i.hasOwnProperty(te)&&(l=i[te],l!==void 0&&Fh(t,n,te,l,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null&&dt(t,n,T,l,i,null))}function Jb(t,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,T=null,D=null,G=null,te=null;for(Y in i){var le=i[Y];if(i.hasOwnProperty(Y)&&le!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=le;default:l.hasOwnProperty(Y)||dt(t,n,Y,null,l,le)}}for(var $ in l){var Y=l[$];if(le=i[$],l.hasOwnProperty($)&&(Y!=null||le!=null))switch($){case"type":d=Y;break;case"name":f=Y;break;case"checked":G=Y;break;case"defaultChecked":te=Y;break;case"value":b=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==le&&dt(t,n,$,Y,l,le)}}On(t,b,T,D,G,te,d,f);return;case"select":Y=b=T=$=null;for(d in i)if(D=i[d],i.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||dt(t,n,d,null,l,D)}for(f in l)if(d=l[f],D=i[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":$=d;break;case"defaultValue":T=d;break;case"multiple":b=d;default:d!==D&&dt(t,n,f,d,l,D)}n=T,i=b,l=Y,$!=null?Hr(t,!!i,$,!1):!!l!=!!i&&(n!=null?Hr(t,!!i,n,!0):Hr(t,!!i,i?[]:"",!1));return;case"textarea":Y=$=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(t,n,T,null,l,f)}for(b in l)if(f=l[b],d=i[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":$=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&dt(t,n,b,f,l,d)}ft(t,$,Y);return;case"option":for(var Ve in i)if($=i[Ve],i.hasOwnProperty(Ve)&&$!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:dt(t,n,Ve,null,l,$)}for(D in l)if($=l[D],Y=i[D],l.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null))switch(D){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:dt(t,n,D,$,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in i)$=i[De],i.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De)&&dt(t,n,De,null,l,$);for(G in l)if($=l[G],Y=i[G],l.hasOwnProperty(G)&&$!==Y&&($!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:dt(t,n,G,$,l,Y)}return;default:if(yl(n)){for(var mt in i)$=i[mt],i.hasOwnProperty(mt)&&$!==void 0&&!l.hasOwnProperty(mt)&&Fh(t,n,mt,void 0,l,$);for(te in l)$=l[te],Y=i[te],!l.hasOwnProperty(te)||$===Y||$===void 0&&Y===void 0||Fh(t,n,te,$,l,Y);return}}for(var z in i)$=i[z],i.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&dt(t,n,z,null,l,$);for(le in l)$=l[le],Y=i[le],!l.hasOwnProperty(le)||$===Y||$==null&&Y==null||dt(t,n,le,$,l,Y)}var Gh=null,Qh=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function Ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function e1(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(r1)}:Dy;function r1(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function Iy(t,n){var i=n,l=0,f=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var b=t.ownerDocument;if(i&1&&no(b.documentElement),i&2&&no(b.body),i&4)for(i=b.head,no(i),b=i.firstChild;b;){var T=b.nextSibling,D=b.nodeName;b[hi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=T}}if(f===0){t.removeChild(d),co(n);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);co(n)}function Kh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Kh(i),Ta(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function a1(t,n,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function i1(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=sr(t.nextSibling),t===null))return null;return t}function Xh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s1(t,n){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Zh=null;function Vy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}function My(t,n,i){switch(n=Ku(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function no(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var Xn=new Map,Py=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=me.d;me.d={f:l1,r:o1,D:u1,C:c1,L:f1,m:h1,X:m1,S:d1,M:p1};function l1(){var t=oa.f(),n=Bu();return t||n}function o1(t){var n=fr(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):oa.r(t)}var ks=typeof document>"u"?null:document;function ky(t,n,i){var l=ks;if(l&&typeof n=="string"&&n){var f=Lt(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Py.has(f)||(Py.add(f),t={rel:t,crossOrigin:i,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),cn(n,"link",t),Ot(n),l.head.appendChild(n)))}}function u1(t){oa.D(t),ky("dns-prefetch",t,null)}function c1(t,n){oa.C(t,n),ky("preconnect",t,n)}function f1(t,n,i){oa.L(t,n,i);var l=ks;if(l&&t&&n){var f='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Lt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Lt(i.imageSizes)+'"]')):f+='[href="'+Lt(t)+'"]';var d=f;switch(n){case"style":d=Ls(t);break;case"script":d=Us(t)}Xn.has(d)||(t=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),Xn.set(d,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(ro(d))||n==="script"&&l.querySelector(ao(d))||(n=l.createElement("link"),cn(n,"link",t),Ot(n),l.head.appendChild(n)))}}function h1(t,n){oa.m(t,n);var i=ks;if(i&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Us(t)}if(!Xn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Xn.set(d,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ao(d)))return}l=i.createElement("link"),cn(l,"link",t),Ot(l),i.head.appendChild(l)}}}function d1(t,n,i){oa.S(t,n,i);var l=ks;if(l&&t){var f=En(l).hoistableStyles,d=Ls(t);n=n||"default";var b=f.get(d);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(ro(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},i),(i=Xn.get(d))&&Wh(t,i);var D=b=l.createElement("link");Ot(D),cn(D,"link",t),D._p=new Promise(function(G,te){D.onload=G,D.onerror=te}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zu(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(d,b)}}}function m1(t,n){oa.X(t,n);var i=ks;if(i&&t){var l=En(i).hoistableScripts,f=Us(t),d=l.get(f);d||(d=i.querySelector(ao(f)),d||(t=E({src:t,async:!0},n),(n=Xn.get(f))&&Jh(t,n),d=i.createElement("script"),Ot(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function p1(t,n){oa.M(t,n);var i=ks;if(i&&t){var l=En(i).hoistableScripts,f=Us(t),d=l.get(f);d||(d=i.querySelector(ao(f)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Xn.get(f))&&Jh(t,n),d=i.createElement("script"),Ot(d),cn(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ly(t,n,i,l){var f=(f=Ae.current)?Xu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ls(i.href),i=En(f).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ls(i.href);var d=En(f).hoistableStyles,b=d.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=f.querySelector(ro(t)))&&!d._p&&(b.instance=d,b.state.loading=5),Xn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xn.set(t,i),d||g1(f,t,i,b.state))),n&&l===null)throw Error(s(528,""));return b}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Us(i),i=En(f).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ls(t){return'href="'+Lt(t)+'"'}function ro(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function g1(t,n,i,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",i),Ot(n),t.head.appendChild(n))}function Us(t){return'[src="'+Lt(t)+'"]'}function ao(t){return"script[async]"+t}function zy(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(i.href)+'"]');if(l)return n.instance=l,Ot(l),l;var f=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),cn(l,"style",f),Zu(l,i.precedence,t),n.instance=l;case"stylesheet":f=Ls(i.href);var d=t.querySelector(ro(f));if(d)return n.state.loading|=4,n.instance=d,Ot(d),d;l=Uy(i),(f=Xn.get(f))&&Wh(l,f),d=(t.ownerDocument||t).createElement("link"),Ot(d);var b=d;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),cn(d,"link",l),n.state.loading|=4,Zu(d,i.precedence,t),n.instance=d;case"script":return d=Us(i.src),(f=t.querySelector(ao(d)))?(n.instance=f,Ot(f),f):(l=i,(f=Xn.get(d))&&(l=E({},i),Jh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ot(f),cn(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zu(l,i.precedence,t));return n.instance}function Zu(t,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wu=null;function jy(t,n,i){if(Wu===null){var l=new Map,f=Wu=new Map;f.set(i,l)}else f=Wu,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var d=i[f];if(!(d[hi]||d[Ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=t+b;var T=l.get(b);T?T.push(d):l.set(b,[d])}}return l}function By(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function y1(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var io=null;function v1(){}function _1(t,n,i){if(io===null)throw Error(s(475));var l=io;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ls(i.href),d=t.querySelector(ro(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ju.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Ot(d);return}d=t.ownerDocument||t,i=Uy(i),(f=Xn.get(f))&&Wh(i,f),d=d.createElement("link"),Ot(d);var b=d;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),cn(d,"link",i),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ju.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function E1(){if(io===null)throw Error(s(475));var t=io;return t.stylesheets&&t.count===0&&ed(t,t.stylesheets),0<t.count?function(n){var i=setTimeout(function(){if(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function ed(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,n.forEach(b1,t),ec=null,Ju.call(t))}function b1(t,n){if(!(n.state.loading&4)){var i=ec.get(t);if(i)var l=i.get(null);else{i=new Map,ec.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),l=b)}l&&i.set(null,l)}f=n.instance,b=f.getAttribute("data-precedence"),d=i.get(b)||l,d===l&&i.set(null,f),i.set(b,f),this.count++,l=Ju.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var so={$$typeof:Q,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function T1(t,n,i,l,f,d,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hy(t,n,i,l,f,d,b,T,D,G,te,le){return t=new T1(t,n,i,b,T,D,G,le),n=1,d===!0&&(n|=24),d=Vn(3,null,null,n),t.current=d,d.stateNode=t,n=Pf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:n},zf(d),t}function Fy(t){return t?(t=ps,t):ps}function Gy(t,n,i,l,f,d){f=Fy(f),l.context===null?l.context=f:l.pendingContext=f,l=Na(n),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Ca(t,l,n),i!==null&&(Un(i,t,n),kl(i,t,n))}function Qy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function td(t,n){Qy(t,n),(t=t.alternate)&&Qy(t,n)}function $y(t){if(t.tag===13){var n=ms(t,67108864);n!==null&&Un(n,t,67108864),td(t,67108864)}}var tc=!0;function w1(t,n,i,l){var f=K.T;K.T=null;var d=me.p;try{me.p=2,nd(t,n,i,l)}finally{me.p=d,K.T=f}}function S1(t,n,i,l){var f=K.T;K.T=null;var d=me.p;try{me.p=8,nd(t,n,i,l)}finally{me.p=d,K.T=f}}function nd(t,n,i,l){if(tc){var f=rd(l);if(f===null)Hh(t,n,l,nc,i),Ky(t,l);else if(x1(f,t,n,i,l))l.stopPropagation();else if(Ky(t,l),n&4&&-1<A1.indexOf(t)){for(;f!==null;){var d=fr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ve(d.pendingLanes);if(b!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-Ne(b);T.entanglements[1]|=D,b&=~D}Ar(d),(ut&6)===0&&(zu=Sn()+500,Jl(0))}}break;case 13:T=ms(d,2),T!==null&&Un(T,d,2),Bu(),td(d,2)}if(d=rd(l),d===null&&Hh(t,n,l,nc,i),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hh(t,n,l,null,i)}}function rd(t){return t=Bn(t),ad(t)}var nc=null;function ad(t){if(nc=null,t=jr(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=h(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nc=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case ci:return 2;case Ur:return 8;case er:case Ea:return 32;case cr:return 268435456;default:return 32}default:return 32}}var id=!1,qa=null,Ha=null,Fa=null,lo=new Map,oo=new Map,Ga=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(t,n){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(t,n,i,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=fr(n),n!==null&&$y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function x1(t,n,i,l,f){switch(n){case"focusin":return qa=uo(qa,t,n,i,l,f),!0;case"dragenter":return Ha=uo(Ha,t,n,i,l,f),!0;case"mouseover":return Fa=uo(Fa,t,n,i,l,f),!0;case"pointerover":var d=f.pointerId;return lo.set(d,uo(lo.get(d)||null,t,n,i,l,f)),!0;case"gotpointercapture":return d=f.pointerId,oo.set(d,uo(oo.get(d)||null,t,n,i,l,f)),!0}return!1}function Xy(t){var n=jr(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){t.blockedOn=n,Bo(t.priority,function(){if(i.tag===13){var l=Ln();l=Dn(l);var f=ms(i,l);f!==null&&Un(f,i,l),td(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=rd(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Fr=l,i.target.dispatchEvent(l),Fr=null}else return n=fr(i),n!==null&&$y(n),t.blockedOn=i,!1;n.shift()}return!0}function Zy(t,n,i){rc(t)&&i.delete(n)}function R1(){id=!1,qa!==null&&rc(qa)&&(qa=null),Ha!==null&&rc(Ha)&&(Ha=null),Fa!==null&&rc(Fa)&&(Fa=null),lo.forEach(Zy),oo.forEach(Zy)}function ac(t,n){t.blockedOn===n&&(t.blockedOn=null,id||(id=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,R1)))}var ic=null;function Wy(t){ic!==t&&(ic=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ic===t&&(ic=null);for(var n=0;n<t.length;n+=3){var i=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(ad(l||i)===null)continue;break}var d=fr(i);d!==null&&(t.splice(n,3),n-=3,ah(d,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function co(t){function n(D){return ac(D,t)}qa!==null&&ac(qa,t),Ha!==null&&ac(Ha,t),Fa!==null&&ac(Fa,t),lo.forEach(n),oo.forEach(n);for(var i=0;i<Ga.length;i++){var l=Ga[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ga.length&&(i=Ga[0],i.blockedOn===null);)Xy(i),i.blockedOn===null&&Ga.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],d=i[l+1],b=f[kt]||null;if(typeof d=="function")b||Wy(i);else if(b){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[kt]||null)T=b.formAction;else if(ad(f)!==null)continue}else T=b.action;typeof T=="function"?i[l+1]=T:(i.splice(l,3),l-=3),Wy(i)}}}function sd(t){this._internalRoot=t}sc.prototype.render=sd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Ln();Gy(i,l,t,n,null,null)},sc.prototype.unmount=sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gy(t.current,2,null,t,null,null),Bu(),n[zn]=null}};function sc(t){this._internalRoot=t}sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Ga.length&&n!==0&&n<Ga[i].priority;i++);Ga.splice(i,0,t),i===0&&Xy(t)}};var Jy=e.version;if(Jy!=="19.1.1")throw Error(s(527,Jy,"19.1.1"));me.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var N1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{j=lc.inject(N1),ne=lc}catch{}}return fo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var i=!1,l="",f=pg,d=gg,b=yg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Hy(t,1,!1,null,null,i,l,f,d,b,T,null),t[zn]=n.current,qh(t),new sd(n)},fo.hydrateRoot=function(t,n,i){if(!o(t))throw Error(s(299));var l=!1,f="",d=pg,b=gg,T=yg,D=null,G=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks),i.formState!==void 0&&(G=i.formState)),n=Hy(t,1,!0,n,i??null,l,f,d,b,T,D,G),n.context=Fy(null),i=n.current,l=Ln(),l=Dn(l),f=Na(l),f.callback=null,Ca(i,f,l),i=l,n.current.lanes=i,at(n,i),Ar(n),t[zn]=n.current,qh(t),new sc(n)},fo.version="19.1.1",fo}var l0;function L1(){if(l0)return od.exports;l0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),od.exports=k1(),od.exports}var U1=L1();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o0="popstate";function z1(a={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Nd("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:wo(o)}return B1(e,r,null,a)}function At(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Or(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j1(){return Math.random().toString(36).substring(2,10)}function u0(a,e){return{usr:a.state,key:a.key,idx:e}}function Nd(a,e,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:r,key:e&&e.key||s||j1()}}function wo({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function nl(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function B1(a,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",y=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){m="POP";let I=E(),J=I==null?null:I-g;g=I,y&&y({action:m,location:q.location,delta:J})}function x(I,J){m="PUSH";let ee=Nd(q.location,I,J);g=E()+1;let Q=u0(ee,g),W=q.createHref(ee);try{h.pushState(Q,"",W)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(W)}u&&y&&y({action:m,location:q.location,delta:1})}function N(I,J){m="REPLACE";let ee=Nd(q.location,I,J);g=E();let Q=u0(ee,g),W=q.createHref(ee);h.replaceState(Q,"",W),u&&y&&y({action:m,location:q.location,delta:0})}function L(I){return q1(I)}let q={get action(){return m},get location(){return a(o,h)},listen(I){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(o0,w),y=I,()=>{o.removeEventListener(o0,w),y=null}},createHref(I){return e(o,I)},createURL:L,encodeLocation(I){let J=L(I);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:x,replace:N,go(I){return h.go(I)}};return q}function q1(a,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),At(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:wo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function kv(a,e,r="/"){return H1(a,e,r,!1)}function H1(a,e,r,s){let o=typeof e=="string"?nl(e):e,u=ha(o.pathname||"/",r);if(u==null)return null;let h=Lv(a);F1(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let g=tT(u);m=J1(h[y],g,s)}return m}function Lv(a,e=[],r=[],s="",o=!1){let u=(h,m,y=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;At(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=ua([s,E.relativePath]),x=r.concat(E);h.children&&h.children.length>0&&(At(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Lv(h.children,e,x,w,y)),!(h.path==null&&!h.index)&&e.push({path:w,score:Z1(w,h.index),routesMeta:x})};return a.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let y of Uv(h.path))u(h,m,!0,y)}),e}function Uv(a){let e=a.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Uv(s.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>a.startsWith("/")&&y===""?"/":y)}function F1(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:W1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var G1=/^:[\w-]+$/,Q1=3,$1=2,Y1=1,K1=10,X1=-2,c0=a=>a==="*";function Z1(a,e){let r=a.split("/"),s=r.length;return r.some(c0)&&(s+=X1),e&&(s+=$1),r.filter(o=>!c0(o)).reduce((o,u)=>o+(G1.test(u)?Q1:u===""?Y1:K1),s)}function W1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function J1(a,e,r=!1){let{routesMeta:s}=a,o={},u="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=wc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),x=y.route;if(!w&&g&&r&&!s[s.length-1].route.index&&(w=wc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ua([u,w.pathname]),pathnameBase:iT(ua([u,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(u=ua([u,w.pathnameBase]))}return h}function wc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=eT(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},x)=>{if(E==="*"){let L=m[x]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const N=m[x];return w&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:a}}function eT(a,e=!1,r=!0){Or(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ha(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function nT(a,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof a=="string"?nl(a):a;return{pathname:r?r.startsWith("/")?r:rT(r,e):e,search:sT(s),hash:lT(o)}}function rT(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function hd(a,e,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aT(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zv(a){let e=aT(a);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function jv(a,e,r,s=!1){let o;typeof a=="string"?o=nl(a):(o={...a},At(!o.pathname||!o.pathname.includes("?"),hd("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),hd("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),hd("#","search","hash",o)));let u=a===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=r;else{let w=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}m=w>=0?e[w]:"/"}let y=nT(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var ua=a=>a.join("/").replace(/\/\/+/g,"/"),iT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),sT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,lT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function oT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Bv=["POST","PUT","PATCH","DELETE"];new Set(Bv);var uT=["GET",...Bv];new Set(uT);var rl=B.createContext(null);rl.displayName="DataRouter";var Hc=B.createContext(null);Hc.displayName="DataRouterState";B.createContext(!1);var qv=B.createContext({isTransitioning:!1});qv.displayName="ViewTransition";var cT=B.createContext(new Map);cT.displayName="Fetchers";var fT=B.createContext(null);fT.displayName="Await";var Mr=B.createContext(null);Mr.displayName="Navigation";var Io=B.createContext(null);Io.displayName="Location";var Pr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Wd=B.createContext(null);Wd.displayName="RouteError";function hT(a,{relative:e}={}){At(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=B.useContext(Mr),{hash:o,pathname:u,search:h}=Mo(a,{relative:e}),m=u;return r!=="/"&&(m=u==="/"?r:ua([r,u])),s.createHref({pathname:m,search:h,hash:o})}function Vo(){return B.useContext(Io)!=null}function li(){return At(Vo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Io).location}var Hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fv(a){B.useContext(Mr).static||B.useLayoutEffect(a)}function Gv(){let{isDataRoute:a}=B.useContext(Pr);return a?xT():dT()}function dT(){At(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let a=B.useContext(rl),{basename:e,navigator:r}=B.useContext(Mr),{matches:s}=B.useContext(Pr),{pathname:o}=li(),u=JSON.stringify(zv(s)),h=B.useRef(!1);return Fv(()=>{h.current=!0}),B.useCallback((y,g={})=>{if(Or(h.current,Hv),!h.current)return;if(typeof y=="number"){r.go(y);return}let E=jv(y,JSON.parse(u),o,g.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ua([e,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[e,r,u,o,a])}B.createContext(null);function mT(){let{matches:a}=B.useContext(Pr),e=a[a.length-1];return e?e.params:{}}function Mo(a,{relative:e}={}){let{matches:r}=B.useContext(Pr),{pathname:s}=li(),o=JSON.stringify(zv(r));return B.useMemo(()=>jv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function pT(a,e){return Qv(a,e)}function Qv(a,e,r,s,o){At(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Mr),{matches:h}=B.useContext(Pr),m=h[h.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let ee=w&&w.path||"";$v(g,!w||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let x=li(),N;if(e){let ee=typeof e=="string"?nl(e):e;At(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),N=ee}else N=x;let L=N.pathname||"/",q=L;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");q="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let I=kv(a,{pathname:q});Or(w||I!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Or(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=ET(I&&I.map(ee=>Object.assign({},ee,{params:Object.assign({},y,ee.params),pathname:ua([E,u.encodeLocation?u.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:ua([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),h,r,s,o);return e&&J?B.createElement(Io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function gT(){let a=AT(),e=oT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:o},r):null,h)}var yT=B.createElement(gT,null),vT=class extends B.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?B.createElement(Pr.Provider,{value:this.props.routeContext},B.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _T({routeContext:a,match:e,children:r}){let s=B.useContext(rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Pr.Provider,{value:a},r)}function ET(a,e=[],r=null,s=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,h=r?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);At(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,y=-1;if(r)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:w,errors:x}=r,N=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||N){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,E,w)=>{let x,N=!1,L=null,q=null;r&&(x=h&&E.route.id?h[E.route.id]:void 0,L=E.route.errorElement||yT,m&&(y<0&&w===0?($v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,q=null):y===w&&(N=!0,q=E.route.hydrateFallbackElement||null)));let I=e.concat(u.slice(0,w+1)),J=()=>{let ee;return x?ee=L:N?ee=q:E.route.Component?ee=B.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=g,B.createElement(_T,{match:E,routeContext:{outlet:g,matches:I,isDataRoute:r!=null},children:ee})};return r&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?B.createElement(vT,{location:r.location,revalidation:r.revalidation,component:L,error:x,children:J(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:s}):J()},null)}function Jd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(a){let e=B.useContext(rl);return At(e,Jd(a)),e}function TT(a){let e=B.useContext(Hc);return At(e,Jd(a)),e}function wT(a){let e=B.useContext(Pr);return At(e,Jd(a)),e}function em(a){let e=wT(a),r=e.matches[e.matches.length-1];return At(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function ST(){return em("useRouteId")}function AT(){let a=B.useContext(Wd),e=TT("useRouteError"),r=em("useRouteError");return a!==void 0?a:e.errors?.[r]}function xT(){let{router:a}=bT("useNavigate"),e=em("useNavigate"),r=B.useRef(!1);return Fv(()=>{r.current=!0}),B.useCallback(async(o,u={})=>{Or(r.current,Hv),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var f0={};function $v(a,e,r){!e&&!f0[a]&&(f0[a]=!0,Or(!1,r))}B.memo(RT);function RT({routes:a,future:e,state:r,unstable_onError:s}){return Qv(a,void 0,r,s,e)}function $a(a){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:a="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){At(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=nl(r));let{pathname:y="/",search:g="",hash:E="",state:w=null,key:x="default"}=r,N=B.useMemo(()=>{let L=ha(y,h);return L==null?null:{location:{pathname:L,search:g,hash:E,state:w,key:x},navigationType:s}},[h,y,g,E,w,x,s]);return Or(N!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:B.createElement(Mr.Provider,{value:m},B.createElement(Io.Provider,{children:e,value:N}))}function CT({children:a,location:e}){return pT(Cd(a),e)}function Cd(a,e=[]){let r=[];return B.Children.forEach(a,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){r.push.apply(r,Cd(s.props.children,u));return}At(s.type===$a,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Cd(s.props.children,u)),r.push(h)}),r}var pc="get",gc="application/x-www-form-urlencoded";function Fc(a){return a!=null&&typeof a.tagName=="string"}function DT(a){return Fc(a)&&a.tagName.toLowerCase()==="button"}function OT(a){return Fc(a)&&a.tagName.toLowerCase()==="form"}function IT(a){return Fc(a)&&a.tagName.toLowerCase()==="input"}function VT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function MT(a,e){return a.button===0&&(!e||e==="_self")&&!VT(a)}var oc=null;function PT(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var kT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(a){return a!=null&&!kT.has(a)?(Or(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):a}function LT(a,e){let r,s,o,u,h;if(OT(a)){let m=a.getAttribute("action");s=m?ha(m,e):null,r=a.getAttribute("method")||pc,o=dd(a.getAttribute("enctype"))||gc,u=new FormData(a)}else if(DT(a)||IT(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||m.getAttribute("action");if(s=y?ha(y,e):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||pc,o=dd(a.getAttribute("formenctype"))||dd(m.getAttribute("enctype"))||gc,u=new FormData(m,a),!PT()){let{name:g,type:E,value:w}=a;if(E==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,w)}}else{if(Fc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pc,s=null,o=gc,h=a}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function UT(a,e,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&ha(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function zT(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function BT(a,e,r){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await zT(u,r);return h.links?h.links():[]}return[]}));return GT(s.flat(1).filter(jT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h0(a,e,r,s,o,u){let h=(y,g)=>r[g]?y.route.id!==r[g].route.id:!0,m=(y,g)=>r[g].pathname!==y.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>h(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(h(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function qT(a,e,{includeHydrateFallback:r}={}){return HT(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HT(a){return[...new Set(a)]}function FT(a){let e={},r=Object.keys(a).sort();for(let s of r)e[s]=a[s];return e}function GT(a,e){let r=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(FT(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function Yv(){let a=B.useContext(rl);return tm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function QT(){let a=B.useContext(Hc);return tm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var nm=B.createContext(void 0);nm.displayName="FrameworkContext";function Kv(){let a=B.useContext(nm);return tm(a,"You must render this element inside a <HydratedRouter> element"),a}function $T(a,e){let r=B.useContext(nm),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,x=B.useRef(null);B.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let q=J=>{J.forEach(ee=>{h(ee.isIntersecting)})},I=new IntersectionObserver(q,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[a]),B.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let N=()=>{o(!0)},L=()=>{o(!1),h(!1)};return r?a!=="intent"?[u,x,{}]:[u,x,{onFocus:ho(m,N),onBlur:ho(y,L),onMouseEnter:ho(g,N),onMouseLeave:ho(E,L),onTouchStart:ho(w,N)}]:[!1,x,{}]}function ho(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function YT({page:a,...e}){let{router:r}=Yv(),s=B.useMemo(()=>kv(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?B.createElement(XT,{page:a,matches:s,...e}):null}function KT(a){let{manifest:e,routeModules:r}=Kv(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return BT(a,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[a,e,r]),s}function XT({page:a,matches:e,...r}){let s=li(),{manifest:o,routeModules:u}=Kv(),{basename:h}=Yv(),{loaderData:m,matches:y}=QT(),g=B.useMemo(()=>h0(a,e,y,o,s,"data"),[a,e,y,o,s]),E=B.useMemo(()=>h0(a,e,y,o,s,"assets"),[a,e,y,o,s]),w=B.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,q=!1;if(e.forEach(J=>{let ee=o.routes[J.route.id];!ee||!ee.hasLoader||(!g.some(Q=>Q.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||ee.hasClientLoader?q=!0:L.add(J.route.id))}),L.size===0)return[];let I=UT(a,h,"data");return q&&L.size>0&&I.searchParams.set("_routes",e.filter(J=>L.has(J.route.id)).map(J=>J.route.id).join(",")),[I.pathname+I.search]},[h,m,s,o,g,e,a,u]),x=B.useMemo(()=>qT(E,o),[E,o]),N=KT(E);return B.createElement(B.Fragment,null,w.map(L=>B.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...r})),x.map(L=>B.createElement("link",{key:L,rel:"modulepreload",href:L,...r})),N.map(({key:L,link:q})=>B.createElement("link",{key:L,nonce:r.nonce,...q})))}function ZT(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xv&&(window.__reactRouterVersion="7.9.1")}catch{}function WT({basename:a,children:e,window:r}){let s=B.useRef();s.current==null&&(s.current=z1({window:r,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),m=B.useCallback(y=>{B.startTransition(()=>h(y))},[h]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(NT,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,al=B.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:g,preventScrollReset:E,viewTransition:w,...x},N){let{basename:L}=B.useContext(Mr),q=typeof g=="string"&&Zv.test(g),I,J=!1;if(typeof g=="string"&&q&&(I=g,Xv))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ha(M.pathname,L);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:J=!0}catch{Or(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=hT(g,{relative:o}),[Q,W,ce]=$T(s,x),de=tw(g,{replace:h,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:w});function V(R){e&&e(R),R.defaultPrevented||de(R)}let A=B.createElement("a",{...x,...ce,href:I||ee,onClick:J||u?e:V,ref:ZT(N,W),target:y,"data-discover":!q&&r==="render"?"true":void 0});return Q&&!q?B.createElement(B.Fragment,null,A,B.createElement(YT,{page:ee})):A});al.displayName="Link";var zs=B.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...g},E){let w=Mo(h,{relative:g.relative}),x=li(),N=B.useContext(Hc),{navigator:L,basename:q}=B.useContext(Mr),I=N!=null&&sw(w)&&m===!0,J=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,ee=x.pathname,Q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(ee=ee.toLowerCase(),Q=Q?Q.toLowerCase():null,J=J.toLowerCase()),Q&&q&&(Q=ha(Q,q)||Q);const W=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ce=ee===J||!o&&ee.startsWith(J)&&ee.charAt(W)==="/",de=Q!=null&&(Q===J||!o&&Q.startsWith(J)&&Q.charAt(J.length)==="/"),V={isActive:ce,isPending:de,isTransitioning:I},A=ce?e:void 0,R;typeof s=="function"?R=s(V):R=[s,ce?"active":null,de?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(V):u;return B.createElement(al,{...g,"aria-current":A,className:R,ref:E,style:M,to:h,viewTransition:m},typeof y=="function"?y(V):y)});zs.displayName="NavLink";var JT=B.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:h=pc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:w,...x},N)=>{let L=aw(),q=iw(m,{relative:g}),I=h.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&Zv.test(m),ee=Q=>{if(y&&y(Q),Q.defaultPrevented)return;Q.preventDefault();let W=Q.nativeEvent.submitter,ce=W?.getAttribute("formmethod")||h;L(W||Q.currentTarget,{fetcherKey:e,method:ce,navigate:r,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return B.createElement("form",{ref:N,method:I,action:q,onSubmit:s?y:ee,...x,"data-discover":!J&&a==="render"?"true":void 0})});JT.displayName="Form";function ew(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wv(a){let e=B.useContext(rl);return At(e,ew(a)),e}function tw(a,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Gv(),y=li(),g=Mo(a,{relative:u});return B.useCallback(E=>{if(MT(E,e)){E.preventDefault();let w=r!==void 0?r:wo(y)===wo(g);m(a,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[y,m,g,r,s,e,a,o,u,h])}var nw=0,rw=()=>`__${String(++nw)}__`;function aw(){let{router:a}=Wv("useSubmit"),{basename:e}=B.useContext(Mr),r=ST();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:y,body:g}=LT(s,e);if(o.navigate===!1){let E=o.fetcherKey||rw();await a.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,r])}function iw(a,{relative:e}={}){let{basename:r}=B.useContext(Mr),s=B.useContext(Pr);At(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mo(a||".",{relative:e})},h=li();if(a==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ua([r,u.pathname])),wo(u)}function sw(a,{relative:e}={}){let r=B.useContext(qv);At(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Wv("useViewTransitionState"),o=Mo(a,{relative:e});if(!r.isTransitioning)return!1;let u=ha(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=ha(r.nextLocation.pathname,s)||r.nextLocation.pathname;return wc(o.pathname,h)!=null||wc(o.pathname,u)!=null}const lw="modulepreload",ow=function(a){return"/Ecommerce/"+a},d0={},ya=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let y=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=y(r.map(g=>{if(g=ow(g),g in d0)return;d0[g]=!0;const E=g.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":lw,E||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),E)return new Promise((N,L)=>{x.addEventListener("load",N),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},uw=()=>{};var m0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(a){const e=[];let r=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},cw=function(a){const e=[];let r=0,s=0;for(;r<a.length;){const o=a[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],h=a[r++],m=a[r++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=a[r++],h=a[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,m=h?a[o+1]:0,y=o+2<a.length,g=y?a[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,N=g&63;y||(N=64,h||(x=64)),s.push(r[E],r[w],r[x],r[N])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Jv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):cw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],m=o<a.length?r[a.charAt(o)]:0;++o;const g=o<a.length?r[a.charAt(o)]:64;++o;const w=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new fw;const x=u<<2|m>>4;if(s.push(x),g!==64){const N=m<<4&240|g>>2;if(s.push(N),w!==64){const L=g<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hw=function(a){const e=Jv(a);return e_.encodeByteArray(e,!0)},Sc=function(a){return hw(a).replace(/\./g,"")},dw=function(a){try{return e_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=()=>mw().__FIREBASE_DEFAULTS__,gw=()=>{if(typeof process>"u"||typeof m0>"u")return;const a=m0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},yw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&dw(a[1]);return e&&JSON.parse(e)},rm=()=>{try{return uw()||pw()||gw()||yw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},vw=a=>rm()?.emulatorHosts?.[a],t_=a=>{const e=vw(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},n_=()=>rm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Sc(JSON.stringify(r)),Sc(JSON.stringify(h)),""].join(".")}const vo={};function Ew(){const a={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?a.emulator.push(e):a.prod.push(e);return a}function bw(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let p0=!1;function i_(a,e){if(typeof window>"u"||typeof document>"u"||!Gc(window.location.host)||vo[a]===e||vo[a]||p0)return;vo[a]=e;function r(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Ew().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{p0=!0,h()},x}function E(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=bw(s),N=r("text"),L=document.getElementById(N)||document.createElement("span"),q=r("learnmore"),I=document.getElementById(q)||document.createElement("a"),J=r("preprendIcon"),ee=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Q=x.element;m(Q),E(I,q);const W=g();y(ee,J),Q.append(ee,L,I,W),document.body.appendChild(Q)}u?(L.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ww(){const a=rm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sw(){return!ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aw(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((a,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="FirebaseError";class Qi extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Rw,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s_.prototype.create)}}class s_{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Nw(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,s)}}function Nw(a,e){return a.replace(Cw,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Cw=/\{\$([^}]+)}/g;function Ac(a,e){if(a===e)return!0;const r=Object.keys(a),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=a[o],h=e[o];if(g0(u)&&g0(h)){if(!Ac(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function g0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(a){return a&&a._delegate?a._delegate:a}class $s{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new _w;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iw(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(a){return a===Bi?void 0:a}function Iw(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Dw(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Je||(Je={}));const Mw={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},Pw=Je.INFO,kw={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Lw=(a,e,...r)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=kw[e];if(o)console[o](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=Pw,this._logHandler=Lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Uw=(a,e)=>e.some(r=>a instanceof r);let y0,v0;function zw(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,Dd=new WeakMap,u_=new WeakMap,md=new WeakMap,am=new WeakMap;function Bw(a){const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{r(Ka(a.result)),o()},h=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&o_.set(r,a)}).catch(()=>{}),am.set(e,a),e}function qw(a){if(Dd.has(a))return;const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Dd.set(a,e)}let Od={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return Dd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||u_.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ka(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Hw(a){Od=a(Od)}function Fw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=a.call(pd(this),e,...r);return u_.set(s,e.sort?e.sort():[e]),Ka(s)}:jw().includes(a)?function(...e){return a.apply(pd(this),e),Ka(o_.get(this))}:function(...e){return Ka(a.apply(pd(this),e))}}function Gw(a){return typeof a=="function"?Fw(a):(a instanceof IDBTransaction&&qw(a),Uw(a,zw())?new Proxy(a,Od):a)}function Ka(a){if(a instanceof IDBRequest)return Bw(a);if(md.has(a))return md.get(a);const e=Gw(a);return e!==a&&(md.set(a,e),am.set(e,a)),e}const pd=a=>am.get(a);function Qw(a,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(a,e),m=Ka(h);return s&&h.addEventListener("upgradeneeded",y=>{s(Ka(h.result),y.oldVersion,y.newVersion,Ka(h.transaction),y)}),r&&h.addEventListener("blocked",y=>r(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const $w=["get","getKey","getAll","getAllKeys","count"],Yw=["put","add","delete","clear"],gd=new Map;function _0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=Yw.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$w.includes(r)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[r](...m),o&&y.done]))[0]};return gd.set(e,u),u}Hw(a=>({...a,get:(e,r,s)=>_0(e,r)||a.get(e,r,s),has:(e,r)=>!!_0(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xw(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Xw(a){return a.getComponent()?.type==="VERSION"}const Id="@firebase/app",E0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new l_("@firebase/app"),Zw="@firebase/app-compat",Ww="@firebase/analytics-compat",Jw="@firebase/analytics",eS="@firebase/app-check-compat",tS="@firebase/app-check",nS="@firebase/auth",rS="@firebase/auth-compat",aS="@firebase/database",iS="@firebase/data-connect",sS="@firebase/database-compat",lS="@firebase/functions",oS="@firebase/functions-compat",uS="@firebase/installations",cS="@firebase/installations-compat",fS="@firebase/messaging",hS="@firebase/messaging-compat",dS="@firebase/performance",mS="@firebase/performance-compat",pS="@firebase/remote-config",gS="@firebase/remote-config-compat",yS="@firebase/storage",vS="@firebase/storage-compat",_S="@firebase/firestore",ES="@firebase/ai",bS="@firebase/firestore-compat",TS="firebase",wS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",SS={[Id]:"fire-core",[Zw]:"fire-core-compat",[Jw]:"fire-analytics",[Ww]:"fire-analytics-compat",[tS]:"fire-app-check",[eS]:"fire-app-check-compat",[nS]:"fire-auth",[rS]:"fire-auth-compat",[aS]:"fire-rtdb",[iS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[lS]:"fire-fn",[oS]:"fire-fn-compat",[uS]:"fire-iid",[cS]:"fire-iid-compat",[fS]:"fire-fcm",[hS]:"fire-fcm-compat",[dS]:"fire-perf",[mS]:"fire-perf-compat",[pS]:"fire-rc",[gS]:"fire-rc-compat",[yS]:"fire-gcs",[vS]:"fire-gcs-compat",[_S]:"fire-fst",[bS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,AS=new Map,Md=new Map;function b0(a,e){try{a.container.addComponent(e)}catch(r){da.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function So(a){const e=a.name;if(Md.has(e))return da.debug(`There were multiple attempts to register component ${e}.`),!1;Md.set(e,a);for(const r of xc.values())b0(r,a);for(const r of AS.values())b0(r,a);return!0}function c_(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function f_(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new s_("app","Firebase",xS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=wS;function d_(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const s={name:Vd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(r||(r=n_()),!r)throw Xa.create("no-options");const u=xc.get(o);if(u){if(Ac(r,u.options)&&Ac(s,u.config))return u;throw Xa.create("duplicate-app",{appName:o})}const h=new Vw(o);for(const y of Md.values())h.addComponent(y);const m=new RS(r,s,h);return xc.set(o,m),m}function m_(a=Vd){const e=xc.get(a);if(!e&&a===Vd&&n_())return d_();if(!e)throw Xa.create("no-app",{appName:a});return e}function Za(a,e,r){let s=SS[a]??a;r&&(s+=`-${r}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),da.warn(h.join(" "));return}So(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebase-heartbeat-database",CS=1,Ao="firebase-heartbeat-store";let yd=null;function p_(){return yd||(yd=Qw(NS,CS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ao)}catch(r){console.warn(r)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),yd}async function DS(a){try{const r=(await p_()).transaction(Ao),s=await r.objectStore(Ao).get(g_(a));return await r.done,s}catch(e){if(e instanceof Qi)da.warn(e.message);else{const r=Xa.create("idb-get",{originalErrorMessage:e?.message});da.warn(r.message)}}}async function T0(a,e){try{const s=(await p_()).transaction(Ao,"readwrite");await s.objectStore(Ao).put(e,g_(a)),await s.done}catch(r){if(r instanceof Qi)da.warn(r.message);else{const s=Xa.create("idb-set",{originalErrorMessage:r?.message});da.warn(s.message)}}}function g_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,IS=30;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=w0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>IS){const o=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){da.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:r,unsentEntries:s}=MS(this._heartbeatsCache.heartbeats),o=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return da.warn(e),""}}}function w0(){return new Date().toISOString().substring(0,10)}function MS(a,e=OS){const r=[];let s=a.slice();for(const o of a){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),S0(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),S0(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aw()?xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await DS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S0(a){return Sc(JSON.stringify({version:2,heartbeats:a})).length}function kS(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(a){So(new $s("platform-logger",e=>new Kw(e),"PRIVATE")),So(new $s("heartbeat",e=>new VS(e),"PRIVATE")),Za(Id,E0,a),Za(Id,E0,"esm2020"),Za("fire-js","")}LS("");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,y_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function R(){}R.prototype=A.prototype,V.D=A.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,P,U){for(var C=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)C[Qe-2]=arguments[Qe];return A.prototype[P].apply(M,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)M[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=V.g[0],R=V.g[1],P=V.g[2];var U=V.g[3],C=A+(U^R&(P^U))+M[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+M[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+M[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+M[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+M[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+M[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+M[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+M[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+M[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(P^U&(R^P))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+M[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+M[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+M[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+M[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+M[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+M[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+M[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+M[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(R^P^U)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+M[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+M[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+M[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+M[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+M[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+M[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+M[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+M[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(P^(R|~U))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+M[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+M[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+M[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+M[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+M[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+M[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+M[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+M[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var R=A-this.blockSize,M=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=R;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<A;)if(M[P++]=V.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<A;)if(M[P++]=V[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var R=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=R&255,R/=256;for(this.u(V),V=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)V[R++]=this.g[A]>>>M&255;return V};function u(V,A){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=A(V)}function h(V,A){this.h=A;for(var R=[],M=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;M&&U==A||(R[P]=U,M=!1)}this.g=R}var m={};function y(V){return-128<=V&&128>V?u(V,function(A){return new h([A|0],0>A?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return I(g(-V));for(var A=[],R=1,M=0;V>=R;M++)A[M]=V/R|0,R*=4294967296;return new h(A,0)}function E(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return I(E(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),M=w,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),C=parseInt(V.substring(P,P+U),A);8>U?(U=g(Math.pow(A,U)),M=M.j(U).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var w=y(0),x=y(1),N=y(16777216);a=h.prototype,a.m=function(){if(q(this))return-I(this).m();for(var V=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*A,A*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(q(this))return"-"+I(this).toString(V);for(var A=g(Math.pow(V,6)),R=this,M="";;){var P=W(R,A).g;R=J(R,P.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,L(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function q(V){return V.h==-1}a.l=function(V){return V=J(this,V),q(V)?-1:L(V)?0:1};function I(V){for(var A=V.g.length,R=[],M=0;M<A;M++)R[M]=~V.g[M];return new h(R,~V.h).add(x)}a.abs=function(){return q(this)?I(this):this},a.add=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],M=0,P=0;P<=A;P++){var U=M+(this.i(P)&65535)+(V.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);M=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(V,A){return V.add(I(A))}a.j=function(V){if(L(this)||L(V))return w;if(q(this))return q(V)?I(this).j(I(V)):I(I(this).j(V));if(q(V))return I(this.j(I(V)));if(0>this.l(N)&&0>V.l(N))return g(this.m()*V.m());for(var A=this.g.length+V.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<V.g.length;P++){var U=this.i(M)>>>16,C=this.i(M)&65535,Qe=V.i(P)>>>16,$e=V.i(P)&65535;R[2*M+2*P]+=C*$e,ee(R,2*M+2*P),R[2*M+2*P+1]+=U*$e,ee(R,2*M+2*P+1),R[2*M+2*P+1]+=C*Qe,ee(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Qe,ee(R,2*M+2*P+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new h(R,0)};function ee(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function Q(V,A){this.g=V,this.h=A}function W(V,A){if(L(A))throw Error("division by zero");if(L(V))return new Q(w,w);if(q(V))return A=W(I(V),A),new Q(I(A.g),I(A.h));if(q(A))return A=W(V,I(A)),new Q(I(A.g),A.h);if(30<V.g.length){if(q(V)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=A;0>=M.l(V);)R=ce(R),M=ce(M);var P=de(R,1),U=de(M,1);for(M=de(M,2),R=de(R,2);!L(M);){var C=U.add(M);0>=C.l(V)&&(P=P.add(R),U=C),M=de(M,1),R=de(R,1)}return A=J(V,P.j(A)),new Q(P,A)}for(P=w;0<=V.l(A);){for(R=Math.max(1,Math.floor(V.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),C=U.j(A);q(C)||0<C.l(V);)R-=M,U=g(R),C=U.j(A);L(U)&&(U=x),P=P.add(U),V=J(V,C)}return new Q(P,V)}a.A=function(V){return W(this,V).h},a.and=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&V.i(M);return new h(R,this.h&V.h)},a.or=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|V.i(M);return new h(R,this.h|V.h)},a.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^V.i(M);return new h(R,this.h^V.h)};function ce(V){for(var A=V.g.length+1,R=[],M=0;M<A;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new h(R,V.h)}function de(V,A){var R=A>>5;A%=32;for(var M=V.g.length-R,P=[],U=0;U<M;U++)P[U]=0<A?V.i(U+R)>>>A|V.i(U+R+1)<<32-A:V.i(U+R);return new h(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,y_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Wa=h}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v_,mo,__,yc,Pd,E_,b_,T_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=r(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var X=_++;return{value:p(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function w(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(p,H)}}return function(){return c.apply(p,arguments)}}function x(c,p,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,x.apply(null,arguments)}function N(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,X){for(var ge=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ge[Ke-2]=arguments[Ke];return p.prototype[H].apply(S,ge)}}function q(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function I(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const H=c.length||0,X=S.length||0;c.length=H+X;for(let ge=0;ge<X;ge++)c[H+ge]=S[ge]}else c.push(S)}}class J{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var ce=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function de(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function V(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,p){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Le;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Qe{constructor(){this.h=this.g=null}add(p,_){const S=$e.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var $e=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,we=!1,Le=new Qe,O=()=>{const c=m.Promise.resolve(void 0);me=()=>{c.then(ae)}};var ae=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var p=$e;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}we=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ce(c,p){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ce){e:{try{W(p.nodeName);var H=!0;break e}catch{}H=!1}H||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}L(Ce,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function mn(c,p,_,S,H){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=H,this.key=++Ye,this.da=this.fa=!1}function rn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c){this.src=c,this.g={},this.h=0}pt.prototype.add=function(c,p,_,S,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ge=Rt(c,p,S,H);return-1<ge?(p=c[ge],_||(p.fa=!1)):(p=new mn(p,this.src,X,!!S,H),p.fa=_,c.push(p)),p};function Pt(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,p,void 0),X;(X=0<=H)&&Array.prototype.splice.call(S,H,1),X&&(rn(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rt(c,p,_,S){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==p&&X.capture==!!_&&X.ha==S)return H}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),va={};function ui(c,p,_,S,H){if(Array.isArray(p)){for(var X=0;X<p.length;X++)ui(c,p[X],_,S,H);return null}return _=he(_),c&&c[wt]?c.K(p,_,g(S)?!!S.capture:!1,H):Sn(c,p,_,!1,S,H)}function Sn(c,p,_,S,H,X){if(!p)throw Error("Invalid event type");var ge=g(H)?!!H.capture:!!H,Ke=cr(c);if(Ke||(c[Lr]=Ke=new pt(c)),_=Ke.add(p,_,S,ge,X),_.proxy)return _;if(S=_a(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ee||(H=ge),H===void 0&&(H=!1),c.addEventListener(p.toString(),S,H);else if(c.attachEvent)c.attachEvent(er(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _a(){function c(_){return p.call(c.src,c.listener,_)}const p=Ea;return c}function ci(c,p,_,S,H){if(Array.isArray(p))for(var X=0;X<p.length;X++)ci(c,p[X],_,S,H);else S=g(S)?!!S.capture:!!S,_=he(_),c&&c[wt]?(c=c.i,p=String(p).toString(),p in c.g&&(X=c.g[p],_=Rt(X,_,S,H),-1<_&&(rn(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[p],c.h--)))):c&&(c=cr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Rt(p,_,S,H)),(_=-1<c?p[c]:null)&&Ur(_))}function Ur(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[wt])Pt(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(er(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=cr(p))?(Pt(_,c),_.h==0&&(_.src=null,p[Lr]=null)):rn(c)}}}function er(c){return c in va?va[c]:va[c]="on"+c}function Ea(c,p){if(c.da)c=!0;else{p=new Ce(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ur(c),c=_.call(S,p)}return c}function cr(c){return c=c[Lr],c instanceof pt?c:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(c){return typeof c=="function"?c:(c[fi]||(c[fi]=function(p){return c.handleEvent(p)}),c[fi])}function j(){pe.call(this),this.i=new pt(this),this.M=this,this.F=null}L(j,pe),j.prototype[wt]=!0,j.prototype.removeEventListener=function(c,p,_,S){ci(this,c,p,_,S)};function ne(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new oe(p,c);else if(p instanceof oe)p.target=p.target||c;else{var H=p;p=new oe(S,c),M(p,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var ge=p.g=_[X];H=fe(ge,S,!0,p)&&H}if(ge=p.g=c,H=fe(ge,S,!0,p)&&H,H=fe(ge,S,!1,p)&&H,_)for(X=0;X<_.length;X++)ge=p.g=_[X],H=fe(ge,S,!1,p)&&H}j.prototype.N=function(){if(j.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)rn(_[S]);delete c.g[p],c.h--}}this.F=null},j.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},j.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function fe(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,X=0;X<p.length;++X){var ge=p[X];if(ge&&!ge.da&&ge.capture==_){var Ke=ge.listener,Ft=ge.ha||ge.src;ge.fa&&Pt(c.i,ge),H=Ke.call(Ft,S)!==!1&&H}}return H&&!S.defaultPrevented}function Ne(c,p,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Ue(c){c.g=Ne(()=>{c.g=null,c.i&&(c.i=!1,Ue(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class et extends pe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(c){pe.call(this),this.h=c,this.g={}}L(Z,pe);var ie=[];function be(c){de(c.g,function(p,_){this.g.hasOwnProperty(_)&&Ur(p)},c),c.g={}}Z.prototype.N=function(){Z.aa.N.call(this),be(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=m.JSON.stringify,_e=m.JSON.parse,Me=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function lt(){}lt.prototype.h=null;function ot(c){return c.h||(c.h=c.i())}function nt(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){oe.call(this,"d")}L(at,oe);function Nt(){oe.call(this,"c")}L(Nt,oe);var an={},Cn=null;function Dn(){return Cn=Cn||new j}an.La="serverreachability";function zr(c){oe.call(this,an.La,c)}L(zr,oe);function tr(c){const p=Dn();ne(p,new zr(p))}an.STAT_EVENT="statevent";function Bo(c,p){oe.call(this,an.STAT_EVENT,c),this.stat=p}L(Bo,oe);function bt(c){const p=Dn();ne(p,new Bo(p,c))}an.Ma="timingevent";function Ht(c,p){oe.call(this,an.Ma,c),this.size=p}L(Ht,oe);function kt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function fl(c,p,_,S,H,X){c.info(function(){if(c.g)if(X)for(var ge="",Ke=X.split("&"),Ft=0;Ft<Ke.length;Ft++){var Xe=Ke[Ft].split("=");if(1<Xe.length){var Wt=Xe[0];Xe=Xe[1];var Gt=Wt.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(Wt+"="+Xe+"&"):ge+(Wt+"=redacted&")}}else ge=null;else ge=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+p+`
`+_+`
`+ge})}function cf(c,p,_,S,H,X,ge){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+p+`
`+_+`
`+X+" "+ge})}function ba(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+hi(c,_)+(S?" "+S:"")})}function qo(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function hi(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return ve(_)}catch{return p}}var Ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function hr(){}L(hr,lt),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},fr=new hr;function En(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var hl={},Zi={};function nr(c,p,_){c.L=1,c.v=yi(On(p)),c.m=_,c.P=!0,Br(c,null)}function Br(c,p){c.F=Date.now(),di(c),c.A=On(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),vl(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ot,c.g=au(c.j,_?p:null,!c.m),0<c.O&&(c.M=new et(x(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ie[0]=H.toString()),H=ie);for(var X=0;X<H.length;X++){var ge=ui(_,H[X],S||p.handleEvent,!1,p.h||p);if(!ge)break;p.g[ge.key]=ge}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),tr(),fl(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const p=this.M;p&&Hn(c)==3?p.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=Hn(this.g);var p=this.g.Ba();const Kr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||Gt!=4||p==7||(p==8||0>=Kr?tr(3):tr(2)),wa(this);var _=this.g.Z();this.X=_;t:if(Ho(this)){var S=Xo(this.g);c="";var H=S.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),dr(this);var ge="";break t}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(X&&p==H-1)});S.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,cf(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ft=this.g;if((Ke=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ke)){var Xe=Ke;break t}}Xe=null}if(_=Xe)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mi(this,_);else{this.o=!1,this.s=3,bt(12),sn(this),dr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<ge.length;)if(ln=Fo(this,ge),ln==Zi){Gt==4&&(this.s=4,bt(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==hl){this.s=4,bt(15),ba(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,ln,null),mi(this,ln);if(Ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,bt(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,ge,"[Invalid Chunked Response]"),sn(this),dr(this);else if(0<ge.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ai(Wt),Wt.M=!0,bt(11))}}else ba(this.i,this.l,ge,null),mi(this,ge);Gt==4&&sn(this),this.o&&!this.J&&(Gt==4?tu(this.j,this):(this.o=!1,di(this)))}else pf(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),sn(this),dr(this)}}}catch{}finally{}};function Ho(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fo(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?Zi:(_=Number(p.substring(_,S)),isNaN(_)?hl:(S+=1,S+_>p.length?Zi:(p=p.slice(S,S+_),c.C=S+_,p)))}En.prototype.cancel=function(){this.J=!0,sn(this)};function di(c){c.S=Date.now()+c.I,Go(c,c.I)}function Go(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kt(x(c.ba,c),p)}function wa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qo(this.i,this.A),this.L!=2&&(tr(),bt(17)),sn(this),this.s=2,dr(this)):Go(this,this.S-c)};function dr(c){c.j.G==0||c.J||tu(c.j,c)}function sn(c){wa(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,be(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function mi(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||dl(_.h,c))){if(!c.K&&dl(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)us(_),ls(_);else break e;wl(_),bt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=kt(x(_.Za,_),6e3));if(1>=Ji(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yr(_,11)}else if((c.K||_.g==c)&&us(_),!ee(p))for(H=_.Da.g.parse(p),p=0;p<H.length;p++){let Xe=H[p];if(_.T=Xe[0],Xe=Xe[1],_.G==2)if(Xe[0]=="c"){_.K=Xe[1],_.ia=Xe[2];const Wt=Xe[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Gt=Xe[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const Kr=Xe[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(S=1.5*Kr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ln=c.g;if(ln){const Er=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var X=S.h;X.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(es(X,X.h),X.h=null))}if(S.D){const Al=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(S.ya=Al,ft(S.I,S.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ge=c;if(S.qa=ru(S,S.J?S.ia:null,S.W),ge.K){bn(S.h,ge);var Ke=ge,Ft=S.L;Ft&&(Ke.I=Ft),Ke.B&&(wa(Ke),di(Ke)),S.g=ge}else Jo(S);0<_.i.length&&os(_)}else Xe[0]!="stop"&&Xe[0]!="close"||Yr(_,7);else _.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Yr(_,7):bl(_):Xe[0]!="noop"&&_.l&&_.l.ta(Xe),_.v=0)}}tr(4)}catch{}}var Qo=class{constructor(c,p){this.g=c,this.map=p}};function qr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ji(c){return c.h?1:c.g?c.g.size:0}function dl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function es(c,p){c.g?c.g.add(p):c.h=p}function bn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}qr.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return q(c.i)}function ff(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function ts(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function pl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ts(c),S=ff(c),H=S.length,X=0;X<H;X++)p.call(void 0,S[X],_&&_[X],c)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var X=c[_].substring(0,S);H=c[_].substring(S+1)}else X=c[_];p(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Lt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lt){this.h=c.h,gi(this,c.j),this.o=c.o,this.g=c.g,Sa(this,c.s),this.l=c.l;var p=c.i,_=new Fr;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Hr(this,_),this.m=c.m}else c&&(p=String(c).match(pi))?(this.h=!1,gi(this,p[1]||"",!0),this.o=jn(p[2]||""),this.g=jn(p[3]||"",!0),Sa(this,p[4]),this.l=jn(p[5]||"",!0),Hr(this,p[6]||"",!0),this.m=jn(p[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}Lt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(vi(p,gl,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vi(p,gl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vi(_,_.charAt(0)=="/"?df:yl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vi(_,ns)),c.join("")};function On(c){return new Lt(c)}function gi(c,p,_){c.j=_?jn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Sa(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Hr(c,p,_){p instanceof Fr?(c.i=p,Yo(c.i,c.h)):(_||(p=vi(p,mf)),c.i=new Fr(p,c.h))}function ft(c,p,_){c.i.set(p,_)}function yi(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,$o),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $o(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,ns=/#/g;function Fr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}a=Fr.prototype,a.add=function(c,p){Bn(this),this.i=null,c=mr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Gr(c,p){Bn(c),p=mr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Qr(c,p){return Bn(c),p=mr(c,p),c.g.has(p)}a.forEach=function(c,p){Bn(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(p,H,S,this)},this)},this)},a.na=function(){Bn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const H=c[S];for(let X=0;X<H.length;X++)_.push(p[S])}return _},a.V=function(c){Bn(this);let p=[];if(typeof c=="string")Qr(this,c)&&(p=p.concat(this.g.get(mr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},a.set=function(c,p){return Bn(this),this.i=null,c=mr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function vl(c,p,_){Gr(c,p),0<_.length&&(c.i=null,c.g.set(mr(c,p),q(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const X=encodeURIComponent(String(S)),ge=this.V(S);for(S=0;S<ge.length;S++){var H=X;ge[S]!==""&&(H+="="+encodeURIComponent(String(ge[S]))),c.push(H)}}return this.i=c.join("&")};function mr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Yo(c,p){p&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Gr(this,S),vl(this,H,_))},c)),c.j=p}function _i(c,p){const _=new zn;if(m.Image){const S=new Image;S.onload=N(qn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=N(qn,_,"TestLoadImage: error",!1,p,S),S.onabort=N(qn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=N(qn,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function rr(c,p){const _=new zn,S=new AbortController,H=setTimeout(()=>{S.abort(),qn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?qn(_,"TestPingServer: ok",!0,p):qn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),qn(_,"TestPingServer: error",!1,p)})}function qn(c,p,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Ei(){this.g=new Me}function pr(c,p,_){const S=_||"";try{pl(c,function(H,X){let ge=H;g(H)&&(ge=ve(H)),p.push(S+X+"="+encodeURIComponent(ge))})}catch(H){throw p.push(S+"type="+encodeURIComponent("_badmap")),H}}function Aa(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Aa,lt),Aa.prototype.g=function(){return new $r(this.l,this.j)},Aa.prototype.i=(function(c){return function(){return c}})({});function $r(c,p){j.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L($r,j),a=$r.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,yr(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?gr(this):yr(this),this.readyState==3&&_l(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},a.Qa=function(c){this.g&&(this.response=c,gr(this))},a.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yr(c)}a.setRequestHeader=function(c,p){this.u.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function El(c){let p="";return de(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Zt(c,p,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=El(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ft(c,p,_))}function it(c){j.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(it,j);var rs=/^https?$/i,bi=["POST","PUT"];a=it.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?ot(this.o):ot(fr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(X){Ko(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bi,p,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ge]of _)this.g.setRequestHeader(X,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ti(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Ko(this,X)}};function Ko(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,as(c),vr(c)}function as(c){c.A||(c.A=!0,ne(c,"complete"),ne(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ne(this,"complete"),ne(this,"abort"),vr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),it.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?is(this):this.bb())},a.bb=function(){is(this)};function is(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Ne(c.Ea,0,c);else if(ne(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var S;if(S=ge===0){var H=String(c.D).match(pi)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!rs.test(H?H.toLowerCase():"")}_=S}if(_)ne(c,"complete"),ne(c,"success");else{c.m=6;try{var X=2<Hn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",as(c)}}finally{vr(c)}}}}function vr(c,p){if(c.g){Ti(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ne(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ti(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),_e(p)}};function Xo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const p={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var _=P(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=p[H]||[];p[H]=X,X.push(_)}V(p,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ss(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(c&&c.concurrentRequestLimit),this.Da=new Ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ss.prototype,a.la=8,a.G=1,a.connect=function(c,p,_,S){bt(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ru(this,null,this.W),os(this)};function bl(c){if(Zo(c),c.G==3){var p=c.U++,_=On(c.I);if(ft(_,"SID",c.K),ft(_,"RID",p),ft(_,"TYPE","terminate"),Si(c,_),p=new En(c,c.j,p),p.L=2,p.v=yi(On(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=au(p.j,null),p.g.ea(p.v)),p.F=Date.now(),di(p)}nu(c)}function ls(c){c.g&&(Ai(c),c.g.cancel(),c.g=null)}function Zo(c){ls(c),c.u&&(m.clearTimeout(c.u),c.u=null),us(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function os(c){if(!Wi(c.h)&&!c.s){c.s=!0;var p=c.Ga;me||O(),we||(me(),we=!0),Le.add(p,c),c.B=0}}function gf(c,p){return Ji(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kt(x(c.Ga,c,p),Sl(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new En(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Wo(this,H,p),_=On(this.I),ft(_,"RID",c),ft(_,"CVER",22),this.D&&ft(_,"X-HTTP-Session-Id",this.D),Si(this,_),X&&(this.O?p="headers="+encodeURIComponent(String(El(X)))+"&"+p:this.m&&Zt(_,this.m,X)),es(this.h,H),this.Ua&&ft(_,"TYPE","init"),this.P?(ft(_,"$req",p),ft(_,"SID","null"),H.T=!0,nr(H,_,null)):nr(H,_,p),this.G=2}}else this.G==3&&(c?Tl(this,c):this.i.length==0||Wi(this.h)||Tl(this))};function Tl(c,p){var _;p?_=p.l:_=c.U++;const S=On(c.I);ft(S,"SID",c.K),ft(S,"RID",_),ft(S,"AID",c.T),Si(c,S),c.m&&c.o&&Zt(S,c.m,c.o),_=new En(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Wo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),es(c.h,_),nr(_,S,p)}function Si(c,p){c.H&&de(c.H,function(_,S){ft(p,S,_)}),c.l&&pl({},function(_,S){ft(p,S,_)})}function Wo(c,p,_){_=Math.min(c.i.length,_);var S=c.l?x(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const ge=["count="+_];X==-1?0<_?(X=H[0].g,ge.push("ofs="+X)):X=0:ge.push("ofs="+X);let Ke=!0;for(let Ft=0;Ft<_;Ft++){let Xe=H[Ft].g;const Wt=H[Ft].map;if(Xe-=X,0>Xe)X=Math.max(0,H[Ft].g-100),Ke=!1;else try{pr(Wt,ge,"req"+Xe+"_")}catch{S&&S(Wt)}}if(Ke){S=ge.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,S}function Jo(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;me||O(),we||(me(),we=!0),Le.add(p,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kt(x(c.Fa,c),Sl(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kt(x(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),ls(this),eu(this))};function Ai(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function eu(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=On(c.qa);ft(p,"RID","rpc"),ft(p,"SID",c.K),ft(p,"AID",c.T),ft(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(p,"TO",c.ja),ft(p,"TYPE","xmlhttp"),Si(c,p),c.m&&c.o&&Zt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=yi(On(p)),_.m=null,_.P=!0,Br(_,c)}a.Za=function(){this.C!=null&&(this.C=null,ls(this),wl(this),bt(19))};function us(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function tu(c,p){var _=null;if(c.g==p){us(c),Ai(c),c.g=null;var S=2}else if(dl(c.h,p))_=p.D,bn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var H=c.B;S=Dn(),ne(S,new Ht(S,_)),os(c)}else Jo(c);else if(H=p.s,H==3||H==0&&0<p.X||!(S==1&&gf(c,p)||S==2&&wl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),H){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function Sl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Yr(c,p){if(c.j.info("Error code "+p),p==2){var _=x(c.fb,c),S=c.Xa;const H=!S;S=new Lt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gi(S,"https"),yi(S),H?_i(S.toString(),_):rr(S.toString(),_)}else bt(2);c.G=0,c.l&&c.l.sa(p),nu(c),Zo(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const p=ml(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function ru(c,p,_){var S=_ instanceof Lt?On(_):new Lt(_);if(S.g!="")p&&(S.g=p+"."+S.g),Sa(S,S.s);else{var H=m.location;S=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var X=new Lt(null);S&&gi(X,S),p&&(X.g=p),H&&Sa(X,H),_&&(X.l=_),S=X}return _=c.D,p=c.ya,_&&p&&ft(S,_,p),ft(S,"VER",c.la),Si(c,S),S}function au(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new it(new Aa({eb:_})):new it(c.pa),p.Ha(c.J),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}a=iu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function cs(){}cs.prototype.g=function(c,p){return new Tn(c,p)};function Tn(c,p){j.call(this),this.g=new ss(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new _r(this)}L(Tn,j),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){bl(this.g)},Tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ve(c),c=_);p.i.push(new Qo(p.Ya++,c)),p.G==3&&os(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Tn.aa.N.call(this)};function su(c){at.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(su,at);function lu(){Nt.call(this),this.status=1}L(lu,Nt);function _r(c){this.g=c}L(_r,iu),_r.prototype.ua=function(){ne(this.g,"a")},_r.prototype.ta=function(c){ne(this.g,new su(c))},_r.prototype.sa=function(c){ne(this.g,new lu)},_r.prototype.ra=function(){ne(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,T_=function(){return new cs},b_=function(){return Dn()},E_=an,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,yc=Ta,jr.COMPLETE="complete",__=jr,nt.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",j.prototype.listen=j.prototype.K,mo=nt,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,v_=it}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",R0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new l_("@firebase/firestore");function js(){return Fi.logLevel}function Te(a,...e){if(Fi.logLevel<=Je.DEBUG){const r=e.map(im);Fi.debug(`Firestore (${il}): ${a}`,...r)}}function ma(a,...e){if(Fi.logLevel<=Je.ERROR){const r=e.map(im);Fi.error(`Firestore (${il}): ${a}`,...r)}}function Ys(a,...e){if(Fi.logLevel<=Je.WARN){const r=e.map(im);Fi.warn(`Firestore (${il}): ${a}`,...r)}}function im(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(a,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,w_(a,s,r)}function w_(a,e,r){let s=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw ma(s),new Error(s)}function st(a,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,a||w_(e,o,s)}function ke(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Qi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(vn.UNAUTHENTICATED)))}shutdown(){}}class zS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class jS{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){st(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,r(y)):Promise.resolve();let u=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ca,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ca)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new S_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class BS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new BS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){st(this.o===void 0,3512);const s=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(st(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new N0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Fe(a,e){return a<e?-1:a>e?1:0}function kd(a,e){const r=Math.min(a.length,e.length);for(let s=0;s<r;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return vd(o)===vd(u)?Fe(o,u):vd(o)?1:-1}return Fe(a.length,e.length)}const GS=55296,QS=57343;function vd(a){const e=a.charCodeAt(0);return e>=GS&&e<=QS}function Ks(a,e,r){return a.length===e.length&&a.every(((s,o)=>r(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="__name__";class xr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Ie(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Ie(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=xr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Fe(e.length,r.length)}static compareSegments(e,r){const s=xr.isNumericId(e),o=xr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?xr.extractNumericId(e).compare(xr.extractNumericId(r)):kd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class vt extends xr{construct(e,r,s){return new vt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new vt(r)}static emptyPath(){return new vt([])}}const $S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends xr{construct(e,r,s){return new hn(e,r,s)}static isValidIdentifier(e){return $S.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C0}static keyField(){return new hn([C0])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(r)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(a,e,r){if(!r)throw new ye(re.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function YS(a,e,r,s){if(e===!0&&s===!0)throw new ye(re.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function D0(a){if(!Re.isDocumentKey(a))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function O0(a){if(Re.isDocumentKey(a))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function x_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Qc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ie(12329,{type:typeof a})}function Xs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qc(a);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a,e){const r={typeString:a};return e&&(r.value=e),r}function Po(a,e){if(!x_(a))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const h=a[s];if(o&&typeof h!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new ye(re.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-62135596800,V0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*V0);return new Et(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<I0)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Po(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:qt("string",Et._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Et(0,0))}static max(){return new Pe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function KS(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new Et(r+1,0):new Et(r,s));return new ti(o,Re.empty(),e)}function XS(a){return new ti(a.readTime,a.key,xo)}class ti{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ti(Pe.min(),Re.empty(),xo)}static max(){return new ti(Pe.max(),Re.empty(),xo)}}function ZS(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(a.documentKey,e.documentKey),r!==0?r:Fe(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(a){if(a.code!==re.FAILED_PRECONDITION||a.message!==WS)throw a;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ue?r:ue.resolve(r)}catch(r){return ue.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ue.reject(r)}static resolve(e){return new ue(((r,s)=>{r(e)}))}static reject(e){return new ue(((r,s)=>{s(e)}))}static waitFor(e){return new ue(((r,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&r()}),(y=>s(y)))})),h=!0,u===o&&r()}))}static or(e){let r=ue.resolve(!1);for(const s of e)r=r.next((o=>o?ue.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(e,r){return new ue(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;r(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,r){return new ue(((s,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):s()};u()}))}}function e2(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ll(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$c.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Yc(a){return a==null}function Rc(a){return a===0&&1/a==-1/0}function t2(a){return typeof a=="number"&&Number.isInteger(a)&&!Rc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function n2(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=M0(e)),e=r2(a.get(r),e);return M0(e)}function r2(a,e){let r=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case R_:r+="";break;default:r+=u}}return r}function M0(a){return a+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function $i(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function N_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){this.comparator=e,this.root=r||fn.EMPTY}insert(e,r){return new xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new fn(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Kt(this.comparator);return r.data=e,r}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new lr([])}unionWith(e){let r=new Kt(hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new lr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C_("Invalid base64 string: "+u):u}})(e);return new dn(r)}static fromUint8Array(e){const r=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new dn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(a){if(st(!!a,39018),typeof a=="string"){let e=0;const r=a2.exec(a);if(st(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(a.seconds),nanos:Mt(a.nanos)}}function Mt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ri(a){return typeof a=="string"?dn.fromBase64String(a):dn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",O_="__type__",I_="__previous_value__",V_="__local_write_time__";function Kc(a){return(a?.mapValue?.fields||{})[O_]?.stringValue===D_}function Xc(a){const e=a.mapValue.fields[I_];return Kc(e)?Xc(e):e}function Ro(a){const e=ni(a.mapValue.fields[V_].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,r,s,o,u,h,m,y,g,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Nc="(default)";class No{constructor(e,r){this.projectId=e,this.database=r||Nc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",s2="__max__",fc={mapValue:{}},P_="__vector__",Cc="value";function ai(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Kc(a)?4:o2(a)?9007199254740991:l2(a)?10:11:Ie(28295,{value:a})}function Ir(a,e){if(a===e)return!0;const r=ai(a);if(r!==ai(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ro(a).isEqual(Ro(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ni(o.timestampValue),m=ni(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return ri(o.bytesValue).isEqual(ri(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return Mt(o.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Mt(o.integerValue)===Mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Mt(o.doubleValue),m=Mt(u.doubleValue);return h===m?Rc(h)===Rc(m):isNaN(h)&&isNaN(m)}return!1})(a,e);case 9:return Ks(a.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(P0(h)!==P0(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!Ir(h[y],m[y])))return!1;return!0})(a,e);default:return Ie(52216,{left:a})}}function Co(a,e){return(a.values||[]).find((r=>Ir(r,e)))!==void 0}function Zs(a,e){if(a===e)return 0;const r=ai(a),s=ai(e);if(r!==s)return Fe(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(a.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Mt(u.integerValue||u.doubleValue),y=Mt(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(a,e);case 3:return L0(a.timestampValue,e.timestampValue);case 4:return L0(Ro(a),Ro(e));case 5:return kd(a.stringValue,e.stringValue);case 6:return(function(u,h){const m=ri(u),y=ri(h);return m.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Fe(m[g],y[g]);if(E!==0)return E}return Fe(m.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Fe(Mt(u.latitude),Mt(h.latitude));return m!==0?m:Fe(Mt(u.longitude),Mt(h.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return U0(a.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},g=m[Cc]?.arrayValue,E=y[Cc]?.arrayValue,w=Fe(g?.values?.length||0,E?.values?.length||0);return w!==0?w:U0(g,E)})(a.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fc.mapValue&&h===fc.mapValue)return 0;if(u===fc.mapValue)return 1;if(h===fc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=h.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const x=kd(y[w],E[w]);if(x!==0)return x;const N=Zs(m[y[w]],g[E[w]]);if(N!==0)return N}return Fe(y.length,E.length)})(a.mapValue,e.mapValue);default:throw Ie(23264,{he:r})}}function L0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Fe(a,e);const r=ni(a),s=ni(e),o=Fe(r.seconds,s.seconds);return o!==0?o:Fe(r.nanos,s.nanos)}function U0(a,e){const r=a.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=Zs(r[o],s[o]);if(u)return u}return Fe(r.length,s.length)}function Ws(a){return Ld(a)}function Ld(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=ni(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return ri(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Re.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Ld(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ld(r.fields[h])}`;return o+"}"})(a.mapValue):Ie(61005,{value:a})}function vc(a){switch(ai(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(a);return e?16+vc(e):16;case 5:return 2*a.stringValue.length;case 6:return ri(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return $i(s.fields,((u,h)=>{o+=u.length+vc(h)})),o})(a.mapValue);default:throw Ie(13486,{value:a})}}function Dc(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ud(a){return!!a&&"integerValue"in a}function om(a){return!!a&&"arrayValue"in a}function z0(a){return!!a&&"nullValue"in a}function j0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function _c(a){return!!a&&"mapValue"in a}function l2(a){return(a?.mapValue?.fields||{})[M_]?.stringValue===P_}function _o(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return $i(a.mapValue.fields,((r,s)=>e.mapValue.fields[r]=_o(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=_o(a.arrayValue.values[r]);return e}return{...a}}function o2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!_c(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(r)}setAll(e){let r=hn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const y=this.getFieldsMap(r);this.applyChanges(y,s,o),s={},o=[],r=m.popLast()}h?s[m.lastSegment()]=_o(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());_c(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];_c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){$i(r,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Zn(_o(this.value))}}function k_(a){const e=[];return $i(a.fields,((r,s)=>{const o=new hn([r]);if(_c(s)){const u=k_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,r,s,o,u,h,m){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Pe.min(),Pe.min(),Pe.min(),Zn.empty(),0)}static newFoundDocument(e,r,s,o){return new _n(e,1,r,Pe.min(),s,o,0)}static newNoDocument(e,r){return new _n(e,2,r,Pe.min(),Pe.min(),Zn.empty(),0)}static newUnknownDocument(e,r){return new _n(e,3,r,Pe.min(),Pe.min(),Zn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,r){this.position=e,this.inclusive=r}}function B0(a,e,r){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],h=a.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),r.key):s=Zs(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function q0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Ir(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r="asc"){this.field=e,this.dir=r}}function u2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{}class Bt extends L_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new f2(e,r,s):r==="array-contains"?new m2(e,s):r==="in"?new p2(e,s):r==="not-in"?new g2(e,s):r==="array-contains-any"?new y2(e,s):new Bt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new h2(e,s):new d2(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Zs(r,this.value)):r!==null&&ai(this.value)===ai(r)&&this.matchesComparison(Zs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends L_{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ur(e,r)}matches(e){return U_(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U_(a){return a.op==="and"}function z_(a){return c2(a)&&U_(a)}function c2(a){for(const e of a.filters)if(e instanceof ur)return!1;return!0}function zd(a){if(a instanceof Bt)return a.field.canonicalString()+a.op.toString()+Ws(a.value);if(z_(a))return a.filters.map((e=>zd(e))).join(",");{const e=a.filters.map((r=>zd(r))).join(",");return`${a.op}(${e})`}}function j_(a,e){return a instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)})(a,e):a instanceof ur?(function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&j_(h,o.filters[m])),!0):!1})(a,e):void Ie(19439)}function B_(a){return a instanceof Bt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ws(r.value)}`})(a):a instanceof ur?(function(r){return r.op.toString()+" {"+r.getFilters().map(B_).join(" ,")+"}"})(a):"Filter"}class f2 extends Bt{constructor(e,r,s){super(e,r,s),this.key=Re.fromName(s.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class h2 extends Bt{constructor(e,r){super(e,"in",r),this.keys=q_("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class d2 extends Bt{constructor(e,r){super(e,"not-in",r),this.keys=q_("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function q_(a,e){return(e.arrayValue?.values||[]).map((r=>Re.fromName(r.referenceValue)))}class m2 extends Bt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return om(r)&&Co(r.arrayValue,this.value)}}class p2 extends Bt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Co(this.value.arrayValue,r)}}class g2 extends Bt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Co(this.value.arrayValue,r)}}class y2 extends Bt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!om(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Co(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,r=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function H0(a,e=null,r=[],s=[],o=null,u=null,h=null){return new v2(a,e,r,s,o,u,h)}function um(a){const e=ke(a);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>zd(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>Ws(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>Ws(s))).join(",")),e.Te=r}return e.Te}function cm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!u2(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!j_(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!q0(a.startAt,e.startAt)&&q0(a.endAt,e.endAt)}function jd(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,r=null,s=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _2(a,e,r,s,o,u,h,m){return new ol(a,e,r,s,o,u,h,m)}function fm(a){return new ol(a)}function F0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function hm(a){return a.collectionGroup!==null}function Fs(a){const e=ke(a);if(e.Ie===null){e.Ie=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Kt(hn.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Oc(u,s))})),r.has(hn.keyField().canonicalString())||e.Ie.push(new Oc(hn.keyField(),s))}return e.Ie}function Rr(a){const e=ke(a);return e.Ee||(e.Ee=E2(e,Fs(a))),e.Ee}function E2(a,e){if(a.limitType==="F")return H0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Oc(o.field,u)}));const r=a.endAt?new Js(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Js(a.startAt.position,a.startAt.inclusive):null;return H0(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}function Bd(a,e){const r=a.filters.concat([e]);return new ol(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Ic(a,e,r){return new ol(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Zc(a,e){return cm(Rr(a),Rr(e))&&a.limitType===e.limitType}function H_(a){return`${um(Rr(a))}|lt:${a.limitType}`}function Bs(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>B_(o))).join(", ")}]`),Yc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>Ws(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>Ws(o))).join(",")),`Target(${s})`})(Rr(a))}; limitType=${a.limitType})`}function Wc(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of Fs(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,y){const g=B0(h,m,y);return h.inclusive?g<=0:g<0})(s.startAt,Fs(s),o)||s.endAt&&!(function(h,m,y){const g=B0(h,m,y);return h.inclusive?g>=0:g>0})(s.endAt,Fs(s),o))})(a,e)}function b2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function F_(a){return(e,r)=>{let s=!1;for(const o of Fs(a)){const u=T2(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function T2(a,e,r){const s=a.field.isKeyField()?Re.comparator(e.key,r.key):(function(u,h,m){const y=h.data.field(u),g=m.data.field(u);return y!==null&&g!==null?Zs(y,g):Ie(42886)})(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,((r,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new xt(Re.comparator);function pa(){return w2}const G_=new xt(Re.comparator);function po(...a){let e=G_;for(const r of a)e=e.insert(r.key,r);return e}function Q_(a){let e=G_;return a.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function qi(){return Eo()}function $_(){return Eo()}function Eo(){return new Yi((a=>a.toString()),((a,e)=>a.isEqual(e)))}const S2=new xt(Re.comparator),A2=new Kt(Re.comparator);function Ge(...a){let e=A2;for(const r of a)e=e.add(r);return e}const x2=new Kt(Fe);function R2(){return x2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function Y_(a){return{integerValue:""+a}}function N2(a,e){return t2(e)?Y_(e):dm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function C2(a,e,r){return a instanceof Vc?(function(o,u){const h={fields:{[O_]:{stringValue:D_},[V_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kc(u)&&(u=Xc(u)),u&&(h.fields[I_]=u),{mapValue:h}})(r,e):a instanceof Do?X_(a,e):a instanceof Oo?Z_(a,e):(function(o,u){const h=K_(o,u),m=G0(h)+G0(o.Ae);return Ud(h)&&Ud(o.Ae)?Y_(m):dm(o.serializer,m)})(a,e)}function D2(a,e,r){return a instanceof Do?X_(a,e):a instanceof Oo?Z_(a,e):r}function K_(a,e){return a instanceof Mc?(function(s){return Ud(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Vc extends Jc{}class Do extends Jc{constructor(e){super(),this.elements=e}}function X_(a,e){const r=W_(e);for(const s of a.elements)r.some((o=>Ir(o,s)))||r.push(s);return{arrayValue:{values:r}}}class Oo extends Jc{constructor(e){super(),this.elements=e}}function Z_(a,e){let r=W_(e);for(const s of a.elements)r=r.filter((o=>!Ir(o,s)));return{arrayValue:{values:r}}}class Mc extends Jc{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function G0(a){return Mt(a.integerValue||a.doubleValue)}function W_(a){return om(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function O2(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Do&&o instanceof Do||s instanceof Oo&&o instanceof Oo?Ks(s.elements,o.elements,Ir):s instanceof Mc&&o instanceof Mc?Ir(s.Ae,o.Ae):s instanceof Vc&&o instanceof Vc})(a.transform,e.transform)}class I2{constructor(e,r){this.version=e,this.transformResults=r}}class fa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ef{}function J_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new tE(a.key,fa.none()):new ko(a.key,a.data,fa.none());{const r=a.data,s=Zn.empty();let o=new Kt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ki(a.key,s,new lr(o.toArray()),fa.none())}}function V2(a,e,r){a instanceof ko?(function(o,u,h){const m=o.value.clone(),y=$0(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(a,e,r):a instanceof Ki?(function(o,u,h){if(!Ec(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=$0(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(eE(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(a,e,r):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,r)}function bo(a,e,r,s){return a instanceof ko?(function(u,h,m,y){if(!Ec(u.precondition,h))return m;const g=u.value.clone(),E=Y0(u.fieldTransforms,y,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(a,e,r,s):a instanceof Ki?(function(u,h,m,y){if(!Ec(u.precondition,h))return m;const g=Y0(u.fieldTransforms,y,h),E=h.data;return E.setAll(eE(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(a,e,r,s):(function(u,h,m){return Ec(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(a,e,r)}function M2(a,e){let r=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=K_(s.transform,o||null);u!=null&&(r===null&&(r=Zn.empty()),r.set(s.field,u))}return r||null}function Q0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ks(s,o,((u,h)=>O2(u,h)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ko extends ef{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ki extends ef{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eE(a){const e=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}})),e}function $0(a,e,r){const s=new Map;st(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,D2(h,m,r[o]))}return s}function Y0(a,e,r){const s=new Map;for(const o of a){const u=o.transform,h=r.data.field(o.field);s.set(o.field,C2(u,h,e))}return s}class tE extends ef{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P2 extends ef{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&V2(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=bo(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=bo(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=$_();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(o.key)?null:m;const y=J_(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,((r,s)=>Q0(r,s)))&&Ks(this.baseMutations,e.baseMutations,((r,s)=>Q0(r,s)))}}class mm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return S2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,We;function z2(a){switch(a){case re.OK:return Ie(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ie(15467,{code:a})}}function nE(a){if(a===void 0)return ma("GRPC error has no .code"),re.UNKNOWN;switch(a){case jt.OK:return re.OK;case jt.CANCELLED:return re.CANCELLED;case jt.UNKNOWN:return re.UNKNOWN;case jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case jt.INTERNAL:return re.INTERNAL;case jt.UNAVAILABLE:return re.UNAVAILABLE;case jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case jt.NOT_FOUND:return re.NOT_FOUND;case jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case jt.ABORTED:return re.ABORTED;case jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case jt.DATA_LOSS:return re.DATA_LOSS;default:return Ie(39323,{code:a})}}(We=jt||(jt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Wa([4294967295,4294967295],0);function K0(a){const e=j2().encode(a),r=new y_;return r.update(e),new Uint8Array(r.digest())}function X0(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wa([r,s],0),new Wa([o,u],0)]}class pm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new go(`Invalid padding: ${r}`);if(s<0)throw new go(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new go(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Wa.fromNumber(this.ge)}ye(e,r,s){let o=e.add(r.multiply(Wa.fromNumber(s)));return o.compare(B2)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=K0(e),[s,o]=X0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pm(u,o,r);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const r=K0(e),[s,o]=X0(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new tf(Pe.min(),o,new xt(Fe),pa(),Ge())}}class Lo{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Lo(s,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r,s,o){this.be=e,this.removedTargetIds=r,this.key=s,this.De=o}}class rE{constructor(e,r){this.targetId=e,this.Ce=r}}class aE{constructor(e,r,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class Z0{constructor(){this.ve=0,this.Fe=W0(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),r=Ge(),s=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new Lo(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=W0()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q2{constructor(e){this.Ge=e,this.ze=new Map,this.je=pa(),this.Je=hc(),this.He=hc(),this.Ye=new xt(Fe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,s=e.Ce.count,o=this.ot(r);if(o){const u=o.target;if(jd(u))if(s===0){const h=new Re(u.path);this.et(r,h,_n.newNoDocument(h,Pe.min()))}else st(s===1,20013,{expectedCount:s});else{const h=this._t(r);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(r);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,g)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,m;try{h=ri(s).toUint8Array()}catch(y){if(y instanceof C_)return Ys("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new pm(h,o,u)}catch(y){return Ys(y instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(r,u,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&jd(m.target)){const y=new Re(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,_n.newNoDocument(y,e))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let s=Ge();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new tf(e,r,this.Ye,this.je,s);return this.je=pa(),this.Je=hc(),this.He=hc(),this.Ye=new xt(Fe),o}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Z0,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Kt(Fe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Kt(Fe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z0),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function hc(){return new xt(Re.comparator)}function W0(){return new xt(Re.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G2={and:"AND",or:"OR"};class Q2{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qd(a,e){return a.useProto3Json||Yc(e)?e:{value:e}}function Pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function $2(a,e){return Pc(a,e.toTimestamp())}function Nr(a){return st(!!a,49232),Pe.fromTimestamp((function(r){const s=ni(r);return new Et(s.seconds,s.nanos)})(a))}function gm(a,e){return Hd(a,e).canonicalString()}function Hd(a,e){const r=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?r:r.child(e)}function sE(a){const e=vt.fromString(a);return st(fE(e),10190,{key:e.toString()}),e}function Fd(a,e){return gm(a.databaseId,e.path)}function _d(a,e){const r=sE(e);if(r.get(1)!==a.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Re(oE(r))}function lE(a,e){return gm(a.databaseId,e)}function Y2(a){const e=sE(a);return e.length===4?vt.emptyPath():oE(e)}function Gd(a){return new vt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function oE(a){return st(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function J0(a,e,r){return{name:Fd(a,e),fields:r.value.mapValue.fields}}function K2(a,e){let r;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(st(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?re.UNKNOWN:nE(g.code);return new ye(E,g.message||"")})(h);r=new aE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_d(a,s.document.name),u=Nr(s.document.updateTime),h=s.document.createTime?Nr(s.document.createTime):Pe.min(),m=new Zn({mapValue:{fields:s.document.fields}}),y=_n.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];r=new bc(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_d(a,s.document),u=s.readTime?Nr(s.readTime):Pe.min(),h=_n.newNoDocument(o,u),m=s.removedTargetIds||[];r=new bc([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_d(a,s.document),u=s.removedTargetIds||[];r=new bc([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new U2(o,u),m=s.targetId;r=new rE(m,h)}}return r}function X2(a,e){let r;if(e instanceof ko)r={update:J0(a,e.key,e.value)};else if(e instanceof tE)r={delete:Fd(a,e.key)};else if(e instanceof Ki)r={update:J0(a,e.key,e.data),updateMask:iA(e.fieldMask)};else{if(!(e instanceof P2))return Ie(16599,{Vt:e.type});r={verify:Fd(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Vc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Do)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Oo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(a,e.precondition)),r}function Z2(a,e){return a&&a.length>0?(st(e!==void 0,14353),a.map((r=>(function(o,u){let h=o.updateTime?Nr(o.updateTime):Nr(u);return h.isEqual(Pe.min())&&(h=Nr(u)),new I2(h,o.transformResults||[])})(r,e)))):[]}function W2(a,e){return{documents:[lE(a,e.path)]}}function J2(a,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=lE(a,o);const u=(function(g){if(g.length!==0)return cE(ur.create(g,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(x){return{field:qs(x.field),direction:nA(x.dir)}})(E)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const m=qd(a,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:r,parent:o}}function eA(a){let e=Y2(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=(function(w){const x=uE(w);return x instanceof ur&&z_(x)?x.getFilters():[x]})(r.where));let h=[];r.orderBy&&(h=(function(w){return w.map((x=>(function(L){return new Oc(Hs(L.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(x)))})(r.orderBy));let m=null;r.limit&&(m=(function(w){let x;return x=typeof w=="object"?w.value:w,Yc(x)?null:x})(r.limit));let y=null;r.startAt&&(y=(function(w){const x=!!w.before,N=w.values||[];return new Js(N,x)})(r.startAt));let g=null;return r.endAt&&(g=(function(w){const x=!w.before,N=w.values||[];return new Js(N,x)})(r.endAt)),_2(e,o,h,u,m,"F",y,g)}function tA(a,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function uE(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Hs(r.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(r.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Hs(r.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Hs(r.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Bt.create(Hs(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return ur.create(r.compositeFilter.filters.map((s=>uE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(r.compositeFilter.op))})(a):Ie(30097,{filter:a})}function nA(a){return H2[a]}function rA(a){return F2[a]}function aA(a){return G2[a]}function qs(a){return{fieldPath:a.canonicalString()}}function Hs(a){return hn.fromServerFormat(a.fieldPath)}function cE(a){return a instanceof Bt?(function(r){if(r.op==="=="){if(j0(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NAN"}};if(z0(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(j0(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NAN"}};if(z0(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(r.field),op:rA(r.op),value:r.value}}})(a):a instanceof ur?(function(r){const s=r.getFilters().map((o=>cE(o)));return s.length===1?s[0]:{compositeFilter:{op:aA(r.op),filters:s}}})(a):Ie(54877,{filter:a})}function iA(a){const e=[];return a.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function fE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,r,s,o,u=Pe.min(),h=Pe.min(),m=dn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.yt=e}}function lA(a){const e=eA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ic(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.Cn=new uA}addToCollectionParentIndex(e,r){return this.Cn.add(r),ue.resolve()}getCollectionParents(e,r){return ue.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ue.resolve()}deleteFieldIndex(e,r){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,r){return ue.resolve()}getDocumentsMatchingTarget(e,r){return ue.resolve(null)}getIndexType(e,r){return ue.resolve(0)}getFieldIndexes(e,r){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,r){return ue.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,r){return ue.resolve(ti.min())}updateCollectionGroup(e,r,s){return ue.resolve()}updateIndexEntries(e,r){return ue.resolve()}}class uA{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Kt(vt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(hE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",cA=1048576;function nv([a,e],[r,s]){const o=Fe(a,r);return o===0?Fe(e,s):o}class fA{constructor(e){this.Ir=e,this.buffer=new Kt(nv),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();nv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hA{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ll(r)?Te(tv,"Ignoring IndexedDB error during garbage collection: ",r):await sl(r)}await this.Vr(3e5)}))}}class dA{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return ue.resolve($c.ce);const s=new fA(r);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ev)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,o,u,h,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,r)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),js()<=Je.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function mA(a,e){return new dA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.changes=new Yi((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?ue.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&bo(s.mutation,o,lr.empty(),Et.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Ge()){const o=qi();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((u=>{let h=po();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const s=qi();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Ge())))}populateOverlays(e,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(e,r,s,o){let u=pa();const h=Eo(),m=(function(){return Eo()})();return r.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ki)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),bo(E.mutation,g,E.mutation.getFieldMask(),Et.now())):h.set(g.key,lr.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,E)=>h.set(g,E))),r.forEach(((g,E)=>m.set(g,new gA(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,r){const s=Eo();let o=new xt(((h,m)=>h-m)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const m of h)m.keys().forEach((y=>{const g=r.get(y);if(g===null)return;let E=s.get(y)||lr.empty();E=m.applyToLocalView(g,E),s.set(y,E);const w=(o.get(m.batchId)||Ge()).add(y);o=o.insert(m.batchId,w)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,w=$_();E.forEach((x=>{if(!u.has(x)){const N=J_(r.get(x),s.get(x));N!==null&&w.set(x,N),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ue.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):hm(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):ue.resolve(qi());let m=xo,y=u;return h.next((g=>ue.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ue.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Ge()))).next((E=>({batchId:m,changes:Q_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next((s=>{let o=po();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let h=po();return this.indexManager.getCollectionParents(e,u).next((m=>ue.forEach(m,(y=>{const g=(function(w,x){return new ol(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(r,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,x)=>{h=h.insert(w,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o)))).next((h=>{u.forEach(((y,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,_n.newInvalidDocument(E)))}));let m=po();return h.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&bo(E.mutation,g,lr.empty(),Et.now()),Wc(r,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ue.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}})(r)),ue.resolve()}getNamedQuery(e,r){return ue.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:lA(o.bundledQuery),readTime:Nr(o.readTime)}})(r)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.overlays=new xt(Re.comparator),this.qr=new Map}getOverlay(e,r){return ue.resolve(this.overlays.get(r))}getOverlays(e,r){const s=qi();return ue.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,u)=>{this.St(e,r,u)})),ue.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,r,s){const o=qi(),u=r.length+1,h=new Re(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new xt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=qi(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qi(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ue.resolve(m)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new L2(r,s));let u=this.qr.get(r);u===void 0&&(u=Ge(),this.qr.set(r,u)),this.qr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Qr=new Kt(nn.$r),this.Ur=new Kt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new nn(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Gr(new nn(e,r))}zr(e,r){e.forEach((s=>this.removeReference(s,r)))}jr(e){const r=new Re(new vt([])),s=new nn(r,e),o=new nn(r,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Re(new vt([])),s=new nn(r,e),o=new nn(r,e+1);let u=Ge();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new nn(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Re.comparator(e.key,r.key)||Fe(e.Yr,r.Yr)}static Kr(e,r){return Fe(e.Yr,r.Yr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(nn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new k2(u,r,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,r){return ue.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ei(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?lm:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new nn(r,0),o=new nn(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Kt(Fe);return r.forEach((o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const h=new nn(new Re(u),0);let m=new Kt(Fe);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),h),ue.resolve(this.ti(m))}ti(e){const r=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){st(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(r.mutations,(o=>{const u=new nn(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,r){const s=new nn(r,0),o=this.Zr.firstAfterOrEqual(s);return ue.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.ri=e,this.docs=(function(){return new xt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ue.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(r))}getEntries(e,r){let s=pa();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=pa();const h=r.path,m=new Re(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||ZS(XS(E),s)<=0||(o.has(E.key)||Wc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Ie(9500)}ii(e,r){return ue.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new wA(this)}getSize(e){return ue.resolve(this.size)}}class wA extends pA{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ue.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.persistence=e,this.si=new Yi((r=>um(r)),cm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new ym,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,r){return this.si.forEach(((s,o)=>r(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),ue.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new el(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ue.resolve()}updateTargetData(e,r){return this.Pr(r),ue.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ue.waitFor(u).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return ue.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),ue.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ue.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ue.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return ue.resolve(s)}containsKey(e,r){return ue.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,r){this.ui={},this.overlays={},this.ci=new $c(0),this.li=!1,this.li=!0,this.hi=new EA,this.referenceDelegate=e(this),this.Pi=new SA(this),this.indexManager=new oA,this.remoteDocumentCache=(function(o){return new TA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sA(r),this.Ii=new vA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _A,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new bA(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){Te("MemoryPersistence","Starting transaction:",e);const o=new AA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,r){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,r))))}}class AA extends JS{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ri=new ym,this.Vi=null}static mi(e){return new vm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ue.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const o=Re.fromPath(s);return this.gi(e,o).next((u=>{u||r.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ue.or([()=>ue.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class kc{constructor(e,r){this.persistence=e,this.pi=new Yi((s=>n2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mA(this,r)}static mi(e,r){return new kc(e,r)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}wr(e){let r=0;return this.pr(e,(s=>{r++})).next((()=>r))}pr(e,r){return ue.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ue.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,r).next((m=>{m||(s++,u.removeEntry(h,Pe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=vc(e.data.value)),r}br(e,r,s){return ue.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=o}static As(e,r){let s=Ge(),o=Ge();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _m(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Sw()?8:e2(Tw())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.ys(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,r,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new xA;return this.Ss(e,r,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,r,h,m.size)}))})).next((()=>u.result))}bs(e,r,s,o){return s.documentReadCount<this.fs?(js()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Bs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(js()<=Je.DEBUG&&Te("QueryEngine","Query:",Bs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(js()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Bs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(r))):ue.resolve())}ys(e,r){if(F0(r))return ue.resolve(null);let s=Rr(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Ic(r,null,"F"),s=Rr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ge(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.Ds(r,m);return this.Cs(r,g,h,y.readTime)?this.ys(e,Ic(r,null,"F")):this.vs(e,g,r,y)}))))})))))}ws(e,r,s,o){return F0(r)||o.isEqual(Pe.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,s,o)?ue.resolve(null):(js()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bs(r)),this.vs(e,h,r,KS(o,xo)).next((m=>m)))}))}Ds(e,r){let s=new Kt(F_(e));return r.forEach(((o,u)=>{Wc(e,u)&&(s=s.add(u))})),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,r,s){return js()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Bs(r)),this.ps.getDocumentsMatchingQuery(e,r,ti.min(),s)}vs(e,r,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",NA=3e8;class CA{constructor(e,r,s,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new xt(Fe),this.xs=new Yi((u=>um(u)),cm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function DA(a,e,r,s){return new CA(a,e,r,s)}async function mE(a,e){const r=ke(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Bs(e),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let y=Ge();for(const g of o){h.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return r.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function OA(a,e){const r=ke(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const w=g.batch,x=w.keys();let N=ue.resolve();return x.forEach((L=>{N=N.next((()=>E.getEntry(y,L))).next((q=>{const I=g.docVersions.get(L);st(I!==null,48541),q.version.compareTo(I)<0&&(w.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(y,w)))})(r,s,e,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Ge();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function pE(a){const e=ke(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function IA(a,e){const r=ke(a),s=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const x=o.get(w);if(!x)return;m.push(r.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>r.Pi.addMatchingKeys(u,E.addedDocuments,w))));let N=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(dn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(w,N),(function(q,I,J){return q.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=NA?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(x,N,E)&&m.push(r.Pi.updateTargetData(u,N))}));let y=pa(),g=Ge();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(VA(u,h,e.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!s.isEqual(Pe.min())){const E=r.Pi.getLastRemoteSnapshotVersion(u).next((w=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ue.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(r.Ms=o,u)))}function VA(a,e,r){let s=Ge(),o=Ge();return r.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let h=pa();return r.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Pe.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):Te(Em,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function MA(a,e){const r=ke(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PA(a,e){const r=ke(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.Pi.getTargetData(s,e).next((u=>u?(o=u,ue.resolve(o)):r.Pi.allocateTargetId(s).next((h=>(o=new Ya(e,h,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s}))}async function Qd(a,e,r){const s=ke(a),o=s.Ms.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ll(h))throw h;Te(Em,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rv(a,e,r){const s=ke(a);let o=Pe.min(),u=Ge();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,g,E){const w=ke(y),x=w.xs.get(E);return x!==void 0?ue.resolve(w.Ms.get(x)):w.Pi.getTargetData(g,E)})(s,h,Rr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,r?o:Pe.min(),r?u:Ge()))).next((m=>(kA(s,b2(e),m),{documents:m,Qs:u})))))}function kA(a,e,r){let s=a.Os.get(e)||Pe.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class av{constructor(){this.activeTargetIds=R2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LA{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function $d(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",zA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,r,s,o,u){const h=$d(),m=this.zo(e,r.toUriEncodedString());Te(Ed,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=Gc(g);return this.Jo(e,m,y,s,E).then((w=>(Te(Ed,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw Ys(Ed,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,r,s,o,u,h){return this.Go(e,r,s,o,u)}jo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,r){const s=zA[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class qA extends jA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,u){const h=$d();return new Promise(((m,y)=>{const g=new v_;g.setWithCredentials(!0),g.listenOnce(__.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yc.NO_ERROR:const w=g.getResponseJson();Te(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case yc.TIMEOUT:Te(yn,`RPC '${e}' ${h} timed out`),y(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const x=g.getStatus();if(Te(yn,`RPC '${e}' ${h} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const q=(function(J){const ee=J.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ee)>=0?ee:re.UNKNOWN})(L.status);y(new ye(q,L.message))}else y(new ye(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(yn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);Te(yn,`RPC '${e}' ${h} sending request:`,o),g.send(r,"POST",E,s,15)}))}T_(e,r,s){const o=$d(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=T_(),m=b_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,r,s),y.encodeInitMessageHeaders=!0;const E=u.join("");Te(yn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const w=h.createWebChannel(E,y);this.I_(w);let x=!1,N=!1;const L=new BA({Yo:I=>{N?Te(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(x||(Te(yn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),Te(yn,`RPC '${e}' stream ${o} sending:`,I),w.send(I))},Zo:()=>w.close()}),q=(I,J,ee)=>{I.listen(J,(Q=>{try{ee(Q)}catch(W){setTimeout((()=>{throw W}),0)}}))};return q(w,mo.EventType.OPEN,(()=>{N||(Te(yn,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),q(w,mo.EventType.CLOSE,(()=>{N||(N=!0,Te(yn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))})),q(w,mo.EventType.ERROR,(I=>{N||(N=!0,Ys(yn,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),L.a_(new ye(re.UNAVAILABLE,"The operation could not be completed")))})),q(w,mo.EventType.MESSAGE,(I=>{if(!N){const J=I.data[0];st(!!J,16349);const ee=J,Q=ee?.error||ee[0]?.error;if(Q){Te(yn,`RPC '${e}' stream ${o} received error:`,Q);const W=Q.status;let ce=(function(A){const R=jt[A];if(R!==void 0)return nE(R)})(W),de=Q.message;ce===void 0&&(ce=re.INTERNAL,de="Unknown error status: "+W+" with message "+Q.message),N=!0,L.a_(new ye(ce,de)),w.close()}else Te(yn,`RPC '${e}' stream ${o} received:`,J),L.u_(J)}})),q(m,E_.STAT_EVENT,(I=>{I.stat===Pd.PROXY?Te(yn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===Pd.NOPROXY&&Te(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(a){return new Q2(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,r,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class yE{constructor(e,r,s,o,u,h,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(ma(r.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Te(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HA extends yE{constructor(e,r,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=K2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pe.min():h.readTime?Nr(h.readTime):Pe.min()})(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=Gd(this.serializer),r.addTarget=(function(u,h){let m;const y=h.target;if(m=jd(y)?{documents:W2(u,y)}:{query:J2(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=iE(u,h.resumeToken);const g=qd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Pe.min())>0){m.readTime=Pc(u,h.snapshotVersion.toTimestamp());const g=qd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=tA(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=Gd(this.serializer),r.removeTarget=e,this.q_(r)}}class FA extends yE{constructor(e,r,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Z2(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=Gd(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>X2(this.serializer,s)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class QA extends GA{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Hd(r,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())}))}Ho(e,r,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Hd(r,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $A{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(r),this.aa=!1):Te("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class YA{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Xi(this)&&(Te(Gi,"Restarting streams for network reachability change."),await(async function(y){const g=ke(y);g.Ea.add(4),await Uo(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rf(g)})(this))}))})),this.Ra=new $A(s,o)}}async function rf(a){if(Xi(a))for(const e of a.da)await e(!0)}async function Uo(a){for(const e of a.da)await e(!1)}function vE(a,e){const r=ke(a);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Sm(r)?wm(r):ul(r).O_()&&Tm(r,e))}function bm(a,e){const r=ke(a),s=ul(r);r.Ia.delete(e),s.O_()&&_E(r,e),r.Ia.size===0&&(s.O_()?s.L_():Xi(r)&&r.Ra.set("Unknown"))}function Tm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ul(a).Y_(e)}function _E(a,e){a.Va.Ue(e),ul(a).Z_(e)}function wm(a){a.Va=new q2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ul(a).start(),a.Ra.ua()}function Sm(a){return Xi(a)&&!ul(a).x_()&&a.Ia.size>0}function Xi(a){return ke(a).Ea.size===0}function EE(a){a.Va=void 0}async function KA(a){a.Ra.set("Online")}async function XA(a){a.Ia.forEach(((e,r)=>{Tm(a,e)}))}async function ZA(a,e){EE(a),Sm(a)?(a.Ra.ha(e),wm(a)):a.Ra.set("Unknown")}async function WA(a,e,r){if(a.Ra.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(s){Te(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(a,s)}else if(e instanceof bc?a.Va.Ze(e):e instanceof rE?a.Va.st(e):a.Va.tt(e),!r.isEqual(Pe.min()))try{const s=await pE(a.localStore);r.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(u,y);const w=new Ya(E.target,y,g,E.sequenceNumber);Tm(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(a,r)}catch(s){Te(Gi,"Failed to raise snapshot:",s),await Lc(a,s)}}async function Lc(a,e,r){if(!ll(e))throw e;a.Ea.add(1),await Uo(a),a.Ra.set("Offline"),r||(r=()=>pE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Te(Gi,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await rf(a)}))}function bE(a,e){return e().catch((r=>Lc(a,r,e)))}async function af(a){const e=ke(a),r=ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lm;for(;JA(e);)try{const o=await MA(e.localStore,s);if(o===null){e.Ta.length===0&&r.L_();break}s=o.batchId,ex(e,o)}catch(o){await Lc(e,o)}TE(e)&&wE(e)}function JA(a){return Xi(a)&&a.Ta.length<10}function ex(a,e){a.Ta.push(e);const r=ii(a);r.O_()&&r.X_&&r.ea(e.mutations)}function TE(a){return Xi(a)&&!ii(a).x_()&&a.Ta.length>0}function wE(a){ii(a).start()}async function tx(a){ii(a).ra()}async function nx(a){const e=ii(a);for(const r of a.Ta)e.ea(r.mutations)}async function rx(a,e,r){const s=a.Ta.shift(),o=mm.from(s,e,r);await bE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await af(a)}async function ax(a,e){e&&ii(a).X_&&await(async function(s,o){if((function(h){return z2(h)&&h!==re.ABORTED})(o.code)){const u=s.Ta.shift();ii(s).B_(),await bE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(s)}})(a,e),TE(a)&&wE(a)}async function ov(a,e){const r=ke(a);r.asyncQueue.verifyOperationInProgress(),Te(Gi,"RemoteStore received new credentials");const s=Xi(r);r.Ea.add(3),await Uo(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await rf(r)}async function ix(a,e){const r=ke(a);e?(r.Ea.delete(2),await rf(r)):e||(r.Ea.add(2),await Uo(r),r.Ra.set("Unknown"))}function ul(a){return a.ma||(a.ma=(function(r,s,o){const u=ke(r);return u.sa(),new HA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:KA.bind(null,a),t_:XA.bind(null,a),r_:ZA.bind(null,a),H_:WA.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Sm(a)?wm(a):a.Ra.set("Unknown")):(await a.ma.stop(),EE(a))}))),a.ma}function ii(a){return a.fa||(a.fa=(function(r,s,o){const u=ke(r);return u.sa(),new FA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,a),r_:ax.bind(null,a),ta:nx.bind(null,a),na:rx.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await af(a)):(await a.fa.stop(),a.Ta.length>0&&(Te(Gi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const h=Date.now()+s,m=new Am(e,r,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(a,e){if(ma("AsyncQueue",`${e}: ${a}`),ll(a))return new ye(re.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Re.comparator(r.key,s.key):(r,s)=>Re.comparator(r.key,s.key),this.keyedMap=po(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.ga=new xt(Re.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,s)=>{e.push(s)})),e}}class tl{constructor(e,r,s,o,u,h,m,y,g){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,r,s,o,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new tl(e,r,Gs.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lx{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=ke(r),u=o.queries;o.queries=cv(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function cv(){return new Yi((a=>H_(a)),Zc)}async function SE(a,e){const r=ke(a);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const m=xm(h,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(m)}r.queries.set(o,u),u.Sa.push(e),e.va(r.onlineState),u.wa&&e.Fa(u.wa)&&Rm(r)}async function AE(a,e){const r=ke(a),s=e.query;let o=3;const u=r.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function ox(a,e){const r=ke(a);let s=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Rm(r)}function ux(a,e,r){const s=ke(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(r);s.queries.delete(e)}function Rm(a){a.Ca.forEach((e=>{e.next()}))}var Yd,fv;(fv=Yd||(Yd={})).Ma="default",fv.Cache="cache";class xE{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class cx{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=F_(e),this.tu=new Gs(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new uv,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const x=o.get(E),N=Wc(this.query,w)?w:null,L=!!x&&this.mutatedKeys.has(x.key),q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let I=!1;x&&N?x.data.isEqual(N.data)?L!==q&&(s.track({type:3,doc:N}),I=!0):this.su(x,N)||(s.track({type:2,doc:N}),I=!0,(y&&this.eu(N,y)>0||g&&this.eu(N,g)<0)&&(m=!0)):!x&&N?(s.track({type:0,doc:N}),I=!0):x&&!N&&(s.track({type:1,doc:x}),I=!0,(y||g)&&(m=!0)),I&&(N?(h=h.add(N),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,w)=>(function(N,L){const q=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:I})}};return q(N)-q(L)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(s),o=o??!1;const m=r&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,h.length!==0||g?{snapshot:new tl(this.query,e.tu,u,h,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return e.forEach((s=>{this.Xa.has(s)||r.push(new NE(s))})),this.Xa.forEach((s=>{e.has(s)||r.push(new RE(s))})),r}cu(e){this.Ya=e.Qs,this.Xa=Ge();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nm="SyncEngine";class fx{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class hx{constructor(e){this.key=e,this.hu=!1}}class dx{constructor(e,r,s,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Yi((m=>H_(m)),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Re.comparator),this.Au=new Map,this.Ru=new ym,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mx(a,e,r=!0){const s=ME(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CE(s,e,r,!0),o}async function px(a,e){const r=ME(a);await CE(r,e,!0,!1)}async function CE(a,e,r,s){const o=await PA(a.localStore,Rr(e)),u=o.targetId,h=a.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await gx(a,e,u,h==="current",o.resumeToken)),a.isPrimaryClient&&r&&vE(a.remoteStore,o),m}async function gx(a,e,r,s,o){a.pu=(w,x,N)=>(async function(q,I,J,ee){let Q=I.view.ru(J);Q.Cs&&(Q=await rv(q.localStore,I.query,!1).then((({documents:V})=>I.view.ru(V,Q))));const W=ee&&ee.targetChanges.get(I.targetId),ce=ee&&ee.targetMismatches.get(I.targetId)!=null,de=I.view.applyChanges(Q,q.isPrimaryClient,W,ce);return dv(q,I.targetId,de.au),de.snapshot})(a,w,x,N);const u=await rv(a.localStore,e,!0),h=new cx(e,u.Qs),m=h.ru(u.documents),y=Lo.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",o),g=h.applyChanges(m,a.isPrimaryClient,y);dv(a,r,g.au);const E=new fx(e,r,h);return a.Tu.set(e,E),a.Iu.has(r)?a.Iu.get(r).push(e):a.Iu.set(r,[e]),g.snapshot}async function yx(a,e,r){const s=ke(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Zc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&bm(s.remoteStore,o.targetId),Kd(s,o.targetId)})).catch(sl)):(Kd(s,o.targetId),await Qd(s.localStore,o.targetId,!0))}async function vx(a,e){const r=ke(a),s=r.Tu.get(e),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),bm(r.remoteStore,s.targetId))}async function _x(a,e,r){const s=xx(a);try{const o=await(function(h,m){const y=ke(h),g=Et.now(),E=m.reduce(((N,L)=>N.add(L.key)),Ge());let w,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=pa(),q=Ge();return y.Ns.getEntries(N,E).next((I=>{L=I,L.forEach(((J,ee)=>{ee.isValidDocument()||(q=q.add(J))}))})).next((()=>y.localDocuments.getOverlayedDocuments(N,L))).next((I=>{w=I;const J=[];for(const ee of m){const Q=M2(ee,w.get(ee.key).overlayedDocument);Q!=null&&J.push(new Ki(ee.key,Q,k_(Q.value.mapValue),fa.exists(!0)))}return y.mutationQueue.addMutationBatch(N,g,J,m)})).next((I=>{x=I;const J=I.applyToLocalDocumentSet(w,q);return y.documentOverlayCache.saveOverlays(N,I.batchId,J)}))})).then((()=>({batchId:x.batchId,changes:Q_(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let g=h.Vu[h.currentUser.toKey()];g||(g=new xt(Fe)),g=g.insert(m,y),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,r),await zo(s,o.changes),await af(s.remoteStore)}catch(o){const u=xm(o,"Failed to persist write");r.reject(u)}}async function DE(a,e){const r=ke(a);try{const s=await IA(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=r.Au.get(u);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?st(h.hu,14607):o.removedDocuments.size>0&&(st(h.hu,42227),h.hu=!1))})),await zo(r,s,e)}catch(s){await sl(s)}}function hv(a,e,r){const s=ke(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=ke(h);y.onlineState=m;let g=!1;y.queries.forEach(((E,w)=>{for(const x of w.Sa)x.va(m)&&(g=!0)})),g&&Rm(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ex(a,e,r){const s=ke(a);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new xt(Re.comparator);h=h.insert(u,_n.newNoDocument(u,Pe.min()));const m=Ge().add(u),y=new tf(Pe.min(),new Map,new xt(Fe),h,m);await DE(s,y),s.du=s.du.remove(u),s.Au.delete(e),Cm(s)}else await Qd(s.localStore,e,!1).then((()=>Kd(s,e,r))).catch(sl)}async function bx(a,e){const r=ke(a),s=e.batch.batchId;try{const o=await OA(r.localStore,e);IE(r,s,null),OE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await zo(r,o)}catch(o){await sl(o)}}async function Tx(a,e,r){const s=ke(a);try{const o=await(function(h,m){const y=ke(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((w=>(st(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(g,w)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);IE(s,e,r),OE(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await zo(s,o)}catch(o){await sl(o)}}function OE(a,e){(a.mu.get(e)||[]).forEach((r=>{r.resolve()})),a.mu.delete(e)}function IE(a,e,r){const s=ke(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Kd(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||VE(a,s)}))}function VE(a,e){a.Eu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(bm(a.remoteStore,r),a.du=a.du.remove(e),a.Au.delete(r),Cm(a))}function dv(a,e,r){for(const s of r)s instanceof RE?(a.Ru.addReference(s.key,e),wx(a,s)):s instanceof NE?(Te(Nm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||VE(a,s.key)):Ie(19791,{wu:s})}function wx(a,e){const r=e.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(Te(Nm,"New document in limbo: "+r),a.Eu.add(s),Cm(a))}function Cm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const r=new Re(vt.fromString(e)),s=a.fu.next();a.Au.set(s,new hx(r)),a.du=a.du.insert(r,s),vE(a.remoteStore,new Ya(Rr(fm(r.path)),s,"TargetPurposeLimboResolution",$c.ce))}}async function zo(a,e,r){const s=ke(a),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,r).then((g=>{if((g||r)&&s.isPrimaryClient){const E=g?!g.fromCache:r?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_m.As(y.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(y,g){const E=ke(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ue.forEach(g,(x=>ue.forEach(x.Es,(N=>E.persistence.referenceDelegate.addReference(w,x.targetId,N))).next((()=>ue.forEach(x.ds,(N=>E.persistence.referenceDelegate.removeReference(w,x.targetId,N)))))))))}catch(w){if(!ll(w))throw w;Te(Em,"Failed to update sequence numbers: "+w)}for(const w of g){const x=w.targetId;if(!w.fromCache){const N=E.Ms.get(x),L=N.snapshotVersion,q=N.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(x,q)}}})(s.localStore,u))}async function Sx(a,e){const r=ke(a);if(!r.currentUser.isEqual(e)){Te(Nm,"User change. New user:",e.toKey());const s=await mE(r.localStore,e);r.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ye(re.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zo(r,s.Ls)}}function Ax(a,e){const r=ke(a),s=r.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const u=r.Iu.get(e);if(!u)return o;for(const h of u){const m=r.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ME(a){const e=ke(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ex.bind(null,e),e.Pu.H_=ox.bind(null,e.eventManager),e.Pu.yu=ux.bind(null,e.eventManager),e}function xx(a){const e=ke(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tx.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return DA(this.persistence,new RA,e.initialUser,this.serializer)}Cu(e){return new dE(vm.mi,this.serializer)}Du(e){return new LA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class Rx extends Uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){st(this.persistence.referenceDelegate instanceof kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hA(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new dE((s=>kc.mi(s,r)),this.serializer)}}class Xd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sx.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lx})()}createDatastore(e){const r=nf(e.databaseInfo.databaseId),s=(function(u){return new qA(u)})(e.databaseInfo);return(function(u,h,m,y){return new QA(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(s,o,u,h,m){return new YA(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(r=>hv(this.syncEngine,r,0)),(function(){return sv.v()?new sv:new UA})())}createSyncEngine(e,r){return(function(o,u,h,m,y,g,E){const w=new dx(o,u,h,m,y,g);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ke(r);Te(Gi,"RemoteStore shutting down."),s.Ea.add(5),await Uo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class Nx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{Te(si,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Te(si,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=xm(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Td(a,e){a.asyncQueue.verifyOperationInProgress(),Te(si,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function mv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await Cx(a);Te(si,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener((s=>ov(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>ov(e.remoteStore,o))),a._onlineComponents=e}async function Cx(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Te(si,"Using user provided OfflineComponentProvider");try{await Td(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;Ys("Error using user provided cache. Falling back to memory cache: "+r),await Td(a,new Uc)}}else Te(si,"Using default OfflineComponentProvider"),await Td(a,new Rx(void 0));return a._offlineComponents}async function kE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Te(si,"Using user provided OnlineComponentProvider"),await mv(a,a._uninitializedComponentsProvider._online)):(Te(si,"Using default OnlineComponentProvider"),await mv(a,new Xd))),a._onlineComponents}function Dx(a){return kE(a).then((e=>e.syncEngine))}async function LE(a){const e=await kE(a),r=e.eventManager;return r.onListen=mx.bind(null,e.syncEngine),r.onUnlisten=yx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=vx.bind(null,e.syncEngine),r}function Ox(a,e,r={}){const s=new ca;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,g){const E=new PE({next:x=>{E.Nu(),h.enqueueAndForget((()=>AE(u,w)));const N=x.docs.has(m);!N&&x.fromCache?g.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&y&&y.source==="server"?g.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),w=new xE(fm(m.path),E,{includeMetadataChanges:!0,qa:!0});return SE(u,w)})(await LE(a),a.asyncQueue,e,r,s))),s.promise}function Ix(a,e,r={}){const s=new ca;return a.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,g){const E=new PE({next:x=>{E.Nu(),h.enqueueAndForget((()=>AE(u,w))),x.fromCache&&y.source==="server"?g.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),w=new xE(m,E,{includeMetadataChanges:!0,qa:!0});return SE(u,w)})(await LE(a),a.asyncQueue,e,r,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",gv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cA)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new US;switch(s.type){case"firstParty":return new qS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=pv.get(r);s&&(Te("ComponentProvider","Removing Datastore"),pv.delete(r),s.terminate())})(this),Promise.resolve()}}function Vx(a,e,r,s={}){a=Xs(a,sf);const o=Gc(e),u=a._getSettings(),h={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${r}`;o&&(r_(`https://${m}`),i_("Firestore",!0)),u.host!==zE&&u.host!==m&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Ac(y,h)&&(a._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=vn.MOCK_USER;else{g=a_(s.mockUserToken,a._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(w)}a._authCredentials=new zS(new S_(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class Yt{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Po(r,Yt._jsonSchema))return new Yt(e,s||null,new Re(vt.fromString(r.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:qt("string",Yt._jsonSchemaVersion),referencePath:qt("string")};class Ja extends oi{constructor(e,r,s){super(e,r,fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Re(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function jo(a,e,...r){if(a=ei(a),A_("collection","path",e),a instanceof sf){const s=vt.fromString(e,...r);return O0(s),new Ja(a,null,s)}{if(!(a instanceof Yt||a instanceof Ja))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return O0(s),new Ja(a.firestore,null,s)}}function jE(a,e,...r){if(a=ei(a),arguments.length===1&&(e=sm.newId()),A_("doc","path",e),a instanceof sf){const s=vt.fromString(e,...r);return D0(s),new Yt(a,null,new Re(s))}{if(!(a instanceof Yt||a instanceof Ja))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(vt.fromString(e,...r));return D0(s),new Yt(a.firestore,a instanceof Ja?a.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const s=bd();s&&Te(vv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=bd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=bd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;Te(vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",Ev(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=Am.createAndSchedule(this,e,r,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function Ev(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class lf extends sf{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new _v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function Mx(a,e){const r=typeof a=="object"?a:m_(),s=typeof a=="string"?a:Nc,o=c_(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=t_("firestore");u&&Vx(o,...u)}return o}function Dm(a){if(a._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Px(a),a._firestoreClient}function Px(a){const e=a._freezeSettings(),r=(function(o,u,h,m){return new i2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,UE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Nx(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(dn.fromBase64String(e))}catch(r){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wn(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Po(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:qt("string",Wn._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Po(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:qt("string",Cr._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Po(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Dr(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:qt("string",Dr._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^__.*__$/;class Lx{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,r,this.fieldTransforms):new ko(e,this.data,r,this.fieldTransforms)}}function qE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:a})}}class Im{constructor(e,r,s,o,u,h){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&kx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ux{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||nf(e)}Cc(e,r,s,o=!1){return new Im({Ac:e,methodName:r,Dc:s,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(a){const e=a._freezeSettings(),r=nf(a._databaseId);return new Ux(a._databaseId,!!e.ignoreUndefinedProperties,r)}function zx(a,e,r,s,o,u={}){const h=a.Cc(u.merge||u.mergeFields?2:0,e,r,o);QE("Data must be an object, but it was:",h,s);const m=FE(s,h);let y,g;if(u.merge)y=new lr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const x=jx(e,w,r);if(!h.contains(x))throw new ye(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qx(E,x)||E.push(x)}y=new lr(E),g=h.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,g=h.fieldTransforms;return new Lx(new Zn(m),y,g)}function HE(a,e,r,s=!1){return Mm(r,a.Cc(s?4:3,e))}function Mm(a,e){if(GE(a=ei(a)))return QE("Unsupported field value:",e,a),FE(a,e);if(a instanceof BE)return(function(s,o){if(!qE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let y=Mm(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=ei(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Et.fromDate(s);return{timestampValue:Pc(o.serializer,u)}}if(s instanceof Et){const u=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(o.serializer,u)}}if(s instanceof Cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:iE(o.serializer,s._byteString)};if(s instanceof Yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dr)return(function(h,m){return{mapValue:{fields:{[M_]:{stringValue:P_},[Cc]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return dm(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Qc(s)}`)})(a,e)}function FE(a,e){const r={};return N_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(a,((s,o)=>{const u=Mm(o,e.mc(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function GE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Et||a instanceof Cr||a instanceof Wn||a instanceof Yt||a instanceof BE||a instanceof Dr)}function QE(a,e,r){if(!GE(r)||!x_(r)){const s=Qc(r);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function jx(a,e,r){if((e=ei(e))instanceof Om)return e._internalPath;if(typeof e=="string")return $E(a,e);throw zc("Field path arguments must be of type string or ",a,!1,void 0,r)}const Bx=new RegExp("[~\\*/\\[\\]]");function $E(a,e,r){if(e.search(Bx)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Om(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function zc(a,e,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new ye(re.INVALID_ARGUMENT,m+a+y)}function qx(a,e){return a.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hx extends Pm{data(){return super.data()}}function km(a,e){return typeof e=="string"?$E(a,e):e instanceof Om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class Um extends Lm{}function wd(a,e,...r){let s=[];e instanceof Lm&&s.push(e),s=s.concat(r),(function(u){const h=u.filter((y=>y instanceof zm)).length,m=u.filter((y=>y instanceof of)).length;if(h>1||h>0&&m>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class of extends Um{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new of(e,r,s)}_apply(e){const r=this._parse(e);return YE(e._query,r),new oi(e.firestore,e.converter,Bd(e._query,r))}_parse(e){const r=Vm(e.firestore);return(function(u,h,m,y,g,E,w){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Sv(w,E);const L=[];for(const q of w)L.push(wv(y,u,q));x={arrayValue:{values:L}}}else x=wv(y,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Sv(w,E),x=HE(m,h,w,E==="in"||E==="not-in");return Bt.create(g,E,x)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function bv(a,e,r){const s=e,o=km("where",a);return of._create(o,s,r)}class zm extends Lm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new zm(e,r)}_parse(e){const r=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:ur.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)YE(h,y),h=Bd(h,y)})(e._query,r),new oi(e.firestore,e.converter,Bd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends Um{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new jm(e,r,s)}_apply(e){return new oi(e.firestore,e.converter,Ic(e._query,this._limit,this._limitType))}}function Tv(a){return jm._create("limit",a,"F")}class Bm extends Um{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Bm(e,r,s)}_apply(e){const r=Qx(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,(function(o,u){return new ol(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,r))}}function Gx(...a){return Bm._create("startAfter",a,!1)}function Qx(a,e,r,s){if(r[0]=ei(r[0]),r[0]instanceof Pm)return(function(u,h,m,y,g){if(!y)throw new ye(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const w of Fs(u))if(w.field.isKeyField())E.push(Dc(h,y.key));else{const x=y.data.field(w.field);if(Kc(x))throw new ye(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const N=w.field.canonicalString();throw new ye(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}E.push(x)}return new Js(E,g)})(a._query,a.firestore._databaseId,e,r[0]._document,s);{const o=Vm(a.firestore);return(function(h,m,y,g,E,w){const x=h.explicitOrderBy;if(E.length>x.length)throw new ye(re.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let L=0;L<E.length;L++){const q=E[L];if(x[L].field.isKeyField()){if(typeof q!="string")throw new ye(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!hm(h)&&q.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const I=h.path.child(vt.fromString(q));if(!Re.isDocumentKey(I))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const J=new Re(I);N.push(Dc(m,J))}else{const I=HE(y,g,q);N.push(I)}}return new Js(N,w)})(a._query,a.firestore._databaseId,o,e,r,s)}}function wv(a,e,r){if(typeof(r=ei(r))=="string"){if(r==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(e)&&r.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(vt.fromString(r));if(!Re.isDocumentKey(s))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Dc(a,new Re(s))}if(r instanceof Yt)return Dc(a,r._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(r)}.`)}function Sv(a,e){if(!Array.isArray(a)||a.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YE(a,e){const r=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $x{convertValue(e,r="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return $i(e,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(e){const r=e.fields?.[Cc].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Dr(r)}convertGeoPoint(e){return new Cr(Mt(e.latitude),Mt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Xc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ro(e));default:return null}}convertTimestamp(e){const r=ni(e);return new Et(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=vt.fromString(e);st(fE(s),9688,{name:e});const o=new No(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(r)||ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(a,e,r){let s;return s=a?a.toFirestore(e):e,s}class yo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hi extends Pm{constructor(e,r,s,o,u,h){super(e,r,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(km("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hi._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hi._jsonSchema={type:qt("string",Hi._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Tc extends Hi{data(e={}){return super.data(e)}}class Qs{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new Tc(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Tc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Tc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Kx(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(a){a=Xs(a,Yt);const e=Xs(a.firestore,lf);return Ox(Dm(e),a._key).then((r=>Jx(e,a,r)))}Qs._jsonSchemaVersion="firestore/querySnapshot/1.0",Qs._jsonSchema={type:qt("string",Qs._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class KE extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,r)}}function uf(a){a=Xs(a,oi);const e=Xs(a.firestore,lf),r=Dm(e),s=new KE(e);return Fx(a._query),Ix(r,a._query).then((o=>new Qs(e,s,a,o)))}function Zx(a,e){const r=Xs(a.firestore,lf),s=jE(a),o=Yx(a.converter,e);return Wx(r,[zx(Vm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,fa.exists(!1))]).then((()=>s))}function Wx(a,e){return(function(s,o){const u=new ca;return s.asyncQueue.enqueueAndForget((async()=>_x(await Dx(s),o,u))),u.promise})(Dm(a),e)}function Jx(a,e,r){const s=r.docs.get(e._key),o=new KE(a);return new Hi(a,o,e._key,s,new yo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(o){il=o})(h_),So(new $s("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new lf(new jS(s.getProvider("auth-internal")),new HS(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Za(x0,R0,e),Za(x0,R0,"esm2020")})();var eR="firebase",tR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(eR,tR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebasestorage.googleapis.com",nR="storageBucket",rR=120*1e3,aR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Qi{constructor(e,r,s=0){super(Sd(e),`Firebase Storage: ${r} (${Sd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function Sd(a){return"storage/"+a}function iR(){const a="An unknown error occurred, please check the error payload for server response.";return new kr(Vr.UNKNOWN,a)}function sR(){return new kr(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lR(){return new kr(Vr.CANCELED,"User canceled the upload/download.")}function oR(a){return new kr(Vr.INVALID_URL,"Invalid URL '"+a+"'.")}function uR(a){return new kr(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Av(a){return new kr(Vr.INVALID_ARGUMENT,a)}function ZE(){return new kr(Vr.APP_DELETED,"The Firebase app was deleted.")}function cR(a){return new kr(Vr.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=or.makeFromUrl(e,r)}catch{return new or(e,"")}if(s.path==="")return s;throw uR(e)}static makeFromUrl(e,r){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const E="v[A-Za-z0-9_]+",w=r.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",N=new RegExp(`^https?://${w}/${E}/b/${o}/o${x}`,"i"),L={bucket:1,path:3},q=r===XE?"(?:storage.googleapis.com|storage.cloud.google.com)":r,I="([^?#]*)",J=new RegExp(`^https?://${q}/${o}/${I}`,"i"),Q=[{regex:m,indices:y,postModify:u},{regex:N,indices:L,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<Q.length;W++){const ce=Q[W],de=ce.regex.exec(e);if(de){const V=de[ce.indices.bucket];let A=de[ce.indices.path];A||(A=""),s=new or(V,A),ce.postModify(s);break}}if(s==null)throw oR(e);return s}}class fR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(a,e,r){let s=1,o=null,u=null,h=!1,m=0;function y(){return m===2}let g=!1;function E(...I){g||(g=!0,e.apply(null,I))}function w(I){o=setTimeout(()=>{o=null,a(N,y())},I)}function x(){u&&clearTimeout(u)}function N(I,...J){if(g){x();return}if(I){x(),E.call(null,I,...J);return}if(y()||h){x(),E.call(null,I,...J);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,w(Q)}let L=!1;function q(I){L||(L=!0,x(),!g&&(o!==null?(I||(m=2),clearTimeout(o),w(0)):I||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,q(!0)},r),q}function dR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(a){return a!==void 0}function xv(a,e,r,s){if(s<e)throw Av(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>r)throw Av(`Invalid value for '${a}'. Expected ${r} or less.`)}function pR(a){const e=encodeURIComponent;let r="?";for(const s in a)if(a.hasOwnProperty(s)){const o=e(s)+"="+e(a[s]);r=r+o+"&"}return r=r.slice(0,-1),r}var jc;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(jc||(jc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(a,e){const r=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return r||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,r,s,o,u,h,m,y,g,E,w,x=!0,N=!1){this.url_=e,this.method_=r,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=x,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,q)=>{this.resolve_=L,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===jc.NO_ERROR,y=u.getStatus();if(!m||gR(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===jc.ABORT;s(!1,new mc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;s(!0,new mc(g,u))})},r=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());mR(y)?u(y):u()}catch(y){h(y)}else if(m!==null){const y=iR();y.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,y)):h(y)}else if(o.canceled){const y=this.appDelete_?ZE():lR();h(y)}else{const y=sR();h(y)}};this.canceled_?r(!1,new mc(!1,null,!0)):this.backoffId_=hR(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function vR(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function _R(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ER(a,e){e&&(a["X-Firebase-GMPID"]=e)}function bR(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function TR(a,e,r,s,o,u,h=!0,m=!1){const y=pR(a.urlParams),g=a.url+y,E=Object.assign({},a.headers);return ER(E,e),vR(E,r),_R(E,u),bR(E,s),new yR(g,a.method,E,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function SR(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r){this._service=e,r instanceof or?this._location=r:this._location=or.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Bc(e,r)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SR(this._location.path)}get storage(){return this._service}get parent(){const e=wR(this._location.path);if(e===null)return null;const r=new or(this._location.bucket,e);return new Bc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw cR(e)}}function Rv(a,e){const r=e?.[nR];return r==null?null:or.makeFromBucketSpec(r,a)}function AR(a,e,r,s={}){a.host=`${e}:${r}`;const o=Gc(e);o&&(r_(`https://${a.host}/b`),i_("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:a_(u,a.app.options.projectId))}class xR{constructor(e,r,s,o,u,h=!1){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=XE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rR,this._maxUploadRetryTime=aR,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=Rv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(f_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bc(this,e)}_makeRequest(e,r,s,o,u=!0){if(this._deleted)return new fR(ZE());{const h=TR(e,this._appId,s,o,r,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,r){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,o).getPromise()}}const Nv="@firebase/storage",Cv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="storage";function RR(a=m_(),e){a=ei(a);const s=c_(a,WE).getImmediate({identifier:e}),o=t_("storage");return o&&NR(s,...o),s}function NR(a,e,r,s={}){AR(a,e,r,s)}function CR(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new xR(r,s,o,e,h_)}function DR(){So(new $s(WE,CR,"PUBLIC").setMultipleInstances(!0)),Za(Nv,Cv,""),Za(Nv,Cv,"esm2020")}DR();const OR={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},JE=d_(OR),cl=Mx(JE);RR(JE);var Ad={exports:{}},Dv;function IR(){return Dv||(Dv=1,(()=>{var a={296:(o,u,h)=>{var m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,E=/^0o[0-7]+$/i,w=parseInt,x=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,N=typeof self=="object"&&self&&self.Object===Object&&self,L=x||N||Function("return this")(),q=Object.prototype.toString,I=Math.max,J=Math.min,ee=function(){return L.Date.now()};function Q(ce){var de=typeof ce;return!!ce&&(de=="object"||de=="function")}function W(ce){if(typeof ce=="number")return ce;if((function(A){return typeof A=="symbol"||(function(R){return!!R&&typeof R=="object"})(A)&&q.call(A)=="[object Symbol]"})(ce))return NaN;if(Q(ce)){var de=typeof ce.valueOf=="function"?ce.valueOf():ce;ce=Q(de)?de+"":de}if(typeof ce!="string")return ce===0?ce:+ce;ce=ce.replace(m,"");var V=g.test(ce);return V||E.test(ce)?w(ce.slice(2),V?2:8):y.test(ce)?NaN:+ce}o.exports=function(ce,de,V){var A,R,M,P,U,C,Qe=0,$e=!1,K=!1,me=!0;if(typeof ce!="function")throw new TypeError("Expected a function");function we(oe){var Ee=A,Ce=R;return A=R=void 0,Qe=oe,P=ce.apply(Ce,Ee)}function Le(oe){var Ee=oe-C;return C===void 0||Ee>=de||Ee<0||K&&oe-Qe>=M}function O(){var oe=ee();if(Le(oe))return ae(oe);U=setTimeout(O,(function(Ee){var Ce=de-(Ee-C);return K?J(Ce,M-(Ee-Qe)):Ce})(oe))}function ae(oe){return U=void 0,me&&A?we(oe):(A=R=void 0,P)}function pe(){var oe=ee(),Ee=Le(oe);if(A=arguments,R=this,C=oe,Ee){if(U===void 0)return(function(Ce){return Qe=Ce,U=setTimeout(O,de),$e?we(Ce):P})(C);if(K)return U=setTimeout(O,de),we(C)}return U===void 0&&(U=setTimeout(O,de)),P}return de=W(de)||0,Q(V)&&($e=!!V.leading,M=(K="maxWait"in V)?I(W(V.maxWait)||0,de):M,me="trailing"in V?!!V.trailing:me),pe.cancel=function(){U!==void 0&&clearTimeout(U),Qe=0,A=C=R=U=void 0},pe.flush=function(){return U===void 0?P:ae(ee())},pe}},96:(o,u,h)=>{var m="Expected a function",y=NaN,g="[object Symbol]",E=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,N=/^0o[0-7]+$/i,L=parseInt,q=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,I=typeof self=="object"&&self&&self.Object===Object&&self,J=q||I||Function("return this")(),ee=Object.prototype.toString,Q=Math.max,W=Math.min,ce=function(){return J.Date.now()};function de(A){var R=typeof A;return!!A&&(R=="object"||R=="function")}function V(A){if(typeof A=="number")return A;if((function(P){return typeof P=="symbol"||(function(U){return!!U&&typeof U=="object"})(P)&&ee.call(P)==g})(A))return y;if(de(A)){var R=typeof A.valueOf=="function"?A.valueOf():A;A=de(R)?R+"":R}if(typeof A!="string")return A===0?A:+A;A=A.replace(E,"");var M=x.test(A);return M||N.test(A)?L(A.slice(2),M?2:8):w.test(A)?y:+A}o.exports=function(A,R,M){var P=!0,U=!0;if(typeof A!="function")throw new TypeError(m);return de(M)&&(P="leading"in M?!!M.leading:P,U="trailing"in M?!!M.trailing:U),(function(C,Qe,$e){var K,me,we,Le,O,ae,pe=0,oe=!1,Ee=!1,Ce=!0;if(typeof C!="function")throw new TypeError(m);function Ae(pt){var Pt=K,Rt=me;return K=me=void 0,pe=pt,Le=C.apply(Rt,Pt)}function wt(pt){var Pt=pt-ae;return ae===void 0||Pt>=Qe||Pt<0||Ee&&pt-pe>=we}function Ye(){var pt=ce();if(wt(pt))return mn(pt);O=setTimeout(Ye,(function(Pt){var Rt=Qe-(Pt-ae);return Ee?W(Rt,we-(Pt-pe)):Rt})(pt))}function mn(pt){return O=void 0,Ce&&K?Ae(pt):(K=me=void 0,Le)}function rn(){var pt=ce(),Pt=wt(pt);if(K=arguments,me=this,ae=pt,Pt){if(O===void 0)return(function(Rt){return pe=Rt,O=setTimeout(Ye,Qe),oe?Ae(Rt):Le})(ae);if(Ee)return O=setTimeout(Ye,Qe),Ae(ae)}return O===void 0&&(O=setTimeout(Ye,Qe)),Le}return Qe=V(Qe)||0,de($e)&&(oe=!!$e.leading,we=(Ee="maxWait"in $e)?Q(V($e.maxWait)||0,Qe):we,Ce="trailing"in $e?!!$e.trailing:Ce),rn.cancel=function(){O!==void 0&&clearTimeout(O),pe=0,K=ae=me=O=void 0},rn.flush=function(){return O===void 0?Le:mn(ce())},rn})(A,R,{leading:P,maxWait:R,trailing:U})}},703:(o,u,h)=>{var m=h(414);function y(){}function g(){}g.resetWarningCache=y,o.exports=function(){function E(N,L,q,I,J,ee){if(ee!==m){var Q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Q.name="Invariant Violation",Q}}function w(){return E}E.isRequired=E;var x={array:E,bigint:E,bool:E,func:E,number:E,object:E,string:E,symbol:E,any:E,arrayOf:w,element:E,elementType:E,instanceOf:w,node:E,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:g,resetWarningCache:y};return x.PropTypes=x,x}},697:(o,u,h)=>{o.exports=h(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function r(o){var u=e[o];if(u!==void 0)return u.exports;var h=e[o]={exports:{}};return a[o](h,h.exports,r),h.exports}r.n=o=>{var u=o&&o.__esModule?()=>o.default:()=>o;return r.d(u,{a:u}),u},r.d=(o,u)=>{for(var h in u)r.o(u,h)&&!r.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:u[h]})},r.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),r.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{LazyLoadComponent:()=>Pt,LazyLoadImage:()=>fi,trackWindowScroll:()=>Le});const o=qc();var u=r.n(o),h=r(697);function m(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function y(he){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},y(he)}function g(he,j){var ne=Object.keys(he);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(he);j&&(fe=fe.filter((function(Ne){return Object.getOwnPropertyDescriptor(he,Ne).enumerable}))),ne.push.apply(ne,fe)}return ne}function E(he,j,ne){return(j=x(j))in he?Object.defineProperty(he,j,{value:ne,enumerable:!0,configurable:!0,writable:!0}):he[j]=ne,he}function w(he,j){for(var ne=0;ne<j.length;ne++){var fe=j[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(he,x(fe.key),fe)}}function x(he){var j=(function(ne,fe){if(y(ne)!=="object"||ne===null)return ne;var Ne=ne[Symbol.toPrimitive];if(Ne!==void 0){var Ue=Ne.call(ne,"string");if(y(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)})(he);return y(j)==="symbol"?j:String(j)}function N(he,j){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},N(he,j)}function L(he){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},L(he)}var q=function(he){he.forEach((function(j){j.isIntersecting&&j.target.onVisible()}))},I={},J=(function(he){(function(Z,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ie&&N(Z,ie)})(et,he);var j,ne,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ie=L(fe);if(Ne){var be=L(this).constructor;Z=Reflect.construct(ie,arguments,be)}else Z=ie.apply(this,arguments);return(function(ve,_e){if(_e&&(y(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){var ie;if((function(ve,_e){if(!(ve instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,et),(ie=Ue.call(this,Z)).supportsObserver=!Z.scrollPosition&&Z.useIntersectionObserver&&m(),ie.supportsObserver){var be=Z.threshold;ie.observer=(function(ve){return I[ve]=I[ve]||new IntersectionObserver(q,{rootMargin:ve+"px"}),I[ve]})(be)}return ie}return j=et,ne=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ie=this.placeholder.getBoundingClientRect(),be=this.placeholder.style,ve=parseInt(be.getPropertyValue("margin-left"),10)||0,_e=parseInt(be.getPropertyValue("margin-top"),10)||0;return{bottom:Z.y+ie.bottom+_e,left:Z.x+ie.left+ve,right:Z.x+ie.right+ve,top:Z.y+ie.top+_e}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Z=this.props,ie=Z.scrollPosition,be=Z.threshold,ve=this.getPlaceholderBoundingBox(ie),_e=ie.y+window.innerHeight,Me=ie.x,lt=ie.x+window.innerWidth,ot=ie.y;return ot-be<=ve.bottom&&_e+be>=ve.top&&Me-be<=ve.right&&lt+be>=ve.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Z=this,ie=this.props,be=ie.className,ve=ie.height,_e=ie.placeholder,Me=ie.style,lt=ie.width;if(_e&&typeof _e.type!="function")return u().cloneElement(_e,{ref:function(nt){return Z.placeholder=nt}});var ot=(function(nt){for(var gt=1;gt<arguments.length;gt++){var at=arguments[gt]!=null?arguments[gt]:{};gt%2?g(Object(at),!0).forEach((function(Nt){E(nt,Nt,at[Nt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):g(Object(at)).forEach((function(Nt){Object.defineProperty(nt,Nt,Object.getOwnPropertyDescriptor(at,Nt))}))}return nt})({display:"inline-block"},Me);return lt!==void 0&&(ot.width=lt),ve!==void 0&&(ot.height=ve),u().createElement("span",{className:be,ref:function(nt){return Z.placeholder=nt},style:ot},_e)}}],ne&&w(j.prototype,ne),Object.defineProperty(j,"prototype",{writable:!1}),et})(u().Component);J.propTypes={onVisible:h.PropTypes.func.isRequired,className:h.PropTypes.string,height:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),placeholder:h.PropTypes.element,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,scrollPosition:h.PropTypes.shape({x:h.PropTypes.number.isRequired,y:h.PropTypes.number.isRequired}),width:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string])},J.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const ee=J;var Q=r(296),W=r.n(Q),ce=r(96),de=r.n(ce),V=function(he){var j=getComputedStyle(he,null);return j.getPropertyValue("overflow")+j.getPropertyValue("overflow-y")+j.getPropertyValue("overflow-x")};const A=function(he){if(!(he instanceof HTMLElement))return window;for(var j=he;j&&j instanceof HTMLElement;){if(/(scroll|auto)/.test(V(j)))return j;j=j.parentNode}return window};function R(he){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},R(he)}var M=["delayMethod","delayTime"];function P(){return P=Object.assign?Object.assign.bind():function(he){for(var j=1;j<arguments.length;j++){var ne=arguments[j];for(var fe in ne)Object.prototype.hasOwnProperty.call(ne,fe)&&(he[fe]=ne[fe])}return he},P.apply(this,arguments)}function U(he,j){for(var ne=0;ne<j.length;ne++){var fe=j[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(he,(Ne=(function(Ue,et){if(R(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Ue,"string");if(R(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),R(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function C(he,j){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},C(he,j)}function Qe(he,j){if(j&&(R(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(he)}function $e(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function K(he){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},K(he)}var me=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},we=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Le=function(he){var j=(function(ne){(function(be,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(ve&&ve.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),ve&&C(be,ve)})(ie,ne);var fe,Ne,Ue,et,Z=(Ue=ie,et=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var be,ve=K(Ue);if(et){var _e=K(this).constructor;be=Reflect.construct(ve,arguments,_e)}else be=ve.apply(this,arguments);return Qe(this,be)});function ie(be){var ve;if((function(Me,lt){if(!(Me instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,ie),(ve=Z.call(this,be)).useIntersectionObserver=be.useIntersectionObserver&&m(),ve.useIntersectionObserver)return Qe(ve);var _e=ve.onChangeScroll.bind($e(ve));return be.delayMethod==="debounce"?ve.delayedScroll=W()(_e,be.delayTime):be.delayMethod==="throttle"&&(ve.delayedScroll=de()(_e,be.delayTime)),ve.state={scrollPosition:{x:me(),y:we()}},ve.baseComponentRef=u().createRef(),ve}return fe=ie,(Ne=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||A(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=A(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:me(),y:we()}})}},{key:"render",value:function(){var be=this.props,ve=(be.delayMethod,be.delayTime,(function(Me,lt){if(Me==null)return{};var ot,nt,gt=(function(Nt,an){if(Nt==null)return{};var Cn,Dn,zr={},tr=Object.keys(Nt);for(Dn=0;Dn<tr.length;Dn++)Cn=tr[Dn],an.indexOf(Cn)>=0||(zr[Cn]=Nt[Cn]);return zr})(Me,lt);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Me);for(nt=0;nt<at.length;nt++)ot=at[nt],lt.indexOf(ot)>=0||Object.prototype.propertyIsEnumerable.call(Me,ot)&&(gt[ot]=Me[ot])}return gt})(be,M)),_e=this.useIntersectionObserver?null:this.state.scrollPosition;return u().createElement(he,P({forwardRef:this.baseComponentRef,scrollPosition:_e},ve))}}])&&U(fe.prototype,Ne),Object.defineProperty(fe,"prototype",{writable:!1}),ie})(u().Component);return j.propTypes={delayMethod:h.PropTypes.oneOf(["debounce","throttle"]),delayTime:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool},j.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},j};function O(he){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},O(he)}function ae(he,j){for(var ne=0;ne<j.length;ne++){var fe=j[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(he,(Ne=(function(Ue,et){if(O(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Ue,"string");if(O(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),O(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function pe(he,j){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},pe(he,j)}function oe(he){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},oe(he)}var Ee=(function(he){(function(Z,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ie&&pe(Z,ie)})(et,he);var j,ne,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ie=oe(fe);if(Ne){var be=oe(this).constructor;Z=Reflect.construct(ie,arguments,be)}else Z=ie.apply(this,arguments);return(function(ve,_e){if(_e&&(O(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){return(function(ie,be){if(!(ie instanceof be))throw new TypeError("Cannot call a class as a function")})(this,et),Ue.call(this,Z)}return j=et,(ne=[{key:"render",value:function(){return u().createElement(ee,this.props)}}])&&ae(j.prototype,ne),Object.defineProperty(j,"prototype",{writable:!1}),et})(u().Component);const Ce=Le(Ee);function Ae(he){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Ae(he)}function wt(he,j){for(var ne=0;ne<j.length;ne++){var fe=j[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(he,(Ne=(function(Ue,et){if(Ae(Ue)!=="object"||Ue===null)return Ue;var Z=Ue[Symbol.toPrimitive];if(Z!==void 0){var ie=Z.call(Ue,"string");if(Ae(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(fe.key),Ae(Ne)==="symbol"?Ne:String(Ne)),fe)}var Ne}function Ye(he,j){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},Ye(he,j)}function mn(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function rn(he){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},rn(he)}var pt=(function(he){(function(Z,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ie&&Ye(Z,ie)})(et,he);var j,ne,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ie=rn(fe);if(Ne){var be=rn(this).constructor;Z=Reflect.construct(ie,arguments,be)}else Z=ie.apply(this,arguments);return(function(ve,_e){if(_e&&(Ae(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mn(ve)})(this,Z)});function et(Z){var ie;(function(lt,ot){if(!(lt instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,et),ie=Ue.call(this,Z);var be=Z.afterLoad,ve=Z.beforeLoad,_e=Z.scrollPosition,Me=Z.visibleByDefault;return ie.state={visible:Me},Me&&(ve(),be()),ie.onVisible=ie.onVisible.bind(mn(ie)),ie.isScrollTracked=!!(_e&&Number.isFinite(_e.x)&&_e.x>=0&&Number.isFinite(_e.y)&&_e.y>=0),ie}return j=et,(ne=[{key:"componentDidUpdate",value:function(Z,ie){ie.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Z=this.props,ie=Z.className,be=Z.delayMethod,ve=Z.delayTime,_e=Z.height,Me=Z.placeholder,lt=Z.scrollPosition,ot=Z.style,nt=Z.threshold,gt=Z.useIntersectionObserver,at=Z.width;return this.isScrollTracked||gt&&m()?u().createElement(ee,{className:ie,height:_e,onVisible:this.onVisible,placeholder:Me,scrollPosition:lt,style:ot,threshold:nt,useIntersectionObserver:gt,width:at}):u().createElement(Ce,{className:ie,delayMethod:be,delayTime:ve,height:_e,onVisible:this.onVisible,placeholder:Me,style:ot,threshold:nt,width:at})}}])&&wt(j.prototype,ne),Object.defineProperty(j,"prototype",{writable:!1}),et})(u().Component);pt.propTypes={afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool},pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Pt=pt;function Rt(he){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Rt(he)}var Lr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function va(he,j){var ne=Object.keys(he);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(he);j&&(fe=fe.filter((function(Ne){return Object.getOwnPropertyDescriptor(he,Ne).enumerable}))),ne.push.apply(ne,fe)}return ne}function ui(he){for(var j=1;j<arguments.length;j++){var ne=arguments[j]!=null?arguments[j]:{};j%2?va(Object(ne),!0).forEach((function(fe){Sn(he,fe,ne[fe])})):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(ne)):va(Object(ne)).forEach((function(fe){Object.defineProperty(he,fe,Object.getOwnPropertyDescriptor(ne,fe))}))}return he}function Sn(he,j,ne){return(j=Ur(j))in he?Object.defineProperty(he,j,{value:ne,enumerable:!0,configurable:!0,writable:!0}):he[j]=ne,he}function _a(){return _a=Object.assign?Object.assign.bind():function(he){for(var j=1;j<arguments.length;j++){var ne=arguments[j];for(var fe in ne)Object.prototype.hasOwnProperty.call(ne,fe)&&(he[fe]=ne[fe])}return he},_a.apply(this,arguments)}function ci(he,j){for(var ne=0;ne<j.length;ne++){var fe=j[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(he,Ur(fe.key),fe)}}function Ur(he){var j=(function(ne,fe){if(Rt(ne)!=="object"||ne===null)return ne;var Ne=ne[Symbol.toPrimitive];if(Ne!==void 0){var Ue=Ne.call(ne,"string");if(Rt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)})(he);return Rt(j)==="symbol"?j:String(j)}function er(he,j){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},er(he,j)}function Ea(he){return Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},Ea(he)}var cr=(function(he){(function(Z,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),ie&&er(Z,ie)})(et,he);var j,ne,fe,Ne,Ue=(fe=et,Ne=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Z,ie=Ea(fe);if(Ne){var be=Ea(this).constructor;Z=Reflect.construct(ie,arguments,be)}else Z=ie.apply(this,arguments);return(function(ve,_e){if(_e&&(Rt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me})(ve)})(this,Z)});function et(Z){var ie;return(function(be,ve){if(!(be instanceof ve))throw new TypeError("Cannot call a class as a function")})(this,et),(ie=Ue.call(this,Z)).state={loaded:!1},ie}return j=et,(ne=[{key:"onImageLoad",value:function(){var Z=this;return this.state.loaded?null:function(ie){Z.props.onLoad(ie),Z.props.afterLoad(),Z.setState({loaded:!0})}}},{key:"getImg",value:function(){var Z=this.props,ie=(Z.afterLoad,Z.beforeLoad,Z.delayMethod,Z.delayTime,Z.effect,Z.placeholder,Z.placeholderSrc,Z.scrollPosition,Z.threshold,Z.useIntersectionObserver,Z.visibleByDefault,Z.wrapperClassName,Z.wrapperProps,(function(be,ve){if(be==null)return{};var _e,Me,lt=(function(nt,gt){if(nt==null)return{};var at,Nt,an={},Cn=Object.keys(nt);for(Nt=0;Nt<Cn.length;Nt++)at=Cn[Nt],gt.indexOf(at)>=0||(an[at]=nt[at]);return an})(be,ve);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(be);for(Me=0;Me<ot.length;Me++)_e=ot[Me],ve.indexOf(_e)>=0||Object.prototype.propertyIsEnumerable.call(be,_e)&&(lt[_e]=be[_e])}return lt})(Z,Lr));return u().createElement("img",_a({},ie,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Z=this.props,ie=Z.beforeLoad,be=Z.className,ve=Z.delayMethod,_e=Z.delayTime,Me=Z.height,lt=Z.placeholder,ot=Z.scrollPosition,nt=Z.style,gt=Z.threshold,at=Z.useIntersectionObserver,Nt=Z.visibleByDefault,an=Z.width;return u().createElement(Pt,{beforeLoad:ie,className:be,delayMethod:ve,delayTime:_e,height:Me,placeholder:lt,scrollPosition:ot,style:nt,threshold:gt,useIntersectionObserver:at,visibleByDefault:Nt,width:an},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Z){var ie=this.props,be=ie.effect,ve=ie.height,_e=ie.placeholderSrc,Me=ie.width,lt=ie.wrapperClassName,ot=ie.wrapperProps,nt=this.state.loaded,gt=nt?" lazy-load-image-loaded":"",at=nt||!_e?{}:{backgroundImage:"url(".concat(_e,")"),backgroundSize:"100% 100%"};return u().createElement("span",_a({className:lt+" lazy-load-image-background "+be+gt,style:ui(ui({},at),{},{color:"transparent",display:"inline-block",height:ve,width:Me})},ot),Z)}},{key:"render",value:function(){var Z=this.props,ie=Z.effect,be=Z.placeholderSrc,ve=Z.visibleByDefault,_e=Z.wrapperClassName,Me=Z.wrapperProps,lt=this.getLazyLoadImage();return(ie||be)&&!ve||_e||Me?this.getWrappedLazyLoadImage(lt):lt}}])&&ci(j.prototype,ne),Object.defineProperty(j,"prototype",{writable:!1}),et})(u().Component);cr.propTypes={onLoad:h.PropTypes.func,afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,delayMethod:h.PropTypes.string,delayTime:h.PropTypes.number,effect:h.PropTypes.string,placeholderSrc:h.PropTypes.string,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool,wrapperClassName:h.PropTypes.string,wrapperProps:h.PropTypes.object},cr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const fi=cr})(),Ad.exports=s})()),Ad.exports}var eb=IR();const tb="/Ecommerce/assets/women-Dfw609QD.jpg",VR="/Ecommerce/assets/man-BNem_KT8.jpg",MR="/Ecommerce/assets/kid-aD3lXmzM.jpg",PR=B.lazy(()=>ya(()=>import("./HeroSlider-Dr-5vmCr.js"),__vite__mapDeps([0,1,2]))),kR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.ShoppingCart}))),qm=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.WifiOff}))),LR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Heart}))),UR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Search}))),zR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Expand}))),jR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.X}))),BR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.Grid}))),qR=B.lazy(()=>ya(()=>import("./lucide-react-DmA7Wi2S.js"),__vite__mapDeps([3,1])).then(a=>({default:a.List})));class HR extends v.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?v.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},v.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},v.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},v.createElement(qm,{className:"w-8 h-8 text-red-600"})),v.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),v.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),v.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const FR=(a,e)=>{let r;return function(...o){const u=()=>{clearTimeout(r),a(...o)};clearTimeout(r),r=setTimeout(u,e)}},GR={products:[],loading:!1,searchQuery:"",favoriteState:{},lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function QR(a,e){switch(e.type){case"SET_PRODUCTS":return{...a,products:e.payload};case"SET_LOADING":return{...a,loading:e.payload};case"SET_SEARCH_QUERY":return{...a,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...a,favoriteState:e.payload};case"SET_LAST_VISIBLE":return{...a,lastVisible:e.payload};case"SET_HAS_MORE":return{...a,hasMore:e.payload};case"SET_PAGE":return{...a,page:e.payload};case"SET_VIEW_MODE":return{...a,viewMode:e.payload};case"RESET_PAGINATION":return{...a,page:1,lastVisible:null,hasMore:!0,products:[]};default:return a}}const xd=v.memo(({product:a,onAddToCart:e,onAddToFavorites:r,isFav:s})=>{const[o,u]=B.useState(!1),[h,m]=B.useState(!1),y=parseFloat(a.price),g=parseFloat(a.newprice);return v.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},v.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},a.images?.map((E,w)=>v.createElement(eb.LazyLoadImage,{key:w,src:E,alt:`${a.name} - Image ${w+1}`,effect:"",className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>m(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="})),!o&&!h&&v.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},v.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),h&&v.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},v.createElement(qm,{className:"w-8 h-8 text-gray-400 mb-1"}),v.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),v.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},v.createElement("button",{onClick:()=>r(a.id),"aria-label":s?"Remove from favorites":"Add to favorites",className:`p-2 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${s?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(LR,{className:`w-5 h-5 transition-all duration-200 ${s?"fill-current":""}`})),v.createElement(al,{to:`/product/${a.id}`,"aria-label":`View details for ${a.name}`},v.createElement("button",{className:"p-2 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},v.createElement(zR,{className:"w-5 h-5"})))),y>g&&v.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold shadow-md z-10"},Math.round((y-g)/y*100),"% OFF")),v.createElement("div",{className:"p-2 flex flex-col flex-grow"},v.createElement("div",{className:"flex justify-between items-start mb-1"},v.createElement("h3",{className:"font-bold text-base text-gray-900 line-clamp-1"},a.name),v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded-full text-xs font-medium capitalize"},a.category)),v.createElement("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2 flex-grow"},a.det),v.createElement("div",{className:"flex items-center justify-between mt-auto"},v.createElement("div",{className:"flex items-center space-x-1"},y>g&&v.createElement("span",{className:"line-through text-xs text-gray-500"},"$",y.toFixed(2)),v.createElement("span",{className:"text-lg font-bold text-red-700"},"$",g.toFixed(2))),v.createElement("button",{onClick:()=>e(a),className:"p-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${a.name} to cart`},v.createElement(kR,{className:"w-5 h-5"})))))},(a,e)=>a.product.id===e.product.id&&a.isFav===e.isFav),$R=()=>v.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},v.createElement("div",{className:"relative bg-gray-200 aspect-[1/1]"},v.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full w-14 h-5"}),v.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2"},v.createElement("div",{className:"w-9 h-9 bg-gray-300 rounded-full"}),v.createElement("div",{className:"w-9 h-9 bg-gray-300 rounded-full"}))),v.createElement("div",{className:"p-2 flex flex-col flex-grow"},v.createElement("div",{className:"flex justify-between items-center mb-2"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-2/3"}),v.createElement("div",{className:"h-5 bg-gray-300 rounded-full w-16"})),v.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),v.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),v.createElement("div",{className:"flex items-center justify-between mt-auto"},v.createElement("div",{className:"space-x-2 flex items-center"},v.createElement("div",{className:"h-4 bg-gray-300 rounded w-10"}),v.createElement("div",{className:"h-6 bg-gray-300 rounded w-16"})),v.createElement("div",{className:"h-9 w-9 bg-gray-300 rounded-lg"})))),YR=v.memo(({searchQuery:a,setSearchQuery:e,filteredCount:r})=>{const s=B.useCallback(FR(o=>e(o),300),[]);return v.createElement("div",{className:"w-full mb-10 mx-auto px-4"},v.createElement("div",{className:"max-w-2xl mx-auto"},v.createElement("div",{className:"relative"},v.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},v.createElement(UR,{className:"h-4 w-4 text-gray-400"})),v.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:a,onChange:o=>s(o.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),a&&v.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},v.createElement(jR,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}))),a.trim()!==""&&v.createElement("div",{className:"mt-2 text-center"},v.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",v.createElement("span",{className:"font-semibold text-red-700"},'"',a,'"')),v.createElement("p",{className:"text-gray-600 text-xs"},"Found ",v.createElement("span",{className:"font-bold"},r)," result",r!==1?"s":""))))}),KR=v.memo(()=>{const a=[{name:"men",img:VR},{name:"women",img:tb},{name:"kids",img:MR}];return v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},v.createElement("div",{className:"text-center mb-6"},v.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),v.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),v.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},a.map(e=>v.createElement("div",{key:e.name,className:"flex flex-col items-center group"},v.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},v.createElement(eb.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),v.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),v.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),Rd=v.memo(({title:a,count:e})=>v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},a),v.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),XR=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const[s,o]=B.useReducer(QR,GR),{products:u,loading:h,searchQuery:m,favoriteState:y,lastVisible:g,hasMore:E,page:w,viewMode:x}=s,N=12,L=B.useCallback(async(W=1,ce=m)=>{W===1&&(o({type:"SET_LOADING",payload:!0}),o({type:"RESET_PAGINATION"}));try{let de=jo(cl,"products");ce.trim()!==""&&(de=wd(de,bv("name",">=",ce),bv("name","<=",ce+""))),W>1&&g?de=wd(de,Gx(g),Tv(N)):de=wd(de,Tv(N));const V=await uf(de),A=V.docs.map(R=>({id:R.id,...R.data()}));o(W===1?{type:"SET_PRODUCTS",payload:A}:{type:"SET_PRODUCTS",payload:[...u,...A]}),o({type:"SET_LAST_VISIBLE",payload:V.docs[V.docs.length-1]}),o({type:"SET_HAS_MORE",payload:V.docs.length===N}),o({type:"SET_PAGE",payload:W})}catch(de){console.error("Error fetching products:",de)}finally{o({type:"SET_LOADING",payload:!1})}},[m,g,u,N]);B.useEffect(()=>{L()},[]),B.useEffect(()=>{m!==s.searchQuery&&L(1,m)},[m]);const q=B.useCallback(()=>{!h&&E&&L(w+1)},[h,E,w,L]),I=B.useCallback(W=>{if(o({type:"SET_FAVORITE_STATE",payload:{...y,[W]:!y[W]}}),e){const ce=u.find(de=>de.id===W);ce&&e(ce)}},[y,e,u]),J=u.filter(W=>W.category==="men"),ee=u.filter(W=>W.category==="women"),Q=u.filter(W=>W.category==="kids");return h&&u.length===0?v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"text-center mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),v.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),v.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 bg-gray-50"},Array.from({length:4}).map((W,ce)=>v.createElement($R,{key:ce}))))):u.length===0?v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},v.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},v.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},v.createElement(qm,{className:"w-8 h-8 text-red-600"})),v.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),v.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),v.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):v.createElement(HR,null,v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},v.createElement(B.Suspense,{fallback:v.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},v.createElement(PR,null)),v.createElement(KR,null),v.createElement(YR,{searchQuery:m,setSearchQuery:W=>o({type:"SET_SEARCH_QUERY",payload:W}),filteredCount:u.length}),v.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},v.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},v.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${x==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},v.createElement(BR,{className:"w-4 h-4"})),v.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${x==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},v.createElement(qR,{className:"w-4 h-4"})))),J.length>0&&v.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Rd,{title:"Men's Collection",count:J.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},J.map(W=>v.createElement(xd,{key:W.id,product:W,onAddToCart:a,onAddToFavorites:I,isFav:y[W.id]||!1})))),ee.length>0&&v.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Rd,{title:"Women's Collection",count:ee.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ee.map(W=>v.createElement(xd,{key:W.id,product:W,onAddToCart:a,onAddToFavorites:I,isFav:y[W.id]||!1})))),Q.length>0&&v.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},v.createElement(Rd,{title:"Kids' Collection",count:Q.length}),v.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${x==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},Q.map(W=>v.createElement(xd,{key:W.id,product:W,onAddToCart:a,onAddToFavorites:I,isFav:y[W.id]||!1})))),E&&v.createElement("div",{className:"flex justify-center my-8"},v.createElement("button",{onClick:q,disabled:h,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},h?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},Ov=v.memo(XR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Iv=a=>{const e=WR(a);return e.charAt(0).toUpperCase()+e.slice(1)},nb=(...a)=>a.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),JR=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=B.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},y)=>B.createElement("svg",{ref:y,...eN,width:e,height:e,stroke:a,strokeWidth:s?Number(r)*24/Number(e):r,className:nb("lucide",o),...!u&&!JR(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>B.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(a,e)=>{const r=B.forwardRef(({className:s,...o},u)=>B.createElement(tN,{ref:u,iconNode:e,className:nb(`lucide-${ZR(Iv(a))}`,`lucide-${a}`,s),...o}));return r.displayName=Iv(a),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vv=Xt("arrow-left",nN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aN=Xt("circle-alert",rN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rb=Xt("circle-check-big",iN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],Hm=Xt("expand",sN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ab=Xt("heart-off",lN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ga=Xt("heart",oN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Mv=Xt("house",uN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],fN=Xt("list",cN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dN=Xt("mail",hN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pN=Xt("map-pin",mN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M5 12h14",key:"1ays0h"}]],yN=Xt("minus",gN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_N=Xt("phone",vN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bN=Xt("plus",EN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pv=Xt("search",TN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Jn=Xt("shopping-cart",wN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zd=Xt("trash-2",SN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xN=Xt("user",AN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ib=Xt("wifi-off",RN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],To=Xt("x",NN),CN=({onAddToCart:a,favorites:e=[],onAddToFavorites:r,searchQuery:s})=>{const[o,u]=B.useState([]),[h,m]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const q=(await uf(jo(cl,"products"))).docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.category==="men");u(q)}catch(L){console.error("Error fetching men products:",L)}finally{m(!1)}})()},[]);const y=N=>e.some(L=>L.id===N),g=N=>{r&&r(N)},E=N=>{a&&a(N)},w=o.filter(N=>N.name.toLowerCase().includes(s?.toLowerCase()||"")),x=()=>Array(6).fill(0).map((N,L)=>v.createElement("div",{key:L,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-48 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),v.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return h?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Men Products"),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},x()))):w.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement(ib,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Men Products"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No products found matching your search."),v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},v.createElement(ga,{className:"w-5 h-5 mr-2"}),"Start Shopping"))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men Products"),v.createElement("p",{className:"text-gray-600"},w.length," product",w.length!==1?"s":""," available")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},w.map(N=>{const L=parseFloat(N.price)||0,q=parseFloat(N.newprice||N.newPrice)||L;return v.createElement("div",{key:N.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:N.images?.[0]||"/fallback.jpg",alt:N.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>g(N),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${y(N.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${y(N.id)?"fill-current":""}`})),v.createElement(al,{to:`/product/${N.id}`},v.createElement("button",{className:"absolute  bg-gray-100 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Hm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),L>q&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((L-q)/L*100),"% OFF")),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},N.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},N.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},N.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},L>q&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",L.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",q.toFixed(2))),v.createElement("button",{onClick:()=>E(N),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))})),v.createElement("div",{className:"mt-12 text-center"},v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},DN=({onAddToCart:a,onAddToFavorites:e,favorites:r=[],searchQuery:s})=>{const[o,u]=B.useState([]),[h,m]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const q=(await uf(jo(cl,"products"))).docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.category==="women");u(q)}catch(L){console.error("Error fetching women products:",L)}finally{m(!1)}})()},[]);const y=o.filter(N=>N.name.toLowerCase().includes(s?.toLowerCase()||"")),g=N=>r.some(L=>L.id===N),E=N=>{e&&e(N)},w=N=>{a&&a(N)},x=()=>Array(6).fill(0).map((N,L)=>v.createElement("div",{key:L,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-48 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"}),v.createElement("div",{className:"h-8 w-24 bg-gray-300 rounded"})))));return h?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Women Products"),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},x()))):y.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement(ib,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Women Products"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"No women products found matching your search."))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women Products")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},y.map(N=>{const L=parseFloat(N.price)||0,q=parseFloat(N.newprice||N.newPrice)||L;return v.createElement("div",{key:N.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:N.images[0]||tb,alt:N.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>E(N),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${g(N.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200 ${g(N.id)?"fill-current":""}`})),v.createElement(al,{to:`/product/${N.id}`},v.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Hm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200",size:40}))),L>q&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((L-q)/L*100),"% OFF")),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},N.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},N.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},N.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},L>q&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",L.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",q.toFixed(2))),v.createElement("button",{onClick:()=>w(N),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))}))))},ON=({onAddToCart:a,favorites:e=[],onAddToFavorites:r})=>{const[s,o]=B.useState([]),[u,h]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const w=(await uf(jo(cl,"products"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>x.category==="kids");o(w)}catch(E){console.error("Error fetching kids products:",E)}finally{h(!1)}})()},[]);const m=g=>e.some(E=>E.id===g),y=g=>{r&&r(g)};return u?v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Kids Products"),v.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Array(6).fill(0).map((g,E)=>v.createElement("div",{key:E,className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse"},v.createElement("div",{className:"w-full h-64 bg-gray-300"}),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),v.createElement("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),v.createElement("div",{className:"h-6 w-16 bg-gray-300 rounded"})))))):s.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16"},v.createElement("div",{className:"text-center"},v.createElement(ab,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"No Kids Products"))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids Products")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},s.map(g=>{const E=parseFloat(g.price)||0,w=parseFloat(g.newPrice||g.newprice)||E;return v.createElement("div",{key:g.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:g.images[0]||"https://via.placeholder.com/300x300?text=No+Image",alt:g.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>y(g),className:`absolute top-3 right-3 p-2 rounded-full backdrop-blur-sm transition-all duration-300 ${m(g.id)?"bg-pink-100 text-pink-600 scale-110":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},v.createElement(ga,{className:`w-5 h-5 transition-all duration-200 ${m(g.id)?"fill-current":""}`})),v.createElement(al,{to:`/product/${g.id}`},v.createElement("button",{className:"absolute bg-white/80 top-[13px] sm:top-3 right-15 sm:right-15 p-2 sm:p-2 rounded-full backdrop-blur-sm transition-all duration-300 "},v.createElement(Hm,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-all duration-200"}))),E>w&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((E-w)/E*100),"% OFF")),v.createElement("div",{className:"p-4 sm:p-5"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},g.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},g.det||"No description available"),v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},g.category),v.createElement("div",{className:"flex items-center justify-between mt-2"},v.createElement("div",{className:"flex items-center space-x-2"},E>w&&v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",E.toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",w.toFixed(2))),v.createElement("button",{onClick:()=>a(g),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add")))))}))))},IN=({favorites:a=[],onRemoveFromFavorites:e,onAddToCart:r})=>{const s=u=>{e&&e(u)},o=u=>{r&&r(u)};return a.length===0?v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},v.createElement("div",{className:"text-center"},v.createElement(ab,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),v.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),v.createElement("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},v.createElement(ga,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):v.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},v.createElement("div",{className:"mb-8"},v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),v.createElement("p",{className:"text-gray-600"},"You have ",a.length," item",a.length!==1?"s":""," in your favorites")),v.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},a.map(u=>v.createElement("div",{key:u.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},v.createElement("div",{className:"relative overflow-hidden"},v.createElement("img",{src:u.images[0]||"https://via.placeholder.com/300x300?text=No+Image",alt:u.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),v.createElement("button",{onClick:()=>s(u.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-0 group-hover:opacity-100","aria-label":`Remove ${u.name} from favorites`},v.createElement(Zd,{className:"w-4 h-4"})),parseFloat(u.price)>parseFloat(u.newprice||u.newPrice)&&v.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(u.newprice||u.newPrice)/parseFloat(u.price))*100),"% OFF"),v.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},v.createElement(ga,{className:"w-4 h-4 fill-current"}))),v.createElement("div",{className:"p-3 sm:p-4"},v.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},u.name),v.createElement("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 line-clamp-2"},u.det||"No description available"),v.createElement("div",{className:"mb-3"},v.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},u.category)),v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement("div",{className:"flex items-center space-x-2"},v.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(u.price).toFixed(2)),v.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(u.newprice||u.newPrice).toFixed(2))),v.createElement("button",{onClick:()=>o(u),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},v.createElement(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),v.createElement("div",{className:"mt-12 text-center"},v.createElement("a",{href:"/",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function VN({cartItemCount:a,onCartClick:e,onSearch:r}){const[s,o]=B.useState(!1),[u,h]=B.useState(!1),[m,y]=B.useState(!1),[g,E]=B.useState(""),w=li(),x=B.useRef(null),N=["Home","Men","Favorites","Women","Kids"];B.useEffect(()=>{o(!1)},[w]),B.useEffect(()=>{m&&x.current&&x.current.focus()},[m]),B.useEffect(()=>{const q=setTimeout(()=>{r&&r(g)},300);return()=>clearTimeout(q)},[g,r]);const L=q=>{q.preventDefault(),r&&r(g)};return v.createElement(v.Fragment,null,v.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},v.createElement("div",{className:"flex items-center justify-between h-16"},v.createElement("div",{className:"flex items-center space-x-8"},v.createElement(zs,{to:"/",className:"flex items-center space-x-2"},v.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center"},v.createElement("span",{className:"text-white font-bold text-lg"},"S")),v.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop")),v.createElement("nav",{className:"hidden md:flex space-x-1"},N.map(q=>v.createElement(zs,{key:q,to:`/${q==="Home"?"":q.toLowerCase()}`,className:({isActive:I})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${I?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},q)))),v.createElement("div",{className:"flex items-center"},v.createElement("div",{className:"relative"},v.createElement("button",{onClick:()=>{e(),h(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},v.createElement(Jn,{className:"w-6 h-6"}),a>0&&v.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},a>99?"99+":a))),v.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>o(!s)},s?v.createElement(To,{className:"w-6 h-6"}):v.createElement(fN,{className:"w-6 h-6"})))))),m&&v.createElement("div",{className:"md:hidden bg-white py-3 px-4 border-b border-gray-200 shadow-sm z-30"},v.createElement("form",{onSubmit:L,className:"relative"},v.createElement("input",{ref:x,type:"text",placeholder:"Search products...",value:g,onChange:q=>E(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300"}),v.createElement(Pv,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),v.createElement("button",{type:"button",onClick:()=>y(!1),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600"},v.createElement(To,{className:"w-4 h-4"})))),s&&v.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>o(!1)}),v.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${s?"translate-x-0":"translate-x-full"}`},v.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},v.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),v.createElement("button",{onClick:()=>o(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},v.createElement(To,{className:"w-6 h-6"}))),v.createElement("div",{className:"p-4"},v.createElement("nav",{className:"flex flex-col space-y-1"},N.map(q=>{const I=q==="Home"?Mv:q==="Favorites"?ga:null;return v.createElement(zs,{key:q,to:`/${q==="Home"?"":q.toLowerCase()}`,className:({isActive:J})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${J?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>o(!1)},I&&v.createElement(I,{className:"w-5 h-5 mr-3"}),q)})))),v.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},v.createElement(zs,{to:"/",className:({isActive:q})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${q?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(Mv,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Home")),v.createElement("button",{onClick:()=>y(!0),className:"flex flex-col items-center justify-center text-gray-500 px-4 py-1 rounded-lg transition-all duration-300 hover:text-red-700"},v.createElement(Pv,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Search")),v.createElement(zs,{to:"/favorites",className:({isActive:q})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${q?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(ga,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Favorites")),v.createElement("button",{onClick:()=>{e(),h(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${u?"text-red-700 scale-110":"text-gray-500"}`},v.createElement(Jn,{className:"w-6 h-6"}),v.createElement("span",{className:"text-xs mt-1"},"Cart"),a>0&&v.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},a>99?"99+":a))))}function MN({isOpen:a,onClose:e,cart:r,onIncreaseQty:s,onDecreaseQty:o,onRemoveItem:u,onClearCart:h,onCheckout:m,total:y}){const[g,E]=B.useState(null),[w,x]=B.useState(!1),N=(Q,W="success")=>{E({text:Q,type:W}),setTimeout(()=>E(null),2e3)},L=Q=>{o(Q)},q=Q=>{s(Q)},I=(Q,W)=>{u(Q),N(`${W} removed from cart`)},J=()=>{h(),N("Cart cleared")},ee=async()=>{x(!0);try{await m(),N("Checkout successful!")}catch{N("Checkout failed. Please try again.","error")}finally{x(!1)}};return v.createElement("div",{className:`fixed inset-0 z-50 ${a?"block":"hidden"}`},v.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:e}),v.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"translate-x-full"}`},v.createElement("div",{className:"flex flex-col h-full"},v.createElement("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-red-50 to-red-100 border-b border-red-200"},v.createElement("div",{className:"flex items-center space-x-2"},v.createElement(Jn,{className:"w-6 h-6 text-red-700"}),v.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Shopping Cart"),r.length>0&&v.createElement("span",{className:"bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},r.reduce((Q,W)=>Q+W.qty,0))),v.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-red-200 transition-colors duration-200","aria-label":"Close cart"},v.createElement(To,{className:"w-5 h-5 text-red-700"}))),g&&v.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${g.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},v.createElement(rb,{className:"w-5 h-5"}),v.createElement("span",null,g.text)),v.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},r.length===0?v.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},v.createElement("div",{className:"bg-red-100 p-4 rounded-full mb-4"},v.createElement(Jn,{className:"w-16 h-16 text-red-500"})),v.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),v.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),v.createElement("button",{onClick:e,className:"px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-md"},"Continue Shopping")):v.createElement("div",{className:"space-y-4"},r.map(Q=>v.createElement("div",{key:`${Q.id}-${Q.selectedSize||"default"}`,className:"flex items-center p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300"},v.createElement("div",{className:"relative"},v.createElement("img",{src:Q.image||(Array.isArray(Q.images)?Q.images[0]:Q.images),alt:Q.name,className:"w-16 h-16 object-cover rounded-lg",onError:W=>{W.target.src="/placeholder.jpg"}}),Q.selectedSize&&v.createElement("span",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},Q.selectedSize)),v.createElement("div",{className:"flex-1 min-w-0 ml-4"},v.createElement("h4",{className:"text-base font-semibold text-gray-900 truncate"},Q.name),Q.selectedSize&&v.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",v.createElement("span",{className:"font-medium"},Q.selectedSize)),v.createElement("div",{className:"flex items-center mt-1"},v.createElement("span",{className:"text-red-700 font-bold"},"$",parseFloat(Q.price).toFixed(2)),Q.originalPrice&&Q.originalPrice>Q.price&&v.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(Q.originalPrice).toFixed(2)))),v.createElement("div",{className:"flex flex-col items-end space-y-2"},v.createElement("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full p-1"},v.createElement("button",{onClick:()=>L(Q.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Decrease quantity"},v.createElement(yN,{className:"w-3 h-3"})),v.createElement("span",{className:"text-sm font-medium w-8 text-center"},Q.qty),v.createElement("button",{onClick:()=>q(Q.id),className:"w-7 h-7 rounded-full bg-white hover:bg-gray-200 flex items-center justify-center text-gray-700 shadow-sm transition-colors duration-200","aria-label":"Increase quantity"},v.createElement(bN,{className:"w-3 h-3"}))),v.createElement("button",{onClick:()=>I(Q.id,Q.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},v.createElement(Zd,{className:"w-4 h-4"}))))))),r.length>0&&v.createElement("div",{className:"border-t border-gray-200 p-5 bg-gradient-to-b from-white to-gray-50"},v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("span",{className:"text-gray-600"},"Subtotal:"),v.createElement("span",{className:"text-lg font-semibold text-gray-900"},"$",y.toFixed(2))),v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("span",{className:"text-gray-600"},"Shipping:"),v.createElement("span",{className:"text-gray-900"},"Free")),v.createElement("div",{className:"flex justify-between items-center mb-6 text-lg font-bold"},v.createElement("span",null,"Total:"),v.createElement("span",{className:"text-red-700 text-xl"},"$",y.toFixed(2))),v.createElement("button",{onClick:ee,disabled:w,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${w?"bg-gray-400 cursor-not-allowed":"bg-red-700 hover:bg-red-800 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"} text-white`},w?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):v.createElement(v.Fragment,null,v.createElement(Jn,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),v.createElement("button",{onClick:J,className:"w-full mt-3 py-2 px-4 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-300 text-sm font-medium flex items-center justify-center"},v.createElement(Zd,{className:"w-4 h-4 mr-2"}),"Clear Cart"),v.createElement("button",{onClick:e,className:"w-full mt-2 py-2 text-red-600 hover:text-red-800 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}function PN({isOpen:a,onClose:e,total:r,cart:s,onOrderSuccess:o}){const[u,h]=B.useState({name:"",email:"",phone:"",address:""}),[m,y]=B.useState(!1),[g,E]=B.useState(""),[w,x]=B.useState({}),N=I=>{h(J=>({...J,[I.target.name]:I.target.value})),w[I.target.name]&&x(J=>({...J,[I.target.name]:null}))},L=()=>{const I={};return u.name.trim()||(I.name="Name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(I.email="Please enter a valid email address"):I.email="Email is required",u.phone.trim()?/^\+?[0-9\s\-\(\)]{10,15}$/.test(u.phone.replace(/\s/g,""))||(I.phone="Please enter a valid phone number"):I.phone="Phone number is required",u.address.trim()||(I.address="Address is required"),x(I),Object.keys(I).length===0},q=async I=>{if(I.preventDefault(),!L()){E("Please correct the errors in the form.");return}if(!s||s.length===0){E("Your cart is empty.");return}try{y(!0),await Zx(jo(cl,"orders"),{client:u,items:s,total:r,status:"pending",timestamp:new Date().toISOString()}),E("Order placed successfully!"),h({name:"",email:"",phone:"",address:""}),o?.(),setTimeout(()=>e(),2e3)}catch(J){console.error("Error placing order:",J),E("Failed to place order. Try again.")}finally{y(!1)}};return B.useEffect(()=>{if(g){const I=setTimeout(()=>E(""),3e3);return()=>clearTimeout(I)}},[g]),a?v.createElement(v.Fragment,null,g&&v.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},v.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transform transition-all duration-300 scale-100 animate-scaleIn ${g.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},g.includes("success")?v.createElement(rb,{className:"w-8 h-8 flex-shrink-0"}):v.createElement(aN,{className:"w-8 h-8 flex-shrink-0"}),v.createElement("span",{className:"text-lg font-medium"},g))),v.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},v.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e,"aria-hidden":"true"}),v.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col transform transition-all duration-300 scale-95 animate-scaleIn"},v.createElement("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all duration-300 backdrop-blur-sm","aria-label":"Close Checkout Modal"},v.createElement(To,{className:"w-5 h-5"})),v.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},v.createElement("div",{className:"flex items-center space-x-3"},v.createElement(Jn,{className:"w-8 h-8"}),v.createElement("h2",{id:"checkout-modal-title",className:"text-2xl font-bold"},"Checkout"))),v.createElement("div",{className:"flex-1 overflow-y-auto p-6"},v.createElement("div",{className:"mb-8"},v.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},v.createElement(Jn,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),v.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},s.map((I,J)=>v.createElement("div",{key:`${I.id}-${J}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},v.createElement("div",{className:"flex items-center gap-4"},v.createElement("div",{className:"relative"},v.createElement("img",{src:I.image||(Array.isArray(I.images)?I.images[0]:I.images),alt:I.name,className:"w-16 h-16 object-cover rounded-lg",onError:ee=>{ee.target.src="/placeholder.jpg"}}),I.selectedSize&&v.createElement("span",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},I.selectedSize)),v.createElement("div",null,v.createElement("div",{className:"text-sm font-semibold text-gray-900"},I.name),v.createElement("div",{className:"flex items-center gap-2 mt-1"},v.createElement("span",{className:"text-xs text-gray-500"},"Qty: ",I.qty),I.selectedSize&&v.createElement("span",{className:"text-xs text-gray-500"},"Size: ",I.selectedSize)))),v.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(I.qty*I.price).toFixed(2))))),v.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},v.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),v.createElement("span",{className:"text-xl font-bold text-red-700"},"$",r.toFixed(2)))),v.createElement("form",{onSubmit:q,className:"space-y-5"},v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(xN,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),v.createElement("input",{type:"text",name:"name",autoFocus:!0,value:u.name,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${w.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your full name",disabled:m}),w.name&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},w.name)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(dN,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),v.createElement("input",{type:"email",name:"email",value:u.email,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${w.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your email",disabled:m}),w.email&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},w.email)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(_N,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),v.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${w.phone?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your phone number",disabled:m}),w.phone&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},w.phone)),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},v.createElement(pN,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),v.createElement("textarea",{name:"address",value:u.address,onChange:N,rows:3,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all resize-none ${w.address?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-red-600 focus:border-red-600"}`,placeholder:"Enter your shipping address",disabled:m}),w.address&&v.createElement("p",{className:"mt-1 text-sm text-red-600"},w.address)),v.createElement("button",{type:"submit",disabled:m,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed shadow-md hover:shadow-lg"},m?v.createElement(v.Fragment,null,v.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing Order..."):v.createElement(v.Fragment,null,"Place Order"))))))):null}const kN=({onAddToCart:a,onAddToFavorites:e,favorites:r=[]})=>{const{id:s}=mT(),o=Gv(),[u,h]=B.useState(null),[m,y]=B.useState(!0),[g,E]=B.useState(null),[w,x]=B.useState(null),[N,L]=B.useState(""),[q,I]=B.useState(!1),J=r.some(de=>de.id===s);B.useEffect(()=>{(async()=>{y(!0);try{const V=jE(cl,"products",s),A=await Xx(V);if(A.exists()){const R={id:A.id,...A.data()};h(R),E(R.images?.[0]||null)}else h(null)}catch(V){console.error("Error fetching product:",V),h(null)}finally{y(!1)}})()},[s]),B.useEffect(()=>{window.scrollTo(0,0)},[s]);const ee=u?.sizes&&u.sizes.length>0,Q=()=>{if(ee&&!w){L("⚠️ Please select a size before adding to cart.");return}L("✅ Added to cart!"),a({id:u.id,name:u.name,price:u.newprice||u.price,image:u.images?.[0]||"",selectedSize:w,quantity:1}),setTimeout(()=>L(""),3e3)},W=()=>{J||(e(u),L("❤️ Added to favorites!"),setTimeout(()=>L(""),3e3))},ce=()=>{I(!0)};return m?v.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},v.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):u?v.createElement("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},v.createElement("button",{onClick:()=>o(-1),className:"flex items-center text-red-600 hover:text-red-800 mb-6 transition-colors"},v.createElement(Vv,{className:"w-5 h-5 mr-1"})," Back"),v.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},v.createElement("div",{className:"flex flex-col lg:flex-row"},v.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8"},v.createElement("div",{className:"flex flex-col md:flex-row gap-6"},v.createElement("div",{className:"flex-1"},v.createElement("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-inner flex items-center justify-center"},g&&!q?v.createElement("img",{src:g,alt:u.name,className:"w-full h-full object-contain",onError:ce}):v.createElement("div",{className:"text-center p-8"},v.createElement("div",{className:"text-5xl mb-2"},"🖼️"),v.createElement("p",{className:"text-gray-500"},"Image not available")))),v.createElement("div",{className:"flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-y-auto max-w-full md:max-w-[100px] lg:max-w-[120px]"},u.images?.map((de,V)=>v.createElement("button",{key:V,onClick:()=>{E(de),I(!1)},className:`flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${g===de?"border-red-500 scale-105 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`},v.createElement("img",{src:de,alt:`${u.name} thumbnail ${V+1}`,className:"w-full h-full object-cover",onError:A=>{A.target.src="/placeholder.jpg"}})))))),v.createElement("div",{className:"lg:w-1/2 p-6 lg:p-8 border-t lg:border-t-0 lg:border-l border-gray-200"},v.createElement("div",{className:"flex flex-col h-full"},v.createElement("div",null,v.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},u.name),v.createElement("p",{className:"text-gray-600 mb-6"},u.category),ee&&v.createElement("div",{className:"mb-6"},v.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Select Size"),v.createElement("div",{className:"flex flex-wrap gap-2"},u.sizes.map(de=>v.createElement("button",{key:de,onClick:()=>x(de),className:`px-4 py-2 rounded-lg border font-medium transition-all duration-200 ${w===de?"bg-red-600 text-white border-red-600 shadow-md":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`},de.toUpperCase()))),ee&&!w&&v.createElement("p",{className:"mt-2 text-sm text-red-500"},"Please select a size")),v.createElement("div",{className:"mb-6"},v.createElement("div",{className:"flex items-baseline gap-3"},v.createElement("span",{className:"text-3xl font-bold text-gray-900"},"$",u.newprice||u.price),u.newprice&&u.newprice<u.price&&v.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",u.price),u.newprice&&u.newprice<u.price&&v.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},"Save $",(u.price-u.newprice).toFixed(2)))),v.createElement("div",{className:"flex flex-wrap gap-4 mb-6"},v.createElement("button",{onClick:Q,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300"},v.createElement(Jn,{className:"w-5 h-5"})," Add to Cart"),v.createElement("button",{onClick:W,className:`p-3 rounded-xl border transition-all duration-300 ${J?"bg-red-50 text-red-600 border-red-200 shadow-sm":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100 hover:shadow-sm"}`,title:J?"Remove from favorites":"Add to favorites"},v.createElement(ga,{className:`w-6 h-6 transition-all duration-300 ${J?"fill-red-600 text-red-600 scale-110":""}`}))),N&&v.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 animate-fadeIn"},N)),v.createElement("div",{className:"mt-auto pt-6 border-t border-gray-200"},v.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-3"},"Description"),v.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line"},u.det||"No description available for this product."))))))):v.createElement("div",{className:"text-center py-20 px-4"},v.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md p-8"},v.createElement("div",{className:"text-6xl mb-4"},"😕"),v.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),v.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),v.createElement("button",{onClick:()=>o(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},v.createElement(Vv,{className:"w-4 h-4 mr-2"})," Go Back")))};function LN(){const[a,e]=B.useState([]),[r,s]=B.useState(!1),[o,u]=B.useState(!1),[h,m]=B.useState([]),[y,g]=B.useState(""),E=Q=>{m(W=>W.find(ce=>ce.id===Q.id)?W:[...W,Q])},w=Q=>{m(W=>W.filter(ce=>ce.id!==Q))},x=Q=>{e(W=>W.find(de=>de.id===Q.id)?W.map(de=>de.id===Q.id?{...de,qty:de.qty+1}:de):[...W,{...Q,qty:1}])},N=Q=>{e(a.map(W=>W.id===Q?{...W,qty:W.qty+1}:W))},L=Q=>{e(a.map(W=>W.id===Q?{...W,qty:W.qty>1?W.qty-1:1}:W))},q=Q=>e(a.filter(W=>W.id!==Q)),I=()=>e([]),J=()=>a.reduce((Q,W)=>Q+W.qty,0),ee=()=>a.reduce((Q,W)=>Q+parseFloat(W.price)*W.qty,0);return v.createElement(WT,null,v.createElement(VN,{cartItemCount:J(),onCartClick:()=>s(!0),onSearch:g}),v.createElement(MN,{isOpen:r,onClose:()=>s(!1),cart:a,onIncreaseQty:N,onDecreaseQty:L,onRemoveItem:q,onClearCart:I,onCheckout:()=>{u(!0),s(!1)},total:ee()}),v.createElement(PN,{isOpen:o,onClose:()=>u(!1),cart:a,total:ee(),onOrderSuccess:I}),v.createElement(CT,null,v.createElement($a,{path:"/",element:v.createElement(Ov,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:w,favorites:h,searchQuery:y})}),v.createElement($a,{path:"/Ecommerce",element:v.createElement(Ov,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:w,favorites:h,searchQuery:y})}),v.createElement($a,{path:"/men",element:v.createElement(CN,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:w,favorites:h,searchQuery:y})}),v.createElement($a,{path:"/women",element:v.createElement(DN,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:w,favorites:h,searchQuery:y})}),v.createElement($a,{path:"/kids",element:v.createElement(ON,{onAddToCart:x,onAddToFavorites:E,onRemoveFromFavorites:w,favorites:h,searchQuery:y})}),v.createElement($a,{path:"/favorites",element:v.createElement(IN,{favorites:h,onRemoveFromFavorites:w,onAddToCart:x})}),v.createElement($a,{path:"/product/:id",element:v.createElement(kN,{onAddToCart:x,onAddToFavorites:E,favorites:h})})))}U1.createRoot(document.getElementById("root")).render(v.createElement(B.StrictMode,null,v.createElement(LN,null)));export{Vv as A,aN as C,Hm as E,ga as H,tN as I,fN as L,dN as M,_N as P,v as R,Pv as S,Zd as T,xN as U,ib as W,To as X,Xt as a,rb as b,jo as c,cl as d,ab as e,Mv as f,uf as g,pN as h,yN as i,bN as j,Jn as k,B as r};
