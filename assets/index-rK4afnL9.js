const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-Cp_Hi4dv.js","assets/chevron-right-BkI4eM4w.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-BAIiiXgP.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function SN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vp={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function AN(){if(gb)return qe;gb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function O(k,q,ie){this.props=k,this.context=q,this.refs=D,this.updater=ie||A}O.prototype.isReactComponent={},O.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=O.prototype;function U(k,q,ie){this.props=k,this.context=q,this.refs=D,this.updater=ie||A}var G=U.prototype=new j;G.constructor=U,C(G,O.prototype),G.isPureReactComponent=!0;var ce=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function P(k,q,ie,te,ve,Re){return ie=Re.ref,{$$typeof:t,type:k,key:q,ref:ie!==void 0?ie:null,props:Re}}function x(k,q){return P(k.type,q,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function V(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return q[ie]})}var B=/\/+/g;function F(k,q){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):q.toString(36)}function M(){}function Fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Se(k,q,ie,te,ve){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var Ee=!1;if(k===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(k.$$typeof){case t:case e:Ee=!0;break;case v:return Ee=k._init,Se(Ee(k._payload),q,ie,te,ve)}}if(Ee)return ve=ve(k),Ee=te===""?"."+F(k,0):te,ce(ve)?(ie="",Ee!=null&&(ie=Ee.replace(B,"$&/")+"/"),Se(ve,q,ie,"",function(xt){return xt})):ve!=null&&(N(ve)&&(ve=x(ve,ie+(ve.key==null||k&&k.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+Ee)),q.push(ve)),1;Ee=0;var at=te===""?".":te+":";if(ce(k))for(var He=0;He<k.length;He++)te=k[He],Re=at+F(te,He),Ee+=Se(te,q,ie,Re,ve);else if(He=b(k),typeof He=="function")for(k=He.call(k),He=0;!(te=k.next()).done;)te=te.value,Re=at+F(te,He++),Ee+=Se(te,q,ie,Re,ve);else if(Re==="object"){if(typeof k.then=="function")return Se(Fe(k),q,ie,te,ve);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function W(k,q,ie){if(k==null)return k;var te=[],ve=0;return Se(k,te,"","",function(Re){return q.call(ie,Re,ve++)}),te}function se(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Oe(){}return qe.Children={map:W,forEach:function(k,q,ie){W(k,function(){q.apply(this,arguments)},ie)},count:function(k){var q=0;return W(k,function(){q++}),q},toArray:function(k){return W(k,function(q){return q})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},qe.Component=O,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=U,qe.StrictMode=i,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,qe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return H.H.useMemoCache(k)}},qe.cache=function(k){return function(){return k.apply(null,arguments)}},qe.cloneElement=function(k,q,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var te=C({},k.props),ve=k.key,Re=void 0;if(q!=null)for(Ee in q.ref!==void 0&&(Re=void 0),q.key!==void 0&&(ve=""+q.key),q)!ee.call(q,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&q.ref===void 0||(te[Ee]=q[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=ie;else if(1<Ee){for(var at=Array(Ee),He=0;He<Ee;He++)at[He]=arguments[He+2];te.children=at}return P(k.type,ve,void 0,void 0,Re,te)},qe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},qe.createElement=function(k,q,ie){var te,ve={},Re=null;if(q!=null)for(te in q.key!==void 0&&(Re=""+q.key),q)ee.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ve[te]=q[te]);var Ee=arguments.length-2;if(Ee===1)ve.children=ie;else if(1<Ee){for(var at=Array(Ee),He=0;He<Ee;He++)at[He]=arguments[He+2];ve.children=at}if(k&&k.defaultProps)for(te in Ee=k.defaultProps,Ee)ve[te]===void 0&&(ve[te]=Ee[te]);return P(k,Re,void 0,void 0,null,ve)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(k){return{$$typeof:f,render:k}},qe.isValidElement=N,qe.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:se}},qe.memo=function(k,q){return{$$typeof:g,type:k,compare:q===void 0?null:q}},qe.startTransition=function(k){var q=H.T,ie={};H.T=ie;try{var te=k(),ve=H.S;ve!==null&&ve(ie,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Oe,ge)}catch(Re){ge(Re)}finally{H.T=q}},qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},qe.use=function(k){return H.H.use(k)},qe.useActionState=function(k,q,ie){return H.H.useActionState(k,q,ie)},qe.useCallback=function(k,q){return H.H.useCallback(k,q)},qe.useContext=function(k){return H.H.useContext(k)},qe.useDebugValue=function(){},qe.useDeferredValue=function(k,q){return H.H.useDeferredValue(k,q)},qe.useEffect=function(k,q,ie){var te=H.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(k,q)},qe.useId=function(){return H.H.useId()},qe.useImperativeHandle=function(k,q,ie){return H.H.useImperativeHandle(k,q,ie)},qe.useInsertionEffect=function(k,q){return H.H.useInsertionEffect(k,q)},qe.useLayoutEffect=function(k,q){return H.H.useLayoutEffect(k,q)},qe.useMemo=function(k,q){return H.H.useMemo(k,q)},qe.useOptimistic=function(k,q){return H.H.useOptimistic(k,q)},qe.useReducer=function(k,q,ie){return H.H.useReducer(k,q,ie)},qe.useRef=function(k){return H.H.useRef(k)},qe.useState=function(k){return H.H.useState(k)},qe.useSyncExternalStore=function(k,q,ie){return H.H.useSyncExternalStore(k,q,ie)},qe.useTransition=function(){return H.H.useTransition()},qe.version="19.1.1",qe}var yb;function ld(){return yb||(yb=1,Vp.exports=AN()),Vp.exports}var I=ld();const p=SN(I);var kp={exports:{}},Mc={},Lp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function RN(){return vb||(vb=1,(function(t){function e(W,se){var ge=W.length;W.push(se);e:for(;0<ge;){var Oe=ge-1>>>1,k=W[Oe];if(0<a(k,se))W[Oe]=se,W[ge]=k,ge=Oe;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var se=W[0],ge=W.pop();if(ge!==se){W[0]=ge;e:for(var Oe=0,k=W.length,q=k>>>1;Oe<q;){var ie=2*(Oe+1)-1,te=W[ie],ve=ie+1,Re=W[ve];if(0>a(te,ge))ve<k&&0>a(Re,te)?(W[Oe]=Re,W[ve]=ge,Oe=ve):(W[Oe]=te,W[ie]=ge,Oe=ie);else if(ve<k&&0>a(Re,ge))W[Oe]=Re,W[ve]=ge,Oe=ve;else break e}}return se}function a(W,se){var ge=W.sortIndex-se.sortIndex;return ge!==0?ge:W.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],g=[],v=1,_=null,b=3,A=!1,C=!1,D=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ce(W){for(var se=n(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=W)i(g),se.sortIndex=se.expirationTime,e(m,se);else break;se=n(g)}}function H(W){if(D=!1,ce(W),!C)if(n(m)!==null)C=!0,ee||(ee=!0,F());else{var se=n(g);se!==null&&Se(H,se.startTime-W)}}var ee=!1,P=-1,x=5,N=-1;function V(){return O?!0:!(t.unstable_now()-N<x)}function B(){if(O=!1,ee){var W=t.unstable_now();N=W;var se=!0;try{e:{C=!1,D&&(D=!1,U(P),P=-1),A=!0;var ge=b;try{t:{for(ce(W),_=n(m);_!==null&&!(_.expirationTime>W&&V());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,b=_.priorityLevel;var k=Oe(_.expirationTime<=W);if(W=t.unstable_now(),typeof k=="function"){_.callback=k,ce(W),se=!0;break t}_===n(m)&&i(m),ce(W)}else i(m);_=n(m)}if(_!==null)se=!0;else{var q=n(g);q!==null&&Se(H,q.startTime-W),se=!1}}break e}finally{_=null,b=ge,A=!1}se=void 0}}finally{se?F():ee=!1}}}var F;if(typeof G=="function")F=function(){G(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Fe=M.port2;M.port1.onmessage=B,F=function(){Fe.postMessage(null)}}else F=function(){j(B,0)};function Se(W,se){P=j(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ge=b;b=se;try{return W()}finally{b=ge}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=b;b=W;try{return se()}finally{b=ge}},t.unstable_scheduleCallback=function(W,se,ge){var Oe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Oe+ge:Oe):ge=Oe,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ge+k,W={id:v++,callback:se,priorityLevel:W,startTime:ge,expirationTime:k,sortIndex:-1},ge>Oe?(W.sortIndex=ge,e(g,W),n(m)===null&&W===n(g)&&(D?(U(P),P=-1):D=!0,Se(H,ge-Oe))):(W.sortIndex=k,e(m,W),C||A||(C=!0,ee||(ee=!0,F()))),W},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(W){var se=b;return function(){var ge=b;b=se;try{return W.apply(this,arguments)}finally{b=ge}}}})(Up)),Up}var Eb;function NN(){return Eb||(Eb=1,Lp.exports=RN()),Lp.exports}var jp={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function CN(){if(_b)return Sn;_b=1;var t=ld();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Sn.flushSync=function(m){var g=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=v,i.d.f()}},Sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Sn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Sn.requestFormReset=function(m){i.d.r(m)},Sn.unstable_batchedUpdates=function(m,g){return m(g)},Sn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var bb;function IN(){if(bb)return jp.exports;bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=CN(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function ON(){if(Tb)return Mc;Tb=1;var t=NN(),e=ld(),n=IN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return f(d),r;if(y===c)return f(d),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=y;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,c=y;break}if(S===c){w=!0,c=d,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,c=d;break}if(S===c){w=!0,c=y,o=d;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case G:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case ce:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}var Se=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Oe=[],k=-1;function q(r){return{current:r}}function ie(r){0>k||(r.current=Oe[k],Oe[k]=null,k--)}function te(r,s){k++,Oe[k]=r.current,r.current=s}var ve=q(null),Re=q(null),Ee=q(null),at=q(null);function He(r,s){switch(te(Ee,s),te(Re,r),te(ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?H_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=H_(s),r=G_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(ve),te(ve,r)}function xt(){ie(ve),ie(Re),ie(Ee)}function Nt(r){r.memoizedState!==null&&te(at,r);var s=ve.current,o=G_(s,r.type);s!==o&&(te(Re,r),te(ve,o))}function vt(r){Re.current===r&&(ie(ve),ie(Re)),at.current===r&&(ie(at),Cc._currentValue=ge)}var Ht=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,is=t.unstable_shouldYield,oa=t.unstable_requestPaint,Ln=t.unstable_now,ss=t.unstable_getCurrentPriorityLevel,la=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,Er=t.unstable_NormalPriority,as=t.unstable_LowPriority,kr=t.unstable_IdlePriority,ca=t.log,pe=t.unstable_setDisableYieldValue,K=null,oe=null;function me(r){if(typeof ca=="function"&&pe(r),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(K,r)}catch{}}var Ie=Math.clz32?Math.clz32:re,ze=Math.log,nt=Math.LN2;function re(r){return r>>>=0,r===0?32:31-(ze(r)/nt|0)|0}var ue=256,we=4194304;function be(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Te(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?d=be(c):(w&=S,w!==0?d=be(w):o||(o=S&~r,o!==0&&(d=be(o))))):(S=c&~y,S!==0?d=be(S):w!==0?d=be(w):o||(o=c&~r,o!==0&&(d=be(o)))),d===0?0:s!==0&&s!==d&&(s&y)===0&&(y=d&-d,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:d}function Ue(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ut(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var r=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),r}function it(){var r=we;return we<<=1,(we&62914560)===0&&(we=4194304),r}function Et(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ot(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Mt(r,s,o,c,d,y){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,L=r.expirationTimes,X=r.hiddenUpdates;for(o=w&~o;0<o;){var ae=31-Ie(o),fe=1<<ae;S[ae]=0,L[ae]=-1;var Z=X[ae];if(Z!==null)for(X[ae]=null,ae=0;ae<Z.length;ae++){var J=Z[ae];J!==null&&(J.lane&=-536870913)}o&=~fe}c!==0&&dn(r,c,0),y!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~s))}function dn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ie(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function qn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Ie(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _r(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:ub(r.type))}function Lu(r,s){var o=se.p;try{return se.p=r,s()}finally{se.p=o}}var St=Math.random().toString(36).slice(2),en="__reactFiber$"+St,Gt="__reactProps$"+St,er="__reactContainer$"+St,Ml="__reactEvents$"+St,Ud="__reactListeners$"+St,os="__reactHandles$"+St,Uu="__reactResources$"+St,ua="__reactMarker$"+St;function ls(r){delete r[en],delete r[Gt],delete r[Ml],delete r[Ud],delete r[os]}function yi(r){var s=r[en];if(s)return s;for(var o=r.parentNode;o;){if(s=o[er]||o[en]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Q_(r);r!==null;){if(o=r[en])return o;r=Q_(r)}return s}r=o,o=r.parentNode}return null}function Lr(r){if(r=r[en]||r[er]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ur(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Dn(r){var s=r[Uu];return s||(s=r[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(r){r[ua]=!0}var Vl=new Set,co={};function br(r,s){vi(r,s),vi(r+"Capture",s)}function vi(r,s){for(co[r]=s,r=0;r<s.length;r++)Vl.add(s[r])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},ha={};function Fu(r){return Ht.call(ha,r)?!0:Ht.call(Bu,r)?!1:ju.test(r)?ha[r]=!0:(Bu[r]=!0,!1)}function cs(r,s,o){if(Fu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function jr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function mn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var fa,zu;function Ei(r){if(fa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",zu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+r+zu}var uo=!1;function ho(r,s){if(!r||uo)return"";uo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(J){var Z=J}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(J){Z=J}r.call(fe.prototype)}}else{try{throw Error()}catch(J){Z=J}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var L=w.split(`
`),X=S.split(`
`);for(d=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(c===L.length||d===X.length)for(c=L.length-1,d=X.length-1;1<=c&&0<=d&&L[c]!==X[d];)d--;for(;1<=c&&0<=d;c--,d--)if(L[c]!==X[d]){if(c!==1||d!==1)do if(c--,d--,0>d||L[c]!==X[d]){var ae=`
`+L[c].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=c&&0<=d);break}}}finally{uo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ei(o):""}function kl(r){switch(r.tag){case 26:case 27:case 5:return Ei(r.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return ho(r.type,!1);case 11:return ho(r.type.render,!1);case 1:return ho(r.type,!0);case 31:return Ei("Activity");default:return""}}function fo(r){try{var s="";do s+=kl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jd(r){var s=Ll(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mo(r){r._valueTracker||(r._valueTracker=jd(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ll(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bd=/[\n"\\]/g;function $t(r){return r.replace(Bd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Gn(r,s,o,c,d,y,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Pn(s)):r.value!==""+Pn(s)&&(r.value=""+Pn(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?us(r,w,Pn(s)):o!=null?us(r,w,Pn(o)):c!=null&&r.removeAttribute("value"),d==null&&y!=null&&(r.defaultChecked=!!y),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Pn(S):r.removeAttribute("name")}function ma(r,s,o,c,d,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Pn(o):"",s=s!=null?""+Pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function us(r,s,o){s==="number"&&da(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _i(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Pn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function mt(r,s,o){if(s!=null&&(s=""+Pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Pn(o):""}function pa(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Pn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function tr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ga.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function jl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&qu(r,d,c)}else for(var y in s)s.hasOwnProperty(y)&&qu(r,y,s[y])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(r){return zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var bi=null;function nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ti=null,wi=null;function Fl(r){var s=Lr(r);if(s&&(r=s.stateNode)){var o=r[Gt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Gn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$t(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[Gt]||null;if(!d)throw Error(i(90));Gn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ul(c)}break e;case"textarea":mt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_i(r,!!o.multiple,s,!1)}}}var Br=!1;function Hu(r,s,o){if(Br)return r(s,o);Br=!0;try{var c=r(s);return c}finally{if(Br=!1,(Ti!==null||wi!==null)&&(Lh(),Ti&&(s=Ti,r=wi,wi=Ti=null,Fl(s),r)))for(s=0;s<r.length;s++)Fl(r[s])}}function ya(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(Tr)try{var va={};Object.defineProperty(va,"passive",{get:function(){rr=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{rr=!1}var Fr=null,hs=null,xi=null;function zl(){if(xi)return xi;var r,s=hs,o=s.length,c,d="value"in Fr?Fr.value:Fr.textContent,y=d.length;for(r=0;r<o&&s[r]===d[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===d[y-c];c++);return xi=d.slice(r,1<c?1-c:void 0)}function zr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function qr(){return!0}function ql(){return!1}function on(r){function s(o,c,d,y,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qr:ql,this.isPropagationStopped=ql,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),s}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=on(lt),Ea=v({},lt,{view:0,detail:0}),Gu=on(Ea),yo,vo,Hr,_a=v({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(yo=r.screenX-Hr.screenX,vo=r.screenY-Hr.screenY):vo=yo=0,Hr=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),ir=on(_a),$u=v({},_a,{dataTransfer:0}),qd=on($u),ba=v({},Ea,{relatedTarget:0}),Eo=on(ba),Hl=v({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),_o=on(Hl),Ku=v({},lt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bo=on(Ku),Hd=v({},lt,{data:0}),Gl=on(Hd),Ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Qu[r])?!!s[r]:!1}function wa(){return $l}var Xu=v({},Ea,{key:function(r){if(r.key){var s=Ta[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=zr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(r){return r.type==="keypress"?zr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),To=on(Xu),Wu=v({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=on(Wu),Si=v({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Zu=on(Si),Ju=v({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=on(Ju),th=v({},_a,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=on(th),Mn=v({},lt,{newState:0,oldState:0}),nh=on(Mn),rh=[9,13,27,32],Gr=Tr&&"CompositionEvent"in window,h=null;Tr&&"documentMode"in document&&(h=document.documentMode);var E=Tr&&"TextEvent"in window&&!h,T=Tr&&(!Gr||h&&8<h&&11>=h),R=" ",Y=!1;function ne(r,s){switch(r){case"keyup":return rh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function tn(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(Y=!0,R);case"textInput":return r=s.data,r===R&&Y?null:r;default:return null}}function Je(r,s){if(Ze)return r==="compositionend"||!Gr&&ne(r,s)?(r=zl(),xi=hs=Fr=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ln[r.type]:s==="textarea"}function Ai(r,s,o,c){Ti?wi?wi.push(c):wi=[c]:Ti=c,s=qh(s,"onChange"),0<s.length&&(o=new go("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var pn=null,$r=null;function Yl(r){j_(r,0)}function ih(r){var s=Ur(r);if(Ul(s))return r}function av(r,s){if(r==="change")return s}var ov=!1;if(Tr){var Gd;if(Tr){var $d="oninput"in document;if(!$d){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),$d=typeof lv.oninput=="function"}Gd=$d}else Gd=!1;ov=Gd&&(!document.documentMode||9<document.documentMode)}function cv(){pn&&(pn.detachEvent("onpropertychange",uv),$r=pn=null)}function uv(r){if(r.propertyName==="value"&&ih($r)){var s=[];Ai(s,$r,r,nr(r)),Hu(Yl,s)}}function tR(r,s,o){r==="focusin"?(cv(),pn=s,$r=o,pn.attachEvent("onpropertychange",uv)):r==="focusout"&&cv()}function nR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ih($r)}function rR(r,s){if(r==="click")return ih(s)}function iR(r,s){if(r==="input"||r==="change")return ih(s)}function sR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:sR;function Ql(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Ht.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function hv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fv(r,s){var o=hv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hv(o)}}function dv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function mv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=da(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=da(r.document)}return s}function Kd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var aR=Tr&&"documentMode"in document&&11>=document.documentMode,xo=null,Yd=null,Xl=null,Qd=!1;function pv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qd||xo==null||xo!==da(c)||(c=xo,"selectionStart"in c&&Kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=qh(Yd,"onSelect"),0<c.length&&(s=new go("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=xo)))}function xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var So={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Xd={},gv={};Tr&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Sa(r){if(Xd[r])return Xd[r];if(!So[r])return r;var s=So[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in gv)return Xd[r]=s[o];return r}var yv=Sa("animationend"),vv=Sa("animationiteration"),Ev=Sa("animationstart"),oR=Sa("transitionrun"),lR=Sa("transitionstart"),cR=Sa("transitioncancel"),_v=Sa("transitionend"),bv=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function wr(r,s){bv.set(r,s),br(s,[r])}var Tv=new WeakMap;function sr(r,s){if(typeof r=="object"&&r!==null){var o=Tv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:fo(s)},Tv.set(r,s),s)}return{value:r,source:s,stack:fo(s)}}var ar=[],Ao=0,Zd=0;function sh(){for(var r=Ao,s=Zd=Ao=0;s<r;){var o=ar[s];ar[s++]=null;var c=ar[s];ar[s++]=null;var d=ar[s];ar[s++]=null;var y=ar[s];if(ar[s++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}y!==0&&wv(o,d,y)}}function ah(r,s,o,c){ar[Ao++]=r,ar[Ao++]=s,ar[Ao++]=o,ar[Ao++]=c,Zd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Jd(r,s,o,c){return ah(r,s,o,c),oh(r)}function Ro(r,s){return ah(r,null,null,s),oh(r)}function wv(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(d=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,d&&s!==null&&(d=31-Ie(o),r=y.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),y):null}function oh(r){if(50<bc)throw bc=0,sp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var No={};function uR(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,o,c){return new uR(r,s,o,c)}function em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ri(r,s){var o=r.alternate;return o===null?(o=Kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function xv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function lh(r,s,o,c,d,y){var w=0;if(c=r,typeof r=="function")em(r)&&(w=1);else if(typeof r=="string")w=fN(r,o,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Kn(31,o,s,d),r.elementType=N,r.lanes=y,r;case C:return Aa(o.children,d,y,s);case D:w=8,d|=24;break;case O:return r=Kn(12,o,s,d|2),r.elementType=O,r.lanes=y,r;case H:return r=Kn(13,o,s,d),r.elementType=H,r.lanes=y,r;case ee:return r=Kn(19,o,s,d),r.elementType=ee,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case G:w=10;break e;case U:w=9;break e;case ce:w=11;break e;case P:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Kn(w,o,s,d),s.elementType=r,s.type=c,s.lanes=y,s}function Aa(r,s,o,c){return r=Kn(7,r,c,s),r.lanes=o,r}function tm(r,s,o){return r=Kn(6,r,null,s),r.lanes=o,r}function nm(r,s,o){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Co=[],Io=0,ch=null,uh=0,or=[],lr=0,Ra=null,Ni=1,Ci="";function Na(r,s){Co[Io++]=uh,Co[Io++]=ch,ch=r,uh=s}function Sv(r,s,o){or[lr++]=Ni,or[lr++]=Ci,or[lr++]=Ra,Ra=r;var c=Ni;r=Ci;var d=32-Ie(c)-1;c&=~(1<<d),o+=1;var y=32-Ie(s)+d;if(30<y){var w=d-d%5;y=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ni=1<<32-Ie(s)+d|o<<d|c,Ci=y+r}else Ni=1<<y|o<<d|c,Ci=r}function rm(r){r.return!==null&&(Na(r,1),Sv(r,1,0))}function im(r){for(;r===ch;)ch=Co[--Io],Co[Io]=null,uh=Co[--Io],Co[Io]=null;for(;r===Ra;)Ra=or[--lr],or[lr]=null,Ci=or[--lr],or[lr]=null,Ni=or[--lr],or[lr]=null}var Vn=null,Vt=null,st=!1,Ca=null,Kr=!1,sm=Error(i(519));function Ia(r){var s=Error(i(418,""));throw Jl(sr(s,r)),sm}function Av(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[en]=r,s[Gt]=c,o){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(o=0;o<wc.length;o++)Ye(wc[o],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),ma(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),mo(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),pa(s,c.value,c.defaultValue,c.children),mo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||q_(s.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),c.onScroll!=null&&Ye("scroll",s),c.onScrollEnd!=null&&Ye("scrollend",s),c.onClick!=null&&(s.onclick=Hh),s=!0):s=!1,s||Ia(r)}function Rv(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Vn=Vn.return}}function Wl(r){if(r!==Vn)return!1;if(!st)return Rv(r),st=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||bp(r.type,r.memoizedProps)),o=!o),o&&Vt&&Ia(r),Rv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Vt=Sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Vt=null}}else s===27?(s=Vt,Rs(r.type)?(r=Sp,Sp=null,Vt=r):Vt=s):Vt=Vn?Sr(r.stateNode.nextSibling):null;return!0}function Zl(){Vt=Vn=null,st=!1}function Nv(){var r=Ca;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),Ca=null),r}function Jl(r){Ca===null?Ca=[r]:Ca.push(r)}var am=q(null),Oa=null,Ii=null;function fs(r,s,o){te(am,s._currentValue),s._currentValue=o}function Oi(r){r._currentValue=am.current,ie(am)}function om(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function lm(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=d;for(var L=0;L<s.length;L++)if(S.context===s[L]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),om(y.return,o,r),c||(w=null);break e}y=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),om(w,o,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ec(r,s,o,c){r=null;for(var d=s,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=d.type;$n(d.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(d===at.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Cc):r=[Cc])}d=d.return}r!==null&&lm(s,r,o,c),s.flags|=262144}function hh(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Da(r){Oa=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Cv(Oa,r)}function fh(r,s){return Oa===null&&Da(r),Cv(r,s)}function Cv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ii===null){if(r===null)throw Error(i(308));Ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ii=Ii.next=s;return o}var hR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},fR=t.unstable_scheduleCallback,dR=t.unstable_NormalPriority,rn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new hR,data:new Map,refCount:0}}function tc(r){r.refCount--,r.refCount===0&&fR(dR,function(){r.controller.abort()})}var nc=null,um=0,Oo=0,Do=null;function mR(r,s){if(nc===null){var o=nc=[];um=0,Oo=fp(),Do={status:"pending",value:void 0,then:function(c){o.push(c)}}}return um++,s.then(Iv,Iv),s}function Iv(){if(--um===0&&nc!==null){Do!==null&&(Do.status="fulfilled");var r=nc;nc=null,Oo=0,Do=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function pR(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Ov=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&mR(r,s),Ov!==null&&Ov(r,s)};var Pa=q(null);function hm(){var r=Pa.current;return r!==null?r:Tt.pooledCache}function dh(r,s){s===null?te(Pa,Pa.current):te(Pa,s.pool)}function Dv(){var r=hm();return r===null?null:{parent:rn._currentValue,pool:r}}var rc=Error(i(460)),Pv=Error(i(474)),mh=Error(i(542)),fm={then:function(){}};function Mv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ph(){}function Vv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ph,ph),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lv(r),r;default:if(typeof s.status=="string")s.then(ph,ph);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lv(r),r}throw ic=s,rc}}var ic=null;function kv(){if(ic===null)throw Error(i(459));var r=ic;return ic=null,r}function Lv(r){if(r===rc||r===mh)throw Error(i(483))}var ds=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ps(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ft&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=oh(r),wv(r,null,o),s}return ah(r,c,s,o),oh(r)}function sc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}function pm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?d=y=s:y=y.next=s}else d=y=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var gm=!1;function ac(){if(gm){var r=Do;if(r!==null)throw r}}function oc(r,s,o,c){gm=!1;var d=r.updateQueue;ds=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var L=S,X=L.next;L.next=null,w===null?y=X:w.next=X,w=L;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,S=ae.lastBaseUpdate,S!==w&&(S===null?ae.firstBaseUpdate=X:S.next=X,ae.lastBaseUpdate=L))}if(y!==null){var fe=d.baseState;w=0,ae=X=L=null,S=y;do{var Z=S.lane&-536870913,J=Z!==S.lane;if(J?(et&Z)===Z:(c&Z)===Z){Z!==0&&Z===Oo&&(gm=!0),ae!==null&&(ae=ae.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=r,De=S;Z=s;var yt=o;switch(De.tag){case 1:if(ke=De.payload,typeof ke=="function"){fe=ke.call(yt,fe,Z);break e}fe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,Z=typeof ke=="function"?ke.call(yt,fe,Z):ke,Z==null)break e;fe=v({},fe,Z);break e;case 2:ds=!0}}Z=S.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ae===null?(X=ae=J,L=fe):ae=ae.next=J,w|=Z;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;J=S,S=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ae===null&&(L=fe),d.baseState=L,d.firstBaseUpdate=X,d.lastBaseUpdate=ae,y===null&&(d.shared.lanes=0),ws|=w,r.lanes=w,r.memoizedState=fe}}function Uv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function jv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Uv(o[r],s)}var Po=q(null),gh=q(0);function Bv(r,s){r=Ui,te(gh,r),te(Po,s),Ui=r|s.baseLanes}function ym(){te(gh,Ui),te(Po,Po.current)}function vm(){Ui=gh.current,ie(Po),ie(gh)}var gs=0,Ge=null,pt=null,Kt=null,yh=!1,Mo=!1,Ma=!1,vh=0,lc=0,Vo=null,gR=0;function jt(){throw Error(i(321))}function Em(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!$n(r[o],s[o]))return!1;return!0}function _m(r,s,o,c,d,y){return gs=y,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?wE:xE,Ma=!1,y=o(c,d),Ma=!1,Mo&&(y=zv(s,o,c,d)),Fv(r),y}function Fv(r){W.H=xh;var s=pt!==null&&pt.next!==null;if(gs=0,Kt=pt=Ge=null,yh=!1,lc=0,Vo=null,s)throw Error(i(300));r===null||cn||(r=r.dependencies,r!==null&&hh(r)&&(cn=!0))}function zv(r,s,o,c){Ge=r;var d=0;do{if(Mo&&(Vo=null),lc=0,Mo=!1,25<=d)throw Error(i(301));if(d+=1,Kt=pt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=wR,y=s(o,c)}while(Mo);return y}function yR(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?cc(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(Ge.flags|=1024),s}function bm(){var r=vh!==0;return vh=0,r}function Tm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function wm(r){if(yh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yh=!1}gs=0,Kt=pt=Ge=null,Mo=!1,lc=vh=0,Vo=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ge.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function Yt(){if(pt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Kt===null?Ge.memoizedState:Kt.next;if(s!==null)Kt=s,pt=r;else{if(r===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Kt===null?Ge.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function xm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(r){var s=lc;return lc+=1,Vo===null&&(Vo=[]),r=Vv(Vo,r,s),s=Ge,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?wE:xE),r}function Eh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return cc(r);if(r.$$typeof===G)return xn(r)}throw Error(i(438,String(r)))}function Sm(r){var s=null,o=Ge.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=xm(),Ge.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=V;return s.index++,o}function Di(r,s){return typeof s=="function"?s(r):s}function _h(r){var s=Yt();return Am(s,pt,r)}function Am(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,y=c.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}s.baseQueue=d=y,c.pending=null}if(y=r.baseState,d===null)r.memoizedState=y;else{s=d.next;var S=w=null,L=null,X=s,ae=!1;do{var fe=X.lane&-536870913;if(fe!==X.lane?(et&fe)===fe:(gs&fe)===fe){var Z=X.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),fe===Oo&&(ae=!0);else if((gs&Z)===Z){X=X.next,Z===Oo&&(ae=!0);continue}else fe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=fe,w=y):L=L.next=fe,Ge.lanes|=Z,ws|=Z;fe=X.action,Ma&&o(y,fe),y=X.hasEagerState?X.eagerState:o(y,fe)}else Z={lane:fe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=Z,w=y):L=L.next=Z,Ge.lanes|=fe,ws|=fe;X=X.next}while(X!==null&&X!==s);if(L===null?w=y:L.next=S,!$n(y,r.memoizedState)&&(cn=!0,ae&&(o=Do,o!==null)))throw o;r.memoizedState=y,r.baseState=w,r.baseQueue=L,c.lastRenderedState=y}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Rm(r){var s=Yt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,y=s.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do y=r(y,w.action),w=w.next;while(w!==d);$n(y,s.memoizedState)||(cn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function qv(r,s,o){var c=Ge,d=Yt(),y=st;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!$n((pt||d).memoizedState,o);w&&(d.memoizedState=o,cn=!0),d=d.queue;var S=$v.bind(null,c,d,r);if(uc(2048,8,S,[r]),d.getSnapshot!==s||w||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,ko(9,bh(),Gv.bind(null,c,d,o,s),null),Tt===null)throw Error(i(349));y||(gs&124)!==0||Hv(c,s,o)}return o}function Hv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ge.updateQueue,s===null?(s=xm(),Ge.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Gv(r,s,o,c){s.value=o,s.getSnapshot=c,Kv(s)&&Yv(r)}function $v(r,s,o){return o(function(){Kv(s)&&Yv(r)})}function Kv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!$n(r,o)}catch{return!0}}function Yv(r){var s=Ro(r,2);s!==null&&Zn(s,r,2)}function Nm(r){var s=Un();if(typeof r=="function"){var o=r;if(r=o(),Ma){me(!0);try{o()}finally{me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function Qv(r,s,o,c){return r.baseState=o,Am(r,pt,typeof c=="function"?c:Di)}function vR(r,s,o,c,d){if(wh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};W.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,Xv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Xv(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var y=W.T,w={};W.T=w;try{var S=o(d,c),L=W.S;L!==null&&L(w,S),Wv(r,s,S)}catch(X){Cm(r,s,X)}finally{W.T=y}}else try{y=o(d,c),Wv(r,s,y)}catch(X){Cm(r,s,X)}}function Wv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Zv(r,s,c)},function(c){return Cm(r,s,c)}):Zv(r,s,o)}function Zv(r,s,o){s.status="fulfilled",s.value=o,Jv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Xv(r,o)))}function Cm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Jv(s),s=s.next;while(s!==c)}r.action=null}function Jv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function eE(r,s){return s}function tE(r,s){if(st){var o=Tt.formState;if(o!==null){e:{var c=Ge;if(st){if(Vt){t:{for(var d=Vt,y=Kr;d.nodeType!==8;){if(!y){d=null;break t}if(d=Sr(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Vt=Sr(d.nextSibling),c=d.data==="F!";break e}}Ia(c)}c=!1}c&&(s=o[0])}}return o=Un(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eE,lastRenderedState:s},o.queue=c,o=_E.bind(null,Ge,c),c.dispatch=o,c=Nm(!1),y=Mm.bind(null,Ge,!1,c.queue),c=Un(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=vR.bind(null,Ge,d,y,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function nE(r){var s=Yt();return rE(s,pt,r)}function rE(r,s,o){if(s=Am(r,s,eE)[0],r=_h(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=cc(s)}catch(w){throw w===rc?mh:w}else c=s;s=Yt();var d=s.queue,y=d.dispatch;return o!==s.memoizedState&&(Ge.flags|=2048,ko(9,bh(),ER.bind(null,d,o),null)),[c,y,r]}function ER(r,s){r.action=s}function iE(r){var s=Yt(),o=pt;if(o!==null)return rE(s,o,r);Yt(),s=s.memoizedState,o=Yt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ko(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=xm(),Ge.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function bh(){return{destroy:void 0,resource:void 0}}function sE(){return Yt().memoizedState}function Th(r,s,o,c){var d=Un();c=c===void 0?null:c,Ge.flags|=r,d.memoizedState=ko(1|s,bh(),o,c)}function uc(r,s,o,c){var d=Yt();c=c===void 0?null:c;var y=d.memoizedState.inst;pt!==null&&c!==null&&Em(c,pt.memoizedState.deps)?d.memoizedState=ko(s,y,o,c):(Ge.flags|=r,d.memoizedState=ko(1|s,y,o,c))}function aE(r,s){Th(8390656,8,r,s)}function oE(r,s){uc(2048,8,r,s)}function lE(r,s){return uc(4,2,r,s)}function cE(r,s){return uc(4,4,r,s)}function uE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hE(r,s,o){o=o!=null?o.concat([r]):null,uc(4,4,uE.bind(null,s,r),o)}function Im(){}function fE(r,s){var o=Yt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Em(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function dE(r,s){var o=Yt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Em(s,c[1]))return c[0];if(c=r(),Ma){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[c,s],c}function Om(r,s,o){return o===void 0||(gs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=g_(),Ge.lanes|=r,ws|=r,o)}function mE(r,s,o,c){return $n(o,s)?o:Po.current!==null?(r=Om(r,o,c),$n(r,s)||(cn=!0),r):(gs&42)===0?(cn=!0,r.memoizedState=o):(r=g_(),Ge.lanes|=r,ws|=r,s)}function pE(r,s,o,c,d){var y=se.p;se.p=y!==0&&8>y?y:8;var w=W.T,S={};W.T=S,Mm(r,!1,s,o);try{var L=d(),X=W.S;if(X!==null&&X(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=pR(L,c);hc(r,s,ae,Wn(r))}else hc(r,s,c,Wn(r))}catch(fe){hc(r,s,{then:function(){},status:"rejected",reason:fe},Wn())}finally{se.p=y,W.T=w}}function _R(){}function Dm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=gE(r).queue;pE(r,d,s,ge,o===null?_R:function(){return yE(r),o(c)})}function gE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function yE(r){var s=gE(r).next.queue;hc(r,s,{},Wn())}function Pm(){return xn(Cc)}function vE(){return Yt().memoizedState}function EE(){return Yt().memoizedState}function bR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wn();r=ms(o);var c=ps(s,r,o);c!==null&&(Zn(c,s,o),sc(c,s,o)),s={cache:cm()},r.payload=s;return}s=s.return}}function TR(r,s,o){var c=Wn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(r)?bE(s,o):(o=Jd(r,s,o,c),o!==null&&(Zn(o,r,c),TE(o,s,c)))}function _E(r,s,o){var c=Wn();hc(r,s,o,c)}function hc(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(r))bE(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,S=y(w,o);if(d.hasEagerState=!0,d.eagerState=S,$n(S,w))return ah(r,s,d,0),Tt===null&&sh(),!1}catch{}finally{}if(o=Jd(r,s,d,c),o!==null)return Zn(o,r,c),TE(o,s,c),!0}return!1}function Mm(r,s,o,c){if(c={lane:2,revertLane:fp(),action:c,hasEagerState:!1,eagerState:null,next:null},wh(r)){if(s)throw Error(i(479))}else s=Jd(r,o,c,2),s!==null&&Zn(s,r,2)}function wh(r){var s=r.alternate;return r===Ge||s!==null&&s===Ge}function bE(r,s){Mo=yh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function TE(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}var xh={readContext:xn,use:Eh,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},wE={readContext:xn,use:Eh,useCallback:function(r,s){return Un().memoizedState=[r,s===void 0?null:s],r},useContext:xn,useEffect:aE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Th(4194308,4,uE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Th(4194308,4,r,s)},useInsertionEffect:function(r,s){Th(4,2,r,s)},useMemo:function(r,s){var o=Un();s=s===void 0?null:s;var c=r();if(Ma){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Un();if(o!==void 0){var d=o(s);if(Ma){me(!0);try{o(s)}finally{me(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=TR.bind(null,Ge,r),[c.memoizedState,r]},useRef:function(r){var s=Un();return r={current:r},s.memoizedState=r},useState:function(r){r=Nm(r);var s=r.queue,o=_E.bind(null,Ge,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(r,s){var o=Un();return Om(o,r,s)},useTransition:function(){var r=Nm(!1);return r=pE.bind(null,Ge,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ge,d=Un();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tt===null)throw Error(i(349));(et&124)!==0||Hv(c,s,o)}d.memoizedState=o;var y={value:o,getSnapshot:s};return d.queue=y,aE($v.bind(null,c,y,r),[r]),c.flags|=2048,ko(9,bh(),Gv.bind(null,c,y,o,s),null),o},useId:function(){var r=Un(),s=Tt.identifierPrefix;if(st){var o=Ci,c=Ni;o=(c&~(1<<32-Ie(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=vh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=gR++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Pm,useFormState:tE,useActionState:tE,useOptimistic:function(r){var s=Un();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Mm.bind(null,Ge,!0,o),o.dispatch=s,[r,s]},useMemoCache:Sm,useCacheRefresh:function(){return Un().memoizedState=bR.bind(null,Ge)}},xE={readContext:xn,use:Eh,useCallback:fE,useContext:xn,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:dE,useReducer:_h,useRef:sE,useState:function(){return _h(Di)},useDebugValue:Im,useDeferredValue:function(r,s){var o=Yt();return mE(o,pt.memoizedState,r,s)},useTransition:function(){var r=_h(Di)[0],s=Yt().memoizedState;return[typeof r=="boolean"?r:cc(r),s]},useSyncExternalStore:qv,useId:vE,useHostTransitionStatus:Pm,useFormState:nE,useActionState:nE,useOptimistic:function(r,s){var o=Yt();return Qv(o,pt,r,s)},useMemoCache:Sm,useCacheRefresh:EE},wR={readContext:xn,use:Eh,useCallback:fE,useContext:xn,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:dE,useReducer:Rm,useRef:sE,useState:function(){return Rm(Di)},useDebugValue:Im,useDeferredValue:function(r,s){var o=Yt();return pt===null?Om(o,r,s):mE(o,pt.memoizedState,r,s)},useTransition:function(){var r=Rm(Di)[0],s=Yt().memoizedState;return[typeof r=="boolean"?r:cc(r),s]},useSyncExternalStore:qv,useId:vE,useHostTransitionStatus:Pm,useFormState:iE,useActionState:iE,useOptimistic:function(r,s){var o=Yt();return pt!==null?Qv(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:EE},Lo=null,fc=0;function Sh(r){var s=fc;return fc+=1,Lo===null&&(Lo=[]),Vv(Lo,r,s)}function dc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ah(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function SE(r){var s=r._init;return s(r._payload)}function AE(r){function s($,z){if(r){var Q=$.deletions;Q===null?($.deletions=[z],$.flags|=16):Q.push(z)}}function o($,z){if(!r)return null;for(;z!==null;)s($,z),z=z.sibling;return null}function c($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function d($,z){return $=Ri($,z),$.index=0,$.sibling=null,$}function y($,z,Q){return $.index=Q,r?(Q=$.alternate,Q!==null?(Q=Q.index,Q<z?($.flags|=67108866,z):Q):($.flags|=67108866,z)):($.flags|=1048576,z)}function w($){return r&&$.alternate===null&&($.flags|=67108866),$}function S($,z,Q,he){return z===null||z.tag!==6?(z=tm(Q,$.mode,he),z.return=$,z):(z=d(z,Q),z.return=$,z)}function L($,z,Q,he){var Ae=Q.type;return Ae===C?ae($,z,Q.props.children,he,Q.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===x&&SE(Ae)===z.type)?(z=d(z,Q.props),dc(z,Q),z.return=$,z):(z=lh(Q.type,Q.key,Q.props,null,$.mode,he),dc(z,Q),z.return=$,z)}function X($,z,Q,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=nm(Q,$.mode,he),z.return=$,z):(z=d(z,Q.children||[]),z.return=$,z)}function ae($,z,Q,he,Ae){return z===null||z.tag!==7?(z=Aa(Q,$.mode,he,Ae),z.return=$,z):(z=d(z,Q),z.return=$,z)}function fe($,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=tm(""+z,$.mode,Q),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Q=lh(z.type,z.key,z.props,null,$.mode,Q),dc(Q,z),Q.return=$,Q;case A:return z=nm(z,$.mode,Q),z.return=$,z;case x:var he=z._init;return z=he(z._payload),fe($,z,Q)}if(Se(z)||F(z))return z=Aa(z,$.mode,Q,null),z.return=$,z;if(typeof z.then=="function")return fe($,Sh(z),Q);if(z.$$typeof===G)return fe($,fh($,z),Q);Ah($,z)}return null}function Z($,z,Q,he){var Ae=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:S($,z,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ae?L($,z,Q,he):null;case A:return Q.key===Ae?X($,z,Q,he):null;case x:return Ae=Q._init,Q=Ae(Q._payload),Z($,z,Q,he)}if(Se(Q)||F(Q))return Ae!==null?null:ae($,z,Q,he,null);if(typeof Q.then=="function")return Z($,z,Sh(Q),he);if(Q.$$typeof===G)return Z($,z,fh($,Q),he);Ah($,Q)}return null}function J($,z,Q,he,Ae){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return $=$.get(Q)||null,S(z,$,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return $=$.get(he.key===null?Q:he.key)||null,L(z,$,he,Ae);case A:return $=$.get(he.key===null?Q:he.key)||null,X(z,$,he,Ae);case x:var $e=he._init;return he=$e(he._payload),J($,z,Q,he,Ae)}if(Se(he)||F(he))return $=$.get(Q)||null,ae(z,$,he,Ae,null);if(typeof he.then=="function")return J($,z,Q,Sh(he),Ae);if(he.$$typeof===G)return J($,z,Q,fh(z,he),Ae);Ah(z,he)}return null}function ke($,z,Q,he){for(var Ae=null,$e=null,Ne=z,Pe=z=0,hn=null;Ne!==null&&Pe<Q.length;Pe++){Ne.index>Pe?(hn=Ne,Ne=null):hn=Ne.sibling;var rt=Z($,Ne,Q[Pe],he);if(rt===null){Ne===null&&(Ne=hn);break}r&&Ne&&rt.alternate===null&&s($,Ne),z=y(rt,z,Pe),$e===null?Ae=rt:$e.sibling=rt,$e=rt,Ne=hn}if(Pe===Q.length)return o($,Ne),st&&Na($,Pe),Ae;if(Ne===null){for(;Pe<Q.length;Pe++)Ne=fe($,Q[Pe],he),Ne!==null&&(z=y(Ne,z,Pe),$e===null?Ae=Ne:$e.sibling=Ne,$e=Ne);return st&&Na($,Pe),Ae}for(Ne=c(Ne);Pe<Q.length;Pe++)hn=J(Ne,$,Pe,Q[Pe],he),hn!==null&&(r&&hn.alternate!==null&&Ne.delete(hn.key===null?Pe:hn.key),z=y(hn,z,Pe),$e===null?Ae=hn:$e.sibling=hn,$e=hn);return r&&Ne.forEach(function(Ds){return s($,Ds)}),st&&Na($,Pe),Ae}function De($,z,Q,he){if(Q==null)throw Error(i(151));for(var Ae=null,$e=null,Ne=z,Pe=z=0,hn=null,rt=Q.next();Ne!==null&&!rt.done;Pe++,rt=Q.next()){Ne.index>Pe?(hn=Ne,Ne=null):hn=Ne.sibling;var Ds=Z($,Ne,rt.value,he);if(Ds===null){Ne===null&&(Ne=hn);break}r&&Ne&&Ds.alternate===null&&s($,Ne),z=y(Ds,z,Pe),$e===null?Ae=Ds:$e.sibling=Ds,$e=Ds,Ne=hn}if(rt.done)return o($,Ne),st&&Na($,Pe),Ae;if(Ne===null){for(;!rt.done;Pe++,rt=Q.next())rt=fe($,rt.value,he),rt!==null&&(z=y(rt,z,Pe),$e===null?Ae=rt:$e.sibling=rt,$e=rt);return st&&Na($,Pe),Ae}for(Ne=c(Ne);!rt.done;Pe++,rt=Q.next())rt=J(Ne,$,Pe,rt.value,he),rt!==null&&(r&&rt.alternate!==null&&Ne.delete(rt.key===null?Pe:rt.key),z=y(rt,z,Pe),$e===null?Ae=rt:$e.sibling=rt,$e=rt);return r&&Ne.forEach(function(xN){return s($,xN)}),st&&Na($,Pe),Ae}function yt($,z,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ae=Q.key;z!==null;){if(z.key===Ae){if(Ae=Q.type,Ae===C){if(z.tag===7){o($,z.sibling),he=d(z,Q.props.children),he.return=$,$=he;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===x&&SE(Ae)===z.type){o($,z.sibling),he=d(z,Q.props),dc(he,Q),he.return=$,$=he;break e}o($,z);break}else s($,z);z=z.sibling}Q.type===C?(he=Aa(Q.props.children,$.mode,he,Q.key),he.return=$,$=he):(he=lh(Q.type,Q.key,Q.props,null,$.mode,he),dc(he,Q),he.return=$,$=he)}return w($);case A:e:{for(Ae=Q.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){o($,z.sibling),he=d(z,Q.children||[]),he.return=$,$=he;break e}else{o($,z);break}else s($,z);z=z.sibling}he=nm(Q,$.mode,he),he.return=$,$=he}return w($);case x:return Ae=Q._init,Q=Ae(Q._payload),yt($,z,Q,he)}if(Se(Q))return ke($,z,Q,he);if(F(Q)){if(Ae=F(Q),typeof Ae!="function")throw Error(i(150));return Q=Ae.call(Q),De($,z,Q,he)}if(typeof Q.then=="function")return yt($,z,Sh(Q),he);if(Q.$$typeof===G)return yt($,z,fh($,Q),he);Ah($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(o($,z.sibling),he=d(z,Q),he.return=$,$=he):(o($,z),he=tm(Q,$.mode,he),he.return=$,$=he),w($)):o($,z)}return function($,z,Q,he){try{fc=0;var Ae=yt($,z,Q,he);return Lo=null,Ae}catch(Ne){if(Ne===rc||Ne===mh)throw Ne;var $e=Kn(29,Ne,null,$.mode);return $e.lanes=he,$e.return=$,$e}finally{}}}var Uo=AE(!0),RE=AE(!1),cr=q(null),Yr=null;function ys(r){var s=r.alternate;te(sn,sn.current&1),te(cr,r),Yr===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Yr=r)}function NE(r){if(r.tag===22){if(te(sn,sn.current),te(cr,r),Yr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Yr=r)}}else vs()}function vs(){te(sn,sn.current),te(cr,cr.current)}function Pi(r){ie(cr),Yr===r&&(Yr=null),ie(sn)}var sn=q(0);function Rh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||xp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Vm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var km={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=ms(c);d.payload=s,o!=null&&(d.callback=o),s=ps(r,d,c),s!==null&&(Zn(s,r,c),sc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=ms(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ps(r,d,c),s!==null&&(Zn(s,r,c),sc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wn(),c=ms(o);c.tag=2,s!=null&&(c.callback=s),s=ps(r,c,o),s!==null&&(Zn(s,r,o),sc(s,r,o))}};function CE(r,s,o,c,d,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,c)||!Ql(d,y):!0}function IE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&km.enqueueReplaceState(s,s.state,null)}function Va(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Nh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function OE(r){Nh(r)}function DE(r){console.error(r)}function PE(r){Nh(r)}function Ch(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function ME(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(r,s,o){return o=ms(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(r,s)},o}function VE(r){return r=ms(r),r.tag=3,r}function kE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;r.payload=function(){return d(y)},r.callback=function(){ME(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){ME(s,o,c),typeof d!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function xR(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ec(s,o,d,!0),o=cr.current,o!==null){switch(o.tag){case 13:return Yr===null?op():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),cp(r,c,d)),!1;case 22:return o.flags|=65536,c===fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),cp(r,c,d)),!1}throw Error(i(435,o.tag))}return cp(r,c,d),op(),!1}if(st)return s=cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==sm&&(r=Error(i(422),{cause:c}),Jl(sr(r,o)))):(c!==sm&&(s=Error(i(423),{cause:c}),Jl(sr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=sr(c,o),d=Lm(r.stateNode,c,d),pm(r,d),kt!==4&&(kt=2)),!1;var y=Error(i(520),{cause:c});if(y=sr(y,o),_c===null?_c=[y]:_c.push(y),kt!==4&&(kt=2),s===null)return!0;c=sr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Lm(o.stateNode,c,r),pm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xs===null||!xs.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=VE(d),kE(d,r,o,c),pm(o,d),!1}o=o.return}while(o!==null);return!1}var LE=Error(i(461)),cn=!1;function gn(r,s,o,c){s.child=r===null?RE(s,null,o,c):Uo(s,r.child,o,c)}function UE(r,s,o,c,d){o=o.render;var y=s.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return Da(s),c=_m(r,s,o,w,y,d),S=bm(),r!==null&&!cn?(Tm(r,s,d),Mi(r,s,d)):(st&&S&&rm(s),s.flags|=1,gn(r,s,c,d),s.child)}function jE(r,s,o,c,d){if(r===null){var y=o.type;return typeof y=="function"&&!em(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,BE(r,s,y,c,d)):(r=lh(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Gm(r,d)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(w,c)&&r.ref===s.ref)return Mi(r,s,d)}return s.flags|=1,r=Ri(y,c),r.ref=s.ref,r.return=s,s.child=r}function BE(r,s,o,c,d){if(r!==null){var y=r.memoizedProps;if(Ql(y,c)&&r.ref===s.ref)if(cn=!1,s.pendingProps=c=y,Gm(r,d))(r.flags&131072)!==0&&(cn=!0);else return s.lanes=r.lanes,Mi(r,s,d)}return Um(r,s,o,c,d)}function FE(r,s,o){var c=s.pendingProps,d=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(d=s.child=r.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return zE(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&dh(s,y!==null?y.cachePool:null),y!==null?Bv(s,y):ym(),NE(s);else return s.lanes=s.childLanes=536870912,zE(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(dh(s,y.cachePool),Bv(s,y),vs(),s.memoizedState=null):(r!==null&&dh(s,null),ym(),vs());return gn(r,s,d,o),s.child}function zE(r,s,o,c){var d=hm();return d=d===null?null:{parent:rn._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&dh(s,null),ym(),NE(s),r!==null&&ec(r,s,c,!0),null}function Ih(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Um(r,s,o,c,d){return Da(s),o=_m(r,s,o,c,void 0,d),c=bm(),r!==null&&!cn?(Tm(r,s,d),Mi(r,s,d)):(st&&c&&rm(s),s.flags|=1,gn(r,s,o,d),s.child)}function qE(r,s,o,c,d,y){return Da(s),s.updateQueue=null,o=zv(s,c,o,d),Fv(r),c=bm(),r!==null&&!cn?(Tm(r,s,y),Mi(r,s,y)):(st&&c&&rm(s),s.flags|=1,gn(r,s,o,y),s.child)}function HE(r,s,o,c,d){if(Da(s),s.stateNode===null){var y=No,w=o.contextType;typeof w=="object"&&w!==null&&(y=xn(w)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=km,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},dm(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?xn(w):No,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Vm(s,o,w,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&km.enqueueReplaceState(y,y.state,null),oc(s,c,y,d),ac(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,L=Va(o,S);y.props=L;var X=y.context,ae=o.contextType;w=No,typeof ae=="object"&&ae!==null&&(w=xn(ae));var fe=o.getDerivedStateFromProps;ae=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||X!==w)&&IE(s,y,c,w),ds=!1;var Z=s.memoizedState;y.state=Z,oc(s,c,y,d),ac(),X=s.memoizedState,S||Z!==X||ds?(typeof fe=="function"&&(Vm(s,o,fe,c),X=s.memoizedState),(L=ds||CE(s,o,L,c,Z,X,w))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),y.props=c,y.state=X,y.context=w,c=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,mm(r,s),w=s.memoizedProps,ae=Va(o,w),y.props=ae,fe=s.pendingProps,Z=y.context,X=o.contextType,L=No,typeof X=="object"&&X!==null&&(L=xn(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==fe||Z!==L)&&IE(s,y,c,L),ds=!1,Z=s.memoizedState,y.state=Z,oc(s,c,y,d),ac();var J=s.memoizedState;w!==fe||Z!==J||ds||r!==null&&r.dependencies!==null&&hh(r.dependencies)?(typeof S=="function"&&(Vm(s,o,S,c),J=s.memoizedState),(ae=ds||CE(s,o,ae,c,Z,J,L)||r!==null&&r.dependencies!==null&&hh(r.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),y.props=c,y.state=J,y.context=L,c=ae):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,Ih(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Uo(s,r.child,null,d),s.child=Uo(s,null,o,d)):gn(r,s,o,d),s.memoizedState=y.state,r=s.child):r=Mi(r,s,d),r}function GE(r,s,o,c){return Zl(),s.flags|=256,gn(r,s,o,c),s.child}var jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(r){return{baseLanes:r,cachePool:Dv()}}function Fm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ur),r}function $E(r,s,o){var c=s.pendingProps,d=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(sn.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(d?ys(s):vs(),st){var S=Vt,L;if(L=S){e:{for(L=S,S=Kr;L.nodeType!==8;){if(!S){S=null;break e}if(L=Sr(L.nextSibling),L===null){S=null;break e}}S=L}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ra!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},L=Kn(18,null,null,0),L.stateNode=S,L.return=s,s.child=L,Vn=s,Vt=null,L=!0):L=!1}L||Ia(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xp(S)?s.lanes=32:s.lanes=536870912,null;Pi(s)}return S=c.children,c=c.fallback,d?(vs(),d=s.mode,S=Oh({mode:"hidden",children:S},d),c=Aa(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,d=s.child,d.memoizedState=Bm(o),d.childLanes=Fm(r,w,o),s.memoizedState=jm,c):(ys(s),zm(s,S))}if(L=r.memoizedState,L!==null&&(S=L.dehydrated,S!==null)){if(y)s.flags&256?(ys(s),s.flags&=-257,s=qm(r,s,o)):s.memoizedState!==null?(vs(),s.child=r.child,s.flags|=128,s=null):(vs(),d=c.fallback,S=s.mode,c=Oh({mode:"visible",children:c.children},S),d=Aa(d,S,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Uo(s,r.child,null,o),c=s.child,c.memoizedState=Bm(o),c.childLanes=Fm(r,w,o),s.memoizedState=jm,s=d);else if(ys(s),xp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var X=w.dgst;w=X,c=Error(i(419)),c.stack="",c.digest=w,Jl({value:c,source:null,stack:null}),s=qm(r,s,o)}else if(cn||ec(r,s,o,!1),w=(o&r.childLanes)!==0,cn||w){if(w=Tt,w!==null&&(c=o&-o,c=(c&42)!==0?1:Hn(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,Ro(r,c),Zn(w,r,c),LE;S.data==="$?"||op(),s=qm(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,Vt=Sr(S.nextSibling),Vn=s,st=!0,Ca=null,Kr=!1,r!==null&&(or[lr++]=Ni,or[lr++]=Ci,or[lr++]=Ra,Ni=r.id,Ci=r.overflow,Ra=s),s=zm(s,c.children),s.flags|=4096);return s}return d?(vs(),d=c.fallback,S=s.mode,L=r.child,X=L.sibling,c=Ri(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?d=Ri(X,d):(d=Aa(d,S,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,S=r.child.memoizedState,S===null?S=Bm(o):(L=S.cachePool,L!==null?(X=rn._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=Dv(),S={baseLanes:S.baseLanes|o,cachePool:L}),d.memoizedState=S,d.childLanes=Fm(r,w,o),s.memoizedState=jm,c):(ys(s),o=r.child,r=o.sibling,o=Ri(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function zm(r,s){return s=Oh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Oh(r,s){return r=Kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function qm(r,s,o){return Uo(s,r.child,null,o),r=zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),om(r.return,s,o)}function Hm(r,s,o,c,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=d)}function YE(r,s,o){var c=s.pendingProps,d=c.revealOrder,y=c.tail;if(gn(r,s,c.children,o),c=sn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&KE(r,o,s);else if(r.tag===19)KE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(te(sn,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Rh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Hm(s,!1,d,o,y);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Rh(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Hm(s,!0,o,null,y);break;case"together":Hm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ws|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ec(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ri(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ri(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Gm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&hh(r)))}function SR(r,s,o){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),fs(s,rn,r.memoizedState.cache),Zl();break;case 27:case 5:Nt(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:fs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ys(s),s.flags|=128,null):(o&s.child.childLanes)!==0?$E(r,s,o):(ys(s),r=Mi(r,s,o),r!==null?r.sibling:null);ys(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ec(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return YE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(sn,sn.current),c)break;return null;case 22:case 23:return s.lanes=0,FE(r,s,o);case 24:fs(s,rn,r.memoizedState.cache)}return Mi(r,s,o)}function QE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)cn=!0;else{if(!Gm(r,o)&&(s.flags&128)===0)return cn=!1,SR(r,s,o);cn=(r.flags&131072)!==0}else cn=!1,st&&(s.flags&1048576)!==0&&Sv(s,uh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")em(c)?(r=Va(c,r),s.tag=1,s=HE(null,s,c,r,o)):(s.tag=0,s=Um(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===ce){s.tag=11,s=UE(null,s,c,r,o);break e}else if(d===P){s.tag=14,s=jE(null,s,c,r,o);break e}}throw s=Fe(c)||c,Error(i(306,s,""))}}return s;case 0:return Um(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Va(c,s.pendingProps),HE(r,s,c,d,o);case 3:e:{if(He(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;d=y.element,mm(r,s),oc(s,c,null,o);var w=s.memoizedState;if(c=w.cache,fs(s,rn,c),c!==y.cache&&lm(s,[rn],o,!0),ac(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=GE(r,s,c,o);break e}else if(c!==d){d=sr(Error(i(424)),s),Jl(d),s=GE(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Vt=Sr(r.firstChild),Vn=s,st=!0,Ca=null,Kr=!0,o=RE(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zl(),c===d){s=Mi(r,s,o);break e}gn(r,s,c,o)}s=s.child}return s;case 26:return Ih(r,s),r===null?(o=J_(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,r=s.pendingProps,c=Gh(Ee.current).createElement(o),c[en]=s,c[Gt]=r,vn(c,o,r),Ut(c),s.stateNode=c):s.memoizedState=J_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Nt(s),r===null&&st&&(c=s.stateNode=X_(s.type,s.pendingProps,Ee.current),Vn=s,Kr=!0,d=Vt,Rs(s.type)?(Sp=d,Vt=Sr(c.firstChild)):Vt=d),gn(r,s,s.pendingProps.children,o),Ih(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((d=c=Vt)&&(c=JR(c,s.type,s.pendingProps,Kr),c!==null?(s.stateNode=c,Vn=s,Vt=Sr(c.firstChild),Kr=!1,d=!0):d=!1),d||Ia(s)),Nt(s),d=s.type,y=s.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,bp(d,y)?c=null:w!==null&&bp(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=_m(r,s,yR,null,null,o),Cc._currentValue=d),Ih(r,s),gn(r,s,c,o),s.child;case 6:return r===null&&st&&((r=o=Vt)&&(o=eN(o,s.pendingProps,Kr),o!==null?(s.stateNode=o,Vn=s,Vt=null,r=!0):r=!1),r||Ia(s)),null;case 13:return $E(r,s,o);case 4:return He(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Uo(s,null,c,o):gn(r,s,c,o),s.child;case 11:return UE(r,s,s.type,s.pendingProps,o);case 7:return gn(r,s,s.pendingProps,o),s.child;case 8:return gn(r,s,s.pendingProps.children,o),s.child;case 12:return gn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,fs(s,s.type,c.value),gn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Da(s),d=xn(d),c=c(d),s.flags|=1,gn(r,s,c,o),s.child;case 14:return jE(r,s,s.type,s.pendingProps,o);case 15:return BE(r,s,s.type,s.pendingProps,o);case 19:return YE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Oh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ri(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return FE(r,s,o);case 24:return Da(s),c=xn(rn),r===null?(d=hm(),d===null&&(d=Tt,y=cm(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),s.memoizedState={parent:c,cache:d},dm(s),fs(s,rn,d)):((r.lanes&o)!==0&&(mm(r,s),oc(s,null,null,o),ac()),d=r.memoizedState,y=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),fs(s,rn,c)):(c=y.cache,fs(s,rn,c),c!==d.cache&&lm(s,[rn],o,!0))),gn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Vi(r){r.flags|=4}function XE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ib(s)){if(s=cr.current,s!==null&&((et&4194048)===et?Yr!==null:(et&62914560)!==et&&(et&536870912)===0||s!==Yr))throw ic=fm,Pv;r.flags|=8192}}function Dh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?it():536870912,r.lanes|=s,zo|=s)}function mc(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function AR(r,s,o){var c=s.pendingProps;switch(im(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Oi(rn),xt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wl(s)?Vi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nv())),Ct(s),null;case 26:return o=s.memoizedState,r===null?(Vi(s),o!==null?(Ct(s),XE(s,o)):(Ct(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Vi(s),Ct(s),XE(s,o)):(Ct(s),s.flags&=-16777217):(r.memoizedProps!==c&&Vi(s),Ct(s),s.flags&=-16777217),null;case 27:vt(s),o=Ee.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}r=ve.current,Wl(s)?Av(s):(r=X_(d,c,o),s.stateNode=r,Vi(s))}return Ct(s),null;case 5:if(vt(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}if(r=ve.current,Wl(s))Av(s);else{switch(d=Gh(Ee.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[en]=s,r[Gt]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(vn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ee.current,Wl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Vn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[en]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||q_(r.nodeValue,o)),r||Ia(s)}else r=Gh(r).createTextNode(c),r[en]=s,s.stateNode=r}return Ct(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Wl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[en]=s}else Zl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),d=!1}else d=Nv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Pi(s),s):(Pi(s),null)}if(Pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Dh(s,s.updateQueue),Ct(s),null;case 4:return xt(),r===null&&gp(s.stateNode.containerInfo),Ct(s),null;case 10:return Oi(s.type),Ct(s),null;case 19:if(ie(sn),d=s.memoizedState,d===null)return Ct(s),null;if(c=(s.flags&128)!==0,y=d.rendering,y===null)if(c)mc(d,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Rh(r),y!==null){for(s.flags|=128,mc(d,!1),r=y.updateQueue,s.updateQueue=r,Dh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)xv(o,r),o=o.sibling;return te(sn,sn.current&1|2),s.child}r=r.sibling}d.tail!==null&&Ln()>Vh&&(s.flags|=128,c=!0,mc(d,!1),s.lanes=4194304)}else{if(!c)if(r=Rh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Dh(s,r),mc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!st)return Ct(s),null}else 2*Ln()-d.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,c=!0,mc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(r=d.last,r!==null?r.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ln(),s.sibling=null,r=sn.current,te(sn,c?r&1|2:r&1),s):(Ct(s),null);case 22:case 23:return Pi(s),vm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),o=s.updateQueue,o!==null&&Dh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ie(Pa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Oi(rn),Ct(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function RR(r,s){switch(im(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Oi(rn),xt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 13:if(Pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(sn),null;case 4:return xt(),null;case 10:return Oi(s.type),null;case 22:case 23:return Pi(s),vm(),r!==null&&ie(Pa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Oi(rn),null;case 25:return null;default:return null}}function WE(r,s){switch(im(s),s.tag){case 3:Oi(rn),xt();break;case 26:case 27:case 5:vt(s);break;case 4:xt();break;case 13:Pi(s);break;case 19:ie(sn);break;case 10:Oi(s.type);break;case 22:case 23:Pi(s),vm(),r!==null&&ie(Pa);break;case 24:Oi(rn)}}function pc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==d)}}catch(S){_t(s,s.return,S)}}function Es(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&r)===r){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=s;var L=o,X=S;try{X()}catch(ae){_t(d,L,ae)}}}c=c.next}while(c!==y)}}catch(ae){_t(s,s.return,ae)}}function ZE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{jv(s,o)}catch(c){_t(r,r.return,c)}}}function JE(r,s,o){o.props=Va(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){_t(r,s,c)}}function gc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){_t(r,s,d)}}function Qr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){_t(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){_t(r,s,d)}else o.current=null}function e_(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){_t(r,r.return,d)}}function $m(r,s,o){try{var c=r.stateNode;YR(c,r.type,o,s),c[Gt]=s}catch(d){_t(r,r.return,d)}}function t_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Rs(r.type)||r.tag===4}function Km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||t_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ym(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Hh));else if(c!==4&&(c===27&&Rs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ym(r,s,o),r=r.sibling;r!==null;)Ym(r,s,o),r=r.sibling}function Ph(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Rs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ph(r,s,o),r=r.sibling;r!==null;)Ph(r,s,o),r=r.sibling}function n_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);vn(s,c,o),s[en]=r,s[Gt]=o}catch(y){_t(r,r.return,y)}}var ki=!1,Bt=!1,Qm=!1,r_=typeof WeakSet=="function"?WeakSet:Set,un=null;function NR(r,s){if(r=r.containerInfo,Ep=Wh,r=mv(r),Kd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,L=-1,X=0,ae=0,fe=r,Z=null;t:for(;;){for(var J;fe!==o||d!==0&&fe.nodeType!==3||(S=w+d),fe!==y||c!==0&&fe.nodeType!==3||(L=w+c),fe.nodeType===3&&(w+=fe.nodeValue.length),(J=fe.firstChild)!==null;)Z=fe,fe=J;for(;;){if(fe===r)break t;if(Z===o&&++X===d&&(S=w),Z===y&&++ae===c&&(L=w),(J=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=J}o=S===-1||L===-1?null:{start:S,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:r,selectionRange:o},Wh=!1,un=s;un!==null;)if(s=un,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,un=r;else for(;un!==null;){switch(s=un,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,d=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=Va(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){_t(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)wp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,un=r;break}un=s.return}}function i_(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:_s(r,o),c&4&&pc(5,o);break;case 1:if(_s(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){_t(o,o.return,w)}else{var d=Va(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){_t(o,o.return,w)}}c&64&&ZE(o),c&512&&gc(o,o.return);break;case 3:if(_s(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{jv(r,s)}catch(w){_t(o,o.return,w)}}break;case 27:s===null&&c&4&&n_(o);case 26:case 5:_s(r,o),s===null&&c&4&&e_(o),c&512&&gc(o,o.return);break;case 12:_s(r,o);break;case 13:_s(r,o),c&4&&o_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=LR.bind(null,o),tN(r,o))));break;case 22:if(c=o.memoizedState!==null||ki,!c){s=s!==null&&s.memoizedState!==null||Bt,d=ki;var y=Bt;ki=c,(Bt=s)&&!y?bs(r,o,(o.subtreeFlags&8772)!==0):_s(r,o),ki=d,Bt=y}break;case 30:break;default:_s(r,o)}}function s_(r){var s=r.alternate;s!==null&&(r.alternate=null,s_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ls(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,jn=!1;function Li(r,s,o){for(o=o.child;o!==null;)a_(r,s,o),o=o.sibling}function a_(r,s,o){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(K,o)}catch{}switch(o.tag){case 26:Bt||Qr(o,s),Li(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||Qr(o,s);var c=At,d=jn;Rs(o.type)&&(At=o.stateNode,jn=!1),Li(r,s,o),Sc(o.stateNode),At=c,jn=d;break;case 5:Bt||Qr(o,s);case 6:if(c=At,d=jn,At=null,Li(r,s,o),At=c,jn=d,At!==null)if(jn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(o.stateNode)}catch(y){_t(o,s,y)}else try{At.removeChild(o.stateNode)}catch(y){_t(o,s,y)}break;case 18:At!==null&&(jn?(r=At,Y_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Pc(r)):Y_(At,o.stateNode));break;case 4:c=At,d=jn,At=o.stateNode.containerInfo,jn=!0,Li(r,s,o),At=c,jn=d;break;case 0:case 11:case 14:case 15:Bt||Es(2,o,s),Bt||Es(4,o,s),Li(r,s,o);break;case 1:Bt||(Qr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&JE(o,s,c)),Li(r,s,o);break;case 21:Li(r,s,o);break;case 22:Bt=(c=Bt)||o.memoizedState!==null,Li(r,s,o),Bt=c;break;default:Li(r,s,o)}}function o_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pc(r)}catch(o){_t(s,s.return,o)}}function CR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new r_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new r_),s;default:throw Error(i(435,r.tag))}}function Xm(r,s){var o=CR(r);s.forEach(function(c){var d=UR.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Yn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],y=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Rs(S.type)){At=S.stateNode,jn=!1;break e}break;case 5:At=S.stateNode,jn=!1;break e;case 3:case 4:At=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(At===null)throw Error(i(160));a_(y,w,d),At=null,jn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)l_(s,r),s=s.sibling}var xr=null;function l_(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(s,r),Qn(r),c&4&&(Es(3,r,r.return),pc(3,r),Es(5,r,r.return));break;case 1:Yn(s,r),Qn(r),c&512&&(Bt||o===null||Qr(o,o.return)),c&64&&ki&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=xr;if(Yn(s,r),Qn(r),c&512&&(Bt||o===null||Qr(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[ua]||y[en]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),vn(y,c,o),y[en]=r,Ut(y),c=y;break e;case"link":var w=nb("link","href",d).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=d.createElement(c),vn(y,c,o),d.head.appendChild(y);break;case"meta":if(w=nb("meta","content",d).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=d.createElement(c),vn(y,c,o),d.head.appendChild(y);break;default:throw Error(i(468,c))}y[en]=r,Ut(y),c=y}r.stateNode=c}else rb(d,r.type,r.stateNode);else r.stateNode=tb(d,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?rb(d,r.type,r.stateNode):tb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&$m(r,r.memoizedProps,o.memoizedProps)}break;case 27:Yn(s,r),Qn(r),c&512&&(Bt||o===null||Qr(o,o.return)),o!==null&&c&4&&$m(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Yn(s,r),Qn(r),c&512&&(Bt||o===null||Qr(o,o.return)),r.flags&32){d=r.stateNode;try{tr(d,"")}catch(J){_t(r,r.return,J)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,$m(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Qm=!0);break;case 6:if(Yn(s,r),Qn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(J){_t(r,r.return,J)}}break;case 3:if(Yh=null,d=xr,xr=$h(s.containerInfo),Yn(s,r),xr=d,Qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Pc(s.containerInfo)}catch(J){_t(r,r.return,J)}Qm&&(Qm=!1,c_(r));break;case 4:c=xr,xr=$h(r.stateNode.containerInfo),Yn(s,r),Qn(r),xr=c;break;case 12:Yn(s,r),Qn(r);break;case 13:Yn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(np=Ln()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=ki,ae=Bt;if(ki=X||d,Bt=ae||L,Yn(s,r),Bt=ae,ki=X,Qn(r),c&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||L||ki||Bt||ka(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(y=L.stateNode,d)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=L.stateNode;var fe=L.memoizedProps.style,Z=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){_t(L,L.return,J)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(J){_t(L,L.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xm(r,o))));break;case 19:Yn(s,r),Qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 30:break;case 21:break;default:Yn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(t_(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,y=Km(r);Ph(r,y,d);break;case 5:var w=o.stateNode;o.flags&32&&(tr(w,""),o.flags&=-33);var S=Km(r);Ph(r,S,w);break;case 3:case 4:var L=o.stateNode.containerInfo,X=Km(r);Ym(r,X,L);break;default:throw Error(i(161))}}catch(ae){_t(r,r.return,ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function c_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;c_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function _s(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i_(r,s.alternate,s),s=s.sibling}function ka(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Es(4,s,s.return),ka(s);break;case 1:Qr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&JE(s,s.return,o),ka(s);break;case 27:Sc(s.stateNode);case 26:case 5:Qr(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}r=r.sibling}}function bs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:bs(d,y,o),pc(4,y);break;case 1:if(bs(d,y,o),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){_t(c,c.return,X)}if(c=y,d=c.updateQueue,d!==null){var S=c.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)Uv(L[d],S)}catch(X){_t(c,c.return,X)}}o&&w&64&&ZE(y),gc(y,y.return);break;case 27:n_(y);case 26:case 5:bs(d,y,o),o&&c===null&&w&4&&e_(y),gc(y,y.return);break;case 12:bs(d,y,o);break;case 13:bs(d,y,o),o&&w&4&&o_(d,y);break;case 22:y.memoizedState===null&&bs(d,y,o),gc(y,y.return);break;case 30:break;default:bs(d,y,o)}s=s.sibling}}function Wm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&tc(o))}function Zm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r))}function Xr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)u_(r,s,o,c),s=s.sibling}function u_(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Xr(r,s,o,c),d&2048&&pc(9,s);break;case 1:Xr(r,s,o,c);break;case 3:Xr(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r)));break;case 12:if(d&2048){Xr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){_t(s,s.return,L)}}else Xr(r,s,o,c);break;case 13:Xr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Xr(r,s,o,c):yc(r,s):y._visibility&2?Xr(r,s,o,c):(y._visibility|=2,jo(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&Wm(w,s);break;case 24:Xr(r,s,o,c),d&2048&&Zm(s.alternate,s);break;default:Xr(r,s,o,c)}}function jo(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,w=s,S=o,L=c,X=w.flags;switch(w.tag){case 0:case 11:case 15:jo(y,w,S,L,d),pc(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?jo(y,w,S,L,d):yc(y,w):(ae._visibility|=2,jo(y,w,S,L,d)),d&&X&2048&&Wm(w.alternate,w);break;case 24:jo(y,w,S,L,d),d&&X&2048&&Zm(w.alternate,w);break;default:jo(y,w,S,L,d)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:yc(o,c),d&2048&&Wm(c.alternate,c);break;case 24:yc(o,c),d&2048&&Zm(c.alternate,c);break;default:yc(o,c)}s=s.sibling}}var vc=8192;function Bo(r){if(r.subtreeFlags&vc)for(r=r.child;r!==null;)h_(r),r=r.sibling}function h_(r){switch(r.tag){case 26:Bo(r),r.flags&vc&&r.memoizedState!==null&&mN(xr,r.memoizedState,r.memoizedProps);break;case 5:Bo(r);break;case 3:case 4:var s=xr;xr=$h(r.stateNode.containerInfo),Bo(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=vc,vc=16777216,Bo(r),vc=s):Bo(r));break;default:Bo(r)}}function f_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ec(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,m_(c,r)}f_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(r),r=r.sibling}function d_(r){switch(r.tag){case 0:case 11:case 15:Ec(r),r.flags&2048&&Es(9,r,r.return);break;case 3:Ec(r);break;case 12:Ec(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Mh(r)):Ec(r);break;default:Ec(r)}}function Mh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,m_(c,r)}f_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Es(8,s,s.return),Mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(s));break;default:Mh(s)}r=r.sibling}}function m_(r,s){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:tc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,un=c;else e:for(o=r;un!==null;){c=un;var d=c.sibling,y=c.return;if(s_(c),c===o){un=null;break e}if(d!==null){d.return=y,un=d;break e}un=y}}}var IR={getCacheForType:function(r){var s=xn(rn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},OR=typeof WeakMap=="function"?WeakMap:Map,ft=0,Tt=null,Ke=null,et=0,dt=0,Xn=null,Ts=!1,Fo=!1,Jm=!1,Ui=0,kt=0,ws=0,La=0,ep=0,ur=0,zo=0,_c=null,Bn=null,tp=!1,np=0,Vh=1/0,kh=null,xs=null,yn=0,Ss=null,qo=null,Ho=0,rp=0,ip=null,p_=null,bc=0,sp=null;function Wn(){if((ft&2)!==0&&et!==0)return et&-et;if(W.T!==null){var r=Oo;return r!==0?r:fp()}return _r()}function g_(){ur===0&&(ur=(et&536870912)===0||st?ht():536870912);var r=cr.current;return r!==null&&(r.flags|=32),ur}function Zn(r,s,o){(r===Tt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(Go(r,0),As(r,et,ur,!1)),ot(r,o),((ft&2)===0||r!==Tt)&&(r===Tt&&((ft&2)===0&&(La|=o),kt===4&&As(r,et,ur,!1)),Wr(r))}function y_(r,s,o){if((ft&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ue(r,s),d=c?MR(r,s):lp(r,s,!0),y=c;do{if(d===0){Fo&&!c&&As(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!DR(o)){d=lp(r,s,!1),y=!1;continue}if(d===2){if(y=s,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=r;d=_c;var L=S.current.memoizedState.isDehydrated;if(L&&(Go(S,w).flags|=256),w=lp(S,w,!1),w!==2){if(Jm&&!L){S.errorRecoveryDisabledLanes|=y,La|=y,d=4;break e}y=Bn,Bn=d,y!==null&&(Bn===null?Bn=y:Bn.push.apply(Bn,y))}d=w}if(y=!1,d!==2)continue}}if(d===1){Go(r,0),As(r,s,0,!0);break}e:{switch(c=r,y=d,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:As(c,s,ur,!Ts);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=np+300-Ln(),10<d)){if(As(c,s,ur,!Ts),Te(c,0,!0)!==0)break e;c.timeoutHandle=$_(v_.bind(null,c,o,Bn,kh,tp,s,ur,La,zo,Ts,y,2,-0,0),d);break e}v_(c,o,Bn,kh,tp,s,ur,La,zo,Ts,y,0,-0,0)}}break}while(!0);Wr(r)}function v_(r,s,o,c,d,y,w,S,L,X,ae,fe,Z,J){if(r.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Nc={stylesheets:null,count:0,unsuspend:dN},h_(s),fe=pN(),fe!==null)){r.cancelPendingCommit=fe(S_.bind(null,r,s,y,o,c,d,w,S,L,ae,1,Z,J)),As(r,y,w,!X);return}S_(r,s,y,o,c,d,w,S,L)}function DR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],y=d.getSnapshot;d=d.value;try{if(!$n(y(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(r,s,o,c){s&=~ep,s&=~La,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var y=31-Ie(d),w=1<<y;c[y]=-1,d&=~w}o!==0&&dn(r,o,s)}function Lh(){return(ft&6)===0?(Tc(0),!1):!0}function ap(){if(Ke!==null){if(dt===0)var r=Ke.return;else r=Ke,Ii=Oa=null,wm(r),Lo=null,fc=0,r=Ke;for(;r!==null;)WE(r.alternate,r),r=r.return;Ke=null}}function Go(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,XR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ap(),Tt=r,Ke=o=Ri(r.current,null),et=s,dt=0,Xn=null,Ts=!1,Fo=Ue(r,s),Jm=!1,zo=ur=ep=La=ws=kt=0,Bn=_c=null,tp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Ie(c),y=1<<d;s|=r[d],c&=~y}return Ui=s,sh(),o}function E_(r,s){Ge=null,W.H=xh,s===rc||s===mh?(s=kv(),dt=3):s===Pv?(s=kv(),dt=4):dt=s===LE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,Ke===null&&(kt=1,Ch(r,sr(s,r.current)))}function __(){var r=W.H;return W.H=xh,r===null?xh:r}function b_(){var r=W.A;return W.A=IR,r}function op(){kt=4,Ts||(et&4194048)!==et&&cr.current!==null||(Fo=!0),(ws&134217727)===0&&(La&134217727)===0||Tt===null||As(Tt,et,ur,!1)}function lp(r,s,o){var c=ft;ft|=2;var d=__(),y=b_();(Tt!==r||et!==s)&&(kh=null,Go(r,s)),s=!1;var w=kt;e:do try{if(dt!==0&&Ke!==null){var S=Ke,L=Xn;switch(dt){case 8:ap(),w=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(s=!0);var X=dt;if(dt=0,Xn=null,$o(r,S,L,X),o&&Fo){w=0;break e}break;default:X=dt,dt=0,Xn=null,$o(r,S,L,X)}}PR(),w=kt;break}catch(ae){E_(r,ae)}while(!0);return s&&r.shellSuspendCounter++,Ii=Oa=null,ft=c,W.H=d,W.A=y,Ke===null&&(Tt=null,et=0,sh()),w}function PR(){for(;Ke!==null;)T_(Ke)}function MR(r,s){var o=ft;ft|=2;var c=__(),d=b_();Tt!==r||et!==s?(kh=null,Vh=Ln()+500,Go(r,s)):Fo=Ue(r,s);e:do try{if(dt!==0&&Ke!==null){s=Ke;var y=Xn;t:switch(dt){case 1:dt=0,Xn=null,$o(r,s,y,1);break;case 2:case 9:if(Mv(y)){dt=0,Xn=null,w_(s);break}s=function(){dt!==2&&dt!==9||Tt!==r||(dt=7),Wr(r)},y.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Mv(y)?(dt=0,Xn=null,w_(s)):(dt=0,Xn=null,$o(r,s,y,7));break;case 5:var w=null;switch(Ke.tag){case 26:w=Ke.memoizedState;case 5:case 27:var S=Ke;if(!w||ib(w)){dt=0,Xn=null;var L=S.sibling;if(L!==null)Ke=L;else{var X=S.return;X!==null?(Ke=X,Uh(X)):Ke=null}break t}}dt=0,Xn=null,$o(r,s,y,5);break;case 6:dt=0,Xn=null,$o(r,s,y,6);break;case 8:ap(),kt=6;break e;default:throw Error(i(462))}}VR();break}catch(ae){E_(r,ae)}while(!0);return Ii=Oa=null,W.H=c,W.A=d,ft=o,Ke!==null?0:(Tt=null,et=0,sh(),kt)}function VR(){for(;Ke!==null&&!is();)T_(Ke)}function T_(r){var s=QE(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,s===null?Uh(r):Ke=s}function w_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=qE(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=qE(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:wm(s);default:WE(o,s),s=Ke=xv(s,Ui),s=QE(o,s,Ui)}r.memoizedProps=r.pendingProps,s===null?Uh(r):Ke=s}function $o(r,s,o,c){Ii=Oa=null,wm(s),Lo=null,fc=0;var d=s.return;try{if(xR(r,d,s,o,et)){kt=1,Ch(r,sr(o,r.current)),Ke=null;return}}catch(y){if(d!==null)throw Ke=d,y;kt=1,Ch(r,sr(o,r.current)),Ke=null;return}s.flags&32768?(st||c===1?r=!0:Fo||(et&536870912)!==0?r=!1:(Ts=r=!0,(c===2||c===9||c===3||c===6)&&(c=cr.current,c!==null&&c.tag===13&&(c.flags|=16384))),x_(s,r)):Uh(s)}function Uh(r){var s=r;do{if((s.flags&32768)!==0){x_(s,Ts);return}r=s.return;var o=AR(s.alternate,s,Ui);if(o!==null){Ke=o;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);kt===0&&(kt=5)}function x_(r,s){do{var o=RR(r.alternate,r);if(o!==null){o.flags&=32767,Ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=o}while(r!==null);kt=6,Ke=null}function S_(r,s,o,c,d,y,w,S,L){r.cancelPendingCommit=null;do jh();while(yn!==0);if((ft&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Zd,Mt(r,o,y,w,S,L),r===Tt&&(Ke=Tt=null,et=0),qo=s,Ss=r,Ho=o,rp=y,ip=d,p_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jR(Er,function(){return I_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,d=se.p,se.p=2,w=ft,ft|=4;try{NR(r,s,o)}finally{ft=w,se.p=d,W.T=c}}yn=1,A_(),R_(),N_()}}function A_(){if(yn===1){yn=0;var r=Ss,s=qo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=se.p;se.p=2;var d=ft;ft|=4;try{l_(s,r);var y=_p,w=mv(r.containerInfo),S=y.focusedElem,L=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&dv(S.ownerDocument.documentElement,S)){if(L!==null&&Kd(S)){var X=L.start,ae=L.end;if(ae===void 0&&(ae=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ae,S.value.length);else{var fe=S.ownerDocument||document,Z=fe&&fe.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),ke=S.textContent.length,De=Math.min(L.start,ke),yt=L.end===void 0?De:Math.min(L.end,ke);!J.extend&&De>yt&&(w=yt,yt=De,De=w);var $=fv(S,De),z=fv(S,yt);if($&&z&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var Q=fe.createRange();Q.setStart($.node,$.offset),J.removeAllRanges(),De>yt?(J.addRange(Q),J.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),J.addRange(Q))}}}}for(fe=[],J=S;J=J.parentNode;)J.nodeType===1&&fe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var he=fe[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Wh=!!Ep,_p=Ep=null}finally{ft=d,se.p=c,W.T=o}}r.current=s,yn=2}}function R_(){if(yn===2){yn=0;var r=Ss,s=qo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=se.p;se.p=2;var d=ft;ft|=4;try{i_(r,s.alternate,s)}finally{ft=d,se.p=c,W.T=o}}yn=3}}function N_(){if(yn===4||yn===3){yn=0,oa();var r=Ss,s=qo,o=Ho,c=p_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yn=5:(yn=0,qo=Ss=null,C_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(xs=null),gi(o),s=s.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(K,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,d=se.p,se.p=2,W.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var S=c[w];y(S.value,{componentStack:S.stack})}}finally{W.T=s,se.p=d}}(Ho&3)!==0&&jh(),Wr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===sp?bc++:(bc=0,sp=r):bc=0,Tc(0)}}function C_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,tc(s)))}function jh(r){return A_(),R_(),N_(),I_()}function I_(){if(yn!==5)return!1;var r=Ss,s=rp;rp=0;var o=gi(Ho),c=W.T,d=se.p;try{se.p=32>o?32:o,W.T=null,o=ip,ip=null;var y=Ss,w=Ho;if(yn=0,qo=Ss=null,Ho=0,(ft&6)!==0)throw Error(i(331));var S=ft;if(ft|=4,d_(y.current),u_(y,y.current,w,o),ft=S,Tc(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(K,y)}catch{}return!0}finally{se.p=d,W.T=c,C_(r,s)}}function O_(r,s,o){s=sr(o,s),s=Lm(r.stateNode,s,2),r=ps(r,s,2),r!==null&&(ot(r,2),Wr(r))}function _t(r,s,o){if(r.tag===3)O_(r,r,o);else for(;s!==null;){if(s.tag===3){O_(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xs===null||!xs.has(c))){r=sr(o,r),o=VE(2),c=ps(s,o,2),c!==null&&(kE(o,c,s,r),ot(c,2),Wr(c));break}}s=s.return}}function cp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new OR;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Jm=!0,d.add(o),r=kR.bind(null,r,s,o),s.then(r,r))}function kR(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(et&o)===o&&(kt===4||kt===3&&(et&62914560)===et&&300>Ln()-np?(ft&2)===0&&Go(r,0):ep|=o,zo===et&&(zo=0)),Wr(r)}function D_(r,s){s===0&&(s=it()),r=Ro(r,s),r!==null&&(ot(r,s),Wr(r))}function LR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),D_(r,o)}function UR(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),D_(r,o)}function jR(r,s){return Pt(r,s)}var Bh=null,Ko=null,up=!1,Fh=!1,hp=!1,Ua=0;function Wr(r){r!==Ko&&r.next===null&&(Ko===null?Bh=Ko=r:Ko=Ko.next=r),Fh=!0,up||(up=!0,FR())}function Tc(r,s){if(!hp&&Fh){hp=!0;do for(var o=!1,c=Bh;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var w=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-Ie(42|r)+1)-1,y&=d&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,k_(c,y))}else y=et,y=Te(c,c===Tt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ue(c,y)||(o=!0,k_(c,y));c=c.next}while(o);hp=!1}}function BR(){P_()}function P_(){Fh=up=!1;var r=0;Ua!==0&&(QR()&&(r=Ua),Ua=0);for(var s=Ln(),o=null,c=Bh;c!==null;){var d=c.next,y=M_(c,s);y===0?(c.next=null,o===null?Bh=d:o.next=d,d===null&&(Ko=o)):(o=c,(r!==0||(y&3)!==0)&&(Fh=!0)),c=d}Tc(r)}function M_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Ie(y),S=1<<w,L=d[w];L===-1?((S&o)===0||(S&c)!==0)&&(d[w]=ut(S,s)):L<=s&&(r.expiredLanes|=S),y&=~S}if(s=Tt,o=et,o=Te(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&mi(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ue(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&mi(c),gi(o)){case 2:case 8:o=pi;break;case 32:o=Er;break;case 268435456:o=kr;break;default:o=Er}return c=V_.bind(null,r),o=Pt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&mi(c),r.callbackPriority=2,r.callbackNode=null,2}function V_(r,s){if(yn!==0&&yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(jh()&&r.callbackNode!==o)return null;var c=et;return c=Te(r,r===Tt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(y_(r,c,s),M_(r,Ln()),r.callbackNode!=null&&r.callbackNode===o?V_.bind(null,r):null)}function k_(r,s){if(jh())return null;y_(r,s,!0)}function FR(){WR(function(){(ft&6)!==0?Pt(la,BR):P_()})}function fp(){return Ua===0&&(Ua=ht()),Ua}function L_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:po(""+r)}function U_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function zR(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var y=L_((d[Gt]||null).action),w=c.submitter;w&&(s=(s=w[Gt]||null)?L_(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var S=new go("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ua!==0){var L=w?U_(d,w):new FormData(d);Dm(o,{pending:!0,data:L,method:d.method,action:y},null,L)}}else typeof y=="function"&&(S.preventDefault(),L=w?U_(d,w):new FormData(d),Dm(o,{pending:!0,data:L,method:d.method,action:y},y,L))},currentTarget:d}]})}}for(var dp=0;dp<Wd.length;dp++){var mp=Wd[dp],qR=mp.toLowerCase(),HR=mp[0].toUpperCase()+mp.slice(1);wr(qR,"on"+HR)}wr(yv,"onAnimationEnd"),wr(vv,"onAnimationIteration"),wr(Ev,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(oR,"onTransitionRun"),wr(lR,"onTransitionStart"),wr(cR,"onTransitionCancel"),wr(_v,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function j_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],L=S.instance,X=S.currentTarget;if(S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(ae){Nh(ae)}d.currentTarget=null,y=L}else for(w=0;w<c.length;w++){if(S=c[w],L=S.instance,X=S.currentTarget,S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(ae){Nh(ae)}d.currentTarget=null,y=L}}}}function Ye(r,s){var o=s[Ml];o===void 0&&(o=s[Ml]=new Set);var c=r+"__bubble";o.has(c)||(B_(s,r,2,!1),o.add(c))}function pp(r,s,o){var c=0;s&&(c|=4),B_(o,r,c,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function gp(r){if(!r[zh]){r[zh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(GR.has(o)||pp(o,!1,r),pp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zh]||(s[zh]=!0,pp("selectionchange",!1,s))}}function B_(r,s,o,c){switch(ub(s)){case 2:var d=vN;break;case 8:d=EN;break;default:d=Ip}o=d.bind(null,s,o,r),d=void 0,!rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function yp(r,s,o,c,d){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=yi(S),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=y=w;continue e}S=S.parentNode}}c=c.return}Hu(function(){var X=y,ae=nr(o),fe=[];e:{var Z=bv.get(r);if(Z!==void 0){var J=go,ke=r;switch(r){case"keypress":if(zr(o)===0)break e;case"keydown":case"keyup":J=To;break;case"focusin":ke="focus",J=Eo;break;case"focusout":ke="blur",J=Eo;break;case"beforeblur":case"afterblur":J=Eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Zu;break;case yv:case vv:case Ev:J=_o;break;case _v:J=eh;break;case"scroll":case"scrollend":J=Gu;break;case"wheel":J=wo;break;case"copy":case"cut":case"paste":J=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Kl;break;case"toggle":case"beforetoggle":J=nh}var De=(s&4)!==0,yt=!De&&(r==="scroll"||r==="scrollend"),$=De?Z!==null?Z+"Capture":null:Z;De=[];for(var z=X,Q;z!==null;){var he=z;if(Q=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Q===null||$===null||(he=ya(z,$),he!=null&&De.push(xc(z,he,Q))),yt)break;z=z.return}0<De.length&&(Z=new J(Z,ke,null,o,ae),fe.push({event:Z,listeners:De}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&o!==bi&&(ke=o.relatedTarget||o.fromElement)&&(yi(ke)||ke[er]))break e;if((J||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(ke=o.relatedTarget||o.toElement,J=X,ke=ke?yi(ke):null,ke!==null&&(yt=l(ke),De=ke.tag,ke!==yt||De!==5&&De!==27&&De!==6)&&(ke=null)):(J=null,ke=X),J!==ke)){if(De=ir,he="onMouseLeave",$="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(De=Kl,he="onPointerLeave",$="onPointerEnter",z="pointer"),yt=J==null?Z:Ur(J),Q=ke==null?Z:Ur(ke),Z=new De(he,z+"leave",J,o,ae),Z.target=yt,Z.relatedTarget=Q,he=null,yi(ae)===X&&(De=new De($,z+"enter",ke,o,ae),De.target=Q,De.relatedTarget=yt,he=De),yt=he,J&&ke)t:{for(De=J,$=ke,z=0,Q=De;Q;Q=Yo(Q))z++;for(Q=0,he=$;he;he=Yo(he))Q++;for(;0<z-Q;)De=Yo(De),z--;for(;0<Q-z;)$=Yo($),Q--;for(;z--;){if(De===$||$!==null&&De===$.alternate)break t;De=Yo(De),$=Yo($)}De=null}else De=null;J!==null&&F_(fe,Z,J,De,!1),ke!==null&&yt!==null&&F_(fe,yt,ke,De,!0)}}e:{if(Z=X?Ur(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Ae=av;else if(nn(Z))if(ov)Ae=iR;else{Ae=nR;var $e=tR}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Bl(X.elementType)&&(Ae=av):Ae=rR;if(Ae&&(Ae=Ae(r,X))){Ai(fe,Ae,o,ae);break e}$e&&$e(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&us(Z,"number",Z.value)}switch($e=X?Ur(X):window,r){case"focusin":(nn($e)||$e.contentEditable==="true")&&(xo=$e,Yd=X,Xl=null);break;case"focusout":Xl=Yd=xo=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,pv(fe,o,ae);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":pv(fe,o,ae)}var Ne;if(Gr)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ze?ne(r,o)&&(Pe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(T&&o.locale!=="ko"&&(Ze||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ze&&(Ne=zl()):(Fr=ae,hs="value"in Fr?Fr.value:Fr.textContent,Ze=!0)),$e=qh(X,Pe),0<$e.length&&(Pe=new Gl(Pe,r,null,o,ae),fe.push({event:Pe,listeners:$e}),Ne?Pe.data=Ne:(Ne=ye(o),Ne!==null&&(Pe.data=Ne)))),(Ne=E?tn(r,o):Je(r,o))&&(Pe=qh(X,"onBeforeInput"),0<Pe.length&&($e=new Gl("onBeforeInput","beforeinput",null,o,ae),fe.push({event:$e,listeners:Pe}),$e.data=Ne)),zR(fe,r,X,o,ae)}j_(fe,s)})}function xc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function qh(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=ya(r,o),d!=null&&c.unshift(xc(r,d,y)),d=ya(r,s),d!=null&&c.push(xc(r,d,y))),r.tag===3)return c;r=r.return}return[]}function Yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function F_(r,s,o,c,d){for(var y=s._reactName,w=[];o!==null&&o!==c;){var S=o,L=S.alternate,X=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||X===null||(L=X,d?(X=ya(o,y),X!=null&&w.unshift(xc(o,X,L))):d||(X=ya(o,y),X!=null&&w.push(xc(o,X,L)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var $R=/\r\n?/g,KR=/\u0000|\uFFFD/g;function z_(r){return(typeof r=="string"?r:""+r).replace($R,`
`).replace(KR,"")}function q_(r,s){return s=z_(s),z_(r)===s}function Hh(){}function gt(r,s,o,c,d,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||tr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&tr(r,""+c);break;case"className":jr(r,"class",c);break;case"tabIndex":jr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(r,o,c);break;case"style":jl(r,c,y);break;case"data":if(s!=="object"){jr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=po(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&gt(r,s,"name",d.name,d,null),gt(r,s,"formEncType",d.formEncType,d,null),gt(r,s,"formMethod",d.formMethod,d,null),gt(r,s,"formTarget",d.formTarget,d,null)):(gt(r,s,"encType",d.encType,d,null),gt(r,s,"method",d.method,d,null),gt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=po(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Hh);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=po(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),cs(r,"popover",c);break;case"xlinkActuate":mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":cs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fd.get(o)||o,cs(r,o,c))}}function vp(r,s,o,c,d,y){switch(o){case"style":jl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?tr(r,c):(typeof c=="number"||typeof c=="bigint")&&tr(r,""+c);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),y=r[Gt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):cs(r,o,c)}}}function vn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var c=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,y,w,o,null)}}d&&gt(r,s,"srcSet",o.srcSet,o,null),c&&gt(r,s,"src",o.src,o,null);return;case"input":Ye("invalid",r);var S=y=w=d=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":d=ae;break;case"type":w=ae;break;case"checked":L=ae;break;case"defaultChecked":X=ae;break;case"value":y=ae;break;case"defaultValue":S=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:gt(r,s,c,ae,o,null)}}ma(r,y,S,L,X,w,d,!1),mo(r);return;case"select":Ye("invalid",r),c=w=y=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:gt(r,s,d,S,o,null)}s=y,o=w,r.multiple=!!c,s!=null?_i(r,!!c,s,!1):o!=null&&_i(r,!!c,o,!0);return;case"textarea":Ye("invalid",r),y=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":d=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:gt(r,s,w,S,o,null)}pa(r,c,d,y),mo(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(r,s,L,c,o,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(c=0;c<wc.length;c++)Ye(wc[c],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,X,c,o,null)}return;default:if(Bl(s)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&vp(r,s,ae,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&gt(r,s,S,c,o,null))}function YR(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,S=null,L=null,X=null,ae=null;for(J in o){var fe=o[J];if(o.hasOwnProperty(J)&&fe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=fe;default:c.hasOwnProperty(J)||gt(r,s,J,null,c,fe)}}for(var Z in c){var J=c[Z];if(fe=o[Z],c.hasOwnProperty(Z)&&(J!=null||fe!=null))switch(Z){case"type":y=J;break;case"name":d=J;break;case"checked":X=J;break;case"defaultChecked":ae=J;break;case"value":w=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==fe&&gt(r,s,Z,J,c,fe)}}Gn(r,w,S,L,X,ae,y,d);return;case"select":J=w=S=Z=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(y)||gt(r,s,y,null,c,L)}for(d in c)if(y=c[d],L=o[d],c.hasOwnProperty(d)&&(y!=null||L!=null))switch(d){case"value":Z=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==L&&gt(r,s,d,y,c,L)}s=S,o=w,c=J,Z!=null?_i(r,!!o,Z,!1):!!c!=!!o&&(s!=null?_i(r,!!o,s,!0):_i(r,!!o,o?[]:"",!1));return;case"textarea":J=Z=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:gt(r,s,S,null,c,d)}for(w in c)if(d=c[w],y=o[w],c.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":Z=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==y&&gt(r,s,w,d,c,y)}mt(r,Z,J);return;case"option":for(var ke in o)if(Z=o[ke],o.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:gt(r,s,ke,null,c,Z)}for(L in c)if(Z=c[L],J=o[L],c.hasOwnProperty(L)&&Z!==J&&(Z!=null||J!=null))switch(L){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:gt(r,s,L,Z,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)Z=o[De],o.hasOwnProperty(De)&&Z!=null&&!c.hasOwnProperty(De)&&gt(r,s,De,null,c,Z);for(X in c)if(Z=c[X],J=o[X],c.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:gt(r,s,X,Z,c,J)}return;default:if(Bl(s)){for(var yt in o)Z=o[yt],o.hasOwnProperty(yt)&&Z!==void 0&&!c.hasOwnProperty(yt)&&vp(r,s,yt,void 0,c,Z);for(ae in c)Z=c[ae],J=o[ae],!c.hasOwnProperty(ae)||Z===J||Z===void 0&&J===void 0||vp(r,s,ae,Z,c,J);return}}for(var $ in o)Z=o[$],o.hasOwnProperty($)&&Z!=null&&!c.hasOwnProperty($)&&gt(r,s,$,null,c,Z);for(fe in c)Z=c[fe],J=o[fe],!c.hasOwnProperty(fe)||Z===J||Z==null&&J==null||gt(r,s,fe,Z,c,J)}var Ep=null,_p=null;function Gh(r){return r.nodeType===9?r:r.ownerDocument}function H_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function bp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function QR(){var r=window.event;return r&&r.type==="popstate"?r===Tp?!1:(Tp=r,!0):(Tp=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(r){return K_.resolve(null).then(r).catch(ZR)}:$_;function ZR(r){setTimeout(function(){throw r})}function Rs(r){return r==="head"}function Y_(r,s){var o=s,c=0,d=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Sc(w.documentElement),o&2&&Sc(w.body),o&4)for(o=w.head,Sc(o),w=o.firstChild;w;){var S=w.nextSibling,L=w.nodeName;w[ua]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(d===0){r.removeChild(y),Pc(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Pc(s)}function wp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function JR(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ua])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Sr(r.nextSibling),r===null)break}return null}function eN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sr(r.nextSibling),r===null))return null;return r}function xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function tN(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Sp=null;function Q_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function X_(r,s,o){switch(s=Gh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Sc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ls(r)}var hr=new Map,W_=new Set;function $h(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=se.d;se.d={f:nN,r:rN,D:iN,C:sN,L:aN,m:oN,X:cN,S:lN,M:uN};function nN(){var r=ji.f(),s=Lh();return r||s}function rN(r){var s=Lr(r);s!==null&&s.tag===5&&s.type==="form"?yE(s):ji.r(r)}var Qo=typeof document>"u"?null:document;function Z_(r,s,o){var c=Qo;if(c&&typeof s=="string"&&s){var d=$t(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),W_.has(d)||(W_.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),vn(s,"link",r),Ut(s),c.head.appendChild(s)))}}function iN(r){ji.D(r),Z_("dns-prefetch",r,null)}function sN(r,s){ji.C(r,s),Z_("preconnect",r,s)}function aN(r,s,o){ji.L(r,s,o);var c=Qo;if(c&&r&&s){var d='link[rel="preload"][as="'+$t(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+$t(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+$t(o.imageSizes)+'"]')):d+='[href="'+$t(r)+'"]';var y=d;switch(s){case"style":y=Xo(r);break;case"script":y=Wo(r)}hr.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),hr.set(y,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Ac(y))||s==="script"&&c.querySelector(Rc(y))||(s=c.createElement("link"),vn(s,"link",r),Ut(s),c.head.appendChild(s)))}}function oN(r,s){ji.m(r,s);var o=Qo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+$t(c)+'"][href="'+$t(r)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wo(r)}if(!hr.has(y)&&(r=v({rel:"modulepreload",href:r},s),hr.set(y,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Rc(y)))return}c=o.createElement("link"),vn(c,"link",r),Ut(c),o.head.appendChild(c)}}}function lN(r,s,o){ji.S(r,s,o);var c=Qo;if(c&&r){var d=Dn(c).hoistableStyles,y=Xo(r);s=s||"default";var w=d.get(y);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(Ac(y)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=hr.get(y))&&Ap(r,o);var L=w=c.createElement("link");Ut(L),vn(L,"link",r),L._p=new Promise(function(X,ae){L.onload=X,L.onerror=ae}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(y,w)}}}function cN(r,s){ji.X(r,s);var o=Qo;if(o&&r){var c=Dn(o).hoistableScripts,d=Wo(r),y=c.get(d);y||(y=o.querySelector(Rc(d)),y||(r=v({src:r,async:!0},s),(s=hr.get(d))&&Rp(r,s),y=o.createElement("script"),Ut(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function uN(r,s){ji.M(r,s);var o=Qo;if(o&&r){var c=Dn(o).hoistableScripts,d=Wo(r),y=c.get(d);y||(y=o.querySelector(Rc(d)),y||(r=v({src:r,async:!0,type:"module"},s),(s=hr.get(d))&&Rp(r,s),y=o.createElement("script"),Ut(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function J_(r,s,o,c){var d=(d=Ee.current)?$h(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xo(o.href),o=Dn(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Xo(o.href);var y=Dn(d).hoistableStyles,w=y.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=d.querySelector(Ac(r)))&&!y._p&&(w.instance=y,w.state.loading=5),hr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hr.set(r,o),y||hN(d,r,o,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=Dn(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xo(r){return'href="'+$t(r)+'"'}function Ac(r){return'link[rel="stylesheet"]['+r+"]"}function eb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function hN(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),vn(s,"link",o),Ut(s),r.head.appendChild(s))}function Wo(r){return'[src="'+$t(r)+'"]'}function Rc(r){return"script[async]"+r}function tb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+$t(o.href)+'"]');if(c)return s.instance=c,Ut(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ut(c),vn(c,"style",d),Kh(c,o.precedence,r),s.instance=c;case"stylesheet":d=Xo(o.href);var y=r.querySelector(Ac(d));if(y)return s.state.loading|=4,s.instance=y,Ut(y),y;c=eb(o),(d=hr.get(d))&&Ap(c,d),y=(r.ownerDocument||r).createElement("link"),Ut(y);var w=y;return w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),vn(y,"link",c),s.state.loading|=4,Kh(y,o.precedence,r),s.instance=y;case"script":return y=Wo(o.src),(d=r.querySelector(Rc(y)))?(s.instance=d,Ut(d),d):(c=o,(d=hr.get(y))&&(c=v({},o),Rp(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),Ut(d),vn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Kh(c,o.precedence,r));return s.instance}function Kh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===s)y=S;else if(y!==d)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Rp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yh=null;function nb(r,s,o){if(Yh===null){var c=new Map,d=Yh=new Map;d.set(o,c)}else d=Yh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var y=o[d];if(!(y[ua]||y[en]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=r+w;var S=c.get(w);S?S.push(y):c.set(w,[y])}}return c}function rb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function fN(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ib(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Nc=null;function dN(){}function mN(r,s,o){if(Nc===null)throw Error(i(475));var c=Nc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Xo(o.href),y=r.querySelector(Ac(d));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Qh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Ut(y);return}y=r.ownerDocument||r,o=eb(o),(d=hr.get(d))&&Ap(o,d),y=y.createElement("link"),Ut(y);var w=y;w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),vn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Qh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function pN(){if(Nc===null)throw Error(i(475));var r=Nc;return r.stylesheets&&r.count===0&&Np(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xh=null;function Np(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xh=new Map,s.forEach(gN,r),Xh=null,Qh.call(r))}function gN(r,s){if(!(s.state.loading&4)){var o=Xh.get(r);if(o)var c=o.get(null);else{o=new Map,Xh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=s.instance,w=d.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,d),o.set(w,d),this.count++,c=Qh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Cc={$$typeof:G,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function yN(r,s,o,c,d,y,w,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function sb(r,s,o,c,d,y,w,S,L,X,ae,fe){return r=new yN(r,s,o,w,S,L,X,fe),s=1,y===!0&&(s|=24),y=Kn(3,null,null,s),r.current=y,y.stateNode=r,s=cm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},dm(y),r}function ab(r){return r?(r=No,r):No}function ob(r,s,o,c,d,y){d=ab(d),c.context===null?c.context=d:c.pendingContext=d,c=ms(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ps(r,c,s),o!==null&&(Zn(o,r,s),sc(o,r,s))}function lb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Cp(r,s){lb(r,s),(r=r.alternate)&&lb(r,s)}function cb(r){if(r.tag===13){var s=Ro(r,67108864);s!==null&&Zn(s,r,67108864),Cp(r,67108864)}}var Wh=!0;function vN(r,s,o,c){var d=W.T;W.T=null;var y=se.p;try{se.p=2,Ip(r,s,o,c)}finally{se.p=y,W.T=d}}function EN(r,s,o,c){var d=W.T;W.T=null;var y=se.p;try{se.p=8,Ip(r,s,o,c)}finally{se.p=y,W.T=d}}function Ip(r,s,o,c){if(Wh){var d=Op(c);if(d===null)yp(r,s,c,Zh,o),hb(r,c);else if(bN(d,r,s,o,c))c.stopPropagation();else if(hb(r,c),s&4&&-1<_N.indexOf(r)){for(;d!==null;){var y=Lr(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=be(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var L=1<<31-Ie(w);S.entanglements[1]|=L,w&=~L}Wr(y),(ft&6)===0&&(Vh=Ln()+500,Tc(0))}}break;case 13:S=Ro(y,2),S!==null&&Zn(S,y,2),Lh(),Cp(y,2)}if(y=Op(c),y===null&&yp(r,s,c,Zh,o),y===d)break;d=y}d!==null&&c.stopPropagation()}else yp(r,s,c,null,o)}}function Op(r){return r=nr(r),Dp(r)}var Zh=null;function Dp(r){if(Zh=null,r=yi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zh=r,null}function ub(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case la:return 2;case pi:return 8;case Er:case as:return 32;case kr:return 268435456;default:return 32}default:return 32}}var Pp=!1,Ns=null,Cs=null,Is=null,Ic=new Map,Oc=new Map,Os=[],_N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hb(r,s){switch(r){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ic.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(s.pointerId)}}function Dc(r,s,o,c,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Lr(s),s!==null&&cb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function bN(r,s,o,c,d){switch(s){case"focusin":return Ns=Dc(Ns,r,s,o,c,d),!0;case"dragenter":return Cs=Dc(Cs,r,s,o,c,d),!0;case"mouseover":return Is=Dc(Is,r,s,o,c,d),!0;case"pointerover":var y=d.pointerId;return Ic.set(y,Dc(Ic.get(y)||null,r,s,o,c,d)),!0;case"gotpointercapture":return y=d.pointerId,Oc.set(y,Dc(Oc.get(y)||null,r,s,o,c,d)),!0}return!1}function fb(r){var s=yi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Lu(r.priority,function(){if(o.tag===13){var c=Wn();c=Hn(c);var d=Ro(o,c);d!==null&&Zn(d,o,c),Cp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Op(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);bi=c,o.target.dispatchEvent(c),bi=null}else return s=Lr(o),s!==null&&cb(s),r.blockedOn=o,!1;s.shift()}return!0}function db(r,s,o){Jh(r)&&o.delete(s)}function TN(){Pp=!1,Ns!==null&&Jh(Ns)&&(Ns=null),Cs!==null&&Jh(Cs)&&(Cs=null),Is!==null&&Jh(Is)&&(Is=null),Ic.forEach(db),Oc.forEach(db)}function ef(r,s){r.blockedOn===s&&(r.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TN)))}var tf=null;function mb(r){tf!==r&&(tf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tf===r&&(tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Dp(c||o)===null)continue;break}var y=Lr(o);y!==null&&(r.splice(s,3),s-=3,Dm(y,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Pc(r){function s(L){return ef(L,r)}Ns!==null&&ef(Ns,r),Cs!==null&&ef(Cs,r),Is!==null&&ef(Is,r),Ic.forEach(s),Oc.forEach(s);for(var o=0;o<Os.length;o++){var c=Os[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Os.length&&(o=Os[0],o.blockedOn===null);)fb(o),o.blockedOn===null&&Os.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],y=o[c+1],w=d[Gt]||null;if(typeof y=="function")w||mb(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[Gt]||null)S=w.formAction;else if(Dp(d)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),mb(o)}}}function Mp(r){this._internalRoot=r}nf.prototype.render=Mp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Wn();ob(o,c,r,s,null,null)},nf.prototype.unmount=Mp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ob(r.current,2,null,r,null,null),Lh(),s[er]=null}};function nf(r){this._internalRoot=r}nf.prototype.unstable_scheduleHydration=function(r){if(r){var s=_r();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Os.length&&s!==0&&s<Os[o].priority;o++);Os.splice(o,0,r),o===0&&fb(r)}};var pb=e.version;if(pb!=="19.1.1")throw Error(i(527,pb,"19.1.1"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var wN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{K=rf.inject(wN),oe=rf}catch{}}return Mc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=OE,y=DE,w=PE,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=sb(r,1,!1,null,null,o,c,d,y,w,S,null),r[er]=s.current,gp(r),new Mp(s)},Mc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",y=OE,w=DE,S=PE,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=sb(r,1,!0,s,o??null,c,d,y,w,S,L,X),s.context=ab(null),o=s.current,c=Wn(),c=Hn(c),d=ms(c),d.callback=null,ps(o,d,c),o=c,s.current.lanes=o,ot(s,o),Wr(s),r[er]=s.current,gp(r),new nf(s)},Mc.version="19.1.1",Mc}var wb;function DN(){if(wb)return kp.exports;wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kp.exports=ON(),kp.exports}var PN=DN();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xb="popstate";function MN(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=to(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),_g("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:tu(l))}function i(a,l){Dr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return kN(e,n,i,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VN(){return Math.random().toString(36).substring(2,10)}function Sb(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||i||VN()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function kN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let O=v(),j=O==null?null:O-g;g=O,m&&m({action:f,location:D.location,delta:j})}function b(O,j){f="PUSH";let U=_g(D.location,O,j);n&&n(U,O),g=v()+1;let G=Sb(U,g),ce=D.createHref(U);try{u.pushState(G,"",ce)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(ce)}l&&m&&m({action:f,location:D.location,delta:1})}function A(O,j){f="REPLACE";let U=_g(D.location,O,j);n&&n(U,O),g=v();let G=Sb(U,g),ce=D.createHref(U);u.replaceState(G,"",ce),l&&m&&m({action:f,location:D.location,delta:0})}function C(O){return LN(O)}let D={get action(){return f},get location(){return t(a,u)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(xb,_),m=O,()=>{a.removeEventListener(xb,_),m=null}},createHref(O){return e(a,O)},createURL:C,encodeLocation(O){let j=C(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:A,go(O){return u.go(O)}};return D}function LN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:tu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function I1(t,e,n="/"){return UN(t,e,n,!1)}function UN(t,e,n,i){let a=typeof e=="string"?to(e):e,l=Qi(a.pathname||"/",n);if(l==null)return null;let u=O1(t);jN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=XN(l);f=YN(u[m],g,i)}return f}function O1(t,e=[],n=[],i="",a=!1){let l=(u,f,m=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Ot(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=qi([i,v.relativePath]),b=n.concat(v);u.children&&u.children.length>0&&(Ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),O1(u.children,e,b,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:$N(_,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of D1(u.path))l(u,f,!0,m)}),e}function D1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=D1(i.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function jN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var BN=/^:[\w-]+$/,FN=3,zN=2,qN=1,HN=10,GN=-2,Ab=t=>t==="*";function $N(t,e){let n=t.split("/"),i=n.length;return n.some(Ab)&&(i+=GN),e&&(i+=zN),n.filter(a=>!Ab(a)).reduce((a,l)=>a+(BN.test(l)?FN:l===""?qN:HN),i)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function YN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),b=m.route;if(!_&&g&&n&&!i[i.length-1].route.index&&(_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:qi([l,_.pathname]),pathnameBase:eC(qi([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=qi([l,_.pathnameBase]))}return u}function Df(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=QN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},b)=>{if(v==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[b];return _&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function QN(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function WN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:ZN(n,e):e,search:tC(i),hash:nC(a)}}function ZN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P1(t){let e=JN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function M1(t,e,n,i=!1){let a;typeof t=="string"?a=to(t):(a={...t},Ot(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),Ot(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),Ot(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=WN(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),eC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var V1=["POST","PUT","PATCH","DELETE"];new Set(V1);var iC=["GET",...V1];new Set(iC);var xl=I.createContext(null);xl.displayName="DataRouter";var cd=I.createContext(null);cd.displayName="DataRouterState";I.createContext(!1);var k1=I.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var sC=I.createContext(new Map);sC.displayName="Fetchers";var aC=I.createContext(null);aC.displayName="Await";var ui=I.createContext(null);ui.displayName="Navigation";var vu=I.createContext(null);vu.displayName="Location";var hi=I.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var vy=I.createContext(null);vy.displayName="RouteError";function oC(t,{relative:e}={}){Ot(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(ui),{hash:a,pathname:l,search:u}=_u(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:qi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function Eu(){return I.useContext(vu)!=null}function ra(){return Ot(Eu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(vu).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(t){I.useContext(ui).static||I.useLayoutEffect(t)}function j1(){let{isDataRoute:t}=I.useContext(hi);return t?bC():lC()}function lC(){Ot(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(xl),{basename:e,navigator:n}=I.useContext(ui),{matches:i}=I.useContext(hi),{pathname:a}=ra(),l=JSON.stringify(P1(i)),u=I.useRef(!1);return U1(()=>{u.current=!0}),I.useCallback((m,g={})=>{if(Dr(u.current,L1),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=M1(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function cC(){let{matches:t}=I.useContext(hi),e=t[t.length-1];return e?e.params:{}}function _u(t,{relative:e}={}){let{matches:n}=I.useContext(hi),{pathname:i}=ra(),a=JSON.stringify(P1(n));return I.useMemo(()=>M1(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function uC(t,e){return B1(t,e)}function B1(t,e,n,i,a){Ot(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(ui),{matches:u}=I.useContext(hi),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let U=_&&_.path||"";F1(g,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ra(),A;if(e){let U=typeof e=="string"?to(e):e;Ot(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=b;let C=A.pathname||"/",D=C;if(v!=="/"){let U=v.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=I1(t,{pathname:D});Dr(_||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Dr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=pC(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:qi([v,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:qi([v,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,i,a);return e&&j?I.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function hC(){let t=_C(),e=rC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var fC=I.createElement(hC,null),dC=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(hi.Provider,{value:this.props.routeContext},I.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mC({routeContext:t,match:e,children:n}){let i=I.useContext(xl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(hi.Provider,{value:t},n)}function pC(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:b}=n,A=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let b,A=!1,C=null,D=null;n&&(b=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||fC,f&&(m<0&&_===0?(F1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):m===_&&(A=!0,D=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),j=()=>{let U;return b?U=C:A?U=D:v.route.Component?U=I.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=g,I.createElement(mC,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?I.createElement(dC,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):j()},null)}function Ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gC(t){let e=I.useContext(xl);return Ot(e,Ey(t)),e}function yC(t){let e=I.useContext(cd);return Ot(e,Ey(t)),e}function vC(t){let e=I.useContext(hi);return Ot(e,Ey(t)),e}function _y(t){let e=vC(t),n=e.matches[e.matches.length-1];return Ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function EC(){return _y("useRouteId")}function _C(){let t=I.useContext(vy),e=yC("useRouteError"),n=_y("useRouteError");return t!==void 0?t:e.errors?.[n]}function bC(){let{router:t}=gC("useNavigate"),e=_y("useNavigate"),n=I.useRef(!1);return U1(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Dr(n.current,L1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Rb={};function F1(t,e,n){!e&&!Rb[t]&&(Rb[t]=!0,Dr(!1,n))}I.memo(TC);function TC({routes:t,future:e,state:n,unstable_onError:i}){return B1(t,void 0,n,i,e)}function Bi(t){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Ot(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=to(n));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:b="default"}=n,A=I.useMemo(()=>{let C=Qi(m,u);return C==null?null:{location:{pathname:C,search:g,hash:v,state:_,key:b},navigationType:i}},[u,m,g,v,_,b,i]);return Dr(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:I.createElement(ui.Provider,{value:f},I.createElement(vu.Provider,{children:e,value:A}))}function xC({children:t,location:e}){return uC(bg(t),e)}function bg(t,e=[]){let n=[];return I.Children.forEach(t,(i,a)=>{if(!I.isValidElement(i))return;let l=[...e,a];if(i.type===I.Fragment){n.push.apply(n,bg(i.props.children,l));return}Ot(i.type===Bi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=bg(i.props.children,l)),n.push(u)}),n}var gf="get",yf="application/x-www-form-urlencoded";function ud(t){return t!=null&&typeof t.tagName=="string"}function SC(t){return ud(t)&&t.tagName.toLowerCase()==="button"}function AC(t){return ud(t)&&t.tagName.toLowerCase()==="form"}function RC(t){return ud(t)&&t.tagName.toLowerCase()==="input"}function NC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CC(t,e){return t.button===0&&(!e||e==="_self")&&!NC(t)}var sf=null;function IC(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var OC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(t){return t!=null&&!OC.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):t}function DC(t,e){let n,i,a,l,u;if(AC(t)){let f=t.getAttribute("action");i=f?Qi(f,e):null,n=t.getAttribute("method")||gf,a=Fp(t.getAttribute("enctype"))||yf,l=new FormData(t)}else if(SC(t)||RC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(i=m?Qi(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||gf,a=Fp(t.getAttribute("formenctype"))||Fp(f.getAttribute("enctype"))||yf,l=new FormData(f,t),!IC()){let{name:g,type:v,value:_}=t;if(v==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,_)}}else{if(ud(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,i=null,a=yf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function by(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function MC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kC(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await MC(l,n);return u.links?u.links():[]}return[]}));return BC(i.flat(1).filter(VC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Nb(t,e,n,i,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function LC(t,e,{includeHydrateFallback:n}={}){return UC(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function UC(t){return[...new Set(t)]}function jC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function BC(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(jC(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function z1(){let t=I.useContext(xl);return by(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FC(){let t=I.useContext(cd);return by(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ty=I.createContext(void 0);Ty.displayName="FrameworkContext";function q1(){let t=I.useContext(Ty);return by(t,"You must render this element inside a <HydratedRouter> element"),t}function zC(t,e){let n=I.useContext(Ty),[i,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=j=>{j.forEach(U=>{u(U.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),I.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let A=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Vc(f,A),onBlur:Vc(m,C),onMouseEnter:Vc(g,A),onMouseLeave:Vc(v,C),onTouchStart:Vc(_,A)}]:[!1,b,{}]}function Vc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qC({page:t,...e}){let{router:n}=z1(),i=I.useMemo(()=>I1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(GC,{page:t,matches:i,...e}):null}function HC(t){let{manifest:e,routeModules:n}=q1(),[i,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return kC(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function GC({page:t,matches:e,...n}){let i=ra(),{manifest:a,routeModules:l}=q1(),{basename:u}=z1(),{loaderData:f,matches:m}=FC(),g=I.useMemo(()=>Nb(t,e,m,a,i,"data"),[t,e,m,a,i]),v=I.useMemo(()=>Nb(t,e,m,a,i,"assets"),[t,e,m,a,i]),_=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,D=!1;if(e.forEach(j=>{let U=a.routes[j.route.id];!U||!U.hasLoader||(!g.some(G=>G.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||U.hasClientLoader?D=!0:C.add(j.route.id))}),C.size===0)return[];let O=PC(t,u,"data");return D&&C.size>0&&O.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[u,f,i,a,g,e,t,l]),b=I.useMemo(()=>LC(v,a),[v,a]),A=HC(v);return I.createElement(I.Fragment,null,_.map(C=>I.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>I.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:D})=>I.createElement("link",{key:C,nonce:n.nonce,...D})))}function $C(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H1&&(window.__reactRouterVersion="7.9.1")}catch{}function KC({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=MN({window:n,v5Compat:!0}));let a=i.current,[l,u]=I.useState({action:a.action,location:a.location}),f=I.useCallback(m=>{I.startTransition(()=>u(m))},[u]);return I.useLayoutEffect(()=>a.listen(f),[a,f]),I.createElement(wC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vr=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:g,preventScrollReset:v,viewTransition:_,...b},A){let{basename:C}=I.useContext(ui),D=typeof g=="string"&&G1.test(g),O,j=!1;if(typeof g=="string"&&D&&(O=g,H1))try{let N=new URL(window.location.href),V=g.startsWith("//")?new URL(N.protocol+g):new URL(g),B=Qi(V.pathname,C);V.origin===N.origin&&B!=null?g=B+V.search+V.hash:j=!0}catch{Dr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=oC(g,{relative:a}),[G,ce,H]=zC(i,b),ee=XC(g,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_});function P(N){e&&e(N),N.defaultPrevented||ee(N)}let x=I.createElement("a",{...b,...H,href:O||U,onClick:j||l?e:P,ref:$C(A,ce),target:m,"data-discover":!D&&n==="render"?"true":void 0});return G&&!D?I.createElement(I.Fragment,null,x,I.createElement(qC,{page:U})):x});Vr.displayName="Link";var Vs=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...g},v){let _=_u(u,{relative:g.relative}),b=ra(),A=I.useContext(cd),{navigator:C,basename:D}=I.useContext(ui),O=A!=null&&tI(_)&&f===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,U=b.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(U=U.toLowerCase(),G=G?G.toLowerCase():null,j=j.toLowerCase()),G&&D&&(G=Qi(G,D)||G);const ce=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let H=U===j||!a&&U.startsWith(j)&&U.charAt(ce)==="/",ee=G!=null&&(G===j||!a&&G.startsWith(j)&&G.charAt(j.length)==="/"),P={isActive:H,isPending:ee,isTransitioning:O},x=H?e:void 0,N;typeof i=="function"?N=i(P):N=[i,H?"active":null,ee?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return I.createElement(Vr,{...g,"aria-current":x,className:N,ref:v,style:V,to:u,viewTransition:f},typeof m=="function"?m(P):m)});Vs.displayName="NavLink";var YC=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=gf,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:_,...b},A)=>{let C=JC(),D=eI(f,{relative:g}),O=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&G1.test(f),U=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,H=ce?.getAttribute("formmethod")||u;C(ce||G.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return I.createElement("form",{ref:A,method:O,action:D,onSubmit:i?m:U,...b,"data-discover":!j&&t==="render"?"true":void 0})});YC.displayName="Form";function QC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(t){let e=I.useContext(xl);return Ot(e,QC(t)),e}function XC(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=j1(),m=ra(),g=_u(t,{relative:l});return I.useCallback(v=>{if(CC(v,e)){v.preventDefault();let _=n!==void 0?n:tu(m)===tu(g);f(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,g,n,i,e,t,a,l,u])}var WC=0,ZC=()=>`__${String(++WC)}__`;function JC(){let{router:t}=$1("useSubmit"),{basename:e}=I.useContext(ui),n=EC();return I.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:m,body:g}=DC(i,e);if(a.navigate===!1){let v=a.fetcherKey||ZC();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function eI(t,{relative:e}={}){let{basename:n}=I.useContext(ui),i=I.useContext(hi);Ot(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={..._u(t||".",{relative:e})},u=ra();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),tu(l)}function tI(t,{relative:e}={}){let n=I.useContext(k1);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$1("useViewTransitionState"),a=_u(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Df(a.pathname,u)!=null||Df(a.pathname,l)!=null}const nI=()=>{};var Cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|g>>6,A=g&63;m||(A=64,u||(b=64)),i.push(n[v],n[_],n[b],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new iI;const b=l<<2|f>>4;if(i.push(b),g!==64){const A=f<<4&240|g>>2;if(i.push(A),_!==64){const C=g<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sI=function(t){const e=K1(t);return Y1.encodeByteArray(e,!0)},Pf=function(t){return sI(t).replace(/\./g,"")},Q1=function(t){try{return Y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>aI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof Cb>"u")return;const t=Cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q1(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return nI()||oI()||lI()||cI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X1=t=>hd()?.emulatorHosts?.[t],W1=t=>{const e=X1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Z1=()=>hd()?.config,J1=t=>hd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(u)),""].join(".")}const Gc={};function hI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function fI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ib=!1;function xy(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Gc[t]===e||Gc[t]||Ib)return;Gc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=hI().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ib=!0,u()},b}function v(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=fI(i),A=n("text"),C=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),j=n("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;f(G),v(O,D);const ce=g();m(U,j),G.append(U,C,O,ce),document.body.appendChild(G)}l?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function mI(){const t=hd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vI(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EI(){return!mI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _I(){try{return typeof indexedDB=="object"}catch{return!1}}function bI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FirebaseError";class fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TI,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?wI(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new fi(a,f,i)}}function wI(t,e){return t.replace(xI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const xI=/\{\$([^}]+)}/g;function SI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Ob(l)&&Ob(u)){if(!Qa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ob(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AI(t,e){const n=new RI(t,e);return n.subscribe.bind(n)}class RI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=zp),a.error===void 0&&(a.error=zp),a.complete===void 0&&(a.complete=zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class $s{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new uI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(t){return t===Ba?void 0:t}function OI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const PI={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},MI=Qe.INFO,VI={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},kI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=VI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=MI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const LI=(t,e)=>e.some(n=>t instanceof n);let Db,Pb;function UI(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tx=new WeakMap,Tg=new WeakMap,nx=new WeakMap,qp=new WeakMap,Ay=new WeakMap;function BI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(zs(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tx.set(n,t)}).catch(()=>{}),Ay.set(e,t),e}function FI(t){if(Tg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Tg.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zI(t){wg=t(wg)}function qI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hp(this),e,...n);return nx.set(i,e.sort?e.sort():[e]),zs(i)}:jI().includes(t)?function(...e){return t.apply(Hp(this),e),zs(tx.get(this))}:function(...e){return zs(t.apply(Hp(this),e))}}function HI(t){return typeof t=="function"?qI(t):(t instanceof IDBTransaction&&FI(t),LI(t,UI())?new Proxy(t,wg):t)}function zs(t){if(t instanceof IDBRequest)return BI(t);if(qp.has(t))return qp.get(t);const e=HI(t);return e!==t&&(qp.set(t,e),Ay.set(e,t)),e}const Hp=t=>Ay.get(t);function GI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=zs(u);return i&&u.addEventListener("upgradeneeded",m=>{i(zs(u.result),m.oldVersion,m.newVersion,zs(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const $I=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],Gp=new Map;function Mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=KI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||$I.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return Gp.set(e,l),l}zI(t=>({...t,get:(e,n,i)=>Mb(e,n)||t.get(e,n,i),has:(e,n)=>!!Mb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QI(t){return t.getComponent()?.type==="VERSION"}const xg="@firebase/app",Vb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Sy("@firebase/app"),XI="@firebase/app-compat",WI="@firebase/analytics-compat",ZI="@firebase/analytics",JI="@firebase/app-check-compat",eO="@firebase/app-check",tO="@firebase/auth",nO="@firebase/auth-compat",rO="@firebase/database",iO="@firebase/data-connect",sO="@firebase/database-compat",aO="@firebase/functions",oO="@firebase/functions-compat",lO="@firebase/installations",cO="@firebase/installations-compat",uO="@firebase/messaging",hO="@firebase/messaging-compat",fO="@firebase/performance",dO="@firebase/performance-compat",mO="@firebase/remote-config",pO="@firebase/remote-config-compat",gO="@firebase/storage",yO="@firebase/storage-compat",vO="@firebase/firestore",EO="@firebase/ai",_O="@firebase/firestore-compat",bO="firebase",TO="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",wO={[xg]:"fire-core",[XI]:"fire-core-compat",[ZI]:"fire-analytics",[WI]:"fire-analytics-compat",[eO]:"fire-app-check",[JI]:"fire-app-check-compat",[tO]:"fire-auth",[nO]:"fire-auth-compat",[rO]:"fire-rtdb",[iO]:"fire-data-connect",[sO]:"fire-rtdb-compat",[aO]:"fire-fn",[oO]:"fire-fn-compat",[lO]:"fire-iid",[cO]:"fire-iid-compat",[uO]:"fire-fcm",[hO]:"fire-fcm-compat",[fO]:"fire-perf",[dO]:"fire-perf-compat",[mO]:"fire-rc",[pO]:"fire-rc-compat",[gO]:"fire-gcs",[yO]:"fire-gcs-compat",[vO]:"fire-fst",[_O]:"fire-fst-compat",[EO]:"fire-vertex","fire-js":"fire-js",[bO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,xO=new Map,Ag=new Map;function kb(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(Ag.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(const n of Mf.values())kb(n,t);for(const n of xO.values())kb(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new bu("app","Firebase",SO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=TO;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Sg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=Z1()),!n)throw qs.create("no-options");const l=Mf.get(a);if(l){if(Qa(n,l.options)&&Qa(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const u=new DI(a);for(const m of Ag.values())u.addComponent(m);const f=new AO(n,i,u);return Mf.set(a,f),f}function Ry(t=Sg){const e=Mf.get(t);if(!e&&t===Sg&&Z1())return rx();if(!e)throw qs.create("no-app",{appName:t});return e}function Jr(t,e,n){let i=wO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(u.join(" "));return}Xa(new $s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-heartbeat-database",NO=1,nu="firebase-heartbeat-store";let $p=null;function ix(){return $p||($p=GI(RO,NO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),$p}async function CO(t){try{const n=(await ix()).transaction(nu),i=await n.objectStore(nu).get(sx(t));return await n.done,i}catch(e){if(e instanceof fi)Xi.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}}async function Lb(t,e){try{const i=(await ix()).transaction(nu,"readwrite");await i.objectStore(nu).put(e,sx(t)),await i.done}catch(n){if(n instanceof fi)Xi.warn(n.message);else{const i=qs.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(i.message)}}}function sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1024,OO=30;class DO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>OO){const a=VO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ub(),{heartbeatsToSend:n,unsentEntries:i}=PO(this._heartbeatsCache.heartbeats),a=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xi.warn(e),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function PO(t,e=IO){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),jb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _I()?bI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jb(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}function VO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){Xa(new $s("platform-logger",e=>new YI(e),"PRIVATE")),Xa(new $s("heartbeat",e=>new DO(e),"PRIVATE")),Jr(xg,Vb,t),Jr(xg,Vb,"esm2020"),Jr("fire-js","")}kO("");function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LO=ax,ox=new bu("auth","Firebase",ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Sy("@firebase/auth");function UO(t,...e){Vf.logLevel<=Qe.WARN&&Vf.warn(`Auth (${ro}): ${t}`,...e)}function vf(t,...e){Vf.logLevel<=Qe.ERROR&&Vf.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Ny(t,...e)}function ei(t,...e){return Ny(t,...e)}function lx(t,e,n){const i={...LO(),[e]:n};return new bu("auth","Firebase",i).create(e,{appName:t.name})}function Hi(t){return lx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ox.create(t,...e)}function Me(t,e,...n){if(!t)throw Ny(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Wi(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){return typeof self<"u"&&self.location?.href||""}function jO(){return Bb()==="http:"||Bb()==="https:"}function Bb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jO()||gI()||"connection"in navigator)?navigator.onLine:!0}function FO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=dI()||yI()}get(){return BO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HO=new wu(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sa(t,e,n,i,a={}){return ux(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Tu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return pI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(g.credentials="include"),cx.fetch()(await hx(t,t.config.apiHost,n,f),g)})}async function ux(t,e,n){t._canInitEmulator=!1;const i={...zO,...e};try{const a=new $O(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw af(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw af(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw af(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lx(t,v,g);Pr(t,v)}}catch(a){if(a instanceof fi)throw a;Pr(t,"network-request-failed",{message:String(a)})}}async function xu(t,e,n,i,a={}){const l=await sa(t,e,n,i,a);return"mfaPendingCredential"in l&&Pr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function hx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Cy(t.config,a):`${t.config.apiScheme}://${a}`;return qO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function GO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ei(this.auth,"network-request-failed")),HO.get())})}}function af(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ei(t,e,i);return a.customData._tokenResponse=n,a}function Fb(t){return t!==void 0&&t.enterprise!==void 0}class KO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YO(t,e){return sa(t,"GET","/v2/recaptchaConfig",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function kf(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XO(t,e=!1){const n=Tn(t),i=await n.getIdToken(e),a=Iy(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:$c(Kp(a.auth_time)),issuedAtTime:$c(Kp(a.iat)),expirationTime:$c(Kp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Kp(t){return Number(t)*1e3}function Iy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Q1(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function zb(t){const e=Iy(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof fi&&WO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function WO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){const e=t.auth,n=await t.getIdToken(),i=await ru(t,kf(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?fx(a.providerUserInfo):[],u=eD(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function JO(t){const e=Tn(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function fx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){const n=await ux(t,{},async()=>{const i=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await hx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(m.credentials="include"),cx.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nD(t,e){return sa(t,"POST","/v2/accounts:revokeToken",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await tD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new ll;return i&&(Me(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new ZO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ng(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XO(this,e)}reload(){return JO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await ru(this,QO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:A,providerData:C,stsTokenManager:D}=n;Me(_&&D,e,"internal-error");const O=ll.fromJSON(this.name,D);Me(typeof _=="string",e,"internal-error"),Ps(i,e.name),Ps(a,e.name),Me(typeof b=="boolean",e,"internal-error"),Me(typeof A=="boolean",e,"internal-error"),Ps(l,e.name),Ps(u,e.name),Ps(f,e.name),Ps(m,e.name),Ps(g,e.name),Ps(v,e.name);const j=new Rr({uid:_,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(j.providerData=C.map(U=>({...U}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,n,i=!1){const a=new ll;a.updateFromServerResponse(n);const l=new Rr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Lf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?fx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new ll;f.updateFromIdToken(i);const m=new Rr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;function zi(t){Wi(t instanceof Function,"Expected a class definition");let e=qb.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dx.type="NONE";const Hb=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ef("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(zi(Hb),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||zi(Hb);const u=Ef(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const b=await kf(e,{idToken:v}).catch(()=>{});if(!b)break;_=await Rr._fromGetAccountInfoResponse(e,b,v)}else _=Rr._fromJSON(e,v);g!==l&&(f=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new cl(l,e,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new cl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ex(e))return"Blackberry";if(_x(e))return"Webos";if(px(e))return"Safari";if((e.includes("chrome/")||gx(e))&&!e.includes("edge/"))return"Chrome";if(vx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function mx(t=On()){return/firefox\//i.test(t)}function px(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gx(t=On()){return/crios\//i.test(t)}function yx(t=On()){return/iemobile/i.test(t)}function vx(t=On()){return/android/i.test(t)}function Ex(t=On()){return/blackberry/i.test(t)}function _x(t=On()){return/webos/i.test(t)}function Oy(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rD(t=On()){return Oy(t)&&!!window.navigator?.standalone}function iD(){return vI()&&document.documentMode===10}function bx(t=On()){return Oy(t)||vx(t)||_x(t)||Ex(t)||/windows phone/i.test(t)||yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e=[]){let n;switch(t){case"Browser":n=Gb(On());break;case"Worker":n=`${Gb(On())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e={}){return sa(t,"GET","/v2/passwordPolicy",ia(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class lD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Hi(this));const n=e?Tn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aD(this),n=new lD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(t){return Tn(t)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=AI(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(t){dd=t}function wx(t){return dd.loadJS(t)}function hD(){return dd.recaptchaEnterpriseScript}function fD(){return dd.gapiScript}function dD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mD{constructor(){this.enterprise=new pD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gD="recaptcha-enterprise",xx="NO_RECAPTCHA";class yD{constructor(e){this.type=gD,this.auth=io(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{YO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new KO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;Fb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(xx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&Fb(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hD();m.length!==0&&(m+=f),wx(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function Kb(t,e,n,i=!1,a=!1){const l=new yD(t);let u;if(a)u=xx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cg(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Kb(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Kb(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){const n=fd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qa(l,e??{}))return a;Pr(a,"already-initialized")}return n.initialize({options:e})}function ED(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(zi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function _D(t,e,n){const i=io(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Sx(e),{host:u,port:f}=bD(e),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Qa(g,i.config.emulator)&&Qa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,no(u)?(wy(`${l}//${u}${m}`),xy("Auth",!0)):TD()}function Sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bD(t){const e=Sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Yb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Yb(u)}}}function Yb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function wD(t,e){return sa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function AD(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Dy{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new iu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",xD);case"emailLink":return SD(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,i,"signUpPassword",wD);case"emailLink":return AD(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class Wa extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Wa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ul(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(t){const e=Uc(jc(t)).link,n=e?Uc(jc(e)).deep_link_id:null,i=Uc(jc(t)).deep_link_id;return(i?Uc(jc(i)).link:null)||i||n||e||t}class Py{constructor(e){const n=Uc(jc(e)),i=n.apiKey??null,a=n.oobCode??null,l=ND(n.mode??null);Me(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CD(e);try{return new Py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Py.parseLink(n);return Me(i,"argument-error"),iu._fromEmailAndCode(e,i.code,i.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Ax{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Su{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ls.credential(n,i)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Su{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Su{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return js.credential(n,i)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e){return xu(t,"POST","/v1/accounts:signUp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Rr._fromIdTokenResponse(e,i,a),u=Qb(i);return new Za({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Qb(i);return new Za({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends fi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Uf(e,n,i,a)}}function Rx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(t,l,e,i):l})}async function OD(t,e,n=!1){const i=await ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Za._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e,n=!1){const{auth:i}=t;if(Jn(i.app))return Promise.reject(Hi(i));const a="reauthenticate";try{const l=await ru(t,Rx(i,a,e,t),n);Me(l.idToken,i,"internal-error");const u=Iy(l.idToken);Me(u,i,"internal-error");const{sub:f}=u;return Me(t.uid===f,i,"user-mismatch"),Za._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Pr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e,n=!1){if(Jn(t.app))return Promise.reject(Hi(t));const i="signIn",a=await Rx(t,i,e),l=await Za._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function PD(t,e){return Nx(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MD(t,e,n){if(Jn(t.app))return Promise.reject(Hi(t));const i=io(t),u=await Cg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ID).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Cx(t),m}),f=await Za._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function VD(t,e,n){return Jn(t.app)?Promise.reject(Hi(t)):PD(Tn(t),Sl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Cx(t),i})}function kD(t,e,n,i){return Tn(t).onIdTokenChanged(e,n,i)}function LD(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}function UD(t,e,n,i){return Tn(t).onAuthStateChanged(e,n,i)}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1e3,BD=10;class Ox extends Ix{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);iD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,BD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const FD=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Ix{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dx.type="SESSION";const Px=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new md(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),m=await zD(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=My("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function HD(t){ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function GD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $D(){return navigator?.serviceWorker?.controller||null}function KD(){return Mx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebaseLocalStorageDb",YD=1,Bf="firebaseLocalStorage",kx="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function QD(){const t=indexedDB.deleteDatabase(Vx);return new Au(t).toPromise()}function Ig(){const t=indexedDB.open(Vx,YD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Bf,{keyPath:kx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Bf)?e(i):(i.close(),await QD(),e(await Ig()))})})}async function Xb(t,e,n){const i=pd(t,!0).put({[kx]:e,value:n});return new Au(i).toPromise()}async function XD(t,e){const n=pd(t,!1).get(e),i=await new Au(n).toPromise();return i===void 0?null:i.value}function Wb(t,e){const n=pd(t,!0).delete(e);return new Au(n).toPromise()}const WD=800,ZD=3;class Lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ZD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GD(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Xb(e,jf,"1"),await Wb(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>XD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pd(a,!1).getAll();return new Au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lx.type="LOCAL";const JD=Lx;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){return e?zi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tP(t){return Nx(t.auth,new Vy(t),t.bypassAuthState)}function nP(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),DD(n,new Vy(t),t.bypassAuthState)}async function rP(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),OD(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tP;case"linkViaPopup":case"linkViaRedirect":return rP;case"reauthViaPopup":case"reauthViaRedirect":return nP;default:Pr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new wu(2e3,1e4);class nl extends Ux{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iP.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="pendingRedirect",_f=new Map;class aP extends Ux{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_f.get(this.auth._key());if(!e){try{const i=await oP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oP(t,e){const n=uP(e),i=cP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function lP(t,e){_f.set(t._key(),e)}function cP(t){return zi(t._redirectPersistence)}function uP(t){return Ef(sP,t.config.apiKey,t.name)}async function hP(t,e,n=!1){if(Jn(t.app))return Promise.reject(Hi(t));const i=io(t),a=eP(i,e),u=await new aP(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=600*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zb(e))}saveEventToCache(e){this.cachedEventUids.add(Zb(e)),this.lastProcessedEventTime=Date.now()}}function Zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e={}){return sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function vP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pP(t);for(const n of e)try{if(EP(n))return}catch{}Pr(t,"unauthorized-domain")}function EP(t){const e=Rg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!yP.test(n))return!1;if(gP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new wu(3e4,6e4);function Jb(){const t=ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bP(t){return new Promise((e,n)=>{function i(){Jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jb(),n(ei(t,"network-request-failed"))},timeout:_P.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const a=dD("iframefcb");return ti()[a]=()=>{gapi.load?i():n(ei(t,"network-request-failed"))},wx(`${fD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function TP(t){return bf=bf||bP(t),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new wu(5e3,15e3),xP="__/auth/iframe",SP="emulator/auth/iframe",AP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NP(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cy(e,SP):`https://${t.config.authDomain}/${xP}`,i={apiKey:e.apiKey,appName:t.name,v:ro},a=RP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Tu(i).slice(1)}`}async function CP(t){const e=await TP(t),n=ti().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:NP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ei(t,"network-request-failed"),f=ti().setTimeout(()=>{l(u)},wP.get());function m(){ti().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OP=500,DP=600,PP="_blank",MP="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VP(t,e,n,i=OP,a=DP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...IP,width:i.toString(),height:a.toString(),top:l,left:u},g=On().toLowerCase();n&&(f=gx(g)?PP:n),mx(g)&&(e=e||MP,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[A,C])=>`${b}${A}=${C},`,"");if(rD(g)&&f!=="_self")return kP(e||"",f),new eT(null);const _=window.open(e||"",f,v);Me(_,t,"popup-blocked");try{_.focus()}catch{}return new eT(_)}function kP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="__/auth/handler",UP="emulator/auth/handler",jP=encodeURIComponent("fac");async function tT(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ro,eventId:a};if(e instanceof Ax){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",SI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Su){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),g=m?`#${jP}=${encodeURIComponent(m)}`:"";return`${BP(t)}?${Tu(f).slice(1)}${g}`}function BP({config:t}){return t.emulator?Cy(t,UP):`https://${t.authDomain}/${LP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class FP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Px,this._completeRedirectFn=hP,this._overrideRedirectResult=lP}async _openPopup(e,n,i,a){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await tT(e,n,i,Rg(),a);return VP(e,l,My())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await tT(e,n,i,Rg(),a);return HD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await CP(e),i=new dP(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{const l=a?.[0]?.[Yp];l!==void 0&&n(!!l),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bx()||px()||Oy()}}const zP=FP;var nT="@firebase/auth",rT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(t){Xa(new $s("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(t)},g=new cD(i,a,l,m);return ED(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xa(new $s("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(i=>new qP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(nT,rT,HP(t)),Jr(nT,rT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=300,KP=J1("authIdTokenMaxAge")||$P;let iT=null;const YP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>KP)return;const a=n?.token;iT!==a&&(iT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function QP(t=Ry()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vD(t,{popupRedirectResolver:zP,persistence:[JD,FD,Px]}),i=J1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=YP(l.toString());LD(n,u,()=>u(n.currentUser)),kD(n,f=>u(f))}}const a=X1("auth");return a&&_D(n,`http://${a}`),n}function XP(){return document.getElementsByTagName("head")?.[0]??document}uD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ei("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",XP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GP("Browser");var WP="firebase",ZP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(WP,ZP,"app");var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Bx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function N(){}N.prototype=x.prototype,P.D=x.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(V,B,F){for(var M=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)M[Fe-2]=arguments[Fe];return x.prototype[B].apply(V,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,x,N){N||(N=0);var V=Array(16);if(typeof x=="string")for(var B=0;16>B;++B)V[B]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(B=0;16>B;++B)V[B]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=P.g[0],N=P.g[1],B=P.g[2];var F=P.g[3],M=x+(F^N&(B^F))+V[0]+3614090360&4294967295;x=N+(M<<7&4294967295|M>>>25),M=F+(B^x&(N^B))+V[1]+3905402710&4294967295,F=x+(M<<12&4294967295|M>>>20),M=B+(N^F&(x^N))+V[2]+606105819&4294967295,B=F+(M<<17&4294967295|M>>>15),M=N+(x^B&(F^x))+V[3]+3250441966&4294967295,N=B+(M<<22&4294967295|M>>>10),M=x+(F^N&(B^F))+V[4]+4118548399&4294967295,x=N+(M<<7&4294967295|M>>>25),M=F+(B^x&(N^B))+V[5]+1200080426&4294967295,F=x+(M<<12&4294967295|M>>>20),M=B+(N^F&(x^N))+V[6]+2821735955&4294967295,B=F+(M<<17&4294967295|M>>>15),M=N+(x^B&(F^x))+V[7]+4249261313&4294967295,N=B+(M<<22&4294967295|M>>>10),M=x+(F^N&(B^F))+V[8]+1770035416&4294967295,x=N+(M<<7&4294967295|M>>>25),M=F+(B^x&(N^B))+V[9]+2336552879&4294967295,F=x+(M<<12&4294967295|M>>>20),M=B+(N^F&(x^N))+V[10]+4294925233&4294967295,B=F+(M<<17&4294967295|M>>>15),M=N+(x^B&(F^x))+V[11]+2304563134&4294967295,N=B+(M<<22&4294967295|M>>>10),M=x+(F^N&(B^F))+V[12]+1804603682&4294967295,x=N+(M<<7&4294967295|M>>>25),M=F+(B^x&(N^B))+V[13]+4254626195&4294967295,F=x+(M<<12&4294967295|M>>>20),M=B+(N^F&(x^N))+V[14]+2792965006&4294967295,B=F+(M<<17&4294967295|M>>>15),M=N+(x^B&(F^x))+V[15]+1236535329&4294967295,N=B+(M<<22&4294967295|M>>>10),M=x+(B^F&(N^B))+V[1]+4129170786&4294967295,x=N+(M<<5&4294967295|M>>>27),M=F+(N^B&(x^N))+V[6]+3225465664&4294967295,F=x+(M<<9&4294967295|M>>>23),M=B+(x^N&(F^x))+V[11]+643717713&4294967295,B=F+(M<<14&4294967295|M>>>18),M=N+(F^x&(B^F))+V[0]+3921069994&4294967295,N=B+(M<<20&4294967295|M>>>12),M=x+(B^F&(N^B))+V[5]+3593408605&4294967295,x=N+(M<<5&4294967295|M>>>27),M=F+(N^B&(x^N))+V[10]+38016083&4294967295,F=x+(M<<9&4294967295|M>>>23),M=B+(x^N&(F^x))+V[15]+3634488961&4294967295,B=F+(M<<14&4294967295|M>>>18),M=N+(F^x&(B^F))+V[4]+3889429448&4294967295,N=B+(M<<20&4294967295|M>>>12),M=x+(B^F&(N^B))+V[9]+568446438&4294967295,x=N+(M<<5&4294967295|M>>>27),M=F+(N^B&(x^N))+V[14]+3275163606&4294967295,F=x+(M<<9&4294967295|M>>>23),M=B+(x^N&(F^x))+V[3]+4107603335&4294967295,B=F+(M<<14&4294967295|M>>>18),M=N+(F^x&(B^F))+V[8]+1163531501&4294967295,N=B+(M<<20&4294967295|M>>>12),M=x+(B^F&(N^B))+V[13]+2850285829&4294967295,x=N+(M<<5&4294967295|M>>>27),M=F+(N^B&(x^N))+V[2]+4243563512&4294967295,F=x+(M<<9&4294967295|M>>>23),M=B+(x^N&(F^x))+V[7]+1735328473&4294967295,B=F+(M<<14&4294967295|M>>>18),M=N+(F^x&(B^F))+V[12]+2368359562&4294967295,N=B+(M<<20&4294967295|M>>>12),M=x+(N^B^F)+V[5]+4294588738&4294967295,x=N+(M<<4&4294967295|M>>>28),M=F+(x^N^B)+V[8]+2272392833&4294967295,F=x+(M<<11&4294967295|M>>>21),M=B+(F^x^N)+V[11]+1839030562&4294967295,B=F+(M<<16&4294967295|M>>>16),M=N+(B^F^x)+V[14]+4259657740&4294967295,N=B+(M<<23&4294967295|M>>>9),M=x+(N^B^F)+V[1]+2763975236&4294967295,x=N+(M<<4&4294967295|M>>>28),M=F+(x^N^B)+V[4]+1272893353&4294967295,F=x+(M<<11&4294967295|M>>>21),M=B+(F^x^N)+V[7]+4139469664&4294967295,B=F+(M<<16&4294967295|M>>>16),M=N+(B^F^x)+V[10]+3200236656&4294967295,N=B+(M<<23&4294967295|M>>>9),M=x+(N^B^F)+V[13]+681279174&4294967295,x=N+(M<<4&4294967295|M>>>28),M=F+(x^N^B)+V[0]+3936430074&4294967295,F=x+(M<<11&4294967295|M>>>21),M=B+(F^x^N)+V[3]+3572445317&4294967295,B=F+(M<<16&4294967295|M>>>16),M=N+(B^F^x)+V[6]+76029189&4294967295,N=B+(M<<23&4294967295|M>>>9),M=x+(N^B^F)+V[9]+3654602809&4294967295,x=N+(M<<4&4294967295|M>>>28),M=F+(x^N^B)+V[12]+3873151461&4294967295,F=x+(M<<11&4294967295|M>>>21),M=B+(F^x^N)+V[15]+530742520&4294967295,B=F+(M<<16&4294967295|M>>>16),M=N+(B^F^x)+V[2]+3299628645&4294967295,N=B+(M<<23&4294967295|M>>>9),M=x+(B^(N|~F))+V[0]+4096336452&4294967295,x=N+(M<<6&4294967295|M>>>26),M=F+(N^(x|~B))+V[7]+1126891415&4294967295,F=x+(M<<10&4294967295|M>>>22),M=B+(x^(F|~N))+V[14]+2878612391&4294967295,B=F+(M<<15&4294967295|M>>>17),M=N+(F^(B|~x))+V[5]+4237533241&4294967295,N=B+(M<<21&4294967295|M>>>11),M=x+(B^(N|~F))+V[12]+1700485571&4294967295,x=N+(M<<6&4294967295|M>>>26),M=F+(N^(x|~B))+V[3]+2399980690&4294967295,F=x+(M<<10&4294967295|M>>>22),M=B+(x^(F|~N))+V[10]+4293915773&4294967295,B=F+(M<<15&4294967295|M>>>17),M=N+(F^(B|~x))+V[1]+2240044497&4294967295,N=B+(M<<21&4294967295|M>>>11),M=x+(B^(N|~F))+V[8]+1873313359&4294967295,x=N+(M<<6&4294967295|M>>>26),M=F+(N^(x|~B))+V[15]+4264355552&4294967295,F=x+(M<<10&4294967295|M>>>22),M=B+(x^(F|~N))+V[6]+2734768916&4294967295,B=F+(M<<15&4294967295|M>>>17),M=N+(F^(B|~x))+V[13]+1309151649&4294967295,N=B+(M<<21&4294967295|M>>>11),M=x+(B^(N|~F))+V[4]+4149444226&4294967295,x=N+(M<<6&4294967295|M>>>26),M=F+(N^(x|~B))+V[11]+3174756917&4294967295,F=x+(M<<10&4294967295|M>>>22),M=B+(x^(F|~N))+V[2]+718787259&4294967295,B=F+(M<<15&4294967295|M>>>17),M=N+(F^(B|~x))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(B+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+F&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var N=x-this.blockSize,V=this.B,B=this.h,F=0;F<x;){if(B==0)for(;F<=N;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<x;)if(V[B++]=P.charCodeAt(F++),B==this.blockSize){a(this,V),B=0;break}}else for(;F<x;)if(V[B++]=P[F++],B==this.blockSize){a(this,V),B=0;break}}this.h=B,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var N=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=N&255,N/=256;for(this.u(P),P=Array(16),x=N=0;4>x;++x)for(var V=0;32>V;V+=8)P[N++]=this.g[x]>>>V&255;return P};function l(P,x){var N=f;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=x(P)}function u(P,x){this.h=x;for(var N=[],V=!0,B=P.length-1;0<=B;B--){var F=P[B]|0;V&&F==x||(N[B]=F,V=!1)}this.g=N}var f={};function m(P){return-128<=P&&128>P?l(P,function(x){return new u([x|0],0>x?-1:0)}):new u([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return O(g(-P));for(var x=[],N=1,V=0;P>=N;V++)x[V]=P/N|0,N*=4294967296;return new u(x,0)}function v(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return O(v(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(x,8)),V=_,B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B),M=parseInt(P.substring(B,B+F),x);8>F?(F=g(Math.pow(x,F)),V=V.j(F).add(g(M))):(V=V.j(N),V=V.add(g(M)))}return V}var _=m(0),b=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(D(this))return-O(this).m();for(var P=0,x=1,N=0;N<this.g.length;N++){var V=this.i(N);P+=(0<=V?V:4294967296+V)*x,x*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(D(this))return"-"+O(this).toString(P);for(var x=g(Math.pow(P,6)),N=this,V="";;){var B=ce(N,x).g;N=j(N,B.j(x));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=B,C(N))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function D(P){return P.h==-1}t.l=function(P){return P=j(this,P),D(P)?-1:C(P)?0:1};function O(P){for(var x=P.g.length,N=[],V=0;V<x;V++)N[V]=~P.g[V];return new u(N,~P.h).add(b)}t.abs=function(){return D(this)?O(this):this},t.add=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],V=0,B=0;B<=x;B++){var F=V+(this.i(B)&65535)+(P.i(B)&65535),M=(F>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);V=M>>>16,F&=65535,M&=65535,N[B]=M<<16|F}return new u(N,N[N.length-1]&-2147483648?-1:0)};function j(P,x){return P.add(O(x))}t.j=function(P){if(C(this)||C(P))return _;if(D(this))return D(P)?O(this).j(O(P)):O(O(this).j(P));if(D(P))return O(this.j(O(P)));if(0>this.l(A)&&0>P.l(A))return g(this.m()*P.m());for(var x=this.g.length+P.g.length,N=[],V=0;V<2*x;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<P.g.length;B++){var F=this.i(V)>>>16,M=this.i(V)&65535,Fe=P.i(B)>>>16,Se=P.i(B)&65535;N[2*V+2*B]+=M*Se,U(N,2*V+2*B),N[2*V+2*B+1]+=F*Se,U(N,2*V+2*B+1),N[2*V+2*B+1]+=M*Fe,U(N,2*V+2*B+1),N[2*V+2*B+2]+=F*Fe,U(N,2*V+2*B+2)}for(V=0;V<x;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=x;V<2*x;V++)N[V]=0;return new u(N,0)};function U(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function G(P,x){this.g=P,this.h=x}function ce(P,x){if(C(x))throw Error("division by zero");if(C(P))return new G(_,_);if(D(P))return x=ce(O(P),x),new G(O(x.g),O(x.h));if(D(x))return x=ce(P,O(x)),new G(O(x.g),x.h);if(30<P.g.length){if(D(P)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,V=x;0>=V.l(P);)N=H(N),V=H(V);var B=ee(N,1),F=ee(V,1);for(V=ee(V,2),N=ee(N,2);!C(V);){var M=F.add(V);0>=M.l(P)&&(B=B.add(N),F=M),V=ee(V,1),N=ee(N,1)}return x=j(P,B.j(x)),new G(B,x)}for(B=_;0<=P.l(x);){for(N=Math.max(1,Math.floor(P.m()/x.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=g(N),M=F.j(x);D(M)||0<M.l(P);)N-=V,F=g(N),M=F.j(x);C(F)&&(F=b),B=B.add(F),P=j(P,M)}return new G(B,P)}t.A=function(P){return ce(this,P).h},t.and=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],V=0;V<x;V++)N[V]=this.i(V)&P.i(V);return new u(N,this.h&P.h)},t.or=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],V=0;V<x;V++)N[V]=this.i(V)|P.i(V);return new u(N,this.h|P.h)},t.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],V=0;V<x;V++)N[V]=this.i(V)^P.i(V);return new u(N,this.h^P.h)};function H(P){for(var x=P.g.length+1,N=[],V=0;V<x;V++)N[V]=P.i(V)<<1|P.i(V-1)>>>31;return new u(N,P.h)}function ee(P,x){var N=x>>5;x%=32;for(var V=P.g.length-N,B=[],F=0;F<V;F++)B[F]=0<x?P.i(F+N)>>>x|P.i(F+N+1)<<32-x:P.i(F+N);return new u(B,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Bx=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Hs=u}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fx,Bc,zx,Tf,Og,qx,Hx,Gx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,T){return h==Array.prototype||h==Object.prototype||(h[E]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var E=0;E<h.length;++E){var T=h[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,E){if(E)e:{var T=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var Y=h[R];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],R=T[h],E=E(R),E!=R&&E!=null&&e(T,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var T=0,R=!1,Y={next:function(){if(!R&&T<h.length){var ne=T++;return{value:E(ne,h[ne]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(E,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function g(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function v(h,E,T){return h.call.apply(h.bind,arguments)}function _(h,E,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),h.apply(E,Y)}}return function(){return h.apply(E,arguments)}}function b(h,E,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,b.apply(null,arguments)}function A(h,E){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,E){function T(){}T.prototype=E.prototype,h.aa=E.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,Y,ne){for(var ye=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ye[Ze-2]=arguments[Ze];return E.prototype[Y].apply(R,ye)}}function D(h){const E=h.length;if(0<E){const T=Array(E);for(let R=0;R<E;R++)T[R]=h[R];return T}return[]}function O(h,E){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(m(R)){const Y=h.length||0,ne=R.length||0;h.length=Y+ne;for(let ye=0;ye<ne;ye++)h[Y+ye]=R[ye]}else h.push(R)}}class j{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ce(h){return ce[" "](h),h}ce[" "]=function(){};var H=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ee(h,E,T){for(const R in h)E.call(T,h[R],R,h)}function P(h,E){for(const T in h)E.call(void 0,h[T],T,h)}function x(h){const E={};for(const T in h)E[T]=h[T];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,E){let T,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(T in R)h[T]=R[T];for(let ne=0;ne<N.length;ne++)T=N[ne],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function B(h){var E=1;h=h.split(":");const T=[];for(;0<E&&h.length;)T.push(h.shift()),E--;return h.length&&T.push(h.join(":")),T}function F(h){f.setTimeout(()=>{throw h},0)}function M(){var h=Oe;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class Fe{constructor(){this.h=this.g=null}add(E,T){const R=Se.get();R.set(E,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Se=new j(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ge=!1,Oe=new Fe,k=()=>{const h=f.Promise.resolve(void 0);se=()=>{h.then(q)}};var q=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(T){F(T)}var E=Se;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}ge=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,E),f.removeEventListener("test",T,E)}catch{}return h})();function Re(h,E){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(H){e:{try{ce(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else T=="mouseover"?E=h.fromElement:T=="mouseout"&&(E=h.toElement);this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}C(Re,te);var Ee={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),He=0;function xt(h,E,T,R,Y){this.listener=h,this.proxy=null,this.src=E,this.type=T,this.capture=!!R,this.ha=Y,this.key=++He,this.da=this.fa=!1}function Nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function vt(h){this.src=h,this.g={},this.h=0}vt.prototype.add=function(h,E,T,R,Y){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var ye=Pt(h,E,R,Y);return-1<ye?(E=h[ye],T||(E.fa=!1)):(E=new xt(E,this.src,ne,!!R,Y),E.fa=T,h.push(E)),E};function Ht(h,E){var T=E.type;if(T in h.g){var R=h.g[T],Y=Array.prototype.indexOf.call(R,E,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(R,Y,1),ne&&(Nt(E),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Pt(h,E,T,R){for(var Y=0;Y<h.length;++Y){var ne=h[Y];if(!ne.da&&ne.listener==E&&ne.capture==!!T&&ne.ha==R)return Y}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),is={};function oa(h,E,T,R,Y){if(Array.isArray(E)){for(var ne=0;ne<E.length;ne++)oa(h,E[ne],T,R,Y);return null}return T=pe(T),h&&h[at]?h.K(E,T,g(R)?!!R.capture:!1,Y):Ln(h,E,T,!1,R,Y)}function Ln(h,E,T,R,Y,ne){if(!E)throw Error("Invalid event type");var ye=g(Y)?!!Y.capture:!!Y,Ze=kr(h);if(Ze||(h[mi]=Ze=new vt(h)),T=Ze.add(E,T,R,ye,ne),T.proxy)return T;if(R=ss(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)ve||(Y=ye),Y===void 0&&(Y=!1),h.addEventListener(E.toString(),R,Y);else if(h.attachEvent)h.attachEvent(Er(E.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ss(){function h(T){return E.call(h.src,h.listener,T)}const E=as;return h}function la(h,E,T,R,Y){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)la(h,E[ne],T,R,Y);else R=g(R)?!!R.capture:!!R,T=pe(T),h&&h[at]?(h=h.i,E=String(E).toString(),E in h.g&&(ne=h.g[E],T=Pt(ne,T,R,Y),-1<T&&(Nt(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete h.g[E],h.h--)))):h&&(h=kr(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Pt(E,T,R,Y)),(T=-1<h?E[h]:null)&&pi(T))}function pi(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[at])Ht(E.i,h);else{var T=h.type,R=h.proxy;E.removeEventListener?E.removeEventListener(T,R,h.capture):E.detachEvent?E.detachEvent(Er(T),R):E.addListener&&E.removeListener&&E.removeListener(R),(T=kr(E))?(Ht(T,h),T.h==0&&(T.src=null,E[mi]=null)):Nt(h)}}}function Er(h){return h in is?is[h]:is[h]="on"+h}function as(h,E){if(h.da)h=!0;else{E=new Re(E,this);var T=h.listener,R=h.ha||h.src;h.fa&&pi(h),h=T.call(R,E)}return h}function kr(h){return h=h[mi],h instanceof vt?h:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(h){return typeof h=="function"?h:(h[ca]||(h[ca]=function(E){return h.handleEvent(E)}),h[ca])}function K(){ie.call(this),this.i=new vt(this),this.M=this,this.F=null}C(K,ie),K.prototype[at]=!0,K.prototype.removeEventListener=function(h,E,T,R){la(this,h,E,T,R)};function oe(h,E){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=E.type||E,typeof E=="string")E=new te(E,h);else if(E instanceof te)E.target=E.target||h;else{var Y=E;E=new te(R,h),V(E,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var ye=E.g=T[ne];Y=me(ye,R,!0,E)&&Y}if(ye=E.g=h,Y=me(ye,R,!0,E)&&Y,Y=me(ye,R,!1,E)&&Y,T)for(ne=0;ne<T.length;ne++)ye=E.g=T[ne],Y=me(ye,R,!1,E)&&Y}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var T=h.g[E],R=0;R<T.length;R++)Nt(T[R]);delete h.g[E],h.h--}}this.F=null},K.prototype.K=function(h,E,T,R){return this.i.add(String(h),E,!1,T,R)},K.prototype.L=function(h,E,T,R){return this.i.add(String(h),E,!0,T,R)};function me(h,E,T,R){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ne=0;ne<E.length;++ne){var ye=E[ne];if(ye&&!ye.da&&ye.capture==T){var Ze=ye.listener,tn=ye.ha||ye.src;ye.fa&&Ht(h.i,ye),Y=Ze.call(tn,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Ie(h,E,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:f.setTimeout(h,E||0)}function ze(h){h.g=Ie(()=>{h.g=null,h.i&&(h.i=!1,ze(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class nt extends ie{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(h){ie.call(this),this.h=h,this.g={}}C(re,ie);var ue=[];function we(h){ee(h.g,function(E,T){this.g.hasOwnProperty(T)&&pi(E)},h),h.g={}}re.prototype.N=function(){re.aa.N.call(this),we(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=f.JSON.stringify,Te=f.JSON.parse,Ue=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ut(){}ut.prototype.h=null;function ht(h){return h.h||(h.h=h.i())}function it(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ot(){te.call(this,"d")}C(ot,te);function Mt(){te.call(this,"c")}C(Mt,te);var dn={},qn=null;function Hn(){return qn=qn||new K}dn.La="serverreachability";function gi(h){te.call(this,dn.La,h)}C(gi,te);function _r(h){const E=Hn();oe(E,new gi(E))}dn.STAT_EVENT="statevent";function Lu(h,E){te.call(this,dn.STAT_EVENT,h),this.stat=E}C(Lu,te);function St(h){const E=Hn();oe(E,new Lu(E,h))}dn.Ma="timingevent";function en(h,E){te.call(this,dn.Ma,h),this.size=E}C(en,te);function Gt(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},E)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Ml(h,E,T,R,Y,ne){h.info(function(){if(h.g)if(ne)for(var ye="",Ze=ne.split("&"),tn=0;tn<Ze.length;tn++){var Je=Ze[tn].split("=");if(1<Je.length){var ln=Je[0];Je=Je[1];var nn=ln.split("_");ye=2<=nn.length&&nn[1]=="type"?ye+(ln+"="+Je+"&"):ye+(ln+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+E+`
`+T+`
`+ye})}function Ud(h,E,T,R,Y,ne,ye){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+E+`
`+T+`
`+ne+" "+ye})}function os(h,E,T,R){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+ua(h,T)+(R?" "+R:"")})}function Uu(h,E){h.info(function(){return"TIMEOUT: "+E})}er.prototype.info=function(){};function ua(h,E){if(!h.g)return E;if(!E)return null;try{var T=JSON.parse(E);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return be(T)}catch{return E}}var ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function Ur(){}C(Ur,ut),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Lr=new Ur;function Dn(h,E,T,R){this.j=h,this.i=E,this.l=T,this.R=R||1,this.U=new re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Vl={},co={};function br(h,E,T){h.L=1,h.v=pa(Gn(E)),h.m=T,h.P=!0,vi(h,null)}function vi(h,E){h.F=Date.now(),ha(h),h.A=Gn(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Fl(T.i,"t",R),h.C=0,T=h.j.J,h.h=new Ut,h.g=eh(h.j,T?E:null,!h.m),0<h.O&&(h.M=new nt(b(h.Y,h,h.g),h.O)),E=h.U,T=h.g,R=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ue[0]=Y.toString()),Y=ue);for(var ne=0;ne<Y.length;ne++){var ye=oa(T,Y[ne],R||E.handleEvent,!1,E.h||E);if(!ye)break;E.g[ye.key]=ye}E=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),_r(),Ml(h.i,h.u,h.A,h.l,h.R,h.m)}Dn.prototype.ca=function(h){h=h.target;const E=this.M;E&&ir(h)==3?E.j():this.Y(h)},Dn.prototype.Y=function(h){try{if(h==this.g)e:{const nn=ir(this.g);var E=this.g.Ba();const Ai=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||nn!=4||E==7||(E==8||0>=Ai?_r(3):_r(2)),cs(this);var T=this.g.Z();this.X=T;t:if(ju(this)){var R=$u(this.g);h="";var Y=R.length,ne=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),jr(this);var ye="";break t}this.h.i=new f.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,h+=this.h.i.decode(R[E],{stream:!(ne&&E==Y-1)});R.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Ud(this.i,this.u,this.A,this.l,this.R,nn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,tn=this.g;if((Ze=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ze)){var Je=Ze;break t}}Je=null}if(T=Je)os(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,T);else{this.o=!1,this.s=3,St(12),mn(this),jr(this);break e}}if(this.P){T=!0;let pn;for(;!this.J&&this.C<ye.length;)if(pn=Bu(this,ye),pn==co){nn==4&&(this.s=4,St(14),T=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Vl){this.s=4,St(15),os(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else os(this.i,this.l,pn,null),fa(this,pn);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ye.length!=0||this.h.h||(this.s=1,St(16),T=!1),this.o=this.o&&T,!T)os(this.i,this.l,ye,"[Invalid Chunked Response]"),mn(this),jr(this);else if(0<ye.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),wa(ln),ln.M=!0,St(11))}}else os(this.i,this.l,ye,null),fa(this,ye);nn==4&&mn(this),this.o&&!this.J&&(nn==4?Wu(this.j,this):(this.o=!1,ha(this)))}else qd(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),mn(this),jr(this)}}}catch{}finally{}};function ju(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Bu(h,E){var T=h.C,R=E.indexOf(`
`,T);return R==-1?co:(T=Number(E.substring(T,R)),isNaN(T)?Vl:(R+=1,R+T>E.length?co:(E=E.slice(R,R+T),h.C=R+T,E)))}Dn.prototype.cancel=function(){this.J=!0,mn(this)};function ha(h){h.S=Date.now()+h.I,Fu(h,h.I)}function Fu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Gt(b(h.ba,h),E)}function cs(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Uu(this.i,this.A),this.L!=2&&(_r(),St(17)),mn(this),this.s=2,jr(this)):Fu(this,this.S-h)};function jr(h){h.j.G==0||h.J||Wu(h.j,h)}function mn(h){cs(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,we(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function fa(h,E){try{var T=h.j;if(T.G!=0&&(T.g==h||kl(T.h,h))){if(!h.K&&kl(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)To(T),_o(T);else break e;$l(T),St(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Gt(b(T.Za,T),6e3));if(1>=ho(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Si(T,11)}else if((h.K||T.g==h)&&To(T),!U(E))for(Y=T.Da.g.parse(E),E=0;E<Y.length;E++){let Je=Y[E];if(T.T=Je[0],Je=Je[1],T.G==2)if(Je[0]=="c"){T.K=Je[1],T.ia=Je[2];const ln=Je[3];ln!=null&&(T.la=ln,T.j.info("VER="+T.la));const nn=Je[4];nn!=null&&(T.Aa=nn,T.j.info("SVER="+T.Aa));const Ai=Je[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(R=1.5*Ai,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const pn=h.g;if(pn){const $r=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var ne=R.h;ne.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(fo(ne,ne.h),ne.h=null))}if(R.D){const Yl=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(R.ya=Yl,mt(R.I,R.D,Yl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ye=h;if(R.qa=Ju(R,R.J?R.ia:null,R.W),ye.K){Pn(R.h,ye);var Ze=ye,tn=R.L;tn&&(Ze.I=tn),Ze.B&&(cs(Ze),ha(Ze)),R.g=ye}else Qu(R);0<T.i.length&&bo(T)}else Je[0]!="stop"&&Je[0]!="close"||Si(T,7);else T.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Si(T,7):Hl(T):Je[0]!="noop"&&T.l&&T.l.ta(Je),T.v=0)}}_r(4)}catch{}}var zu=class{constructor(h,E){this.g=h,this.map=E}};function Ei(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ho(h){return h.h?1:h.g?h.g.size:0}function kl(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function fo(h,E){h.g?h.g.add(E):h.h=E}function Pn(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}Ei.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ll(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const T of h.g.values())E=E.concat(T.D);return E}return D(h.i)}function jd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var E=[],T=h.length,R=0;R<T;R++)E.push(h[R]);return E}E=[],T=0;for(R in h)E[T++]=h[R];return E}function mo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var E=[];h=h.length;for(var T=0;T<h;T++)E.push(T);return E}E=[],T=0;for(const R in h)E[T++]=R;return E}}}function Ul(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var T=mo(h),R=jd(h),Y=R.length,ne=0;ne<Y;ne++)E.call(void 0,R[ne],T&&T[ne],h)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(h,E){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),Y=null;if(0<=R){var ne=h[T].substring(0,R);Y=h[T].substring(R+1)}else ne=h[T];E(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,ma(this,h.j),this.o=h.o,this.g=h.g,us(this,h.s),this.l=h.l;var E=h.i,T=new bi;T.i=E.i,E.g&&(T.g=new Map(E.g),T.h=E.h),_i(this,T),this.m=h.m}else h&&(E=String(h).match(da))?(this.h=!1,ma(this,E[1]||"",!0),this.o=tr(E[2]||""),this.g=tr(E[3]||"",!0),us(this,E[4]),this.l=tr(E[5]||"",!0),_i(this,E[6]||"",!0),this.m=tr(E[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}$t.prototype.toString=function(){var h=[],E=this.j;E&&h.push(ga(E,jl,!0),":");var T=this.g;return(T||E=="file")&&(h.push("//"),(E=this.o)&&h.push(ga(E,jl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ga(T,T.charAt(0)=="/"?Fd:Bl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ga(T,po)),h.join("")};function Gn(h){return new $t(h)}function ma(h,E,T){h.j=T?tr(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function us(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function _i(h,E,T){E instanceof bi?(h.i=E,Hu(h.i,h.h)):(T||(E=ga(E,zd)),h.i=new bi(E,h.h))}function mt(h,E,T){h.i.set(E,T)}function pa(h){return mt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function tr(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,E,T){return typeof h=="string"?(h=encodeURI(h).replace(E,qu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jl=/[#\/\?@]/g,Bl=/[#\?:]/g,Fd=/[#\?]/g,zd=/[#\?@]/g,po=/#/g;function bi(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function nr(h){h.g||(h.g=new Map,h.h=0,h.i&&Bd(h.i,function(E,T){h.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=bi.prototype,t.add=function(h,E){nr(this),this.i=null,h=Br(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(E),this.h+=1,this};function Ti(h,E){nr(h),E=Br(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function wi(h,E){return nr(h),E=Br(h,E),h.g.has(E)}t.forEach=function(h,E){nr(this),this.g.forEach(function(T,R){T.forEach(function(Y){h.call(E,Y,R,this)},this)},this)},t.na=function(){nr(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),T=[];for(let R=0;R<E.length;R++){const Y=h[R];for(let ne=0;ne<Y.length;ne++)T.push(E[R])}return T},t.V=function(h){nr(this);let E=[];if(typeof h=="string")wi(this,h)&&(E=E.concat(this.g.get(Br(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)E=E.concat(h[T])}return E},t.set=function(h,E){return nr(this),this.i=null,h=Br(this,h),wi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function Fl(h,E,T){Ti(h,E),0<T.length&&(h.i=null,h.g.set(Br(h,E),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var T=0;T<E.length;T++){var R=E[T];const ne=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var Y=ne;ye[R]!==""&&(Y+="="+encodeURIComponent(String(ye[R]))),h.push(Y)}}return this.i=h.join("&")};function Br(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Hu(h,E){E&&!h.j&&(nr(h),h.i=null,h.g.forEach(function(T,R){var Y=R.toLowerCase();R!=Y&&(Ti(this,R),Fl(this,Y,T))},h)),h.j=E}function ya(h,E){const T=new er;if(f.Image){const R=new Image;R.onload=A(rr,T,"TestLoadImage: loaded",!0,E,R),R.onerror=A(rr,T,"TestLoadImage: error",!1,E,R),R.onabort=A(rr,T,"TestLoadImage: abort",!1,E,R),R.ontimeout=A(rr,T,"TestLoadImage: timeout",!1,E,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else E(!1)}function Tr(h,E){const T=new er,R=new AbortController,Y=setTimeout(()=>{R.abort(),rr(T,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:R.signal}).then(ne=>{clearTimeout(Y),ne.ok?rr(T,"TestPingServer: ok",!0,E):rr(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),rr(T,"TestPingServer: error",!1,E)})}function rr(h,E,T,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(T)}catch{}}function va(){this.g=new Ue}function Fr(h,E,T){const R=T||"";try{Ul(h,function(Y,ne){let ye=Y;g(Y)&&(ye=be(Y)),E.push(R+ne+"="+encodeURIComponent(ye))})}catch(Y){throw E.push(R+"type="+encodeURIComponent("_badmap")),Y}}function hs(h){this.l=h.Ub||null,this.j=h.eb||!1}C(hs,ut),hs.prototype.g=function(){return new xi(this.l,this.j)},hs.prototype.i=(function(h){return function(){return h}})({});function xi(h,E){K.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xi,K),t=xi.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,qr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||f).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?zr(this):qr(this),this.readyState==3&&zl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},t.Qa=function(h){this.g&&(this.response=h,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,qr(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=E.next();return h.join(`\r
`)};function qr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ql(h){let E="";return ee(h,function(T,R){E+=R,E+=":",E+=T,E+=`\r
`}),E}function on(h,E,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=ql(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):mt(h,E,T))}function lt(h){K.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(lt,K);var go=/^https?$/i,Ea=["POST","PUT"];t=lt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?ht(this.o):ht(Lr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ne){Gu(this,ne);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)T.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ne of R.keys())T.set(ne,R.get(ne));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ea,E,void 0))||R||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of T)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){Gu(this,ne)}};function Gu(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,yo(h),Hr(h)}function yo(h){h.A||(h.A=!0,oe(h,"complete"),oe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,oe(this,"complete"),oe(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},t.bb=function(){vo(this)};function vo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||ir(h)!=4||h.Z()!=2)){if(h.u&&ir(h)==4)Ie(h.Ea,0,h);else if(oe(h,"readystatechange"),ir(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var R;if(R=ye===0){var Y=String(h.D).match(da)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),R=!go.test(Y?Y.toLowerCase():"")}T=R}if(T)oe(h,"complete"),oe(h,"success");else{h.m=6;try{var ne=2<ir(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",yo(h)}}finally{Hr(h)}}}}function Hr(h,E){if(h.g){_a(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||oe(h,"ready");try{T.onreadystatechange=R}catch{}}}function _a(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ir(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Te(E)}};function $u(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qd(h){const E={};h=(h.g&&2<=ir(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(U(h[R]))continue;var T=B(h[R]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=E[Y]||[];E[Y]=ne,ne.push(T)}P(E,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(h,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||E}function Eo(h){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ba("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ba("baseRetryDelayMs",5e3,h),this.cb=ba("retryDelaySeedMs",1e4,h),this.Wa=ba("forwardChannelMaxRetries",2,h),this.wa=ba("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(h&&h.concurrentRequestLimit),this.Da=new va,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eo.prototype,t.la=8,t.G=1,t.connect=function(h,E,T,R){St(0),this.W=h,this.H=E||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Ju(this,null,this.W),bo(this)};function Hl(h){if(Ku(h),h.G==3){var E=h.U++,T=Gn(h.I);if(mt(T,"SID",h.K),mt(T,"RID",E),mt(T,"TYPE","terminate"),Ta(h,T),E=new Dn(h,h.j,E),E.L=2,E.v=pa(Gn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(E.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=E.v,T=!0),T||(E.g=eh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ha(E)}Zu(h)}function _o(h){h.g&&(wa(h),h.g.cancel(),h.g=null)}function Ku(h){_o(h),h.u&&(f.clearTimeout(h.u),h.u=null),To(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function bo(h){if(!uo(h.h)&&!h.s){h.s=!0;var E=h.Ga;se||k(),ge||(se(),ge=!0),Oe.add(E,h),h.B=0}}function Hd(h,E){return ho(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Gt(b(h.Ga,h,E),Kl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Dn(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=x(ne),V(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(E+=R,4096<E){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Yu(this,Y,E),T=Gn(this.I),mt(T,"RID",h),mt(T,"CVER",22),this.D&&mt(T,"X-HTTP-Session-Id",this.D),Ta(this,T),ne&&(this.O?E="headers="+encodeURIComponent(String(ql(ne)))+"&"+E:this.m&&on(T,this.m,ne)),fo(this.h,Y),this.Ua&&mt(T,"TYPE","init"),this.P?(mt(T,"$req",E),mt(T,"SID","null"),Y.T=!0,br(Y,T,null)):br(Y,T,E),this.G=2}}else this.G==3&&(h?Gl(this,h):this.i.length==0||uo(this.h)||Gl(this))};function Gl(h,E){var T;E?T=E.l:T=h.U++;const R=Gn(h.I);mt(R,"SID",h.K),mt(R,"RID",T),mt(R,"AID",h.T),Ta(h,R),h.m&&h.o&&on(R,h.m,h.o),T=new Dn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),E&&(h.i=E.D.concat(h.i)),E=Yu(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),fo(h.h,T),br(T,R,E)}function Ta(h,E){h.H&&ee(h.H,function(T,R){mt(E,R,T)}),h.l&&Ul({},function(T,R){mt(E,R,T)})}function Yu(h,E,T){T=Math.min(h.i.length,T);var R=h.l?b(h.l.Na,h.l,h):null;e:{var Y=h.i;let ne=-1;for(;;){const ye=["count="+T];ne==-1?0<T?(ne=Y[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let Ze=!0;for(let tn=0;tn<T;tn++){let Je=Y[tn].g;const ln=Y[tn].map;if(Je-=ne,0>Je)ne=Math.max(0,Y[tn].g-100),Ze=!1;else try{Fr(ln,ye,"req"+Je+"_")}catch{R&&R(ln)}}if(Ze){R=ye.join("&");break e}}}return h=h.i.splice(0,T),E.D=h,R}function Qu(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;se||k(),ge||(se(),ge=!0),Oe.add(E,h),h.v=0}}function $l(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Gt(b(h.Fa,h),Kl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Gt(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),_o(this),Xu(this))};function wa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Xu(h){h.g=new Dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Gn(h.qa);mt(E,"RID","rpc"),mt(E,"SID",h.K),mt(E,"AID",h.T),mt(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&mt(E,"TO",h.ja),mt(E,"TYPE","xmlhttp"),Ta(h,E),h.m&&h.o&&on(E,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=pa(Gn(E)),T.m=null,T.P=!0,vi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,_o(this),$l(this),St(19))};function To(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Wu(h,E){var T=null;if(h.g==E){To(h),wa(h),h.g=null;var R=2}else if(kl(h.h,E))T=E.D,Pn(h.h,E),R=1;else return;if(h.G!=0){if(E.o)if(R==1){T=E.m?E.m.length:0,E=Date.now()-E.F;var Y=h.B;R=Hn(),oe(R,new en(R,T)),bo(h)}else Qu(h);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(R==1&&Hd(h,E)||R==2&&$l(h)))switch(T&&0<T.length&&(E=h.h,E.i=E.i.concat(T)),Y){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Kl(h,E){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*E}function Si(h,E){if(h.j.info("Error code "+E),E==2){var T=b(h.fb,h),R=h.Xa;const Y=!R;R=new $t(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ma(R,"https"),pa(R),Y?ya(R.toString(),T):Tr(R.toString(),T)}else St(2);h.G=0,h.l&&h.l.sa(E),Zu(h),Ku(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Zu(h){if(h.G=0,h.ka=[],h.l){const E=Ll(h.h);(E.length!=0||h.i.length!=0)&&(O(h.ka,E),O(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Ju(h,E,T){var R=T instanceof $t?Gn(T):new $t(T);if(R.g!="")E&&(R.g=E+"."+R.g),us(R,R.s);else{var Y=f.location;R=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new $t(null);R&&ma(ne,R),E&&(ne.g=E),Y&&us(ne,Y),T&&(ne.l=T),R=ne}return T=h.D,E=h.ya,T&&E&&mt(R,T,E),mt(R,"VER",h.la),Ta(h,R),R}function eh(h,E,T){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new lt(new hs({eb:T})):new lt(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wo(){}wo.prototype.g=function(h,E){return new Mn(h,E)};function Mn(h,E){K.call(this),this.g=new Eo(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!U(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Gr(this)}C(Mn,K),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Hl(this.g)},Mn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=be(h),h=T);E.i.push(new zu(E.Ya++,h)),E.G==3&&bo(E)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,Mn.aa.N.call(this)};function nh(h){ot.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const T in E){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}C(nh,ot);function rh(){Mt.call(this),this.status=1}C(rh,Mt);function Gr(h){this.g=h}C(Gr,th),Gr.prototype.ua=function(){oe(this.g,"a")},Gr.prototype.ta=function(h){oe(this.g,new nh(h))},Gr.prototype.sa=function(h){oe(this.g,new rh)},Gr.prototype.ra=function(){oe(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Gx=function(){return new wo},Hx=function(){return Hn()},qx=dn,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Tf=ls,yi.COMPLETE="complete",zx=yi,it.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",K.prototype.listen=K.prototype.K,Bc=it,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,Fx=lt}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",oT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Sy("@firebase/firestore");function Zo(){return Ja.logLevel}function xe(t,...e){if(Ja.logLevel<=Qe.DEBUG){const n=e.map(ky);Ja.debug(`Firestore (${Al}): ${t}`,...n)}}function Zi(t,...e){if(Ja.logLevel<=Qe.ERROR){const n=e.map(ky);Ja.error(`Firestore (${Al}): ${t}`,...n)}}function ml(t,...e){if(Ja.logLevel<=Qe.WARN){const n=e.map(ky);Ja.warn(`Firestore (${Al}): ${t}`,...n)}}function ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,$x(t,i,n)}function $x(t,e,n){let i=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zi(i),new Error(i)}function ct(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||$x(e,a,i)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class e4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class t4{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new Kx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class n4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new n4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=s4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Qp(a)===Qp(l)?Xe(a,l):Qp(a)?1:-1}return Xe(t.length,e.length)}const a4=55296,o4=57343;function Qp(t){const e=t.charCodeAt(0);return e>=a4&&e<=o4}function pl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="__name__";class Zr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Zr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Xe(e.length,n.length)}static compareSegments(e,n){const i=Zr.isNumericId(e),a=Zr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class bt extends Zr{construct(e,n,i){return new bt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Zr{construct(e,n,i){return new bn(e,n,i)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pg}static keyField(){return new bn([Pg])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(bt.fromString(e))}static fromName(e){return new Ce(bt.fromString(e).popFirst(5))}static empty(){return new Ce(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e,n){if(!n)throw new _e(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c4(t,e,n,i){if(e===!0&&i===!0)throw new _e(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!Ce.isDocumentKey(t))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uT(t){if(Ce.isDocumentKey(t))throw new _e(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ru(t,e){if(!Qx(t))throw new _e(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new _e(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=-62135596800,fT=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*fT);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hT)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fT}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Zt("string",wt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new wt(0,0))}static max(){return new je(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function u4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=je.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new Ks(a,Ce.empty(),e)}function h4(t){return new Ks(t.readTime,t.key,su)}class Ks{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ks(je.min(),Ce.empty(),su)}static max(){return new Ks(je.max(),Ce.empty(),su)}}function f4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==d4)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,i)=>{n(e)}))}static reject(e){return new de(((n,i)=>{i(e)}))}static waitFor(e){return new de(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next((a=>a?de.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new de(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++f,f===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new de(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function p4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function vd(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function g4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="";function y4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dT(e)),e=v4(t.get(n),e);return dT(e)}function v4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Xx:n+="";break;default:n+=l}}return n}function dT(t){return t+Xx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new _n(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new an(bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zx("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const E4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=E4.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function Ed(t){return(t?.mapValue?.fields||{})[eS]?.stringValue===Jx}function _d(t){const e=t.mapValue.fields[tS];return Ed(e)?_d(e):e}function au(t){const e=Ys(t.mapValue.fields[nS].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,i,a,l,u,f,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const zf="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",b4="__max__",cf={mapValue:{}},iS="__vector__",qf="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ed(t)?4:w4(t)?9007199254740991:T4(t)?10:11:Ve(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ys(a.timestampValue),f=Ys(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Qs(a.bytesValue).isEqual(Qs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return zt(a.geoPointValue.latitude)===zt(l.geoPointValue.latitude)&&zt(a.geoPointValue.longitude)===zt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return zt(a.integerValue)===zt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=zt(a.doubleValue),f=zt(l.doubleValue);return u===f?Ff(u)===Ff(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(mT(u)!==mT(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!li(u[m],f[m])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function lu(t,e){return(t.values||[]).find((n=>li(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=Xs(t),i=Xs(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=zt(l.integerValue||l.doubleValue),m=zt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return gT(t.timestampValue,e.timestampValue);case 4:return gT(au(t),au(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Qs(l),m=Qs(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=Xe(f[g],m[g]);if(v!==0)return v}return Xe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Xe(zt(l.latitude),zt(u.latitude));return f!==0?f:Xe(zt(l.longitude),zt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},g=f[qf]?.arrayValue,v=m[qf]?.arrayValue,_=Xe(g?.values?.length||0,v?.values?.length||0);return _!==0?_:yT(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===cf.mapValue&&u===cf.mapValue)return 0;if(l===cf.mapValue)return 1;if(u===cf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const b=Dg(m[_],v[_]);if(b!==0)return b;const A=gl(f[m[_]],g[v[_]]);if(A!==0)return A}return Xe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function gT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Ys(t),i=Ys(e),a=Xe(n.seconds,i.seconds);return a!==0?a:Xe(n.nanos,i.nanos)}function yT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=gl(n[a],i[a]);if(l)return l}return Xe(n.length,i.length)}function yl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ys(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Mg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Mg(n.fields[u])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function wf(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+wf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return so(i.fields,((l,u)=>{a+=l.length+wf(u)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function Hf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function jy(t){return!!t&&"arrayValue"in t}function vT(t){return!!t&&"nullValue"in t}function ET(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function T4(t){return(t?.mapValue?.fields||{})[rS]?.stringValue===iS}function Kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Kc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return{...t}}function w4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=bn.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=Kc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){so(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new mr(Kc(this.value))}}function sS(t){const e=[];return so(t.fields,((n,i)=>{const a=new bn([n]);if(xf(i)){const l=sS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,je.min(),je.min(),je.min(),mr.empty(),0)}static newFoundDocument(e,n,i,a){return new Nn(e,1,n,je.min(),i,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,je.min(),je.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,je.min(),je.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.position=e,this.inclusive=n}}function _T(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(u.referenceValue),n.key):i=gl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{}class Wt extends aS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new A4(e,n,i):n==="array-contains"?new C4(e,i):n==="in"?new I4(e,i):n==="not-in"?new O4(e,i):n==="array-contains-any"?new D4(e,i):new Wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new R4(e,i):new N4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends aS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mr(e,n)}matches(e){return oS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oS(t){return t.op==="and"}function lS(t){return S4(t)&&oS(t)}function S4(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function kg(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(lS(t))return t.filters.map((e=>kg(e))).join(",");{const e=t.filters.map((n=>kg(n))).join(",");return`${t.op}(${e})`}}function cS(t,e){return t instanceof Wt?(function(i,a){return a instanceof Wt&&i.op===a.op&&i.field.isEqual(a.field)&&li(i.value,a.value)})(t,e):t instanceof Mr?(function(i,a){return a instanceof Mr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&cS(u,a.filters[f])),!0):!1})(t,e):void Ve(19439)}function uS(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"})(t):"Filter"}class A4 extends Wt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class R4 extends Wt{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N4 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hS(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class C4 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jy(n)&&lu(n.arrayValue,this.value)}}class I4 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class O4 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class D4 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>lu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function TT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new P4(t,e,n,i,a,l,u)}function By(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>kg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>yl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>yl(i))).join(",")),e.Te=n}return e.Te}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function Lg(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M4(t,e,n,i,a,l,u,f){return new Cl(t,e,n,i,a,l,u,f)}function bd(t){return new Cl(t)}function wT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zy(t){return t.collectionGroup!==null}function hl(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new an(bn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gf(l,i))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Gf(bn.keyField(),i))}return e.Ie}function ni(t){const e=Be(t);return e.Ee||(e.Ee=V4(e,hl(t))),e.Ee}function V4(t,e){if(t.limitType==="F")return TT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gf(a.field,l)}));const n=t.endAt?new vl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vl(t.startAt.position,t.startAt.inclusive):null;return TT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ug(t,e){const n=t.filters.concat([e]);return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return Fy(ni(t),ni(e))&&t.limitType===e.limitType}function fS(t){return`${By(ni(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>uS(a))).join(", ")}]`),vd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${i})`})(ni(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of hl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const g=_T(u,f,m);return u.inclusive?g<=0:g<0})(i.startAt,hl(i),a)||i.endAt&&!(function(u,f,m){const g=_T(u,f,m);return u.inclusive?g>=0:g>0})(i.endAt,hl(i),a))})(t,e)}function k4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let i=!1;for(const a of hl(t)){const l=L4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function L4(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?gl(m,g):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return Wx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new Dt(Ce.comparator);function Ji(){return U4}const mS=new Dt(Ce.comparator);function Fc(...t){let e=mS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=mS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function za(){return Yc()}function gS(){return Yc()}function Yc(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const j4=new Dt(Ce.comparator),B4=new an(Ce.comparator);function We(...t){let e=B4;for(const n of t)e=e.add(n);return e}const F4=new an(Xe);function z4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function yS(t){return{integerValue:""+t}}function q4(t,e){return g4(e)?yS(e):qy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function H4(t,e,n){return t instanceof cu?(function(a,l){const u={fields:{[eS]:{stringValue:Jx},[nS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ed(l)&&(l=_d(l)),l&&(u.fields[tS]=l),{mapValue:u}})(n,e):t instanceof uu?ES(t,e):t instanceof hu?_S(t,e):(function(a,l){const u=vS(a,l),f=xT(u)+xT(a.Ae);return Vg(u)&&Vg(a.Ae)?yS(f):qy(a.serializer,f)})(t,e)}function G4(t,e,n){return t instanceof uu?ES(t,e):t instanceof hu?_S(t,e):n}function vS(t,e){return t instanceof Kf?(function(i){return Vg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class cu extends xd{}class uu extends xd{constructor(e){super(),this.elements=e}}function ES(t,e){const n=bS(e);for(const i of t.elements)n.some((a=>li(a,i)))||n.push(i);return{arrayValue:{values:n}}}class hu extends xd{constructor(e){super(),this.elements=e}}function _S(t,e){let n=bS(e);for(const i of t.elements)n=n.filter((a=>!li(a,i)));return{arrayValue:{values:n}}}class Kf extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xT(t){return zt(t.integerValue||t.doubleValue)}function bS(t){return jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.field=e,this.transform=n}}function K4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof uu&&a instanceof uu||i instanceof hu&&a instanceof hu?pl(i.elements,a.elements,li):i instanceof Kf&&a instanceof Kf?li(i.Ae,a.Ae):i instanceof cu&&a instanceof cu})(t.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function TS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xS(t.key,Ki.none()):new Nu(t.key,t.data,Ki.none());{const n=t.data,i=mr.empty();let a=new an(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new oo(t.key,i,new Nr(a.toArray()),Ki.none())}}function Q4(t,e,n){t instanceof Nu?(function(a,l,u){const f=a.value.clone(),m=AT(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof oo?(function(a,l,u){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=AT(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(wS(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,i){return t instanceof Nu?(function(l,u,f,m){if(!Sf(l.precondition,u))return f;const g=l.value.clone(),v=RT(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof oo?(function(l,u,f,m){if(!Sf(l.precondition,u))return f;const g=RT(l.fieldTransforms,m,u),v=u.data;return v.setAll(wS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(l,u,f){return Sf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function X4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=vS(i.transform,a||null);l!=null&&(n===null&&(n=mr.empty()),n.set(i.field,l))}return n||null}function ST(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&pl(i,a,((l,u)=>K4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Sd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oo extends Sd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function AT(t,e,n){const i=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,G4(u,f,n[a]))}return i}function RT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,H4(l,u,e))}return i}class xS extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Q4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=gS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=TS(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,i)=>ST(n,i)))&&pl(this.baseMutations,e.baseMutations,((n,i)=>ST(n,i)))}}class Hy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return j4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Hy(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,tt;function tM(t){switch(t){case le.OK:return Ve(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function SS(t){if(t===void 0)return Zi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Qt.OK:return le.OK;case Qt.CANCELLED:return le.CANCELLED;case Qt.UNKNOWN:return le.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return le.INTERNAL;case Qt.UNAVAILABLE:return le.UNAVAILABLE;case Qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Qt.NOT_FOUND:return le.NOT_FOUND;case Qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Qt.ABORTED:return le.ABORTED;case Qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Qt.DATA_LOSS:return le.DATA_LOSS;default:return Ve(39323,{code:t})}}(tt=Qt||(Qt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Hs([4294967295,4294967295],0);function NT(t){const e=nM().encode(t),n=new Bx;return n.update(e),new Uint8Array(n.digest())}function CT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([n,i],0),new Hs([a,l],0)]}class Gy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(i<0)throw new zc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Hs.fromNumber(i)));return a.compare(rM)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NT(e),[i,a]=CT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Gy(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=NT(e),[i,a]=CT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ad(je.min(),a,new Dt(Xe),Ji(),We())}}class Cu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cu(i,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class AS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,i=wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class IT{constructor(){this.ve=0,this.Fe=OT(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),i=We();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ve(38017,{changeType:l})}})),new Cu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=OT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=uf(),this.He=uf(),this.Ye=new Dt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Lg(l))if(i===0){const u=new Ce(l.path);this.et(n,u,Nn.newNoDocument(u,je.min()))}else ct(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Qs(i).toUint8Array()}catch(m){if(m instanceof Zx)return ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Gy(u,a,l)}catch(m){return ml(m instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Lg(f.target)){const m=new Ce(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Nn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=We();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ad(e,n,this.Ye,this.je,i);return this.je=Ji(),this.Je=uf(),this.He=uf(),this.Ye=new Dt(Xe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uf(){return new Dt(Ce.comparator)}function OT(){return new Dt(Ce.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},aM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oM={and:"AND",or:"OR"};class lM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cM(t,e){return Yf(t,e.toTimestamp())}function ri(t){return ct(!!t,49232),je.fromTimestamp((function(n){const i=Ys(n);return new wt(i.seconds,i.nanos)})(t))}function $y(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=(function(a){return new bt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CS(t){const e=bt.fromString(t);return ct(MS(e),10190,{key:e.toString()}),e}function Fg(t,e){return $y(t.databaseId,e.path)}function Xp(t,e){const n=CS(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(OS(n))}function IS(t,e){return $y(t.databaseId,e)}function uM(t){const e=CS(t);return e.length===4?bt.emptyPath():OS(e)}function zg(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OS(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DT(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function hM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(ct(v===void 0||typeof v=="string",58123),wn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),wn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?le.UNKNOWN:SS(g.code);return new _e(v,g.message||"")})(u);n=new RS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Xp(t,i.document.name),l=ri(i.document.updateTime),u=i.document.createTime?ri(i.document.createTime):je.min(),f=new mr({mapValue:{fields:i.document.fields}}),m=Nn.newFoundDocument(a,l,u,f),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Af(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Xp(t,i.document),l=i.readTime?ri(i.readTime):je.min(),u=Nn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Af([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Xp(t,i.document),l=i.removedTargetIds||[];n=new Af([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new eM(a,l),f=i.targetId;n=new AS(f,u)}}return n}function fM(t,e){let n;if(e instanceof Nu)n={update:DT(t,e.key,e.value)};else if(e instanceof xS)n={delete:Fg(t,e.key)};else if(e instanceof oo)n={update:DT(t,e.key,e.data),updateMask:bM(e.fieldMask)};else{if(!(e instanceof W4))return Ve(16599,{Vt:e.type});n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ve(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:cM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function dM(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ri(a.updateTime):ri(l);return u.isEqual(je.min())&&(u=ri(l)),new Y4(u,a.transformResults||[])})(n,e)))):[]}function mM(t,e){return{documents:[IS(t,e.path)]}}function pM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IS(t,a);const l=(function(g){if(g.length!==0)return PS(Mr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:el(b.field),direction:vM(b.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=jg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function gM(t){let e=uM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ct(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const b=DS(_);return b instanceof Mr&&lS(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((b=>(function(C){return new Gf(tl(C.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,vd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,A=_.values||[];return new vl(A,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const b=!_.before,A=_.values||[];return new vl(A,b)})(n.endAt)),M4(e,a,u,l,f,"F",m,g)}function yM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=tl(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(n.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(n.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mr.create(n.compositeFilter.filters.map((i=>DS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function vM(t){return sM[t]}function EM(t){return aM[t]}function _M(t){return oM[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return bn.fromServerFormat(t.fieldPath)}function PS(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(ET(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(vT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ET(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(vT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:EM(n.op),value:n.value}}})(t):t instanceof Mr?(function(n){const i=n.getFilters().map((a=>PS(a)));return i.length===1?i[0]:{compositeFilter:{op:_M(n.op),filters:i}}})(t):Ve(54877,{filter:t})}function bM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,i,a,l=je.min(),u=je.min(),f=wn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.yt=e}}function wM(t){const e=gM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Cn=new SM}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Ks.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class SM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new an(bt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new an(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(VS,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",AM=1048576;function VT([t,e],[n,i]){const a=Xe(t,n);return a===0?Xe(e,i):a}class RM{constructor(e){this.Ir=e,this.buffer=new an(VT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();VT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(MT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?xe(MT,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class CM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(yd.ce);const i=new RM(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(PT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),Zo()<=Qe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function IM(t,e){return new CM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Qc(i.mutation,a,Nr.empty(),wt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,We()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=We()){const a=za();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Fc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,We())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=Ji();const u=Yc(),f=(function(){return Yc()})();return n.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof oo)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Qc(v.mutation,g,v.mutation.getFieldMask(),wt.now())):u.set(g.key,Nr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>f.set(g,new DM(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Yc();let a=new Dt(((u,f)=>u-f)),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=i.get(m)||Nr.empty();v=f.applyToLocalView(g,v),i.set(m,v);const _=(a.get(f.batchId)||We()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,_=gS();v.forEach((b=>{if(!l.has(b)){const A=TS(n.get(b),i.get(b));A!==null&&_.set(b,A),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return de.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):de.resolve(za());let f=su,m=l;return u.next((g=>de.forEach(g,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{m=m.insert(v,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,We()))).next((v=>({batchId:f,changes:pS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Fc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(m=>{const g=(function(_,b){return new Cl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Nn.newInvalidDocument(v)))}));let f=Fc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Qc(v.mutation,g,Nr.empty(),wt.now()),wd(n,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ri(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:wM(a.bundledQuery),readTime:ri(a.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.overlays=new Dt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=za();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const a=za(),l=n.length+1,u=new Ce(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Dt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=za(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return de.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new J4(n,i));let l=this.qr.get(n);l===void 0&&(l=We(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Qr=new an(fn.$r),this.Ur=new an(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new fn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new fn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ce(new bt([])),i=new fn(n,e),a=new fn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new bt([])),i=new fn(n,e),a=new fn(n,e+1);let l=We();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new fn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(fn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new fn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Uy:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new fn(n,0),a=new fn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new an(Xe);return n.forEach((a=>{const l=new fn(a,0),u=new fn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),de.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const u=new fn(new Ce(l),0);let f=new an(Xe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),u),de.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return de.forEach(n.mutations,(a=>{const l=new fn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new fn(n,0),a=this.Zr.firstAfterOrEqual(i);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const u=n.path,f=new Ce(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||f4(h4(v),i)<=0||(a.has(v.key)||wd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ve(9500)}ii(e,n){return de.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new jM(this)}getSize(e){return de.resolve(this.size)}}class jM extends OM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.si=new ao((n=>By(n)),Fy),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Ky,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new kM,this.referenceDelegate=e(this),this.Pi=new BM(this),this.indexManager=new xM,this.remoteDocumentCache=(function(a){return new UM(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new TM(n),this.Ii=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new LM(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){xe("MemoryPersistence","Starting transaction:",e);const a=new FM(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return de.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class FM extends m4{constructor(e){super(),this.currentSequenceNumber=e}}class Yy{constructor(e){this.persistence=e,this.Ri=new Ky,this.Vi=null}static mi(e){return new Yy(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(i=>{const a=Ce.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.pi=new ao((i=>y4(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=IM(this,n)}static mi(e,n){return new Qf(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?de.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,je.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wf(e.data.value)),n}br(e,n,i){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return de.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=We(),a=We();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qy(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EI()?8:p4(On())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new zM;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Zo()<=Qe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Zo()<=Qe.DEBUG&&xe("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Zo()<=Qe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):de.resolve())}ys(e,n){if(wT(n))return de.resolve(null);let i=ni(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=$f(n,null,"F"),i=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=We(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,u,m.readTime)?this.ys(e,$f(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,i,a){return wT(n)||a.isEqual(je.min())?de.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?de.resolve(null):(Zo()<=Qe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.vs(e,u,n,u4(a,su)).next((f=>f)))}))}Ds(e,n){let i=new an(dS(e));return n.forEach(((a,l)=>{wd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Zo()<=Qe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",HM=3e8;class GM{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Dt(Xe),this.xs=new ao((l=>By(l)),Fy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $M(t,e,n,i){return new GM(t,e,n,i)}async function LS(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=We();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function KM(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,v){const _=g.batch,b=_.keys();let A=de.resolve();return b.forEach((C=>{A=A.next((()=>v.getEntry(m,C))).next((D=>{const O=g.docVersions.get(C);ct(O!==null,48541),D.version.compareTo(O)<0&&(_.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=We();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function US(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YM(t,e){const n=Be(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(wn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(_,A),(function(D,O,j){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=HM?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,A,v)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Ji(),g=We();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(QM(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!i.isEqual(je.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return de.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function QM(t,e,n){let i=We(),a=We();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Ji();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(je.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):xe(Xy,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function XM(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Uy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WM(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,de.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new Bs(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function qg(t,e,n){const i=Be(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Nl(u))throw u;xe(Xy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function kT(t,e,n){const i=Be(t);let a=je.min(),l=We();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const _=Be(m),b=_.xs.get(v);return b!==void 0?de.resolve(_.Ms.get(b)):_.Pi.getTargetData(g,v)})(i,u,ni(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:je.min(),n?l:We()))).next((f=>(ZM(i,k4(e),f),{documents:f,Qs:l})))))}function ZM(t,e,n){let i=t.Os.get(e)||je.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class LT{constructor(){this.activeTargetIds=z4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JM{constructor(){this.Mo=new LT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class jT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(UT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(UT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function Hg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",tV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Hg(),f=this.zo(e,n.toUriEncodedString());xe(Wp,`Sending RPC '${e}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),v=no(g);return this.Jo(e,f,m,i,v).then((_=>(xe(Wp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw ml(Wp,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=tV[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class iV extends nV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Hg();return new Promise(((f,m)=>{const g=new Fx;g.setWithCredentials(!0),g.listenOnce(zx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Tf.NO_ERROR:const _=g.getResponseJson();xe(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Tf.TIMEOUT:xe(An,`RPC '${e}' ${u} timed out`),m(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const b=g.getStatus();if(xe(An,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const D=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(U)>=0?U:le.UNKNOWN})(C.status);m(new _e(D,C.message))}else m(new _e(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{xe(An,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);xe(An,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=Hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Gx(),f=Hx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const v=l.join("");xe(An,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let b=!1,A=!1;const C=new rV({Yo:O=>{A?xe(An,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(xe(An,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),xe(An,`RPC '${e}' stream ${a} sending:`,O),_.send(O))},Zo:()=>_.close()}),D=(O,j,U)=>{O.listen(j,(G=>{try{U(G)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return D(_,Bc.EventType.OPEN,(()=>{A||(xe(An,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),D(_,Bc.EventType.CLOSE,(()=>{A||(A=!0,xe(An,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(_))})),D(_,Bc.EventType.ERROR,(O=>{A||(A=!0,ml(An,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.a_(new _e(le.UNAVAILABLE,"The operation could not be completed")))})),D(_,Bc.EventType.MESSAGE,(O=>{if(!A){const j=O.data[0];ct(!!j,16349);const U=j,G=U?.error||U[0]?.error;if(G){xe(An,`RPC '${e}' stream ${a} received error:`,G);const ce=G.status;let H=(function(x){const N=Qt[x];if(N!==void 0)return SS(N)})(ce),ee=G.message;H===void 0&&(H=le.INTERNAL,ee="Unknown error status: "+ce+" with message "+G.message),A=!0,C.a_(new _e(H,ee)),_.close()}else xe(An,`RPC '${e}' stream ${a} received:`,j),C.u_(j)}})),D(f,qx.STAT_EVENT,(O=>{O.stat===Og.PROXY?xe(An,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Og.NOPROXY&&xe(An,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new lM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="PersistentStream";class BS{constructor(e,n,i,a,l,u,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new _e(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(BT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(BT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sV extends BS{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hM(this.serializer,e),i=(function(l){if(!("targetChange"in l))return je.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?ri(u.readTime):je.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=zg(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Lg(m)?{documents:mM(l,m)}:{query:pM(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=NS(l,u.resumeToken);const g=jg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Yf(l,u.snapshotVersion.toTimestamp());const g=jg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=yM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=zg(this.serializer),n.removeTarget=e,this.q_(n)}}class aV extends BS{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dM(e.writeResults,e.commitTime),i=ri(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>fM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{}class lV extends oV{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Bg(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(le.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Bg(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class uV{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{lo(this)&&(xe(eo,"Restarting streams for network reachability change."),await(async function(m){const g=Be(m);g.Ea.add(4),await Iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nd(g)})(this))}))})),this.Ra=new cV(i,a)}}async function Nd(t){if(lo(t))for(const e of t.da)await e(!0)}async function Iu(t){for(const e of t.da)await e(!1)}function FS(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e0(n)?Jy(n):Il(n).O_()&&Zy(n,e))}function Wy(t,e){const n=Be(t),i=Il(n);n.Ia.delete(e),i.O_()&&zS(n,e),n.Ia.size===0&&(i.O_()?i.L_():lo(n)&&n.Ra.set("Unknown"))}function Zy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Y_(e)}function zS(t,e){t.Va.Ue(e),Il(t).Z_(e)}function Jy(t){t.Va=new iM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Ra.ua()}function e0(t){return lo(t)&&!Il(t).x_()&&t.Ia.size>0}function lo(t){return Be(t).Ea.size===0}function qS(t){t.Va=void 0}async function hV(t){t.Ra.set("Online")}async function fV(t){t.Ia.forEach(((e,n)=>{Zy(t,e)}))}async function dV(t,e){qS(t),e0(t)?(t.Ra.ha(e),Jy(t)):t.Ra.set("Unknown")}async function mV(t,e,n){if(t.Ra.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){xe(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xf(t,i)}else if(e instanceof Af?t.Va.Ze(e):e instanceof AS?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const i=await US(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(wn.EMPTY_BYTE_STRING,v.snapshotVersion)),zS(l,m);const _=new Bs(v.target,m,g,v.sequenceNumber);Zy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){xe(eo,"Failed to raise snapshot:",i),await Xf(t,i)}}async function Xf(t,e,n){if(!Nl(e))throw e;t.Ea.add(1),await Iu(t),t.Ra.set("Offline"),n||(n=()=>US(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function HS(t,e){return e().catch((n=>Xf(t,n,e)))}async function Cd(t){const e=Be(t),n=Ws(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uy;for(;pV(e);)try{const a=await XM(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,gV(e,a)}catch(a){await Xf(e,a)}GS(e)&&$S(e)}function pV(t){return lo(t)&&t.Ta.length<10}function gV(t,e){t.Ta.push(e);const n=Ws(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GS(t){return lo(t)&&!Ws(t).x_()&&t.Ta.length>0}function $S(t){Ws(t).start()}async function yV(t){Ws(t).ra()}async function vV(t){const e=Ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function EV(t,e,n){const i=t.Ta.shift(),a=Hy.from(i,e,n);await HS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cd(t)}async function _V(t,e){e&&Ws(t).X_&&await(async function(i,a){if((function(u){return tM(u)&&u!==le.ABORTED})(a.code)){const l=i.Ta.shift();Ws(i).B_(),await HS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(i)}})(t,e),GS(t)&&$S(t)}async function FT(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),xe(eo,"RemoteStore received new credentials");const i=lo(n);n.Ea.add(3),await Iu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function bV(t,e){const n=Be(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,a){const l=Be(n);return l.sa(),new sV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:hV.bind(null,t),t_:fV.bind(null,t),r_:dV.bind(null,t),H_:mV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),e0(t)?Jy(t):t.Ra.set("Unknown")):(await t.ma.stop(),qS(t))}))),t.ma}function Ws(t){return t.fa||(t.fa=(function(n,i,a){const l=Be(n);return l.sa(),new aV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yV.bind(null,t),r_:_V.bind(null,t),ta:vV.bind(null,t),na:EV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new t0(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Nl(t))return new _e(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Fc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.ga=new Dt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class _l{constructor(e,n,i,a,l,u,f,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new _l(e,n,fl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wV{constructor(){this.queries=qT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Be(n),l=a.queries;a.queries=qT(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function qT(){return new ao((t=>fS(t)),Td)}async function r0(t,e){const n=Be(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new TV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=n0(u,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&s0(n)}async function i0(t,e){const n=Be(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xV(t,e){const n=Be(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&s0(n)}function SV(t,e,n){const i=Be(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function s0(t){t.Ca.forEach((e=>{e.next()}))}var Gg,HT;(HT=Gg||(Gg={})).Ma="default",HT.Cache="cache";class a0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class AV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=dS(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new zT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const b=a.get(v),A=wd(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;b&&A?b.data.isEqual(A.data)?C!==D&&(i.track({type:3,doc:A}),O=!0):this.su(b,A)||(i.track({type:2,doc:A}),O=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(f=!0)):!b&&A?(i.track({type:0,doc:A}),O=!0):b&&!A&&(i.track({type:1,doc:b}),O=!0,(m||g)&&(f=!0)),O&&(A?(u=u.add(A),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(A,C){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:O})}};return D(A)-D(C)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new _l(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new YS(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new KS(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o0="SyncEngine";class RV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class NV{constructor(e){this.key=e,this.hu=!1}}class CV{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ao((f=>fS(f)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ce.comparator),this.Au=new Map,this.Ru=new Ky,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IV(t,e,n=!0){const i=eA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await QS(i,e,n,!0),a}async function OV(t,e){const n=eA(t);await QS(n,e,!0,!1)}async function QS(t,e,n,i){const a=await WM(t.localStore,ni(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await DV(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,a),f}async function DV(t,e,n,i,a){t.pu=(_,b,A)=>(async function(D,O,j,U){let G=O.view.ru(j);G.Cs&&(G=await kT(D.localStore,O.query,!1).then((({documents:P})=>O.view.ru(P,G))));const ce=U&&U.targetChanges.get(O.targetId),H=U&&U.targetMismatches.get(O.targetId)!=null,ee=O.view.applyChanges(G,D.isPrimaryClient,ce,H);return $T(D,O.targetId,ee.au),ee.snapshot})(t,_,b,A);const l=await kT(t.localStore,e,!0),u=new AV(e,l.Qs),f=u.ru(l.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,m);$T(t,n,g.au);const v=new RV(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function PV(t,e,n){const i=Be(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Td(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await qg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Wy(i.remoteStore,a.targetId),$g(i,a.targetId)})).catch(Rl)):($g(i,a.targetId),await qg(i.localStore,a.targetId,!0))}async function MV(t,e){const n=Be(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wy(n.remoteStore,i.targetId))}async function VV(t,e,n){const i=zV(t);try{const a=await(function(u,f){const m=Be(u),g=wt.now(),v=f.reduce(((A,C)=>A.add(C.key)),We());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let C=Ji(),D=We();return m.Ns.getEntries(A,v).next((O=>{C=O,C.forEach(((j,U)=>{U.isValidDocument()||(D=D.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,C))).next((O=>{_=O;const j=[];for(const U of f){const G=X4(U,_.get(U.key).overlayedDocument);G!=null&&j.push(new oo(U.key,G,sS(G.value.mapValue),Ki.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,j,f)})).next((O=>{b=O;const j=O.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(A,O.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:pS(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new Dt(Xe)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(i,a.batchId,n),await Ou(i,a.changes),await Cd(i.remoteStore)}catch(a){const l=n0(a,"Failed to persist write");n.reject(l)}}async function XS(t,e){const n=Be(t);try{const i=await YM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await Ou(n,i,e)}catch(i){await Rl(i)}}function GT(t,e,n){const i=Be(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Be(u);m.onlineState=f;let g=!1;m.queries.forEach(((v,_)=>{for(const b of _.Sa)b.va(f)&&(g=!0)})),g&&s0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kV(t,e,n){const i=Be(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Dt(Ce.comparator);u=u.insert(l,Nn.newNoDocument(l,je.min()));const f=We().add(l),m=new Ad(je.min(),new Map,new Dt(Xe),u,f);await XS(i,m),i.du=i.du.remove(l),i.Au.delete(e),l0(i)}else await qg(i.localStore,e,!1).then((()=>$g(i,e,n))).catch(Rl)}async function LV(t,e){const n=Be(t),i=e.batch.batchId;try{const a=await KM(n.localStore,e);ZS(n,i,null),WS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(n,a)}catch(a){await Rl(a)}}async function UV(t,e,n){const i=Be(t);try{const a=await(function(u,f){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next((_=>(ct(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);ZS(i,e,n),WS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ou(i,a)}catch(a){await Rl(a)}}function WS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ZS(t,e,n){const i=Be(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||JS(t,i)}))}function JS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),l0(t))}function $T(t,e,n){for(const i of n)i instanceof KS?(t.Ru.addReference(i.key,e),jV(t,i)):i instanceof YS?(xe(o0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||JS(t,i.key)):Ve(19791,{wu:i})}function jV(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(xe(o0,"New document in limbo: "+n),t.Eu.add(i),l0(t))}function l0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(bt.fromString(e)),i=t.fu.next();t.Au.set(i,new NV(n)),t.du=t.du.insert(n,i),FS(t.remoteStore,new Bs(ni(bd(n.path)),i,"TargetPurposeLimboResolution",yd.ce))}}async function Ou(t,e,n){const i=Be(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Qy.As(m.targetId,g);l.push(v)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,g){const v=Be(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>de.forEach(g,(b=>de.forEach(b.Es,(A=>v.persistence.referenceDelegate.addReference(_,b.targetId,A))).next((()=>de.forEach(b.ds,(A=>v.persistence.referenceDelegate.removeReference(_,b.targetId,A)))))))))}catch(_){if(!Nl(_))throw _;xe(Xy,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const A=v.Ms.get(b),C=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(b,D)}}})(i.localStore,l))}async function BV(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){xe(o0,"User change. New user:",e.toKey());const i=await LS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new _e(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ou(n,i.Ls)}}function FV(t,e){const n=Be(t),i=n.Au.get(e);if(i&&i.hu)return We().add(i.key);{let a=We();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function eA(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kV.bind(null,e),e.Pu.H_=xV.bind(null,e.eventManager),e.Pu.yu=SV.bind(null,e.eventManager),e}function zV(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UV.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $M(this.persistence,new qM,e.initialUser,this.serializer)}Cu(e){return new kS(Yy.mi,this.serializer)}Du(e){return new JM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class qV extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new kS((i=>Qf.mi(i,n)),this.serializer)}}class Kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),await bV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wV})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=(function(l){return new iV(l)})(e.databaseInfo);return(function(l,u,f,m){return new lV(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new uV(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>GT(this.syncEngine,n,0)),(function(){return jT.v()?new jT:new eV})())}createSyncEngine(e,n){return(function(a,l,u,f,m,g,v){const _=new CV(a,l,u,f,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Be(n);xe(eo,"RemoteStore shutting down."),i.Ea.add(5),await Iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class HV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=Ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{xe(Zs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(xe(Zs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=n0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await LS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function KT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GV(t);xe(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>FT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>FT(e.remoteStore,a))),t._onlineComponents=e}async function GV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Zs,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new Wf)}}else xe(Zs,"Using default OfflineComponentProvider"),await Jp(t,new qV(void 0));return t._offlineComponents}async function tA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Zs,"Using user provided OnlineComponentProvider"),await KT(t,t._uninitializedComponentsProvider._online)):(xe(Zs,"Using default OnlineComponentProvider"),await KT(t,new Kg))),t._onlineComponents}function $V(t){return tA(t).then((e=>e.syncEngine))}async function Zf(t){const e=await tA(t),n=e.eventManager;return n.onListen=IV.bind(null,e.syncEngine),n.onUnlisten=PV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MV.bind(null,e.syncEngine),n}function KV(t,e,n={}){const i=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const v=new c0({next:b=>{v.Nu(),u.enqueueAndForget((()=>i0(l,_)));const A=b.docs.has(f);!A&&b.fromCache?g.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?g.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new a0(bd(f.path),v,{includeMetadataChanges:!0,qa:!0});return r0(l,_)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}function YV(t,e,n={}){const i=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const v=new c0({next:b=>{v.Nu(),u.enqueueAndForget((()=>i0(l,_))),b.fromCache&&m.source==="server"?g.reject(new _e(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new a0(f,v,{includeMetadataChanges:!0,qa:!0});return r0(l,_)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firestore.googleapis.com",QT=!0;class XT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=QT}else this.host=e.host,this.ssl=e.ssl??QT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AM)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JP;switch(i.type){case"firstParty":return new r4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=YT.get(n);i&&(xe("ComponentProvider","Removing Datastore"),YT.delete(n),i.terminate())})(this),Promise.resolve()}}function QV(t,e,n,i={}){t=$i(t,Id);const a=no(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(wy(`https://${f}`),xy("Firestore",!0)),l.host!==rA&&l.host!==f&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Qa(m,u)&&(t._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Rn.MOCK_USER;else{g=ex(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Rn(_)}t._authCredentials=new e4(new Kx(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ru(n,Jt._jsonSchema))return new Jt(e,i||null,new Ce(bt.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:Zt("string",Jt._jsonSchemaVersion),referencePath:Zt("string")};class Gs extends ns{constructor(e,n,i){super(e,n,bd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Ce(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Yi(t,e,...n){if(t=Tn(t),Yx("collection","path",e),t instanceof Id){const i=bt.fromString(e,...n);return uT(i),new Gs(t,null,i)}{if(!(t instanceof Jt||t instanceof Gs))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bt.fromString(e,...n));return uT(i),new Gs(t.firestore,null,i)}}function u0(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=Ly.newId()),Yx("doc","path",e),t instanceof Id){const i=bt.fromString(e,...n);return cT(i),new Jt(t,null,new Ce(i))}{if(!(t instanceof Jt||t instanceof Gs))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bt.fromString(e,...n));return cT(i),new Jt(t.firestore,t instanceof Gs?t.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class ZT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jS(this,"async_queue_retry"),this._c=()=>{const i=Zp();i&&xe(WT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;xe(WT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",JT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=t0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:JT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function JT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class bl extends Id{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ZT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZT(e),this._firestoreClient=void 0,await e}}}function XV(t,e){const n=typeof t=="object"?t:Ry(),i=typeof t=="string"?t:zf,a=fd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=W1("firestore");l&&QV(a,...l)}return a}function Od(t){if(t._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WV(t),t._firestoreClient}function WV(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new _4(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new HV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(wn.fromBase64String(e))}catch(n){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Zt("string",pr._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function ZV(){return new Dd(Pg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Zt("string",ii._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new _e(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Zt("string",si._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^__.*__$/;class ek{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class f0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new f0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&JV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}Cc(e,n,i,a=!1){return new f0({Ac:e,methodName:n,Dc:i,path:bn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d0(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new tk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nk(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);lA("Data must be an object, but it was:",u,i);const f=aA(i,u);let m,g;if(l.merge)m=new Nr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=rk(e,_,n);if(!u.contains(b))throw new _e(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);sk(v,b)||v.push(b)}m=new Nr(v),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new ek(new mr(f),m,g)}class m0 extends h0{_toFieldTransform(e){return new $4(e.path,new cu)}isEqual(e){return e instanceof m0}}function sA(t,e,n,i=!1){return p0(n,t.Cc(i?4:3,e))}function p0(t,e){if(oA(t=Tn(t)))return lA("Unsupported field value:",e,t),aA(t,e);if(t instanceof h0)return(function(i,a){if(!iA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=p0(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return q4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:Yf(a.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(i instanceof ii)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:NS(a.serializer,i._byteString)};if(i instanceof Jt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$y(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof si)return(function(u,f){return{mapValue:{fields:{[rS]:{stringValue:iS},[qf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return qy(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${gd(i)}`)})(t,e)}function aA(t,e){const n={};return Wx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,((i,a)=>{const l=p0(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function oA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof ii||t instanceof pr||t instanceof Jt||t instanceof h0||t instanceof si)}function lA(t,e,n){if(!oA(n)||!Qx(n)){const i=gd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function rk(t,e,n){if((e=Tn(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return cA(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const ik=new RegExp("[~\\*/\\[\\]]");function cA(t,e,n){if(e.search(ik)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new _e(le.INVALID_ARGUMENT,f+t+m)}function sk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ak extends g0{data(){return super.data()}}function y0(t,e){return typeof e=="string"?cA(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class E0 extends v0{}function Cn(t,e,...n){let i=[];e instanceof v0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof _0)).length,f=l.filter((m=>m instanceof Pd)).length;if(u>1||u>0&&f>0)throw new _e(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Pd extends E0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Pd(e,n,i)}_apply(e){const n=this._parse(e);return hA(e._query,n),new ns(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=d0(e.firestore);return(function(l,u,f,m,g,v,_){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){nw(_,v);const C=[];for(const D of _)C.push(tw(m,l,D));b={arrayValue:{values:C}}}else b=tw(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||nw(_,v),b=sA(f,u,_,v==="in"||v==="not-in");return Wt.create(g,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(t,e,n){const i=e,a=y0("where",t);return Pd._create(a,i,n)}class _0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)hA(u,m),u=Ug(u,m)})(e._query,n),new ns(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b0 extends E0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new b0(e,n,i)}_apply(e){return new ns(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function Js(t){return b0._create("limit",t,"F")}class T0 extends E0{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new T0(e,n,i)}_apply(e){const n=ok(e,this.type,this._docOrFields,this._inclusive);return new ns(e.firestore,e.converter,(function(a,l){return new Cl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,n))}}function Md(...t){return T0._create("startAfter",t,!1)}function ok(t,e,n,i){if(n[0]=Tn(n[0]),n[0]instanceof g0)return(function(l,u,f,m,g){if(!m)throw new _e(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const _ of hl(l))if(_.field.isKeyField())v.push(Hf(u,m.key));else{const b=m.data.field(_.field);if(Ed(b))throw new _e(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const A=_.field.canonicalString();throw new _e(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(b)}return new vl(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,i);{const a=d0(t.firestore);return(function(u,f,m,g,v,_){const b=u.explicitOrderBy;if(v.length>b.length)throw new _e(le.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let C=0;C<v.length;C++){const D=v[C];if(b[C].field.isKeyField()){if(typeof D!="string")throw new _e(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof D}`);if(!zy(u)&&D.indexOf("/")!==-1)throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${D}' contains a slash.`);const O=u.path.child(bt.fromString(D));if(!Ce.isDocumentKey(O))throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const j=new Ce(O);A.push(Hf(f,j))}else{const O=sA(m,g,D);A.push(O)}}return new vl(A,_)})(t._query,t.firestore._databaseId,a,e,n,i)}}function tw(t,e,n){if(typeof(n=Tn(n))=="string"){if(n==="")throw new _e(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zy(e)&&n.indexOf("/")!==-1)throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(bt.fromString(n));if(!Ce.isDocumentKey(i))throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hf(t,new Ce(i))}if(n instanceof Jt)return Hf(t,n._key);throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function nw(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hA(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lk{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return so(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[qf].arrayValue?.values?.map((i=>zt(i.doubleValue)));return new si(n)}convertGeoPoint(e){return new ii(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_d(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=bt.fromString(e);ct(MS(i),9688,{name:e});const a=new ou(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends g0{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(y0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Zt("string",Ga._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Rf extends Ga{data(e={}){return super.data(e)}}class $a{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new qc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Rf(this._firestore,this._userDataWriter,i.key,i,new qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:uk(f.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){t=$i(t,Jt);const e=$i(t.firestore,bl);return KV(Od(e),t._key).then((n=>dA(e,t,n)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Zt("string",$a._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class w0 extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Du(t){t=$i(t,ns);const e=$i(t.firestore,bl),n=Od(e),i=new w0(e);return uA(t._query),YV(n,t._query).then((a=>new $a(e,i,t,a)))}function Yg(t,e){const n=$i(t.firestore,bl),i=u0(t),a=ck(t.converter,e);return fk(n,[nk(d0(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ki.exists(!1))]).then((()=>i))}function hk(t,...e){t=Tn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ew(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ew(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,u,f;if(t instanceof Jt)u=$i(t.firestore,bl),f=bd(t._key.path),l={next:m=>{e[i]&&e[i](dA(u,t,m))},error:e[i+1],complete:e[i+2]};else{const m=$i(t,ns);u=$i(m.firestore,bl),f=m._query;const g=new w0(u);l={next:v=>{e[i]&&e[i](new $a(u,g,m,v))},error:e[i+1],complete:e[i+2]},uA(t._query)}return(function(g,v,_,b){const A=new c0(b),C=new a0(v,A,_);return g.asyncQueue.enqueueAndForget((async()=>r0(await Zf(g),C))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>i0(await Zf(g),C)))}})(Od(u),f,a,l)}function fk(t,e){return(function(i,a){const l=new Gi;return i.asyncQueue.enqueueAndForget((async()=>VV(await $V(i),a,l))),l.promise})(Od(t),e)}function dA(t,e,n){const i=n.docs.get(e._key),a=new w0(t);return new Ga(t,a,e._key,i,new qc(n.hasPendingWrites,n.fromCache),e.converter)}function rw(){return new m0("serverTimestamp")}(function(e,n=!0){(function(a){Al=a})(ro),Xa(new $s("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new bl(new t4(i.getProvider("auth-internal")),new i4(u,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Jr(aT,oT,e),Jr(aT,oT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebasestorage.googleapis.com",dk="storageBucket",mk=120*1e3,pk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends fi{constructor(e,n,i=0){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function eg(t){return"storage/"+t}function gk(){const t="An unknown error occurred, please check the error payload for server response.";return new di(ci.UNKNOWN,t)}function yk(){return new di(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vk(){return new di(ci.CANCELED,"User canceled the upload/download.")}function Ek(t){return new di(ci.INVALID_URL,"Invalid URL '"+t+"'.")}function _k(t){return new di(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iw(t){return new di(ci.INVALID_ARGUMENT,t)}function pA(){return new di(ci.APP_DELETED,"The Firebase app was deleted.")}function bk(t){return new di(ci.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(i.path==="")return i;throw _k(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},D=n===mA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",j=new RegExp(`^https?://${D}/${a}/${O}`,"i"),G=[{regex:f,indices:m,postModify:l},{regex:A,indices:C,postModify:g},{regex:j,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<G.length;ce++){const H=G[ce],ee=H.regex.exec(e);if(ee){const P=ee[H.indices.bucket];let x=ee[H.indices.path];x||(x=""),i=new Cr(P,x),H.postModify(i);break}}if(i==null)throw Ek(e);return i}}class Tk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e,n){let i=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function v(...O){g||(g=!0,e.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,t(A,m())},O)}function b(){l&&clearTimeout(l)}function A(O,...j){if(g){b();return}if(O){b(),v.call(null,O,...j);return}if(m()||u){b(),v.call(null,O,...j);return}i<64&&(i*=2);let G;f===1?(f=2,G=0):G=(i+Math.random())*1e3,_(G)}let C=!1;function D(O){C||(C=!0,b(),!g&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function xk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return t!==void 0}function sw(t,e,n,i){if(i<e)throw iw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw iw(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ak(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var ed;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ed||(ed={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,i,a,l,u,f,m,g,v,_,b=!0,A=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===ed.NO_ERROR,m=l.getStatus();if(!f||Rk(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ed.ABORT;i(!1,new ff(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new ff(g,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());Sk(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=gk();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?pA():vk();u(m)}else{const m=yk();u(m)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=wk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Ck(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ik(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ok(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Dk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pk(t,e,n,i,a,l,u=!0,f=!1){const m=Ak(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return Ok(v,e),Ck(v,n),Ik(v,l),Dk(v,i),new Nk(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new td(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vk(this._location.path)}get storage(){return this._service}get parent(){const e=Mk(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new td(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bk(e)}}function aw(t,e){const n=e?.[dk];return n==null?null:Cr.makeFromBucketSpec(n,t)}function kk(t,e,n,i={}){t.host=`${e}:${n}`;const a=no(e);a&&(wy(`https://${t.host}/b`),xy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:ex(l,t.app.options.projectId))}class Lk{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=mA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mk,this._maxUploadRetryTime=pk,this._requests=new Set,a!=null?this._bucket=Cr.makeFromBucketSpec(a,this._host):this._bucket=aw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=aw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new td(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new Tk(pA());{const u=Pk(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const ow="@firebase/storage",lw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="storage";function Uk(t=Ry(),e){t=Tn(t);const i=fd(t,gA).getImmediate({identifier:e}),a=W1("storage");return a&&jk(i,...a),i}function jk(t,e,n,i={}){kk(t,e,n,i)}function Bk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Lk(n,i,a,e,ro)}function Fk(){Xa(new $s(gA,Bk,"PUBLIC").setMultipleInstances(!0)),Jr(ow,lw,""),Jr(ow,lw,"esm2020")}Fk();const zk={apiKey:"AIzaSyAGm3bzsCxYSARcgVn41ta_EOut9fauWr0",authDomain:"ecommerce-74229.firebaseapp.com",projectId:"ecommerce-74229",storageBucket:"ecommerce-74229.firebasestorage.app",messagingSenderId:"47160479095",appId:"1:47160479095:web:0dd3a844d5d5c3847ea572",measurementId:"G-47FYXTR59Z"},x0=rx(zk),Or=XV(x0);Uk(x0);const S0=QP(x0),qk="modulepreload",Hk=function(t){return"/Ecommerce/"+t},cw={},rs=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=m(n.map(g=>{if(g=Hk(g),g in cw)return;cw[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":qk,v||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),v)return new Promise((A,C)=>{b.addEventListener("load",A),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var tg={exports:{}},uw;function Gk(){return uw||(uw=1,(()=>{var t={296:(a,l,u)=>{var f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt,b=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,A=typeof self=="object"&&self&&self.Object===Object&&self,C=b||A||Function("return this")(),D=Object.prototype.toString,O=Math.max,j=Math.min,U=function(){return C.Date.now()};function G(H){var ee=typeof H;return!!H&&(ee=="object"||ee=="function")}function ce(H){if(typeof H=="number")return H;if((function(x){return typeof x=="symbol"||(function(N){return!!N&&typeof N=="object"})(x)&&D.call(x)=="[object Symbol]"})(H))return NaN;if(G(H)){var ee=typeof H.valueOf=="function"?H.valueOf():H;H=G(ee)?ee+"":ee}if(typeof H!="string")return H===0?H:+H;H=H.replace(f,"");var P=g.test(H);return P||v.test(H)?_(H.slice(2),P?2:8):m.test(H)?NaN:+H}a.exports=function(H,ee,P){var x,N,V,B,F,M,Fe=0,Se=!1,W=!1,se=!0;if(typeof H!="function")throw new TypeError("Expected a function");function ge(te){var ve=x,Re=N;return x=N=void 0,Fe=te,B=H.apply(Re,ve)}function Oe(te){var ve=te-M;return M===void 0||ve>=ee||ve<0||W&&te-Fe>=V}function k(){var te=U();if(Oe(te))return q(te);F=setTimeout(k,(function(ve){var Re=ee-(ve-M);return W?j(Re,V-(ve-Fe)):Re})(te))}function q(te){return F=void 0,se&&x?ge(te):(x=N=void 0,B)}function ie(){var te=U(),ve=Oe(te);if(x=arguments,N=this,M=te,ve){if(F===void 0)return(function(Re){return Fe=Re,F=setTimeout(k,ee),Se?ge(Re):B})(M);if(W)return F=setTimeout(k,ee),ge(M)}return F===void 0&&(F=setTimeout(k,ee)),B}return ee=ce(ee)||0,G(P)&&(Se=!!P.leading,V=(W="maxWait"in P)?O(ce(P.maxWait)||0,ee):V,se="trailing"in P?!!P.trailing:se),ie.cancel=function(){F!==void 0&&clearTimeout(F),Fe=0,x=M=N=F=void 0},ie.flush=function(){return F===void 0?B:q(U())},ie}},96:(a,l,u)=>{var f="Expected a function",m=NaN,g="[object Symbol]",v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,A=/^0o[0-7]+$/i,C=parseInt,D=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,O=typeof self=="object"&&self&&self.Object===Object&&self,j=D||O||Function("return this")(),U=Object.prototype.toString,G=Math.max,ce=Math.min,H=function(){return j.Date.now()};function ee(x){var N=typeof x;return!!x&&(N=="object"||N=="function")}function P(x){if(typeof x=="number")return x;if((function(B){return typeof B=="symbol"||(function(F){return!!F&&typeof F=="object"})(B)&&U.call(B)==g})(x))return m;if(ee(x)){var N=typeof x.valueOf=="function"?x.valueOf():x;x=ee(N)?N+"":N}if(typeof x!="string")return x===0?x:+x;x=x.replace(v,"");var V=b.test(x);return V||A.test(x)?C(x.slice(2),V?2:8):_.test(x)?m:+x}a.exports=function(x,N,V){var B=!0,F=!0;if(typeof x!="function")throw new TypeError(f);return ee(V)&&(B="leading"in V?!!V.leading:B,F="trailing"in V?!!V.trailing:F),(function(M,Fe,Se){var W,se,ge,Oe,k,q,ie=0,te=!1,ve=!1,Re=!0;if(typeof M!="function")throw new TypeError(f);function Ee(vt){var Ht=W,Pt=se;return W=se=void 0,ie=vt,Oe=M.apply(Pt,Ht)}function at(vt){var Ht=vt-q;return q===void 0||Ht>=Fe||Ht<0||ve&&vt-ie>=ge}function He(){var vt=H();if(at(vt))return xt(vt);k=setTimeout(He,(function(Ht){var Pt=Fe-(Ht-q);return ve?ce(Pt,ge-(Ht-ie)):Pt})(vt))}function xt(vt){return k=void 0,Re&&W?Ee(vt):(W=se=void 0,Oe)}function Nt(){var vt=H(),Ht=at(vt);if(W=arguments,se=this,q=vt,Ht){if(k===void 0)return(function(Pt){return ie=Pt,k=setTimeout(He,Fe),te?Ee(Pt):Oe})(q);if(ve)return k=setTimeout(He,Fe),Ee(q)}return k===void 0&&(k=setTimeout(He,Fe)),Oe}return Fe=P(Fe)||0,ee(Se)&&(te=!!Se.leading,ge=(ve="maxWait"in Se)?G(P(Se.maxWait)||0,Fe):ge,Re="trailing"in Se?!!Se.trailing:Re),Nt.cancel=function(){k!==void 0&&clearTimeout(k),ie=0,W=q=se=k=void 0},Nt.flush=function(){return k===void 0?Oe:xt(H())},Nt})(x,N,{leading:B,maxWait:N,trailing:F})}},703:(a,l,u)=>{var f=u(414);function m(){}function g(){}g.resetWarningCache=m,a.exports=function(){function v(A,C,D,O,j,U){if(U!==f){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}}function _(){return v}v.isRequired=v;var b={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:_,element:v,elementType:v,instanceOf:_,node:v,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:g,resetWarningCache:m};return b.PropTypes=b,b}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(a){var l=e[a];if(l!==void 0)return l.exports;var u=e[a]={exports:{}};return t[a](u,u.exports,n),u.exports}n.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return n.d(l,{a:l}),l},n.d=(a,l)=>{for(var u in l)n.o(l,u)&&!n.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{LazyLoadComponent:()=>Ht,LazyLoadImage:()=>ca,trackWindowScroll:()=>Oe});const a=ld();var l=n.n(a),u=n(697);function f(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(pe){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},m(pe)}function g(pe,K){var oe=Object.keys(pe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(pe);K&&(me=me.filter((function(Ie){return Object.getOwnPropertyDescriptor(pe,Ie).enumerable}))),oe.push.apply(oe,me)}return oe}function v(pe,K,oe){return(K=b(K))in pe?Object.defineProperty(pe,K,{value:oe,enumerable:!0,configurable:!0,writable:!0}):pe[K]=oe,pe}function _(pe,K){for(var oe=0;oe<K.length;oe++){var me=K[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,b(me.key),me)}}function b(pe){var K=(function(oe,me){if(m(oe)!=="object"||oe===null)return oe;var Ie=oe[Symbol.toPrimitive];if(Ie!==void 0){var ze=Ie.call(oe,"string");if(m(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)})(pe);return m(K)==="symbol"?K:String(K)}function A(pe,K){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,me){return oe.__proto__=me,oe},A(pe,K)}function C(pe){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},C(pe)}var D=function(pe){pe.forEach((function(K){K.isIntersecting&&K.target.onVisible()}))},O={},j=(function(pe){(function(re,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ue&&ue.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),ue&&A(re,ue)})(nt,pe);var K,oe,me,Ie,ze=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var re,ue=C(me);if(Ie){var we=C(this).constructor;re=Reflect.construct(ue,arguments,we)}else re=ue.apply(this,arguments);return(function(be,Te){if(Te&&(m(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,re)});function nt(re){var ue;if((function(be,Te){if(!(be instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,nt),(ue=ze.call(this,re)).supportsObserver=!re.scrollPosition&&re.useIntersectionObserver&&f(),ue.supportsObserver){var we=re.threshold;ue.observer=(function(be){return O[be]=O[be]||new IntersectionObserver(D,{rootMargin:be+"px"}),O[be]})(we)}return ue}return K=nt,oe=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ue=this.placeholder.getBoundingClientRect(),we=this.placeholder.style,be=parseInt(we.getPropertyValue("margin-left"),10)||0,Te=parseInt(we.getPropertyValue("margin-top"),10)||0;return{bottom:re.y+ue.bottom+Te,left:re.x+ue.left+be,right:re.x+ue.right+be,top:re.y+ue.top+Te}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var re=this.props,ue=re.scrollPosition,we=re.threshold,be=this.getPlaceholderBoundingBox(ue),Te=ue.y+window.innerHeight,Ue=ue.x,ut=ue.x+window.innerWidth,ht=ue.y;return ht-we<=be.bottom&&Te+we>=be.top&&Ue-we<=be.right&&ut+we>=be.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var re=this,ue=this.props,we=ue.className,be=ue.height,Te=ue.placeholder,Ue=ue.style,ut=ue.width;if(Te&&typeof Te.type!="function")return l().cloneElement(Te,{ref:function(it){return re.placeholder=it}});var ht=(function(it){for(var Et=1;Et<arguments.length;Et++){var ot=arguments[Et]!=null?arguments[Et]:{};Et%2?g(Object(ot),!0).forEach((function(Mt){v(it,Mt,ot[Mt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ot)):g(Object(ot)).forEach((function(Mt){Object.defineProperty(it,Mt,Object.getOwnPropertyDescriptor(ot,Mt))}))}return it})({display:"inline-block"},Ue);return ut!==void 0&&(ht.width=ut),be!==void 0&&(ht.height=be),l().createElement("span",{className:we,ref:function(it){return re.placeholder=it},style:ht},Te)}}],oe&&_(K.prototype,oe),Object.defineProperty(K,"prototype",{writable:!1}),nt})(l().Component);j.propTypes={onVisible:u.PropTypes.func.isRequired,className:u.PropTypes.string,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),placeholder:u.PropTypes.element,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,scrollPosition:u.PropTypes.shape({x:u.PropTypes.number.isRequired,y:u.PropTypes.number.isRequired}),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string])},j.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const U=j;var G=n(296),ce=n.n(G),H=n(96),ee=n.n(H),P=function(pe){var K=getComputedStyle(pe,null);return K.getPropertyValue("overflow")+K.getPropertyValue("overflow-y")+K.getPropertyValue("overflow-x")};const x=function(pe){if(!(pe instanceof HTMLElement))return window;for(var K=pe;K&&K instanceof HTMLElement;){if(/(scroll|auto)/.test(P(K)))return K;K=K.parentNode}return window};function N(pe){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},N(pe)}var V=["delayMethod","delayTime"];function B(){return B=Object.assign?Object.assign.bind():function(pe){for(var K=1;K<arguments.length;K++){var oe=arguments[K];for(var me in oe)Object.prototype.hasOwnProperty.call(oe,me)&&(pe[me]=oe[me])}return pe},B.apply(this,arguments)}function F(pe,K){for(var oe=0;oe<K.length;oe++){var me=K[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(ze,nt){if(N(ze)!=="object"||ze===null)return ze;var re=ze[Symbol.toPrimitive];if(re!==void 0){var ue=re.call(ze,"string");if(N(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)})(me.key),N(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function M(pe,K){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,me){return oe.__proto__=me,oe},M(pe,K)}function Fe(pe,K){if(K&&(N(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(pe)}function Se(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function W(pe){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},W(pe)}var se=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ge=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Oe=function(pe){var K=(function(oe){(function(we,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(be&&be.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),be&&M(we,be)})(ue,oe);var me,Ie,ze,nt,re=(ze=ue,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var we,be=W(ze);if(nt){var Te=W(this).constructor;we=Reflect.construct(be,arguments,Te)}else we=be.apply(this,arguments);return Fe(this,we)});function ue(we){var be;if((function(Ue,ut){if(!(Ue instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,ue),(be=re.call(this,we)).useIntersectionObserver=we.useIntersectionObserver&&f(),be.useIntersectionObserver)return Fe(be);var Te=be.onChangeScroll.bind(Se(be));return we.delayMethod==="debounce"?be.delayedScroll=ce()(Te,we.delayTime):we.delayMethod==="throttle"&&(be.delayedScroll=ee()(Te,we.delayTime)),be.state={scrollPosition:{x:se(),y:ge()}},be.baseComponentRef=l().createRef(),be}return me=ue,(Ie=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||x(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=x(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:se(),y:ge()}})}},{key:"render",value:function(){var we=this.props,be=(we.delayMethod,we.delayTime,(function(Ue,ut){if(Ue==null)return{};var ht,it,Et=(function(Mt,dn){if(Mt==null)return{};var qn,Hn,gi={},_r=Object.keys(Mt);for(Hn=0;Hn<_r.length;Hn++)qn=_r[Hn],dn.indexOf(qn)>=0||(gi[qn]=Mt[qn]);return gi})(Ue,ut);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(Ue);for(it=0;it<ot.length;it++)ht=ot[it],ut.indexOf(ht)>=0||Object.prototype.propertyIsEnumerable.call(Ue,ht)&&(Et[ht]=Ue[ht])}return Et})(we,V)),Te=this.useIntersectionObserver?null:this.state.scrollPosition;return l().createElement(pe,B({forwardRef:this.baseComponentRef,scrollPosition:Te},be))}}])&&F(me.prototype,Ie),Object.defineProperty(me,"prototype",{writable:!1}),ue})(l().Component);return K.propTypes={delayMethod:u.PropTypes.oneOf(["debounce","throttle"]),delayTime:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool},K.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},K};function k(pe){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},k(pe)}function q(pe,K){for(var oe=0;oe<K.length;oe++){var me=K[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(ze,nt){if(k(ze)!=="object"||ze===null)return ze;var re=ze[Symbol.toPrimitive];if(re!==void 0){var ue=re.call(ze,"string");if(k(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)})(me.key),k(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function ie(pe,K){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,me){return oe.__proto__=me,oe},ie(pe,K)}function te(pe){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},te(pe)}var ve=(function(pe){(function(re,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ue&&ue.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),ue&&ie(re,ue)})(nt,pe);var K,oe,me,Ie,ze=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var re,ue=te(me);if(Ie){var we=te(this).constructor;re=Reflect.construct(ue,arguments,we)}else re=ue.apply(this,arguments);return(function(be,Te){if(Te&&(k(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,re)});function nt(re){return(function(ue,we){if(!(ue instanceof we))throw new TypeError("Cannot call a class as a function")})(this,nt),ze.call(this,re)}return K=nt,(oe=[{key:"render",value:function(){return l().createElement(U,this.props)}}])&&q(K.prototype,oe),Object.defineProperty(K,"prototype",{writable:!1}),nt})(l().Component);const Re=Oe(ve);function Ee(pe){return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},Ee(pe)}function at(pe,K){for(var oe=0;oe<K.length;oe++){var me=K[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(ze,nt){if(Ee(ze)!=="object"||ze===null)return ze;var re=ze[Symbol.toPrimitive];if(re!==void 0){var ue=re.call(ze,"string");if(Ee(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ze)})(me.key),Ee(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function He(pe,K){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,me){return oe.__proto__=me,oe},He(pe,K)}function xt(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function Nt(pe){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Nt(pe)}var vt=(function(pe){(function(re,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ue&&ue.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),ue&&He(re,ue)})(nt,pe);var K,oe,me,Ie,ze=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var re,ue=Nt(me);if(Ie){var we=Nt(this).constructor;re=Reflect.construct(ue,arguments,we)}else re=ue.apply(this,arguments);return(function(be,Te){if(Te&&(Ee(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(be)})(this,re)});function nt(re){var ue;(function(ut,ht){if(!(ut instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,nt),ue=ze.call(this,re);var we=re.afterLoad,be=re.beforeLoad,Te=re.scrollPosition,Ue=re.visibleByDefault;return ue.state={visible:Ue},Ue&&(be(),we()),ue.onVisible=ue.onVisible.bind(xt(ue)),ue.isScrollTracked=!!(Te&&Number.isFinite(Te.x)&&Te.x>=0&&Number.isFinite(Te.y)&&Te.y>=0),ue}return K=nt,(oe=[{key:"componentDidUpdate",value:function(re,ue){ue.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var re=this.props,ue=re.className,we=re.delayMethod,be=re.delayTime,Te=re.height,Ue=re.placeholder,ut=re.scrollPosition,ht=re.style,it=re.threshold,Et=re.useIntersectionObserver,ot=re.width;return this.isScrollTracked||Et&&f()?l().createElement(U,{className:ue,height:Te,onVisible:this.onVisible,placeholder:Ue,scrollPosition:ut,style:ht,threshold:it,useIntersectionObserver:Et,width:ot}):l().createElement(Re,{className:ue,delayMethod:we,delayTime:be,height:Te,onVisible:this.onVisible,placeholder:Ue,style:ht,threshold:it,width:ot})}}])&&at(K.prototype,oe),Object.defineProperty(K,"prototype",{writable:!1}),nt})(l().Component);vt.propTypes={afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool},vt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ht=vt;function Pt(pe){return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},Pt(pe)}var mi=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function is(pe,K){var oe=Object.keys(pe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(pe);K&&(me=me.filter((function(Ie){return Object.getOwnPropertyDescriptor(pe,Ie).enumerable}))),oe.push.apply(oe,me)}return oe}function oa(pe){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?is(Object(oe),!0).forEach((function(me){Ln(pe,me,oe[me])})):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(oe)):is(Object(oe)).forEach((function(me){Object.defineProperty(pe,me,Object.getOwnPropertyDescriptor(oe,me))}))}return pe}function Ln(pe,K,oe){return(K=pi(K))in pe?Object.defineProperty(pe,K,{value:oe,enumerable:!0,configurable:!0,writable:!0}):pe[K]=oe,pe}function ss(){return ss=Object.assign?Object.assign.bind():function(pe){for(var K=1;K<arguments.length;K++){var oe=arguments[K];for(var me in oe)Object.prototype.hasOwnProperty.call(oe,me)&&(pe[me]=oe[me])}return pe},ss.apply(this,arguments)}function la(pe,K){for(var oe=0;oe<K.length;oe++){var me=K[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,pi(me.key),me)}}function pi(pe){var K=(function(oe,me){if(Pt(oe)!=="object"||oe===null)return oe;var Ie=oe[Symbol.toPrimitive];if(Ie!==void 0){var ze=Ie.call(oe,"string");if(Pt(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)})(pe);return Pt(K)==="symbol"?K:String(K)}function Er(pe,K){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,me){return oe.__proto__=me,oe},Er(pe,K)}function as(pe){return as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},as(pe)}var kr=(function(pe){(function(re,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ue&&ue.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),ue&&Er(re,ue)})(nt,pe);var K,oe,me,Ie,ze=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var re,ue=as(me);if(Ie){var we=as(this).constructor;re=Reflect.construct(ue,arguments,we)}else re=ue.apply(this,arguments);return(function(be,Te){if(Te&&(Pt(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,re)});function nt(re){var ue;return(function(we,be){if(!(we instanceof be))throw new TypeError("Cannot call a class as a function")})(this,nt),(ue=ze.call(this,re)).state={loaded:!1},ue}return K=nt,(oe=[{key:"onImageLoad",value:function(){var re=this;return this.state.loaded?null:function(ue){re.props.onLoad(ue),re.props.afterLoad(),re.setState({loaded:!0})}}},{key:"getImg",value:function(){var re=this.props,ue=(re.afterLoad,re.beforeLoad,re.delayMethod,re.delayTime,re.effect,re.placeholder,re.placeholderSrc,re.scrollPosition,re.threshold,re.useIntersectionObserver,re.visibleByDefault,re.wrapperClassName,re.wrapperProps,(function(we,be){if(we==null)return{};var Te,Ue,ut=(function(it,Et){if(it==null)return{};var ot,Mt,dn={},qn=Object.keys(it);for(Mt=0;Mt<qn.length;Mt++)ot=qn[Mt],Et.indexOf(ot)>=0||(dn[ot]=it[ot]);return dn})(we,be);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(we);for(Ue=0;Ue<ht.length;Ue++)Te=ht[Ue],be.indexOf(Te)>=0||Object.prototype.propertyIsEnumerable.call(we,Te)&&(ut[Te]=we[Te])}return ut})(re,mi));return l().createElement("img",ss({},ue,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var re=this.props,ue=re.beforeLoad,we=re.className,be=re.delayMethod,Te=re.delayTime,Ue=re.height,ut=re.placeholder,ht=re.scrollPosition,it=re.style,Et=re.threshold,ot=re.useIntersectionObserver,Mt=re.visibleByDefault,dn=re.width;return l().createElement(Ht,{beforeLoad:ue,className:we,delayMethod:be,delayTime:Te,height:Ue,placeholder:ut,scrollPosition:ht,style:it,threshold:Et,useIntersectionObserver:ot,visibleByDefault:Mt,width:dn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(re){var ue=this.props,we=ue.effect,be=ue.height,Te=ue.placeholderSrc,Ue=ue.width,ut=ue.wrapperClassName,ht=ue.wrapperProps,it=this.state.loaded,Et=it?" lazy-load-image-loaded":"",ot=it||!Te?{}:{backgroundImage:"url(".concat(Te,")"),backgroundSize:"100% 100%"};return l().createElement("span",ss({className:ut+" lazy-load-image-background "+we+Et,style:oa(oa({},ot),{},{color:"transparent",display:"inline-block",height:be,width:Ue})},ht),re)}},{key:"render",value:function(){var re=this.props,ue=re.effect,we=re.placeholderSrc,be=re.visibleByDefault,Te=re.wrapperClassName,Ue=re.wrapperProps,ut=this.getLazyLoadImage();return(ue||we)&&!be||Te||Ue?this.getWrappedLazyLoadImage(ut):ut}}])&&la(K.prototype,oe),Object.defineProperty(K,"prototype",{writable:!1}),nt})(l().Component);kr.propTypes={onLoad:u.PropTypes.func,afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,delayMethod:u.PropTypes.string,delayTime:u.PropTypes.number,effect:u.PropTypes.string,placeholderSrc:u.PropTypes.string,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool,wrapperClassName:u.PropTypes.string,wrapperProps:u.PropTypes.object},kr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ca=kr})(),tg.exports=i})()),tg.exports}var yA=Gk();const $k="/Ecommerce/assets/women-Dfw609QD.jpg",Kk="/Ecommerce/assets/man-BNem_KT8.jpg",Yk="/Ecommerce/assets/kid-aD3lXmzM.jpg",Qk=I.lazy(()=>rs(()=>import("./HeroSlider-Cp_Hi4dv.js"),__vite__mapDeps([0,1,2]))),Xk=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.ShoppingCart}))),A0=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.WifiOff}))),Wk=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Heart}))),Zk=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Search}))),Jk=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Expand}))),e3=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.X}))),t3=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Grid}))),n3=I.lazy(()=>rs(()=>import("./lucide-react-BAIiiXgP.js"),__vite__mapDeps([3,1])).then(t=>({default:t.List})));class r3 extends p.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?p.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},p.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},p.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},p.createElement(A0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),p.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),p.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const i3=(t,e)=>{let n;return function(...a){const l=()=>{clearTimeout(n),t(...a)};clearTimeout(n),n=setTimeout(l,e)}},s3={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function a3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const o3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},l3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},ng=p.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const[a,l]=I.useState(!1),[u,f]=I.useState(!1),m=parseFloat(t.price),g=parseFloat(t.newPrice),v=t.images&&t.images.length>0?t.images[0]:null;return p.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},v?p.createElement(yA.LazyLoadImage,{src:v,alt:t.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>l(!0),onError:()=>f(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):p.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},p.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},p.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),!a&&!u&&v&&p.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},p.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),u&&p.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},p.createElement(A0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),p.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},p.createElement(Wk,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),p.createElement(Vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},p.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},p.createElement(Jk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),m>g&&p.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((m-g)/m*100),"% OFF")),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),p.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},m>g&&p.createElement("span",{className:"line-through text-xs text-gray-500"},"$",m.toFixed(2)),p.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",g.toFixed(2))),p.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},p.createElement(Xk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),c3=()=>p.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},p.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),p.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},p.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),p.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),u3=p.memo(({searchQuery:t,setSearchQuery:e,filteredCount:n})=>{const i=I.useCallback(i3(a=>e(a),300),[e]);return p.createElement("div",{className:"w-full mb-10 mx-auto px-4"},p.createElement("div",{className:"max-w-2xl mx-auto"},p.createElement("div",{className:"relative"},p.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},p.createElement(Zk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),p.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:t,onChange:a=>i(a.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),t&&p.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},p.createElement(e3,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),t.trim()!==""&&p.createElement("div",{className:"mt-2 text-center"},p.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",p.createElement("span",{className:"font-semibold text-red-700"},'"',t,'"')),p.createElement("p",{className:"text-gray-600 text-xs"},"Found ",p.createElement("span",{className:"font-bold"},n)," result",n!==1?"s":""))))}),h3=p.memo(()=>{const t=[{name:"men",img:Kk},{name:"women",img:$k},{name:"kids",img:Yk}];return p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},p.createElement("div",{className:"text-center mb-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),p.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),p.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},t.map(e=>p.createElement("div",{key:e.name,className:"flex flex-col items-center group"},p.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},p.createElement(yA.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),p.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),p.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),rg=p.memo(({title:t,count:e})=>p.createElement("div",{className:"flex items-center justify-between mb-4"},p.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),p.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),f3=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const[i,a]=I.useReducer(a3,s3),{products:l,loading:u,searchQuery:f,favoriteState:m,lastVisible:g,hasMore:v,page:_,viewMode:b}=i,A=12,C=I.useRef(m);I.useEffect(()=>{C.current=m},[m]),I.useEffect(()=>{const ee=o3();a({type:"SET_FAVORITE_STATE",payload:ee})},[]);const D=I.useCallback(async(ee=1,P=f)=>{ee===1&&(a({type:"SET_LOADING",payload:!0}),a({type:"RESET_PAGINATION"}));try{let x=Yi(Or,"products");P.trim()!==""&&(x=Cn(x,Ir("name",">=",P),Ir("name","<=",P+""))),ee>1&&g?x=Cn(x,Md(g),Js(A)):x=Cn(x,Js(A));const N=await Du(x),V=N.docs.map(B=>({id:B.id,...B.data()}));a(ee===1?{type:"SET_PRODUCTS",payload:V}:{type:"SET_PRODUCTS",payload:[...l,...V]}),a({type:"SET_LAST_VISIBLE",payload:N.docs[N.docs.length-1]}),a({type:"SET_HAS_MORE",payload:N.docs.length===A}),a({type:"SET_PAGE",payload:ee})}catch(x){console.error("Error fetching products:",x)}finally{a({type:"SET_LOADING",payload:!1})}},[f,g,l,A]);I.useEffect(()=>{D()},[]),I.useEffect(()=>{f!==i.searchQuery&&D(1,f)},[f]);const O=I.useCallback(()=>{!u&&v&&D(_+1)},[u,v,_,D]),j=I.useCallback(ee=>{const P=Array.isArray(C.current)?[...C.current]:typeof C.current=="object"&&C.current!==null?Object.values(C.current):[],x=P.includes(ee);let N;if(x?N=P.filter(V=>V!==ee):N=[...P,ee],l3(N),a({type:"SET_FAVORITE_STATE",payload:N}),e){const V=l.find(B=>B.id===ee);V&&e(V)}},[e,l]),U=Array.isArray(m)?m:typeof m=="object"&&m!==null?Object.values(m):[],G=l.filter(ee=>ee.category==="men"),ce=l.filter(ee=>ee.category==="women"),H=l.filter(ee=>ee.category==="kids");return u&&l.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),p.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),p.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((ee,P)=>p.createElement(c3,{key:P}))))):l.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},p.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},p.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},p.createElement(A0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),p.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),p.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):p.createElement(r3,null,p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement(I.Suspense,{fallback:p.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},p.createElement(Qk,null)),p.createElement(h3,null),p.createElement(u3,{searchQuery:f,setSearchQuery:ee=>a({type:"SET_SEARCH_QUERY",payload:ee}),filteredCount:l.length}),p.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},p.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},p.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${b==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},p.createElement(t3,{className:"w-4 h-4 sm:w-5 sm:h-5"})),p.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${b==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},p.createElement(n3,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),G.length>0&&p.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},p.createElement(rg,{title:"Men's Collection",count:G.length}),p.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},G.map(ee=>p.createElement(ng,{key:ee.id,product:ee,onAddToCart:t,onAddToFavorites:j,isFav:U.includes(ee.id)})))),ce.length>0&&p.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},p.createElement(rg,{title:"Women's Collection",count:ce.length}),p.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ce.map(ee=>p.createElement(ng,{key:ee.id,product:ee,onAddToCart:t,onAddToFavorites:j,isFav:U.includes(ee.id)})))),H.length>0&&p.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},p.createElement(rg,{title:"Kids' Collection",count:H.length}),p.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},H.map(ee=>p.createElement(ng,{key:ee.id,product:ee,onAddToCart:t,onAddToFavorites:j,isFav:U.includes(ee.id)})))),v&&p.createElement("div",{className:"flex justify-center my-8"},p.createElement("button",{onClick:O,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},d3=p.memo(f3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),hw=t=>{const e=p3(t);return e.charAt(0).toUpperCase()+e.slice(1)},vA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),g3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},m)=>I.createElement("svg",{ref:m,...y3,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:vA("lucide",a),...!l&&!g3(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const n=I.forwardRef(({className:i,...a},l)=>I.createElement(v3,{ref:l,iconNode:e,className:vA(`lucide-${m3(hw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=hw(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fw=qt("arrow-left",E3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b3=qt("calendar",_3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qg=qt("circle-alert",T3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nd=qt("circle-check-big",w3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],R0=qt("expand",x3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EA=qt("heart-off",S3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ea=qt("heart",A3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dw=qt("house",R3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],C3=qt("list",N3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],O3=qt("mail",I3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mw=qt("map-pin",D3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M5 12h14",key:"1ays0h"}]],_A=qt("minus",P3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],V3=qt("package",M3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],L3=qt("phone",k3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bA=qt("plus",U3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vr=qt("shopping-cart",j3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],TA=qt("trash-2",B3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],z3=qt("truck",F3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H3=qt("user",q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wA=qt("wifi-off",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=qt("x",$3),K3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function Y3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const Q3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},X3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},W3=p.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return p.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?p.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):p.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},p.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},p.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},p.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),p.createElement(Vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},p.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},p.createElement(R0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&p.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),p.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},a>l&&p.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),p.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),p.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},p.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),Z3=()=>p.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},p.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),p.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},p.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),p.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),J3=p.memo(({title:t,count:e})=>p.createElement("div",{className:"flex items-center justify-between mb-4"},p.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),p.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),e5=({onAddToCart:t,searchQuery:e})=>{const[n,i]=I.useReducer(Y3,K3),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:g}=n,v=12;I.useEffect(()=>{const D=Q3();i({type:"SET_FAVORITE_STATE",payload:D})},[]);const _=I.useCallback(async(D=1)=>{D===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let O=Yi(Or,"products");O=Cn(O,Ir("category","==","men")),e&&e.trim()!==""&&(O=Cn(O,Ir("name",">=",e),Ir("name","<=",e+""))),D>1&&f?O=Cn(O,Md(f),Js(v)):O=Cn(O,Js(v));const j=await Du(O),U=j.docs.map(G=>({id:G.id,...G.data()}));i(D===1?{type:"SET_PRODUCTS",payload:U}:{type:"SET_PRODUCTS",payload:[...a,...U]}),i({type:"SET_LAST_VISIBLE",payload:j.docs[j.docs.length-1]}),i({type:"SET_HAS_MORE",payload:j.docs.length===v}),i({type:"SET_PAGE",payload:D})}catch(O){console.error("Error fetching men products:",O)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);I.useEffect(()=>{_()},[]),I.useEffect(()=>{e&&_(1)},[e]);const b=I.useCallback(D=>{const O=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],j=O.includes(D);let U;j?U=O.filter(G=>G!==D):U=[...O,D],X3(U),i({type:"SET_FAVORITE_STATE",payload:U})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=I.useCallback(()=>{!l&&m&&_(g+1)},[l,m,g,_]);return l&&a.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),p.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),p.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((D,O)=>p.createElement(Z3,{key:O}))))):a.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},p.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},p.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},p.createElement(wA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),p.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),p.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"mb-8"},p.createElement(J3,{title:"Men's Collection",count:a.length}),p.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),p.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(D=>p.createElement(W3,{key:D.id,product:D,onAddToCart:t,onAddToFavorites:b,isFav:A.includes(D.id)}))),m&&p.createElement("div",{className:"flex justify-center my-8"},p.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),p.createElement("div",{className:"mt-12 text-center"},p.createElement(Vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},t5={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function n5(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const r5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},i5=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},s5=p.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return p.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?p.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):p.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},p.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},p.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},p.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),p.createElement(Vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},p.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},p.createElement(R0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&p.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),p.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},a>l&&p.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),p.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),p.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},p.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),a5=()=>p.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},p.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),p.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},p.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),p.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),o5=p.memo(({title:t,count:e})=>p.createElement("div",{className:"flex items-center justify-between mb-4"},p.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),p.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),l5=({onAddToCart:t,searchQuery:e})=>{const[n,i]=I.useReducer(n5,t5),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:g}=n,v=12;I.useEffect(()=>{const D=r5();i({type:"SET_FAVORITE_STATE",payload:D})},[]);const _=I.useCallback(async(D=1)=>{D===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let O=Yi(Or,"products");O=Cn(O,Ir("category","==","women")),e&&e.trim()!==""&&(O=Cn(O,Ir("name",">=",e),Ir("name","<=",e+""))),D>1&&f?O=Cn(O,Md(f),Js(v)):O=Cn(O,Js(v));const j=await Du(O),U=j.docs.map(G=>({id:G.id,...G.data()}));i(D===1?{type:"SET_PRODUCTS",payload:U}:{type:"SET_PRODUCTS",payload:[...a,...U]}),i({type:"SET_LAST_VISIBLE",payload:j.docs[j.docs.length-1]}),i({type:"SET_HAS_MORE",payload:j.docs.length===v}),i({type:"SET_PAGE",payload:D})}catch(O){console.error("Error fetching women products:",O)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);I.useEffect(()=>{_()},[]),I.useEffect(()=>{e&&_(1)},[e]);const b=I.useCallback(D=>{const O=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],j=O.includes(D);let U;j?U=O.filter(G=>G!==D):U=[...O,D],i5(U),i({type:"SET_FAVORITE_STATE",payload:U})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=I.useCallback(()=>{!l&&m&&_(g+1)},[l,m,g,_]);return l&&a.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),p.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),p.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((D,O)=>p.createElement(a5,{key:O}))))):a.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},p.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},p.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},p.createElement(wA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),p.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),p.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"mb-8"},p.createElement(o5,{title:"Women's Collection",count:a.length}),p.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),p.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(D=>p.createElement(s5,{key:D.id,product:D,onAddToCart:t,onAddToFavorites:b,isFav:A.includes(D.id)}))),m&&p.createElement("div",{className:"flex justify-center my-8"},p.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),p.createElement("div",{className:"mt-12 text-center"},p.createElement(Vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},c5={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function u5(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const h5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},f5=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},d5=p.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newPrice||t.newprice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return p.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?p.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):p.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},p.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},p.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},p.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),p.createElement(Vr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},p.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},p.createElement(R0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&p.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),p.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},a>l&&p.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),p.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),p.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},p.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),m5=()=>p.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},p.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},p.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),p.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),p.createElement("div",{className:"p-2 flex flex-col flex-grow"},p.createElement("div",{className:"flex justify-between items-start mb-1"},p.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),p.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),p.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),p.createElement("div",{className:"flex items-center justify-between mt-auto"},p.createElement("div",{className:"flex items-center space-x-1"},p.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),p.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),p.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),p5=p.memo(({title:t,count:e})=>p.createElement("div",{className:"flex items-center justify-between mb-4"},p.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),p.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),g5=({onAddToCart:t})=>{const[e,n]=I.useReducer(u5,c5),{products:i,loading:a,favoriteState:l,lastVisible:u,hasMore:f,page:m}=e,g=12;I.useEffect(()=>{const C=h5();n({type:"SET_FAVORITE_STATE",payload:C})},[]);const v=I.useCallback(async(C=1)=>{C===1&&(n({type:"SET_LOADING",payload:!0}),n({type:"RESET_PAGINATION"}));try{let D=Yi(Or,"products");D=Cn(D,Ir("category","==","kids")),C>1&&u?D=Cn(D,Md(u),Js(g)):D=Cn(D,Js(g));const O=await Du(D),j=O.docs.map(U=>({id:U.id,...U.data()}));n(C===1?{type:"SET_PRODUCTS",payload:j}:{type:"SET_PRODUCTS",payload:[...i,...j]}),n({type:"SET_LAST_VISIBLE",payload:O.docs[O.docs.length-1]}),n({type:"SET_HAS_MORE",payload:O.docs.length===g}),n({type:"SET_PAGE",payload:C})}catch(D){console.error("Error fetching kids products:",D)}finally{n({type:"SET_LOADING",payload:!1})}},[u,i,g]);I.useEffect(()=>{v()},[]);const _=I.useCallback(C=>{const D=Array.isArray(l)?[...l]:typeof l=="object"&&l!==null?Object.values(l):[],O=D.includes(C);let j;O?j=D.filter(U=>U!==C):j=[...D,C],f5(j),n({type:"SET_FAVORITE_STATE",payload:j})},[l]),b=Array.isArray(l)?l:typeof l=="object"&&l!==null?Object.values(l):[],A=I.useCallback(()=>{!a&&f&&v(m+1)},[a,f,m,v]);return a&&i.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),p.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),p.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((C,D)=>p.createElement(m5,{key:D}))))):i.length===0?p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},p.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},p.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},p.createElement(EA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),p.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),p.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"mb-8"},p.createElement(p5,{title:"Kids' Collection",count:i.length}),p.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),p.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},i.map(C=>p.createElement(d5,{key:C.id,product:C,onAddToCart:t,onAddToFavorites:_,isFav:b.includes(C.id)}))),f&&p.createElement("div",{className:"flex justify-center my-8"},p.createElement("button",{onClick:A,disabled:a,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},a?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),p.createElement("div",{className:"mt-12 text-center"},p.createElement(Vr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},y5=({onAddToCart:t})=>{const[e,n]=I.useState([]),[i,a]=I.useState(!0),[l,u]=I.useState(null),f=()=>{try{const _=localStorage.getItem("favorites");if(!_)return[];const b=JSON.parse(_);return Array.isArray(b)?b:[]}catch(_){return console.error("Error getting favorites from localStorage:",_),[]}},m=I.useCallback(async()=>{a(!0),u(null);try{const _=f();if(_.length===0){n([]),a(!1);return}const b=Cn(Yi(Or,"products"),Ir(ZV(),"in",_)),C=(await Du(b)).docs.map(D=>({id:D.id,...D.data()}));n(C)}catch(_){console.error("Error fetching favorite products:",_),u("Failed to load your favorites. Please try again later.")}finally{a(!1)}},[]),g=I.useCallback(_=>{try{const A=f().filter(C=>C!==_);localStorage.setItem("favorites",JSON.stringify(A)),n(C=>C.filter(D=>D.id!==_))}catch(b){console.error("Error removing favorite:",b)}},[]),v=I.useCallback(_=>{t&&t(_)},[t]);return I.useEffect(()=>{m()},[m]),i?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},p.createElement("div",{className:"flex justify-center items-center h-64"},p.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):l?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),p.createElement("p",{className:"text-gray-600 text-lg mb-8"},l),p.createElement("button",{onClick:m,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},p.createElement("div",{className:"text-center"},p.createElement(EA,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),p.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),p.createElement(Vs,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},p.createElement(ea,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},p.createElement("div",{className:"mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),p.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),p.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(_=>p.createElement("div",{key:_.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},p.createElement("div",{className:"relative overflow-hidden"},p.createElement(Vr,{to:`/product/${_.id}`,"aria-label":`View details for ${_.name}`},p.createElement("img",{src:_.images&&_.images.length>0?_.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:_.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),p.createElement("button",{onClick:()=>g(_.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${_.name} from favorites`},p.createElement(TA,{className:"w-4 h-4"})),parseFloat(_.price)>parseFloat(_.newprice||_.newPrice)&&p.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(_.newprice||_.newPrice)/parseFloat(_.price))*100),"% OFF"),p.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},p.createElement(ea,{className:"w-4 h-4 fill-current"}))),p.createElement("div",{className:"p-3 sm:p-4"},p.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},_.name),p.createElement("div",{className:"mb-3"},p.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},_.category)),p.createElement("div",{className:"flex items-center justify-between mb-4"},p.createElement("div",{className:"flex items-center space-x-2"},p.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(_.price).toFixed(2)),p.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(_.newprice||_.newPrice).toFixed(2))),p.createElement("button",{onClick:()=>v(_),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},p.createElement(vr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),p.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),p.createElement("div",{className:"mt-12 text-center"},p.createElement(Vs,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function v5({cartItemCount:t,onCartClick:e}){const[n,i]=I.useState(!1),[a,l]=I.useState(!1),u=ra(),f=["Home","Men","Women","Kids","Favorites","contact","Orders"];return I.useEffect(()=>{i(!1)},[u]),p.createElement(p.Fragment,null,p.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"flex items-center justify-between h-16"},p.createElement("div",{className:"flex items-center space-x-8"},p.createElement(Vs,{to:"/",className:"flex items-center space-x-2"},p.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center  justify-center"},p.createElement("span",{className:"text-white font-bold text-lg"},"E")),p.createElement("h1",{className:"text-2xl font-bold text-red-700 ml-[-7px]"},"-commerce")),p.createElement("nav",{className:"hidden md:flex space-x-1"},f.map(m=>p.createElement(Vs,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:g})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${g?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},m)))),p.createElement("div",{className:"flex items-center"},p.createElement("div",{className:"relative"},p.createElement("button",{onClick:()=>{e(),l(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},p.createElement(vr,{className:"w-6 h-6"}),t>0&&p.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},t>99?"99+":t))),p.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>i(!n)},n?p.createElement(Fs,{className:"w-6 h-6"}):p.createElement(C3,{className:"w-6 h-6"})))))),n&&p.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>i(!1)}),p.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${n?"translate-x-0":"translate-x-full"}`},p.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},p.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),p.createElement("button",{onClick:()=>i(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},p.createElement(Fs,{className:"w-6 h-6"}))),p.createElement("div",{className:"p-4"},p.createElement("nav",{className:"flex flex-col space-y-1"},f.map(m=>{const g=m==="Home"?dw:m==="Favorites"?ea:null;return p.createElement(Vs,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:v})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${v?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>i(!1)},g&&p.createElement(g,{className:"w-5 h-5 mr-3"}),m)})))),p.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},p.createElement(Vs,{to:"/",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},p.createElement(dw,{className:"w-6 h-6"}),p.createElement("span",{className:"text-xs mt-1"},"Home")),p.createElement(Vs,{to:"/favorites",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},p.createElement(ea,{className:"w-6 h-6"}),p.createElement("span",{className:"text-xs mt-1"},"Favorites")),p.createElement("button",{onClick:()=>{e(),l(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${a?"text-red-700 scale-110":"text-gray-500"}`},p.createElement(vr,{className:"w-6 h-6"}),p.createElement("span",{className:"text-xs mt-1"},"Cart"),t>0&&p.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},t>99?"99+":t))))}function E5({isOpen:t,onClose:e,cart:n,onIncreaseQty:i,onDecreaseQty:a,onRemoveItem:l,onClearCart:u,onCheckout:f,total:m}){const[g,v]=I.useState(null),[_,b]=I.useState({}),[A,C]=I.useState(!1),D=(x,N="success")=>{v({text:x,type:N}),setTimeout(()=>v(null),2e3)};I.useEffect(()=>{const x=async()=>{const N={};for(const V of n)try{const B=await fA(u0(Or,"products",V.id));B.exists()&&(N[V.id]=B.data().shippingPrice||0)}catch(B){console.error("Error fetching shipping price:",B)}b(N)};n.length>0&&x()},[n]);const O=x=>{a(x)},j=x=>{i(x)},U=(x,N)=>{l(x),D(`${N} removed from cart`)},G=async()=>{C(!0);try{await f(),D("Checkout successful!")}catch{D("Checkout failed. Please try again.","error")}finally{C(!1)}},ce=m,H=ce*.2,ee=ce>0?15:0,P=ce-H+ee;return p.createElement("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`},p.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:e}),p.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`},p.createElement("div",{className:"flex flex-col h-full"},p.createElement("div",{className:"flex items-center justify-between p-5 bg-white border-b border-gray-200"},p.createElement("div",{className:"flex items-center space-x-2"},p.createElement("h2",{className:"text-xl font-bold text-gray-900 uppercase tracking-wide"},"YOUR CART"),n.length>0&&p.createElement("span",{className:"bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},n.reduce((x,N)=>x+N.qty,0))),p.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200","aria-label":"Close cart"},p.createElement(Fs,{className:"w-5 h-5 text-gray-700"}))),g&&p.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${g.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},p.createElement(nd,{className:"w-5 h-5"}),p.createElement("span",null,g.text)),p.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},n.length===0?p.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},p.createElement("div",{className:"bg-gray-100 p-4 rounded-full mb-4"},p.createElement(vr,{className:"w-16 h-16 text-gray-400"})),p.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),p.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),p.createElement("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors duration-300"},"Continue Shopping")):p.createElement("div",{className:"space-y-4"},n.map(x=>p.createElement("div",{key:`${x.id}-${x.selectedSize||"default"}`,className:"flex items-start p-4 bg-white border border-gray-200 rounded-lg"},p.createElement("div",{className:"relative"},p.createElement("img",{src:x.image||(Array.isArray(x.images)?x.images[0]:x.images),alt:x.name,className:"w-20 h-20 object-cover rounded-lg",onError:N=>{N.target.src="/placeholder.jpg"}})),p.createElement("div",{className:"flex-1 min-w-0 ml-4"},p.createElement("h4",{className:"text-base font-medium text-gray-900"},x.name),x.selectedSize&&p.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",p.createElement("span",{className:"font-medium"},x.selectedSize)),x.selectedColor&&p.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",p.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:x.selectedColor},title:x.selectedColor})),p.createElement("div",{className:"flex items-center mt-2"},p.createElement("span",{className:"text-gray-900 font-medium"},"$",parseFloat(x.price).toFixed(2)),x.originalPrice&&x.originalPrice>x.price&&p.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(x.originalPrice).toFixed(2)))),p.createElement("div",{className:"flex flex-col items-end space-y-3"},p.createElement("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-md p-1"},p.createElement("button",{onClick:()=>O(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Decrease quantity"},p.createElement(_A,{className:"w-3 h-3"})),p.createElement("span",{className:"text-sm font-medium w-8 text-center"},x.qty),p.createElement("button",{onClick:()=>j(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Increase quantity"},p.createElement(bA,{className:"w-3 h-3"}))),p.createElement("button",{onClick:()=>U(x.id,x.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},p.createElement(TA,{className:"w-4 h-4"}))))))),n.length>0&&p.createElement("div",{className:"border-t border-gray-200 p-5 bg-white"},p.createElement("div",{className:"space-y-3 mb-6"},p.createElement("div",{className:"flex justify-between items-center"},p.createElement("span",{className:"text-gray-700 font-medium"},"Subtotal"),p.createElement("span",{className:"text-gray-900 font-medium"},"$",ce.toFixed(2))),p.createElement("div",{className:"flex justify-between items-center"},p.createElement("span",{className:"text-gray-700 font-medium"},"Shipping"),p.createElement("span",{className:"text-gray-900 font-medium"},"$",n.reduce((x,N)=>x+(_[N.id]||0),0).toFixed(2))),p.createElement("div",{className:"border-t border-gray-200 pt-3"},p.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},p.createElement("span",{className:"text-gray-900"},"Total"),p.createElement("span",{className:"text-gray-900"},"$",P.toFixed(2))))),p.createElement("button",{onClick:G,disabled:A,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${A?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800"} text-white`},A?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):p.createElement(p.Fragment,null,p.createElement(vr,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),p.createElement("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-700 hover:text-gray-900 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}const _5=(t,e)=>MD(S0,t,e),b5=(t,e)=>VD(S0,t,e);function T5(){const[t,e]=I.useState(""),[n,i]=I.useState(""),[a,l]=I.useState(""),[u,f]=I.useState(!1),[m,g]=I.useState(""),v=async _=>{if(_.preventDefault(),f(!0),g(""),n!==a){g("Passwords do not match"),f(!1);return}try{await _5(t,n)}catch{g("An account already exists for this email.")}finally{f(!1)}};return p.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},p.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-400"}),p.createElement("div",{className:"p-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Create Account"),p.createElement("p",{className:"text-gray-600 mt-2"},"Join us today")),m&&p.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},m),p.createElement("form",{onSubmit:v},p.createElement("div",{className:"mb-4"},p.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),p.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:_=>e(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),p.createElement("div",{className:"mb-4"},p.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-2"},"Password"),p.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),p.createElement("div",{className:"mb-6"},p.createElement("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-medium mb-2"},"Confirm Password"),p.createElement("input",{id:"confirmPassword",type:"password",placeholder:"••••••••",value:a,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),p.createElement("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},u?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating account..."):"Sign Up")))))}function w5(){const[t,e]=I.useState(""),[n,i]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(""),[m,g]=I.useState(""),v=async _=>{_.preventDefault(),l(!0),f("");try{await b5(t,n),g("Signed in successfully!")}catch{f("Invalid email or password")}finally{l(!1)}};return p.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},p.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},p.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-300"}),p.createElement("div",{className:"p-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Welcome Back"),p.createElement("p",{className:"text-gray-600 mt-2"},"Sign in to your account")),u&&p.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},u),m&&p.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg text-sm"},m),p.createElement("form",{onSubmit:v},p.createElement("div",{className:"mb-4"},p.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),p.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:_=>e(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),p.createElement("div",{className:"mb-6"},p.createElement("div",{className:"flex justify-between items-center mb-2"},p.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium"},"Password"),p.createElement("a",{href:"#",className:"text-sm text-red-600 hover:text-red-800 transition duration-200"},"Forgot password?")),p.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),p.createElement("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},a?p.createElement(p.Fragment,null,p.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Signing in..."):"Sign In")))))}function x5({address:t}){if(!t)return p.createElement("p",{className:"text-gray-500 p-4 text-center"},"Enter your address or use location to preview on map.");const e=encodeURIComponent(t);return p.createElement("iframe",{title:"map-preview",src:`https://www.google.com/maps?q=${e}&t=k&z=15&output=embed`,width:"100%",height:"250",style:{border:0},loading:"lazy",allowFullScreen:!0})}function S5({isOpen:t,onClose:e,total:n,cart:i,onOrderSuccess:a}){const[l,u]=I.useState({name:"",email:"",phone:"",address:""}),[f,m]=I.useState(!1),[g,v]=I.useState(""),[_,b]=I.useState({}),[A,C]=I.useState(null),[D,O]=I.useState(!1);I.useEffect(()=>{const H=UD(S0,ee=>{C(ee)});return()=>H()},[]);const j=H=>{u(ee=>({...ee,[H.target.name]:H.target.value})),_[H.target.name]&&b(ee=>({...ee,[H.target.name]:null}))},U=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(H=>{const{latitude:ee,longitude:P}=H.coords,x=`${ee},${P}`;u(N=>({...N,address:x}))},H=>{alert("Failed to get location: "+H.message)})},G=()=>{const H={};return l.name.trim()||(H.name="Name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(H.email="Please enter a valid email address"):H.email="Email is required",l.phone.trim()?/^\+?[0-9\s\-()]{7,20}$/.test(l.phone.replace(/\s/g,""))||(H.phone="Please enter a valid phone number"):H.phone="Phone number is required",l.address.trim()||(H.address="Address is required"),b(H),Object.keys(H).length===0},ce=async H=>{if(H.preventDefault(),!G()){v("Please correct the errors in the form.");return}if(!i||i.length===0){v("Your cart is empty.");return}try{m(!0);let ee=null;if(l.address.includes(",")){const[N,V]=l.address.split(",").map(Number);!isNaN(N)&&!isNaN(V)&&(ee={lat:N,lng:V})}const P={id:Date.now().toString(),client:l,items:i,total:n,status:"Pending",timestamp:new Date().toISOString(),location:ee,userId:A?.uid||null};await Yg(Yi(Or,"orders"),P);const x=JSON.parse(localStorage.getItem("orders"))||[];localStorage.setItem("orders",JSON.stringify([...x,P])),v("Order placed successfully!"),u({name:"",email:"",phone:"",address:""}),a?.(),setTimeout(()=>e(),2e3)}catch(ee){console.error("Error placing order:",ee),v("Failed to place order. Try again.")}finally{m(!1)}};return I.useEffect(()=>{if(g){const H=setTimeout(()=>v(""),3e3);return()=>clearTimeout(H)}},[g]),t?p.createElement(p.Fragment,null,g&&p.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},p.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${g.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},g.includes("success")?p.createElement(nd,{className:"w-8 h-8 flex-shrink-0"}):p.createElement(Qg,{className:"w-8 h-8 flex-shrink-0"}),p.createElement("span",{className:"text-lg font-medium"},g))),p.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},p.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),p.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},p.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},p.createElement(Fs,{className:"w-5 h-5"})),p.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},p.createElement("div",{className:"flex items-center space-x-3"},p.createElement(vr,{className:"w-8 h-8"}),p.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),p.createElement("div",{className:"flex-1 overflow-y-auto p-6"},A?p.createElement(p.Fragment,null,p.createElement("div",{className:"mb-8"},p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},p.createElement(vr,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),p.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},i.map((H,ee)=>p.createElement("div",{key:`${H.id}-${ee}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},p.createElement("div",{className:"flex items-center gap-4"},p.createElement("img",{src:H.image||(Array.isArray(H.images)?H.images[0]:H.images),alt:H.name,className:"w-16 h-16 object-cover rounded-lg"}),p.createElement("div",null,p.createElement("div",{className:"text-sm font-semibold text-gray-900"},H.name),p.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},p.createElement("span",null,"Qty: ",H.qty),H.selectedSize&&p.createElement("span",null,"Size: ",H.selectedSize),H.selectedColor&&p.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",p.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:H.selectedColor},title:H.selectedColor}))))),p.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(H.qty*H.price).toFixed(2))))),p.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},p.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),p.createElement("span",{className:"text-xl font-bold text-red-700"},"$",n.toFixed(2)))),p.createElement("form",{onSubmit:ce,className:"space-y-5"},p.createElement("div",null,p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},p.createElement(H3,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),p.createElement("input",{type:"text",name:"name",value:l.name,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your full name",disabled:f}),_.name&&p.createElement("p",{className:"text-sm text-red-600"},_.name)),p.createElement("div",null,p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},p.createElement(O3,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),p.createElement("input",{type:"email",name:"email",value:l.email,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your email",disabled:f}),_.email&&p.createElement("p",{className:"text-sm text-red-600"},_.email)),p.createElement("div",null,p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},p.createElement(L3,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),p.createElement("input",{type:"tel",name:"phone",value:l.phone,onChange:j,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your phone number",disabled:f}),_.phone&&p.createElement("p",{className:"text-sm text-red-600"},_.phone)),p.createElement("div",null,p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},p.createElement(mw,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),p.createElement("div",{className:"flex gap-2 mb-2"},p.createElement("textarea",{name:"address",value:l.address,onChange:j,rows:2,className:"flex-1 px-4 py-3 border rounded-lg resize-none",placeholder:"Enter your shipping address or coords",disabled:f}),p.createElement("button",{type:"button",onClick:U,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm"},"Use My Location")),_.address&&p.createElement("p",{className:"text-sm text-red-600"},_.address)),p.createElement("div",null,p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},p.createElement(mw,{className:"w-4 h-4 mr-2 text-red-600"}),"Location Preview"),p.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},p.createElement(x5,{address:l.address}))),p.createElement("button",{type:"submit",disabled:f,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium"},f?"Processing Order...":"Place Order"))):p.createElement("div",null,D?p.createElement(T5,null):p.createElement(w5,null),p.createElement("p",{className:"mt-4 text-center text-sm text-gray-600"},D?"Already have an account?":"Don’t have an account?"," ",p.createElement("button",{onClick:()=>O(!D),className:"text-red-600 hover:underline"},D?"Sign In":"Sign Up"))))))):null}const A5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},pw=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},R5=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const{id:i}=cC(),a=j1(),[l,u]=I.useState(null),[f,m]=I.useState(!0),[g,v]=I.useState(null),[_,b]=I.useState(null),[A,C]=I.useState(null),[D,O]=I.useState(1),[j,U]=I.useState(""),[G,ce]=I.useState(!1),[H,ee]=I.useState([]);I.useEffect(()=>{const Se=A5();ee(Se)},[]);const P=H.includes(i);I.useEffect(()=>{(async()=>{m(!0);try{const W=u0(Or,"products",i),se=await fA(W);if(se.exists()){const ge={id:se.id,...se.data()};u(ge),v(ge.images?.[0]||null),ge.colors&&ge.colors.length>0&&C(ge.colors[0])}else u(null)}catch(W){console.error("Error fetching product:",W),u(null)}finally{m(!1)}})()},[i]),I.useEffect(()=>{window.scrollTo(0,0)},[i]);const x=l?.sizes&&l.sizes.length>0,N=l?.colors&&l.colors.length>0,V=()=>{if(x&&!_){U("⚠️ Please select a size before adding to cart.");return}if(N&&!A){U("⚠️ Please select a color before adding to cart.");return}U("✅ Added to cart!"),t({id:l.id,name:l.name,price:l.newPrice||l.price,image:l.images?.[0]||"",selectedSize:_,selectedColor:A,quantity:D}),setTimeout(()=>U(""),3e3)},B=()=>{const Se=[...H],W=l.id;if(P){const se=Se.filter(ge=>ge!==W);pw(se),ee(se),U("💔 Removed from favorites!")}else{const se=[...Se,W];pw(se),ee(se),e(l),U("❤️ Added to favorites!")}setTimeout(()=>U(""),3e3)},F=()=>{ce(!0)},M=Se=>{Se<1||O(Se)},Fe=()=>!l.newPrice||l.newPrice>=l.price?0:Math.round((l.price-l.newPrice)/l.price*100);return f?p.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},p.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):l?p.createElement("div",{className:"min-h-screen bg-white"},p.createElement("div",{className:"px-4 pt-4"},p.createElement("button",{onClick:()=>a(-1),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors"},p.createElement(fw,{className:"w-5 h-5 mr-1"})," Back")),p.createElement("div",{className:"px-4 pb-8 max-w-7xl mx-auto"},p.createElement("div",{className:"flex flex-col lg:flex-row gap-8 py-6"},p.createElement("div",{className:"lg:w-1/2"},p.createElement("div",{className:"flex  gap-6"},p.createElement("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},g&&!G?p.createElement("img",{src:g,alt:l.name,className:"w-full h-full object-cover",onError:F}):p.createElement("div",{className:"text-center p-8"},p.createElement("div",{className:"text-5xl mb-2"},"🖼️"),p.createElement("p",{className:"text-gray-500"},"Image not available"))),p.createElement("div",{className:"flex flex-col gap-3  py-2"},l.images?.map((Se,W)=>p.createElement("button",{key:W,onClick:()=>{v(Se),ce(!1)},className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 ${g===Se?"border-black":"border-gray-200 hover:border-gray-300"}`},p.createElement("img",{src:Se,alt:`${l.name} thumbnail ${W+1}`,className:"w-full h-full object-cover",onError:se=>{se.target.src="/placeholder.jpg"}})))))),p.createElement("div",{className:"lg:w-1/2"},p.createElement("div",{className:"flex flex-col gap-6"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900"},l.name),p.createElement("div",{className:"flex items-baseline gap-3"},p.createElement("span",{className:"text-2xl font-bold text-gray-900"},"$",l.newPrice||l.price),l.newPrice&&l.newPrice<l.price&&p.createElement(p.Fragment,null,p.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",l.price),p.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},Fe(),"% OFF"))),N&&p.createElement("div",null,p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Color"),p.createElement("div",{className:"flex flex-wrap gap-2"},l.colors.map(Se=>p.createElement("button",{key:Se,onClick:()=>C(Se),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${A===Se?"border-black scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:Se},title:Se})))),x&&p.createElement("div",null,p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Size"),p.createElement("div",{className:"flex flex-wrap gap-2"},l.sizes.map(Se=>p.createElement("button",{key:Se,onClick:()=>b(Se),className:`px-4 py-2 rounded-full border font-medium transition-all duration-200 ${_===Se?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`},Se))),x&&!_&&p.createElement("p",{className:"mt-1 text-sm text-red-500"},"Please select a size")),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Quantity"),p.createElement("div",{className:"flex items-center border border-gray-300 rounded-lg w-32"},p.createElement("button",{onClick:()=>M(D-1),className:"p-2 text-gray-600 hover:bg-gray-100",disabled:D<=1},p.createElement(_A,{className:"w-4 h-4"})),p.createElement("span",{className:"flex-1 text-center"},D),p.createElement("button",{onClick:()=>M(D+1),className:"p-2 text-gray-600 hover:bg-gray-100"},p.createElement(bA,{className:"w-4 h-4"})))),p.createElement("div",{className:"flex flex-wrap gap-4"},p.createElement("button",{onClick:V,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-black hover:bg-gray-900 text-white font-medium py-3 px-6 rounded-lg shadow-sm transition-all duration-300"},p.createElement(vr,{className:"w-5 h-5"})," Add to Cart"),p.createElement("button",{onClick:B,className:`p-3 rounded-lg border transition-all duration-300 ${P?"bg-red-50 text-red-600 border-red-200":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100"}`,title:P?"Remove from favorites":"Add to favorites"},p.createElement(ea,{className:`w-6 h-6 transition-all duration-300 ${P?"fill-red-600 text-red-600":""}`}))),p.createElement("h2",null,"Product description"),p.createElement("p",{className:"text-gray-700 break-words"},l.shortDescription||l.det?.substring(0,150)+"..."||"No description available."),j&&p.createElement("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200"},j)))))):p.createElement("div",{className:"text-center py-20 px-4"},p.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl p-8"},p.createElement("div",{className:"text-6xl mb-4"},"😕"),p.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),p.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),p.createElement("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},p.createElement(fw,{className:"w-4 h-4 mr-2"})," Go Back")))},N5=({navLinks:t=[],socialLinks:e=[],contactInfo:n={},copyrightYear:i=new Date().getFullYear()})=>{const[a,l]=I.useState(""),[u,f]=I.useState(""),[m,g]=I.useState(!1),[v,_]=I.useState(!1),b=async A=>{if(A.preventDefault(),!a.trim()){f("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){f("Please enter a valid email address");return}_(!0),f("");try{await new Promise(C=>setTimeout(C,1e3)),console.log("Subscribed email:",a),g(!0),l("")}catch(C){console.error("Subscription error:",C),f("Subscription failed. Please try again.")}finally{_(!1)}};return p.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},p.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),p.createElement("ul",{className:"space-y-2"},t.map((A,C)=>p.createElement("li",{key:C},p.createElement("a",{href:A.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${A.name}`},A.name))))),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),p.createElement("ul",{className:"space-y-3"},n.email&&p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),p.createElement("a",{href:`mailto:${n.email}`,className:"text-gray-300 hover:text-white transition-colors"},n.email)),n.phone&&p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),p.createElement("a",{href:`tel:${n.phone}`,className:"text-gray-300 hover:text-white transition-colors"},n.phone)),n.address&&p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),p.createElement("span",{className:"text-gray-300"},n.address)))),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),p.createElement("div",{className:"flex space-x-4"},e.map((A,C)=>p.createElement("a",{key:C,href:A.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${A.name}`},A.icon&&p.createElement("span",{className:"w-5 h-5"},A.icon))))),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),p.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),m?p.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},p.createElement("div",{className:"flex items-center"},p.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),p.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):p.createElement("form",{onSubmit:b,className:"space-y-3"},p.createElement("div",null,p.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),p.createElement("input",{type:"email",id:"footer-email",value:a,onChange:A=>l(A.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${u?"border-red-500":"border-gray-700"}`,"aria-invalid":!!u,"aria-describedby":u?"footer-email-error":void 0}),u&&p.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},u)),p.createElement("button",{type:"submit",disabled:v,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},v?"Subscribing...":"Subscribe")))),p.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},p.createElement("p",null,"© ",i," Your Company Name. All rights reserved."))))},C5=()=>{const[t,e]=I.useState({name:"",email:"",subject:"",message:""}),[n,i]=I.useState({name:"",email:"",subject:"",message:""}),[a,l]=I.useState(!1),[u,f]=I.useState(!1),m=()=>{let _=!0;const b={name:"",email:"",subject:"",message:""};return t.name.trim()||(b.name="Name is required",_=!1),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(b.email="Please enter a valid email address",_=!1):(b.email="Email is required",_=!1),t.subject.trim()||(b.subject="Subject is required",_=!1),t.message.trim()||(b.message="Message is required",_=!1),i(b),_},g=_=>{const{name:b,value:A}=_.target;e(C=>({...C,[b]:A})),n[b]&&i(C=>({...C,[b]:""}))},v=async _=>{if(_.preventDefault(),!!m()){f(!0);try{await new Promise(b=>setTimeout(b,1e3)),console.log("Form submitted:",t),l(!0),e({name:"",email:"",subject:"",message:""})}catch(b){console.error("Submission error:",b)}finally{f(!1)}}};return p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"max-w-7xl mx-auto"},p.createElement("div",{className:"text-center mb-12"},p.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),p.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),p.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},p.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},p.createElement("div",null,p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),a?p.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},p.createElement("div",{className:"flex items-center"},p.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),p.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),p.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),p.createElement("button",{onClick:()=>l(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):p.createElement("form",{onSubmit:v,noValidate:!0},p.createElement("div",{className:"space-y-6"},p.createElement("div",null,p.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",p.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),p.createElement("input",{type:"text",id:"name",name:"name",value:t.name,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0}),n.name&&p.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},n.name)),p.createElement("div",null,p.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",p.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),p.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0}),n.email&&p.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},n.email)),p.createElement("div",null,p.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",p.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),p.createElement("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.subject,"aria-describedby":n.subject?"subject-error":void 0}),n.subject&&p.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},n.subject)),p.createElement("div",null,p.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",p.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),p.createElement("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0}),n.message&&p.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},n.message)),p.createElement("div",null,p.createElement("button",{type:"submit",disabled:u,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},u?p.createElement("span",{className:"flex items-center justify-center"},p.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),p.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),p.createElement("div",{className:"space-y-6"},p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),p.createElement("ul",{className:"space-y-3"},p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),p.createElement("span",{className:"text-gray-700"},"contact@example.com")),p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),p.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),p.createElement("li",{className:"flex items-start"},p.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),p.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",p.createElement("br",null),"San Francisco, CA 94107")))),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),p.createElement("ul",{className:"space-y-2"},p.createElement("li",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-700"},"Monday - Friday"),p.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),p.createElement("li",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-700"},"Saturday"),p.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),p.createElement("li",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-700"},"Sunday"),p.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),p.createElement("div",null,p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),p.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},p.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};var ig={exports:{}},kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function I5(){if(gw)return kc;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return kc.Fragment=e,kc.jsx=n,kc.jsxs=n,kc}var yw;function O5(){return yw||(yw=1,ig.exports=I5()),ig.exports}var Xg=O5();const xA=I.createContext({});function D5(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const N0=typeof window<"u",P5=N0?I.useLayoutEffect:I.useEffect,C0=I.createContext(null);function I0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const es=(t,e,n)=>n>e?e:n<t?t:n;let D0=()=>{};const ts={},SA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AA(t){return typeof t=="object"&&t!==null}const RA=t=>/^0[^.\s]+$/u.test(t);function P0(t){let e;return()=>(e===void 0&&(e=t()),e)}const yr=t=>t,M5=(t,e)=>n=>e(t(n)),Pu=(...t)=>t.reduce(M5),fu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class M0{constructor(){this.subscriptions=[]}add(e){return I0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ai=t=>t*1e3,gr=t=>t/1e3;function NA(t,e){return e?t*(1e3/e):0}const CA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,V5=1e-7,k5=12;function L5(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=CA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>V5&&++f<k5);return u}function Mu(t,e,n,i){if(t===e&&n===i)return yr;const a=l=>L5(l,0,1,t,n);return l=>l===0||l===1?l:CA(a(l),e,i)}const IA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OA=t=>e=>1-t(1-e),DA=Mu(.33,1.53,.69,.99),V0=OA(DA),PA=IA(V0),MA=t=>(t*=2)<1?.5*V0(t):.5*(2-Math.pow(2,-10*(t-1))),k0=t=>1-Math.sin(Math.acos(t)),VA=OA(k0),kA=IA(k0),U5=Mu(.42,0,1,1),j5=Mu(0,0,.58,1),LA=Mu(.42,0,.58,1),B5=t=>Array.isArray(t)&&typeof t[0]!="number",UA=t=>Array.isArray(t)&&typeof t[0]=="number",F5={linear:yr,easeIn:U5,easeInOut:LA,easeOut:j5,circIn:k0,circInOut:kA,circOut:VA,backIn:V0,backInOut:PA,backOut:DA,anticipate:MA},z5=t=>typeof t=="string",vw=t=>{if(UA(t)){D0(t.length===4);const[e,n,i,a]=t;return Mu(e,n,i,a)}else if(z5(t))return F5[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(f)}const g={schedule:(v,_=!1,b=!1)=>{const C=b&&a?n:i;return _&&u.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const H5=40;function jA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=df.reduce((G,ce)=>(G[ce]=q5(l),G),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:_,preRender:b,render:A,postRender:C}=u,D=()=>{const G=ts.useManualTiming?a.timestamp:performance.now();n=!1,ts.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(G-a.timestamp,H5),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),_.process(a),b.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(D))},O=()=>{n=!0,i=!0,a.isProcessing||t(D)};return{schedule:df.reduce((G,ce)=>{const H=u[ce];return G[ce]=(ee,P=!1,x=!1)=>(n||O(),H.schedule(ee,P,x)),G},{}),cancel:G=>{for(let ce=0;ce<df.length;ce++)u[df[ce]].cancel(G)},state:a,steps:u}}const{schedule:Rt,cancel:ta,state:En,steps:sg}=jA(typeof requestAnimationFrame<"u"?requestAnimationFrame:yr,!0);let Nf;function G5(){Nf=void 0}const zn={now:()=>(Nf===void 0&&zn.set(En.isProcessing||ts.useManualTiming?En.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(G5)}},BA=t=>e=>typeof e=="string"&&e.startsWith(t),L0=BA("--"),$5=BA("var(--"),U0=t=>$5(t)?K5.test(t.split("/*")[0].trim()):!1,K5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},du={...Ol,transform:t=>es(0,1,t)},mf={...Ol,default:1},Xc=t=>Math.round(t*1e5)/1e5,j0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y5(t){return t==null}const Q5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B0=(t,e)=>n=>!!(typeof n=="string"&&Q5.test(n)&&n.startsWith(t)||e&&!Y5(n)&&Object.prototype.hasOwnProperty.call(n,e)),FA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(j0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},X5=t=>es(0,255,t),ag={...Ol,transform:t=>Math.round(X5(t))},qa={test:B0("rgb","red"),parse:FA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Xc(du.transform(i))+")"};function W5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Wg={test:B0("#"),parse:W5,transform:qa.transform},Vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ms=Vu("deg"),oi=Vu("%"),Le=Vu("px"),Z5=Vu("vh"),J5=Vu("vw"),Ew={...oi,parse:t=>oi.parse(t)/100,transform:t=>oi.transform(t*100)},rl={test:B0("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+oi.transform(Xc(e))+", "+oi.transform(Xc(n))+", "+Xc(du.transform(i))+")"},Xt={test:t=>qa.test(t)||Wg.test(t)||rl.test(t),parse:t=>qa.test(t)?qa.parse(t):rl.test(t)?rl.parse(t):Wg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):rl.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},e6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t6(t){return isNaN(t)&&typeof t=="string"&&(t.match(j0)?.length||0)+(t.match(e6)?.length||0)>0}const zA="number",qA="color",n6="var",r6="var(",_w="${}",i6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(i6,m=>(Xt.test(m)?(i.color.push(l),a.push(qA),n.push(Xt.parse(m))):m.startsWith(r6)?(i.var.push(l),a.push(n6),n.push(m)):(i.number.push(l),a.push(zA),n.push(parseFloat(m))),++l,_w)).split(_w);return{values:n,split:f,indexes:i,types:a}}function HA(t){return mu(t).values}function GA(t){const{split:e,types:n}=mu(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===zA?l+=Xc(a[u]):f===qA?l+=Xt.transform(a[u]):l+=a[u]}return l}}const s6=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function a6(t){const e=HA(t);return GA(t)(e.map(s6))}const na={test:t6,parse:HA,createTransformer:GA,getAnimatableNone:a6};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=og(m,f,t+1/3),l=og(m,f,t),u=og(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function rd(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},l6=[Wg,qa,rl],c6=t=>l6.find(e=>e.test(t));function bw(t){const e=c6(t);if(!e)return!1;let n=e.parse(t);return e===rl&&(n=o6(n)),n}const Tw=(t,e)=>{const n=bw(t),i=bw(e);if(!n||!i)return rd(t,e);const a={...n};return l=>(a.red=lg(n.red,i.red,l),a.green=lg(n.green,i.green,l),a.blue=lg(n.blue,i.blue,l),a.alpha=It(n.alpha,i.alpha,l),qa.transform(a))},Zg=new Set(["none","hidden"]);function u6(t,e){return Zg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h6(t,e){return n=>It(t,e,n)}function F0(t){return typeof t=="number"?h6:typeof t=="string"?U0(t)?rd:Xt.test(t)?Tw:m6:Array.isArray(t)?$A:typeof t=="object"?Xt.test(t)?Tw:f6:rd}function $A(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>F0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function f6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=F0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function d6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const m6=(t,e)=>{const n=na.createTransformer(e),i=mu(t),a=mu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Zg.has(t)&&!a.values.length||Zg.has(e)&&!i.values.length?u6(t,e):Pu($A(d6(i,a),a.values),n):rd(t,e)};function KA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):F0(t)(t,e)}const p6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>ta(e),now:()=>En.isProcessing?En.timestamp:zn.now()}},YA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},id=2e4;function z0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<id;)e+=n,i=t.next(e);return e>=id?1/0:e}function g6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(z0(i),id);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:gr(a)}}const y6=5;function QA(t,e,n){const i=Math.max(e-y6,0);return NA(n-t(i),e-i)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cg=.001;function v6({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:n=Lt.velocity,mass:i=Lt.mass}){let a,l,u=1-e;u=es(Lt.minDamping,Lt.maxDamping,u),t=es(Lt.minDuration,Lt.maxDuration,gr(t)),u<1?(a=g=>{const v=g*u,_=v*t,b=v-n,A=Jg(g,u),C=Math.exp(-_);return cg-b/A*C},l=g=>{const _=g*u*t,b=_*n+n,A=Math.pow(u,2)*Math.pow(g,2)*t,C=Math.exp(-_),D=Jg(Math.pow(g,2),u);return(-a(g)+cg>0?-1:1)*((b-A)*C)/D}):(a=g=>{const v=Math.exp(-g*t),_=(g-n)*t+1;return-cg+v*_},l=g=>{const v=Math.exp(-g*t),_=(n-g)*(t*t);return v*_});const f=5/t,m=_6(a,l,f);if(t=ai(t),isNaN(m))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:t}}}const E6=12;function _6(t,e,n){let i=n;for(let a=1;a<E6;a++)i=i-t(i)/e(i);return i}function Jg(t,e){return t*Math.sqrt(1-e*e)}const b6=["duration","bounce"],T6=["stiffness","damping","mass"];function ww(t,e){return e.some(n=>t[n]!==void 0)}function w6(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!ww(t,T6)&&ww(t,b6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Lt.mass,stiffness:a,damping:l}}else{const n=v6(t);e={...e,...n,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function sd(t=Lt.visualDuration,e=Lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:_,velocity:b,isResolvedFromDuration:A}=w6({...n,velocity:-gr(n.velocity||0)}),C=b||0,D=g/(2*Math.sqrt(m*v)),O=u-l,j=gr(Math.sqrt(m/v)),U=Math.abs(O)<5;i||(i=U?Lt.restSpeed.granular:Lt.restSpeed.default),a||(a=U?Lt.restDelta.granular:Lt.restDelta.default);let G;if(D<1){const H=Jg(j,D);G=ee=>{const P=Math.exp(-D*j*ee);return u-P*((C+D*j*O)/H*Math.sin(H*ee)+O*Math.cos(H*ee))}}else if(D===1)G=H=>u-Math.exp(-j*H)*(O+(C+j*O)*H);else{const H=j*Math.sqrt(D*D-1);G=ee=>{const P=Math.exp(-D*j*ee),x=Math.min(H*ee,300);return u-P*((C+D*j*O)*Math.sinh(x)+H*O*Math.cosh(x))/H}}const ce={calculatedDuration:A&&_||null,next:H=>{const ee=G(H);if(A)f.done=H>=_;else{let P=H===0?C:0;D<1&&(P=H===0?ai(C):QA(G,H,ee));const x=Math.abs(P)<=i,N=Math.abs(u-ee)<=a;f.done=x&&N}return f.value=f.done?u:ee,f},toString:()=>{const H=Math.min(z0(ce),id),ee=YA(P=>ce.next(H*P).value,H,30);return H+"ms "+ee},toTransition:()=>{}};return ce}sd.applyToOptions=t=>{const e=g6(t,100,sd);return t.ease=e.ease,t.duration=ai(e.duration),t.type="keyframes",t};function ey({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:v}){const _=t[0],b={done:!1,value:_},A=x=>f!==void 0&&x<f||m!==void 0&&x>m,C=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let D=n*e;const O=_+D,j=u===void 0?O:u(O);j!==O&&(D=j-_);const U=x=>-D*Math.exp(-x/i),G=x=>j+U(x),ce=x=>{const N=U(x),V=G(x);b.done=Math.abs(N)<=g,b.value=b.done?j:V};let H,ee;const P=x=>{A(b.value)&&(H=x,ee=sd({keyframes:[b.value,C(b.value)],velocity:QA(G,x,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return P(0),{calculatedDuration:null,next:x=>{let N=!1;return!ee&&H===void 0&&(N=!0,ce(x),P(x)),H!==void 0&&x>=H?ee.next(x-H):(!N&&ce(x),b)}}}function x6(t,e,n){const i=[],a=n||ts.mix||KA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||yr:e;f=Pu(m,f)}i.push(f)}return i}function S6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(D0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=x6(e,i,a),m=f.length,g=v=>{if(u&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const b=fu(t[_],t[_+1],v);return f[_](b)};return n?v=>g(es(t[0],t[l-1],v)):g}function A6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=fu(0,e,i);t.push(It(n,1,a))}}function R6(t){const e=[0];return A6(e,t.length-1),e}function N6(t,e){return t.map(n=>n*e)}function C6(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function Wc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=B5(i)?i.map(vw):vw(i),l={done:!1,value:e[0]},u=N6(n&&n.length===e.length?n:R6(e),t),f=S6(u,e,{ease:Array.isArray(a)?a:C6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const I6=t=>t!==null;function q0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(I6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const O6={decay:ey,inertia:ey,tween:Wc,keyframes:Wc,spring:sd};function XA(t){typeof t.type=="string"&&(t.type=O6[t.type])}class H0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D6=t=>t/100;class G0 extends H0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XA(e);const{type:n=Wc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Wc;m!==Wc&&typeof f[0]!="number"&&(this.mixKeyframes=Pu(D6,KA(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=z0(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:_,repeatType:b,repeatDelay:A,type:C,onUpdate:D,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,ce=i;if(_){const x=Math.min(this.currentTime,a)/f;let N=Math.floor(x),V=x%1;!V&&x>=1&&(V=1),V===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(b==="reverse"?(V=1-V,A&&(V-=A/f)):b==="mirror"&&(ce=u)),G=es(0,1,V)*f}const H=U?{done:!1,value:v[0]}:ce.next(G);l&&(H.value=l(H.value));let{done:ee}=H;!U&&m!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return P&&C!==ey&&(H.value=q0(v,this.options,O,this.speed)),D&&D(H.value),P&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(this.currentTime)}set time(e){e=ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=p6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function P6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ha=t=>t*180/Math.PI,ty=t=>{const e=Ha(Math.atan2(t[1],t[0]));return ny(e)},M6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ty,rotateZ:ty,skewX:t=>Ha(Math.atan(t[1])),skewY:t=>Ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ny=t=>(t=t%360,t<0&&(t+=360),t),xw=ty,Sw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Aw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sw,scaleY:Aw,scale:t=>(Sw(t)+Aw(t))/2,rotateX:t=>ny(Ha(Math.atan2(t[6],t[5]))),rotateY:t=>ny(Ha(Math.atan2(-t[2],t[0]))),rotateZ:xw,rotate:xw,skewX:t=>Ha(Math.atan(t[4])),skewY:t=>Ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ry(t){return t.includes("scale")?1:0}function iy(t,e){if(!t||t==="none")return ry(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=V6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=M6,a=f}if(!a)return ry(e);const l=i[e],u=a[1].split(",").map(L6);return typeof l=="function"?l(u):u[l]}const k6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return iy(n,e)};function L6(t){return parseFloat(t.trim())}const Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(Dl),Rw=t=>t===Ol||t===Le,U6=new Set(["x","y","z"]),j6=Dl.filter(t=>!U6.has(t));function B6(t){const e=[];return j6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iy(e,"x"),y:(t,{transform:e})=>iy(e,"y")};Ka.translateX=Ka.x;Ka.translateY=Ka.y;const Ya=new Set;let sy=!1,ay=!1,oy=!1;function WA(){if(ay){const t=Array.from(Ya).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=B6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ay=!1,sy=!1,Ya.forEach(t=>t.complete(oy)),Ya.clear()}function ZA(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ay=!0)})}function F6(){oy=!0,ZA(),WA(),oy=!1}class $0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ya.add(this),sy||(sy=!0,Rt.read(ZA),Rt.resolveKeyframes(WA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}P6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ya.delete(this)}cancel(){this.state==="scheduled"&&(Ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const z6=t=>t.startsWith("--");function q6(t,e,n){z6(e)?t.style.setProperty(e,n):t.style[e]=n}const H6=P0(()=>window.ScrollTimeline!==void 0),G6={};function $6(t,e){const n=P0(t);return()=>G6[e]??n()}const JA=$6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function e2(t,e){if(t)return typeof t=="function"?JA()?YA(t,e):"ease-out":UA(t)?Hc(t):Array.isArray(t)?t.map(n=>e2(n,e)||Nw.easeOut):Nw[t]}function K6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const _=e2(f,a);Array.isArray(_)&&(v.easing=_);const b={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),t.animate(v,b)}function t2(t){return typeof t=="function"&&"applyToOptions"in t}function Y6({type:t,...e}){return t2(t)&&JA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends H0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,D0(typeof e.type!="string");const g=Y6(e);this.animation=K6(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=q0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):q6(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&H6()?(this.animation.timeline=e,yr):n(this)}}const n2={anticipate:MA,backInOut:PA,circInOut:kA};function X6(t){return t in n2}function W6(t){typeof t.ease=="string"&&X6(t.ease)&&(t.ease=n2[t.ease])}const Cw=10;class Z6 extends Q6{constructor(e){W6(e),XA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new G0({...u,autoplay:!1}),m=ai(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Cw).value,f.sample(m).value,Cw),f.stop()}}const Iw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function J6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eL(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Iw(a,e),f=Iw(l,e);return!u||!f?!1:J6(t)||(n==="spring"||t2(n))&&i}function ly(t){t.duration=0,t.type="keyframes"}const tL=new Set(["opacity","clipPath","filter","transform"]),nL=P0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return nL()&&n&&tL.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const iL=40;class sL extends H0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,..._},A=v?.KeyframeResolver||$0;this.keyframeResolver=new A(f,(C,D,O)=>this.onKeyframesResolved(C,D,b,!O),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:v}=i;this.resolvedAt=zn.now(),eL(e,l,u,f)||((ts.instantAnimations||!m)&&v?.(q0(e,i,n)),e[0]=e[e.length-1],ly(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>iL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!g&&rL(b)?new Z6({...b,element:b.motionValue.owner.current}):new G0(b);A.finished.then(()=>this.notifyFinished()).catch(yr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),F6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oL(t){const e=aL.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function r2(t,e,n=1){const[i,a]=oL(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return SA(u)?parseFloat(u):u}return U0(a)?r2(a,e,n+1):a}function K0(t,e){return t?.[e]??t?.default??t}const i2=new Set(["width","height","top","left","right","bottom",...Dl]),lL={test:t=>t==="auto",parse:t=>t},s2=t=>e=>e.test(t),a2=[Ol,Le,oi,Ms,J5,Z5,lL],Ow=t=>a2.find(s2(t));function cL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RA(t):!0}const uL=new Set(["brightness","contrast","saturate","opacity"]);function hL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(j0)||[];if(!i)return t;const a=n.replace(i,"");let l=uL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const fL=/\b([a-z-]*)\(.*?\)/gu,cy={...na,getAnimatableNone:t=>{const e=t.match(fL);return e?e.map(hL).join(" "):t}},Dw={...Ol,transform:Math.round},dL={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:Ms,skewX:Ms,skewY:Ms,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:du,originX:Ew,originY:Ew,originZ:Le},Y0={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...dL,zIndex:Dw,fillOpacity:du,strokeOpacity:du,numOctaves:Dw},mL={...Y0,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:cy,WebkitFilter:cy},o2=t=>mL[t];function l2(t,e){let n=o2(t);return n!==cy&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pL=new Set(["auto","none","0"]);function gL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!pL.has(l)&&mu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=l2(n,a)}class yL extends $0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),U0(g))){const v=r2(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!i2.has(i)||e.length!==2)return;const[a,l]=e,u=Ow(a),f=Ow(l);if(u!==f)if(Rw(u)&&Rw(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Ka[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||cL(e[a]))&&i.push(a);i.length&&gL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ka[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function vL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const c2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function EL(t){return AA(t)&&"offsetHeight"in t}const Pw=30,_L=t=>!isNaN(parseFloat(t));class bL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_L(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new M0);const i=this.events[e].add(n);return e==="change"?()=>{i(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Pw);return NA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new bL(t,e)}const{schedule:Q0}=jA(queueMicrotask,!1),Ar={x:!1,y:!1};function u2(){return Ar.x||Ar.y}function TL(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function h2(t,e){const n=vL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Mw(t){return!(t.pointerType==="touch"||u2())}function wL(t,e,n={}){const[i,a,l]=h2(t,n),u=f=>{if(!Mw(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=_=>{Mw(_)&&(g(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const f2=(t,e)=>e?t===e?!0:f2(t,e.parentElement):!1,X0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(t){return xL.has(t.tagName)||t.tabIndex!==-1}const Cf=new WeakSet;function Vw(t){return e=>{e.key==="Enter"&&t(e)}}function ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Vw(()=>{if(Cf.has(n))return;ug(n,"down");const a=Vw(()=>{ug(n,"up")}),l=()=>ug(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function kw(t){return X0(t)&&!u2()}function RL(t,e,n={}){const[i,a,l]=h2(t,n),u=f=>{const m=f.currentTarget;if(!kw(f))return;Cf.add(m);const g=e(m,f),v=(A,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Cf.has(m)&&Cf.delete(m),kw(A)&&typeof g=="function"&&g(A,{success:C})},_=A=>{v(A,m===window||m===document||n.useGlobalTarget||f2(m,A.target))},b=A=>{v(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),EL(f)&&(f.addEventListener("focus",g=>AL(g,a)),!SL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function d2(t){return AA(t)&&"ownerSVGElement"in t}function NL(t){return d2(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),CL=[...a2,Xt,na],IL=t=>CL.find(s2(t)),m2=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OL(t=!0){const e=I.useContext(C0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const p2=I.createContext({strict:!1}),Lw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in Lw)wl[t]={isEnabled:e=>Lw[t].some(n=>!!e[n])};function DL(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const PL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PL.has(t)}let g2=t=>!ad(t);function ML(t){typeof t=="function"&&(g2=e=>e.startsWith("on")?!ad(e):t(e))}try{ML(require("@emotion/is-prop-valid").default)}catch{}function VL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(g2(a)||n===!0&&ad(a)||!e&&!ad(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Vd=I.createContext({});function kd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pu(t){return typeof t=="string"||Array.isArray(t)}const W0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Z0=["initial",...W0];function Ld(t){return kd(t.animate)||Z0.some(e=>pu(t[e]))}function y2(t){return!!(Ld(t)||t.variants)}function kL(t,e){if(Ld(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(i)?i:void 0}}return t.inherit!==!1?e:{}}function LL(t){const{initial:e,animate:n}=kL(t,I.useContext(Vd));return I.useMemo(()=>({initial:e,animate:n}),[Uw(e),Uw(n)])}function Uw(t){return Array.isArray(t)?t.join(" "):t}const gu={};function UL(t){for(const e in t)gu[e]=t[e],L0(e)&&(gu[e].isCSSVariable=!0)}function v2(t,{layout:e,layoutId:n}){return Pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gu[t]||t==="opacity")}const jL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BL=Dl.length;function FL(t,e,n){let i="",a=!0;for(let l=0;l<BL;l++){const u=Dl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=c2(f,Y0[u]);if(!m){a=!1;const v=jL[u]||u;i+=`${v}(${g}) `}n&&(e[u]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function J0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const g=e[m];if(Pl.has(m)){u=!0;continue}else if(L0(m)){a[m]=g;continue}else{const v=c2(g,Y0[m]);m.startsWith("origin")?(f=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=FL(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${g} ${v}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E2(t,e,n){for(const i in e)!In(e[i])&&!v2(i,n)&&(t[i]=e[i])}function zL({transformTemplate:t},e){return I.useMemo(()=>{const n=ev();return J0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function qL(t,e){const n=t.style||{},i={};return E2(i,n,t),Object.assign(i,zL(t,e)),i}function HL(t,e){const n={},i=qL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const GL={offset:"stroke-dashoffset",array:"stroke-dasharray"},$L={offset:"strokeDashoffset",array:"strokeDasharray"};function KL(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?GL:$L;t[l.offset]=Le.transform(-i);const u=Le.transform(e),f=Le.transform(n);t[l.array]=`${u} ${f}`}function _2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,v){if(J0(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&KL(_,a,l,u,!1)}const b2=()=>({...ev(),attrs:{}}),T2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YL(t,e,n,i){const a=I.useMemo(()=>{const l=b2();return _2(l,e,T2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};E2(l,t.style,t),a.style={...l,...a.style}}return a}const QL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(QL.indexOf(t)>-1||/[A-Z]/u.test(t))}function XL(t,e,n,{latestValues:i},a,l=!1){const f=(tv(t)?YL:HL)(e,i,a,t),m=VL(e,typeof t=="string",l),g=t!==I.Fragment?{...m,...f,ref:n}:{},{children:v}=e,_=I.useMemo(()=>In(v)?v.get():v,[v]);return I.createElement(t,{...g,children:_})}function jw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function nv(t,e,n,i){if(typeof e=="function"){const[a,l]=jw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=jw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return In(t)?t.get():t}function WL({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:ZL(n,i,a,t),renderState:e()}}function ZL(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=If(l[b]);let{initial:u,animate:f}=t;const m=Ld(t),g=y2(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?f:u;if(_&&typeof _!="boolean"&&!kd(_)){const b=Array.isArray(_)?_:[_];for(let A=0;A<b.length;A++){const C=nv(t,b[A]);if(C){const{transitionEnd:D,transition:O,...j}=C;for(const U in j){let G=j[U];if(Array.isArray(G)){const ce=v?G.length-1:0;G=G[ce]}G!==null&&(a[U]=G)}for(const U in D)a[U]=D[U]}}}return a}const w2=t=>(e,n)=>{const i=I.useContext(Vd),a=I.useContext(C0),l=()=>WL(t,e,i,a);return n?l():D5(l)};function rv(t,e,n){const{style:i}=t,a={};for(const l in i)(In(i[l])||e.style&&In(e.style[l])||v2(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const JL=w2({scrapeMotionValuesFromProps:rv,createRenderState:ev});function x2(t,e,n){const i=rv(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=Dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const e9=w2({scrapeMotionValuesFromProps:x2,createRenderState:b2}),t9=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n9(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):il(n)&&(n.current=i))},[e])}const iv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r9="framerAppearId",S2="data-"+iv(r9),A2=I.createContext({});function i9(t,e,n,i,a){const{visualElement:l}=I.useContext(Vd),u=I.useContext(p2),f=I.useContext(C0),m=I.useContext(m2).reducedMotion,g=I.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,_=I.useContext(A2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&s9(g.current,n,a,_);const b=I.useRef(!1);I.useInsertionEffect(()=>{v&&b.current&&v.update(n,f)});const A=n[S2],C=I.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return P5(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),C.current=!1),v.enteringChildren=void 0)}),v}function s9(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&il(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:g})}function R2(t){if(t)return t.options.allowProjection!==!1?t.projection:R2(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,i){n&&DL(n);const a=tv(t)?e9:JL;function l(f,m){let g;const v={...I.useContext(m2),...f,layoutId:a9(f)},{isStatic:_}=v,b=LL(f),A=a(f,_);if(!_&&N0){o9();const C=l9(v);g=C.MeasureLayout,b.visualElement=i9(t,A,v,i,C.ProjectionNode)}return Xg.jsxs(Vd.Provider,{value:b,children:[g&&b.visualElement?Xg.jsx(g,{visualElement:b.visualElement,...v}):null,XL(t,f,n9(A,b.visualElement,m),A,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=I.forwardRef(l);return u[t9]=t,u}function a9({layoutId:t}){const e=I.useContext(xA).id;return e&&t!==void 0?e+"-"+t:t}function o9(t,e){I.useContext(p2).strict}function l9(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function c9(t,e){if(typeof Proxy>"u")return hg;const n=new Map,i=(l,u)=>hg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,hg(u,void 0,t,e)),n.get(u))})}function N2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function u9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function fg(t){return t===void 0||t===1}function uy({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Fa(t){return uy(t)||C2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C2(t){return Bw(t.x)||Bw(t.y)}function Bw(t){return t&&t!=="0%"}function od(t,e,n){const i=t-n,a=e*i;return n+a}function Fw(t,e,n,i,a){return a!==void 0&&(t=od(t,a,i)),od(t,n,i)+e}function hy(t,e=0,n=1,i,a){t.min=Fw(t.min,e,n,i,a),t.max=Fw(t.max,e,n,i,a)}function I2(t,{x:e,y:n}){hy(t.x,e.translate,e.scale,e.originPoint),hy(t.y,n.translate,n.scale,n.originPoint)}const zw=.999999999999,qw=1.0000000000001;function f9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,I2(t,u)),i&&Fa(l.latestValues)&&al(t,l.latestValues))}e.x<qw&&e.x>zw&&(e.x=1),e.y<qw&&e.y>zw&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function Hw(t,e,n,i,a=.5){const l=It(t.min,t.max,a);hy(t,e,n,l,i)}function al(t,e){Hw(t.x,e.x,e.scaleX,e.scale,e.originX),Hw(t.y,e.y,e.scaleY,e.scale,e.originY)}function O2(t,e){return N2(h9(t.getBoundingClientRect(),e))}function d9(t,e,n){const i=O2(t,n),{scroll:a}=e;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const Gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:Gw(),y:Gw()}),$w=()=>({min:0,max:0}),Ft=()=>({x:$w(),y:$w()}),fy={current:null},D2={current:!1};function m9(){if(D2.current=!0,!!N0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fy.current=t.matches;t.addEventListener("change",e),e()}else fy.current=!1}const p9=new WeakMap;function g9(t,e,n){for(const i in e){const a=e[i],l=n[i];if(In(a))t.addValue(i,a);else if(In(l))t.addValue(i,Tl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Tl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y9{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=zn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Rt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ld(n),this.isVariantNode=y2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const A=_[b];m[b]!==void 0&&In(A)&&A.set(m[b])}}mount(e){this.current=e,p9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),D2.current||m9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Pl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Kw.length;i++){const a=Kw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(SA(i)||RA(i))?i=parseFloat(i):!IL(i)&&na.test(n)&&(i=l2(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=nv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new M0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Q0.render(this.render)}}class P2 extends y9{constructor(){super(...arguments),this.KeyframeResolver=yL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M2(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function v9(t){return window.getComputedStyle(t)}class E9 extends P2{constructor(){super(...arguments),this.type="html",this.renderInstance=M2}readValueFromInstance(e,n){if(Pl.has(n))return this.projection?.isProjecting?ry(n):k6(e,n);{const i=v9(e),a=(L0(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O2(e,n)}build(e,n,i){J0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return rv(e,n,i)}}const V2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _9(t,e,n,i){M2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(V2.has(a)?a:iv(a),e.attrs[a])}class b9 extends P2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pl.has(n)){const i=o2(n);return i&&i.default||0}return n=V2.has(n)?n:iv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return x2(e,n,i)}build(e,n,i){_2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){_9(e,n,i,a)}mount(e){this.isSVGTag=T2(e.tagName),super.mount(e)}}const T9=(t,e)=>tv(t)?new b9(e):new E9(e,{allowProjection:t!==I.Fragment});function dl(t,e,n){const i=t.getProps();return nv(i,e,n!==void 0?n:i.custom,t)}const dy=t=>Array.isArray(t);function w9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function x9(t){return dy(t)?t[t.length-1]||0:t}function S9(t,e){const n=dl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=x9(l[u]);w9(t,u,f)}}function A9(t){return!!(In(t)&&t.add)}function my(t,e){const n=t.getValue("willChange");if(A9(n))return n.add(e);if(!n&&ts.WillChange){const i=new ts.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function k2(t){return t.props[S2]}const R9=t=>t!==null;function N9(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(R9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const C9={type:"spring",stiffness:500,damping:25,restSpeed:10},I9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O9={type:"keyframes",duration:.8},D9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P9=(t,{keyframes:e})=>e.length>2?O9:Pl.has(t)?t.startsWith("scale")?I9(e[1]):C9:D9;function M9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const sv=(t,e,n,i={},a,l)=>u=>{const f=K0(i,t)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-ai(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};M9(f)||Object.assign(v,P9(t,v)),v.duration&&(v.duration=ai(v.duration)),v.repeatDelay&&(v.repeatDelay=ai(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(ly(v),v.delay===0&&(_=!0)),(ts.instantAnimations||ts.skipAnimations)&&(_=!0,ly(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=N9(v.keyframes,f);if(b!==void 0){Rt.update(()=>{v.onUpdate(b),v.onComplete()});return}}return f.isSync?new G0(v):new sL(v)};function V9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function L2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),b=f[v];if(b===void 0||g&&V9(g,v))continue;const A={delay:n,...K0(l||{},v)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!A.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const j=k2(t);if(j){const U=window.MotionHandoffAnimation(j,v,Rt);U!==null&&(A.startTime=U,D=!0)}}my(t,v),_.start(sv(v,_,b,t.shouldReduceMotion&&i2.has(v)?{type:!1}:A,t,D));const O=_.animation;O&&m.push(O)}return u&&Promise.all(m).then(()=>{Rt.update(()=>{u&&S9(t,u)})}),m}function U2(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function py(t,e,n={}){const i=dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(L2(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=a;return k9(t,e,m,g,v,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function k9(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(py(m,e,{...u,delay:n+(typeof i=="function"?0:i)+U2(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function L9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>py(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=py(t,e,n);else{const a=typeof e=="function"?dl(t,e,n.custom):e;i=Promise.all(L2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function j2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const U9=Z0.length;function B2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?B2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U9;n++){const i=Z0[n],a=t.props[i];(pu(a)||a===!1)&&(e[i]=a)}return e}const j9=[...W0].reverse(),B9=W0.length;function F9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>L9(t,n,i)))}function z9(t){let e=F9(t),n=Yw(),i=!0;const a=m=>(g,v)=>{const _=dl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:A,...C}=_;g={...g,...C,...A}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=B2(t.parent)||{},_=[],b=new Set;let A={},C=1/0;for(let O=0;O<B9;O++){const j=j9[O],U=n[j],G=g[j]!==void 0?g[j]:v[j],ce=pu(G),H=j===m?U.isActive:null;H===!1&&(C=O);let ee=G===v[j]&&G!==g[j]&&ce;if(ee&&i&&t.manuallyAnimateOnMount&&(ee=!1),U.protectedKeys={...A},!U.isActive&&H===null||!G&&!U.prevProp||kd(G)||typeof G=="boolean")continue;const P=q9(U.prevProp,G);let x=P||j===m&&U.isActive&&!ee&&ce||O>C&&ce,N=!1;const V=Array.isArray(G)?G:[G];let B=V.reduce(a(j),{});H===!1&&(B={});const{prevResolvedValues:F={}}=U,M={...F,...B},Fe=se=>{x=!0,b.has(se)&&(N=!0,b.delete(se)),U.needsAnimating[se]=!0;const ge=t.getValue(se);ge&&(ge.liveStyle=!1)};for(const se in M){const ge=B[se],Oe=F[se];if(A.hasOwnProperty(se))continue;let k=!1;dy(ge)&&dy(Oe)?k=!j2(ge,Oe):k=ge!==Oe,k?ge!=null?Fe(se):b.add(se):ge!==void 0&&b.has(se)?Fe(se):U.protectedKeys[se]=!0}U.prevProp=G,U.prevResolvedValues=B,U.isActive&&(A={...A,...B}),i&&t.blockInitialAnimation&&(x=!1);const Se=ee&&P;x&&(!Se||N)&&_.push(...V.map(se=>{const ge={type:j};if(typeof se=="string"&&i&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:Oe}=t,k=dl(Oe,se);if(Oe.enteringChildren&&k){const{delayChildren:q}=k.transition||{};ge.delay=U2(Oe.enteringChildren,t,q)}}return{animation:se,options:ge}}))}if(b.size){const O={};if(typeof g.initial!="boolean"){const j=dl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(O.transition=j.transition)}b.forEach(j=>{const U=t.getBaseTarget(j),G=t.getValue(j);G&&(G.liveStyle=!0),O[j]=U??null}),_.push({animation:O})}let D=!!_.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(_):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const v=u(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Yw(),i=!0}}}function q9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!j2(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yw(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H9 extends aa{constructor(e){super(e),e.animationState||(e.animationState=z9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G9=0;class $9 extends aa{constructor(){super(...arguments),this.id=G9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K9={animation:{Feature:H9},exit:{Feature:$9}};function yu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const Y9=t=>e=>X0(e)&&t(e,ku(e));function Zc(t,e,n,i){return yu(t,e,Y9(n),i)}const F2=1e-4,Q9=1-F2,X9=1+F2,z2=.01,W9=0-z2,Z9=0+z2;function kn(t){return t.max-t.min}function J9(t,e,n){return Math.abs(t-e)<=n}function Qw(t,e,n,i=.5){t.origin=i,t.originPoint=It(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Q9&&t.scale<=X9||isNaN(t.scale))&&(t.scale=1),(t.translate>=W9&&t.translate<=Z9||isNaN(t.translate))&&(t.translate=0)}function Jc(t,e,n,i){Qw(t.x,e.x,n.x,i?i.originX:void 0),Qw(t.y,e.y,n.y,i?i.originY:void 0)}function Xw(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function eU(t,e,n){Xw(t.x,e.x,n.x),Xw(t.y,e.y,n.y)}function Ww(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function eu(t,e,n){Ww(t.x,e.x,n.x),Ww(t.y,e.y,n.y)}function dr(t){return[t("x"),t("y")]}const q2=({current:t})=>t?t.ownerDocument.defaultView:null,Zw=(t,e)=>Math.abs(t-e);function tU(t,e){const n=Zw(t.x,e.x),i=Zw(t.y,e.y);return Math.sqrt(n**2+i**2)}class H2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,C=tU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!C)return;const{point:D}=b,{timestamp:O}=En;this.history.push({...D,timestamp:O});const{onStart:j,onMove:U}=this.handlers;A||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,A)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=dg(A,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(b,A)=>{this.end();const{onEnd:C,onSessionEnd:D,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=mg(b.type==="pointercancel"?this.lastMoveEventInfo:dg(A,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,j),D&&D(b,j)},!X0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=ku(e),m=dg(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=En;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,mg(m,this.history)),this.removeListeners=Pu(Zc(this.contextWindow,"pointermove",this.handlePointerMove),Zc(this.contextWindow,"pointerup",this.handlePointerUp),Zc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:Jw(t,G2(e)),offset:Jw(t,nU(e)),velocity:rU(e,.1)}}function nU(t){return t[0]}function G2(t){return t[t.length-1]}function rU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=G2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>ai(e)));)n--;if(!i)return{x:0,y:0};const l=gr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function iU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?It(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?It(n,t,i.max):Math.min(t,n)),t}function e1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sU(t,{top:e,left:n,bottom:i,right:a}){return{x:e1(t.x,n,a),y:e1(t.y,e,i)}}function t1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function aU(t,e){return{x:t1(t.x,e.x),y:t1(t.y,e.y)}}function oU(t,e){let n=.5;const i=kn(t),a=kn(e);return a>i?n=fu(e.min,e.max-i,t.min):i>a&&(n=fu(t.min,t.max-a,e.min)),es(0,1,n)}function lU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gy=.35;function cU(t=gy){return t===!1?t=0:t===!0&&(t=gy),{x:n1(t,"left","right"),y:n1(t,"top","bottom")}}function n1(t,e,n){return{min:r1(t,e),max:r1(t,n)}}function r1(t,e){return typeof t=="number"?t:t[e]||0}const uU=new WeakMap;class hU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(_).point)},u=(_,b)=>{const{drag:A,dragPropagation:C,onDragStart:D}=this.getProps();if(A&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TL(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(j=>{let U=this.getAxisMotionValue(j).get()||0;if(oi.test(U)){const{projection:G}=this.visualElement;if(G&&G.layout){const ce=G.layout.layoutBox[j];ce&&(U=kn(ce)*(parseFloat(U)/100))}}this.originPoint[j]=U}),D&&Rt.postRender(()=>D(_,b)),my(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:A,dragDirectionLock:C,onDirectionLock:D,onDrag:O}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=b;if(C&&this.currentDirection===null){this.currentDirection=fU(j),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),O&&O(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>dr(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new H2(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:q2(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Rt.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!pf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=iU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=sU(i.layoutBox,e):this.constraints=!1,this.elastic=cU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d9(i,a.root,this.visualElement.getTransformPagePoint());let u=aU(a.layout.layoutBox,l);if(n){const f=n(u9(u));this.hasMutatedConstraints=!!f,f&&(u=N2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=dr(v=>{if(!pf(v,n,this.currentDirection))return;let _=m&&m[v]||{};u&&(_={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:i?e[v]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,C)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return my(this.visualElement,e),i.start(sv(e,i,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:i}=this.getProps();if(!pf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-It(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!il(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};dr(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=oU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dr(u=>{if(!pf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(It(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;uU.set(this.visualElement,this);const e=this.visualElement.current,n=Zc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();il(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(i);const u=yu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(dr(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=gy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dU extends aa{constructor(e){super(e),this.removeGroupControls=yr,this.removeListeners=yr,this.controls=new hU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class mU extends aa{constructor(){super(...arguments),this.removePointerDownListener=yr}onPointerDown(e){this.session=new H2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:i1(e),onStart:i1(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Zc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=s1(t,e.target.x),i=s1(t,e.target.y);return`${n}% ${i}%`}},pU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=na.parse(t);if(a.length>5)return i;const l=na.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const g=It(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let pg=!1;class gU extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;UL(yU),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),pg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,pg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;pg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $2(t){const[e,n]=OL(),i=I.useContext(xA);return Xg.jsx(gU,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(A2),isPresent:e,safeToRemove:n})}const yU={borderRadius:{...Lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lc,borderTopRightRadius:Lc,borderBottomLeftRadius:Lc,borderBottomRightRadius:Lc,boxShadow:pU};function vU(t,e,n){const i=In(t)?t:Tl(t);return i.start(sv("",i,e,n)),i.animation}const EU=(t,e)=>t.depth-e.depth;class _U{constructor(){this.children=[],this.isDirty=!1}add(e){I0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(e)}}function bU(t,e){const n=zn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ta(i),t(l-e))};return Rt.setup(i,!0),()=>ta(i)}const K2=["TopLeft","TopRight","BottomLeft","BottomRight"],TU=K2.length,a1=t=>typeof t=="string"?parseFloat(t):t,o1=t=>typeof t=="number"||Le.test(t);function wU(t,e,n,i,a,l){a?(t.opacity=It(0,n.opacity??1,xU(i)),t.opacityExit=It(e.opacity??1,0,SU(i))):l&&(t.opacity=It(e.opacity??1,n.opacity??1,i));for(let u=0;u<TU;u++){const f=`border${K2[u]}Radius`;let m=l1(e,f),g=l1(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||o1(m)===o1(g)?(t[f]=Math.max(It(a1(m),a1(g),i),0),(oi.test(g)||oi.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,i))}function l1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xU=Y2(0,.5,VA),SU=Y2(.5,.95,yr);function Y2(t,e,n){return i=>i<t?0:i>e?1:n(fu(t,e,i))}function c1(t,e){t.min=e.min,t.max=e.max}function fr(t,e){c1(t.x,e.x),c1(t.y,e.y)}function u1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function h1(t,e,n,i,a){return t-=e,t=od(t,1/n,i),a!==void 0&&(t=od(t,1/a,i)),t}function AU(t,e=0,n=1,i=.5,a,l=t,u=t){if(oi.test(e)&&(e=parseFloat(e),e=It(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=It(l.min,l.max,i);t===l&&(f-=e),t.min=h1(t.min,e,n,f,a),t.max=h1(t.max,e,n,f,a)}function f1(t,e,[n,i,a],l,u){AU(t,e[n],e[i],e[a],e.scale,l,u)}const RU=["x","scaleX","originX"],NU=["y","scaleY","originY"];function d1(t,e,n,i){f1(t.x,e,RU,n?n.x:void 0,i?i.x:void 0),f1(t.y,e,NU,n?n.y:void 0,i?i.y:void 0)}function m1(t){return t.translate===0&&t.scale===1}function Q2(t){return m1(t.x)&&m1(t.y)}function p1(t,e){return t.min===e.min&&t.max===e.max}function CU(t,e){return p1(t.x,e.x)&&p1(t.y,e.y)}function g1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function X2(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function y1(t){return kn(t.x)/kn(t.y)}function v1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IU{constructor(){this.members=[]}add(e){I0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OU(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:_,rotateY:b,skewX:A,skewY:C}=n;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),_&&(i+=`rotateX(${_}deg) `),b&&(i+=`rotateY(${b}deg) `),A&&(i+=`skewX(${A}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const gg=["","X","Y","Z"],DU=1e3;let PU=0;function yg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function W2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=k2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&W2(i)}function Z2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=PU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kU),this.nodes.forEach(BU),this.nodes.forEach(FU),this.nodes.forEach(LU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new _U)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new M0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=d2(u)&&!NL(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const b=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{_=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,v&&v(),v=bU(b,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(b1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||$U,{onLayoutAnimationStart:D,onLayoutAnimationComplete:O}=g.getProps(),j=!this.targetLayout||!X2(this.targetLayout,A),U=!_&&b;if(this.options.layoutRoot||this.resumeFrom||U||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...K0(C,"layout"),onPlay:D,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(v,U)}else _||b1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jU),this.nodes.forEach(MU),this.nodes.forEach(VU)):this.nodes.forEach(_1),this.clearAllSnapshots();const f=zn.now();En.delta=es(0,1e3/60,f-En.timestamp),En.timestamp=f,En.isProcessing=!0,sg.update.process(En),sg.preRender.process(En),sg.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UU),this.sharedNodes.forEach(qU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Q2(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||Fa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),KU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ft();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(YU))){const{scroll:g}=this.root;g&&(sl(f.x,g.offset.x),sl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=Ft();if(fr(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&fr(f,u),sl(f.x,v.offset.x),sl(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const m=Ft();fr(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&al(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Fa(v.latestValues)&&al(m,v.latestValues)}return Fa(this.latestValues)&&al(m,this.latestValues),m}removeTransform(u){const f=Ft();fr(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Fa(g.latestValues))continue;uy(g.latestValues)&&g.updateSnapshot();const v=Ft(),_=g.measurePageBox();fr(v,_),d1(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Fa(this.latestValues)&&d1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),eu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),I2(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),eu(this.relativeTargetOrigin,this.target,b.target),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uy(this.parent.latestValues)||C2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===En.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;fr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;f9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ft());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u1(this.prevProjectionDelta.x,this.projectionDelta.x),u1(this.prevProjectionDelta.y,this.projectionDelta.y)),Jc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!v1(this.projectionDelta.x,this.prevProjectionDelta.x)||!v1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},_=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ft(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,D=A!==C,O=this.getStack(),j=!O||O.members.length<=1,U=!!(D&&!j&&this.options.crossfade===!0&&!this.path.some(GU));this.animationProgress=0;let G;this.mixTargetDelta=ce=>{const H=ce/1e3;T1(_.x,u.x,H),T1(_.y,u.y,H),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HU(this.relativeTarget,this.relativeTargetOrigin,b,H),G&&CU(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Ft()),fr(G,this.relativeTarget)),D&&(this.animationValues=v,wU(v,g,this.latestValues,H,U,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=vU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:v}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&J2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ft();const _=kn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const b=kn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}fr(f,m),al(f,v),Jc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new IU),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&yg("z",u,g,this.animationValues);for(let v=0;v<gg.length;v++)yg(`rotate${gg[v]}`,u,g,this.animationValues),yg(`skew${gg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=If(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=If(f?.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=OU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),u.transform=_;const{x:b,y:A}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in gu){if(v[C]===void 0)continue;const{correct:D,applyTo:O,isCSSVariable:j}=gu[C],U=_==="none"?v[C]:D(v[C],g);if(O){const G=O.length;for(let ce=0;ce<G;ce++)u[O[ce]]=U}else j?this.options.visualElement.renderState.vars[C]=U:u[C]=U}this.options.layoutId&&(u.pointerEvents=g===this?If(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(E1),this.root.sharedNodes.clear()}}}function MU(t){t.updateLayout()}function VU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?dr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=kn(_);_.min=n[v].min,_.max=_.min+b}):J2(a,e.layoutBox,n)&&dr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=kn(n[v]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=ol();Jc(u,n,e.layoutBox);const f=ol();l?Jc(f,t.applyTransform(i,!0),e.measuredBox):Jc(f,n,e.layoutBox);const m=!Q2(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:b}=v;if(_&&b){const A=Ft();eu(A,e.layoutBox,_.layoutBox);const C=Ft();eu(C,n,b.layoutBox),X2(A,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UU(t){t.clearSnapshot()}function E1(t){t.clearMeasurements()}function _1(t){t.isLayoutDirty=!1}function jU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BU(t){t.resolveTargetDelta()}function FU(t){t.calcProjection()}function zU(t){t.resetSkewAndRotation()}function qU(t){t.removeLeadSnapshot()}function T1(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function w1(t,e,n,i){t.min=It(e.min,n.min,i),t.max=It(e.max,n.max,i)}function HU(t,e,n,i){w1(t.x,e.x,n.x,i),w1(t.y,e.y,n.y,i)}function GU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $U={duration:.45,ease:[.4,0,.1,1]},x1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S1=x1("applewebkit/")&&!x1("chrome/")?Math.round:yr;function A1(t){t.min=S1(t.min),t.max=S1(t.max)}function KU(t){A1(t.x),A1(t.y)}function J2(t,e,n){return t==="position"||t==="preserve-aspect"&&!J9(y1(e),y1(n),.2)}function YU(t){return t!==t.root&&t.scroll?.wasRoot}const QU=Z2({attachResizeListener:(t,e)=>yu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},eR=Z2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new QU({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XU={pan:{Feature:mU},drag:{Feature:dU,ProjectionNode:eR,MeasureLayout:$2}};function R1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Rt.postRender(()=>l(e,ku(e)))}class WU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=wL(e,(n,i)=>(R1(this.node,i,"Start"),a=>R1(this.node,a,"End"))))}unmount(){}}class ZU extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pu(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Rt.postRender(()=>l(e,ku(e)))}class JU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=RL(e,(n,i)=>(N1(this.node,i,"Start"),(a,{success:l})=>N1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yy=new WeakMap,Eg=new WeakMap,e7=t=>{const e=yy.get(t.target);e&&e(t)},t7=t=>{t.forEach(e7)};function n7({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const i=Eg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(t7,{root:t,...e})),i[a]}function r7(t,e,n){const i=n7(e);return yy.set(t,n),i.observe(t),()=>{yy.delete(t),i.unobserve(t)}}const i7={some:0,all:1};class s7 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:i7[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=g?v:_;b&&b(m)};return r7(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a7(e,n))&&this.startObserver()}unmount(){}}function a7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const o7={inView:{Feature:s7},tap:{Feature:JU},focus:{Feature:ZU},hover:{Feature:WU}},l7={layout:{ProjectionNode:eR,MeasureLayout:$2}},c7={...K9,...o7,...XU,...l7},C1=c9(c7,T9),u7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(!0),[a,l]=I.useState(null),[u,f]=I.useState(null),[m,g]=I.useState(null),[v,_]=I.useState(!1),[b,A]=I.useState(!1),[C,D]=I.useState(null),[O,j]=I.useState(null),[U,G]=I.useState({}),[ce,H]=I.useState(!1),ee=async q=>{const ie=U[q];if(!ie||!ie.trim()){g("Message cannot be empty");return}H(!0);try{await Yg(Yi(Or,"orderMessages"),{orderId:q,message:ie.trim(),timestamp:rw(),sender:"customer"}),G(te=>{const ve={...te};return delete ve[q],ve}),f("Message sent successfully!")}catch(te){console.error("Error sending message:",te),g("Failed to send message.")}finally{H(!1)}},P=(q,ie)=>{G(te=>({...te,[q]:ie}))},x=I.useRef({}),N=I.useCallback(()=>{try{const q=localStorage.getItem("orders");if(!q)return[];const ie=JSON.parse(q);return Array.isArray(ie)?ie:[]}catch(q){return console.error("Error reading orders from localStorage:",q),[]}},[]),V=I.useCallback(q=>{try{localStorage.setItem("orders",JSON.stringify(Array.isArray(q)?q:[]))}catch(ie){console.error("Error saving orders to localStorage:",ie)}},[]),B=I.useCallback(()=>{try{const q=localStorage.getItem("cancellationRequests");if(!q)return[];const ie=JSON.parse(q);return Array.isArray(ie)?ie:[]}catch(q){return console.error("Error reading cancellation requests from localStorage:",q),[]}},[]),F=I.useCallback(q=>{try{localStorage.setItem("cancellationRequests",JSON.stringify(Array.isArray(q)?q:[]))}catch(ie){console.error("Error saving cancellation requests to localStorage:",ie)}},[]),M=I.useCallback(()=>{i(!0),l(null);try{const q=N();e(q)}catch(q){console.error("Error fetching local orders:",q),l("Failed to load your orders.")}finally{i(!1)}},[N]);I.useEffect(()=>{M()},[M]),I.useEffect(()=>{const q=t.map(te=>te.id).filter(Boolean),ie=Object.keys(x.current);q.forEach(te=>{if(x.current[te])return;const ve=Cn(Yi(Or,"orders"),Ir("id","==",te)),Re=hk(ve,Ee=>{if(!Ee.empty){const at=Ee.docs[0].data();e(He=>He.map(xt=>xt.id===te?{...xt,status:at.status??xt.status,timestamp:at.timestamp??xt.timestamp}:xt));try{const xt=N().map(Nt=>Nt.id===te?{...Nt,status:at.status??Nt.status,timestamp:at.timestamp??Nt.timestamp}:Nt);V(xt)}catch(He){console.error("Failed to persist updated order status to localStorage:",He)}}},Ee=>{console.error(`Firestore listener error for order ${te}:`,Ee)});x.current[te]=Re}),ie.forEach(te=>{if(!q.includes(te)){try{x.current[te]?.()}catch{}delete x.current[te]}})},[t,N,V]),I.useEffect(()=>()=>{Object.values(x.current).forEach(q=>{try{q?.()}catch{}}),x.current={}},[]);const Fe=I.useCallback(q=>{try{if(x.current[q]){try{x.current[q]()}catch{}delete x.current[q]}const te=N().filter(ve=>ve.id!==q);V(te),e(te),f("Order removed successfully!"),A(!1),j(null)}catch(ie){console.error("Error removing order:",ie),g("Failed to remove order.")}},[N,V]),Se=q=>{j(q),A(!0)},W=async q=>{if(!q){console.error("❌ Order ID is missing, cannot send cancellation"),g("Order ID not found. Please try again.");return}try{await Yg(Yi(Or,"cancellations"),{orderId:q,message:`User requested to cancel order #${q}`,timestamp:rw()});const ie=B(),te={orderId:q,message:`User requested to cancel order #${q}`,timestamp:new Date().toISOString()};F([...ie,te]);const Re=N().map(Ee=>Ee.id===q?{...Ee,cancellationRequested:!0}:Ee);V(Re),e(Re),f("✅ Your cancel request has been sent to admin."),_(!1),D(null)}catch(ie){console.error("Error sending cancel request:",ie),g("❌ Failed to send cancel request.")}},se=q=>{D(q),_(!0)},ge=q=>(q||[]).reduce((ie,te)=>ie+(Number(te.price)||0)*(Number(te.qty)||0),0),Oe=q=>{switch(q){case"Pending":return{bgColor:"bg-yellow-100",textColor:"text-yellow-800",icon:p.createElement(Qg,{className:"w-4 h-4"})};case"In Transit":case"Shipped":return{bgColor:"bg-blue-100",textColor:"text-blue-800",icon:p.createElement(z3,{className:"w-4 h-4"})};case"Delivered":return{bgColor:"bg-green-100",textColor:"text-green-800",icon:p.createElement(nd,{className:"w-4 h-4"})};case"Cancelled":return{bgColor:"bg-red-100",textColor:"text-red-800",icon:p.createElement(Fs,{className:"w-4 h-4"})};default:return{bgColor:"bg-gray-100",textColor:"text-gray-800",icon:p.createElement(V3,{className:"w-4 h-4"})}}},k=q=>{if(!q)return"N/A";let ie;return q?.seconds?ie=new Date(q.seconds*1e3):typeof q=="string"?ie=new Date(q):ie=new Date(q),ie.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})};return I.useEffect(()=>{if(u||m){const q=setTimeout(()=>{f(null),g(null)},3e3);return()=>clearTimeout(q)}},[u,m]),n?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex justify-center items-center"},p.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})):a?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},p.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),p.createElement("p",{className:"text-gray-600 text-lg mb-8"},a),p.createElement("button",{onClick:M,className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Try Again")):t.length===0?p.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},p.createElement(vr,{className:"w-24 h-24 text-gray-300 mb-6"}),p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Orders"),p.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't placed any orders yet."),p.createElement(Vr,{to:"/",className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Start Shopping")):p.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},(u||m)&&p.createElement("div",{className:"fixed top-4 right-4 z-50"},u&&p.createElement("div",{className:"mb-2 p-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},p.createElement(nd,{className:"w-5 h-5 mr-2"}),u),m&&p.createElement("div",{className:"mb-2 p-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},p.createElement(Qg,{className:"w-5 h-5 mr-2"}),m)),p.createElement("div",{className:"max-w-6xl mx-auto"},p.createElement(C1.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12"},p.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-red-700"},"My Orders"),p.createElement("div",{className:"w-24 h-1 bg-red-600 mx-auto mt-4 rounded-full"})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((q,ie)=>{const te=Oe(q.status),ve=ge(q.items||[]),Re=q.status!=="Cancelled"&&q.status!=="Delivered"&&!q.cancellationRequested;return p.createElement(C1.div,{key:q.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:ie*.08},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},p.createElement("div",{className:"p-5 border-b border-gray-100"},p.createElement("div",{className:"flex justify-between items-start mb-3"},p.createElement("div",null,p.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Order ",q.id),p.createElement("div",{className:"flex items-center text-gray-500 mt-1"},p.createElement(b3,{className:"w-4 h-4 mr-1"}),p.createElement("span",{className:"text-sm"},k(q.timestamp)))),p.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${te.bgColor} ${te.textColor}`},te.icon,p.createElement("span",{className:"ml-1"},q.status)))),p.createElement("div",{className:"p-5"},p.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-3"},"Products Ordered"),p.createElement("div",{className:"space-y-4"},(q.items||[]).map((Ee,at)=>p.createElement("div",{key:Ee.id||at,className:"flex items-center"},p.createElement("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},p.createElement("img",{src:Ee.image||(Array.isArray(Ee.images)?Ee.images[0]:Ee.images),alt:Ee.name,className:"w-full h-full object-cover"})),p.createElement("div",{className:"ml-4 flex-1 min-w-0"},p.createElement("h5",{className:"text-sm font-medium text-gray-900 truncate"},Ee.name),p.createElement("div",{className:"flex justify-between mt-1"},p.createElement("span",{className:"text-sm text-gray-500"},"Qty: ",Ee.qty),p.createElement("span",{className:"text-sm font-medium text-gray-900"},"$",(Number(Ee.price)*Number(Ee.qty)).toFixed(2)))))))),p.createElement("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100"},p.createElement("div",{className:"flex justify-between items-center"},p.createElement("span",{className:"text-base font-medium text-gray-900"},"Grand Total"),p.createElement("span",{className:"text-lg font-bold text-red-700"},"$",ve.toFixed(2)))),p.createElement("div",{className:"flex justify-between items-center px-5 py-3"},Re?p.createElement("button",{onClick:()=>se(q.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},p.createElement(Fs,{className:"w-4 h-4"})," Cancel order"):p.createElement("span",{className:"text-gray-400 text-sm flex items-center gap-2 cursor-not-allowed"},p.createElement(Fs,{className:"w-4 h-4"}),q.cancellationRequested?"Cancellation Requested":"The order is cancelled"),p.createElement("button",{onClick:()=>Se(q.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},p.createElement(Fs,{className:"w-4 h-4"})," Remove")),p.createElement("div",{className:"p-5 border-t border-gray-100 w-full"},p.createElement("div",{className:"mb-2"},p.createElement("label",{htmlFor:`message-${q.id}`,className:"block text-sm font-medium text-gray-700 mb-1"},"Message to Delivery"),p.createElement("textarea",{id:`message-${q.id}`,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type your message here...",value:U[q.id]||"",onChange:Ee=>P(q.id,Ee.target.value),rows:3})),p.createElement("button",{onClick:()=>ee(q.id),disabled:ce||!U[q.id]?.trim(),className:"mt-2 px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors w-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},ce?p.createElement(p.Fragment,null,p.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."):"Send Message")))}))),v&&p.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},p.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},p.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Cancellation"),p.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to request cancellation for order #",C,"? The admin will review your request."),p.createElement("div",{className:"flex justify-end space-x-3"},p.createElement("button",{onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"No, Keep Order"),p.createElement("button",{onClick:()=>W(C),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Yes, Request Cancellation")))),b&&p.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},p.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},p.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Removal"),p.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to remove order #",O," from your orders list? This will only remove it from your view."),p.createElement("div",{className:"flex justify-end space-x-3"},p.createElement("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Cancel"),p.createElement("button",{onClick:()=>Fe(O),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Remove Order")))))};function h7(){const[t,e]=I.useState([]),[n,i]=I.useState(!1),[a,l]=I.useState(!1),[u,f]=I.useState([]),[m,g]=I.useState(""),v=j=>{e(U=>U.find(ce=>ce.id===j.id)?U.map(ce=>ce.id===j.id?{...ce,qty:ce.qty+1}:ce):[...U,{...j,qty:1}])},_=j=>e(t.map(U=>U.id===j?{...U,qty:U.qty+1}:U)),b=j=>e(t.map(U=>U.id===j?{...U,qty:U.qty>1?U.qty-1:1}:U)),A=j=>e(t.filter(U=>U.id!==j)),C=()=>e([]),D=()=>t.reduce((j,U)=>j+U.qty,0),O=()=>t.reduce((j,U)=>j+parseFloat(U.price)*U.qty,0);return p.createElement(KC,null,p.createElement(v5,{cartItemCount:D(),onCartClick:()=>i(!0),onSearch:g}),p.createElement(E5,{isOpen:n,onClose:()=>i(!1),cart:t,onIncreaseQty:_,onDecreaseQty:b,onRemoveItem:A,onClearCart:C,onCheckout:()=>{l(!0),i(!1)},total:O()}),p.createElement(S5,{isOpen:a,onClose:()=>l(!1),cart:t,total:O(),onOrderSuccess:C}),p.createElement(xC,null,p.createElement(Bi,{path:"/",element:p.createElement(d3,{onAddToCart:v,onAddToFavorites:j=>f([...u,j]),onRemoveFromFavorites:j=>f(u.filter(U=>U.id!==j)),favorites:u,searchQuery:m})}),p.createElement(Bi,{path:"/men",element:p.createElement(e5,{onAddToCart:v})}),p.createElement(Bi,{path:"/orders",element:p.createElement(u7,{onAddToCart:v})}),p.createElement(Bi,{path:"/women",element:p.createElement(l5,{onAddToCart:v})}),p.createElement(Bi,{path:"/kids",element:p.createElement(g5,{onAddToCart:v})}),p.createElement(Bi,{path:"/favorites",element:p.createElement(y5,{favorites:u,onAddToCart:v})}),p.createElement(Bi,{path:"/product/:id",element:p.createElement(R5,{onAddToCart:v})}),p.createElement(Bi,{path:"/contact",element:p.createElement(C5,null)})),p.createElement(N5,null))}PN.createRoot(document.getElementById("root")).render(p.createElement(I.StrictMode,null,p.createElement(h7,null)));export{fw as A,b3 as C,R0 as E,ea as H,v3 as I,C3 as L,O3 as M,V3 as P,p as R,vr as S,TA as T,H3 as U,wA as W,Fs as X,qt as a,Qg as b,Yi as c,Or as d,nd as e,EA as f,Du as g,dw as h,mw as i,_A as j,L3 as k,bA as l,z3 as m,I as r};
