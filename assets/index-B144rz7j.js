const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-BdtW-UKj.js","assets/chevron-right-wUth6uyC.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-BdLtzD6y.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function TN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vp={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function wN(){if(pb)return ze;pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function I(D,re,ge){this.props=D,this.context=re,this.refs=P,this.updater=ge||A}I.prototype.isReactComponent={},I.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},I.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function B(){}B.prototype=I.prototype;function U(D,re,ge){this.props=D,this.context=re,this.refs=P,this.updater=ge||A}var q=U.prototype=new B;q.constructor=U,C(q,I.prototype),q.isPureReactComponent=!0;var ie=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function V(D,re,ge,le,_e,Oe){return ge=Oe.ref,{$$typeof:t,type:D,key:re,ref:ge!==void 0?ge:null,props:Oe}}function x(D,re){return V(D.type,re,void 0,void 0,void 0,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function M(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ge){return re[ge]})}var j=/\/+/g;function z(D,re){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):re.toString(36)}function k(){}function qe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function de(D,re,ge,le,_e){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(Oe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case t:case e:Re=!0;break;case v:return Re=D._init,de(Re(D._payload),re,ge,le,_e)}}if(Re)return _e=_e(D),Re=le===""?"."+z(D,0):le,ie(_e)?(ge="",Re!=null&&(ge=Re.replace(j,"$&/")+"/"),de(_e,re,ge,"",function(wn){return wn})):_e!=null&&(N(_e)&&(_e=x(_e,ge+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Re)),re.push(_e)),1;Re=0;var At=le===""?".":le+":";if(ie(D))for(var We=0;We<D.length;We++)le=D[We],Oe=At+z(le,We),Re+=de(le,re,ge,Oe,_e);else if(We=b(D),typeof We=="function")for(D=We.call(D),We=0;!(le=D.next()).done;)le=le.value,Oe=At+z(le,We++),Re+=de(le,re,ge,Oe,_e);else if(Oe==="object"){if(typeof D.then=="function")return de(qe(D),re,ge,le,_e);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Re}function K(D,re,ge){if(D==null)return D;var le=[],_e=0;return de(D,le,"","",function(Oe){return re.call(ge,Oe,_e++)}),le}function ne(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(ge){(D._status===0||D._status===-1)&&(D._status=1,D._result=ge)},function(ge){(D._status===0||D._status===-1)&&(D._status=2,D._result=ge)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var ye=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ae(){}return ze.Children={map:K,forEach:function(D,re,ge){K(D,function(){re.apply(this,arguments)},ge)},count:function(D){var re=0;return K(D,function(){re++}),re},toArray:function(D){return K(D,function(re){return re})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ze.Component=I,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=U,ze.StrictMode=i,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return H.H.useMemoCache(D)}},ze.cache=function(D){return function(){return D.apply(null,arguments)}},ze.cloneElement=function(D,re,ge){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=C({},D.props),_e=D.key,Oe=void 0;if(re!=null)for(Re in re.ref!==void 0&&(Oe=void 0),re.key!==void 0&&(_e=""+re.key),re)!J.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(le[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)le.children=ge;else if(1<Re){for(var At=Array(Re),We=0;We<Re;We++)At[We]=arguments[We+2];le.children=At}return V(D.type,_e,void 0,void 0,Oe,le)},ze.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},ze.createElement=function(D,re,ge){var le,_e={},Oe=null;if(re!=null)for(le in re.key!==void 0&&(Oe=""+re.key),re)J.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=re[le]);var Re=arguments.length-2;if(Re===1)_e.children=ge;else if(1<Re){for(var At=Array(Re),We=0;We<Re;We++)At[We]=arguments[We+2];_e.children=At}if(D&&D.defaultProps)for(le in Re=D.defaultProps,Re)_e[le]===void 0&&(_e[le]=Re[le]);return V(D,Oe,void 0,void 0,null,_e)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:f,render:D}},ze.isValidElement=N,ze.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ne}},ze.memo=function(D,re){return{$$typeof:p,type:D,compare:re===void 0?null:re}},ze.startTransition=function(D){var re=H.T,ge={};H.T=ge;try{var le=D(),_e=H.S;_e!==null&&_e(ge,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ae,ye)}catch(Oe){ye(Oe)}finally{H.T=re}},ze.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ze.use=function(D){return H.H.use(D)},ze.useActionState=function(D,re,ge){return H.H.useActionState(D,re,ge)},ze.useCallback=function(D,re){return H.H.useCallback(D,re)},ze.useContext=function(D){return H.H.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D,re){return H.H.useDeferredValue(D,re)},ze.useEffect=function(D,re,ge){var le=H.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(D,re)},ze.useId=function(){return H.H.useId()},ze.useImperativeHandle=function(D,re,ge){return H.H.useImperativeHandle(D,re,ge)},ze.useInsertionEffect=function(D,re){return H.H.useInsertionEffect(D,re)},ze.useLayoutEffect=function(D,re){return H.H.useLayoutEffect(D,re)},ze.useMemo=function(D,re){return H.H.useMemo(D,re)},ze.useOptimistic=function(D,re){return H.H.useOptimistic(D,re)},ze.useReducer=function(D,re,ge){return H.H.useReducer(D,re,ge)},ze.useRef=function(D){return H.H.useRef(D)},ze.useState=function(D){return H.H.useState(D)},ze.useSyncExternalStore=function(D,re,ge){return H.H.useSyncExternalStore(D,re,ge)},ze.useTransition=function(){return H.H.useTransition()},ze.version="19.1.1",ze}var gb;function ld(){return gb||(gb=1,Vp.exports=wN()),Vp.exports}var O=ld();const g=TN(O);var kp={exports:{}},Mc={},Lp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function xN(){return yb||(yb=1,(function(t){function e(K,ne){var ye=K.length;K.push(ne);e:for(;0<ye;){var Ae=ye-1>>>1,D=K[Ae];if(0<a(D,ne))K[Ae]=ne,K[ye]=D,ye=Ae;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ne=K[0],ye=K.pop();if(ye!==ne){K[0]=ye;e:for(var Ae=0,D=K.length,re=D>>>1;Ae<re;){var ge=2*(Ae+1)-1,le=K[ge],_e=ge+1,Oe=K[_e];if(0>a(le,ye))_e<D&&0>a(Oe,le)?(K[Ae]=Oe,K[_e]=ye,Ae=_e):(K[Ae]=le,K[ge]=ye,Ae=ge);else if(_e<D&&0>a(Oe,ye))K[Ae]=Oe,K[_e]=ye,Ae=_e;else break e}}return ne}function a(K,ne){var ye=K.sortIndex-ne.sortIndex;return ye!==0?ye:K.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,_=null,b=3,A=!1,C=!1,P=!1,I=!1,B=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ie(K){for(var ne=n(p);ne!==null;){if(ne.callback===null)i(p);else if(ne.startTime<=K)i(p),ne.sortIndex=ne.expirationTime,e(m,ne);else break;ne=n(p)}}function H(K){if(P=!1,ie(K),!C)if(n(m)!==null)C=!0,J||(J=!0,z());else{var ne=n(p);ne!==null&&de(H,ne.startTime-K)}}var J=!1,V=-1,x=5,N=-1;function M(){return I?!0:!(t.unstable_now()-N<x)}function j(){if(I=!1,J){var K=t.unstable_now();N=K;var ne=!0;try{e:{C=!1,P&&(P=!1,U(V),V=-1),A=!0;var ye=b;try{t:{for(ie(K),_=n(m);_!==null&&!(_.expirationTime>K&&M());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,b=_.priorityLevel;var D=Ae(_.expirationTime<=K);if(K=t.unstable_now(),typeof D=="function"){_.callback=D,ie(K),ne=!0;break t}_===n(m)&&i(m),ie(K)}else i(m);_=n(m)}if(_!==null)ne=!0;else{var re=n(p);re!==null&&de(H,re.startTime-K),ne=!1}}break e}finally{_=null,b=ye,A=!1}ne=void 0}}finally{ne?z():J=!1}}}var z;if(typeof q=="function")z=function(){q(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,qe=k.port2;k.port1.onmessage=j,z=function(){qe.postMessage(null)}}else z=function(){B(j,0)};function de(K,ne){V=B(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var ye=b;b=ne;try{return K()}finally{b=ye}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=b;b=K;try{return ne()}finally{b=ye}},t.unstable_scheduleCallback=function(K,ne,ye){var Ae=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ae+ye:Ae):ye=Ae,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ye+D,K={id:v++,callback:ne,priorityLevel:K,startTime:ye,expirationTime:D,sortIndex:-1},ye>Ae?(K.sortIndex=ye,e(p,K),n(m)===null&&K===n(p)&&(P?(U(V),V=-1):P=!0,de(H,ye-Ae))):(K.sortIndex=D,e(m,K),C||A||(C=!0,J||(J=!0,z()))),K},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(K){var ne=b;return function(){var ye=b;b=ne;try{return K.apply(this,arguments)}finally{b=ye}}}})(Up)),Up}var vb;function SN(){return vb||(vb=1,Lp.exports=xN()),Lp.exports}var jp={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function AN(){if(Eb)return Sn;Eb=1;var t=ld();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Sn.flushSync=function(m){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=v,i.d.f()}},Sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Sn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Sn.requestFormReset=function(m){i.d.r(m)},Sn.unstable_batchedUpdates=function(m,p){return m(p)},Sn.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var _b;function RN(){if(_b)return jp.exports;_b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=AN(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function NN(){if(bb)return Mc;bb=1;var t=SN(),e=ld(),n=RN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return f(d),r;if(y===c)return f(d),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=y;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,c=y;break}if(S===c){w=!0,c=d,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,c=d;break}if(S===c){w=!0,c=y,o=d;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function qe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case I:return"Profiler";case P:return"StrictMode";case H:return"Suspense";case J:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case q:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return s=r.displayName||null,s!==null?s:qe(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return qe(r(s))}catch{}}return null}var de=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ae=[],D=-1;function re(r){return{current:r}}function ge(r){0>D||(r.current=Ae[D],Ae[D]=null,D--)}function le(r,s){D++,Ae[D]=r.current,r.current=s}var _e=re(null),Oe=re(null),Re=re(null),At=re(null);function We(r,s){switch(le(Re,s),le(Oe,r),le(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?q_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=q_(s),r=H_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(_e),le(_e,r)}function wn(){ge(_e),ge(Oe),ge(Re)}function hn(r){r.memoizedState!==null&&le(At,r);var s=_e.current,o=H_(s,r.type);s!==o&&(le(Oe,r),le(_e,o))}function yt(r){Oe.current===r&&(ge(_e),ge(Oe)),At.current===r&&(ge(At),Cc._currentValue=ye)}var zt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,rs=t.unstable_shouldYield,oa=t.unstable_requestPaint,Ln=t.unstable_now,is=t.unstable_getCurrentPriorityLevel,la=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,Er=t.unstable_NormalPriority,ss=t.unstable_LowPriority,Vr=t.unstable_IdlePriority,ca=t.log,pe=t.unstable_setDisableYieldValue,$=null,ae=null;function me(r){if(typeof ca=="function"&&pe(r),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode($,r)}catch{}}var Ie=Math.clz32?Math.clz32:te,Fe=Math.log,nt=Math.LN2;function te(r){return r>>>=0,r===0?32:31-(Fe(r)/nt|0)|0}var ce=256,we=4194304;function be(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Te(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?d=be(c):(w&=S,w!==0?d=be(w):o||(o=S&~r,o!==0&&(d=be(o))))):(S=c&~y,S!==0?d=be(S):w!==0?d=be(w):o||(o=c&~r,o!==0&&(d=be(o)))),d===0?0:s!==0&&s!==d&&(s&y)===0&&(y=d&-d,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:d}function Ue(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ct(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var r=ce;return ce<<=1,(ce&4194048)===0&&(ce=256),r}function it(){var r=we;return we<<=1,(we&62914560)===0&&(we=4194304),r}function vt(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function at(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dt(r,s,o,c,d,y){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,L=r.expirationTimes,X=r.hiddenUpdates;for(o=w&~o;0<o;){var se=31-Ie(o),he=1<<se;S[se]=0,L[se]=-1;var W=X[se];if(W!==null)for(X[se]=null,se=0;se<W.length;se++){var Z=W[se];Z!==null&&(Z.lane&=-536870913)}o&=~he}c!==0&&fn(r,c,0),y!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~s))}function fn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ie(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function qn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Ie(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _r(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:cb(r.type))}function Lu(r,s){var o=ne.p;try{return ne.p=r,s()}finally{ne.p=o}}var wt=Math.random().toString(36).slice(2),Zt="__reactFiber$"+wt,qt="__reactProps$"+wt,er="__reactContainer$"+wt,Ml="__reactEvents$"+wt,Ud="__reactListeners$"+wt,as="__reactHandles$"+wt,Uu="__reactResources$"+wt,ua="__reactMarker$"+wt;function os(r){delete r[Zt],delete r[qt],delete r[Ml],delete r[Ud],delete r[as]}function yi(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[er]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Y_(r);r!==null;){if(o=r[Zt])return o;r=Y_(r)}return s}r=o,o=r.parentNode}return null}function kr(r){if(r=r[Zt]||r[er]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Lr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Dn(r){var s=r[Uu];return s||(s=r[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[ua]=!0}var Vl=new Set,co={};function br(r,s){vi(r,s),vi(r+"Capture",s)}function vi(r,s){for(co[r]=s,r=0;r<s.length;r++)Vl.add(s[r])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},ha={};function Fu(r){return zt.call(ha,r)?!0:zt.call(Bu,r)?!1:ju.test(r)?ha[r]=!0:(Bu[r]=!0,!1)}function ls(r,s,o){if(Fu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ur(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function dn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var fa,zu;function Ei(r){if(fa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",zu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+r+zu}var uo=!1;function ho(r,s){if(!r||uo)return"";uo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(Z){var W=Z}Reflect.construct(r,[],he)}else{try{he.call()}catch(Z){W=Z}r.call(he.prototype)}}else{try{throw Error()}catch(Z){W=Z}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var L=w.split(`
`),X=S.split(`
`);for(d=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(c===L.length||d===X.length)for(c=L.length-1,d=X.length-1;1<=c&&0<=d&&L[c]!==X[d];)d--;for(;1<=c&&0<=d;c--,d--)if(L[c]!==X[d]){if(c!==1||d!==1)do if(c--,d--,0>d||L[c]!==X[d]){var se=`
`+L[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=d);break}}}finally{uo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ei(o):""}function kl(r){switch(r.tag){case 26:case 27:case 5:return Ei(r.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return ho(r.type,!1);case 11:return ho(r.type.render,!1);case 1:return ho(r.type,!0);case 31:return Ei("Activity");default:return""}}function fo(r){try{var s="";do s+=kl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jd(r){var s=Ll(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mo(r){r._valueTracker||(r._valueTracker=jd(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ll(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bd=/[\n"\\]/g;function Ht(r){return r.replace(Bd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Gn(r,s,o,c,d,y,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Pn(s)):r.value!==""+Pn(s)&&(r.value=""+Pn(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?cs(r,w,Pn(s)):o!=null?cs(r,w,Pn(o)):c!=null&&r.removeAttribute("value"),d==null&&y!=null&&(r.defaultChecked=!!y),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Pn(S):r.removeAttribute("name")}function ma(r,s,o,c,d,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Pn(o):"",s=s!=null?""+Pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function cs(r,s,o){s==="number"&&da(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _i(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Pn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function dt(r,s,o){if(s!=null&&(s=""+Pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Pn(o):""}function pa(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Pn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function tr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||ga.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function jl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&qu(r,d,c)}else for(var y in s)s.hasOwnProperty(y)&&qu(r,y,s[y])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(r){return zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var bi=null;function nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ti=null,wi=null;function Fl(r){var s=kr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Gn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[qt]||null;if(!d)throw Error(i(90));Gn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ul(c)}break e;case"textarea":dt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_i(r,!!o.multiple,s,!1)}}}var jr=!1;function Hu(r,s,o){if(jr)return r(s,o);jr=!0;try{var c=r(s);return c}finally{if(jr=!1,(Ti!==null||wi!==null)&&(Lh(),Ti&&(s=Ti,r=wi,wi=Ti=null,Fl(s),r)))for(s=0;s<r.length;s++)Fl(r[s])}}function ya(r,s){var o=r.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(Tr)try{var va={};Object.defineProperty(va,"passive",{get:function(){rr=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{rr=!1}var Br=null,us=null,xi=null;function zl(){if(xi)return xi;var r,s=us,o=s.length,c,d="value"in Br?Br.value:Br.textContent,y=d.length;for(r=0;r<o&&s[r]===d[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===d[y-c];c++);return xi=d.slice(r,1<c?1-c:void 0)}function Fr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function zr(){return!0}function ql(){return!1}function sn(r){function s(o,c,d,y,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:ql,this.isPropagationStopped=ql,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),s}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=sn(ot),Ea=v({},ot,{view:0,detail:0}),Gu=sn(Ea),yo,vo,qr,_a=v({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qr&&(qr&&r.type==="mousemove"?(yo=r.screenX-qr.screenX,vo=r.screenY-qr.screenY):vo=yo=0,qr=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),ir=sn(_a),$u=v({},_a,{dataTransfer:0}),qd=sn($u),ba=v({},Ea,{relatedTarget:0}),Eo=sn(ba),Hl=v({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),_o=sn(Hl),Ku=v({},ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bo=sn(Ku),Hd=v({},ot,{data:0}),Gl=sn(Hd),Ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Qu[r])?!!s[r]:!1}function wa(){return $l}var Xu=v({},Ea,{key:function(r){if(r.key){var s=Ta[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(r){return r.type==="keypress"?Fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),To=sn(Xu),Wu=v({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=sn(Wu),Si=v({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Zu=sn(Si),Ju=v({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=sn(Ju),th=v({},_a,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=sn(th),Mn=v({},ot,{newState:0,oldState:0}),nh=sn(Mn),rh=[9,13,27,32],Hr=Tr&&"CompositionEvent"in window,h=null;Tr&&"documentMode"in document&&(h=document.documentMode);var E=Tr&&"TextEvent"in window&&!h,T=Tr&&(!Hr||h&&8<h&&11>=h),R=" ",Y=!1;function ee(r,s){switch(r){case"keyup":return rh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function Jt(r,s){switch(r){case"compositionend":return ve(s);case"keypress":return s.which!==32?null:(Y=!0,R);case"textInput":return r=s.data,r===R&&Y?null:r;default:return null}}function Je(r,s){if(Ze)return r==="compositionend"||!Hr&&ee(r,s)?(r=zl(),xi=us=Br=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!an[r.type]:s==="textarea"}function Ai(r,s,o,c){Ti?wi?wi.push(c):wi=[c]:Ti=c,s=qh(s,"onChange"),0<s.length&&(o=new go("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var mn=null,Gr=null;function Yl(r){U_(r,0)}function ih(r){var s=Lr(r);if(Ul(s))return r}function sv(r,s){if(r==="change")return s}var av=!1;if(Tr){var Gd;if(Tr){var $d="oninput"in document;if(!$d){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),$d=typeof ov.oninput=="function"}Gd=$d}else Gd=!1;av=Gd&&(!document.documentMode||9<document.documentMode)}function lv(){mn&&(mn.detachEvent("onpropertychange",cv),Gr=mn=null)}function cv(r){if(r.propertyName==="value"&&ih(Gr)){var s=[];Ai(s,Gr,r,nr(r)),Hu(Yl,s)}}function ZR(r,s,o){r==="focusin"?(lv(),mn=s,Gr=o,mn.attachEvent("onpropertychange",cv)):r==="focusout"&&lv()}function JR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ih(Gr)}function e2(r,s){if(r==="click")return ih(s)}function t2(r,s){if(r==="input"||r==="change")return ih(s)}function n2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:n2;function Ql(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!zt.call(s,d)||!$n(r[d],s[d]))return!1}return!0}function uv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hv(r,s){var o=uv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function fv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?fv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=da(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=da(r.document)}return s}function Kd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var r2=Tr&&"documentMode"in document&&11>=document.documentMode,xo=null,Yd=null,Xl=null,Qd=!1;function mv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qd||xo==null||xo!==da(c)||(c=xo,"selectionStart"in c&&Kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=qh(Yd,"onSelect"),0<c.length&&(s=new go("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=xo)))}function xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var So={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Xd={},pv={};Tr&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Sa(r){if(Xd[r])return Xd[r];if(!So[r])return r;var s=So[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in pv)return Xd[r]=s[o];return r}var gv=Sa("animationend"),yv=Sa("animationiteration"),vv=Sa("animationstart"),i2=Sa("transitionrun"),s2=Sa("transitionstart"),a2=Sa("transitioncancel"),Ev=Sa("transitionend"),_v=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function wr(r,s){_v.set(r,s),br(s,[r])}var bv=new WeakMap;function sr(r,s){if(typeof r=="object"&&r!==null){var o=bv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:fo(s)},bv.set(r,s),s)}return{value:r,source:s,stack:fo(s)}}var ar=[],Ao=0,Zd=0;function sh(){for(var r=Ao,s=Zd=Ao=0;s<r;){var o=ar[s];ar[s++]=null;var c=ar[s];ar[s++]=null;var d=ar[s];ar[s++]=null;var y=ar[s];if(ar[s++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}y!==0&&Tv(o,d,y)}}function ah(r,s,o,c){ar[Ao++]=r,ar[Ao++]=s,ar[Ao++]=o,ar[Ao++]=c,Zd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Jd(r,s,o,c){return ah(r,s,o,c),oh(r)}function Ro(r,s){return ah(r,null,null,s),oh(r)}function Tv(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(d=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,d&&s!==null&&(d=31-Ie(o),r=y.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),y):null}function oh(r){if(50<bc)throw bc=0,sp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var No={};function o2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,o,c){return new o2(r,s,o,c)}function em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ri(r,s){var o=r.alternate;return o===null?(o=Kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function wv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function lh(r,s,o,c,d,y){var w=0;if(c=r,typeof r=="function")em(r)&&(w=1);else if(typeof r=="string")w=cN(r,o,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Kn(31,o,s,d),r.elementType=N,r.lanes=y,r;case C:return Aa(o.children,d,y,s);case P:w=8,d|=24;break;case I:return r=Kn(12,o,s,d|2),r.elementType=I,r.lanes=y,r;case H:return r=Kn(13,o,s,d),r.elementType=H,r.lanes=y,r;case J:return r=Kn(19,o,s,d),r.elementType=J,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case q:w=10;break e;case U:w=9;break e;case ie:w=11;break e;case V:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Kn(w,o,s,d),s.elementType=r,s.type=c,s.lanes=y,s}function Aa(r,s,o,c){return r=Kn(7,r,c,s),r.lanes=o,r}function tm(r,s,o){return r=Kn(6,r,null,s),r.lanes=o,r}function nm(r,s,o){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Co=[],Io=0,ch=null,uh=0,or=[],lr=0,Ra=null,Ni=1,Ci="";function Na(r,s){Co[Io++]=uh,Co[Io++]=ch,ch=r,uh=s}function xv(r,s,o){or[lr++]=Ni,or[lr++]=Ci,or[lr++]=Ra,Ra=r;var c=Ni;r=Ci;var d=32-Ie(c)-1;c&=~(1<<d),o+=1;var y=32-Ie(s)+d;if(30<y){var w=d-d%5;y=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ni=1<<32-Ie(s)+d|o<<d|c,Ci=y+r}else Ni=1<<y|o<<d|c,Ci=r}function rm(r){r.return!==null&&(Na(r,1),xv(r,1,0))}function im(r){for(;r===ch;)ch=Co[--Io],Co[Io]=null,uh=Co[--Io],Co[Io]=null;for(;r===Ra;)Ra=or[--lr],or[lr]=null,Ci=or[--lr],or[lr]=null,Ni=or[--lr],or[lr]=null}var Vn=null,Pt=null,st=!1,Ca=null,$r=!1,sm=Error(i(519));function Ia(r){var s=Error(i(418,""));throw Jl(sr(s,r)),sm}function Sv(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Zt]=r,s[qt]=c,o){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(o=0;o<wc.length;o++)Ke(wc[o],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),ma(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),mo(s);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),pa(s,c.value,c.defaultValue,c.children),mo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||z_(s.textContent,o)?(c.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),c.onScroll!=null&&Ke("scroll",s),c.onScrollEnd!=null&&Ke("scrollend",s),c.onClick!=null&&(s.onclick=Hh),s=!0):s=!1,s||Ia(r)}function Av(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Vn=Vn.return}}function Wl(r){if(r!==Vn)return!1;if(!st)return Av(r),st=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||bp(r.type,r.memoizedProps)),o=!o),o&&Pt&&Ia(r),Av(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Pt=Sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Pt=null}}else s===27?(s=Pt,As(r.type)?(r=Sp,Sp=null,Pt=r):Pt=s):Pt=Vn?Sr(r.stateNode.nextSibling):null;return!0}function Zl(){Pt=Vn=null,st=!1}function Rv(){var r=Ca;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),Ca=null),r}function Jl(r){Ca===null?Ca=[r]:Ca.push(r)}var am=re(null),Oa=null,Ii=null;function hs(r,s,o){le(am,s._currentValue),s._currentValue=o}function Oi(r){r._currentValue=am.current,ge(am)}function om(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function lm(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=d;for(var L=0;L<s.length;L++)if(S.context===s[L]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),om(y.return,o,r),c||(w=null);break e}y=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),om(w,o,r),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===r){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ec(r,s,o,c){r=null;for(var d=s,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=d.type;$n(d.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(d===At.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Cc):r=[Cc])}d=d.return}r!==null&&lm(s,r,o,c),s.flags|=262144}function hh(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Da(r){Oa=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Nv(Oa,r)}function fh(r,s){return Oa===null&&Da(r),Nv(r,s)}function Nv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ii===null){if(r===null)throw Error(i(308));Ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ii=Ii.next=s;return o}var l2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},c2=t.unstable_scheduleCallback,u2=t.unstable_NormalPriority,tn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new l2,data:new Map,refCount:0}}function tc(r){r.refCount--,r.refCount===0&&c2(u2,function(){r.controller.abort()})}var nc=null,um=0,Oo=0,Do=null;function h2(r,s){if(nc===null){var o=nc=[];um=0,Oo=fp(),Do={status:"pending",value:void 0,then:function(c){o.push(c)}}}return um++,s.then(Cv,Cv),s}function Cv(){if(--um===0&&nc!==null){Do!==null&&(Do.status="fulfilled");var r=nc;nc=null,Oo=0,Do=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function f2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Iv=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&h2(r,s),Iv!==null&&Iv(r,s)};var Pa=re(null);function hm(){var r=Pa.current;return r!==null?r:bt.pooledCache}function dh(r,s){s===null?le(Pa,Pa.current):le(Pa,s.pool)}function Ov(){var r=hm();return r===null?null:{parent:tn._currentValue,pool:r}}var rc=Error(i(460)),Dv=Error(i(474)),mh=Error(i(542)),fm={then:function(){}};function Pv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ph(){}function Mv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ph,ph),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kv(r),r;default:if(typeof s.status=="string")s.then(ph,ph);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kv(r),r}throw ic=s,rc}}var ic=null;function Vv(){if(ic===null)throw Error(i(459));var r=ic;return ic=null,r}function kv(r){if(r===rc||r===mh)throw Error(i(483))}var fs=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ds(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ms(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=oh(r),Tv(r,null,o),s}return ah(r,c,s,o),oh(r)}function sc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}function pm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?d=y=s:y=y.next=s}else d=y=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var gm=!1;function ac(){if(gm){var r=Do;if(r!==null)throw r}}function oc(r,s,o,c){gm=!1;var d=r.updateQueue;fs=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var L=S,X=L.next;L.next=null,w===null?y=X:w.next=X,w=L;var se=r.alternate;se!==null&&(se=se.updateQueue,S=se.lastBaseUpdate,S!==w&&(S===null?se.firstBaseUpdate=X:S.next=X,se.lastBaseUpdate=L))}if(y!==null){var he=d.baseState;w=0,se=X=L=null,S=y;do{var W=S.lane&-536870913,Z=W!==S.lane;if(Z?(et&W)===W:(c&W)===W){W!==0&&W===Oo&&(gm=!0),se!==null&&(se=se.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=r,De=S;W=s;var gt=o;switch(De.tag){case 1:if(ke=De.payload,typeof ke=="function"){he=ke.call(gt,he,W);break e}he=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,W=typeof ke=="function"?ke.call(gt,he,W):ke,W==null)break e;he=v({},he,W);break e;case 2:fs=!0}}W=S.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},se===null?(X=se=Z,L=he):se=se.next=Z,w|=W;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);se===null&&(L=he),d.baseState=L,d.firstBaseUpdate=X,d.lastBaseUpdate=se,y===null&&(d.shared.lanes=0),Ts|=w,r.lanes=w,r.memoizedState=he}}function Lv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Uv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Lv(o[r],s)}var Po=re(null),gh=re(0);function jv(r,s){r=Ui,le(gh,r),le(Po,s),Ui=r|s.baseLanes}function ym(){le(gh,Ui),le(Po,Po.current)}function vm(){Ui=gh.current,ge(Po),ge(gh)}var ps=0,He=null,mt=null,Gt=null,yh=!1,Mo=!1,Ma=!1,vh=0,lc=0,Vo=null,d2=0;function Lt(){throw Error(i(321))}function Em(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!$n(r[o],s[o]))return!1;return!0}function _m(r,s,o,c,d,y){return ps=y,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?TE:wE,Ma=!1,y=o(c,d),Ma=!1,Mo&&(y=Fv(s,o,c,d)),Bv(r),y}function Bv(r){K.H=xh;var s=mt!==null&&mt.next!==null;if(ps=0,Gt=mt=He=null,yh=!1,lc=0,Vo=null,s)throw Error(i(300));r===null||on||(r=r.dependencies,r!==null&&hh(r)&&(on=!0))}function Fv(r,s,o,c){He=r;var d=0;do{if(Mo&&(Vo=null),lc=0,Mo=!1,25<=d)throw Error(i(301));if(d+=1,Gt=mt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=_2,y=s(o,c)}while(Mo);return y}function m2(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?cc(s):s,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(He.flags|=1024),s}function bm(){var r=vh!==0;return vh=0,r}function Tm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function wm(r){if(yh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yh=!1}ps=0,Gt=mt=He=null,Mo=!1,lc=vh=0,Vo=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?He.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function $t(){if(mt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=Gt===null?He.memoizedState:Gt.next;if(s!==null)Gt=s,mt=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Gt===null?He.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function xm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(r){var s=lc;return lc+=1,Vo===null&&(Vo=[]),r=Mv(Vo,r,s),s=He,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?TE:wE),r}function Eh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return cc(r);if(r.$$typeof===q)return xn(r)}throw Error(i(438,String(r)))}function Sm(r){var s=null,o=He.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=xm(),He.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=M;return s.index++,o}function Di(r,s){return typeof s=="function"?s(r):s}function _h(r){var s=$t();return Am(s,mt,r)}function Am(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,y=c.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}s.baseQueue=d=y,c.pending=null}if(y=r.baseState,d===null)r.memoizedState=y;else{s=d.next;var S=w=null,L=null,X=s,se=!1;do{var he=X.lane&-536870913;if(he!==X.lane?(et&he)===he:(ps&he)===he){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),he===Oo&&(se=!0);else if((ps&W)===W){X=X.next,W===Oo&&(se=!0);continue}else he={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=he,w=y):L=L.next=he,He.lanes|=W,Ts|=W;he=X.action,Ma&&o(y,he),y=X.hasEagerState?X.eagerState:o(y,he)}else W={lane:he,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(S=L=W,w=y):L=L.next=W,He.lanes|=he,Ts|=he;X=X.next}while(X!==null&&X!==s);if(L===null?w=y:L.next=S,!$n(y,r.memoizedState)&&(on=!0,se&&(o=Do,o!==null)))throw o;r.memoizedState=y,r.baseState=w,r.baseQueue=L,c.lastRenderedState=y}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Rm(r){var s=$t(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,y=s.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do y=r(y,w.action),w=w.next;while(w!==d);$n(y,s.memoizedState)||(on=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function zv(r,s,o){var c=He,d=$t(),y=st;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!$n((mt||d).memoizedState,o);w&&(d.memoizedState=o,on=!0),d=d.queue;var S=Gv.bind(null,c,d,r);if(uc(2048,8,S,[r]),d.getSnapshot!==s||w||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,ko(9,bh(),Hv.bind(null,c,d,o,s),null),bt===null)throw Error(i(349));y||(ps&124)!==0||qv(c,s,o)}return o}function qv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=He.updateQueue,s===null?(s=xm(),He.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Hv(r,s,o,c){s.value=o,s.getSnapshot=c,$v(s)&&Kv(r)}function Gv(r,s,o){return o(function(){$v(s)&&Kv(r)})}function $v(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!$n(r,o)}catch{return!0}}function Kv(r){var s=Ro(r,2);s!==null&&Zn(s,r,2)}function Nm(r){var s=Un();if(typeof r=="function"){var o=r;if(r=o(),Ma){me(!0);try{o()}finally{me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function Yv(r,s,o,c){return r.baseState=o,Am(r,mt,typeof c=="function"?c:Di)}function p2(r,s,o,c,d){if(wh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};K.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,Qv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Qv(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var y=K.T,w={};K.T=w;try{var S=o(d,c),L=K.S;L!==null&&L(w,S),Xv(r,s,S)}catch(X){Cm(r,s,X)}finally{K.T=y}}else try{y=o(d,c),Xv(r,s,y)}catch(X){Cm(r,s,X)}}function Xv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Wv(r,s,c)},function(c){return Cm(r,s,c)}):Wv(r,s,o)}function Wv(r,s,o){s.status="fulfilled",s.value=o,Zv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Qv(r,o)))}function Cm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Zv(s),s=s.next;while(s!==c)}r.action=null}function Zv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Jv(r,s){return s}function eE(r,s){if(st){var o=bt.formState;if(o!==null){e:{var c=He;if(st){if(Pt){t:{for(var d=Pt,y=$r;d.nodeType!==8;){if(!y){d=null;break t}if(d=Sr(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Pt=Sr(d.nextSibling),c=d.data==="F!";break e}}Ia(c)}c=!1}c&&(s=o[0])}}return o=Un(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:s},o.queue=c,o=EE.bind(null,He,c),c.dispatch=o,c=Nm(!1),y=Mm.bind(null,He,!1,c.queue),c=Un(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=p2.bind(null,He,d,y,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function tE(r){var s=$t();return nE(s,mt,r)}function nE(r,s,o){if(s=Am(r,s,Jv)[0],r=_h(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=cc(s)}catch(w){throw w===rc?mh:w}else c=s;s=$t();var d=s.queue,y=d.dispatch;return o!==s.memoizedState&&(He.flags|=2048,ko(9,bh(),g2.bind(null,d,o),null)),[c,y,r]}function g2(r,s){r.action=s}function rE(r){var s=$t(),o=mt;if(o!==null)return nE(s,o,r);$t(),s=s.memoizedState,o=$t();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ko(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=He.updateQueue,s===null&&(s=xm(),He.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function bh(){return{destroy:void 0,resource:void 0}}function iE(){return $t().memoizedState}function Th(r,s,o,c){var d=Un();c=c===void 0?null:c,He.flags|=r,d.memoizedState=ko(1|s,bh(),o,c)}function uc(r,s,o,c){var d=$t();c=c===void 0?null:c;var y=d.memoizedState.inst;mt!==null&&c!==null&&Em(c,mt.memoizedState.deps)?d.memoizedState=ko(s,y,o,c):(He.flags|=r,d.memoizedState=ko(1|s,y,o,c))}function sE(r,s){Th(8390656,8,r,s)}function aE(r,s){uc(2048,8,r,s)}function oE(r,s){return uc(4,2,r,s)}function lE(r,s){return uc(4,4,r,s)}function cE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function uE(r,s,o){o=o!=null?o.concat([r]):null,uc(4,4,cE.bind(null,s,r),o)}function Im(){}function hE(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Em(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function fE(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Em(s,c[1]))return c[0];if(c=r(),Ma){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[c,s],c}function Om(r,s,o){return o===void 0||(ps&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=p_(),He.lanes|=r,Ts|=r,o)}function dE(r,s,o,c){return $n(o,s)?o:Po.current!==null?(r=Om(r,o,c),$n(r,s)||(on=!0),r):(ps&42)===0?(on=!0,r.memoizedState=o):(r=p_(),He.lanes|=r,Ts|=r,s)}function mE(r,s,o,c,d){var y=ne.p;ne.p=y!==0&&8>y?y:8;var w=K.T,S={};K.T=S,Mm(r,!1,s,o);try{var L=d(),X=K.S;if(X!==null&&X(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=f2(L,c);hc(r,s,se,Wn(r))}else hc(r,s,c,Wn(r))}catch(he){hc(r,s,{then:function(){},status:"rejected",reason:he},Wn())}finally{ne.p=y,K.T=w}}function y2(){}function Dm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=pE(r).queue;mE(r,d,s,ye,o===null?y2:function(){return gE(r),o(c)})}function pE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ye},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function gE(r){var s=pE(r).next.queue;hc(r,s,{},Wn())}function Pm(){return xn(Cc)}function yE(){return $t().memoizedState}function vE(){return $t().memoizedState}function v2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wn();r=ds(o);var c=ms(s,r,o);c!==null&&(Zn(c,s,o),sc(c,s,o)),s={cache:cm()},r.payload=s;return}s=s.return}}function E2(r,s,o){var c=Wn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(r)?_E(s,o):(o=Jd(r,s,o,c),o!==null&&(Zn(o,r,c),bE(o,s,c)))}function EE(r,s,o){var c=Wn();hc(r,s,o,c)}function hc(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(r))_E(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,S=y(w,o);if(d.hasEagerState=!0,d.eagerState=S,$n(S,w))return ah(r,s,d,0),bt===null&&sh(),!1}catch{}finally{}if(o=Jd(r,s,d,c),o!==null)return Zn(o,r,c),bE(o,s,c),!0}return!1}function Mm(r,s,o,c){if(c={lane:2,revertLane:fp(),action:c,hasEagerState:!1,eagerState:null,next:null},wh(r)){if(s)throw Error(i(479))}else s=Jd(r,o,c,2),s!==null&&Zn(s,r,2)}function wh(r){var s=r.alternate;return r===He||s!==null&&s===He}function _E(r,s){Mo=yh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function bE(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,qn(r,o)}}var xh={readContext:xn,use:Eh,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},TE={readContext:xn,use:Eh,useCallback:function(r,s){return Un().memoizedState=[r,s===void 0?null:s],r},useContext:xn,useEffect:sE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Th(4194308,4,cE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Th(4194308,4,r,s)},useInsertionEffect:function(r,s){Th(4,2,r,s)},useMemo:function(r,s){var o=Un();s=s===void 0?null:s;var c=r();if(Ma){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Un();if(o!==void 0){var d=o(s);if(Ma){me(!0);try{o(s)}finally{me(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=E2.bind(null,He,r),[c.memoizedState,r]},useRef:function(r){var s=Un();return r={current:r},s.memoizedState=r},useState:function(r){r=Nm(r);var s=r.queue,o=EE.bind(null,He,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(r,s){var o=Un();return Om(o,r,s)},useTransition:function(){var r=Nm(!1);return r=mE.bind(null,He,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=He,d=Un();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),bt===null)throw Error(i(349));(et&124)!==0||qv(c,s,o)}d.memoizedState=o;var y={value:o,getSnapshot:s};return d.queue=y,sE(Gv.bind(null,c,y,r),[r]),c.flags|=2048,ko(9,bh(),Hv.bind(null,c,y,o,s),null),o},useId:function(){var r=Un(),s=bt.identifierPrefix;if(st){var o=Ci,c=Ni;o=(c&~(1<<32-Ie(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=vh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=d2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Pm,useFormState:eE,useActionState:eE,useOptimistic:function(r){var s=Un();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Mm.bind(null,He,!0,o),o.dispatch=s,[r,s]},useMemoCache:Sm,useCacheRefresh:function(){return Un().memoizedState=v2.bind(null,He)}},wE={readContext:xn,use:Eh,useCallback:hE,useContext:xn,useEffect:aE,useImperativeHandle:uE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:fE,useReducer:_h,useRef:iE,useState:function(){return _h(Di)},useDebugValue:Im,useDeferredValue:function(r,s){var o=$t();return dE(o,mt.memoizedState,r,s)},useTransition:function(){var r=_h(Di)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:cc(r),s]},useSyncExternalStore:zv,useId:yE,useHostTransitionStatus:Pm,useFormState:tE,useActionState:tE,useOptimistic:function(r,s){var o=$t();return Yv(o,mt,r,s)},useMemoCache:Sm,useCacheRefresh:vE},_2={readContext:xn,use:Eh,useCallback:hE,useContext:xn,useEffect:aE,useImperativeHandle:uE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:fE,useReducer:Rm,useRef:iE,useState:function(){return Rm(Di)},useDebugValue:Im,useDeferredValue:function(r,s){var o=$t();return mt===null?Om(o,r,s):dE(o,mt.memoizedState,r,s)},useTransition:function(){var r=Rm(Di)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:cc(r),s]},useSyncExternalStore:zv,useId:yE,useHostTransitionStatus:Pm,useFormState:rE,useActionState:rE,useOptimistic:function(r,s){var o=$t();return mt!==null?Yv(o,mt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:vE},Lo=null,fc=0;function Sh(r){var s=fc;return fc+=1,Lo===null&&(Lo=[]),Mv(Lo,r,s)}function dc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ah(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function xE(r){var s=r._init;return s(r._payload)}function SE(r){function s(G,F){if(r){var Q=G.deletions;Q===null?(G.deletions=[F],G.flags|=16):Q.push(F)}}function o(G,F){if(!r)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function d(G,F){return G=Ri(G,F),G.index=0,G.sibling=null,G}function y(G,F,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<F?(G.flags|=67108866,F):Q):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function w(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function S(G,F,Q,ue){return F===null||F.tag!==6?(F=tm(Q,G.mode,ue),F.return=G,F):(F=d(F,Q),F.return=G,F)}function L(G,F,Q,ue){var Se=Q.type;return Se===C?se(G,F,Q.props.children,ue,Q.key):F!==null&&(F.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===x&&xE(Se)===F.type)?(F=d(F,Q.props),dc(F,Q),F.return=G,F):(F=lh(Q.type,Q.key,Q.props,null,G.mode,ue),dc(F,Q),F.return=G,F)}function X(G,F,Q,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=nm(Q,G.mode,ue),F.return=G,F):(F=d(F,Q.children||[]),F.return=G,F)}function se(G,F,Q,ue,Se){return F===null||F.tag!==7?(F=Aa(Q,G.mode,ue,Se),F.return=G,F):(F=d(F,Q),F.return=G,F)}function he(G,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=tm(""+F,G.mode,Q),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Q=lh(F.type,F.key,F.props,null,G.mode,Q),dc(Q,F),Q.return=G,Q;case A:return F=nm(F,G.mode,Q),F.return=G,F;case x:var ue=F._init;return F=ue(F._payload),he(G,F,Q)}if(de(F)||z(F))return F=Aa(F,G.mode,Q,null),F.return=G,F;if(typeof F.then=="function")return he(G,Sh(F),Q);if(F.$$typeof===q)return he(G,fh(G,F),Q);Ah(G,F)}return null}function W(G,F,Q,ue){var Se=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:S(G,F,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Se?L(G,F,Q,ue):null;case A:return Q.key===Se?X(G,F,Q,ue):null;case x:return Se=Q._init,Q=Se(Q._payload),W(G,F,Q,ue)}if(de(Q)||z(Q))return Se!==null?null:se(G,F,Q,ue,null);if(typeof Q.then=="function")return W(G,F,Sh(Q),ue);if(Q.$$typeof===q)return W(G,F,fh(G,Q),ue);Ah(G,Q)}return null}function Z(G,F,Q,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(Q)||null,S(F,G,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return G=G.get(ue.key===null?Q:ue.key)||null,L(F,G,ue,Se);case A:return G=G.get(ue.key===null?Q:ue.key)||null,X(F,G,ue,Se);case x:var Ge=ue._init;return ue=Ge(ue._payload),Z(G,F,Q,ue,Se)}if(de(ue)||z(ue))return G=G.get(Q)||null,se(F,G,ue,Se,null);if(typeof ue.then=="function")return Z(G,F,Q,Sh(ue),Se);if(ue.$$typeof===q)return Z(G,F,Q,fh(F,ue),Se);Ah(F,ue)}return null}function ke(G,F,Q,ue){for(var Se=null,Ge=null,Ne=F,Pe=F=0,cn=null;Ne!==null&&Pe<Q.length;Pe++){Ne.index>Pe?(cn=Ne,Ne=null):cn=Ne.sibling;var rt=W(G,Ne,Q[Pe],ue);if(rt===null){Ne===null&&(Ne=cn);break}r&&Ne&&rt.alternate===null&&s(G,Ne),F=y(rt,F,Pe),Ge===null?Se=rt:Ge.sibling=rt,Ge=rt,Ne=cn}if(Pe===Q.length)return o(G,Ne),st&&Na(G,Pe),Se;if(Ne===null){for(;Pe<Q.length;Pe++)Ne=he(G,Q[Pe],ue),Ne!==null&&(F=y(Ne,F,Pe),Ge===null?Se=Ne:Ge.sibling=Ne,Ge=Ne);return st&&Na(G,Pe),Se}for(Ne=c(Ne);Pe<Q.length;Pe++)cn=Z(Ne,G,Pe,Q[Pe],ue),cn!==null&&(r&&cn.alternate!==null&&Ne.delete(cn.key===null?Pe:cn.key),F=y(cn,F,Pe),Ge===null?Se=cn:Ge.sibling=cn,Ge=cn);return r&&Ne.forEach(function(Os){return s(G,Os)}),st&&Na(G,Pe),Se}function De(G,F,Q,ue){if(Q==null)throw Error(i(151));for(var Se=null,Ge=null,Ne=F,Pe=F=0,cn=null,rt=Q.next();Ne!==null&&!rt.done;Pe++,rt=Q.next()){Ne.index>Pe?(cn=Ne,Ne=null):cn=Ne.sibling;var Os=W(G,Ne,rt.value,ue);if(Os===null){Ne===null&&(Ne=cn);break}r&&Ne&&Os.alternate===null&&s(G,Ne),F=y(Os,F,Pe),Ge===null?Se=Os:Ge.sibling=Os,Ge=Os,Ne=cn}if(rt.done)return o(G,Ne),st&&Na(G,Pe),Se;if(Ne===null){for(;!rt.done;Pe++,rt=Q.next())rt=he(G,rt.value,ue),rt!==null&&(F=y(rt,F,Pe),Ge===null?Se=rt:Ge.sibling=rt,Ge=rt);return st&&Na(G,Pe),Se}for(Ne=c(Ne);!rt.done;Pe++,rt=Q.next())rt=Z(Ne,G,Pe,rt.value,ue),rt!==null&&(r&&rt.alternate!==null&&Ne.delete(rt.key===null?Pe:rt.key),F=y(rt,F,Pe),Ge===null?Se=rt:Ge.sibling=rt,Ge=rt);return r&&Ne.forEach(function(bN){return s(G,bN)}),st&&Na(G,Pe),Se}function gt(G,F,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Se=Q.key;F!==null;){if(F.key===Se){if(Se=Q.type,Se===C){if(F.tag===7){o(G,F.sibling),ue=d(F,Q.props.children),ue.return=G,G=ue;break e}}else if(F.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===x&&xE(Se)===F.type){o(G,F.sibling),ue=d(F,Q.props),dc(ue,Q),ue.return=G,G=ue;break e}o(G,F);break}else s(G,F);F=F.sibling}Q.type===C?(ue=Aa(Q.props.children,G.mode,ue,Q.key),ue.return=G,G=ue):(ue=lh(Q.type,Q.key,Q.props,null,G.mode,ue),dc(ue,Q),ue.return=G,G=ue)}return w(G);case A:e:{for(Se=Q.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){o(G,F.sibling),ue=d(F,Q.children||[]),ue.return=G,G=ue;break e}else{o(G,F);break}else s(G,F);F=F.sibling}ue=nm(Q,G.mode,ue),ue.return=G,G=ue}return w(G);case x:return Se=Q._init,Q=Se(Q._payload),gt(G,F,Q,ue)}if(de(Q))return ke(G,F,Q,ue);if(z(Q)){if(Se=z(Q),typeof Se!="function")throw Error(i(150));return Q=Se.call(Q),De(G,F,Q,ue)}if(typeof Q.then=="function")return gt(G,F,Sh(Q),ue);if(Q.$$typeof===q)return gt(G,F,fh(G,Q),ue);Ah(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(o(G,F.sibling),ue=d(F,Q),ue.return=G,G=ue):(o(G,F),ue=tm(Q,G.mode,ue),ue.return=G,G=ue),w(G)):o(G,F)}return function(G,F,Q,ue){try{fc=0;var Se=gt(G,F,Q,ue);return Lo=null,Se}catch(Ne){if(Ne===rc||Ne===mh)throw Ne;var Ge=Kn(29,Ne,null,G.mode);return Ge.lanes=ue,Ge.return=G,Ge}finally{}}}var Uo=SE(!0),AE=SE(!1),cr=re(null),Kr=null;function gs(r){var s=r.alternate;le(nn,nn.current&1),le(cr,r),Kr===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Kr=r)}function RE(r){if(r.tag===22){if(le(nn,nn.current),le(cr,r),Kr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Kr=r)}}else ys()}function ys(){le(nn,nn.current),le(cr,cr.current)}function Pi(r){ge(cr),Kr===r&&(Kr=null),ge(nn)}var nn=re(0);function Rh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||xp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Vm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var km={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=ds(c);d.payload=s,o!=null&&(d.callback=o),s=ms(r,d,c),s!==null&&(Zn(s,r,c),sc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Wn(),d=ds(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ms(r,d,c),s!==null&&(Zn(s,r,c),sc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wn(),c=ds(o);c.tag=2,s!=null&&(c.callback=s),s=ms(r,c,o),s!==null&&(Zn(s,r,o),sc(s,r,o))}};function NE(r,s,o,c,d,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,c)||!Ql(d,y):!0}function CE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&km.enqueueReplaceState(s,s.state,null)}function Va(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Nh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function IE(r){Nh(r)}function OE(r){console.error(r)}function DE(r){Nh(r)}function Ch(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function PE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(r,s,o){return o=ds(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(r,s)},o}function ME(r){return r=ds(r),r.tag=3,r}function VE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;r.payload=function(){return d(y)},r.callback=function(){PE(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){PE(s,o,c),typeof d!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function b2(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ec(s,o,d,!0),o=cr.current,o!==null){switch(o.tag){case 13:return Kr===null?op():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),cp(r,c,d)),!1;case 22:return o.flags|=65536,c===fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),cp(r,c,d)),!1}throw Error(i(435,o.tag))}return cp(r,c,d),op(),!1}if(st)return s=cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==sm&&(r=Error(i(422),{cause:c}),Jl(sr(r,o)))):(c!==sm&&(s=Error(i(423),{cause:c}),Jl(sr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=sr(c,o),d=Lm(r.stateNode,c,d),pm(r,d),Mt!==4&&(Mt=2)),!1;var y=Error(i(520),{cause:c});if(y=sr(y,o),_c===null?_c=[y]:_c.push(y),Mt!==4&&(Mt=2),s===null)return!0;c=sr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Lm(o.stateNode,c,r),pm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ws===null||!ws.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ME(d),VE(d,r,o,c),pm(o,d),!1}o=o.return}while(o!==null);return!1}var kE=Error(i(461)),on=!1;function pn(r,s,o,c){s.child=r===null?AE(s,null,o,c):Uo(s,r.child,o,c)}function LE(r,s,o,c,d){o=o.render;var y=s.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return Da(s),c=_m(r,s,o,w,y,d),S=bm(),r!==null&&!on?(Tm(r,s,d),Mi(r,s,d)):(st&&S&&rm(s),s.flags|=1,pn(r,s,c,d),s.child)}function UE(r,s,o,c,d){if(r===null){var y=o.type;return typeof y=="function"&&!em(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,jE(r,s,y,c,d)):(r=lh(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Gm(r,d)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(w,c)&&r.ref===s.ref)return Mi(r,s,d)}return s.flags|=1,r=Ri(y,c),r.ref=s.ref,r.return=s,s.child=r}function jE(r,s,o,c,d){if(r!==null){var y=r.memoizedProps;if(Ql(y,c)&&r.ref===s.ref)if(on=!1,s.pendingProps=c=y,Gm(r,d))(r.flags&131072)!==0&&(on=!0);else return s.lanes=r.lanes,Mi(r,s,d)}return Um(r,s,o,c,d)}function BE(r,s,o){var c=s.pendingProps,d=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(d=s.child=r.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return FE(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&dh(s,y!==null?y.cachePool:null),y!==null?jv(s,y):ym(),RE(s);else return s.lanes=s.childLanes=536870912,FE(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(dh(s,y.cachePool),jv(s,y),ys(),s.memoizedState=null):(r!==null&&dh(s,null),ym(),ys());return pn(r,s,d,o),s.child}function FE(r,s,o,c){var d=hm();return d=d===null?null:{parent:tn._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&dh(s,null),ym(),RE(s),r!==null&&ec(r,s,c,!0),null}function Ih(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Um(r,s,o,c,d){return Da(s),o=_m(r,s,o,c,void 0,d),c=bm(),r!==null&&!on?(Tm(r,s,d),Mi(r,s,d)):(st&&c&&rm(s),s.flags|=1,pn(r,s,o,d),s.child)}function zE(r,s,o,c,d,y){return Da(s),s.updateQueue=null,o=Fv(s,c,o,d),Bv(r),c=bm(),r!==null&&!on?(Tm(r,s,y),Mi(r,s,y)):(st&&c&&rm(s),s.flags|=1,pn(r,s,o,y),s.child)}function qE(r,s,o,c,d){if(Da(s),s.stateNode===null){var y=No,w=o.contextType;typeof w=="object"&&w!==null&&(y=xn(w)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=km,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},dm(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?xn(w):No,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Vm(s,o,w,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&km.enqueueReplaceState(y,y.state,null),oc(s,c,y,d),ac(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var S=s.memoizedProps,L=Va(o,S);y.props=L;var X=y.context,se=o.contextType;w=No,typeof se=="object"&&se!==null&&(w=xn(se));var he=o.getDerivedStateFromProps;se=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||X!==w)&&CE(s,y,c,w),fs=!1;var W=s.memoizedState;y.state=W,oc(s,c,y,d),ac(),X=s.memoizedState,S||W!==X||fs?(typeof he=="function"&&(Vm(s,o,he,c),X=s.memoizedState),(L=fs||NE(s,o,L,c,W,X,w))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),y.props=c,y.state=X,y.context=w,c=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,mm(r,s),w=s.memoizedProps,se=Va(o,w),y.props=se,he=s.pendingProps,W=y.context,X=o.contextType,L=No,typeof X=="object"&&X!==null&&(L=xn(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==he||W!==L)&&CE(s,y,c,L),fs=!1,W=s.memoizedState,y.state=W,oc(s,c,y,d),ac();var Z=s.memoizedState;w!==he||W!==Z||fs||r!==null&&r.dependencies!==null&&hh(r.dependencies)?(typeof S=="function"&&(Vm(s,o,S,c),Z=s.memoizedState),(se=fs||NE(s,o,se,c,W,Z,L)||r!==null&&r.dependencies!==null&&hh(r.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Z,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Z,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),y.props=c,y.state=Z,y.context=L,c=se):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,Ih(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Uo(s,r.child,null,d),s.child=Uo(s,null,o,d)):pn(r,s,o,d),s.memoizedState=y.state,r=s.child):r=Mi(r,s,d),r}function HE(r,s,o,c){return Zl(),s.flags|=256,pn(r,s,o,c),s.child}var jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(r){return{baseLanes:r,cachePool:Ov()}}function Fm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ur),r}function GE(r,s,o){var c=s.pendingProps,d=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(nn.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(d?gs(s):ys(),st){var S=Pt,L;if(L=S){e:{for(L=S,S=$r;L.nodeType!==8;){if(!S){S=null;break e}if(L=Sr(L.nextSibling),L===null){S=null;break e}}S=L}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ra!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},L=Kn(18,null,null,0),L.stateNode=S,L.return=s,s.child=L,Vn=s,Pt=null,L=!0):L=!1}L||Ia(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xp(S)?s.lanes=32:s.lanes=536870912,null;Pi(s)}return S=c.children,c=c.fallback,d?(ys(),d=s.mode,S=Oh({mode:"hidden",children:S},d),c=Aa(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,d=s.child,d.memoizedState=Bm(o),d.childLanes=Fm(r,w,o),s.memoizedState=jm,c):(gs(s),zm(s,S))}if(L=r.memoizedState,L!==null&&(S=L.dehydrated,S!==null)){if(y)s.flags&256?(gs(s),s.flags&=-257,s=qm(r,s,o)):s.memoizedState!==null?(ys(),s.child=r.child,s.flags|=128,s=null):(ys(),d=c.fallback,S=s.mode,c=Oh({mode:"visible",children:c.children},S),d=Aa(d,S,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Uo(s,r.child,null,o),c=s.child,c.memoizedState=Bm(o),c.childLanes=Fm(r,w,o),s.memoizedState=jm,s=d);else if(gs(s),xp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var X=w.dgst;w=X,c=Error(i(419)),c.stack="",c.digest=w,Jl({value:c,source:null,stack:null}),s=qm(r,s,o)}else if(on||ec(r,s,o,!1),w=(o&r.childLanes)!==0,on||w){if(w=bt,w!==null&&(c=o&-o,c=(c&42)!==0?1:Hn(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,Ro(r,c),Zn(w,r,c),kE;S.data==="$?"||op(),s=qm(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,Pt=Sr(S.nextSibling),Vn=s,st=!0,Ca=null,$r=!1,r!==null&&(or[lr++]=Ni,or[lr++]=Ci,or[lr++]=Ra,Ni=r.id,Ci=r.overflow,Ra=s),s=zm(s,c.children),s.flags|=4096);return s}return d?(ys(),d=c.fallback,S=s.mode,L=r.child,X=L.sibling,c=Ri(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?d=Ri(X,d):(d=Aa(d,S,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,S=r.child.memoizedState,S===null?S=Bm(o):(L=S.cachePool,L!==null?(X=tn._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=Ov(),S={baseLanes:S.baseLanes|o,cachePool:L}),d.memoizedState=S,d.childLanes=Fm(r,w,o),s.memoizedState=jm,c):(gs(s),o=r.child,r=o.sibling,o=Ri(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function zm(r,s){return s=Oh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Oh(r,s){return r=Kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function qm(r,s,o){return Uo(s,r.child,null,o),r=zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function $E(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),om(r.return,s,o)}function Hm(r,s,o,c,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=d)}function KE(r,s,o){var c=s.pendingProps,d=c.revealOrder,y=c.tail;if(pn(r,s,c.children,o),c=nn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$E(r,o,s);else if(r.tag===19)$E(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(nn,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Rh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Hm(s,!1,d,o,y);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Rh(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Hm(s,!0,o,null,y);break;case"together":Hm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ts|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ec(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ri(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ri(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Gm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&hh(r)))}function T2(r,s,o){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),hs(s,tn,r.memoizedState.cache),Zl();break;case 27:case 5:hn(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(gs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?GE(r,s,o):(gs(s),r=Mi(r,s,o),r!==null?r.sibling:null);gs(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ec(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return KE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(nn,nn.current),c)break;return null;case 22:case 23:return s.lanes=0,BE(r,s,o);case 24:hs(s,tn,r.memoizedState.cache)}return Mi(r,s,o)}function YE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)on=!0;else{if(!Gm(r,o)&&(s.flags&128)===0)return on=!1,T2(r,s,o);on=(r.flags&131072)!==0}else on=!1,st&&(s.flags&1048576)!==0&&xv(s,uh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")em(c)?(r=Va(c,r),s.tag=1,s=qE(null,s,c,r,o)):(s.tag=0,s=Um(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===ie){s.tag=11,s=LE(null,s,c,r,o);break e}else if(d===V){s.tag=14,s=UE(null,s,c,r,o);break e}}throw s=qe(c)||c,Error(i(306,s,""))}}return s;case 0:return Um(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Va(c,s.pendingProps),qE(r,s,c,d,o);case 3:e:{if(We(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;d=y.element,mm(r,s),oc(s,c,null,o);var w=s.memoizedState;if(c=w.cache,hs(s,tn,c),c!==y.cache&&lm(s,[tn],o,!0),ac(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=HE(r,s,c,o);break e}else if(c!==d){d=sr(Error(i(424)),s),Jl(d),s=HE(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=Sr(r.firstChild),Vn=s,st=!0,Ca=null,$r=!0,o=AE(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zl(),c===d){s=Mi(r,s,o);break e}pn(r,s,c,o)}s=s.child}return s;case 26:return Ih(r,s),r===null?(o=Z_(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,r=s.pendingProps,c=Gh(Re.current).createElement(o),c[Zt]=s,c[qt]=r,yn(c,o,r),kt(c),s.stateNode=c):s.memoizedState=Z_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return hn(s),r===null&&st&&(c=s.stateNode=Q_(s.type,s.pendingProps,Re.current),Vn=s,$r=!0,d=Pt,As(s.type)?(Sp=d,Pt=Sr(c.firstChild)):Pt=d),pn(r,s,s.pendingProps.children,o),Ih(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((d=c=Pt)&&(c=X2(c,s.type,s.pendingProps,$r),c!==null?(s.stateNode=c,Vn=s,Pt=Sr(c.firstChild),$r=!1,d=!0):d=!1),d||Ia(s)),hn(s),d=s.type,y=s.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,bp(d,y)?c=null:w!==null&&bp(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=_m(r,s,m2,null,null,o),Cc._currentValue=d),Ih(r,s),pn(r,s,c,o),s.child;case 6:return r===null&&st&&((r=o=Pt)&&(o=W2(o,s.pendingProps,$r),o!==null?(s.stateNode=o,Vn=s,Pt=null,r=!0):r=!1),r||Ia(s)),null;case 13:return GE(r,s,o);case 4:return We(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Uo(s,null,c,o):pn(r,s,c,o),s.child;case 11:return LE(r,s,s.type,s.pendingProps,o);case 7:return pn(r,s,s.pendingProps,o),s.child;case 8:return pn(r,s,s.pendingProps.children,o),s.child;case 12:return pn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,hs(s,s.type,c.value),pn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Da(s),d=xn(d),c=c(d),s.flags|=1,pn(r,s,c,o),s.child;case 14:return UE(r,s,s.type,s.pendingProps,o);case 15:return jE(r,s,s.type,s.pendingProps,o);case 19:return KE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Oh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ri(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return BE(r,s,o);case 24:return Da(s),c=xn(tn),r===null?(d=hm(),d===null&&(d=bt,y=cm(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),s.memoizedState={parent:c,cache:d},dm(s),hs(s,tn,d)):((r.lanes&o)!==0&&(mm(r,s),oc(s,null,null,o),ac()),d=r.memoizedState,y=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),hs(s,tn,c)):(c=y.cache,hs(s,tn,c),c!==d.cache&&lm(s,[tn],o,!0))),pn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Vi(r){r.flags|=4}function QE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rb(s)){if(s=cr.current,s!==null&&((et&4194048)===et?Kr!==null:(et&62914560)!==et&&(et&536870912)===0||s!==Kr))throw ic=fm,Dv;r.flags|=8192}}function Dh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?it():536870912,r.lanes|=s,zo|=s)}function mc(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function w2(r,s,o){var c=s.pendingProps;switch(im(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Rt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Oi(tn),wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wl(s)?Vi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rv())),Rt(s),null;case 26:return o=s.memoizedState,r===null?(Vi(s),o!==null?(Rt(s),QE(s,o)):(Rt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Vi(s),Rt(s),QE(s,o)):(Rt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Vi(s),Rt(s),s.flags&=-16777217),null;case 27:yt(s),o=Re.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}r=_e.current,Wl(s)?Sv(s):(r=Q_(d,c,o),s.stateNode=r,Vi(s))}return Rt(s),null;case 5:if(yt(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}if(r=_e.current,Wl(s))Sv(s);else{switch(d=Gh(Re.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[Zt]=s,r[qt]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(yn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(s)}}return Rt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Vi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,Wl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Vn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||z_(r.nodeValue,o)),r||Ia(s)}else r=Gh(r).createTextNode(c),r[Zt]=s,s.stateNode=r}return Rt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Wl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Zt]=s}else Zl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),d=!1}else d=Rv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Pi(s),s):(Pi(s),null)}if(Pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Dh(s,s.updateQueue),Rt(s),null;case 4:return wn(),r===null&&gp(s.stateNode.containerInfo),Rt(s),null;case 10:return Oi(s.type),Rt(s),null;case 19:if(ge(nn),d=s.memoizedState,d===null)return Rt(s),null;if(c=(s.flags&128)!==0,y=d.rendering,y===null)if(c)mc(d,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Rh(r),y!==null){for(s.flags|=128,mc(d,!1),r=y.updateQueue,s.updateQueue=r,Dh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)wv(o,r),o=o.sibling;return le(nn,nn.current&1|2),s.child}r=r.sibling}d.tail!==null&&Ln()>Vh&&(s.flags|=128,c=!0,mc(d,!1),s.lanes=4194304)}else{if(!c)if(r=Rh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Dh(s,r),mc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!st)return Rt(s),null}else 2*Ln()-d.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,c=!0,mc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(r=d.last,r!==null?r.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ln(),s.sibling=null,r=nn.current,le(nn,c?r&1|2:r&1),s):(Rt(s),null);case 22:case 23:return Pi(s),vm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),o=s.updateQueue,o!==null&&Dh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ge(Pa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Oi(tn),Rt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function x2(r,s){switch(im(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Oi(tn),wn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return yt(s),null;case 13:if(Pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ge(nn),null;case 4:return wn(),null;case 10:return Oi(s.type),null;case 22:case 23:return Pi(s),vm(),r!==null&&ge(Pa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Oi(tn),null;case 25:return null;default:return null}}function XE(r,s){switch(im(s),s.tag){case 3:Oi(tn),wn();break;case 26:case 27:case 5:yt(s);break;case 4:wn();break;case 13:Pi(s);break;case 19:ge(nn);break;case 10:Oi(s.type);break;case 22:case 23:Pi(s),vm(),r!==null&&ge(Pa);break;case 24:Oi(tn)}}function pc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==d)}}catch(S){Et(s,s.return,S)}}function vs(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&r)===r){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=s;var L=o,X=S;try{X()}catch(se){Et(d,L,se)}}}c=c.next}while(c!==y)}}catch(se){Et(s,s.return,se)}}function WE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Uv(s,o)}catch(c){Et(r,r.return,c)}}}function ZE(r,s,o){o.props=Va(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Et(r,s,c)}}function gc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){Et(r,s,d)}}function Yr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Et(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Et(r,s,d)}else o.current=null}function JE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Et(r,r.return,d)}}function $m(r,s,o){try{var c=r.stateNode;G2(c,r.type,o,s),c[qt]=s}catch(d){Et(r,r.return,d)}}function e_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&As(r.type)||r.tag===4}function Km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||e_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&As(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ym(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Hh));else if(c!==4&&(c===27&&As(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ym(r,s,o),r=r.sibling;r!==null;)Ym(r,s,o),r=r.sibling}function Ph(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&As(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ph(r,s,o),r=r.sibling;r!==null;)Ph(r,s,o),r=r.sibling}function t_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);yn(s,c,o),s[Zt]=r,s[qt]=o}catch(y){Et(r,r.return,y)}}var ki=!1,Ut=!1,Qm=!1,n_=typeof WeakSet=="function"?WeakSet:Set,ln=null;function S2(r,s){if(r=r.containerInfo,Ep=Wh,r=dv(r),Kd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,L=-1,X=0,se=0,he=r,W=null;t:for(;;){for(var Z;he!==o||d!==0&&he.nodeType!==3||(S=w+d),he!==y||c!==0&&he.nodeType!==3||(L=w+c),he.nodeType===3&&(w+=he.nodeValue.length),(Z=he.firstChild)!==null;)W=he,he=Z;for(;;){if(he===r)break t;if(W===o&&++X===d&&(S=w),W===y&&++se===c&&(L=w),(Z=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=Z}o=S===-1||L===-1?null:{start:S,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:r,selectionRange:o},Wh=!1,ln=s;ln!==null;)if(s=ln,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,ln=r;else for(;ln!==null;){switch(s=ln,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,d=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=Va(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){Et(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)wp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,ln=r;break}ln=s.return}}function r_(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Es(r,o),c&4&&pc(5,o);break;case 1:if(Es(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){Et(o,o.return,w)}else{var d=Va(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(o,o.return,w)}}c&64&&WE(o),c&512&&gc(o,o.return);break;case 3:if(Es(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Uv(r,s)}catch(w){Et(o,o.return,w)}}break;case 27:s===null&&c&4&&t_(o);case 26:case 5:Es(r,o),s===null&&c&4&&JE(o),c&512&&gc(o,o.return);break;case 12:Es(r,o);break;case 13:Es(r,o),c&4&&a_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=M2.bind(null,o),Z2(r,o))));break;case 22:if(c=o.memoizedState!==null||ki,!c){s=s!==null&&s.memoizedState!==null||Ut,d=ki;var y=Ut;ki=c,(Ut=s)&&!y?_s(r,o,(o.subtreeFlags&8772)!==0):Es(r,o),ki=d,Ut=y}break;case 30:break;default:Es(r,o)}}function i_(r){var s=r.alternate;s!==null&&(r.alternate=null,i_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&os(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,jn=!1;function Li(r,s,o){for(o=o.child;o!==null;)s_(r,s,o),o=o.sibling}function s_(r,s,o){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount($,o)}catch{}switch(o.tag){case 26:Ut||Yr(o,s),Li(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ut||Yr(o,s);var c=xt,d=jn;As(o.type)&&(xt=o.stateNode,jn=!1),Li(r,s,o),Sc(o.stateNode),xt=c,jn=d;break;case 5:Ut||Yr(o,s);case 6:if(c=xt,d=jn,xt=null,Li(r,s,o),xt=c,jn=d,xt!==null)if(jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{xt.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:xt!==null&&(jn?(r=xt,K_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Pc(r)):K_(xt,o.stateNode));break;case 4:c=xt,d=jn,xt=o.stateNode.containerInfo,jn=!0,Li(r,s,o),xt=c,jn=d;break;case 0:case 11:case 14:case 15:Ut||vs(2,o,s),Ut||vs(4,o,s),Li(r,s,o);break;case 1:Ut||(Yr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ZE(o,s,c)),Li(r,s,o);break;case 21:Li(r,s,o);break;case 22:Ut=(c=Ut)||o.memoizedState!==null,Li(r,s,o),Ut=c;break;default:Li(r,s,o)}}function a_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pc(r)}catch(o){Et(s,s.return,o)}}function A2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new n_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new n_),s;default:throw Error(i(435,r.tag))}}function Xm(r,s){var o=A2(r);s.forEach(function(c){var d=V2.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Yn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],y=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(As(S.type)){xt=S.stateNode,jn=!1;break e}break;case 5:xt=S.stateNode,jn=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(xt===null)throw Error(i(160));s_(y,w,d),xt=null,jn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)o_(s,r),s=s.sibling}var xr=null;function o_(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(s,r),Qn(r),c&4&&(vs(3,r,r.return),pc(3,r),vs(5,r,r.return));break;case 1:Yn(s,r),Qn(r),c&512&&(Ut||o===null||Yr(o,o.return)),c&64&&ki&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=xr;if(Yn(s,r),Qn(r),c&512&&(Ut||o===null||Yr(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[ua]||y[Zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),yn(y,c,o),y[Zt]=r,kt(y),c=y;break e;case"link":var w=tb("link","href",d).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=d.createElement(c),yn(y,c,o),d.head.appendChild(y);break;case"meta":if(w=tb("meta","content",d).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=d.createElement(c),yn(y,c,o),d.head.appendChild(y);break;default:throw Error(i(468,c))}y[Zt]=r,kt(y),c=y}r.stateNode=c}else nb(d,r.type,r.stateNode);else r.stateNode=eb(d,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?nb(d,r.type,r.stateNode):eb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&$m(r,r.memoizedProps,o.memoizedProps)}break;case 27:Yn(s,r),Qn(r),c&512&&(Ut||o===null||Yr(o,o.return)),o!==null&&c&4&&$m(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Yn(s,r),Qn(r),c&512&&(Ut||o===null||Yr(o,o.return)),r.flags&32){d=r.stateNode;try{tr(d,"")}catch(Z){Et(r,r.return,Z)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,$m(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Qm=!0);break;case 6:if(Yn(s,r),Qn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Z){Et(r,r.return,Z)}}break;case 3:if(Yh=null,d=xr,xr=$h(s.containerInfo),Yn(s,r),xr=d,Qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Pc(s.containerInfo)}catch(Z){Et(r,r.return,Z)}Qm&&(Qm=!1,l_(r));break;case 4:c=xr,xr=$h(r.stateNode.containerInfo),Yn(s,r),Qn(r),xr=c;break;case 12:Yn(s,r),Qn(r);break;case 13:Yn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(np=Ln()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=ki,se=Ut;if(ki=X||d,Ut=se||L,Yn(s,r),Ut=se,ki=X,Qn(r),c&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||L||ki||Ut||ka(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(y=L.stateNode,d)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=L.stateNode;var he=L.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){Et(L,L.return,Z)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(Z){Et(L,L.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xm(r,o))));break;case 19:Yn(s,r),Qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xm(r,c)));break;case 30:break;case 21:break;default:Yn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(e_(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,y=Km(r);Ph(r,y,d);break;case 5:var w=o.stateNode;o.flags&32&&(tr(w,""),o.flags&=-33);var S=Km(r);Ph(r,S,w);break;case 3:case 4:var L=o.stateNode.containerInfo,X=Km(r);Ym(r,X,L);break;default:throw Error(i(161))}}catch(se){Et(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function l_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;l_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Es(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r_(r,s.alternate,s),s=s.sibling}function ka(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:vs(4,s,s.return),ka(s);break;case 1:Yr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ZE(s,s.return,o),ka(s);break;case 27:Sc(s.stateNode);case 26:case 5:Yr(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}r=r.sibling}}function _s(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:_s(d,y,o),pc(4,y);break;case 1:if(_s(d,y,o),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){Et(c,c.return,X)}if(c=y,d=c.updateQueue,d!==null){var S=c.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)Lv(L[d],S)}catch(X){Et(c,c.return,X)}}o&&w&64&&WE(y),gc(y,y.return);break;case 27:t_(y);case 26:case 5:_s(d,y,o),o&&c===null&&w&4&&JE(y),gc(y,y.return);break;case 12:_s(d,y,o);break;case 13:_s(d,y,o),o&&w&4&&a_(d,y);break;case 22:y.memoizedState===null&&_s(d,y,o),gc(y,y.return);break;case 30:break;default:_s(d,y,o)}s=s.sibling}}function Wm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&tc(o))}function Zm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r))}function Qr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)c_(r,s,o,c),s=s.sibling}function c_(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(r,s,o,c),d&2048&&pc(9,s);break;case 1:Qr(r,s,o,c);break;case 3:Qr(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r)));break;case 12:if(d&2048){Qr(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){Et(s,s.return,L)}}else Qr(r,s,o,c);break;case 13:Qr(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Qr(r,s,o,c):yc(r,s):y._visibility&2?Qr(r,s,o,c):(y._visibility|=2,jo(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&Wm(w,s);break;case 24:Qr(r,s,o,c),d&2048&&Zm(s.alternate,s);break;default:Qr(r,s,o,c)}}function jo(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,w=s,S=o,L=c,X=w.flags;switch(w.tag){case 0:case 11:case 15:jo(y,w,S,L,d),pc(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?jo(y,w,S,L,d):yc(y,w):(se._visibility|=2,jo(y,w,S,L,d)),d&&X&2048&&Wm(w.alternate,w);break;case 24:jo(y,w,S,L,d),d&&X&2048&&Zm(w.alternate,w);break;default:jo(y,w,S,L,d)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:yc(o,c),d&2048&&Wm(c.alternate,c);break;case 24:yc(o,c),d&2048&&Zm(c.alternate,c);break;default:yc(o,c)}s=s.sibling}}var vc=8192;function Bo(r){if(r.subtreeFlags&vc)for(r=r.child;r!==null;)u_(r),r=r.sibling}function u_(r){switch(r.tag){case 26:Bo(r),r.flags&vc&&r.memoizedState!==null&&hN(xr,r.memoizedState,r.memoizedProps);break;case 5:Bo(r);break;case 3:case 4:var s=xr;xr=$h(r.stateNode.containerInfo),Bo(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=vc,vc=16777216,Bo(r),vc=s):Bo(r));break;default:Bo(r)}}function h_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ec(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,d_(c,r)}h_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)f_(r),r=r.sibling}function f_(r){switch(r.tag){case 0:case 11:case 15:Ec(r),r.flags&2048&&vs(9,r,r.return);break;case 3:Ec(r);break;case 12:Ec(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Mh(r)):Ec(r);break;default:Ec(r)}}function Mh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ln=c,d_(c,r)}h_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:vs(8,s,s.return),Mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(s));break;default:Mh(s)}r=r.sibling}}function d_(r,s){for(;ln!==null;){var o=ln;switch(o.tag){case 0:case 11:case 15:vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:tc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ln=c;else e:for(o=r;ln!==null;){c=ln;var d=c.sibling,y=c.return;if(i_(c),c===o){ln=null;break e}if(d!==null){d.return=y,ln=d;break e}ln=y}}}var R2={getCacheForType:function(r){var s=xn(tn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},N2=typeof WeakMap=="function"?WeakMap:Map,ht=0,bt=null,$e=null,et=0,ft=0,Xn=null,bs=!1,Fo=!1,Jm=!1,Ui=0,Mt=0,Ts=0,La=0,ep=0,ur=0,zo=0,_c=null,Bn=null,tp=!1,np=0,Vh=1/0,kh=null,ws=null,gn=0,xs=null,qo=null,Ho=0,rp=0,ip=null,m_=null,bc=0,sp=null;function Wn(){if((ht&2)!==0&&et!==0)return et&-et;if(K.T!==null){var r=Oo;return r!==0?r:fp()}return _r()}function p_(){ur===0&&(ur=(et&536870912)===0||st?ut():536870912);var r=cr.current;return r!==null&&(r.flags|=32),ur}function Zn(r,s,o){(r===bt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Go(r,0),Ss(r,et,ur,!1)),at(r,o),((ht&2)===0||r!==bt)&&(r===bt&&((ht&2)===0&&(La|=o),Mt===4&&Ss(r,et,ur,!1)),Xr(r))}function g_(r,s,o){if((ht&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ue(r,s),d=c?O2(r,s):lp(r,s,!0),y=c;do{if(d===0){Fo&&!c&&Ss(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!C2(o)){d=lp(r,s,!1),y=!1;continue}if(d===2){if(y=s,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=r;d=_c;var L=S.current.memoizedState.isDehydrated;if(L&&(Go(S,w).flags|=256),w=lp(S,w,!1),w!==2){if(Jm&&!L){S.errorRecoveryDisabledLanes|=y,La|=y,d=4;break e}y=Bn,Bn=d,y!==null&&(Bn===null?Bn=y:Bn.push.apply(Bn,y))}d=w}if(y=!1,d!==2)continue}}if(d===1){Go(r,0),Ss(r,s,0,!0);break}e:{switch(c=r,y=d,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(c,s,ur,!bs);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=np+300-Ln(),10<d)){if(Ss(c,s,ur,!bs),Te(c,0,!0)!==0)break e;c.timeoutHandle=G_(y_.bind(null,c,o,Bn,kh,tp,s,ur,La,zo,bs,y,2,-0,0),d);break e}y_(c,o,Bn,kh,tp,s,ur,La,zo,bs,y,0,-0,0)}}break}while(!0);Xr(r)}function y_(r,s,o,c,d,y,w,S,L,X,se,he,W,Z){if(r.timeoutHandle=-1,he=s.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Nc={stylesheets:null,count:0,unsuspend:uN},u_(s),he=fN(),he!==null)){r.cancelPendingCommit=he(x_.bind(null,r,s,y,o,c,d,w,S,L,se,1,W,Z)),Ss(r,y,w,!X);return}x_(r,s,y,o,c,d,w,S,L)}function C2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],y=d.getSnapshot;d=d.value;try{if(!$n(y(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(r,s,o,c){s&=~ep,s&=~La,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var y=31-Ie(d),w=1<<y;c[y]=-1,d&=~w}o!==0&&fn(r,o,s)}function Lh(){return(ht&6)===0?(Tc(0),!1):!0}function ap(){if($e!==null){if(ft===0)var r=$e.return;else r=$e,Ii=Oa=null,wm(r),Lo=null,fc=0,r=$e;for(;r!==null;)XE(r.alternate,r),r=r.return;$e=null}}function Go(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,K2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ap(),bt=r,$e=o=Ri(r.current,null),et=s,ft=0,Xn=null,bs=!1,Fo=Ue(r,s),Jm=!1,zo=ur=ep=La=Ts=Mt=0,Bn=_c=null,tp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Ie(c),y=1<<d;s|=r[d],c&=~y}return Ui=s,sh(),o}function v_(r,s){He=null,K.H=xh,s===rc||s===mh?(s=Vv(),ft=3):s===Dv?(s=Vv(),ft=4):ft=s===kE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,$e===null&&(Mt=1,Ch(r,sr(s,r.current)))}function E_(){var r=K.H;return K.H=xh,r===null?xh:r}function __(){var r=K.A;return K.A=R2,r}function op(){Mt=4,bs||(et&4194048)!==et&&cr.current!==null||(Fo=!0),(Ts&134217727)===0&&(La&134217727)===0||bt===null||Ss(bt,et,ur,!1)}function lp(r,s,o){var c=ht;ht|=2;var d=E_(),y=__();(bt!==r||et!==s)&&(kh=null,Go(r,s)),s=!1;var w=Mt;e:do try{if(ft!==0&&$e!==null){var S=$e,L=Xn;switch(ft){case 8:ap(),w=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(s=!0);var X=ft;if(ft=0,Xn=null,$o(r,S,L,X),o&&Fo){w=0;break e}break;default:X=ft,ft=0,Xn=null,$o(r,S,L,X)}}I2(),w=Mt;break}catch(se){v_(r,se)}while(!0);return s&&r.shellSuspendCounter++,Ii=Oa=null,ht=c,K.H=d,K.A=y,$e===null&&(bt=null,et=0,sh()),w}function I2(){for(;$e!==null;)b_($e)}function O2(r,s){var o=ht;ht|=2;var c=E_(),d=__();bt!==r||et!==s?(kh=null,Vh=Ln()+500,Go(r,s)):Fo=Ue(r,s);e:do try{if(ft!==0&&$e!==null){s=$e;var y=Xn;t:switch(ft){case 1:ft=0,Xn=null,$o(r,s,y,1);break;case 2:case 9:if(Pv(y)){ft=0,Xn=null,T_(s);break}s=function(){ft!==2&&ft!==9||bt!==r||(ft=7),Xr(r)},y.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Pv(y)?(ft=0,Xn=null,T_(s)):(ft=0,Xn=null,$o(r,s,y,7));break;case 5:var w=null;switch($e.tag){case 26:w=$e.memoizedState;case 5:case 27:var S=$e;if(!w||rb(w)){ft=0,Xn=null;var L=S.sibling;if(L!==null)$e=L;else{var X=S.return;X!==null?($e=X,Uh(X)):$e=null}break t}}ft=0,Xn=null,$o(r,s,y,5);break;case 6:ft=0,Xn=null,$o(r,s,y,6);break;case 8:ap(),Mt=6;break e;default:throw Error(i(462))}}D2();break}catch(se){v_(r,se)}while(!0);return Ii=Oa=null,K.H=c,K.A=d,ht=o,$e!==null?0:(bt=null,et=0,sh(),Mt)}function D2(){for(;$e!==null&&!rs();)b_($e)}function b_(r){var s=YE(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,s===null?Uh(r):$e=s}function T_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=zE(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=zE(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:wm(s);default:XE(o,s),s=$e=wv(s,Ui),s=YE(o,s,Ui)}r.memoizedProps=r.pendingProps,s===null?Uh(r):$e=s}function $o(r,s,o,c){Ii=Oa=null,wm(s),Lo=null,fc=0;var d=s.return;try{if(b2(r,d,s,o,et)){Mt=1,Ch(r,sr(o,r.current)),$e=null;return}}catch(y){if(d!==null)throw $e=d,y;Mt=1,Ch(r,sr(o,r.current)),$e=null;return}s.flags&32768?(st||c===1?r=!0:Fo||(et&536870912)!==0?r=!1:(bs=r=!0,(c===2||c===9||c===3||c===6)&&(c=cr.current,c!==null&&c.tag===13&&(c.flags|=16384))),w_(s,r)):Uh(s)}function Uh(r){var s=r;do{if((s.flags&32768)!==0){w_(s,bs);return}r=s.return;var o=w2(s.alternate,s,Ui);if(o!==null){$e=o;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=r}while(s!==null);Mt===0&&(Mt=5)}function w_(r,s){do{var o=x2(r.alternate,r);if(o!==null){o.flags&=32767,$e=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){$e=r;return}$e=r=o}while(r!==null);Mt=6,$e=null}function x_(r,s,o,c,d,y,w,S,L){r.cancelPendingCommit=null;do jh();while(gn!==0);if((ht&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Zd,Dt(r,o,y,w,S,L),r===bt&&($e=bt=null,et=0),qo=s,xs=r,Ho=o,rp=y,ip=d,m_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,k2(Er,function(){return C_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,d=ne.p,ne.p=2,w=ht,ht|=4;try{S2(r,s,o)}finally{ht=w,ne.p=d,K.T=c}}gn=1,S_(),A_(),R_()}}function S_(){if(gn===1){gn=0;var r=xs,s=qo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=ne.p;ne.p=2;var d=ht;ht|=4;try{o_(s,r);var y=_p,w=dv(r.containerInfo),S=y.focusedElem,L=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&fv(S.ownerDocument.documentElement,S)){if(L!==null&&Kd(S)){var X=L.start,se=L.end;if(se===void 0&&(se=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(se,S.value.length);else{var he=S.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var Z=W.getSelection(),ke=S.textContent.length,De=Math.min(L.start,ke),gt=L.end===void 0?De:Math.min(L.end,ke);!Z.extend&&De>gt&&(w=gt,gt=De,De=w);var G=hv(S,De),F=hv(S,gt);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var Q=he.createRange();Q.setStart(G.node,G.offset),Z.removeAllRanges(),De>gt?(Z.addRange(Q),Z.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),Z.addRange(Q))}}}}for(he=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&he.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<he.length;S++){var ue=he[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Wh=!!Ep,_p=Ep=null}finally{ht=d,ne.p=c,K.T=o}}r.current=s,gn=2}}function A_(){if(gn===2){gn=0;var r=xs,s=qo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=ne.p;ne.p=2;var d=ht;ht|=4;try{r_(r,s.alternate,s)}finally{ht=d,ne.p=c,K.T=o}}gn=3}}function R_(){if(gn===4||gn===3){gn=0,oa();var r=xs,s=qo,o=Ho,c=m_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gn=5:(gn=0,qo=xs=null,N_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ws=null),gi(o),s=s.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot($,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,d=ne.p,ne.p=2,K.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var S=c[w];y(S.value,{componentStack:S.stack})}}finally{K.T=s,ne.p=d}}(Ho&3)!==0&&jh(),Xr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===sp?bc++:(bc=0,sp=r):bc=0,Tc(0)}}function N_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,tc(s)))}function jh(r){return S_(),A_(),R_(),C_()}function C_(){if(gn!==5)return!1;var r=xs,s=rp;rp=0;var o=gi(Ho),c=K.T,d=ne.p;try{ne.p=32>o?32:o,K.T=null,o=ip,ip=null;var y=xs,w=Ho;if(gn=0,qo=xs=null,Ho=0,(ht&6)!==0)throw Error(i(331));var S=ht;if(ht|=4,f_(y.current),c_(y,y.current,w,o),ht=S,Tc(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot($,y)}catch{}return!0}finally{ne.p=d,K.T=c,N_(r,s)}}function I_(r,s,o){s=sr(o,s),s=Lm(r.stateNode,s,2),r=ms(r,s,2),r!==null&&(at(r,2),Xr(r))}function Et(r,s,o){if(r.tag===3)I_(r,r,o);else for(;s!==null;){if(s.tag===3){I_(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ws===null||!ws.has(c))){r=sr(o,r),o=ME(2),c=ms(s,o,2),c!==null&&(VE(o,c,s,r),at(c,2),Xr(c));break}}s=s.return}}function cp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new N2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Jm=!0,d.add(o),r=P2.bind(null,r,s,o),s.then(r,r))}function P2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,bt===r&&(et&o)===o&&(Mt===4||Mt===3&&(et&62914560)===et&&300>Ln()-np?(ht&2)===0&&Go(r,0):ep|=o,zo===et&&(zo=0)),Xr(r)}function O_(r,s){s===0&&(s=it()),r=Ro(r,s),r!==null&&(at(r,s),Xr(r))}function M2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),O_(r,o)}function V2(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),O_(r,o)}function k2(r,s){return Ot(r,s)}var Bh=null,Ko=null,up=!1,Fh=!1,hp=!1,Ua=0;function Xr(r){r!==Ko&&r.next===null&&(Ko===null?Bh=Ko=r:Ko=Ko.next=r),Fh=!0,up||(up=!0,U2())}function Tc(r,s){if(!hp&&Fh){hp=!0;do for(var o=!1,c=Bh;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var w=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-Ie(42|r)+1)-1,y&=d&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,V_(c,y))}else y=et,y=Te(c,c===bt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ue(c,y)||(o=!0,V_(c,y));c=c.next}while(o);hp=!1}}function L2(){D_()}function D_(){Fh=up=!1;var r=0;Ua!==0&&($2()&&(r=Ua),Ua=0);for(var s=Ln(),o=null,c=Bh;c!==null;){var d=c.next,y=P_(c,s);y===0?(c.next=null,o===null?Bh=d:o.next=d,d===null&&(Ko=o)):(o=c,(r!==0||(y&3)!==0)&&(Fh=!0)),c=d}Tc(r)}function P_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Ie(y),S=1<<w,L=d[w];L===-1?((S&o)===0||(S&c)!==0)&&(d[w]=ct(S,s)):L<=s&&(r.expiredLanes|=S),y&=~S}if(s=bt,o=et,o=Te(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&mi(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ue(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&mi(c),gi(o)){case 2:case 8:o=pi;break;case 32:o=Er;break;case 268435456:o=Vr;break;default:o=Er}return c=M_.bind(null,r),o=Ot(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&mi(c),r.callbackPriority=2,r.callbackNode=null,2}function M_(r,s){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(jh()&&r.callbackNode!==o)return null;var c=et;return c=Te(r,r===bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(g_(r,c,s),P_(r,Ln()),r.callbackNode!=null&&r.callbackNode===o?M_.bind(null,r):null)}function V_(r,s){if(jh())return null;g_(r,s,!0)}function U2(){Y2(function(){(ht&6)!==0?Ot(la,L2):D_()})}function fp(){return Ua===0&&(Ua=ut()),Ua}function k_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:po(""+r)}function L_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function j2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var y=k_((d[qt]||null).action),w=c.submitter;w&&(s=(s=w[qt]||null)?k_(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var S=new go("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ua!==0){var L=w?L_(d,w):new FormData(d);Dm(o,{pending:!0,data:L,method:d.method,action:y},null,L)}}else typeof y=="function"&&(S.preventDefault(),L=w?L_(d,w):new FormData(d),Dm(o,{pending:!0,data:L,method:d.method,action:y},y,L))},currentTarget:d}]})}}for(var dp=0;dp<Wd.length;dp++){var mp=Wd[dp],B2=mp.toLowerCase(),F2=mp[0].toUpperCase()+mp.slice(1);wr(B2,"on"+F2)}wr(gv,"onAnimationEnd"),wr(yv,"onAnimationIteration"),wr(vv,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(i2,"onTransitionRun"),wr(s2,"onTransitionStart"),wr(a2,"onTransitionCancel"),wr(Ev,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function U_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],L=S.instance,X=S.currentTarget;if(S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(se){Nh(se)}d.currentTarget=null,y=L}else for(w=0;w<c.length;w++){if(S=c[w],L=S.instance,X=S.currentTarget,S=S.listener,L!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=X;try{y(d)}catch(se){Nh(se)}d.currentTarget=null,y=L}}}}function Ke(r,s){var o=s[Ml];o===void 0&&(o=s[Ml]=new Set);var c=r+"__bubble";o.has(c)||(j_(s,r,2,!1),o.add(c))}function pp(r,s,o){var c=0;s&&(c|=4),j_(o,r,c,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function gp(r){if(!r[zh]){r[zh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(z2.has(o)||pp(o,!1,r),pp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zh]||(s[zh]=!0,pp("selectionchange",!1,s))}}function j_(r,s,o,c){switch(cb(s)){case 2:var d=pN;break;case 8:d=gN;break;default:d=Ip}o=d.bind(null,s,o,r),d=void 0,!rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function yp(r,s,o,c,d){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=yi(S),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=y=w;continue e}S=S.parentNode}}c=c.return}Hu(function(){var X=y,se=nr(o),he=[];e:{var W=_v.get(r);if(W!==void 0){var Z=go,ke=r;switch(r){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":Z=To;break;case"focusin":ke="focus",Z=Eo;break;case"focusout":ke="blur",Z=Eo;break;case"beforeblur":case"afterblur":Z=Eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Zu;break;case gv:case yv:case vv:Z=_o;break;case Ev:Z=eh;break;case"scroll":case"scrollend":Z=Gu;break;case"wheel":Z=wo;break;case"copy":case"cut":case"paste":Z=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Kl;break;case"toggle":case"beforetoggle":Z=nh}var De=(s&4)!==0,gt=!De&&(r==="scroll"||r==="scrollend"),G=De?W!==null?W+"Capture":null:W;De=[];for(var F=X,Q;F!==null;){var ue=F;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||G===null||(ue=ya(F,G),ue!=null&&De.push(xc(F,ue,Q))),gt)break;F=F.return}0<De.length&&(W=new Z(W,ke,null,o,se),he.push({event:W,listeners:De}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&o!==bi&&(ke=o.relatedTarget||o.fromElement)&&(yi(ke)||ke[er]))break e;if((Z||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(ke=o.relatedTarget||o.toElement,Z=X,ke=ke?yi(ke):null,ke!==null&&(gt=l(ke),De=ke.tag,ke!==gt||De!==5&&De!==27&&De!==6)&&(ke=null)):(Z=null,ke=X),Z!==ke)){if(De=ir,ue="onMouseLeave",G="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(De=Kl,ue="onPointerLeave",G="onPointerEnter",F="pointer"),gt=Z==null?W:Lr(Z),Q=ke==null?W:Lr(ke),W=new De(ue,F+"leave",Z,o,se),W.target=gt,W.relatedTarget=Q,ue=null,yi(se)===X&&(De=new De(G,F+"enter",ke,o,se),De.target=Q,De.relatedTarget=gt,ue=De),gt=ue,Z&&ke)t:{for(De=Z,G=ke,F=0,Q=De;Q;Q=Yo(Q))F++;for(Q=0,ue=G;ue;ue=Yo(ue))Q++;for(;0<F-Q;)De=Yo(De),F--;for(;0<Q-F;)G=Yo(G),Q--;for(;F--;){if(De===G||G!==null&&De===G.alternate)break t;De=Yo(De),G=Yo(G)}De=null}else De=null;Z!==null&&B_(he,W,Z,De,!1),ke!==null&&gt!==null&&B_(he,gt,ke,De,!0)}}e:{if(W=X?Lr(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Se=sv;else if(en(W))if(av)Se=t2;else{Se=JR;var Ge=ZR}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Bl(X.elementType)&&(Se=sv):Se=e2;if(Se&&(Se=Se(r,X))){Ai(he,Se,o,se);break e}Ge&&Ge(r,W,X),r==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&cs(W,"number",W.value)}switch(Ge=X?Lr(X):window,r){case"focusin":(en(Ge)||Ge.contentEditable==="true")&&(xo=Ge,Yd=X,Xl=null);break;case"focusout":Xl=Yd=xo=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,mv(he,o,se);break;case"selectionchange":if(r2)break;case"keydown":case"keyup":mv(he,o,se)}var Ne;if(Hr)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ze?ee(r,o)&&(Pe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(T&&o.locale!=="ko"&&(Ze||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ze&&(Ne=zl()):(Br=se,us="value"in Br?Br.value:Br.textContent,Ze=!0)),Ge=qh(X,Pe),0<Ge.length&&(Pe=new Gl(Pe,r,null,o,se),he.push({event:Pe,listeners:Ge}),Ne?Pe.data=Ne:(Ne=ve(o),Ne!==null&&(Pe.data=Ne)))),(Ne=E?Jt(r,o):Je(r,o))&&(Pe=qh(X,"onBeforeInput"),0<Pe.length&&(Ge=new Gl("onBeforeInput","beforeinput",null,o,se),he.push({event:Ge,listeners:Pe}),Ge.data=Ne)),j2(he,r,X,o,se)}U_(he,s)})}function xc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function qh(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=ya(r,o),d!=null&&c.unshift(xc(r,d,y)),d=ya(r,s),d!=null&&c.push(xc(r,d,y))),r.tag===3)return c;r=r.return}return[]}function Yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function B_(r,s,o,c,d){for(var y=s._reactName,w=[];o!==null&&o!==c;){var S=o,L=S.alternate,X=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||X===null||(L=X,d?(X=ya(o,y),X!=null&&w.unshift(xc(o,X,L))):d||(X=ya(o,y),X!=null&&w.push(xc(o,X,L)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var q2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function F_(r){return(typeof r=="string"?r:""+r).replace(q2,`
`).replace(H2,"")}function z_(r,s){return s=F_(s),F_(r)===s}function Hh(){}function pt(r,s,o,c,d,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||tr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&tr(r,""+c);break;case"className":Ur(r,"class",c);break;case"tabIndex":Ur(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(r,o,c);break;case"style":jl(r,c,y);break;case"data":if(s!=="object"){Ur(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=po(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&pt(r,s,"name",d.name,d,null),pt(r,s,"formEncType",d.formEncType,d,null),pt(r,s,"formMethod",d.formMethod,d,null),pt(r,s,"formTarget",d.formTarget,d,null)):(pt(r,s,"encType",d.encType,d,null),pt(r,s,"method",d.method,d,null),pt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=po(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Hh);break;case"onScroll":c!=null&&Ke("scroll",r);break;case"onScrollEnd":c!=null&&Ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=po(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ke("beforetoggle",r),Ke("toggle",r),ls(r,"popover",c);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ls(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fd.get(o)||o,ls(r,o,c))}}function vp(r,s,o,c,d,y){switch(o){case"style":jl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?tr(r,c):(typeof c=="number"||typeof c=="bigint")&&tr(r,""+c);break;case"onScroll":c!=null&&Ke("scroll",r);break;case"onScrollEnd":c!=null&&Ke("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),y=r[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ls(r,o,c)}}}function yn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",r),Ke("load",r);var c=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,y,w,o,null)}}d&&pt(r,s,"srcSet",o.srcSet,o,null),c&&pt(r,s,"src",o.src,o,null);return;case"input":Ke("invalid",r);var S=y=w=d=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":d=se;break;case"type":w=se;break;case"checked":L=se;break;case"defaultChecked":X=se;break;case"value":y=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:pt(r,s,c,se,o,null)}}ma(r,y,S,L,X,w,d,!1),mo(r);return;case"select":Ke("invalid",r),c=w=y=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:pt(r,s,d,S,o,null)}s=y,o=w,r.multiple=!!c,s!=null?_i(r,!!c,s,!1):o!=null&&_i(r,!!c,o,!0);return;case"textarea":Ke("invalid",r),y=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":d=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:pt(r,s,w,S,o,null)}pa(r,c,d,y),mo(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(r,s,L,c,o,null)}return;case"dialog":Ke("beforetoggle",r),Ke("toggle",r),Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":Ke("load",r);break;case"video":case"audio":for(c=0;c<wc.length;c++)Ke(wc[c],r);break;case"image":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"embed":case"source":case"link":Ke("error",r),Ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,X,c,o,null)}return;default:if(Bl(s)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&vp(r,s,se,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&pt(r,s,S,c,o,null))}function G2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,S=null,L=null,X=null,se=null;for(Z in o){var he=o[Z];if(o.hasOwnProperty(Z)&&he!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=he;default:c.hasOwnProperty(Z)||pt(r,s,Z,null,c,he)}}for(var W in c){var Z=c[W];if(he=o[W],c.hasOwnProperty(W)&&(Z!=null||he!=null))switch(W){case"type":y=Z;break;case"name":d=Z;break;case"checked":X=Z;break;case"defaultChecked":se=Z;break;case"value":w=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==he&&pt(r,s,W,Z,c,he)}}Gn(r,w,S,L,X,se,y,d);return;case"select":Z=w=S=W=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Z=L;default:c.hasOwnProperty(y)||pt(r,s,y,null,c,L)}for(d in c)if(y=c[d],L=o[d],c.hasOwnProperty(d)&&(y!=null||L!=null))switch(d){case"value":W=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==L&&pt(r,s,d,y,c,L)}s=S,o=w,c=Z,W!=null?_i(r,!!o,W,!1):!!c!=!!o&&(s!=null?_i(r,!!o,s,!0):_i(r,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,s,S,null,c,d)}for(w in c)if(d=c[w],y=o[w],c.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":W=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==y&&pt(r,s,w,d,c,y)}dt(r,W,Z);return;case"option":for(var ke in o)if(W=o[ke],o.hasOwnProperty(ke)&&W!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:pt(r,s,ke,null,c,W)}for(L in c)if(W=c[L],Z=o[L],c.hasOwnProperty(L)&&W!==Z&&(W!=null||Z!=null))switch(L){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:pt(r,s,L,W,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)W=o[De],o.hasOwnProperty(De)&&W!=null&&!c.hasOwnProperty(De)&&pt(r,s,De,null,c,W);for(X in c)if(W=c[X],Z=o[X],c.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:pt(r,s,X,W,c,Z)}return;default:if(Bl(s)){for(var gt in o)W=o[gt],o.hasOwnProperty(gt)&&W!==void 0&&!c.hasOwnProperty(gt)&&vp(r,s,gt,void 0,c,W);for(se in c)W=c[se],Z=o[se],!c.hasOwnProperty(se)||W===Z||W===void 0&&Z===void 0||vp(r,s,se,W,c,Z);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&pt(r,s,G,null,c,W);for(he in c)W=c[he],Z=o[he],!c.hasOwnProperty(he)||W===Z||W==null&&Z==null||pt(r,s,he,W,c,Z)}var Ep=null,_p=null;function Gh(r){return r.nodeType===9?r:r.ownerDocument}function q_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function bp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function $2(){var r=window.event;return r&&r.type==="popstate"?r===Tp?!1:(Tp=r,!0):(Tp=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(r){return $_.resolve(null).then(r).catch(Q2)}:G_;function Q2(r){setTimeout(function(){throw r})}function As(r){return r==="head"}function K_(r,s){var o=s,c=0,d=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Sc(w.documentElement),o&2&&Sc(w.body),o&4)for(o=w.head,Sc(o),w=o.firstChild;w;){var S=w.nextSibling,L=w.nodeName;w[ua]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(d===0){r.removeChild(y),Pc(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Pc(s)}function wp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),os(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function X2(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ua])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Sr(r.nextSibling),r===null)break}return null}function W2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sr(r.nextSibling),r===null))return null;return r}function xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Z2(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Sp=null;function Y_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Q_(r,s,o){switch(s=Gh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Sc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);os(r)}var hr=new Map,X_=new Set;function $h(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=ne.d;ne.d={f:J2,r:eN,D:tN,C:nN,L:rN,m:iN,X:aN,S:sN,M:oN};function J2(){var r=ji.f(),s=Lh();return r||s}function eN(r){var s=kr(r);s!==null&&s.tag===5&&s.type==="form"?gE(s):ji.r(r)}var Qo=typeof document>"u"?null:document;function W_(r,s,o){var c=Qo;if(c&&typeof s=="string"&&s){var d=Ht(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),X_.has(d)||(X_.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),yn(s,"link",r),kt(s),c.head.appendChild(s)))}}function tN(r){ji.D(r),W_("dns-prefetch",r,null)}function nN(r,s){ji.C(r,s),W_("preconnect",r,s)}function rN(r,s,o){ji.L(r,s,o);var c=Qo;if(c&&r&&s){var d='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ht(o.imageSizes)+'"]')):d+='[href="'+Ht(r)+'"]';var y=d;switch(s){case"style":y=Xo(r);break;case"script":y=Wo(r)}hr.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),hr.set(y,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Ac(y))||s==="script"&&c.querySelector(Rc(y))||(s=c.createElement("link"),yn(s,"link",r),kt(s),c.head.appendChild(s)))}}function iN(r,s){ji.m(r,s);var o=Qo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(r)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wo(r)}if(!hr.has(y)&&(r=v({rel:"modulepreload",href:r},s),hr.set(y,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Rc(y)))return}c=o.createElement("link"),yn(c,"link",r),kt(c),o.head.appendChild(c)}}}function sN(r,s,o){ji.S(r,s,o);var c=Qo;if(c&&r){var d=Dn(c).hoistableStyles,y=Xo(r);s=s||"default";var w=d.get(y);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(Ac(y)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=hr.get(y))&&Ap(r,o);var L=w=c.createElement("link");kt(L),yn(L,"link",r),L._p=new Promise(function(X,se){L.onload=X,L.onerror=se}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(y,w)}}}function aN(r,s){ji.X(r,s);var o=Qo;if(o&&r){var c=Dn(o).hoistableScripts,d=Wo(r),y=c.get(d);y||(y=o.querySelector(Rc(d)),y||(r=v({src:r,async:!0},s),(s=hr.get(d))&&Rp(r,s),y=o.createElement("script"),kt(y),yn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function oN(r,s){ji.M(r,s);var o=Qo;if(o&&r){var c=Dn(o).hoistableScripts,d=Wo(r),y=c.get(d);y||(y=o.querySelector(Rc(d)),y||(r=v({src:r,async:!0,type:"module"},s),(s=hr.get(d))&&Rp(r,s),y=o.createElement("script"),kt(y),yn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function Z_(r,s,o,c){var d=(d=Re.current)?$h(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xo(o.href),o=Dn(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Xo(o.href);var y=Dn(d).hoistableStyles,w=y.get(r);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=d.querySelector(Ac(r)))&&!y._p&&(w.instance=y,w.state.loading=5),hr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hr.set(r,o),y||lN(d,r,o,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=Dn(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xo(r){return'href="'+Ht(r)+'"'}function Ac(r){return'link[rel="stylesheet"]['+r+"]"}function J_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function lN(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),yn(s,"link",o),kt(s),r.head.appendChild(s))}function Wo(r){return'[src="'+Ht(r)+'"]'}function Rc(r){return"script[async]"+r}function eb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),yn(c,"style",d),Kh(c,o.precedence,r),s.instance=c;case"stylesheet":d=Xo(o.href);var y=r.querySelector(Ac(d));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;c=J_(o),(d=hr.get(d))&&Ap(c,d),y=(r.ownerDocument||r).createElement("link"),kt(y);var w=y;return w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),yn(y,"link",c),s.state.loading|=4,Kh(y,o.precedence,r),s.instance=y;case"script":return y=Wo(o.src),(d=r.querySelector(Rc(y)))?(s.instance=d,kt(d),d):(c=o,(d=hr.get(y))&&(c=v({},o),Rp(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),kt(d),yn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Kh(c,o.precedence,r));return s.instance}function Kh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===s)y=S;else if(y!==d)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Rp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yh=null;function tb(r,s,o){if(Yh===null){var c=new Map,d=Yh=new Map;d.set(o,c)}else d=Yh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var y=o[d];if(!(y[ua]||y[Zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=r+w;var S=c.get(w);S?S.push(y):c.set(w,[y])}}return c}function nb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function cN(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Nc=null;function uN(){}function hN(r,s,o){if(Nc===null)throw Error(i(475));var c=Nc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Xo(o.href),y=r.querySelector(Ac(d));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Qh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,kt(y);return}y=r.ownerDocument||r,o=J_(o),(d=hr.get(d))&&Ap(o,d),y=y.createElement("link"),kt(y);var w=y;w._p=new Promise(function(S,L){w.onload=S,w.onerror=L}),yn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Qh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function fN(){if(Nc===null)throw Error(i(475));var r=Nc;return r.stylesheets&&r.count===0&&Np(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xh=null;function Np(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xh=new Map,s.forEach(dN,r),Xh=null,Qh.call(r))}function dN(r,s){if(!(s.state.loading&4)){var o=Xh.get(r);if(o)var c=o.get(null);else{o=new Map,Xh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=s.instance,w=d.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,d),o.set(w,d),this.count++,c=Qh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Cc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function mN(r,s,o,c,d,y,w,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ib(r,s,o,c,d,y,w,S,L,X,se,he){return r=new mN(r,s,o,w,S,L,X,he),s=1,y===!0&&(s|=24),y=Kn(3,null,null,s),r.current=y,y.stateNode=r,s=cm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},dm(y),r}function sb(r){return r?(r=No,r):No}function ab(r,s,o,c,d,y){d=sb(d),c.context===null?c.context=d:c.pendingContext=d,c=ds(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ms(r,c,s),o!==null&&(Zn(o,r,s),sc(o,r,s))}function ob(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Cp(r,s){ob(r,s),(r=r.alternate)&&ob(r,s)}function lb(r){if(r.tag===13){var s=Ro(r,67108864);s!==null&&Zn(s,r,67108864),Cp(r,67108864)}}var Wh=!0;function pN(r,s,o,c){var d=K.T;K.T=null;var y=ne.p;try{ne.p=2,Ip(r,s,o,c)}finally{ne.p=y,K.T=d}}function gN(r,s,o,c){var d=K.T;K.T=null;var y=ne.p;try{ne.p=8,Ip(r,s,o,c)}finally{ne.p=y,K.T=d}}function Ip(r,s,o,c){if(Wh){var d=Op(c);if(d===null)yp(r,s,c,Zh,o),ub(r,c);else if(vN(d,r,s,o,c))c.stopPropagation();else if(ub(r,c),s&4&&-1<yN.indexOf(r)){for(;d!==null;){var y=kr(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=be(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var L=1<<31-Ie(w);S.entanglements[1]|=L,w&=~L}Xr(y),(ht&6)===0&&(Vh=Ln()+500,Tc(0))}}break;case 13:S=Ro(y,2),S!==null&&Zn(S,y,2),Lh(),Cp(y,2)}if(y=Op(c),y===null&&yp(r,s,c,Zh,o),y===d)break;d=y}d!==null&&c.stopPropagation()}else yp(r,s,c,null,o)}}function Op(r){return r=nr(r),Dp(r)}var Zh=null;function Dp(r){if(Zh=null,r=yi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zh=r,null}function cb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case la:return 2;case pi:return 8;case Er:case ss:return 32;case Vr:return 268435456;default:return 32}default:return 32}}var Pp=!1,Rs=null,Ns=null,Cs=null,Ic=new Map,Oc=new Map,Is=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ub(r,s){switch(r){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Ic.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(s.pointerId)}}function Dc(r,s,o,c,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},s!==null&&(s=kr(s),s!==null&&lb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function vN(r,s,o,c,d){switch(s){case"focusin":return Rs=Dc(Rs,r,s,o,c,d),!0;case"dragenter":return Ns=Dc(Ns,r,s,o,c,d),!0;case"mouseover":return Cs=Dc(Cs,r,s,o,c,d),!0;case"pointerover":var y=d.pointerId;return Ic.set(y,Dc(Ic.get(y)||null,r,s,o,c,d)),!0;case"gotpointercapture":return y=d.pointerId,Oc.set(y,Dc(Oc.get(y)||null,r,s,o,c,d)),!0}return!1}function hb(r){var s=yi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Lu(r.priority,function(){if(o.tag===13){var c=Wn();c=Hn(c);var d=Ro(o,c);d!==null&&Zn(d,o,c),Cp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Op(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);bi=c,o.target.dispatchEvent(c),bi=null}else return s=kr(o),s!==null&&lb(s),r.blockedOn=o,!1;s.shift()}return!0}function fb(r,s,o){Jh(r)&&o.delete(s)}function EN(){Pp=!1,Rs!==null&&Jh(Rs)&&(Rs=null),Ns!==null&&Jh(Ns)&&(Ns=null),Cs!==null&&Jh(Cs)&&(Cs=null),Ic.forEach(fb),Oc.forEach(fb)}function ef(r,s){r.blockedOn===s&&(r.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EN)))}var tf=null;function db(r){tf!==r&&(tf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tf===r&&(tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Dp(c||o)===null)continue;break}var y=kr(o);y!==null&&(r.splice(s,3),s-=3,Dm(y,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Pc(r){function s(L){return ef(L,r)}Rs!==null&&ef(Rs,r),Ns!==null&&ef(Ns,r),Cs!==null&&ef(Cs,r),Ic.forEach(s),Oc.forEach(s);for(var o=0;o<Is.length;o++){var c=Is[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)hb(o),o.blockedOn===null&&Is.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],y=o[c+1],w=d[qt]||null;if(typeof y=="function")w||db(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[qt]||null)S=w.formAction;else if(Dp(d)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),db(o)}}}function Mp(r){this._internalRoot=r}nf.prototype.render=Mp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Wn();ab(o,c,r,s,null,null)},nf.prototype.unmount=Mp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ab(r.current,2,null,r,null,null),Lh(),s[er]=null}};function nf(r){this._internalRoot=r}nf.prototype.unstable_scheduleHydration=function(r){if(r){var s=_r();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,r),o===0&&hb(r)}};var mb=e.version;if(mb!=="19.1.1")throw Error(i(527,mb,"19.1.1"));ne.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var _N={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{$=rf.inject(_N),ae=rf}catch{}}return Mc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=IE,y=OE,w=DE,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=ib(r,1,!1,null,null,o,c,d,y,w,S,null),r[er]=s.current,gp(r),new Mp(s)},Mc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",y=IE,w=OE,S=DE,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=ib(r,1,!0,s,o??null,c,d,y,w,S,L,X),s.context=sb(null),o=s.current,c=Wn(),c=Hn(c),d=ds(c),d.callback=null,ms(o,d,c),o=c,s.current.lanes=o,at(s,o),Xr(s),r[er]=s.current,gp(r),new nf(s)},Mc.version="19.1.1",Mc}var Tb;function CN(){if(Tb)return kp.exports;Tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kp.exports=NN(),kp.exports}var IN=CN();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wb="popstate";function ON(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=to(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),_g("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:tu(l))}function i(a,l){Or(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return PN(e,n,i,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Or(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function xb(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||i||DN()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function PN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let I=v(),B=I==null?null:I-p;p=I,m&&m({action:f,location:P.location,delta:B})}function b(I,B){f="PUSH";let U=_g(P.location,I,B);n&&n(U,I),p=v()+1;let q=xb(U,p),ie=P.createHref(U);try{u.pushState(q,"",ie)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(ie)}l&&m&&m({action:f,location:P.location,delta:1})}function A(I,B){f="REPLACE";let U=_g(P.location,I,B);n&&n(U,I),p=v();let q=xb(U,p),ie=P.createHref(U);u.replaceState(q,"",ie),l&&m&&m({action:f,location:P.location,delta:0})}function C(I){return MN(I)}let P={get action(){return f},get location(){return t(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(wb,_),m=I,()=>{a.removeEventListener(wb,_),m=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let B=C(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:A,go(I){return u.go(I)}};return P}function MN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:tu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function N1(t,e,n="/"){return VN(t,e,n,!1)}function VN(t,e,n,i){let a=typeof e=="string"?to(e):e,l=Yi(a.pathname||"/",n);if(l==null)return null;let u=C1(t);kN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=KN(l);f=GN(u[m],p,i)}return f}function C1(t,e=[],n=[],i="",a=!1){let l=(u,f,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=qi([i,v.relativePath]),b=n.concat(v);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),C1(u.children,e,b,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:qN(_,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of I1(u.path))l(u,f,!0,m)}),e}function I1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=I1(i.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function kN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LN=/^:[\w-]+$/,UN=3,jN=2,BN=1,FN=10,zN=-2,Sb=t=>t==="*";function qN(t,e){let n=t.split("/"),i=n.length;return n.some(Sb)&&(i+=zN),e&&(i+=jN),n.filter(a=>!Sb(a)).reduce((a,l)=>a+(LN.test(l)?UN:l===""?BN:FN),i)}function HN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function GN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:qi([l,_.pathname]),pathnameBase:WN(qi([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=qi([l,_.pathnameBase]))}return u}function Df(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=$N(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},b)=>{if(v==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[b];return _&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function $N(t,e=!1,n=!0){Or(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function KN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function YN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:QN(n,e):e,search:ZN(i),hash:JN(a)}}function QN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O1(t){let e=XN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function D1(t,e,n,i=!1){let a;typeof t=="string"?a=to(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=YN(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var qi=t=>t.join("/").replace(/\/\/+/g,"/"),WN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var tC=["GET",...P1];new Set(tC);var xl=O.createContext(null);xl.displayName="DataRouter";var cd=O.createContext(null);cd.displayName="DataRouterState";O.createContext(!1);var M1=O.createContext({isTransitioning:!1});M1.displayName="ViewTransition";var nC=O.createContext(new Map);nC.displayName="Fetchers";var rC=O.createContext(null);rC.displayName="Await";var ui=O.createContext(null);ui.displayName="Navigation";var vu=O.createContext(null);vu.displayName="Location";var hi=O.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var yy=O.createContext(null);yy.displayName="RouteError";function iC(t,{relative:e}={}){Ct(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(ui),{hash:a,pathname:l,search:u}=_u(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:qi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function Eu(){return O.useContext(vu)!=null}function ra(){return Ct(Eu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vu).location}var V1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k1(t){O.useContext(ui).static||O.useLayoutEffect(t)}function L1(){let{isDataRoute:t}=O.useContext(hi);return t?vC():sC()}function sC(){Ct(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(xl),{basename:e,navigator:n}=O.useContext(ui),{matches:i}=O.useContext(hi),{pathname:a}=ra(),l=JSON.stringify(O1(i)),u=O.useRef(!1);return k1(()=>{u.current=!0}),O.useCallback((m,p={})=>{if(Or(u.current,V1),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=D1(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}O.createContext(null);function aC(){let{matches:t}=O.useContext(hi),e=t[t.length-1];return e?e.params:{}}function _u(t,{relative:e}={}){let{matches:n}=O.useContext(hi),{pathname:i}=ra(),a=JSON.stringify(O1(n));return O.useMemo(()=>D1(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function oC(t,e){return U1(t,e)}function U1(t,e,n,i,a){Ct(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(ui),{matches:u}=O.useContext(hi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let U=_&&_.path||"";j1(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ra(),A;if(e){let U=typeof e=="string"?to(e):e;Ct(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=b;let C=A.pathname||"/",P=C;if(v!=="/"){let U=v.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=N1(t,{pathname:P});Or(_||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Or(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=fC(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:qi([v,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:qi([v,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,i,a);return e&&B?O.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function lC(){let t=yC(),e=eC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var cC=O.createElement(lC,null),uC=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(hi.Provider,{value:this.props.routeContext},O.createElement(yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hC({routeContext:t,match:e,children:n}){let i=O.useContext(xl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(hi.Provider,{value:t},n)}function fC(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=p),v.route.id){let{loaderData:_,errors:b}=n,A=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let b,A=!1,C=null,P=null;n&&(b=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||cC,f&&(m<0&&_===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):m===_&&(A=!0,P=v.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,_+1)),B=()=>{let U;return b?U=C:A?U=P:v.route.Component?U=O.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=p,O.createElement(hC,{match:v,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?O.createElement(uC,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:B(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:i}):B()},null)}function vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(t){let e=O.useContext(xl);return Ct(e,vy(t)),e}function mC(t){let e=O.useContext(cd);return Ct(e,vy(t)),e}function pC(t){let e=O.useContext(hi);return Ct(e,vy(t)),e}function Ey(t){let e=pC(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gC(){return Ey("useRouteId")}function yC(){let t=O.useContext(yy),e=mC("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:e.errors?.[n]}function vC(){let{router:t}=dC("useNavigate"),e=Ey("useNavigate"),n=O.useRef(!1);return k1(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Or(n.current,V1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Ab={};function j1(t,e,n){!e&&!Ab[t]&&(Ab[t]=!0,Or(!1,n))}O.memo(EC);function EC({routes:t,future:e,state:n,unstable_onError:i}){return U1(t,void 0,n,i,e)}function Bi(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _C({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Ct(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=to(n));let{pathname:m="/",search:p="",hash:v="",state:_=null,key:b="default"}=n,A=O.useMemo(()=>{let C=Yi(m,u);return C==null?null:{location:{pathname:C,search:p,hash:v,state:_,key:b},navigationType:i}},[u,m,p,v,_,b,i]);return Or(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:O.createElement(ui.Provider,{value:f},O.createElement(vu.Provider,{children:e,value:A}))}function bC({children:t,location:e}){return oC(bg(t),e)}function bg(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let l=[...e,a];if(i.type===O.Fragment){n.push.apply(n,bg(i.props.children,l));return}Ct(i.type===Bi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=bg(i.props.children,l)),n.push(u)}),n}var gf="get",yf="application/x-www-form-urlencoded";function ud(t){return t!=null&&typeof t.tagName=="string"}function TC(t){return ud(t)&&t.tagName.toLowerCase()==="button"}function wC(t){return ud(t)&&t.tagName.toLowerCase()==="form"}function xC(t){return ud(t)&&t.tagName.toLowerCase()==="input"}function SC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AC(t,e){return t.button===0&&(!e||e==="_self")&&!SC(t)}var sf=null;function RC(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var NC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(t){return t!=null&&!NC.has(t)?(Or(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):t}function CC(t,e){let n,i,a,l,u;if(wC(t)){let f=t.getAttribute("action");i=f?Yi(f,e):null,n=t.getAttribute("method")||gf,a=Fp(t.getAttribute("enctype"))||yf,l=new FormData(t)}else if(TC(t)||xC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(i=m?Yi(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||gf,a=Fp(t.getAttribute("formenctype"))||Fp(f.getAttribute("enctype"))||yf,l=new FormData(f,t),!RC()){let{name:p,type:v,value:_}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(ud(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,i=null,a=yf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Yi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function OC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PC(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await OC(l,n);return u.links?u.links():[]}return[]}));return LC(i.flat(1).filter(DC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rb(t,e,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MC(t,e,{includeHydrateFallback:n}={}){return VC(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function VC(t){return[...new Set(t)]}function kC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function LC(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(kC(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function B1(){let t=O.useContext(xl);return _y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UC(){let t=O.useContext(cd);return _y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var by=O.createContext(void 0);by.displayName="FrameworkContext";function F1(){let t=O.useContext(by);return _y(t,"You must render this element inside a <HydratedRouter> element"),t}function jC(t,e){let n=O.useContext(by),[i,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=B=>{B.forEach(U=>{u(U.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[t]),O.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Vc(f,A),onBlur:Vc(m,C),onMouseEnter:Vc(p,A),onMouseLeave:Vc(v,C),onTouchStart:Vc(_,A)}]:[!1,b,{}]}function Vc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BC({page:t,...e}){let{router:n}=B1(),i=O.useMemo(()=>N1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(zC,{page:t,matches:i,...e}):null}function FC(t){let{manifest:e,routeModules:n}=F1(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return PC(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function zC({page:t,matches:e,...n}){let i=ra(),{manifest:a,routeModules:l}=F1(),{basename:u}=B1(),{loaderData:f,matches:m}=UC(),p=O.useMemo(()=>Rb(t,e,m,a,i,"data"),[t,e,m,a,i]),v=O.useMemo(()=>Rb(t,e,m,a,i,"assets"),[t,e,m,a,i]),_=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,P=!1;if(e.forEach(B=>{let U=a.routes[B.route.id];!U||!U.hasLoader||(!p.some(q=>q.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||U.hasClientLoader?P=!0:C.add(B.route.id))}),C.size===0)return[];let I=IC(t,u,"data");return P&&C.size>0&&I.searchParams.set("_routes",e.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[I.pathname+I.search]},[u,f,i,a,p,e,t,l]),b=O.useMemo(()=>MC(v,a),[v,a]),A=FC(v);return O.createElement(O.Fragment,null,_.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:P})=>O.createElement("link",{key:C,nonce:n.nonce,...P})))}function qC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.9.1")}catch{}function HC({basename:t,children:e,window:n}){let i=O.useRef();i.current==null&&(i.current=ON({window:n,v5Compat:!0}));let a=i.current,[l,u]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>u(m))},[u]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(_C,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,...b},A){let{basename:C}=O.useContext(ui),P=typeof p=="string"&&q1.test(p),I,B=!1;if(typeof p=="string"&&P&&(I=p,z1))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),j=Yi(M.pathname,C);M.origin===N.origin&&j!=null?p=j+M.search+M.hash:B=!0}catch{Or(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=iC(p,{relative:a}),[q,ie,H]=jC(i,b),J=KC(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_});function V(N){e&&e(N),N.defaultPrevented||J(N)}let x=O.createElement("a",{...b,...H,href:I||U,onClick:B||l?e:V,ref:qC(A,ie),target:m,"data-discover":!P&&n==="render"?"true":void 0});return q&&!P?O.createElement(O.Fragment,null,x,O.createElement(BC,{page:U})):x});Mr.displayName="Link";var Ms=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let _=_u(u,{relative:p.relative}),b=ra(),A=O.useContext(cd),{navigator:C,basename:P}=O.useContext(ui),I=A!=null&&ZC(_)&&f===!0,B=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,U=b.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(U=U.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&P&&(q=Yi(q,P)||q);const ie=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let H=U===B||!a&&U.startsWith(B)&&U.charAt(ie)==="/",J=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),V={isActive:H,isPending:J,isTransitioning:I},x=H?e:void 0,N;typeof i=="function"?N=i(V):N=[i,H?"active":null,J?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return O.createElement(Mr,{...p,"aria-current":x,className:N,ref:v,style:M,to:u,viewTransition:f},typeof m=="function"?m(V):m)});Ms.displayName="NavLink";var GC=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=gf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...b},A)=>{let C=XC(),P=WC(f,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&q1.test(f),U=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ie=q.nativeEvent.submitter,H=ie?.getAttribute("formmethod")||u;C(ie||q.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return O.createElement("form",{ref:A,method:I,action:P,onSubmit:i?m:U,...b,"data-discover":!B&&t==="render"?"true":void 0})});GC.displayName="Form";function $C(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(t){let e=O.useContext(xl);return Ct(e,$C(t)),e}function KC(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=L1(),m=ra(),p=_u(t,{relative:l});return O.useCallback(v=>{if(AC(v,e)){v.preventDefault();let _=n!==void 0?n:tu(m)===tu(p);f(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,p,n,i,e,t,a,l,u])}var YC=0,QC=()=>`__${String(++YC)}__`;function XC(){let{router:t}=H1("useSubmit"),{basename:e}=O.useContext(ui),n=gC();return O.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=CC(i,e);if(a.navigate===!1){let v=a.fetcherKey||QC();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function WC(t,{relative:e}={}){let{basename:n}=O.useContext(ui),i=O.useContext(hi);Ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={..._u(t||".",{relative:e})},u=ra();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),tu(l)}function ZC(t,{relative:e}={}){let n=O.useContext(M1);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=H1("useViewTransitionState"),a=_u(t,{relative:e});if(!n.isTransitioning)return!1;let l=Yi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Yi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Df(a.pathname,u)!=null||Df(a.pathname,l)!=null}const JC=()=>{};var Nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},eI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,A=p&63;m||(A=64,u||(b=64)),i.push(n[v],n[_],n[b],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new tI;const b=l<<2|f>>4;if(i.push(b),p!==64){const A=f<<4&240|p>>2;if(i.push(A),_!==64){const C=p<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nI=function(t){const e=G1(t);return $1.encodeByteArray(e,!0)},Pf=function(t){return nI(t).replace(/\./g,"")},K1=function(t){try{return $1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>rI().__FIREBASE_DEFAULTS__,sI=()=>{if(typeof process>"u"||typeof Nb>"u")return;const t=Nb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&K1(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return JC()||iI()||sI()||aI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y1=t=>hd()?.emulatorHosts?.[t],Q1=t=>{const e=Y1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},X1=()=>hd()?.config,W1=t=>hd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ty(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(u)),""].join(".")}const Gc={};function lI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function cI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cb=!1;function wy(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Gc[t]===e||Gc[t]||Cb)return;Gc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=lI().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Cb=!0,u()},b}function v(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=cI(i),A=n("text"),C=document.getElementById(A)||document.createElement("span"),P=n("learnmore"),I=document.getElementById(P)||document.createElement("a"),B=n("preprendIcon"),U=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;f(q),v(I,P);const ie=p();m(U,B),q.append(U,C,I,ie),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function hI(){const t=hd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gI(){return!hI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function vI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="FirebaseError";class fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=EI,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?_I(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new fi(a,f,i)}}function _I(t,e){return t.replace(bI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const bI=/\{\$([^}]+)}/g;function TI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Ib(l)&&Ib(u)){if(!Qa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ib(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wI(t,e){const n=new xI(t,e);return n.subscribe.bind(n)}class xI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");SI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=zp),a.error===void 0&&(a.error=zp),a.complete===void 0&&(a.complete=zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new oI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NI(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(t){return t===Ba?void 0:t}function NI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const II={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},OI=Ye.INFO,DI={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},PI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=DI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xy{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=PI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?II[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const MI=(t,e)=>e.some(n=>t instanceof n);let Ob,Db;function VI(){return Ob||(Ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kI(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,Tg=new WeakMap,ex=new WeakMap,qp=new WeakMap,Sy=new WeakMap;function LI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Fs(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&J1.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function UI(t){if(Tg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Tg.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ex.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jI(t){wg=t(wg)}function BI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hp(this),e,...n);return ex.set(i,e.sort?e.sort():[e]),Fs(i)}:kI().includes(t)?function(...e){return t.apply(Hp(this),e),Fs(J1.get(this))}:function(...e){return Fs(t.apply(Hp(this),e))}}function FI(t){return typeof t=="function"?BI(t):(t instanceof IDBTransaction&&UI(t),MI(t,VI())?new Proxy(t,wg):t)}function Fs(t){if(t instanceof IDBRequest)return LI(t);if(qp.has(t))return qp.get(t);const e=FI(t);return e!==t&&(qp.set(t,e),Sy.set(e,t)),e}const Hp=t=>Sy.get(t);function zI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Fs(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Fs(u.result),m.oldVersion,m.newVersion,Fs(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const qI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Gp=new Map;function Pb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=HI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||qI.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Gp.set(e,l),l}jI(t=>({...t,get:(e,n,i)=>Pb(e,n)||t.get(e,n,i),has:(e,n)=>!!Pb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($I(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $I(t){return t.getComponent()?.type==="VERSION"}const xg="@firebase/app",Mb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new xy("@firebase/app"),KI="@firebase/app-compat",YI="@firebase/analytics-compat",QI="@firebase/analytics",XI="@firebase/app-check-compat",WI="@firebase/app-check",ZI="@firebase/auth",JI="@firebase/auth-compat",eO="@firebase/database",tO="@firebase/data-connect",nO="@firebase/database-compat",rO="@firebase/functions",iO="@firebase/functions-compat",sO="@firebase/installations",aO="@firebase/installations-compat",oO="@firebase/messaging",lO="@firebase/messaging-compat",cO="@firebase/performance",uO="@firebase/performance-compat",hO="@firebase/remote-config",fO="@firebase/remote-config-compat",dO="@firebase/storage",mO="@firebase/storage-compat",pO="@firebase/firestore",gO="@firebase/ai",yO="@firebase/firestore-compat",vO="firebase",EO="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",_O={[xg]:"fire-core",[KI]:"fire-core-compat",[QI]:"fire-analytics",[YI]:"fire-analytics-compat",[WI]:"fire-app-check",[XI]:"fire-app-check-compat",[ZI]:"fire-auth",[JI]:"fire-auth-compat",[eO]:"fire-rtdb",[tO]:"fire-data-connect",[nO]:"fire-rtdb-compat",[rO]:"fire-fn",[iO]:"fire-fn-compat",[sO]:"fire-iid",[aO]:"fire-iid-compat",[oO]:"fire-fcm",[lO]:"fire-fcm-compat",[cO]:"fire-perf",[uO]:"fire-perf-compat",[hO]:"fire-rc",[fO]:"fire-rc-compat",[dO]:"fire-gcs",[mO]:"fire-gcs-compat",[pO]:"fire-fst",[yO]:"fire-fst-compat",[gO]:"fire-vertex","fire-js":"fire-js",[vO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,bO=new Map,Ag=new Map;function Vb(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(Ag.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(const n of Mf.values())Vb(n,t);for(const n of bO.values())Vb(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new bu("app","Firebase",TO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=EO;function tx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Sg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw zs.create("bad-app-name",{appName:String(a)});if(n||(n=X1()),!n)throw zs.create("no-options");const l=Mf.get(a);if(l){if(Qa(n,l.options)&&Qa(i,l.config))return l;throw zs.create("duplicate-app",{appName:a})}const u=new CI(a);for(const m of Ag.values())u.addComponent(m);const f=new wO(n,i,u);return Mf.set(a,f),f}function Ay(t=Sg){const e=Mf.get(t);if(!e&&t===Sg&&X1())return tx();if(!e)throw zs.create("no-app",{appName:t});return e}function Zr(t,e,n){let i=_O[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(u.join(" "));return}Xa(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-heartbeat-database",SO=1,nu="firebase-heartbeat-store";let $p=null;function nx(){return $p||($p=zI(xO,SO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),$p}async function AO(t){try{const n=(await nx()).transaction(nu),i=await n.objectStore(nu).get(rx(t));return await n.done,i}catch(e){if(e instanceof fi)Qi.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function kb(t,e){try{const i=(await nx()).transaction(nu,"readwrite");await i.objectStore(nu).put(e,rx(t)),await i.done}catch(n){if(n instanceof fi)Qi.warn(n.message);else{const i=zs.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(i.message)}}}function rx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1024,NO=30;class CO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>NO){const a=DO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lb(),{heartbeatsToSend:n,unsentEntries:i}=IO(this._heartbeatsCache.heartbeats),a=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function Lb(){return new Date().toISOString().substring(0,10)}function IO(t,e=RO){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Ub(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ub(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?vI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ub(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}function DO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){Xa(new Gs("platform-logger",e=>new GI(e),"PRIVATE")),Xa(new Gs("heartbeat",e=>new CO(e),"PRIVATE")),Zr(xg,Mb,t),Zr(xg,Mb,"esm2020"),Zr("fire-js","")}PO("");function ix(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MO=ix,sx=new bu("auth","Firebase",ix());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new xy("@firebase/auth");function VO(t,...e){Vf.logLevel<=Ye.WARN&&Vf.warn(`Auth (${ro}): ${t}`,...e)}function vf(t,...e){Vf.logLevel<=Ye.ERROR&&Vf.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Ry(t,...e)}function Jr(t,...e){return Ry(t,...e)}function ax(t,e,n){const i={...MO(),[e]:n};return new bu("auth","Firebase",i).create(e,{appName:t.name})}function Hi(t){return ax(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sx.create(t,...e)}function Me(t,e,...n){if(!t)throw Ry(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Xi(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){return typeof self<"u"&&self.location?.href||""}function kO(){return jb()==="http:"||jb()==="https:"}function jb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kO()||dI()||"connection"in navigator)?navigator.onLine:!0}function UO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=uI()||mI()}get(){return LO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FO=new wu(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sa(t,e,n,i,a={}){return lx(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Tu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return fI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(p.credentials="include"),ox.fetch()(await cx(t,t.config.apiHost,n,f),p)})}async function lx(t,e,n){t._canInitEmulator=!1;const i={...jO,...e};try{const a=new qO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw af(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw af(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw af(t,"user-disabled",u);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ax(t,v,p);Dr(t,v)}}catch(a){if(a instanceof fi)throw a;Dr(t,"network-request-failed",{message:String(a)})}}async function xu(t,e,n,i,a={}){const l=await sa(t,e,n,i,a);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function cx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Ny(t.config,a):`${t.config.apiScheme}://${a}`;return BO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),FO.get())})}}function af(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Jr(t,e,i);return a.customData._tokenResponse=n,a}function Bb(t){return t!==void 0&&t.enterprise!==void 0}class HO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GO(t,e){return sa(t,"GET","/v2/recaptchaConfig",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function kf(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KO(t,e=!1){const n=bn(t),i=await n.getIdToken(e),a=Cy(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:$c(Kp(a.auth_time)),issuedAtTime:$c(Kp(a.iat)),expirationTime:$c(Kp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Kp(t){return Number(t)*1e3}function Cy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=K1(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Fb(t){const e=Cy(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof fi&&YO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function YO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){const e=t.auth,n=await t.getIdToken(),i=await ru(t,kf(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?ux(a.providerUserInfo):[],u=WO(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function XO(t){const e=bn(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WO(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ux(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){const n=await lx(t,{},async()=>{const i=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await cx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(m.credentials="include"),ox.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JO(t,e){return sa(t,"POST","/v2/accounts:revokeToken",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await ZO(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new ll;return i&&(Me(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new QO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ng(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KO(this,e)}reload(){return XO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await ru(this,$O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:A,providerData:C,stsTokenManager:P}=n;Me(_&&P,e,"internal-error");const I=ll.fromJSON(this.name,P);Me(typeof _=="string",e,"internal-error"),Ds(i,e.name),Ds(a,e.name),Me(typeof b=="boolean",e,"internal-error"),Me(typeof A=="boolean",e,"internal-error"),Ds(l,e.name),Ds(u,e.name),Ds(f,e.name),Ds(m,e.name),Ds(p,e.name),Ds(v,e.name);const B=new Rr({uid:_,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:p,lastLoginAt:v});return C&&Array.isArray(C)&&(B.providerData=C.map(U=>({...U}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new ll;a.updateFromServerResponse(n);const l=new Rr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Lf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ux(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new ll;f.updateFromIdToken(i);const m=new Rr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;function zi(t){Xi(t instanceof Function,"Expected a class definition");let e=zb.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hx.type="NONE";const qb=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ef("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(zi(qb),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||zi(qb);const u=Ef(i,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const b=await kf(e,{idToken:v}).catch(()=>{});if(!b)break;_=await Rr._fromGetAccountInfoResponse(e,b,v)}else _=Rr._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new cl(l,e,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new cl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(px(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yx(e))return"Blackberry";if(vx(e))return"Webos";if(dx(e))return"Safari";if((e.includes("chrome/")||mx(e))&&!e.includes("edge/"))return"Chrome";if(gx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function fx(t=On()){return/firefox\//i.test(t)}function dx(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mx(t=On()){return/crios\//i.test(t)}function px(t=On()){return/iemobile/i.test(t)}function gx(t=On()){return/android/i.test(t)}function yx(t=On()){return/blackberry/i.test(t)}function vx(t=On()){return/webos/i.test(t)}function Iy(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eD(t=On()){return Iy(t)&&!!window.navigator?.standalone}function tD(){return pI()&&document.documentMode===10}function Ex(t=On()){return Iy(t)||gx(t)||vx(t)||yx(t)||/windows phone/i.test(t)||px(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e=[]){let n;switch(t){case"Browser":n=Hb(On());break;case"Worker":n=`${Hb(On())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e={}){return sa(t,"GET","/v2/passwordPolicy",ia(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=6;class sD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Hi(this));const n=e?bn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new sD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await JO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(t){return bn(t)}class Gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=wI(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(t){dd=t}function bx(t){return dd.loadJS(t)}function lD(){return dd.recaptchaEnterpriseScript}function cD(){return dd.gapiScript}function uD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hD{constructor(){this.enterprise=new fD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dD="recaptcha-enterprise",Tx="NO_RECAPTCHA";class mD{constructor(e){this.type=dD,this.auth=io(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{GO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new HO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;Bb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Tx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&Bb(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=lD();m.length!==0&&(m+=f),bx(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function $b(t,e,n,i=!1,a=!1){const l=new mD(t);let u;if(a)u=Tx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cg(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $b(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $b(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){const n=fd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qa(l,e??{}))return a;Dr(a,"already-initialized")}return n.initialize({options:e})}function gD(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(zi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function yD(t,e,n){const i=io(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=wx(e),{host:u,port:f}=vD(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Qa(p,i.config.emulator)&&Qa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,no(u)?(Ty(`${l}//${u}${m}`),wy("Auth",!0)):ED()}function wx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vD(t){const e=wx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Kb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Kb(u)}}}function Kb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ED(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function _D(t,e){return sa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function wD(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Oy{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new iu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",bD);case"emailLink":return TD(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,i,"signUpPassword",_D);case"emailLink":return wD(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="http://localhost";class Wa extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Wa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ul(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:xD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AD(t){const e=Uc(jc(t)).link,n=e?Uc(jc(e)).deep_link_id:null,i=Uc(jc(t)).deep_link_id;return(i?Uc(jc(i)).link:null)||i||n||e||t}class Dy{constructor(e){const n=Uc(jc(e)),i=n.apiKey??null,a=n.oobCode??null,l=SD(n.mode??null);Me(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AD(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Dy.parseLink(n);return Me(i,"argument-error"),iu._fromEmailAndCode(e,i.code,i.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Su{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ks.credential(n,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Su{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Su{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Us.credential(n,i)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return xu(t,"POST","/v1/accounts:signUp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Rr._fromIdTokenResponse(e,i,a),u=Yb(i);return new Za({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Yb(i);return new Za({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends fi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Uf(e,n,i,a)}}function Sx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(t,l,e,i):l})}async function ND(t,e,n=!1){const i=await ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Za._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){const{auth:i}=t;if(Jn(i.app))return Promise.reject(Hi(i));const a="reauthenticate";try{const l=await ru(t,Sx(i,a,e,t),n);Me(l.idToken,i,"internal-error");const u=Cy(l.idToken);Me(u,i,"internal-error");const{sub:f}=u;return Me(t.uid===f,i,"user-mismatch"),Za._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e,n=!1){if(Jn(t.app))return Promise.reject(Hi(t));const i="signIn",a=await Sx(t,i,e),l=await Za._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function ID(t,e){return Ax(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(t,e,n){if(Jn(t.app))return Promise.reject(Hi(t));const i=io(t),u=await Cg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Rx(t),m}),f=await Za._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function DD(t,e,n){return Jn(t.app)?Promise.reject(Hi(t)):ID(bn(t),Sl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Rx(t),i})}function PD(t,e,n,i){return bn(t).onIdTokenChanged(e,n,i)}function MD(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function VD(t,e,n,i){return bn(t).onAuthStateChanged(e,n,i)}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=1e3,LD=10;class Cx extends Nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);tD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,LD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cx.type="LOCAL";const UD=Cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const Ox=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new md(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await jD(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=Py("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function FD(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function zD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){return navigator?.serviceWorker?.controller||null}function HD(){return Dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebaseLocalStorageDb",GD=1,Bf="firebaseLocalStorage",Mx="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function $D(){const t=indexedDB.deleteDatabase(Px);return new Au(t).toPromise()}function Ig(){const t=indexedDB.open(Px,GD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Bf,{keyPath:Mx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Bf)?e(i):(i.close(),await $D(),e(await Ig()))})})}async function Qb(t,e,n){const i=pd(t,!0).put({[Mx]:e,value:n});return new Au(i).toPromise()}async function KD(t,e){const n=pd(t,!1).get(e),i=await new Au(n).toPromise();return i===void 0?null:i.value}function Xb(t,e){const n=pd(t,!0).delete(e);return new Au(n).toPromise()}const YD=800,QD=3;class Vx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>QD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(HD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new BD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Qb(e,jf,"1"),await Xb(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pd(a,!1).getAll();return new Au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vx.type="LOCAL";const XD=Vx;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e){return e?zi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZD(t){return Ax(t.auth,new My(t),t.bypassAuthState)}function JD(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),CD(n,new My(t),t.bypassAuthState)}async function eP(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),ND(n,new My(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZD;case"linkViaPopup":case"linkViaRedirect":return eP;case"reauthViaPopup":case"reauthViaRedirect":return JD;default:Dr(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new wu(2e3,1e4);class nl extends kx{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tP.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="pendingRedirect",_f=new Map;class rP extends kx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_f.get(this.auth._key());if(!e){try{const i=await iP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iP(t,e){const n=oP(e),i=aP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function sP(t,e){_f.set(t._key(),e)}function aP(t){return zi(t._redirectPersistence)}function oP(t){return Ef(nP,t.config.apiKey,t.name)}async function lP(t,e,n=!1){if(Jn(t.app))return Promise.reject(Hi(t));const i=io(t),a=WD(i,e),u=await new rP(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=600*1e3;class uP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e={}){return sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mP=/^https?/;async function pP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fP(t);for(const n of e)try{if(gP(n))return}catch{}Dr(t,"unauthorized-domain")}function gP(t){const e=Rg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!mP.test(n))return!1;if(dP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new wu(3e4,6e4);function Zb(){const t=ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vP(t){return new Promise((e,n)=>{function i(){Zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zb(),n(Jr(t,"network-request-failed"))},timeout:yP.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)i();else{const a=uD("iframefcb");return ei()[a]=()=>{gapi.load?i():n(Jr(t,"network-request-failed"))},bx(`${cD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function EP(t){return bf=bf||vP(t),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new wu(5e3,15e3),bP="__/auth/iframe",TP="emulator/auth/iframe",wP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SP(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,TP):`https://${t.config.authDomain}/${bP}`,i={apiKey:e.apiKey,appName:t.name,v:ro},a=xP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Tu(i).slice(1)}`}async function AP(t){const e=await EP(t),n=ei().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:SP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Jr(t,"network-request-failed"),f=ei().setTimeout(()=>{l(u)},_P.get());function m(){ei().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NP=500,CP=600,IP="_blank",OP="http://localhost";class Jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DP(t,e,n,i=NP,a=CP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...RP,width:i.toString(),height:a.toString(),top:l,left:u},p=On().toLowerCase();n&&(f=mx(p)?IP:n),fx(p)&&(e=e||OP,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[A,C])=>`${b}${A}=${C},`,"");if(eD(p)&&f!=="_self")return PP(e||"",f),new Jb(null);const _=window.open(e||"",f,v);Me(_,t,"popup-blocked");try{_.focus()}catch{}return new Jb(_)}function PP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",VP="emulator/auth/handler",kP=encodeURIComponent("fac");async function eT(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ro,eventId:a};if(e instanceof xx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",TI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Su){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${kP}=${encodeURIComponent(m)}`:"";return`${LP(t)}?${Tu(f).slice(1)}${p}`}function LP({config:t}){return t.emulator?Ny(t,VP):`https://${t.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class UP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ox,this._completeRedirectFn=lP,this._overrideRedirectResult=sP}async _openPopup(e,n,i,a){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await eT(e,n,i,Rg(),a);return DP(e,l,Py())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await eT(e,n,i,Rg(),a);return FD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await AP(e),i=new uP(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{const l=a?.[0]?.[Yp];l!==void 0&&n(!!l),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ex()||dx()||Iy()}}const jP=UP;var tT="@firebase/auth",nT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(t){Xa(new Gs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_x(t)},p=new aD(i,a,l,m);return gD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xa(new Gs("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(i=>new BP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(tT,nT,FP(t)),Zr(tT,nT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=300,HP=W1("authIdTokenMaxAge")||qP;let rT=null;const GP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>HP)return;const a=n?.token;rT!==a&&(rT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $P(t=Ay()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pD(t,{popupRedirectResolver:jP,persistence:[XD,UD,Ox]}),i=W1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=GP(l.toString());MD(n,u,()=>u(n.currentUser)),PD(n,f=>u(f))}}const a=Y1("auth");return a&&yD(n,`http://${a}`),n}function KP(){return document.getElementsByTagName("head")?.[0]??document}oD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Jr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",KP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");var YP="firebase",QP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(YP,QP,"app");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,Ux;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function N(){}N.prototype=x.prototype,V.D=x.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(M,j,z){for(var k=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)k[qe-2]=arguments[qe];return x.prototype[j].apply(M,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,x,N){N||(N=0);var M=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)M[j]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(j=0;16>j;++j)M[j]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=V.g[0],N=V.g[1],j=V.g[2];var z=V.g[3],k=x+(z^N&(j^z))+M[0]+3614090360&4294967295;x=N+(k<<7&4294967295|k>>>25),k=z+(j^x&(N^j))+M[1]+3905402710&4294967295,z=x+(k<<12&4294967295|k>>>20),k=j+(N^z&(x^N))+M[2]+606105819&4294967295,j=z+(k<<17&4294967295|k>>>15),k=N+(x^j&(z^x))+M[3]+3250441966&4294967295,N=j+(k<<22&4294967295|k>>>10),k=x+(z^N&(j^z))+M[4]+4118548399&4294967295,x=N+(k<<7&4294967295|k>>>25),k=z+(j^x&(N^j))+M[5]+1200080426&4294967295,z=x+(k<<12&4294967295|k>>>20),k=j+(N^z&(x^N))+M[6]+2821735955&4294967295,j=z+(k<<17&4294967295|k>>>15),k=N+(x^j&(z^x))+M[7]+4249261313&4294967295,N=j+(k<<22&4294967295|k>>>10),k=x+(z^N&(j^z))+M[8]+1770035416&4294967295,x=N+(k<<7&4294967295|k>>>25),k=z+(j^x&(N^j))+M[9]+2336552879&4294967295,z=x+(k<<12&4294967295|k>>>20),k=j+(N^z&(x^N))+M[10]+4294925233&4294967295,j=z+(k<<17&4294967295|k>>>15),k=N+(x^j&(z^x))+M[11]+2304563134&4294967295,N=j+(k<<22&4294967295|k>>>10),k=x+(z^N&(j^z))+M[12]+1804603682&4294967295,x=N+(k<<7&4294967295|k>>>25),k=z+(j^x&(N^j))+M[13]+4254626195&4294967295,z=x+(k<<12&4294967295|k>>>20),k=j+(N^z&(x^N))+M[14]+2792965006&4294967295,j=z+(k<<17&4294967295|k>>>15),k=N+(x^j&(z^x))+M[15]+1236535329&4294967295,N=j+(k<<22&4294967295|k>>>10),k=x+(j^z&(N^j))+M[1]+4129170786&4294967295,x=N+(k<<5&4294967295|k>>>27),k=z+(N^j&(x^N))+M[6]+3225465664&4294967295,z=x+(k<<9&4294967295|k>>>23),k=j+(x^N&(z^x))+M[11]+643717713&4294967295,j=z+(k<<14&4294967295|k>>>18),k=N+(z^x&(j^z))+M[0]+3921069994&4294967295,N=j+(k<<20&4294967295|k>>>12),k=x+(j^z&(N^j))+M[5]+3593408605&4294967295,x=N+(k<<5&4294967295|k>>>27),k=z+(N^j&(x^N))+M[10]+38016083&4294967295,z=x+(k<<9&4294967295|k>>>23),k=j+(x^N&(z^x))+M[15]+3634488961&4294967295,j=z+(k<<14&4294967295|k>>>18),k=N+(z^x&(j^z))+M[4]+3889429448&4294967295,N=j+(k<<20&4294967295|k>>>12),k=x+(j^z&(N^j))+M[9]+568446438&4294967295,x=N+(k<<5&4294967295|k>>>27),k=z+(N^j&(x^N))+M[14]+3275163606&4294967295,z=x+(k<<9&4294967295|k>>>23),k=j+(x^N&(z^x))+M[3]+4107603335&4294967295,j=z+(k<<14&4294967295|k>>>18),k=N+(z^x&(j^z))+M[8]+1163531501&4294967295,N=j+(k<<20&4294967295|k>>>12),k=x+(j^z&(N^j))+M[13]+2850285829&4294967295,x=N+(k<<5&4294967295|k>>>27),k=z+(N^j&(x^N))+M[2]+4243563512&4294967295,z=x+(k<<9&4294967295|k>>>23),k=j+(x^N&(z^x))+M[7]+1735328473&4294967295,j=z+(k<<14&4294967295|k>>>18),k=N+(z^x&(j^z))+M[12]+2368359562&4294967295,N=j+(k<<20&4294967295|k>>>12),k=x+(N^j^z)+M[5]+4294588738&4294967295,x=N+(k<<4&4294967295|k>>>28),k=z+(x^N^j)+M[8]+2272392833&4294967295,z=x+(k<<11&4294967295|k>>>21),k=j+(z^x^N)+M[11]+1839030562&4294967295,j=z+(k<<16&4294967295|k>>>16),k=N+(j^z^x)+M[14]+4259657740&4294967295,N=j+(k<<23&4294967295|k>>>9),k=x+(N^j^z)+M[1]+2763975236&4294967295,x=N+(k<<4&4294967295|k>>>28),k=z+(x^N^j)+M[4]+1272893353&4294967295,z=x+(k<<11&4294967295|k>>>21),k=j+(z^x^N)+M[7]+4139469664&4294967295,j=z+(k<<16&4294967295|k>>>16),k=N+(j^z^x)+M[10]+3200236656&4294967295,N=j+(k<<23&4294967295|k>>>9),k=x+(N^j^z)+M[13]+681279174&4294967295,x=N+(k<<4&4294967295|k>>>28),k=z+(x^N^j)+M[0]+3936430074&4294967295,z=x+(k<<11&4294967295|k>>>21),k=j+(z^x^N)+M[3]+3572445317&4294967295,j=z+(k<<16&4294967295|k>>>16),k=N+(j^z^x)+M[6]+76029189&4294967295,N=j+(k<<23&4294967295|k>>>9),k=x+(N^j^z)+M[9]+3654602809&4294967295,x=N+(k<<4&4294967295|k>>>28),k=z+(x^N^j)+M[12]+3873151461&4294967295,z=x+(k<<11&4294967295|k>>>21),k=j+(z^x^N)+M[15]+530742520&4294967295,j=z+(k<<16&4294967295|k>>>16),k=N+(j^z^x)+M[2]+3299628645&4294967295,N=j+(k<<23&4294967295|k>>>9),k=x+(j^(N|~z))+M[0]+4096336452&4294967295,x=N+(k<<6&4294967295|k>>>26),k=z+(N^(x|~j))+M[7]+1126891415&4294967295,z=x+(k<<10&4294967295|k>>>22),k=j+(x^(z|~N))+M[14]+2878612391&4294967295,j=z+(k<<15&4294967295|k>>>17),k=N+(z^(j|~x))+M[5]+4237533241&4294967295,N=j+(k<<21&4294967295|k>>>11),k=x+(j^(N|~z))+M[12]+1700485571&4294967295,x=N+(k<<6&4294967295|k>>>26),k=z+(N^(x|~j))+M[3]+2399980690&4294967295,z=x+(k<<10&4294967295|k>>>22),k=j+(x^(z|~N))+M[10]+4293915773&4294967295,j=z+(k<<15&4294967295|k>>>17),k=N+(z^(j|~x))+M[1]+2240044497&4294967295,N=j+(k<<21&4294967295|k>>>11),k=x+(j^(N|~z))+M[8]+1873313359&4294967295,x=N+(k<<6&4294967295|k>>>26),k=z+(N^(x|~j))+M[15]+4264355552&4294967295,z=x+(k<<10&4294967295|k>>>22),k=j+(x^(z|~N))+M[6]+2734768916&4294967295,j=z+(k<<15&4294967295|k>>>17),k=N+(z^(j|~x))+M[13]+1309151649&4294967295,N=j+(k<<21&4294967295|k>>>11),k=x+(j^(N|~z))+M[4]+4149444226&4294967295,x=N+(k<<6&4294967295|k>>>26),k=z+(N^(x|~j))+M[11]+3174756917&4294967295,z=x+(k<<10&4294967295|k>>>22),k=j+(x^(z|~N))+M[2]+718787259&4294967295,j=z+(k<<15&4294967295|k>>>17),k=N+(z^(j|~x))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+j&4294967295,V.g[3]=V.g[3]+z&4294967295}i.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var N=x-this.blockSize,M=this.B,j=this.h,z=0;z<x;){if(j==0)for(;z<=N;)a(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<x;)if(M[j++]=V.charCodeAt(z++),j==this.blockSize){a(this,M),j=0;break}}else for(;z<x;)if(M[j++]=V[z++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=x},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var N=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=N&255,N/=256;for(this.u(V),V=Array(16),x=N=0;4>x;++x)for(var M=0;32>M;M+=8)V[N++]=this.g[x]>>>M&255;return V};function l(V,x){var N=f;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=x(V)}function u(V,x){this.h=x;for(var N=[],M=!0,j=V.length-1;0<=j;j--){var z=V[j]|0;M&&z==x||(N[j]=z,M=!1)}this.g=N}var f={};function m(V){return-128<=V&&128>V?l(V,function(x){return new u([x|0],0>x?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return I(p(-V));for(var x=[],N=1,M=0;V>=N;M++)x[M]=V/N|0,N*=4294967296;return new u(x,0)}function v(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return I(v(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(x,8)),M=_,j=0;j<V.length;j+=8){var z=Math.min(8,V.length-j),k=parseInt(V.substring(j,j+z),x);8>z?(z=p(Math.pow(x,z)),M=M.j(z).add(p(k))):(M=M.j(N),M=M.add(p(k)))}return M}var _=m(0),b=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-I(this).m();for(var V=0,x=1,N=0;N<this.g.length;N++){var M=this.i(N);V+=(0<=M?M:4294967296+M)*x,x*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(P(this))return"-"+I(this).toString(V);for(var x=p(Math.pow(V,6)),N=this,M="";;){var j=ie(N,x).g;N=B(N,j.j(x));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=j,C(N))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function P(V){return V.h==-1}t.l=function(V){return V=B(this,V),P(V)?-1:C(V)?0:1};function I(V){for(var x=V.g.length,N=[],M=0;M<x;M++)N[M]=~V.g[M];return new u(N,~V.h).add(b)}t.abs=function(){return P(this)?I(this):this},t.add=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],M=0,j=0;j<=x;j++){var z=M+(this.i(j)&65535)+(V.i(j)&65535),k=(z>>>16)+(this.i(j)>>>16)+(V.i(j)>>>16);M=k>>>16,z&=65535,k&=65535,N[j]=k<<16|z}return new u(N,N[N.length-1]&-2147483648?-1:0)};function B(V,x){return V.add(I(x))}t.j=function(V){if(C(this)||C(V))return _;if(P(this))return P(V)?I(this).j(I(V)):I(I(this).j(V));if(P(V))return I(this.j(I(V)));if(0>this.l(A)&&0>V.l(A))return p(this.m()*V.m());for(var x=this.g.length+V.g.length,N=[],M=0;M<2*x;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<V.g.length;j++){var z=this.i(M)>>>16,k=this.i(M)&65535,qe=V.i(j)>>>16,de=V.i(j)&65535;N[2*M+2*j]+=k*de,U(N,2*M+2*j),N[2*M+2*j+1]+=z*de,U(N,2*M+2*j+1),N[2*M+2*j+1]+=k*qe,U(N,2*M+2*j+1),N[2*M+2*j+2]+=z*qe,U(N,2*M+2*j+2)}for(M=0;M<x;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=x;M<2*x;M++)N[M]=0;return new u(N,0)};function U(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function q(V,x){this.g=V,this.h=x}function ie(V,x){if(C(x))throw Error("division by zero");if(C(V))return new q(_,_);if(P(V))return x=ie(I(V),x),new q(I(x.g),I(x.h));if(P(x))return x=ie(V,I(x)),new q(I(x.g),x.h);if(30<V.g.length){if(P(V)||P(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,M=x;0>=M.l(V);)N=H(N),M=H(M);var j=J(N,1),z=J(M,1);for(M=J(M,2),N=J(N,2);!C(M);){var k=z.add(M);0>=k.l(V)&&(j=j.add(N),z=k),M=J(M,1),N=J(N,1)}return x=B(V,j.j(x)),new q(j,x)}for(j=_;0<=V.l(x);){for(N=Math.max(1,Math.floor(V.m()/x.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(N),k=z.j(x);P(k)||0<k.l(V);)N-=M,z=p(N),k=z.j(x);C(z)&&(z=b),j=j.add(z),V=B(V,k)}return new q(j,V)}t.A=function(V){return ie(this,V).h},t.and=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)&V.i(M);return new u(N,this.h&V.h)},t.or=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)|V.i(M);return new u(N,this.h|V.h)},t.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],M=0;M<x;M++)N[M]=this.i(M)^V.i(M);return new u(N,this.h^V.h)};function H(V){for(var x=V.g.length+1,N=[],M=0;M<x;M++)N[M]=V.i(M)<<1|V.i(M-1)>>>31;return new u(N,V.h)}function J(V,x){var N=x>>5;x%=32;for(var M=V.g.length-N,j=[],z=0;z<M;z++)j[z]=0<x?V.i(z+N)>>>x|V.i(z+N+1)<<32-x:V.i(z+N);return new u(j,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ux=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,qs=u}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jx,Bc,Bx,Tf,Og,Fx,zx,qx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,T){return h==Array.prototype||h==Object.prototype||(h[E]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var E=0;E<h.length;++E){var T=h[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,E){if(E)e:{var T=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var Y=h[R];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],R=T[h],E=E(R),E!=R&&E!=null&&e(T,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var T=0,R=!1,Y={next:function(){if(!R&&T<h.length){var ee=T++;return{value:E(ee,h[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(E,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function p(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function v(h,E,T){return h.call.apply(h.bind,arguments)}function _(h,E,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),h.apply(E,Y)}}return function(){return h.apply(E,arguments)}}function b(h,E,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,b.apply(null,arguments)}function A(h,E){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,E){function T(){}T.prototype=E.prototype,h.aa=E.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,Y,ee){for(var ve=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ve[Ze-2]=arguments[Ze];return E.prototype[Y].apply(R,ve)}}function P(h){const E=h.length;if(0<E){const T=Array(E);for(let R=0;R<E;R++)T[R]=h[R];return T}return[]}function I(h,E){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(m(R)){const Y=h.length||0,ee=R.length||0;h.length=Y+ee;for(let ve=0;ve<ee;ve++)h[Y+ve]=R[ve]}else h.push(R)}}class B{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ie(h){return ie[" "](h),h}ie[" "]=function(){};var H=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(h,E,T){for(const R in h)E.call(T,h[R],R,h)}function V(h,E){for(const T in h)E.call(void 0,h[T],T,h)}function x(h){const E={};for(const T in h)E[T]=h[T];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,E){let T,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(T in R)h[T]=R[T];for(let ee=0;ee<N.length;ee++)T=N[ee],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function j(h){var E=1;h=h.split(":");const T=[];for(;0<E&&h.length;)T.push(h.shift()),E--;return h.length&&T.push(h.join(":")),T}function z(h){f.setTimeout(()=>{throw h},0)}function k(){var h=Ae;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class qe{constructor(){this.h=this.g=null}add(E,T){const R=de.get();R.set(E,T),this.h?this.h.next=R:this.g=R,this.h=R}}var de=new B(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ye=!1,Ae=new qe,D=()=>{const h=f.Promise.resolve(void 0);ne=()=>{h.then(re)}};var re=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(T){z(T)}var E=de;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}ye=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,E),f.removeEventListener("test",T,E)}catch{}return h})();function Oe(h,E){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(H){e:{try{ie(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else T=="mouseover"?E=h.fromElement:T=="mouseout"&&(E=h.toElement);this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Oe.aa.h.call(this)}}C(Oe,le);var Re={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),We=0;function wn(h,E,T,R,Y){this.listener=h,this.proxy=null,this.src=E,this.type=T,this.capture=!!R,this.ha=Y,this.key=++We,this.da=this.fa=!1}function hn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h){this.src=h,this.g={},this.h=0}yt.prototype.add=function(h,E,T,R,Y){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ve=Ot(h,E,R,Y);return-1<ve?(E=h[ve],T||(E.fa=!1)):(E=new wn(E,this.src,ee,!!R,Y),E.fa=T,h.push(E)),E};function zt(h,E){var T=E.type;if(T in h.g){var R=h.g[T],Y=Array.prototype.indexOf.call(R,E,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(R,Y,1),ee&&(hn(E),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ot(h,E,T,R){for(var Y=0;Y<h.length;++Y){var ee=h[Y];if(!ee.da&&ee.listener==E&&ee.capture==!!T&&ee.ha==R)return Y}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),rs={};function oa(h,E,T,R,Y){if(Array.isArray(E)){for(var ee=0;ee<E.length;ee++)oa(h,E[ee],T,R,Y);return null}return T=pe(T),h&&h[At]?h.K(E,T,p(R)?!!R.capture:!1,Y):Ln(h,E,T,!1,R,Y)}function Ln(h,E,T,R,Y,ee){if(!E)throw Error("Invalid event type");var ve=p(Y)?!!Y.capture:!!Y,Ze=Vr(h);if(Ze||(h[mi]=Ze=new yt(h)),T=Ze.add(E,T,R,ve,ee),T.proxy)return T;if(R=is(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)_e||(Y=ve),Y===void 0&&(Y=!1),h.addEventListener(E.toString(),R,Y);else if(h.attachEvent)h.attachEvent(Er(E.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function is(){function h(T){return E.call(h.src,h.listener,T)}const E=ss;return h}function la(h,E,T,R,Y){if(Array.isArray(E))for(var ee=0;ee<E.length;ee++)la(h,E[ee],T,R,Y);else R=p(R)?!!R.capture:!!R,T=pe(T),h&&h[At]?(h=h.i,E=String(E).toString(),E in h.g&&(ee=h.g[E],T=Ot(ee,T,R,Y),-1<T&&(hn(ee[T]),Array.prototype.splice.call(ee,T,1),ee.length==0&&(delete h.g[E],h.h--)))):h&&(h=Vr(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Ot(E,T,R,Y)),(T=-1<h?E[h]:null)&&pi(T))}function pi(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[At])zt(E.i,h);else{var T=h.type,R=h.proxy;E.removeEventListener?E.removeEventListener(T,R,h.capture):E.detachEvent?E.detachEvent(Er(T),R):E.addListener&&E.removeListener&&E.removeListener(R),(T=Vr(E))?(zt(T,h),T.h==0&&(T.src=null,E[mi]=null)):hn(h)}}}function Er(h){return h in rs?rs[h]:rs[h]="on"+h}function ss(h,E){if(h.da)h=!0;else{E=new Oe(E,this);var T=h.listener,R=h.ha||h.src;h.fa&&pi(h),h=T.call(R,E)}return h}function Vr(h){return h=h[mi],h instanceof yt?h:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(h){return typeof h=="function"?h:(h[ca]||(h[ca]=function(E){return h.handleEvent(E)}),h[ca])}function $(){ge.call(this),this.i=new yt(this),this.M=this,this.F=null}C($,ge),$.prototype[At]=!0,$.prototype.removeEventListener=function(h,E,T,R){la(this,h,E,T,R)};function ae(h,E){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=E.type||E,typeof E=="string")E=new le(E,h);else if(E instanceof le)E.target=E.target||h;else{var Y=E;E=new le(R,h),M(E,Y)}if(Y=!0,T)for(var ee=T.length-1;0<=ee;ee--){var ve=E.g=T[ee];Y=me(ve,R,!0,E)&&Y}if(ve=E.g=h,Y=me(ve,R,!0,E)&&Y,Y=me(ve,R,!1,E)&&Y,T)for(ee=0;ee<T.length;ee++)ve=E.g=T[ee],Y=me(ve,R,!1,E)&&Y}$.prototype.N=function(){if($.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var T=h.g[E],R=0;R<T.length;R++)hn(T[R]);delete h.g[E],h.h--}}this.F=null},$.prototype.K=function(h,E,T,R){return this.i.add(String(h),E,!1,T,R)},$.prototype.L=function(h,E,T,R){return this.i.add(String(h),E,!0,T,R)};function me(h,E,T,R){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ee=0;ee<E.length;++ee){var ve=E[ee];if(ve&&!ve.da&&ve.capture==T){var Ze=ve.listener,Jt=ve.ha||ve.src;ve.fa&&zt(h.i,ve),Y=Ze.call(Jt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Ie(h,E,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:f.setTimeout(h,E||0)}function Fe(h){h.g=Ie(()=>{h.g=null,h.i&&(h.i=!1,Fe(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class nt extends ge{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(h){ge.call(this),this.h=h,this.g={}}C(te,ge);var ce=[];function we(h){J(h.g,function(E,T){this.g.hasOwnProperty(T)&&pi(E)},h),h.g={}}te.prototype.N=function(){te.aa.N.call(this),we(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=f.JSON.stringify,Te=f.JSON.parse,Ue=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ct(){}ct.prototype.h=null;function ut(h){return h.h||(h.h=h.i())}function it(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){le.call(this,"d")}C(at,le);function Dt(){le.call(this,"c")}C(Dt,le);var fn={},qn=null;function Hn(){return qn=qn||new $}fn.La="serverreachability";function gi(h){le.call(this,fn.La,h)}C(gi,le);function _r(h){const E=Hn();ae(E,new gi(E))}fn.STAT_EVENT="statevent";function Lu(h,E){le.call(this,fn.STAT_EVENT,h),this.stat=E}C(Lu,le);function wt(h){const E=Hn();ae(E,new Lu(E,h))}fn.Ma="timingevent";function Zt(h,E){le.call(this,fn.Ma,h),this.size=E}C(Zt,le);function qt(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},E)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Ml(h,E,T,R,Y,ee){h.info(function(){if(h.g)if(ee)for(var ve="",Ze=ee.split("&"),Jt=0;Jt<Ze.length;Jt++){var Je=Ze[Jt].split("=");if(1<Je.length){var an=Je[0];Je=Je[1];var en=an.split("_");ve=2<=en.length&&en[1]=="type"?ve+(an+"="+Je+"&"):ve+(an+"=redacted&")}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+E+`
`+T+`
`+ve})}function Ud(h,E,T,R,Y,ee,ve){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+E+`
`+T+`
`+ee+" "+ve})}function as(h,E,T,R){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+ua(h,T)+(R?" "+R:"")})}function Uu(h,E){h.info(function(){return"TIMEOUT: "+E})}er.prototype.info=function(){};function ua(h,E){if(!h.g)return E;if(!E)return null;try{var T=JSON.parse(E);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return be(T)}catch{return E}}var os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Lr(){}C(Lr,ct),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},kr=new Lr;function Dn(h,E,T,R){this.j=h,this.i=E,this.l=T,this.R=R||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Vl={},co={};function br(h,E,T){h.L=1,h.v=pa(Gn(E)),h.m=T,h.P=!0,vi(h,null)}function vi(h,E){h.F=Date.now(),ha(h),h.A=Gn(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Fl(T.i,"t",R),h.C=0,T=h.j.J,h.h=new kt,h.g=eh(h.j,T?E:null,!h.m),0<h.O&&(h.M=new nt(b(h.Y,h,h.g),h.O)),E=h.U,T=h.g,R=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ce[0]=Y.toString()),Y=ce);for(var ee=0;ee<Y.length;ee++){var ve=oa(T,Y[ee],R||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),_r(),Ml(h.i,h.u,h.A,h.l,h.R,h.m)}Dn.prototype.ca=function(h){h=h.target;const E=this.M;E&&ir(h)==3?E.j():this.Y(h)},Dn.prototype.Y=function(h){try{if(h==this.g)e:{const en=ir(this.g);var E=this.g.Ba();const Ai=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||en!=4||E==7||(E==8||0>=Ai?_r(3):_r(2)),ls(this);var T=this.g.Z();this.X=T;t:if(ju(this)){var R=$u(this.g);h="";var Y=R.length,ee=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ur(this);var ve="";break t}this.h.i=new f.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,h+=this.h.i.decode(R[E],{stream:!(ee&&E==Y-1)});R.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,Ud(this.i,this.u,this.A,this.l,this.R,en,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Jt=this.g;if((Ze=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ze)){var Je=Ze;break t}}Je=null}if(T=Je)as(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,T);else{this.o=!1,this.s=3,wt(12),dn(this),Ur(this);break e}}if(this.P){T=!0;let mn;for(;!this.J&&this.C<ve.length;)if(mn=Bu(this,ve),mn==co){en==4&&(this.s=4,wt(14),T=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Vl){this.s=4,wt(15),as(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else as(this.i,this.l,mn,null),fa(this,mn);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ve.length!=0||this.h.h||(this.s=1,wt(16),T=!1),this.o=this.o&&T,!T)as(this.i,this.l,ve,"[Invalid Chunked Response]"),dn(this),Ur(this);else if(0<ve.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),wa(an),an.M=!0,wt(11))}}else as(this.i,this.l,ve,null),fa(this,ve);en==4&&dn(this),this.o&&!this.J&&(en==4?Wu(this.j,this):(this.o=!1,ha(this)))}else qd(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),dn(this),Ur(this)}}}catch{}finally{}};function ju(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Bu(h,E){var T=h.C,R=E.indexOf(`
`,T);return R==-1?co:(T=Number(E.substring(T,R)),isNaN(T)?Vl:(R+=1,R+T>E.length?co:(E=E.slice(R,R+T),h.C=R+T,E)))}Dn.prototype.cancel=function(){this.J=!0,dn(this)};function ha(h){h.S=Date.now()+h.I,Fu(h,h.I)}function Fu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qt(b(h.ba,h),E)}function ls(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Uu(this.i,this.A),this.L!=2&&(_r(),wt(17)),dn(this),this.s=2,Ur(this)):Fu(this,this.S-h)};function Ur(h){h.j.G==0||h.J||Wu(h.j,h)}function dn(h){ls(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,we(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function fa(h,E){try{var T=h.j;if(T.G!=0&&(T.g==h||kl(T.h,h))){if(!h.K&&kl(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)To(T),_o(T);else break e;$l(T),wt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=qt(b(T.Za,T),6e3));if(1>=ho(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Si(T,11)}else if((h.K||T.g==h)&&To(T),!U(E))for(Y=T.Da.g.parse(E),E=0;E<Y.length;E++){let Je=Y[E];if(T.T=Je[0],Je=Je[1],T.G==2)if(Je[0]=="c"){T.K=Je[1],T.ia=Je[2];const an=Je[3];an!=null&&(T.la=an,T.j.info("VER="+T.la));const en=Je[4];en!=null&&(T.Aa=en,T.j.info("SVER="+T.Aa));const Ai=Je[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(R=1.5*Ai,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const mn=h.g;if(mn){const Gr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var ee=R.h;ee.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(fo(ee,ee.h),ee.h=null))}if(R.D){const Yl=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(R.ya=Yl,dt(R.I,R.D,Yl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ve=h;if(R.qa=Ju(R,R.J?R.ia:null,R.W),ve.K){Pn(R.h,ve);var Ze=ve,Jt=R.L;Jt&&(Ze.I=Jt),Ze.B&&(ls(Ze),ha(Ze)),R.g=ve}else Qu(R);0<T.i.length&&bo(T)}else Je[0]!="stop"&&Je[0]!="close"||Si(T,7);else T.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Si(T,7):Hl(T):Je[0]!="noop"&&T.l&&T.l.ta(Je),T.v=0)}}_r(4)}catch{}}var zu=class{constructor(h,E){this.g=h,this.map=E}};function Ei(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ho(h){return h.h?1:h.g?h.g.size:0}function kl(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function fo(h,E){h.g?h.g.add(E):h.h=E}function Pn(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}Ei.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ll(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const T of h.g.values())E=E.concat(T.D);return E}return P(h.i)}function jd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var E=[],T=h.length,R=0;R<T;R++)E.push(h[R]);return E}E=[],T=0;for(R in h)E[T++]=h[R];return E}function mo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var E=[];h=h.length;for(var T=0;T<h;T++)E.push(T);return E}E=[],T=0;for(const R in h)E[T++]=R;return E}}}function Ul(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var T=mo(h),R=jd(h),Y=R.length,ee=0;ee<Y;ee++)E.call(void 0,R[ee],T&&T[ee],h)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(h,E){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),Y=null;if(0<=R){var ee=h[T].substring(0,R);Y=h[T].substring(R+1)}else ee=h[T];E(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ht(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ht){this.h=h.h,ma(this,h.j),this.o=h.o,this.g=h.g,cs(this,h.s),this.l=h.l;var E=h.i,T=new bi;T.i=E.i,E.g&&(T.g=new Map(E.g),T.h=E.h),_i(this,T),this.m=h.m}else h&&(E=String(h).match(da))?(this.h=!1,ma(this,E[1]||"",!0),this.o=tr(E[2]||""),this.g=tr(E[3]||"",!0),cs(this,E[4]),this.l=tr(E[5]||"",!0),_i(this,E[6]||"",!0),this.m=tr(E[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Ht.prototype.toString=function(){var h=[],E=this.j;E&&h.push(ga(E,jl,!0),":");var T=this.g;return(T||E=="file")&&(h.push("//"),(E=this.o)&&h.push(ga(E,jl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ga(T,T.charAt(0)=="/"?Fd:Bl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ga(T,po)),h.join("")};function Gn(h){return new Ht(h)}function ma(h,E,T){h.j=T?tr(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function cs(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function _i(h,E,T){E instanceof bi?(h.i=E,Hu(h.i,h.h)):(T||(E=ga(E,zd)),h.i=new bi(E,h.h))}function dt(h,E,T){h.i.set(E,T)}function pa(h){return dt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function tr(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,E,T){return typeof h=="string"?(h=encodeURI(h).replace(E,qu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jl=/[#\/\?@]/g,Bl=/[#\?:]/g,Fd=/[#\?]/g,zd=/[#\?@]/g,po=/#/g;function bi(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function nr(h){h.g||(h.g=new Map,h.h=0,h.i&&Bd(h.i,function(E,T){h.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}t=bi.prototype,t.add=function(h,E){nr(this),this.i=null,h=jr(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(E),this.h+=1,this};function Ti(h,E){nr(h),E=jr(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function wi(h,E){return nr(h),E=jr(h,E),h.g.has(E)}t.forEach=function(h,E){nr(this),this.g.forEach(function(T,R){T.forEach(function(Y){h.call(E,Y,R,this)},this)},this)},t.na=function(){nr(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),T=[];for(let R=0;R<E.length;R++){const Y=h[R];for(let ee=0;ee<Y.length;ee++)T.push(E[R])}return T},t.V=function(h){nr(this);let E=[];if(typeof h=="string")wi(this,h)&&(E=E.concat(this.g.get(jr(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)E=E.concat(h[T])}return E},t.set=function(h,E){return nr(this),this.i=null,h=jr(this,h),wi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function Fl(h,E,T){Ti(h,E),0<T.length&&(h.i=null,h.g.set(jr(h,E),P(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var T=0;T<E.length;T++){var R=E[T];const ee=encodeURIComponent(String(R)),ve=this.V(R);for(R=0;R<ve.length;R++){var Y=ee;ve[R]!==""&&(Y+="="+encodeURIComponent(String(ve[R]))),h.push(Y)}}return this.i=h.join("&")};function jr(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function Hu(h,E){E&&!h.j&&(nr(h),h.i=null,h.g.forEach(function(T,R){var Y=R.toLowerCase();R!=Y&&(Ti(this,R),Fl(this,Y,T))},h)),h.j=E}function ya(h,E){const T=new er;if(f.Image){const R=new Image;R.onload=A(rr,T,"TestLoadImage: loaded",!0,E,R),R.onerror=A(rr,T,"TestLoadImage: error",!1,E,R),R.onabort=A(rr,T,"TestLoadImage: abort",!1,E,R),R.ontimeout=A(rr,T,"TestLoadImage: timeout",!1,E,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else E(!1)}function Tr(h,E){const T=new er,R=new AbortController,Y=setTimeout(()=>{R.abort(),rr(T,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:R.signal}).then(ee=>{clearTimeout(Y),ee.ok?rr(T,"TestPingServer: ok",!0,E):rr(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),rr(T,"TestPingServer: error",!1,E)})}function rr(h,E,T,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(T)}catch{}}function va(){this.g=new Ue}function Br(h,E,T){const R=T||"";try{Ul(h,function(Y,ee){let ve=Y;p(Y)&&(ve=be(Y)),E.push(R+ee+"="+encodeURIComponent(ve))})}catch(Y){throw E.push(R+"type="+encodeURIComponent("_badmap")),Y}}function us(h){this.l=h.Ub||null,this.j=h.eb||!1}C(us,ct),us.prototype.g=function(){return new xi(this.l,this.j)},us.prototype.i=(function(h){return function(){return h}})({});function xi(h,E){$.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xi,$),t=xi.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,zr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||f).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Fr(this):zr(this),this.readyState==3&&zl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Fr(this))},t.Qa=function(h){this.g&&(this.response=h,Fr(this))},t.ga=function(){this.g&&Fr(this)};function Fr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,zr(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=E.next();return h.join(`\r
`)};function zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ql(h){let E="";return J(h,function(T,R){E+=R,E+=":",E+=T,E+=`\r
`}),E}function sn(h,E,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=ql(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):dt(h,E,T))}function ot(h){$.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ot,$);var go=/^https?$/i,Ea=["POST","PUT"];t=ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?ut(this.o):ut(kr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ee){Gu(this,ee);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)T.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())T.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ea,E,void 0))||R||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of T)this.g.setRequestHeader(ee,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Gu(this,ee)}};function Gu(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,yo(h),qr(h)}function yo(h){h.A||(h.A=!0,ae(h,"complete"),ae(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ae(this,"complete"),ae(this,"abort"),qr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},t.bb=function(){vo(this)};function vo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||ir(h)!=4||h.Z()!=2)){if(h.u&&ir(h)==4)Ie(h.Ea,0,h);else if(ae(h,"readystatechange"),ir(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var R;if(R=ve===0){var Y=String(h.D).match(da)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),R=!go.test(Y?Y.toLowerCase():"")}T=R}if(T)ae(h,"complete"),ae(h,"success");else{h.m=6;try{var ee=2<ir(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",yo(h)}}finally{qr(h)}}}}function qr(h,E){if(h.g){_a(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||ae(h,"ready");try{T.onreadystatechange=R}catch{}}}function _a(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ir(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Te(E)}};function $u(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qd(h){const E={};h=(h.g&&2<=ir(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(U(h[R]))continue;var T=j(h[R]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=E[Y]||[];E[Y]=ee,ee.push(T)}V(E,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(h,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||E}function Eo(h){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ba("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ba("baseRetryDelayMs",5e3,h),this.cb=ba("retryDelaySeedMs",1e4,h),this.Wa=ba("forwardChannelMaxRetries",2,h),this.wa=ba("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(h&&h.concurrentRequestLimit),this.Da=new va,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eo.prototype,t.la=8,t.G=1,t.connect=function(h,E,T,R){wt(0),this.W=h,this.H=E||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Ju(this,null,this.W),bo(this)};function Hl(h){if(Ku(h),h.G==3){var E=h.U++,T=Gn(h.I);if(dt(T,"SID",h.K),dt(T,"RID",E),dt(T,"TYPE","terminate"),Ta(h,T),E=new Dn(h,h.j,E),E.L=2,E.v=pa(Gn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(E.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=E.v,T=!0),T||(E.g=eh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ha(E)}Zu(h)}function _o(h){h.g&&(wa(h),h.g.cancel(),h.g=null)}function Ku(h){_o(h),h.u&&(f.clearTimeout(h.u),h.u=null),To(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function bo(h){if(!uo(h.h)&&!h.s){h.s=!0;var E=h.Ga;ne||D(),ye||(ne(),ye=!0),Ae.add(E,h),h.B=0}}function Hd(h,E){return ho(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qt(b(h.Ga,h,E),Kl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Dn(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=x(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(E+=R,4096<E){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=Yu(this,Y,E),T=Gn(this.I),dt(T,"RID",h),dt(T,"CVER",22),this.D&&dt(T,"X-HTTP-Session-Id",this.D),Ta(this,T),ee&&(this.O?E="headers="+encodeURIComponent(String(ql(ee)))+"&"+E:this.m&&sn(T,this.m,ee)),fo(this.h,Y),this.Ua&&dt(T,"TYPE","init"),this.P?(dt(T,"$req",E),dt(T,"SID","null"),Y.T=!0,br(Y,T,null)):br(Y,T,E),this.G=2}}else this.G==3&&(h?Gl(this,h):this.i.length==0||uo(this.h)||Gl(this))};function Gl(h,E){var T;E?T=E.l:T=h.U++;const R=Gn(h.I);dt(R,"SID",h.K),dt(R,"RID",T),dt(R,"AID",h.T),Ta(h,R),h.m&&h.o&&sn(R,h.m,h.o),T=new Dn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),E&&(h.i=E.D.concat(h.i)),E=Yu(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),fo(h.h,T),br(T,R,E)}function Ta(h,E){h.H&&J(h.H,function(T,R){dt(E,R,T)}),h.l&&Ul({},function(T,R){dt(E,R,T)})}function Yu(h,E,T){T=Math.min(h.i.length,T);var R=h.l?b(h.l.Na,h.l,h):null;e:{var Y=h.i;let ee=-1;for(;;){const ve=["count="+T];ee==-1?0<T?(ee=Y[0].g,ve.push("ofs="+ee)):ee=0:ve.push("ofs="+ee);let Ze=!0;for(let Jt=0;Jt<T;Jt++){let Je=Y[Jt].g;const an=Y[Jt].map;if(Je-=ee,0>Je)ee=Math.max(0,Y[Jt].g-100),Ze=!1;else try{Br(an,ve,"req"+Je+"_")}catch{R&&R(an)}}if(Ze){R=ve.join("&");break e}}}return h=h.i.splice(0,T),E.D=h,R}function Qu(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;ne||D(),ye||(ne(),ye=!0),Ae.add(E,h),h.v=0}}function $l(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qt(b(h.Fa,h),Kl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qt(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),_o(this),Xu(this))};function wa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Xu(h){h.g=new Dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Gn(h.qa);dt(E,"RID","rpc"),dt(E,"SID",h.K),dt(E,"AID",h.T),dt(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&dt(E,"TO",h.ja),dt(E,"TYPE","xmlhttp"),Ta(h,E),h.m&&h.o&&sn(E,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=pa(Gn(E)),T.m=null,T.P=!0,vi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,_o(this),$l(this),wt(19))};function To(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Wu(h,E){var T=null;if(h.g==E){To(h),wa(h),h.g=null;var R=2}else if(kl(h.h,E))T=E.D,Pn(h.h,E),R=1;else return;if(h.G!=0){if(E.o)if(R==1){T=E.m?E.m.length:0,E=Date.now()-E.F;var Y=h.B;R=Hn(),ae(R,new Zt(R,T)),bo(h)}else Qu(h);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(R==1&&Hd(h,E)||R==2&&$l(h)))switch(T&&0<T.length&&(E=h.h,E.i=E.i.concat(T)),Y){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Kl(h,E){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*E}function Si(h,E){if(h.j.info("Error code "+E),E==2){var T=b(h.fb,h),R=h.Xa;const Y=!R;R=new Ht(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ma(R,"https"),pa(R),Y?ya(R.toString(),T):Tr(R.toString(),T)}else wt(2);h.G=0,h.l&&h.l.sa(E),Zu(h),Ku(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Zu(h){if(h.G=0,h.ka=[],h.l){const E=Ll(h.h);(E.length!=0||h.i.length!=0)&&(I(h.ka,E),I(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function Ju(h,E,T){var R=T instanceof Ht?Gn(T):new Ht(T);if(R.g!="")E&&(R.g=E+"."+R.g),cs(R,R.s);else{var Y=f.location;R=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ht(null);R&&ma(ee,R),E&&(ee.g=E),Y&&cs(ee,Y),T&&(ee.l=T),R=ee}return T=h.D,E=h.ya,T&&E&&dt(R,T,E),dt(R,"VER",h.la),Ta(h,R),R}function eh(h,E,T){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new ot(new us({eb:T})):new ot(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wo(){}wo.prototype.g=function(h,E){return new Mn(h,E)};function Mn(h,E){$.call(this),this.g=new Eo(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!U(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Hr(this)}C(Mn,$),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Hl(this.g)},Mn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=be(h),h=T);E.i.push(new zu(E.Ya++,h)),E.G==3&&bo(E)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,Mn.aa.N.call(this)};function nh(h){at.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const T in E){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}C(nh,at);function rh(){Dt.call(this),this.status=1}C(rh,Dt);function Hr(h){this.g=h}C(Hr,th),Hr.prototype.ua=function(){ae(this.g,"a")},Hr.prototype.ta=function(h){ae(this.g,new nh(h))},Hr.prototype.sa=function(h){ae(this.g,new rh)},Hr.prototype.ra=function(){ae(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,qx=function(){return new wo},zx=function(){return Hn()},Fx=fn,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Tf=os,yi.COMPLETE="complete",Bx=yi,it.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",$.prototype.listen=$.prototype.K,Bc=it,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,jx=ot}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",aT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new xy("@firebase/firestore");function Zo(){return Ja.logLevel}function xe(t,...e){if(Ja.logLevel<=Ye.DEBUG){const n=e.map(Vy);Ja.debug(`Firestore (${Al}): ${t}`,...n)}}function Wi(t,...e){if(Ja.logLevel<=Ye.ERROR){const n=e.map(Vy);Ja.error(`Firestore (${Al}): ${t}`,...n)}}function ml(t,...e){if(Ja.logLevel<=Ye.WARN){const n=e.map(Vy);Ja.warn(`Firestore (${Al}): ${t}`,...n)}}function Vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Hx(t,i,n)}function Hx(t,e,n){let i=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function lt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||Hx(e,a,i)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class WP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZP{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new Gx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class JP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new JP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=n4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Qe(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Qp(a)===Qp(l)?Qe(a,l):Qp(a)?1:-1}return Qe(t.length,e.length)}const r4=55296,i4=57343;function Qp(t){const e=t.charCodeAt(0);return e>=r4&&e<=i4}function pl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="__name__";class Wr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Wr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Qe(e.length,n.length)}static compareSegments(e,n){const i=Wr.isNumericId(e),a=Wr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class _t extends Wr{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const s4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Wr{construct(e,n,i){return new _n(e,n,i)}static isValidIdentifier(e){return s4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pg}static keyField(){return new _n([Pg])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(_t.fromString(e))}static fromName(e){return new Ce(_t.fromString(e).popFirst(5))}static empty(){return new Ce(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e,n){if(!n)throw new Ee(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a4(t,e,n,i){if(e===!0&&i===!0)throw new Ee(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lT(t){if(!Ce.isDocumentKey(t))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cT(t){if(Ce.isDocumentKey(t))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ru(t,e){if(!Kx(t))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Ee(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,hT=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*hT);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uT)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Xt("string",Tt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Tt(0,0))}static max(){return new je(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function o4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=je.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new $s(a,Ce.empty(),e)}function l4(t){return new $s(t.readTime,t.key,su)}class $s{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $s(je.min(),Ce.empty(),su)}static max(){return new $s(je.max(),Ce.empty(),su)}}function c4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==u4)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((a=>a?fe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{u[p]=v,++f,f===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new fe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function f4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function vd(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function d4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="";function m4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fT(e)),e=p4(t.get(n),e);return fT(e)}function p4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Yx:n+="";break;default:n+=l}}return n}function fT(t){return t+Yx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new En(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new rn(_n.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xx("Invalid base64 string: "+l):l}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=g4.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="server_timestamp",Zx="__type__",Jx="__previous_value__",eS="__local_write_time__";function Ed(t){return(t?.mapValue?.fields||{})[Zx]?.stringValue===Wx}function _d(t){const e=t.mapValue.fields[Jx];return Ed(e)?_d(e):e}function au(t){const e=Ks(t.mapValue.fields[eS].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,i,a,l,u,f,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const zf="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",v4="__max__",cf={mapValue:{}},nS="__vector__",qf="value";function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ed(t)?4:_4(t)?9007199254740991:E4(t)?10:11:Ve(28295,{value:t})}function oi(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ks(a.timestampValue),f=Ks(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ys(a.bytesValue).isEqual(Ys(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),f=Bt(l.doubleValue);return u===f?Ff(u)===Ff(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(dT(u)!==dT(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!oi(u[m],f[m])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function lu(t,e){return(t.values||[]).find((n=>oi(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=Qs(t),i=Qs(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Bt(l.integerValue||l.doubleValue),m=Bt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return pT(t.timestampValue,e.timestampValue);case 4:return pT(au(t),au(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Ys(l),m=Ys(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Qe(f[p],m[p]);if(v!==0)return v}return Qe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Qe(Bt(l.latitude),Bt(u.latitude));return f!==0?f:Qe(Bt(l.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[qf]?.arrayValue,v=m[qf]?.arrayValue,_=Qe(p?.values?.length||0,v?.values?.length||0);return _!==0?_:gT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===cf.mapValue&&u===cf.mapValue)return 0;if(l===cf.mapValue)return 1;if(u===cf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const b=Dg(m[_],v[_]);if(b!==0)return b;const A=gl(f[m[_]],p[v[_]]);if(A!==0)return A}return Qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function pT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Ks(t),i=Ks(e),a=Qe(n.seconds,i.seconds);return a!==0?a:Qe(n.nanos,i.nanos)}function gT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=gl(n[a],i[a]);if(l)return l}return Qe(n.length,i.length)}function yl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ks(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Mg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Mg(n.fields[u])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function wf(t){switch(Qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+wf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return so(i.fields,((l,u)=>{a+=l.length+wf(u)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function Hf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function vT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function E4(t){return(t?.mapValue?.fields||{})[tS]?.stringValue===nS}function Kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Kc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return{...t}}function _4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===v4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=_n.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=Kc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){so(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new mr(Kc(this.value))}}function rS(t){const e=[];return so(t.fields,((n,i)=>{const a=new _n([n]);if(xf(i)){const l=rS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,je.min(),je.min(),je.min(),mr.empty(),0)}static newFoundDocument(e,n,i,a){return new Nn(e,1,n,je.min(),i,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,je.min(),je.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,je.min(),je.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.position=e,this.inclusive=n}}function ET(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(u.referenceValue),n.key):i=gl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function b4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class Qt extends iS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new w4(e,n,i):n==="array-contains"?new A4(e,i):n==="in"?new R4(e,i):n==="not-in"?new N4(e,i):n==="array-contains-any"?new C4(e,i):new Qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new x4(e,i):new S4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return sS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sS(t){return t.op==="and"}function aS(t){return T4(t)&&sS(t)}function T4(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function kg(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(aS(t))return t.filters.map((e=>kg(e))).join(",");{const e=t.filters.map((n=>kg(n))).join(",");return`${t.op}(${e})`}}function oS(t,e){return t instanceof Qt?(function(i,a){return a instanceof Qt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)})(t,e):t instanceof Pr?(function(i,a){return a instanceof Pr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&oS(u,a.filters[f])),!0):!1})(t,e):void Ve(19439)}function lS(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Pr?(function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"})(t):"Filter"}class w4 extends Qt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class x4 extends Qt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class S4 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cS(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class A4 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&lu(n.arrayValue,this.value)}}class R4 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class N4 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class C4 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>lu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function bT(t,e=null,n=[],i=[],a=null,l=null,u=null){return new I4(t,e,n,i,a,l,u)}function jy(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>kg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>yl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>yl(i))).join(",")),e.Te=n}return e.Te}function By(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_T(t.startAt,e.startAt)&&_T(t.endAt,e.endAt)}function Lg(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O4(t,e,n,i,a,l,u,f){return new Cl(t,e,n,i,a,l,u,f)}function bd(t){return new Cl(t)}function TT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fy(t){return t.collectionGroup!==null}function hl(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new rn(_n.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gf(l,i))})),n.has(_n.keyField().canonicalString())||e.Ie.push(new Gf(_n.keyField(),i))}return e.Ie}function ti(t){const e=Be(t);return e.Ee||(e.Ee=D4(e,hl(t))),e.Ee}function D4(t,e){if(t.limitType==="F")return bT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gf(a.field,l)}));const n=t.endAt?new vl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vl(t.startAt.position,t.startAt.inclusive):null;return bT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ug(t,e){const n=t.filters.concat([e]);return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return By(ti(t),ti(e))&&t.limitType===e.limitType}function uS(t){return`${jy(ti(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>lS(a))).join(", ")}]`),vd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${i})`})(ti(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of hl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const p=ET(u,f,m);return u.inclusive?p<=0:p<0})(i.startAt,hl(i),a)||i.endAt&&!(function(u,f,m){const p=ET(u,f,m);return u.inclusive?p>=0:p>0})(i.endAt,hl(i),a))})(t,e)}function P4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hS(t){return(e,n)=>{let i=!1;for(const a of hl(t)){const l=M4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function M4(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?gl(m,p):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return Qx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new It(Ce.comparator);function Zi(){return V4}const fS=new It(Ce.comparator);function Fc(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function dS(t){let e=fS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function za(){return Yc()}function mS(){return Yc()}function Yc(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const k4=new It(Ce.comparator),L4=new rn(Ce.comparator);function Xe(...t){let e=L4;for(const n of t)e=e.add(n);return e}const U4=new rn(Qe);function j4(){return U4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function pS(t){return{integerValue:""+t}}function B4(t,e){return d4(e)?pS(e):zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function F4(t,e,n){return t instanceof cu?(function(a,l){const u={fields:{[Zx]:{stringValue:Wx},[eS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ed(l)&&(l=_d(l)),l&&(u.fields[Jx]=l),{mapValue:u}})(n,e):t instanceof uu?yS(t,e):t instanceof hu?vS(t,e):(function(a,l){const u=gS(a,l),f=wT(u)+wT(a.Ae);return Vg(u)&&Vg(a.Ae)?pS(f):zy(a.serializer,f)})(t,e)}function z4(t,e,n){return t instanceof uu?yS(t,e):t instanceof hu?vS(t,e):n}function gS(t,e){return t instanceof Kf?(function(i){return Vg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class cu extends xd{}class uu extends xd{constructor(e){super(),this.elements=e}}function yS(t,e){const n=ES(e);for(const i of t.elements)n.some((a=>oi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class hu extends xd{constructor(e){super(),this.elements=e}}function vS(t,e){let n=ES(e);for(const i of t.elements)n=n.filter((a=>!oi(a,i)));return{arrayValue:{values:n}}}class Kf extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wT(t){return Bt(t.integerValue||t.doubleValue)}function ES(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.field=e,this.transform=n}}function H4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof uu&&a instanceof uu||i instanceof hu&&a instanceof hu?pl(i.elements,a.elements,oi):i instanceof Kf&&a instanceof Kf?oi(i.Ae,a.Ae):i instanceof cu&&a instanceof cu})(t.transform,e.transform)}class G4{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function _S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TS(t.key,Ki.none()):new Nu(t.key,t.data,Ki.none());{const n=t.data,i=mr.empty();let a=new rn(_n.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new oo(t.key,i,new Nr(a.toArray()),Ki.none())}}function $4(t,e,n){t instanceof Nu?(function(a,l,u){const f=a.value.clone(),m=ST(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof oo?(function(a,l,u){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=ST(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(bS(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,i){return t instanceof Nu?(function(l,u,f,m){if(!Sf(l.precondition,u))return f;const p=l.value.clone(),v=AT(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof oo?(function(l,u,f,m){if(!Sf(l.precondition,u))return f;const p=AT(l.fieldTransforms,m,u),v=u.data;return v.setAll(bS(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(l,u,f){return Sf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function K4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=gS(i.transform,a||null);l!=null&&(n===null&&(n=mr.empty()),n.set(i.field,l))}return n||null}function xT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&pl(i,a,((l,u)=>H4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Sd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oo extends Sd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function ST(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,z4(u,f,n[a]))}return i}function AT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,F4(l,u,e))}return i}class TS extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4 extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=mS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=_S(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,i)=>xT(n,i)))&&pl(this.baseMutations,e.baseMutations,((n,i)=>xT(n,i)))}}class qy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return k4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new qy(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,tt;function Z4(t){switch(t){case oe.OK:return Ve(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function wS(t){if(t===void 0)return Wi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Kt.OK:return oe.OK;case Kt.CANCELLED:return oe.CANCELLED;case Kt.UNKNOWN:return oe.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return oe.INTERNAL;case Kt.UNAVAILABLE:return oe.UNAVAILABLE;case Kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Kt.NOT_FOUND:return oe.NOT_FOUND;case Kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Kt.ABORTED:return oe.ABORTED;case Kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Kt.DATA_LOSS:return oe.DATA_LOSS;default:return Ve(39323,{code:t})}}(tt=Kt||(Kt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new qs([4294967295,4294967295],0);function RT(t){const e=J4().encode(t),n=new Ux;return n.update(e),new Uint8Array(n.digest())}function NT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([n,i],0),new qs([a,l],0)]}class Hy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(i<0)throw new zc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qs.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(qs.fromNumber(i)));return a.compare(eM)===1&&(a=new qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RT(e),[i,a]=NT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Hy(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=RT(e),[i,a]=NT(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ad(je.min(),a,new It(Qe),Zi(),Xe())}}class Cu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cu(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class xS{constructor(e,n){this.targetId=e,this.Ce=n}}class SS{constructor(e,n,i=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class CT{constructor(){this.ve=0,this.Fe=IT(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ve(38017,{changeType:l})}})),new Cu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=IT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zi(),this.Je=uf(),this.He=uf(),this.Ye=new It(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Lg(l))if(i===0){const u=new Ce(l.path);this.et(n,u,Nn.newNoDocument(u,je.min()))}else lt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Ys(i).toUint8Array()}catch(m){if(m instanceof Xx)return ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Hy(u,a,l)}catch(m){return ml(m instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Lg(f.target)){const m=new Ce(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Nn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Xe();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ad(e,n,this.Ye,this.je,i);return this.je=Zi(),this.Je=uf(),this.He=uf(),this.Ye=new It(Qe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uf(){return new It(Ce.comparator)}function IT(){return new It(Ce.comparator)}const nM={asc:"ASCENDING",desc:"DESCENDING"},rM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM={and:"AND",or:"OR"};class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aM(t,e){return Yf(t,e.toTimestamp())}function ni(t){return lt(!!t,49232),je.fromTimestamp((function(n){const i=Ks(n);return new Tt(i.seconds,i.nanos)})(t))}function Gy(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function RS(t){const e=_t.fromString(t);return lt(DS(e),10190,{key:e.toString()}),e}function Fg(t,e){return Gy(t.databaseId,e.path)}function Xp(t,e){const n=RS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(CS(n))}function NS(t,e){return Gy(t.databaseId,e)}function oM(t){const e=RS(t);return e.length===4?_t.emptyPath():CS(e)}function zg(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CS(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OT(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function lM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(lt(v===void 0||typeof v=="string",58123),Tn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Tn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:wS(p.code);return new Ee(v,p.message||"")})(u);n=new SS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Xp(t,i.document.name),l=ni(i.document.updateTime),u=i.document.createTime?ni(i.document.createTime):je.min(),f=new mr({mapValue:{fields:i.document.fields}}),m=Nn.newFoundDocument(a,l,u,f),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Af(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Xp(t,i.document),l=i.readTime?ni(i.readTime):je.min(),u=Nn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Af([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Xp(t,i.document),l=i.removedTargetIds||[];n=new Af([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new W4(a,l),f=i.targetId;n=new xS(f,u)}}return n}function cM(t,e){let n;if(e instanceof Nu)n={update:OT(t,e.key,e.value)};else if(e instanceof TS)n={delete:Fg(t,e.key)};else if(e instanceof oo)n={update:OT(t,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof Y4))return Ve(16599,{Vt:e.type});n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ve(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:aM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function uM(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ni(a.updateTime):ni(l);return u.isEqual(je.min())&&(u=ni(l)),new G4(u,a.transformResults||[])})(n,e)))):[]}function hM(t,e){return{documents:[NS(t,e.path)]}}function fM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=NS(t,a);const l=(function(p){if(p.length!==0)return OS(Pr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:el(b.field),direction:pM(b.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=jg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function dM(t){let e=oM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){lt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const b=IS(_);return b instanceof Pr&&aS(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((b=>(function(C){return new Gf(tl(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,vd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,A=_.values||[];return new vl(A,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,A=_.values||[];return new vl(A,b)})(n.endAt)),O4(e,a,u,l,f,"F",m,p)}function mM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=tl(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(n.unaryFilter.field);return Qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(n.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pr.create(n.compositeFilter.filters.map((i=>IS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function pM(t){return nM[t]}function gM(t){return rM[t]}function yM(t){return iM[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return _n.fromServerFormat(t.fieldPath)}function OS(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(vT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:gM(n.op),value:n.value}}})(t):t instanceof Pr?(function(n){const i=n.getFilters().map((a=>OS(a)));return i.length===1?i[0]:{compositeFilter:{op:yM(n.op),filters:i}}})(t):Ve(54877,{filter:t})}function vM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,i,a,l=je.min(),u=je.min(),f=Tn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.yt=e}}function _M(t){const e=dM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Cn=new TM}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve($s.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class TM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new rn(_t.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new rn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(PS,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LruGarbageCollector",wM=1048576;function MT([t,e],[n,i]){const a=Qe(t,n);return a===0?Qe(e,i):a}class xM{constructor(e){this.Ir=e,this.buffer=new rn(MT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();MT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(PT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?xe(PT,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class AM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(yd.ce);const i=new xM(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(DT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(p=Date.now(),Zo()<=Ye.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function RM(t,e){return new AM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Qc(i.mutation,a,Nr.empty(),Tt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const a=za();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Fc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=Zi();const u=Yc(),f=(function(){return Yc()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof oo)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Qc(v.mutation,p,v.mutation.getFieldMask(),Tt.now())):u.set(p.key,Nr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>f.set(p,new CM(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Yc();let a=new It(((u,f)=>u-f)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Nr.empty();v=f.applyToLocalView(p,v),i.set(m,v);const _=(a.get(f.batchId)||Xe()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=mS();v.forEach((b=>{if(!l.has(b)){const A=_S(n.get(b),i.get(b));A!==null&&_.set(b,A),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return fe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):fe.resolve(za());let f=su,m=l;return u.next((p=>fe.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{m=m.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Xe()))).next((v=>({batchId:f,changes:dS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=Fc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(m=>{const p=(function(_,b){return new Cl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Nn.newInvalidDocument(v)))}));let f=Fc();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Qc(v.mutation,p,Nr.empty(),Tt.now()),wd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ni(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:_M(a.bundledQuery),readTime:ni(a.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.overlays=new It(Ce.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=za();return fe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const a=za(),l=n.length+1,u=new Ce(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new It(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=za(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return fe.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new X4(n,i));let l=this.qr.get(n);l===void 0&&(l=Xe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ce(new _t([])),i=new un(n,e),a=new un(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new _t([])),i=new un(n,e),a=new un(n,e+1);let l=Xe();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Q4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new un(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),a=new un(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Qe);return n.forEach((a=>{const l=new un(a,0),u=new un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const u=new un(new Ce(l),0);let f=new rn(Qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),fe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(n.mutations,(a=>{const l=new un(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),a=this.Zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.ri=e,this.docs=(function(){return new It(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let i=Zi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Zi();const u=n.path,f=new Ce(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||c4(l4(v),i)<=0||(a.has(v.key)||wd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ve(9500)}ii(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new kM(this)}getSize(e){return fe.resolve(this.size)}}class kM extends NM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.persistence=e,this.si=new ao((n=>jy(n)),By),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new $y,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new PM,this.referenceDelegate=e(this),this.Pi=new LM(this),this.indexManager=new bM,this.remoteDocumentCache=(function(a){return new VM(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new EM(n),this.Ii=new OM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new MM(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){xe("MemoryPersistence","Starting transaction:",e);const a=new UM(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class UM extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Ri=new $y,this.Vi=null}static mi(e){return new Ky(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const a=Ce.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.pi=new ao((i=>m4(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=RM(this,n)}static mi(e,n){return new Qf(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?fe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,je.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wf(e.data.value)),n}br(e,n,i){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Xe(),a=Xe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yy(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:f4(On())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new jM;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Zo()<=Ye.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Zo()<=Ye.DEBUG&&xe("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Zo()<=Ye.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):fe.resolve())}ys(e,n){if(TT(n))return fe.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=$f(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Xe(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,u,m.readTime)?this.ys(e,$f(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,i,a){return TT(n)||a.isEqual(je.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?fe.resolve(null):(Zo()<=Ye.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.vs(e,u,n,o4(a,su)).next((f=>f)))}))}Ds(e,n){let i=new rn(hS(e));return n.forEach(((a,l)=>{wd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Zo()<=Ye.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.ps.getDocumentsMatchingQuery(e,n,$s.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",FM=3e8;class zM{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new It(Qe),this.xs=new ao((l=>jy(l)),By),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qM(t,e,n,i){return new zM(t,e,n,i)}async function VS(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Xe();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function HM(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,b=_.keys();let A=fe.resolve();return b.forEach((C=>{A=A.next((()=>v.getEntry(m,C))).next((P=>{const I=p.docVersions.get(C);lt(I!==null,48541),P.version.compareTo(I)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Xe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function kS(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function GM(t,e){const n=Be(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Tn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(_,A),(function(P,I,B){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=FM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(b,A,v)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Zi(),p=Xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push($M(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!i.isEqual(je.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function $M(t,e,n){let i=Xe(),a=Xe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Zi();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(je.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):xe(Qy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function KM(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function YM(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,fe.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new js(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function qg(t,e,n){const i=Be(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Nl(u))throw u;xe(Qy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function VT(t,e,n){const i=Be(t);let a=je.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const _=Be(m),b=_.xs.get(v);return b!==void 0?fe.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,v)})(i,u,ti(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:je.min(),n?l:Xe()))).next((f=>(QM(i,P4(e),f),{documents:f,Qs:l})))))}function QM(t,e,n){let i=t.Os.get(e)||je.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class kT{constructor(){this.activeTargetIds=j4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(){this.Mo=new kT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="ConnectivityMonitor";class UT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(LT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(LT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function Hg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Hg(),f=this.zo(e,n.toUriEncodedString());xe(Wp,`Sending RPC '${e}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=no(p);return this.Jo(e,f,m,i,v).then((_=>(xe(Wp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw ml(Wp,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=ZM[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class tV extends JM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Hg();return new Promise(((f,m)=>{const p=new jx;p.setWithCredentials(!0),p.listenOnce(Bx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Tf.NO_ERROR:const _=p.getResponseJson();xe(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Tf.TIMEOUT:xe(An,`RPC '${e}' ${u} timed out`),m(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const b=p.getStatus();if(xe(An,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const P=(function(B){const U=B.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(U)>=0?U:oe.UNKNOWN})(C.status);m(new Ee(P,C.message))}else m(new Ee(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{xe(An,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);xe(An,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=Hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=qx(),f=zx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const v=l.join("");xe(An,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let b=!1,A=!1;const C=new eV({Yo:I=>{A?xe(An,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(xe(An,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),xe(An,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},Zo:()=>_.close()}),P=(I,B,U)=>{I.listen(B,(q=>{try{U(q)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return P(_,Bc.EventType.OPEN,(()=>{A||(xe(An,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),P(_,Bc.EventType.CLOSE,(()=>{A||(A=!0,xe(An,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(_))})),P(_,Bc.EventType.ERROR,(I=>{A||(A=!0,ml(An,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),P(_,Bc.EventType.MESSAGE,(I=>{if(!A){const B=I.data[0];lt(!!B,16349);const U=B,q=U?.error||U[0]?.error;if(q){xe(An,`RPC '${e}' stream ${a} received error:`,q);const ie=q.status;let H=(function(x){const N=Kt[x];if(N!==void 0)return wS(N)})(ie),J=q.message;H===void 0&&(H=oe.INTERNAL,J="Unknown error status: "+ie+" with message "+q.message),A=!0,C.a_(new Ee(H,J)),_.close()}else xe(An,`RPC '${e}' stream ${a} received:`,B),C.u_(B)}})),P(f,Fx.STAT_EVENT,(I=>{I.stat===Og.PROXY?xe(An,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Og.NOPROXY&&xe(An,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new sM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="PersistentStream";class US{constructor(e,n,i,a,l,u,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(jT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(jT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nV extends US{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lM(this.serializer,e),i=(function(l){if(!("targetChange"in l))return je.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?ni(u.readTime):je.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=zg(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Lg(m)?{documents:hM(l,m)}:{query:fM(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=AS(l,u.resumeToken);const p=jg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Yf(l,u.snapshotVersion.toTimestamp());const p=jg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=mM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=zg(this.serializer),n.removeTarget=e,this.q_(n)}}class rV extends US{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uM(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>cM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{}class sV extends iV{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Bg(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(oe.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Bg(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class oV{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{lo(this)&&(xe(eo,"Restarting streams for network reachability change."),await(async function(m){const p=Be(m);p.Ea.add(4),await Iu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nd(p)})(this))}))})),this.Ra=new aV(i,a)}}async function Nd(t){if(lo(t))for(const e of t.da)await e(!0)}async function Iu(t){for(const e of t.da)await e(!1)}function jS(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jy(n)?Zy(n):Il(n).O_()&&Wy(n,e))}function Xy(t,e){const n=Be(t),i=Il(n);n.Ia.delete(e),i.O_()&&BS(n,e),n.Ia.size===0&&(i.O_()?i.L_():lo(n)&&n.Ra.set("Unknown"))}function Wy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Y_(e)}function BS(t,e){t.Va.Ue(e),Il(t).Z_(e)}function Zy(t){t.Va=new tM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Ra.ua()}function Jy(t){return lo(t)&&!Il(t).x_()&&t.Ia.size>0}function lo(t){return Be(t).Ea.size===0}function FS(t){t.Va=void 0}async function lV(t){t.Ra.set("Online")}async function cV(t){t.Ia.forEach(((e,n)=>{Wy(t,e)}))}async function uV(t,e){FS(t),Jy(t)?(t.Ra.ha(e),Zy(t)):t.Ra.set("Unknown")}async function hV(t,e,n){if(t.Ra.set("Online"),e instanceof SS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){xe(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xf(t,i)}else if(e instanceof Af?t.Va.Ze(e):e instanceof xS?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const i=await kS(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Tn.EMPTY_BYTE_STRING,v.snapshotVersion)),BS(l,m);const _=new js(v.target,m,p,v.sequenceNumber);Wy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){xe(eo,"Failed to raise snapshot:",i),await Xf(t,i)}}async function Xf(t,e,n){if(!Nl(e))throw e;t.Ea.add(1),await Iu(t),t.Ra.set("Offline"),n||(n=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function zS(t,e){return e().catch((n=>Xf(t,n,e)))}async function Cd(t){const e=Be(t),n=Xs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;fV(e);)try{const a=await KM(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,dV(e,a)}catch(a){await Xf(e,a)}qS(e)&&HS(e)}function fV(t){return lo(t)&&t.Ta.length<10}function dV(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qS(t){return lo(t)&&!Xs(t).x_()&&t.Ta.length>0}function HS(t){Xs(t).start()}async function mV(t){Xs(t).ra()}async function pV(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function gV(t,e,n){const i=t.Ta.shift(),a=qy.from(i,e,n);await zS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cd(t)}async function yV(t,e){e&&Xs(t).X_&&await(async function(i,a){if((function(u){return Z4(u)&&u!==oe.ABORTED})(a.code)){const l=i.Ta.shift();Xs(i).B_(),await zS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(i)}})(t,e),qS(t)&&HS(t)}async function BT(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),xe(eo,"RemoteStore received new credentials");const i=lo(n);n.Ea.add(3),await Iu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function vV(t,e){const n=Be(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,a){const l=Be(n);return l.sa(),new nV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:lV.bind(null,t),t_:cV.bind(null,t),r_:uV.bind(null,t),H_:hV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Jy(t)?Zy(t):t.Ra.set("Unknown")):(await t.ma.stop(),FS(t))}))),t.ma}function Xs(t){return t.fa||(t.fa=(function(n,i,a){const l=Be(n);return l.sa(),new rV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mV.bind(null,t),r_:yV.bind(null,t),ta:pV.bind(null,t),na:gV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new e0(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t0(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Nl(t))return new Ee(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Fc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ga=new It(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class _l{constructor(e,n,i,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new _l(e,n,fl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _V{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Be(n),l=a.queries;a.queries=zT(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function zT(){return new ao((t=>uS(t)),Td)}async function n0(t,e){const n=Be(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new EV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=t0(u,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&i0(n)}async function r0(t,e){const n=Be(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function bV(t,e){const n=Be(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&i0(n)}function TV(t,e,n){const i=Be(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function i0(t){t.Ca.forEach((e=>{e.next()}))}var Gg,qT;(qT=Gg||(Gg={})).Ma="default",qT.Cache="cache";class s0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class wV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=hS(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new FT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const b=a.get(v),A=wd(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;b&&A?b.data.isEqual(A.data)?C!==P&&(i.track({type:3,doc:A}),I=!0):this.su(b,A)||(i.track({type:2,doc:A}),I=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!b&&A?(i.track({type:0,doc:A}),I=!0):b&&!A&&(i.track({type:1,doc:b}),I=!0,(m||p)&&(f=!0)),I&&(A?(u=u.add(A),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(A,C){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:I})}};return P(A)-P(C)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new _l(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new $S(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new GS(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const a0="SyncEngine";class xV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class SV{constructor(e){this.key=e,this.hu=!1}}class AV{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ao((f=>uS(f)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new It(Ce.comparator),this.Au=new Map,this.Ru=new $y,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RV(t,e,n=!0){const i=ZS(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await KS(i,e,n,!0),a}async function NV(t,e){const n=ZS(t);await KS(n,e,!0,!1)}async function KS(t,e,n,i){const a=await YM(t.localStore,ti(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await CV(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&jS(t.remoteStore,a),f}async function CV(t,e,n,i,a){t.pu=(_,b,A)=>(async function(P,I,B,U){let q=I.view.ru(B);q.Cs&&(q=await VT(P.localStore,I.query,!1).then((({documents:V})=>I.view.ru(V,q))));const ie=U&&U.targetChanges.get(I.targetId),H=U&&U.targetMismatches.get(I.targetId)!=null,J=I.view.applyChanges(q,P.isPrimaryClient,ie,H);return GT(P,I.targetId,J.au),J.snapshot})(t,_,b,A);const l=await VT(t.localStore,e,!0),u=new wV(e,l.Qs),f=u.ru(l.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);GT(t,n,p.au);const v=new xV(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function IV(t,e,n){const i=Be(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Td(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await qg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Xy(i.remoteStore,a.targetId),$g(i,a.targetId)})).catch(Rl)):($g(i,a.targetId),await qg(i.localStore,a.targetId,!0))}async function OV(t,e){const n=Be(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xy(n.remoteStore,i.targetId))}async function DV(t,e,n){const i=jV(t);try{const a=await(function(u,f){const m=Be(u),p=Tt.now(),v=f.reduce(((A,C)=>A.add(C.key)),Xe());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let C=Zi(),P=Xe();return m.Ns.getEntries(A,v).next((I=>{C=I,C.forEach(((B,U)=>{U.isValidDocument()||(P=P.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,C))).next((I=>{_=I;const B=[];for(const U of f){const q=K4(U,_.get(U.key).overlayedDocument);q!=null&&B.push(new oo(U.key,q,rS(q.value.mapValue),Ki.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,f)})).next((I=>{b=I;const B=I.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(A,I.batchId,B)}))})).then((()=>({batchId:b.batchId,changes:dS(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new It(Qe)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await Ou(i,a.changes),await Cd(i.remoteStore)}catch(a){const l=t0(a,"Failed to persist write");n.reject(l)}}async function YS(t,e){const n=Be(t);try{const i=await GM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?lt(u.hu,14607):a.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await Ou(n,i,e)}catch(i){await Rl(i)}}function HT(t,e,n){const i=Be(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Be(u);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&i0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function PV(t,e,n){const i=Be(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new It(Ce.comparator);u=u.insert(l,Nn.newNoDocument(l,je.min()));const f=Xe().add(l),m=new Ad(je.min(),new Map,new It(Qe),u,f);await YS(i,m),i.du=i.du.remove(l),i.Au.delete(e),o0(i)}else await qg(i.localStore,e,!1).then((()=>$g(i,e,n))).catch(Rl)}async function MV(t,e){const n=Be(t),i=e.batch.batchId;try{const a=await HM(n.localStore,e);XS(n,i,null),QS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(n,a)}catch(a){await Rl(a)}}async function VV(t,e,n){const i=Be(t);try{const a=await(function(u,f){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(lt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);XS(i,e,n),QS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ou(i,a)}catch(a){await Rl(a)}}function QS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XS(t,e,n){const i=Be(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||WS(t,i)}))}function WS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),o0(t))}function GT(t,e,n){for(const i of n)i instanceof GS?(t.Ru.addReference(i.key,e),kV(t,i)):i instanceof $S?(xe(a0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||WS(t,i.key)):Ve(19791,{wu:i})}function kV(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(xe(a0,"New document in limbo: "+n),t.Eu.add(i),o0(t))}function o0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(_t.fromString(e)),i=t.fu.next();t.Au.set(i,new SV(n)),t.du=t.du.insert(n,i),jS(t.remoteStore,new js(ti(bd(n.path)),i,"TargetPurposeLimboResolution",yd.ce))}}async function Ou(t,e,n){const i=Be(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Yy.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const v=Be(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>fe.forEach(p,(b=>fe.forEach(b.Es,(A=>v.persistence.referenceDelegate.addReference(_,b.targetId,A))).next((()=>fe.forEach(b.ds,(A=>v.persistence.referenceDelegate.removeReference(_,b.targetId,A)))))))))}catch(_){if(!Nl(_))throw _;xe(Qy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const A=v.Ms.get(b),C=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(b,P)}}})(i.localStore,l))}async function LV(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){xe(a0,"User change. New user:",e.toKey());const i=await VS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(oe.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ou(n,i.Ls)}}function UV(t,e){const n=Be(t),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function ZS(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PV.bind(null,e),e.Pu.H_=bV.bind(null,e.eventManager),e.Pu.yu=TV.bind(null,e.eventManager),e}function jV(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VV.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qM(this.persistence,new BM,e.initialUser,this.serializer)}Cu(e){return new MS(Ky.mi,this.serializer)}Du(e){return new XM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class BV extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new SM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new MS((i=>Qf.mi(i,n)),this.serializer)}}class Kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await vV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _V})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=(function(l){return new tV(l)})(e.databaseInfo);return(function(l,u,f,m){return new sV(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new oV(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>HT(this.syncEngine,n,0)),(function(){return UT.v()?new UT:new WM})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,v){const _=new AV(a,l,u,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Be(n);xe(eo,"RemoteStore shutting down."),i.Ea.add(5),await Iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class FV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{xe(Ws,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(xe(Ws,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=t0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await VS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zV(t);xe(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>BT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>BT(e.remoteStore,a))),t._onlineComponents=e}async function zV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Ws,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new Wf)}}else xe(Ws,"Using default OfflineComponentProvider"),await Jp(t,new BV(void 0));return t._offlineComponents}async function JS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Ws,"Using user provided OnlineComponentProvider"),await $T(t,t._uninitializedComponentsProvider._online)):(xe(Ws,"Using default OnlineComponentProvider"),await $T(t,new Kg))),t._onlineComponents}function qV(t){return JS(t).then((e=>e.syncEngine))}async function Zf(t){const e=await JS(t),n=e.eventManager;return n.onListen=RV.bind(null,e.syncEngine),n.onUnlisten=IV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OV.bind(null,e.syncEngine),n}function HV(t,e,n={}){const i=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new l0({next:b=>{v.Nu(),u.enqueueAndForget((()=>r0(l,_)));const A=b.docs.has(f);!A&&b.fromCache?p.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new s0(bd(f.path),v,{includeMetadataChanges:!0,qa:!0});return n0(l,_)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}function GV(t,e,n={}){const i=new Gi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new l0({next:b=>{v.Nu(),u.enqueueAndForget((()=>r0(l,_))),b.fromCache&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new s0(f,v,{includeMetadataChanges:!0,qa:!0});return n0(l,_)})(await Zf(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",YT=!0;class QT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wM)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new XP;switch(i.type){case"firstParty":return new e4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=KT.get(n);i&&(xe("ComponentProvider","Removing Datastore"),KT.delete(n),i.terminate())})(this),Promise.resolve()}}function $V(t,e,n,i={}){t=$i(t,Id);const a=no(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Ty(`https://${f}`),wy("Firestore",!0)),l.host!==tA&&l.host!==f&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Qa(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=Rn.MOCK_USER;else{p=Z1(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Rn(_)}t._authCredentials=new WP(new Gx(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ru(n,Wt._jsonSchema))return new Wt(e,i||null,new Ce(_t.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class Hs extends ts{constructor(e,n,i){super(e,n,bd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ce(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function Zs(t,e,...n){if(t=bn(t),$x("collection","path",e),t instanceof Id){const i=_t.fromString(e,...n);return cT(i),new Hs(t,null,i)}{if(!(t instanceof Wt||t instanceof Hs))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return cT(i),new Hs(t.firestore,null,i)}}function c0(t,e,...n){if(t=bn(t),arguments.length===1&&(e=ky.newId()),$x("doc","path",e),t instanceof Id){const i=_t.fromString(e,...n);return lT(i),new Wt(t,null,new Ce(i))}{if(!(t instanceof Wt||t instanceof Hs))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return lT(i),new Wt(t.firestore,t instanceof Hs?t.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="AsyncQueue";class WT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LS(this,"async_queue_retry"),this._c=()=>{const i=Zp();i&&xe(XT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;xe(XT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",ZT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=e0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:ZT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class bl extends Id{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new WT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WT(e),this._firestoreClient=void 0,await e}}}function KV(t,e){const n=typeof t=="object"?t:Ay(),i=typeof t=="string"?t:zf,a=fd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Q1("firestore");l&&$V(a,...l)}return a}function Od(t){if(t._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YV(t),t._firestoreClient}function YV(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new y4(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,eA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Tn.fromBase64String(e))}catch(n){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Xt("string",pr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function QV(){return new Dd(Pg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Xt("string",ri._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Xt("string",ii._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=/^__.*__$/;class WV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class h0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new h0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nA(this.Ac)&&XV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}Cc(e,n,i,a=!1){return new h0({Ac:e,methodName:n,Dc:i,path:_n.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f0(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new ZV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JV(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);aA("Data must be an object, but it was:",u,i);const f=iA(i,u);let m,p;if(l.merge)m=new Nr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=ek(e,_,n);if(!u.contains(b))throw new Ee(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nk(v,b)||v.push(b)}m=new Nr(v),p=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=u.fieldTransforms;return new WV(new mr(f),m,p)}class d0 extends u0{_toFieldTransform(e){return new q4(e.path,new cu)}isEqual(e){return e instanceof d0}}function rA(t,e,n,i=!1){return m0(n,t.Cc(i?4:3,e))}function m0(t,e){if(sA(t=bn(t)))return aA("Unsupported field value:",e,t),iA(t,e);if(t instanceof u0)return(function(i,a){if(!nA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=m0(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return B4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:Yf(a.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:AS(a.serializer,i._byteString)};if(i instanceof Wt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ii)return(function(u,f){return{mapValue:{fields:{[tS]:{stringValue:nS},[qf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return zy(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${gd(i)}`)})(t,e)}function iA(t,e){const n={};return Qx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,((i,a)=>{const l=m0(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function sA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ri||t instanceof pr||t instanceof Wt||t instanceof u0||t instanceof ii)}function aA(t,e,n){if(!sA(n)||!Kx(n)){const i=gd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ek(t,e,n){if((e=bn(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return oA(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const tk=new RegExp("[~\\*/\\[\\]]");function oA(t,e,n){if(e.search(tk)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new Ee(oe.INVALID_ARGUMENT,f+t+m)}function nk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rk extends p0{data(){return super.data()}}function g0(t,e){return typeof e=="string"?oA(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0{}class v0 extends y0{}function Cn(t,e,...n){let i=[];e instanceof y0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof E0)).length,f=l.filter((m=>m instanceof Pd)).length;if(u>1||u>0&&f>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Pd extends v0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Pd(e,n,i)}_apply(e){const n=this._parse(e);return cA(e._query,n),new ts(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=f0(e.firestore);return(function(l,u,f,m,p,v,_){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){tw(_,v);const C=[];for(const P of _)C.push(ew(m,l,P));b={arrayValue:{values:C}}}else b=ew(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||tw(_,v),b=rA(f,u,_,v==="in"||v==="not-in");return Qt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(t,e,n){const i=e,a=g0("where",t);return Pd._create(a,i,n)}class E0 extends y0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new E0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)cA(u,m),u=Ug(u,m)})(e._query,n),new ts(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends v0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new _0(e,n,i)}_apply(e){return new ts(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function Js(t){return _0._create("limit",t,"F")}class b0 extends v0{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new b0(e,n,i)}_apply(e){const n=ik(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(function(a,l){return new Cl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,n))}}function Md(...t){return b0._create("startAfter",t,!1)}function ik(t,e,n,i){if(n[0]=bn(n[0]),n[0]instanceof p0)return(function(l,u,f,m,p){if(!m)throw new Ee(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const _ of hl(l))if(_.field.isKeyField())v.push(Hf(u,m.key));else{const b=m.data.field(_.field);if(Ed(b))throw new Ee(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const A=_.field.canonicalString();throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(b)}return new vl(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,i);{const a=f0(t.firestore);return(function(u,f,m,p,v,_){const b=u.explicitOrderBy;if(v.length>b.length)throw new Ee(oe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let C=0;C<v.length;C++){const P=v[C];if(b[C].field.isKeyField()){if(typeof P!="string")throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!Fy(u)&&P.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const I=u.path.child(_t.fromString(P));if(!Ce.isDocumentKey(I))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const B=new Ce(I);A.push(Hf(f,B))}else{const I=rA(m,p,P);A.push(I)}}return new vl(A,_)})(t._query,t.firestore._databaseId,a,e,n,i)}}function ew(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fy(e)&&n.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!Ce.isDocumentKey(i))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hf(t,new Ce(i))}if(n instanceof Wt)return Hf(t,n._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function tw(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sk{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return so(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[qf].arrayValue?.values?.map((i=>Bt(i.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_d(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);lt(DS(i),9688,{name:e});const a=new ou(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends p0{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(g0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Xt("string",Ga._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Rf extends Ga{data(e={}){return super.data(e)}}class $a{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new qc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Rf(this._firestore,this._userDataWriter,i.key,i,new qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:ok(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ok(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){t=$i(t,Wt);const e=$i(t.firestore,bl);return HV(Od(e),t._key).then((n=>fA(e,t,n)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Xt("string",$a._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class T0 extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Du(t){t=$i(t,ts);const e=$i(t.firestore,bl),n=Od(e),i=new T0(e);return lA(t._query),GV(n,t._query).then((a=>new $a(e,i,t,a)))}function hA(t,e){const n=$i(t.firestore,bl),i=c0(t),a=ak(t.converter,e);return ck(n,[JV(f0(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ki.exists(!1))]).then((()=>i))}function lk(t,...e){t=bn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||JT(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JT(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,u,f;if(t instanceof Wt)u=$i(t.firestore,bl),f=bd(t._key.path),l={next:m=>{e[i]&&e[i](fA(u,t,m))},error:e[i+1],complete:e[i+2]};else{const m=$i(t,ts);u=$i(m.firestore,bl),f=m._query;const p=new T0(u);l={next:v=>{e[i]&&e[i](new $a(u,p,m,v))},error:e[i+1],complete:e[i+2]},lA(t._query)}return(function(p,v,_,b){const A=new l0(b),C=new s0(v,A,_);return p.asyncQueue.enqueueAndForget((async()=>n0(await Zf(p),C))),()=>{A.Nu(),p.asyncQueue.enqueueAndForget((async()=>r0(await Zf(p),C)))}})(Od(u),f,a,l)}function ck(t,e){return(function(i,a){const l=new Gi;return i.asyncQueue.enqueueAndForget((async()=>DV(await qV(i),a,l))),l.promise})(Od(t),e)}function fA(t,e,n){const i=n.docs.get(e._key),a=new T0(t);return new Ga(t,a,e._key,i,new qc(n.hasPendingWrites,n.fromCache),e.converter)}function uk(){return new d0("serverTimestamp")}(function(e,n=!0){(function(a){Al=a})(ro),Xa(new Gs("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new bl(new ZP(i.getProvider("auth-internal")),new t4(u,i.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Zr(sT,aT,e),Zr(sT,aT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebasestorage.googleapis.com",hk="storageBucket",fk=120*1e3,dk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends fi{constructor(e,n,i=0){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function eg(t){return"storage/"+t}function mk(){const t="An unknown error occurred, please check the error payload for server response.";return new di(li.UNKNOWN,t)}function pk(){return new di(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gk(){return new di(li.CANCELED,"User canceled the upload/download.")}function yk(t){return new di(li.INVALID_URL,"Invalid URL '"+t+"'.")}function vk(t){return new di(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nw(t){return new di(li.INVALID_ARGUMENT,t)}function mA(){return new di(li.APP_DELETED,"The Firebase app was deleted.")}function Ek(t){return new di(li.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(i.path==="")return i;throw vk(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},P=n===dA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",B=new RegExp(`^https?://${P}/${a}/${I}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:A,indices:C,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<q.length;ie++){const H=q[ie],J=H.regex.exec(e);if(J){const V=J[H.indices.bucket];let x=J[H.indices.path];x||(x=""),i=new Cr(V,x),H.postModify(i);break}}if(i==null)throw yk(e);return i}}class _k{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e,n){let i=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function v(...I){p||(p=!0,e.apply(null,I))}function _(I){a=setTimeout(()=>{a=null,t(A,m())},I)}function b(){l&&clearTimeout(l)}function A(I,...B){if(p){b();return}if(I){b(),v.call(null,I,...B);return}if(m()||u){b(),v.call(null,I,...B);return}i<64&&(i*=2);let q;f===1?(f=2,q=0):q=(i+Math.random())*1e3,_(q)}let C=!1;function P(I){C||(C=!0,b(),!p&&(a!==null?(I||(f=2),clearTimeout(a),_(0)):I||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,P(!0)},n),P}function Tk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){return t!==void 0}function rw(t,e,n,i){if(i<e)throw nw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw nw(`Invalid value for '${t}'. Expected ${n} or less.`)}function xk(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var ed;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ed||(ed={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,i,a,l,u,f,m,p,v,_,b=!0,A=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===ed.NO_ERROR,m=l.getStatus();if(!f||Sk(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ed.ABORT;i(!1,new ff(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new ff(p,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());wk(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=mk();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?mA():gk();u(m)}else{const m=pk();u(m)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=bk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Rk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ck(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ik(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ok(t,e,n,i,a,l,u=!0,f=!1){const m=xk(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return Ck(v,e),Rk(v,n),Nk(v,l),Ik(v,i),new Ak(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Pk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new td(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pk(this._location.path)}get storage(){return this._service}get parent(){const e=Dk(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new td(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ek(e)}}function iw(t,e){const n=e?.[hk];return n==null?null:Cr.makeFromBucketSpec(n,t)}function Mk(t,e,n,i={}){t.host=`${e}:${n}`;const a=no(e);a&&(Ty(`https://${t.host}/b`),wy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:Z1(l,t.app.options.projectId))}class Vk{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=dA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fk,this._maxUploadRetryTime=dk,this._requests=new Set,a!=null?this._bucket=Cr.makeFromBucketSpec(a,this._host):this._bucket=iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new td(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new _k(mA());{const u=Ok(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const sw="@firebase/storage",aw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="storage";function kk(t=Ay(),e){t=bn(t);const i=fd(t,pA).getImmediate({identifier:e}),a=Q1("storage");return a&&Lk(i,...a),i}function Lk(t,e,n,i={}){Mk(t,e,n,i)}function Uk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Vk(n,i,a,e,ro)}function jk(){Xa(new Gs(pA,Uk,"PUBLIC").setMultipleInstances(!0)),Zr(sw,aw,""),Zr(sw,aw,"esm2020")}jk();const Bk={apiKey:"AIzaSyAGm3bzsCxYSARcgVn41ta_EOut9fauWr0",authDomain:"ecommerce-74229.firebaseapp.com",projectId:"ecommerce-74229",storageBucket:"ecommerce-74229.firebasestorage.app",messagingSenderId:"47160479095",appId:"1:47160479095:web:0dd3a844d5d5c3847ea572",measurementId:"G-47FYXTR59Z"},w0=tx(Bk),ci=KV(w0);kk(w0);const x0=$P(w0),Fk="modulepreload",zk=function(t){return"/Ecommerce/"+t},ow={},ns=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=zk(p),p in ow)return;ow[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":Fk,v||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),v)return new Promise((A,C)=>{b.addEventListener("load",A),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var tg={exports:{}},lw;function qk(){return lw||(lw=1,(()=>{var t={296:(a,l,u)=>{var f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt,b=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,A=typeof self=="object"&&self&&self.Object===Object&&self,C=b||A||Function("return this")(),P=Object.prototype.toString,I=Math.max,B=Math.min,U=function(){return C.Date.now()};function q(H){var J=typeof H;return!!H&&(J=="object"||J=="function")}function ie(H){if(typeof H=="number")return H;if((function(x){return typeof x=="symbol"||(function(N){return!!N&&typeof N=="object"})(x)&&P.call(x)=="[object Symbol]"})(H))return NaN;if(q(H)){var J=typeof H.valueOf=="function"?H.valueOf():H;H=q(J)?J+"":J}if(typeof H!="string")return H===0?H:+H;H=H.replace(f,"");var V=p.test(H);return V||v.test(H)?_(H.slice(2),V?2:8):m.test(H)?NaN:+H}a.exports=function(H,J,V){var x,N,M,j,z,k,qe=0,de=!1,K=!1,ne=!0;if(typeof H!="function")throw new TypeError("Expected a function");function ye(le){var _e=x,Oe=N;return x=N=void 0,qe=le,j=H.apply(Oe,_e)}function Ae(le){var _e=le-k;return k===void 0||_e>=J||_e<0||K&&le-qe>=M}function D(){var le=U();if(Ae(le))return re(le);z=setTimeout(D,(function(_e){var Oe=J-(_e-k);return K?B(Oe,M-(_e-qe)):Oe})(le))}function re(le){return z=void 0,ne&&x?ye(le):(x=N=void 0,j)}function ge(){var le=U(),_e=Ae(le);if(x=arguments,N=this,k=le,_e){if(z===void 0)return(function(Oe){return qe=Oe,z=setTimeout(D,J),de?ye(Oe):j})(k);if(K)return z=setTimeout(D,J),ye(k)}return z===void 0&&(z=setTimeout(D,J)),j}return J=ie(J)||0,q(V)&&(de=!!V.leading,M=(K="maxWait"in V)?I(ie(V.maxWait)||0,J):M,ne="trailing"in V?!!V.trailing:ne),ge.cancel=function(){z!==void 0&&clearTimeout(z),qe=0,x=k=N=z=void 0},ge.flush=function(){return z===void 0?j:re(U())},ge}},96:(a,l,u)=>{var f="Expected a function",m=NaN,p="[object Symbol]",v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,A=/^0o[0-7]+$/i,C=parseInt,P=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,I=typeof self=="object"&&self&&self.Object===Object&&self,B=P||I||Function("return this")(),U=Object.prototype.toString,q=Math.max,ie=Math.min,H=function(){return B.Date.now()};function J(x){var N=typeof x;return!!x&&(N=="object"||N=="function")}function V(x){if(typeof x=="number")return x;if((function(j){return typeof j=="symbol"||(function(z){return!!z&&typeof z=="object"})(j)&&U.call(j)==p})(x))return m;if(J(x)){var N=typeof x.valueOf=="function"?x.valueOf():x;x=J(N)?N+"":N}if(typeof x!="string")return x===0?x:+x;x=x.replace(v,"");var M=b.test(x);return M||A.test(x)?C(x.slice(2),M?2:8):_.test(x)?m:+x}a.exports=function(x,N,M){var j=!0,z=!0;if(typeof x!="function")throw new TypeError(f);return J(M)&&(j="leading"in M?!!M.leading:j,z="trailing"in M?!!M.trailing:z),(function(k,qe,de){var K,ne,ye,Ae,D,re,ge=0,le=!1,_e=!1,Oe=!0;if(typeof k!="function")throw new TypeError(f);function Re(yt){var zt=K,Ot=ne;return K=ne=void 0,ge=yt,Ae=k.apply(Ot,zt)}function At(yt){var zt=yt-re;return re===void 0||zt>=qe||zt<0||_e&&yt-ge>=ye}function We(){var yt=H();if(At(yt))return wn(yt);D=setTimeout(We,(function(zt){var Ot=qe-(zt-re);return _e?ie(Ot,ye-(zt-ge)):Ot})(yt))}function wn(yt){return D=void 0,Oe&&K?Re(yt):(K=ne=void 0,Ae)}function hn(){var yt=H(),zt=At(yt);if(K=arguments,ne=this,re=yt,zt){if(D===void 0)return(function(Ot){return ge=Ot,D=setTimeout(We,qe),le?Re(Ot):Ae})(re);if(_e)return D=setTimeout(We,qe),Re(re)}return D===void 0&&(D=setTimeout(We,qe)),Ae}return qe=V(qe)||0,J(de)&&(le=!!de.leading,ye=(_e="maxWait"in de)?q(V(de.maxWait)||0,qe):ye,Oe="trailing"in de?!!de.trailing:Oe),hn.cancel=function(){D!==void 0&&clearTimeout(D),ge=0,K=re=ne=D=void 0},hn.flush=function(){return D===void 0?Ae:wn(H())},hn})(x,N,{leading:j,maxWait:N,trailing:z})}},703:(a,l,u)=>{var f=u(414);function m(){}function p(){}p.resetWarningCache=m,a.exports=function(){function v(A,C,P,I,B,U){if(U!==f){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}}function _(){return v}v.isRequired=v;var b={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:_,element:v,elementType:v,instanceOf:_,node:v,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:p,resetWarningCache:m};return b.PropTypes=b,b}},697:(a,l,u)=>{a.exports=u(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(a){var l=e[a];if(l!==void 0)return l.exports;var u=e[a]={exports:{}};return t[a](u,u.exports,n),u.exports}n.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return n.d(l,{a:l}),l},n.d=(a,l)=>{for(var u in l)n.o(l,u)&&!n.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{LazyLoadComponent:()=>zt,LazyLoadImage:()=>ca,trackWindowScroll:()=>Ae});const a=ld();var l=n.n(a),u=n(697);function f(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(pe){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},m(pe)}function p(pe,$){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(pe);$&&(me=me.filter((function(Ie){return Object.getOwnPropertyDescriptor(pe,Ie).enumerable}))),ae.push.apply(ae,me)}return ae}function v(pe,$,ae){return($=b($))in pe?Object.defineProperty(pe,$,{value:ae,enumerable:!0,configurable:!0,writable:!0}):pe[$]=ae,pe}function _(pe,$){for(var ae=0;ae<$.length;ae++){var me=$[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,b(me.key),me)}}function b(pe){var $=(function(ae,me){if(m(ae)!=="object"||ae===null)return ae;var Ie=ae[Symbol.toPrimitive];if(Ie!==void 0){var Fe=Ie.call(ae,"string");if(m(Fe)!=="object")return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ae)})(pe);return m($)==="symbol"?$:String($)}function A(pe,$){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,me){return ae.__proto__=me,ae},A(pe,$)}function C(pe){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},C(pe)}var P=function(pe){pe.forEach((function($){$.isIntersecting&&$.target.onVisible()}))},I={},B=(function(pe){(function(te,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ce&&ce.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ce&&A(te,ce)})(nt,pe);var $,ae,me,Ie,Fe=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ce=C(me);if(Ie){var we=C(this).constructor;te=Reflect.construct(ce,arguments,we)}else te=ce.apply(this,arguments);return(function(be,Te){if(Te&&(m(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,te)});function nt(te){var ce;if((function(be,Te){if(!(be instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,nt),(ce=Fe.call(this,te)).supportsObserver=!te.scrollPosition&&te.useIntersectionObserver&&f(),ce.supportsObserver){var we=te.threshold;ce.observer=(function(be){return I[be]=I[be]||new IntersectionObserver(P,{rootMargin:be+"px"}),I[be]})(we)}return ce}return $=nt,ae=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ce=this.placeholder.getBoundingClientRect(),we=this.placeholder.style,be=parseInt(we.getPropertyValue("margin-left"),10)||0,Te=parseInt(we.getPropertyValue("margin-top"),10)||0;return{bottom:te.y+ce.bottom+Te,left:te.x+ce.left+be,right:te.x+ce.right+be,top:te.y+ce.top+Te}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var te=this.props,ce=te.scrollPosition,we=te.threshold,be=this.getPlaceholderBoundingBox(ce),Te=ce.y+window.innerHeight,Ue=ce.x,ct=ce.x+window.innerWidth,ut=ce.y;return ut-we<=be.bottom&&Te+we>=be.top&&Ue-we<=be.right&&ct+we>=be.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var te=this,ce=this.props,we=ce.className,be=ce.height,Te=ce.placeholder,Ue=ce.style,ct=ce.width;if(Te&&typeof Te.type!="function")return l().cloneElement(Te,{ref:function(it){return te.placeholder=it}});var ut=(function(it){for(var vt=1;vt<arguments.length;vt++){var at=arguments[vt]!=null?arguments[vt]:{};vt%2?p(Object(at),!0).forEach((function(Dt){v(it,Dt,at[Dt])})):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(at)):p(Object(at)).forEach((function(Dt){Object.defineProperty(it,Dt,Object.getOwnPropertyDescriptor(at,Dt))}))}return it})({display:"inline-block"},Ue);return ct!==void 0&&(ut.width=ct),be!==void 0&&(ut.height=be),l().createElement("span",{className:we,ref:function(it){return te.placeholder=it},style:ut},Te)}}],ae&&_($.prototype,ae),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);B.propTypes={onVisible:u.PropTypes.func.isRequired,className:u.PropTypes.string,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),placeholder:u.PropTypes.element,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,scrollPosition:u.PropTypes.shape({x:u.PropTypes.number.isRequired,y:u.PropTypes.number.isRequired}),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string])},B.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const U=B;var q=n(296),ie=n.n(q),H=n(96),J=n.n(H),V=function(pe){var $=getComputedStyle(pe,null);return $.getPropertyValue("overflow")+$.getPropertyValue("overflow-y")+$.getPropertyValue("overflow-x")};const x=function(pe){if(!(pe instanceof HTMLElement))return window;for(var $=pe;$&&$ instanceof HTMLElement;){if(/(scroll|auto)/.test(V($)))return $;$=$.parentNode}return window};function N(pe){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},N(pe)}var M=["delayMethod","delayTime"];function j(){return j=Object.assign?Object.assign.bind():function(pe){for(var $=1;$<arguments.length;$++){var ae=arguments[$];for(var me in ae)Object.prototype.hasOwnProperty.call(ae,me)&&(pe[me]=ae[me])}return pe},j.apply(this,arguments)}function z(pe,$){for(var ae=0;ae<$.length;ae++){var me=$[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(Fe,nt){if(N(Fe)!=="object"||Fe===null)return Fe;var te=Fe[Symbol.toPrimitive];if(te!==void 0){var ce=te.call(Fe,"string");if(N(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)})(me.key),N(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function k(pe,$){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,me){return ae.__proto__=me,ae},k(pe,$)}function qe(pe,$){if($&&(N($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(pe)}function de(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function K(pe){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},K(pe)}var ne=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ye=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Ae=function(pe){var $=(function(ae){(function(we,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(be&&be.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),be&&k(we,be)})(ce,ae);var me,Ie,Fe,nt,te=(Fe=ce,nt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var we,be=K(Fe);if(nt){var Te=K(this).constructor;we=Reflect.construct(be,arguments,Te)}else we=be.apply(this,arguments);return qe(this,we)});function ce(we){var be;if((function(Ue,ct){if(!(Ue instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,ce),(be=te.call(this,we)).useIntersectionObserver=we.useIntersectionObserver&&f(),be.useIntersectionObserver)return qe(be);var Te=be.onChangeScroll.bind(de(be));return we.delayMethod==="debounce"?be.delayedScroll=ie()(Te,we.delayTime):we.delayMethod==="throttle"&&(be.delayedScroll=J()(Te,we.delayTime)),be.state={scrollPosition:{x:ne(),y:ye()}},be.baseComponentRef=l().createRef(),be}return me=ce,(Ie=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||x(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=x(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ne(),y:ye()}})}},{key:"render",value:function(){var we=this.props,be=(we.delayMethod,we.delayTime,(function(Ue,ct){if(Ue==null)return{};var ut,it,vt=(function(Dt,fn){if(Dt==null)return{};var qn,Hn,gi={},_r=Object.keys(Dt);for(Hn=0;Hn<_r.length;Hn++)qn=_r[Hn],fn.indexOf(qn)>=0||(gi[qn]=Dt[qn]);return gi})(Ue,ct);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ue);for(it=0;it<at.length;it++)ut=at[it],ct.indexOf(ut)>=0||Object.prototype.propertyIsEnumerable.call(Ue,ut)&&(vt[ut]=Ue[ut])}return vt})(we,M)),Te=this.useIntersectionObserver?null:this.state.scrollPosition;return l().createElement(pe,j({forwardRef:this.baseComponentRef,scrollPosition:Te},be))}}])&&z(me.prototype,Ie),Object.defineProperty(me,"prototype",{writable:!1}),ce})(l().Component);return $.propTypes={delayMethod:u.PropTypes.oneOf(["debounce","throttle"]),delayTime:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool},$.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},$};function D(pe){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},D(pe)}function re(pe,$){for(var ae=0;ae<$.length;ae++){var me=$[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(Fe,nt){if(D(Fe)!=="object"||Fe===null)return Fe;var te=Fe[Symbol.toPrimitive];if(te!==void 0){var ce=te.call(Fe,"string");if(D(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)})(me.key),D(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function ge(pe,$){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,me){return ae.__proto__=me,ae},ge(pe,$)}function le(pe){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},le(pe)}var _e=(function(pe){(function(te,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ce&&ce.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ce&&ge(te,ce)})(nt,pe);var $,ae,me,Ie,Fe=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ce=le(me);if(Ie){var we=le(this).constructor;te=Reflect.construct(ce,arguments,we)}else te=ce.apply(this,arguments);return(function(be,Te){if(Te&&(D(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,te)});function nt(te){return(function(ce,we){if(!(ce instanceof we))throw new TypeError("Cannot call a class as a function")})(this,nt),Fe.call(this,te)}return $=nt,(ae=[{key:"render",value:function(){return l().createElement(U,this.props)}}])&&re($.prototype,ae),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);const Oe=Ae(_e);function Re(pe){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},Re(pe)}function At(pe,$){for(var ae=0;ae<$.length;ae++){var me=$[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,(Ie=(function(Fe,nt){if(Re(Fe)!=="object"||Fe===null)return Fe;var te=Fe[Symbol.toPrimitive];if(te!==void 0){var ce=te.call(Fe,"string");if(Re(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)})(me.key),Re(Ie)==="symbol"?Ie:String(Ie)),me)}var Ie}function We(pe,$){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,me){return ae.__proto__=me,ae},We(pe,$)}function wn(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function hn(pe){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},hn(pe)}var yt=(function(pe){(function(te,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ce&&ce.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ce&&We(te,ce)})(nt,pe);var $,ae,me,Ie,Fe=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ce=hn(me);if(Ie){var we=hn(this).constructor;te=Reflect.construct(ce,arguments,we)}else te=ce.apply(this,arguments);return(function(be,Te){if(Te&&(Re(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wn(be)})(this,te)});function nt(te){var ce;(function(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,nt),ce=Fe.call(this,te);var we=te.afterLoad,be=te.beforeLoad,Te=te.scrollPosition,Ue=te.visibleByDefault;return ce.state={visible:Ue},Ue&&(be(),we()),ce.onVisible=ce.onVisible.bind(wn(ce)),ce.isScrollTracked=!!(Te&&Number.isFinite(Te.x)&&Te.x>=0&&Number.isFinite(Te.y)&&Te.y>=0),ce}return $=nt,(ae=[{key:"componentDidUpdate",value:function(te,ce){ce.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var te=this.props,ce=te.className,we=te.delayMethod,be=te.delayTime,Te=te.height,Ue=te.placeholder,ct=te.scrollPosition,ut=te.style,it=te.threshold,vt=te.useIntersectionObserver,at=te.width;return this.isScrollTracked||vt&&f()?l().createElement(U,{className:ce,height:Te,onVisible:this.onVisible,placeholder:Ue,scrollPosition:ct,style:ut,threshold:it,useIntersectionObserver:vt,width:at}):l().createElement(Oe,{className:ce,delayMethod:we,delayTime:be,height:Te,onVisible:this.onVisible,placeholder:Ue,style:ut,threshold:it,width:at})}}])&&At($.prototype,ae),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);yt.propTypes={afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool},yt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const zt=yt;function Ot(pe){return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},Ot(pe)}var mi=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function rs(pe,$){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(pe);$&&(me=me.filter((function(Ie){return Object.getOwnPropertyDescriptor(pe,Ie).enumerable}))),ae.push.apply(ae,me)}return ae}function oa(pe){for(var $=1;$<arguments.length;$++){var ae=arguments[$]!=null?arguments[$]:{};$%2?rs(Object(ae),!0).forEach((function(me){Ln(pe,me,ae[me])})):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ae)):rs(Object(ae)).forEach((function(me){Object.defineProperty(pe,me,Object.getOwnPropertyDescriptor(ae,me))}))}return pe}function Ln(pe,$,ae){return($=pi($))in pe?Object.defineProperty(pe,$,{value:ae,enumerable:!0,configurable:!0,writable:!0}):pe[$]=ae,pe}function is(){return is=Object.assign?Object.assign.bind():function(pe){for(var $=1;$<arguments.length;$++){var ae=arguments[$];for(var me in ae)Object.prototype.hasOwnProperty.call(ae,me)&&(pe[me]=ae[me])}return pe},is.apply(this,arguments)}function la(pe,$){for(var ae=0;ae<$.length;ae++){var me=$[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(pe,pi(me.key),me)}}function pi(pe){var $=(function(ae,me){if(Ot(ae)!=="object"||ae===null)return ae;var Ie=ae[Symbol.toPrimitive];if(Ie!==void 0){var Fe=Ie.call(ae,"string");if(Ot(Fe)!=="object")return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ae)})(pe);return Ot($)==="symbol"?$:String($)}function Er(pe,$){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,me){return ae.__proto__=me,ae},Er(pe,$)}function ss(pe){return ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},ss(pe)}var Vr=(function(pe){(function(te,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ce&&ce.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ce&&Er(te,ce)})(nt,pe);var $,ae,me,Ie,Fe=(me=nt,Ie=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,ce=ss(me);if(Ie){var we=ss(this).constructor;te=Reflect.construct(ce,arguments,we)}else te=ce.apply(this,arguments);return(function(be,Te){if(Te&&(Ot(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue})(be)})(this,te)});function nt(te){var ce;return(function(we,be){if(!(we instanceof be))throw new TypeError("Cannot call a class as a function")})(this,nt),(ce=Fe.call(this,te)).state={loaded:!1},ce}return $=nt,(ae=[{key:"onImageLoad",value:function(){var te=this;return this.state.loaded?null:function(ce){te.props.onLoad(ce),te.props.afterLoad(),te.setState({loaded:!0})}}},{key:"getImg",value:function(){var te=this.props,ce=(te.afterLoad,te.beforeLoad,te.delayMethod,te.delayTime,te.effect,te.placeholder,te.placeholderSrc,te.scrollPosition,te.threshold,te.useIntersectionObserver,te.visibleByDefault,te.wrapperClassName,te.wrapperProps,(function(we,be){if(we==null)return{};var Te,Ue,ct=(function(it,vt){if(it==null)return{};var at,Dt,fn={},qn=Object.keys(it);for(Dt=0;Dt<qn.length;Dt++)at=qn[Dt],vt.indexOf(at)>=0||(fn[at]=it[at]);return fn})(we,be);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(we);for(Ue=0;Ue<ut.length;Ue++)Te=ut[Ue],be.indexOf(Te)>=0||Object.prototype.propertyIsEnumerable.call(we,Te)&&(ct[Te]=we[Te])}return ct})(te,mi));return l().createElement("img",is({},ce,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var te=this.props,ce=te.beforeLoad,we=te.className,be=te.delayMethod,Te=te.delayTime,Ue=te.height,ct=te.placeholder,ut=te.scrollPosition,it=te.style,vt=te.threshold,at=te.useIntersectionObserver,Dt=te.visibleByDefault,fn=te.width;return l().createElement(zt,{beforeLoad:ce,className:we,delayMethod:be,delayTime:Te,height:Ue,placeholder:ct,scrollPosition:ut,style:it,threshold:vt,useIntersectionObserver:at,visibleByDefault:Dt,width:fn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(te){var ce=this.props,we=ce.effect,be=ce.height,Te=ce.placeholderSrc,Ue=ce.width,ct=ce.wrapperClassName,ut=ce.wrapperProps,it=this.state.loaded,vt=it?" lazy-load-image-loaded":"",at=it||!Te?{}:{backgroundImage:"url(".concat(Te,")"),backgroundSize:"100% 100%"};return l().createElement("span",is({className:ct+" lazy-load-image-background "+we+vt,style:oa(oa({},at),{},{color:"transparent",display:"inline-block",height:be,width:Ue})},ut),te)}},{key:"render",value:function(){var te=this.props,ce=te.effect,we=te.placeholderSrc,be=te.visibleByDefault,Te=te.wrapperClassName,Ue=te.wrapperProps,ct=this.getLazyLoadImage();return(ce||we)&&!be||Te||Ue?this.getWrappedLazyLoadImage(ct):ct}}])&&la($.prototype,ae),Object.defineProperty($,"prototype",{writable:!1}),nt})(l().Component);Vr.propTypes={onLoad:u.PropTypes.func,afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,delayMethod:u.PropTypes.string,delayTime:u.PropTypes.number,effect:u.PropTypes.string,placeholderSrc:u.PropTypes.string,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool,wrapperClassName:u.PropTypes.string,wrapperProps:u.PropTypes.object},Vr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ca=Vr})(),tg.exports=i})()),tg.exports}var gA=qk();const Hk="/Ecommerce/assets/women-Dfw609QD.jpg",Gk="/Ecommerce/assets/man-BNem_KT8.jpg",$k="/Ecommerce/assets/kid-aD3lXmzM.jpg",Kk=O.lazy(()=>ns(()=>import("./HeroSlider-BdtW-UKj.js"),__vite__mapDeps([0,1,2]))),Yk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.ShoppingCart}))),S0=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.WifiOff}))),Qk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Heart}))),Xk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Search}))),Wk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Expand}))),Zk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.X}))),Jk=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Grid}))),e3=O.lazy(()=>ns(()=>import("./lucide-react-BdLtzD6y.js"),__vite__mapDeps([3,1])).then(t=>({default:t.List})));class t3 extends g.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?g.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},g.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(S0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),g.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const n3=(t,e)=>{let n;return function(...a){const l=()=>{clearTimeout(n),t(...a)};clearTimeout(n),n=setTimeout(l,e)}},r3={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function i3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const s3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},a3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},ng=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const[a,l]=O.useState(!1),[u,f]=O.useState(!1),m=parseFloat(t.price),p=parseFloat(t.newPrice),v=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},v?g.createElement(gA.LazyLoadImage,{src:v,alt:t.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>l(!0),onError:()=>f(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),!a&&!u&&v&&g.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},g.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),u&&g.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},g.createElement(S0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),g.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(Qk,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(Mr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(Wk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),m>p&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((m-p)/m*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},m>p&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",m.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",p.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(Yk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),o3=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),l3=g.memo(({searchQuery:t,setSearchQuery:e,filteredCount:n})=>{const i=O.useCallback(n3(a=>e(a),300),[e]);return g.createElement("div",{className:"w-full mb-10 mx-auto px-4"},g.createElement("div",{className:"max-w-2xl mx-auto"},g.createElement("div",{className:"relative"},g.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},g.createElement(Xk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),g.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:t,onChange:a=>i(a.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),t&&g.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},g.createElement(Zk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),t.trim()!==""&&g.createElement("div",{className:"mt-2 text-center"},g.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",g.createElement("span",{className:"font-semibold text-red-700"},'"',t,'"')),g.createElement("p",{className:"text-gray-600 text-xs"},"Found ",g.createElement("span",{className:"font-bold"},n)," result",n!==1?"s":""))))}),c3=g.memo(()=>{const t=[{name:"men",img:Gk},{name:"women",img:Hk},{name:"kids",img:$k}];return g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},g.createElement("div",{className:"text-center mb-6"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),g.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),g.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},t.map(e=>g.createElement("div",{key:e.name,className:"flex flex-col items-center group"},g.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},g.createElement(gA.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),g.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),g.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),rg=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),u3=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const[i,a]=O.useReducer(i3,r3),{products:l,loading:u,searchQuery:f,favoriteState:m,lastVisible:p,hasMore:v,page:_,viewMode:b}=i,A=12,C=O.useRef(m);O.useEffect(()=>{C.current=m},[m]),O.useEffect(()=>{const J=s3();a({type:"SET_FAVORITE_STATE",payload:J})},[]);const P=O.useCallback(async(J=1,V=f)=>{J===1&&(a({type:"SET_LOADING",payload:!0}),a({type:"RESET_PAGINATION"}));try{let x=Zs(ci,"products");V.trim()!==""&&(x=Cn(x,Ir("name",">=",V),Ir("name","<=",V+""))),J>1&&p?x=Cn(x,Md(p),Js(A)):x=Cn(x,Js(A));const N=await Du(x),M=N.docs.map(j=>({id:j.id,...j.data()}));a(J===1?{type:"SET_PRODUCTS",payload:M}:{type:"SET_PRODUCTS",payload:[...l,...M]}),a({type:"SET_LAST_VISIBLE",payload:N.docs[N.docs.length-1]}),a({type:"SET_HAS_MORE",payload:N.docs.length===A}),a({type:"SET_PAGE",payload:J})}catch(x){console.error("Error fetching products:",x)}finally{a({type:"SET_LOADING",payload:!1})}},[f,p,l,A]);O.useEffect(()=>{P()},[]),O.useEffect(()=>{f!==i.searchQuery&&P(1,f)},[f]);const I=O.useCallback(()=>{!u&&v&&P(_+1)},[u,v,_,P]),B=O.useCallback(J=>{const V=Array.isArray(C.current)?[...C.current]:typeof C.current=="object"&&C.current!==null?Object.values(C.current):[],x=V.includes(J);let N;if(x?N=V.filter(M=>M!==J):N=[...V,J],a3(N),a({type:"SET_FAVORITE_STATE",payload:N}),e){const M=l.find(j=>j.id===J);M&&e(M)}},[e,l]),U=Array.isArray(m)?m:typeof m=="object"&&m!==null?Object.values(m):[],q=l.filter(J=>J.category==="men"),ie=l.filter(J=>J.category==="women"),H=l.filter(J=>J.category==="kids");return u&&l.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((J,V)=>g.createElement(o3,{key:V}))))):l.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(S0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement(t3,null,g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement(O.Suspense,{fallback:g.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},g.createElement(Kk,null)),g.createElement(c3,null),g.createElement(l3,{searchQuery:f,setSearchQuery:J=>a({type:"SET_SEARCH_QUERY",payload:J}),filteredCount:l.length}),g.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},g.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},g.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${b==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},g.createElement(Jk,{className:"w-4 h-4 sm:w-5 sm:h-5"})),g.createElement("button",{type:"button",onClick:()=>a({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${b==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},g.createElement(e3,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),q.length>0&&g.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(rg,{title:"Men's Collection",count:q.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},q.map(J=>g.createElement(ng,{key:J.id,product:J,onAddToCart:t,onAddToFavorites:B,isFav:U.includes(J.id)})))),ie.length>0&&g.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(rg,{title:"Women's Collection",count:ie.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},ie.map(J=>g.createElement(ng,{key:J.id,product:J,onAddToCart:t,onAddToFavorites:B,isFav:U.includes(J.id)})))),H.length>0&&g.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},g.createElement(rg,{title:"Kids' Collection",count:H.length}),g.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${b==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},H.map(J=>g.createElement(ng,{key:J.id,product:J,onAddToCart:t,onAddToFavorites:B,isFav:U.includes(J.id)})))),v&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:I,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},h3=g.memo(u3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),cw=t=>{const e=d3(t);return e.charAt(0).toUpperCase()+e.slice(1)},yA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),m3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},m)=>O.createElement("svg",{ref:m,...p3,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:yA("lucide",a),...!l&&!m3(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,v])=>O.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const n=O.forwardRef(({className:i,...a},l)=>O.createElement(g3,{ref:l,iconNode:e,className:yA(`lucide-${f3(cw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=cw(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uw=Ft("arrow-left",y3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E3=Ft("calendar",v3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yg=Ft("circle-alert",_3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nd=Ft("circle-check-big",b3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],A0=Ft("expand",T3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vA=Ft("heart-off",w3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ea=Ft("heart",x3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hw=Ft("house",S3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],R3=Ft("list",A3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],C3=Ft("mail",N3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fw=Ft("map-pin",I3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M5 12h14",key:"1ays0h"}]],D3=Ft("minus",O3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],M3=Ft("package",P3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],k3=Ft("phone",V3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],U3=Ft("plus",L3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vr=Ft("shopping-cart",j3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EA=Ft("trash-2",B3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],z3=Ft("truck",F3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H3=Ft("user",q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_A=Ft("wifi-off",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bs=Ft("x",$3),K3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function Y3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const Q3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},X3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},W3=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(Mr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(A0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),Z3=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),J3=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),e5=({onAddToCart:t,searchQuery:e})=>{const[n,i]=O.useReducer(Y3,K3),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:p}=n,v=12;O.useEffect(()=>{const P=Q3();i({type:"SET_FAVORITE_STATE",payload:P})},[]);const _=O.useCallback(async(P=1)=>{P===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let I=Zs(ci,"products");I=Cn(I,Ir("category","==","men")),e&&e.trim()!==""&&(I=Cn(I,Ir("name",">=",e),Ir("name","<=",e+""))),P>1&&f?I=Cn(I,Md(f),Js(v)):I=Cn(I,Js(v));const B=await Du(I),U=B.docs.map(q=>({id:q.id,...q.data()}));i(P===1?{type:"SET_PRODUCTS",payload:U}:{type:"SET_PRODUCTS",payload:[...a,...U]}),i({type:"SET_LAST_VISIBLE",payload:B.docs[B.docs.length-1]}),i({type:"SET_HAS_MORE",payload:B.docs.length===v}),i({type:"SET_PAGE",payload:P})}catch(I){console.error("Error fetching men products:",I)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);O.useEffect(()=>{_()},[]),O.useEffect(()=>{e&&_(1)},[e]);const b=O.useCallback(P=>{const I=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],B=I.includes(P);let U;B?U=I.filter(q=>q!==P):U=[...I,P],X3(U),i({type:"SET_FAVORITE_STATE",payload:U})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=O.useCallback(()=>{!l&&m&&_(p+1)},[l,m,p,_]);return l&&a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((P,I)=>g.createElement(Z3,{key:I}))))):a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(_A,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(J3,{title:"Men's Collection",count:a.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(P=>g.createElement(W3,{key:P.id,product:P,onAddToCart:t,onAddToFavorites:b,isFav:A.includes(P.id)}))),m&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(Mr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},t5={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function n5(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const r5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},i5=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},s5=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newprice||t.newPrice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(Mr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(A0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),a5=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),o5=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),l5=({onAddToCart:t,searchQuery:e})=>{const[n,i]=O.useReducer(n5,t5),{products:a,loading:l,favoriteState:u,lastVisible:f,hasMore:m,page:p}=n,v=12;O.useEffect(()=>{const P=r5();i({type:"SET_FAVORITE_STATE",payload:P})},[]);const _=O.useCallback(async(P=1)=>{P===1&&(i({type:"SET_LOADING",payload:!0}),i({type:"RESET_PAGINATION"}));try{let I=Zs(ci,"products");I=Cn(I,Ir("category","==","women")),e&&e.trim()!==""&&(I=Cn(I,Ir("name",">=",e),Ir("name","<=",e+""))),P>1&&f?I=Cn(I,Md(f),Js(v)):I=Cn(I,Js(v));const B=await Du(I),U=B.docs.map(q=>({id:q.id,...q.data()}));i(P===1?{type:"SET_PRODUCTS",payload:U}:{type:"SET_PRODUCTS",payload:[...a,...U]}),i({type:"SET_LAST_VISIBLE",payload:B.docs[B.docs.length-1]}),i({type:"SET_HAS_MORE",payload:B.docs.length===v}),i({type:"SET_PAGE",payload:P})}catch(I){console.error("Error fetching women products:",I)}finally{i({type:"SET_LOADING",payload:!1})}},[e,f,a,v]);O.useEffect(()=>{_()},[]),O.useEffect(()=>{e&&_(1)},[e]);const b=O.useCallback(P=>{const I=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],B=I.includes(P);let U;B?U=I.filter(q=>q!==P):U=[...I,P],i5(U),i({type:"SET_FAVORITE_STATE",payload:U})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],C=O.useCallback(()=>{!l&&m&&_(p+1)},[l,m,p,_]);return l&&a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((P,I)=>g.createElement(a5,{key:I}))))):a.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(_A,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(o5,{title:"Women's Collection",count:a.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},a.map(P=>g.createElement(s5,{key:P.id,product:P,onAddToCart:t,onAddToFavorites:b,isFav:A.includes(P.id)}))),m&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:C,disabled:l,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(Mr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},c5={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function u5(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const h5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},f5=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},d5=g.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:i})=>{const a=parseFloat(t.price)||0,l=parseFloat(t.newPrice||t.newprice)||a,u=t.images&&t.images.length>0?t.images[0]:null;return g.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},u?g.createElement("img",{src:u,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):g.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},g.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("button",{onClick:()=>n(t.id),"aria-label":i?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${i?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},g.createElement(ea,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${i?"fill-current":""}`})),g.createElement(Mr,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},g.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},g.createElement(A0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),a>l&&g.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((a-l)/a*100),"% OFF")),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},a>l&&g.createElement("span",{className:"line-through text-xs text-gray-500"},"$",a.toFixed(2)),g.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",l.toFixed(2))),g.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},g.createElement(vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),m5=()=>g.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},g.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},g.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),g.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),g.createElement("div",{className:"p-2 flex flex-col flex-grow"},g.createElement("div",{className:"flex justify-between items-start mb-1"},g.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),g.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),g.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),g.createElement("div",{className:"flex items-center justify-between mt-auto"},g.createElement("div",{className:"flex items-center space-x-1"},g.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),g.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),g.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),p5=g.memo(({title:t,count:e})=>g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),g.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),g5=({onAddToCart:t})=>{const[e,n]=O.useReducer(u5,c5),{products:i,loading:a,favoriteState:l,lastVisible:u,hasMore:f,page:m}=e,p=12;O.useEffect(()=>{const C=h5();n({type:"SET_FAVORITE_STATE",payload:C})},[]);const v=O.useCallback(async(C=1)=>{C===1&&(n({type:"SET_LOADING",payload:!0}),n({type:"RESET_PAGINATION"}));try{let P=Zs(ci,"products");P=Cn(P,Ir("category","==","kids")),C>1&&u?P=Cn(P,Md(u),Js(p)):P=Cn(P,Js(p));const I=await Du(P),B=I.docs.map(U=>({id:U.id,...U.data()}));n(C===1?{type:"SET_PRODUCTS",payload:B}:{type:"SET_PRODUCTS",payload:[...i,...B]}),n({type:"SET_LAST_VISIBLE",payload:I.docs[I.docs.length-1]}),n({type:"SET_HAS_MORE",payload:I.docs.length===p}),n({type:"SET_PAGE",payload:C})}catch(P){console.error("Error fetching kids products:",P)}finally{n({type:"SET_LOADING",payload:!1})}},[u,i,p]);O.useEffect(()=>{v()},[]);const _=O.useCallback(C=>{const P=Array.isArray(l)?[...l]:typeof l=="object"&&l!==null?Object.values(l):[],I=P.includes(C);let B;I?B=P.filter(U=>U!==C):B=[...P,C],f5(B),n({type:"SET_FAVORITE_STATE",payload:B})},[l]),b=Array.isArray(l)?l:typeof l=="object"&&l!==null?Object.values(l):[],A=O.useCallback(()=>{!a&&f&&v(m+1)},[a,f,m,v]);return a&&i.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),g.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),g.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((C,P)=>g.createElement(m5,{key:P}))))):i.length===0?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},g.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},g.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},g.createElement(vA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),g.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),g.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),g.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement(p5,{title:"Kids' Collection",count:i.length}),g.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),g.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},i.map(C=>g.createElement(d5,{key:C.id,product:C,onAddToCart:t,onAddToFavorites:_,isFav:b.includes(C.id)}))),f&&g.createElement("div",{className:"flex justify-center my-8"},g.createElement("button",{onClick:A,disabled:a,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},a?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),g.createElement("div",{className:"mt-12 text-center"},g.createElement(Mr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},y5=({onAddToCart:t})=>{const[e,n]=O.useState([]),[i,a]=O.useState(!0),[l,u]=O.useState(null),f=()=>{try{const _=localStorage.getItem("favorites");if(!_)return[];const b=JSON.parse(_);return Array.isArray(b)?b:[]}catch(_){return console.error("Error getting favorites from localStorage:",_),[]}},m=O.useCallback(async()=>{a(!0),u(null);try{const _=f();if(_.length===0){n([]),a(!1);return}const b=Cn(Zs(ci,"products"),Ir(QV(),"in",_)),C=(await Du(b)).docs.map(P=>({id:P.id,...P.data()}));n(C)}catch(_){console.error("Error fetching favorite products:",_),u("Failed to load your favorites. Please try again later.")}finally{a(!1)}},[]),p=O.useCallback(_=>{try{const A=f().filter(C=>C!==_);localStorage.setItem("favorites",JSON.stringify(A)),n(C=>C.filter(P=>P.id!==_))}catch(b){console.error("Error removing favorite:",b)}},[]),v=O.useCallback(_=>{t&&t(_)},[t]);return O.useEffect(()=>{m()},[m]),i?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"flex justify-center items-center h-64"},g.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):l?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"text-center"},g.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},l),g.createElement("button",{onClick:m,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},g.createElement("div",{className:"text-center"},g.createElement(vA,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),g.createElement(Ms,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},g.createElement(ea,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},g.createElement("div",{className:"mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),g.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),g.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(_=>g.createElement("div",{key:_.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},g.createElement("div",{className:"relative overflow-hidden"},g.createElement(Mr,{to:`/product/${_.id}`,"aria-label":`View details for ${_.name}`},g.createElement("img",{src:_.images&&_.images.length>0?_.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:_.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),g.createElement("button",{onClick:()=>p(_.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${_.name} from favorites`},g.createElement(EA,{className:"w-4 h-4"})),parseFloat(_.price)>parseFloat(_.newprice||_.newPrice)&&g.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(_.newprice||_.newPrice)/parseFloat(_.price))*100),"% OFF"),g.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},g.createElement(ea,{className:"w-4 h-4 fill-current"}))),g.createElement("div",{className:"p-3 sm:p-4"},g.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},_.name),g.createElement("div",{className:"mb-3"},g.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},_.category)),g.createElement("div",{className:"flex items-center justify-between mb-4"},g.createElement("div",{className:"flex items-center space-x-2"},g.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(_.price).toFixed(2)),g.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(_.newprice||_.newPrice).toFixed(2))),g.createElement("button",{onClick:()=>v(_),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},g.createElement(vr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),g.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),g.createElement("div",{className:"mt-12 text-center"},g.createElement(Ms,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function v5({cartItemCount:t,onCartClick:e}){const[n,i]=O.useState(!1),[a,l]=O.useState(!1),u=ra(),f=["Home","Men","Women","Kids","Favorites","contact","Orders"];return O.useEffect(()=>{i(!1)},[u]),g.createElement(g.Fragment,null,g.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"flex items-center justify-between h-16"},g.createElement("div",{className:"flex items-center space-x-8"},g.createElement(Ms,{to:"/",className:"flex items-center space-x-2"},g.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center"},g.createElement("span",{className:"text-white font-bold text-lg"},"S")),g.createElement("h1",{className:"text-2xl font-bold text-red-700"},"Small Shop")),g.createElement("nav",{className:"hidden md:flex space-x-1"},f.map(m=>g.createElement(Ms,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:p})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${p?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},m)))),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"relative"},g.createElement("button",{onClick:()=>{e(),l(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},g.createElement(vr,{className:"w-6 h-6"}),t>0&&g.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},t>99?"99+":t))),g.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>i(!n)},n?g.createElement(Bs,{className:"w-6 h-6"}):g.createElement(R3,{className:"w-6 h-6"})))))),n&&g.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>i(!1)}),g.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${n?"translate-x-0":"translate-x-full"}`},g.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},g.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),g.createElement("button",{onClick:()=>i(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},g.createElement(Bs,{className:"w-6 h-6"}))),g.createElement("div",{className:"p-4"},g.createElement("nav",{className:"flex flex-col space-y-1"},f.map(m=>{const p=m==="Home"?hw:m==="Favorites"?ea:null;return g.createElement(Ms,{key:m,to:`/${m==="Home"?"":m.toLowerCase()}`,className:({isActive:v})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${v?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>i(!1)},p&&g.createElement(p,{className:"w-5 h-5 mr-3"}),m)})))),g.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},g.createElement(Ms,{to:"/",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(hw,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Home")),g.createElement(Ms,{to:"/favorites",className:({isActive:m})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${m?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(ea,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Favorites")),g.createElement("button",{onClick:()=>{e(),l(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${a?"text-red-700 scale-110":"text-gray-500"}`},g.createElement(vr,{className:"w-6 h-6"}),g.createElement("span",{className:"text-xs mt-1"},"Cart"),t>0&&g.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},t>99?"99+":t))))}function E5({isOpen:t,onClose:e,cart:n,onIncreaseQty:i,onDecreaseQty:a,onRemoveItem:l,onClearCart:u,onCheckout:f,total:m}){const[p,v]=O.useState(null),[_,b]=O.useState({}),[A,C]=O.useState(!1),P=(x,N="success")=>{v({text:x,type:N}),setTimeout(()=>v(null),2e3)};O.useEffect(()=>{const x=async()=>{const N={};for(const M of n)try{const j=await uA(c0(ci,"products",M.id));j.exists()&&(N[M.id]=j.data().shippingPrice||0)}catch(j){console.error("Error fetching shipping price:",j)}b(N)};n.length>0&&x()},[n]);const I=x=>{a(x)},B=x=>{i(x)},U=(x,N)=>{l(x),P(`${N} removed from cart`)},q=async()=>{C(!0);try{await f(),P("Checkout successful!")}catch{P("Checkout failed. Please try again.","error")}finally{C(!1)}},ie=m,H=ie*.2,J=ie>0?15:0,V=ie-H+J;return g.createElement("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`},g.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:e}),g.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`},g.createElement("div",{className:"flex flex-col h-full"},g.createElement("div",{className:"flex items-center justify-between p-5 bg-white border-b border-gray-200"},g.createElement("div",{className:"flex items-center space-x-2"},g.createElement("h2",{className:"text-xl font-bold text-gray-900 uppercase tracking-wide"},"YOUR CART"),n.length>0&&g.createElement("span",{className:"bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},n.reduce((x,N)=>x+N.qty,0))),g.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200","aria-label":"Close cart"},g.createElement(Bs,{className:"w-5 h-5 text-gray-700"}))),p&&g.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${p.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},g.createElement(nd,{className:"w-5 h-5"}),g.createElement("span",null,p.text)),g.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},n.length===0?g.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},g.createElement("div",{className:"bg-gray-100 p-4 rounded-full mb-4"},g.createElement(vr,{className:"w-16 h-16 text-gray-400"})),g.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),g.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),g.createElement("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors duration-300"},"Continue Shopping")):g.createElement("div",{className:"space-y-4"},n.map(x=>g.createElement("div",{key:`${x.id}-${x.selectedSize||"default"}`,className:"flex items-start p-4 bg-white border border-gray-200 rounded-lg"},g.createElement("div",{className:"relative"},g.createElement("img",{src:x.image||(Array.isArray(x.images)?x.images[0]:x.images),alt:x.name,className:"w-20 h-20 object-cover rounded-lg",onError:N=>{N.target.src="/placeholder.jpg"}}),x.selectedSize&&g.createElement("span",{className:"absolute bottom-0 right-0 bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},x.selectedSize)),g.createElement("div",{className:"flex-1 min-w-0 ml-4"},g.createElement("h4",{className:"text-base font-medium text-gray-900"},x.name),x.selectedSize&&g.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",g.createElement("span",{className:"font-medium"},x.selectedSize)),g.createElement("div",{className:"flex items-center mt-2"},g.createElement("span",{className:"text-gray-900 font-medium"},"$",parseFloat(x.price).toFixed(2)),x.originalPrice&&x.originalPrice>x.price&&g.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(x.originalPrice).toFixed(2)))),g.createElement("div",{className:"flex flex-col items-end space-y-3"},g.createElement("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-md p-1"},g.createElement("button",{onClick:()=>I(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Decrease quantity"},g.createElement(D3,{className:"w-3 h-3"})),g.createElement("span",{className:"text-sm font-medium w-8 text-center"},x.qty),g.createElement("button",{onClick:()=>B(x.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Increase quantity"},g.createElement(U3,{className:"w-3 h-3"}))),g.createElement("button",{onClick:()=>U(x.id,x.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},g.createElement(EA,{className:"w-4 h-4"}))))))),n.length>0&&g.createElement("div",{className:"border-t border-gray-200 p-5 bg-white"},g.createElement("div",{className:"space-y-3 mb-6"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-700 font-medium"},"Subtotal"),g.createElement("span",{className:"text-gray-900 font-medium"},"$",ie.toFixed(2))),g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-gray-700 font-medium"},"Shipping"),g.createElement("span",{className:"text-gray-900 font-medium"},"$",n.reduce((x,N)=>x+(_[N.id]||0),0).toFixed(2))),g.createElement("div",{className:"border-t border-gray-200 pt-3"},g.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},g.createElement("span",{className:"text-gray-900"},"Total"),g.createElement("span",{className:"text-gray-900"},"$",V.toFixed(2))))),g.createElement("button",{onClick:q,disabled:A,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${A?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800"} text-white`},A?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):g.createElement(g.Fragment,null,g.createElement(vr,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),g.createElement("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-700 hover:text-gray-900 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}const _5=(t,e)=>OD(x0,t,e),b5=(t,e)=>DD(x0,t,e);function T5(){const[t,e]=O.useState(""),[n,i]=O.useState(""),[a,l]=O.useState(""),[u,f]=O.useState(!1),[m,p]=O.useState(""),v=async _=>{if(_.preventDefault(),f(!0),p(""),n!==a){p("Passwords do not match"),f(!1);return}try{await _5(t,n)}catch(b){p(b.message)}finally{f(!1)}};return g.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},g.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-400"}),g.createElement("div",{className:"p-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Create Account"),g.createElement("p",{className:"text-gray-600 mt-2"},"Join us today")),m&&g.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},m),g.createElement("form",{onSubmit:v},g.createElement("div",{className:"mb-4"},g.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),g.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:_=>e(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("div",{className:"mb-4"},g.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-2"},"Password"),g.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("div",{className:"mb-6"},g.createElement("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-medium mb-2"},"Confirm Password"),g.createElement("input",{id:"confirmPassword",type:"password",placeholder:"••••••••",value:a,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},u?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating account..."):"Sign Up")))))}function w5(){const[t,e]=O.useState(""),[n,i]=O.useState(""),[a,l]=O.useState(!1),[u,f]=O.useState(""),m=async p=>{p.preventDefault(),l(!0),f("");try{await b5(t,n),alert("Signed in successfully!")}catch(v){f(v.message)}finally{l(!1)}};return g.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},g.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-300"}),g.createElement("div",{className:"p-8"},g.createElement("div",{className:"text-center mb-8"},g.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Welcome Back"),g.createElement("p",{className:"text-gray-600 mt-2"},"Sign in to your account")),u&&g.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},u),g.createElement("form",{onSubmit:m},g.createElement("div",{className:"mb-4"},g.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),g.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"flex justify-between items-center mb-2"},g.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium"},"Password"),g.createElement("a",{href:"#",className:"text-sm text-red-600 hover:text-red-800 transition duration-200"},"Forgot password?")),g.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),g.createElement("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},a?g.createElement(g.Fragment,null,g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Signing in..."):"Sign In")))))}function x5({address:t}){if(!t)return g.createElement("p",{className:"text-gray-500 p-4 text-center"},"Enter your address or use location to preview on map.");const e=encodeURIComponent(t);return g.createElement("iframe",{title:"map-preview",src:`https://www.google.com/maps?q=${e}&t=k&z=15&output=embed`,width:"100%",height:"250",style:{border:0},loading:"lazy",allowFullScreen:!0})}function S5({isOpen:t,onClose:e,total:n,cart:i,onOrderSuccess:a}){const[l,u]=O.useState({name:"",email:"",phone:"",address:""}),[f,m]=O.useState(!1),[p,v]=O.useState(""),[_,b]=O.useState({}),[A,C]=O.useState(null),[P,I]=O.useState(!1);O.useEffect(()=>{const H=VD(x0,J=>{C(J)});return()=>H()},[]);const B=H=>{u(J=>({...J,[H.target.name]:H.target.value})),_[H.target.name]&&b(J=>({...J,[H.target.name]:null}))},U=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(H=>{const{latitude:J,longitude:V}=H.coords,x=`${J},${V}`;u(N=>({...N,address:x}))},H=>{alert("Failed to get location: "+H.message)})},q=()=>{const H={};return l.name.trim()||(H.name="Name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(H.email="Please enter a valid email address"):H.email="Email is required",l.phone.trim()?/^\+?[0-9\s\-()]{7,20}$/.test(l.phone.replace(/\s/g,""))||(H.phone="Please enter a valid phone number"):H.phone="Phone number is required",l.address.trim()||(H.address="Address is required"),b(H),Object.keys(H).length===0},ie=async H=>{if(H.preventDefault(),!q()){v("Please correct the errors in the form.");return}if(!i||i.length===0){v("Your cart is empty.");return}try{m(!0);let J=null;if(l.address.includes(",")){const[N,M]=l.address.split(",").map(Number);!isNaN(N)&&!isNaN(M)&&(J={lat:N,lng:M})}const V={id:Date.now().toString(),client:l,items:i,total:n,status:"Pending",timestamp:new Date().toISOString(),location:J,userId:A?.uid||null};await hA(Zs(ci,"orders"),V);const x=JSON.parse(localStorage.getItem("orders"))||[];localStorage.setItem("orders",JSON.stringify([...x,V])),v("Order placed successfully!"),u({name:"",email:"",phone:"",address:""}),a?.(),setTimeout(()=>e(),2e3)}catch(J){console.error("Error placing order:",J),v("Failed to place order. Try again.")}finally{m(!1)}};return O.useEffect(()=>{if(p){const H=setTimeout(()=>v(""),3e3);return()=>clearTimeout(H)}},[p]),t?g.createElement(g.Fragment,null,p&&g.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},g.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${p.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},p.includes("success")?g.createElement(nd,{className:"w-8 h-8 flex-shrink-0"}):g.createElement(Yg,{className:"w-8 h-8 flex-shrink-0"}),g.createElement("span",{className:"text-lg font-medium"},p))),g.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},g.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),g.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},g.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},g.createElement(Bs,{className:"w-5 h-5"})),g.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},g.createElement("div",{className:"flex items-center space-x-3"},g.createElement(vr,{className:"w-8 h-8"}),g.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),g.createElement("div",{className:"flex-1 overflow-y-auto p-6"},A?g.createElement(g.Fragment,null,g.createElement("div",{className:"mb-8"},g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},g.createElement(vr,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),g.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},i.map((H,J)=>g.createElement("div",{key:`${H.id}-${J}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},g.createElement("div",{className:"flex items-center gap-4"},g.createElement("img",{src:H.image||(Array.isArray(H.images)?H.images[0]:H.images),alt:H.name,className:"w-16 h-16 object-cover rounded-lg"}),g.createElement("div",null,g.createElement("div",{className:"text-sm font-semibold text-gray-900"},H.name),g.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},g.createElement("span",null,"Qty: ",H.qty),H.selectedSize&&g.createElement("span",null,"Size: ",H.selectedSize)))),g.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(H.qty*H.price).toFixed(2))))),g.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},g.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),g.createElement("span",{className:"text-xl font-bold text-red-700"},"$",n.toFixed(2)))),g.createElement("form",{onSubmit:ie,className:"space-y-5"},g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(H3,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),g.createElement("input",{type:"text",name:"name",value:l.name,onChange:B,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your full name",disabled:f}),_.name&&g.createElement("p",{className:"text-sm text-red-600"},_.name)),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(C3,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),g.createElement("input",{type:"email",name:"email",value:l.email,onChange:B,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your email",disabled:f}),_.email&&g.createElement("p",{className:"text-sm text-red-600"},_.email)),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(k3,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),g.createElement("input",{type:"tel",name:"phone",value:l.phone,onChange:B,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your phone number",disabled:f}),_.phone&&g.createElement("p",{className:"text-sm text-red-600"},_.phone)),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(fw,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),g.createElement("div",{className:"flex gap-2 mb-2"},g.createElement("textarea",{name:"address",value:l.address,onChange:B,rows:2,className:"flex-1 px-4 py-3 border rounded-lg resize-none",placeholder:"Enter your shipping address or coords",disabled:f}),g.createElement("button",{type:"button",onClick:U,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm"},"Use My Location")),_.address&&g.createElement("p",{className:"text-sm text-red-600"},_.address)),g.createElement("div",null,g.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},g.createElement(fw,{className:"w-4 h-4 mr-2 text-red-600"}),"Location Preview"),g.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},g.createElement(x5,{address:l.address}))),g.createElement("button",{type:"submit",disabled:f,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium"},f?"Processing Order...":"Place Order"))):g.createElement("div",null,P?g.createElement(T5,null):g.createElement(w5,null),g.createElement("p",{className:"mt-4 text-center text-sm text-gray-600"},P?"Already have an account?":"Don’t have an account?"," ",g.createElement("button",{onClick:()=>I(!P),className:"text-red-600 hover:underline"},P?"Sign In":"Sign Up"))))))):null}const A5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},dw=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},R5=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const{id:i}=aC(),a=L1(),[l,u]=O.useState(null),[f,m]=O.useState(!0),[p,v]=O.useState(null),[_,b]=O.useState(null),[A,C]=O.useState(""),[P,I]=O.useState(!1),[B,U]=O.useState([]);O.useEffect(()=>{const x=A5();U(x)},[]);const q=B.includes(i);O.useEffect(()=>{(async()=>{m(!0);try{const N=c0(ci,"products",i),M=await uA(N);if(M.exists()){const j={id:M.id,...M.data()};u(j),v(j.images?.[0]||null)}else u(null)}catch(N){console.error("Error fetching product:",N),u(null)}finally{m(!1)}})()},[i]),O.useEffect(()=>{window.scrollTo(0,0)},[i]);const ie=l?.sizes&&l.sizes.length>0,H=()=>{if(ie&&!_){C("⚠️ Please select a size before adding to cart.");return}C("✅ Added to cart!"),t({id:l.id,name:l.name,price:l.newprice||l.price,image:l.images?.[0]||"",selectedSize:_,quantity:1}),setTimeout(()=>C(""),3e3)},J=()=>{const x=[...B],N=l.id;if(q){const M=x.filter(j=>j!==N);dw(M),U(M),C("💔 Removed from favorites!")}else{const M=[...x,N];dw(M),U(M),e(l),C("❤️ Added to favorites!")}setTimeout(()=>C(""),3e3)},V=()=>{I(!0)};return f?g.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},g.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):l?g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},g.createElement("div",{className:"px-4 pt-4"},g.createElement("button",{onClick:()=>a(-1),className:"flex items-center text-red-600 hover:text-red-800 transition-colors"},g.createElement(uw,{className:"w-5 h-5 mr-1"})," Back")),g.createElement("div",{className:"px-4 pb-8"},g.createElement("div",{className:"flex flex-col lg:flex-row gap-8"},g.createElement("div",{className:"lg:w-1/2"},g.createElement("div",{className:"flex flex-col md:flex-row gap-6"},g.createElement("div",{className:"flex-1"},g.createElement("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden shadow-inner flex items-center justify-center"},p&&!P?g.createElement("img",{src:p,alt:l.name,className:"w-full h-full object-contain",onError:V}):g.createElement("div",{className:"text-center p-8"},g.createElement("div",{className:"text-5xl mb-2"},"🖼️"),g.createElement("p",{className:"text-gray-500"},"Image not available")))),g.createElement("div",{className:"flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-y-auto max-w-full md:max-w-[100px] lg:max-w-[120px] py-2"},l.images?.map((x,N)=>g.createElement("button",{key:N,onClick:()=>{v(x),I(!1)},className:`flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border-2 transition-all duration-200 ${p===x?"border-red-500 scale-105 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`},g.createElement("img",{src:x,alt:`${l.name} thumbnail ${N+1}`,className:"w-full h-full object-cover",onError:M=>{M.target.src="/placeholder.jpg"}})))))),g.createElement("div",{className:"lg:w-1/2"},g.createElement("div",{className:"bg-white rounded-2xl p-6 lg:p-8 shadow-sm"},g.createElement("div",{className:"flex flex-col h-full"},g.createElement("div",null,g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},l.name),g.createElement("p",{className:"text-gray-600 mb-6"},l.category),ie&&g.createElement("div",{className:"mb-6"},g.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Select Size"),g.createElement("div",{className:"flex flex-wrap gap-2"},l.sizes.map(x=>g.createElement("button",{key:x,onClick:()=>b(x),className:`px-4 py-2 rounded-lg border font-medium transition-all duration-200 ${_===x?"bg-red-600 text-white border-red-600 shadow-md":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`},x.toUpperCase()))),ie&&!_&&g.createElement("p",{className:"mt-2 text-sm text-red-500"},"Please select a size")),g.createElement("div",{className:"mb-6"},g.createElement("div",{className:"flex items-baseline gap-3"},g.createElement("span",{className:"text-3xl font-bold text-gray-900"},"$",l.newPrice||l.price),l.newPrice&&l.newPrice<l.price&&g.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",l.price),l.newPrice&&l.newPrice<l.price&&g.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},"Save $",(l.price-l.newPrice).toFixed(2)))),g.createElement("div",{className:"flex flex-wrap gap-4 mb-6"},g.createElement("button",{onClick:H,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300"},g.createElement(vr,{className:"w-5 h-5"})," Add to Cart"),g.createElement("button",{onClick:J,className:`p-3 rounded-xl border transition-all duration-300 ${q?"bg-red-50 text-red-600 border-red-200 shadow-sm":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100 hover:shadow-sm"}`,title:q?"Remove from favorites":"Add to favorites"},g.createElement(ea,{className:`w-6 h-6 transition-all duration-300 ${q?"fill-red-600 text-red-600 scale-110":""}`}))),A&&g.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 animate-fadeIn"},A)),g.createElement("div",{className:"mt-auto pt-6 border-t border-gray-200"},g.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-3"},"Description"),g.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line break-words"},l.det||"No description available for this product.")))))))):g.createElement("div",{className:"text-center py-20 px-4"},g.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl p-8"},g.createElement("div",{className:"text-6xl mb-4"},"😕"),g.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),g.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),g.createElement("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},g.createElement(uw,{className:"w-4 h-4 mr-2"})," Go Back")))},N5=({navLinks:t=[],socialLinks:e=[],contactInfo:n={},copyrightYear:i=new Date().getFullYear()})=>{const[a,l]=O.useState(""),[u,f]=O.useState(""),[m,p]=O.useState(!1),[v,_]=O.useState(!1),b=async A=>{if(A.preventDefault(),!a.trim()){f("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){f("Please enter a valid email address");return}_(!0),f("");try{await new Promise(C=>setTimeout(C,1e3)),console.log("Subscribed email:",a),p(!0),l("")}catch(C){console.error("Subscription error:",C),f("Subscription failed. Please try again.")}finally{_(!1)}};return g.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},g.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),g.createElement("ul",{className:"space-y-2"},t.map((A,C)=>g.createElement("li",{key:C},g.createElement("a",{href:A.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${A.name}`},A.name))))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),g.createElement("ul",{className:"space-y-3"},n.email&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),g.createElement("a",{href:`mailto:${n.email}`,className:"text-gray-300 hover:text-white transition-colors"},n.email)),n.phone&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),g.createElement("a",{href:`tel:${n.phone}`,className:"text-gray-300 hover:text-white transition-colors"},n.phone)),n.address&&g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),g.createElement("span",{className:"text-gray-300"},n.address)))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),g.createElement("div",{className:"flex space-x-4"},e.map((A,C)=>g.createElement("a",{key:C,href:A.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${A.name}`},A.icon&&g.createElement("span",{className:"w-5 h-5"},A.icon))))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),g.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),m?g.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},g.createElement("div",{className:"flex items-center"},g.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),g.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):g.createElement("form",{onSubmit:b,className:"space-y-3"},g.createElement("div",null,g.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),g.createElement("input",{type:"email",id:"footer-email",value:a,onChange:A=>l(A.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${u?"border-red-500":"border-gray-700"}`,"aria-invalid":!!u,"aria-describedby":u?"footer-email-error":void 0}),u&&g.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},u)),g.createElement("button",{type:"submit",disabled:v,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},v?"Subscribing...":"Subscribe")))),g.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},g.createElement("p",null,"© ",i," Your Company Name. All rights reserved."))))},C5=()=>{const[t,e]=O.useState({name:"",email:"",subject:"",message:""}),[n,i]=O.useState({name:"",email:"",subject:"",message:""}),[a,l]=O.useState(!1),[u,f]=O.useState(!1),m=()=>{let _=!0;const b={name:"",email:"",subject:"",message:""};return t.name.trim()||(b.name="Name is required",_=!1),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(b.email="Please enter a valid email address",_=!1):(b.email="Email is required",_=!1),t.subject.trim()||(b.subject="Subject is required",_=!1),t.message.trim()||(b.message="Message is required",_=!1),i(b),_},p=_=>{const{name:b,value:A}=_.target;e(C=>({...C,[b]:A})),n[b]&&i(C=>({...C,[b]:""}))},v=async _=>{if(_.preventDefault(),!!m()){f(!0);try{await new Promise(b=>setTimeout(b,1e3)),console.log("Form submitted:",t),l(!0),e({name:"",email:"",subject:"",message:""})}catch(b){console.error("Submission error:",b)}finally{f(!1)}}};return g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},g.createElement("div",{className:"max-w-7xl mx-auto"},g.createElement("div",{className:"text-center mb-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),g.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),g.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},g.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},g.createElement("div",null,g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),a?g.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},g.createElement("div",{className:"flex items-center"},g.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),g.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),g.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),g.createElement("button",{onClick:()=>l(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):g.createElement("form",{onSubmit:v,noValidate:!0},g.createElement("div",{className:"space-y-6"},g.createElement("div",null,g.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"text",id:"name",name:"name",value:t.name,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0}),n.name&&g.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},n.name)),g.createElement("div",null,g.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0}),n.email&&g.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},n.email)),g.createElement("div",null,g.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.subject,"aria-describedby":n.subject?"subject-error":void 0}),n.subject&&g.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},n.subject)),g.createElement("div",null,g.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",g.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),g.createElement("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:p,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0}),n.message&&g.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},n.message)),g.createElement("div",null,g.createElement("button",{type:"submit",disabled:u,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},u?g.createElement("span",{className:"flex items-center justify-center"},g.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},g.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),g.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},g.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),g.createElement("div",{className:"space-y-6"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),g.createElement("ul",{className:"space-y-3"},g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),g.createElement("span",{className:"text-gray-700"},"contact@example.com")),g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),g.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),g.createElement("li",{className:"flex items-start"},g.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),g.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",g.createElement("br",null),"San Francisco, CA 94107")))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),g.createElement("ul",{className:"space-y-2"},g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Monday - Friday"),g.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Saturday"),g.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),g.createElement("li",{className:"flex justify-between"},g.createElement("span",{className:"text-gray-700"},"Sunday"),g.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),g.createElement("div",null,g.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),g.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},g.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};var ig={exports:{}},kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function I5(){if(mw)return kc;mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return kc.Fragment=e,kc.jsx=n,kc.jsxs=n,kc}var pw;function O5(){return pw||(pw=1,ig.exports=I5()),ig.exports}var Qg=O5();const bA=O.createContext({});function D5(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const R0=typeof window<"u",P5=R0?O.useLayoutEffect:O.useEffect,N0=O.createContext(null);function C0(t,e){t.indexOf(e)===-1&&t.push(e)}function I0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ji=(t,e,n)=>n>e?e:n<t?t:n;let O0=()=>{};const es={},TA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wA(t){return typeof t=="object"&&t!==null}const xA=t=>/^0[^.\s]+$/u.test(t);function D0(t){let e;return()=>(e===void 0&&(e=t()),e)}const yr=t=>t,M5=(t,e)=>n=>e(t(n)),Pu=(...t)=>t.reduce(M5),fu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class P0{constructor(){this.subscriptions=[]}add(e){return C0(this.subscriptions,e),()=>I0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=t=>t*1e3,gr=t=>t/1e3;function SA(t,e){return e?t*(1e3/e):0}const AA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,V5=1e-7,k5=12;function L5(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=AA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>V5&&++f<k5);return u}function Mu(t,e,n,i){if(t===e&&n===i)return yr;const a=l=>L5(l,0,1,t,n);return l=>l===0||l===1?l:AA(a(l),e,i)}const RA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NA=t=>e=>1-t(1-e),CA=Mu(.33,1.53,.69,.99),M0=NA(CA),IA=RA(M0),OA=t=>(t*=2)<1?.5*M0(t):.5*(2-Math.pow(2,-10*(t-1))),V0=t=>1-Math.sin(Math.acos(t)),DA=NA(V0),PA=RA(V0),U5=Mu(.42,0,1,1),j5=Mu(0,0,.58,1),MA=Mu(.42,0,.58,1),B5=t=>Array.isArray(t)&&typeof t[0]!="number",VA=t=>Array.isArray(t)&&typeof t[0]=="number",F5={linear:yr,easeIn:U5,easeInOut:MA,easeOut:j5,circIn:V0,circInOut:PA,circOut:DA,backIn:M0,backInOut:IA,backOut:CA,anticipate:OA},z5=t=>typeof t=="string",gw=t=>{if(VA(t)){O0(t.length===4);const[e,n,i,a]=t;return Mu(e,n,i,a)}else if(z5(t))return F5[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,b=!1)=>{const C=b&&a?n:i;return _&&u.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const H5=40;function kA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=df.reduce((q,ie)=>(q[ie]=q5(l),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:b,render:A,postRender:C}=u,P=()=>{const q=es.useManualTiming?a.timestamp:performance.now();n=!1,es.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(q-a.timestamp,H5),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),b.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(P))},I=()=>{n=!0,i=!0,a.isProcessing||t(P)};return{schedule:df.reduce((q,ie)=>{const H=u[ie];return q[ie]=(J,V=!1,x=!1)=>(n||I(),H.schedule(J,V,x)),q},{}),cancel:q=>{for(let ie=0;ie<df.length;ie++)u[df[ie]].cancel(q)},state:a,steps:u}}const{schedule:St,cancel:ta,state:vn,steps:sg}=kA(typeof requestAnimationFrame<"u"?requestAnimationFrame:yr,!0);let Nf;function G5(){Nf=void 0}const zn={now:()=>(Nf===void 0&&zn.set(vn.isProcessing||es.useManualTiming?vn.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(G5)}},LA=t=>e=>typeof e=="string"&&e.startsWith(t),k0=LA("--"),$5=LA("var(--"),L0=t=>$5(t)?K5.test(t.split("/*")[0].trim()):!1,K5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},du={...Ol,transform:t=>Ji(0,1,t)},mf={...Ol,default:1},Xc=t=>Math.round(t*1e5)/1e5,U0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y5(t){return t==null}const Q5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j0=(t,e)=>n=>!!(typeof n=="string"&&Q5.test(n)&&n.startsWith(t)||e&&!Y5(n)&&Object.prototype.hasOwnProperty.call(n,e)),UA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(U0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},X5=t=>Ji(0,255,t),ag={...Ol,transform:t=>Math.round(X5(t))},qa={test:j0("rgb","red"),parse:UA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Xc(du.transform(i))+")"};function W5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Xg={test:j0("#"),parse:W5,transform:qa.transform},Vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=Vu("deg"),ai=Vu("%"),Le=Vu("px"),Z5=Vu("vh"),J5=Vu("vw"),yw={...ai,parse:t=>ai.parse(t)/100,transform:t=>ai.transform(t*100)},rl={test:j0("hsl","hue"),parse:UA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ai.transform(Xc(e))+", "+ai.transform(Xc(n))+", "+Xc(du.transform(i))+")"},Yt={test:t=>qa.test(t)||Xg.test(t)||rl.test(t),parse:t=>qa.test(t)?qa.parse(t):rl.test(t)?rl.parse(t):Xg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):rl.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},e6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t6(t){return isNaN(t)&&typeof t=="string"&&(t.match(U0)?.length||0)+(t.match(e6)?.length||0)>0}const jA="number",BA="color",n6="var",r6="var(",vw="${}",i6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(i6,m=>(Yt.test(m)?(i.color.push(l),a.push(BA),n.push(Yt.parse(m))):m.startsWith(r6)?(i.var.push(l),a.push(n6),n.push(m)):(i.number.push(l),a.push(jA),n.push(parseFloat(m))),++l,vw)).split(vw);return{values:n,split:f,indexes:i,types:a}}function FA(t){return mu(t).values}function zA(t){const{split:e,types:n}=mu(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===jA?l+=Xc(a[u]):f===BA?l+=Yt.transform(a[u]):l+=a[u]}return l}}const s6=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function a6(t){const e=FA(t);return zA(t)(e.map(s6))}const na={test:t6,parse:FA,createTransformer:zA,getAnimatableNone:a6};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=og(m,f,t+1/3),l=og(m,f,t),u=og(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function rd(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},l6=[Xg,qa,rl],c6=t=>l6.find(e=>e.test(t));function Ew(t){const e=c6(t);if(!e)return!1;let n=e.parse(t);return e===rl&&(n=o6(n)),n}const _w=(t,e)=>{const n=Ew(t),i=Ew(e);if(!n||!i)return rd(t,e);const a={...n};return l=>(a.red=lg(n.red,i.red,l),a.green=lg(n.green,i.green,l),a.blue=lg(n.blue,i.blue,l),a.alpha=Nt(n.alpha,i.alpha,l),qa.transform(a))},Wg=new Set(["none","hidden"]);function u6(t,e){return Wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h6(t,e){return n=>Nt(t,e,n)}function B0(t){return typeof t=="number"?h6:typeof t=="string"?L0(t)?rd:Yt.test(t)?_w:m6:Array.isArray(t)?qA:typeof t=="object"?Yt.test(t)?_w:f6:rd}function qA(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>B0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function f6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=B0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function d6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const m6=(t,e)=>{const n=na.createTransformer(e),i=mu(t),a=mu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Wg.has(t)&&!a.values.length||Wg.has(e)&&!i.values.length?u6(t,e):Pu(qA(d6(i,a),a.values),n):rd(t,e)};function HA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):B0(t)(t,e)}const p6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>ta(e),now:()=>vn.isProcessing?vn.timestamp:zn.now()}},GA=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},id=2e4;function F0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<id;)e+=n,i=t.next(e);return e>=id?1/0:e}function g6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(F0(i),id);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:gr(a)}}const y6=5;function $A(t,e,n){const i=Math.max(e-y6,0);return SA(n-t(i),e-i)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cg=.001;function v6({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:i=Vt.mass}){let a,l,u=1-e;u=Ji(Vt.minDamping,Vt.maxDamping,u),t=Ji(Vt.minDuration,Vt.maxDuration,gr(t)),u<1?(a=p=>{const v=p*u,_=v*t,b=v-n,A=Zg(p,u),C=Math.exp(-_);return cg-b/A*C},l=p=>{const _=p*u*t,b=_*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-_),P=Zg(Math.pow(p,2),u);return(-a(p)+cg>0?-1:1)*((b-A)*C)/P}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-cg+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=_6(a,l,f);if(t=si(t),isNaN(m))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const E6=12;function _6(t,e,n){let i=n;for(let a=1;a<E6;a++)i=i-t(i)/e(i);return i}function Zg(t,e){return t*Math.sqrt(1-e*e)}const b6=["duration","bounce"],T6=["stiffness","damping","mass"];function bw(t,e){return e.some(n=>t[n]!==void 0)}function w6(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!bw(t,T6)&&bw(t,b6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Ji(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Vt.mass,stiffness:a,damping:l}}else{const n=v6(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function sd(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:b,isResolvedFromDuration:A}=w6({...n,velocity:-gr(n.velocity||0)}),C=b||0,P=p/(2*Math.sqrt(m*v)),I=u-l,B=gr(Math.sqrt(m/v)),U=Math.abs(I)<5;i||(i=U?Vt.restSpeed.granular:Vt.restSpeed.default),a||(a=U?Vt.restDelta.granular:Vt.restDelta.default);let q;if(P<1){const H=Zg(B,P);q=J=>{const V=Math.exp(-P*B*J);return u-V*((C+P*B*I)/H*Math.sin(H*J)+I*Math.cos(H*J))}}else if(P===1)q=H=>u-Math.exp(-B*H)*(I+(C+B*I)*H);else{const H=B*Math.sqrt(P*P-1);q=J=>{const V=Math.exp(-P*B*J),x=Math.min(H*J,300);return u-V*((C+P*B*I)*Math.sinh(x)+H*I*Math.cosh(x))/H}}const ie={calculatedDuration:A&&_||null,next:H=>{const J=q(H);if(A)f.done=H>=_;else{let V=H===0?C:0;P<1&&(V=H===0?si(C):$A(q,H,J));const x=Math.abs(V)<=i,N=Math.abs(u-J)<=a;f.done=x&&N}return f.value=f.done?u:J,f},toString:()=>{const H=Math.min(F0(ie),id),J=GA(V=>ie.next(H*V).value,H,30);return H+"ms "+J},toTransition:()=>{}};return ie}sd.applyToOptions=t=>{const e=g6(t,100,sd);return t.ease=e.ease,t.duration=si(e.duration),t.type="keyframes",t};function Jg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],b={done:!1,value:_},A=x=>f!==void 0&&x<f||m!==void 0&&x>m,C=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let P=n*e;const I=_+P,B=u===void 0?I:u(I);B!==I&&(P=B-_);const U=x=>-P*Math.exp(-x/i),q=x=>B+U(x),ie=x=>{const N=U(x),M=q(x);b.done=Math.abs(N)<=p,b.value=b.done?B:M};let H,J;const V=x=>{A(b.value)&&(H=x,J=sd({keyframes:[b.value,C(b.value)],velocity:$A(q,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return V(0),{calculatedDuration:null,next:x=>{let N=!1;return!J&&H===void 0&&(N=!0,ie(x),V(x)),H!==void 0&&x>=H?J.next(x-H):(!N&&ie(x),b)}}}function x6(t,e,n){const i=[],a=n||es.mix||HA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||yr:e;f=Pu(m,f)}i.push(f)}return i}function S6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(O0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=x6(e,i,a),m=f.length,p=v=>{if(u&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const b=fu(t[_],t[_+1],v);return f[_](b)};return n?v=>p(Ji(t[0],t[l-1],v)):p}function A6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=fu(0,e,i);t.push(Nt(n,1,a))}}function R6(t){const e=[0];return A6(e,t.length-1),e}function N6(t,e){return t.map(n=>n*e)}function C6(t,e){return t.map(()=>e||MA).splice(0,t.length-1)}function Wc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=B5(i)?i.map(gw):gw(i),l={done:!1,value:e[0]},u=N6(n&&n.length===e.length?n:R6(e),t),f=S6(u,e,{ease:Array.isArray(a)?a:C6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const I6=t=>t!==null;function z0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(I6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const O6={decay:Jg,inertia:Jg,tween:Wc,keyframes:Wc,spring:sd};function KA(t){typeof t.type=="string"&&(t.type=O6[t.type])}class q0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D6=t=>t/100;class H0 extends q0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KA(e);const{type:n=Wc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Wc;m!==Wc&&typeof f[0]!="number"&&(this.mixKeyframes=Pu(D6,HA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=F0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:b,repeatDelay:A,type:C,onUpdate:P,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ie=i;if(_){const x=Math.min(this.currentTime,a)/f;let N=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(b==="reverse"?(M=1-M,A&&(M-=A/f)):b==="mirror"&&(ie=u)),q=Ji(0,1,M)*f}const H=U?{done:!1,value:v[0]}:ie.next(q);l&&(H.value=l(H.value));let{done:J}=H;!U&&m!==null&&(J=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return V&&C!==Jg&&(H.value=z0(v,this.options,I,this.speed)),P&&P(H.value),V&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(this.currentTime)}set time(e){e=si(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=p6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function P6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ha=t=>t*180/Math.PI,ey=t=>{const e=Ha(Math.atan2(t[1],t[0]));return ty(e)},M6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ey,rotateZ:ey,skewX:t=>Ha(Math.atan(t[1])),skewY:t=>Ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ty=t=>(t=t%360,t<0&&(t+=360),t),Tw=ey,ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ww,scaleY:xw,scale:t=>(ww(t)+xw(t))/2,rotateX:t=>ty(Ha(Math.atan2(t[6],t[5]))),rotateY:t=>ty(Ha(Math.atan2(-t[2],t[0]))),rotateZ:Tw,rotate:Tw,skewX:t=>Ha(Math.atan(t[4])),skewY:t=>Ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ny(t){return t.includes("scale")?1:0}function ry(t,e){if(!t||t==="none")return ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=V6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=M6,a=f}if(!a)return ny(e);const l=i[e],u=a[1].split(",").map(L6);return typeof l=="function"?l(u):u[l]}const k6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ry(n,e)};function L6(t){return parseFloat(t.trim())}const Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(Dl),Sw=t=>t===Ol||t===Le,U6=new Set(["x","y","z"]),j6=Dl.filter(t=>!U6.has(t));function B6(t){const e=[];return j6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ry(e,"x"),y:(t,{transform:e})=>ry(e,"y")};Ka.translateX=Ka.x;Ka.translateY=Ka.y;const Ya=new Set;let iy=!1,sy=!1,ay=!1;function YA(){if(sy){const t=Array.from(Ya).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=B6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sy=!1,iy=!1,Ya.forEach(t=>t.complete(ay)),Ya.clear()}function QA(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function F6(){ay=!0,QA(),YA(),ay=!1}class G0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ya.add(this),iy||(iy=!0,St.read(QA),St.resolveKeyframes(YA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}P6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ya.delete(this)}cancel(){this.state==="scheduled"&&(Ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const z6=t=>t.startsWith("--");function q6(t,e,n){z6(e)?t.style.setProperty(e,n):t.style[e]=n}const H6=D0(()=>window.ScrollTimeline!==void 0),G6={};function $6(t,e){const n=D0(t);return()=>G6[e]??n()}const XA=$6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function WA(t,e){if(t)return typeof t=="function"?XA()?GA(t,e):"ease-out":VA(t)?Hc(t):Array.isArray(t)?t.map(n=>WA(n,e)||Aw.easeOut):Aw[t]}function K6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=WA(f,a);Array.isArray(_)&&(v.easing=_);const b={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(v,b)}function ZA(t){return typeof t=="function"&&"applyToOptions"in t}function Y6({type:t,...e}){return ZA(t)&&XA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends q0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,O0(typeof e.type!="string");const p=Y6(e);this.animation=K6(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=z0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):q6(n,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=si(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&H6()?(this.animation.timeline=e,yr):n(this)}}const JA={anticipate:OA,backInOut:IA,circInOut:PA};function X6(t){return t in JA}function W6(t){typeof t.ease=="string"&&X6(t.ease)&&(t.ease=JA[t.ease])}const Rw=10;class Z6 extends Q6{constructor(e){W6(e),KA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new H0({...u,autoplay:!1}),m=si(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Rw).value,f.sample(m).value,Rw),f.stop()}}const Nw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function J6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eL(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Nw(a,e),f=Nw(l,e);return!u||!f?!1:J6(t)||(n==="spring"||ZA(n))&&i}function oy(t){t.duration=0,t.type="keyframes"}const tL=new Set(["opacity","clipPath","filter","transform"]),nL=D0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return nL()&&n&&tL.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const iL=40;class sL extends q0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:v,..._},A=v?.KeyframeResolver||G0;this.keyframeResolver=new A(f,(C,P,I)=>this.onKeyframesResolved(C,P,b,!I),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=zn.now(),eL(e,l,u,f)||((es.instantAnimations||!m)&&v?.(z0(e,i,n)),e[0]=e[e.length-1],oy(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>iL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&rL(b)?new Z6({...b,element:b.motionValue.owner.current}):new H0(b);A.finished.then(()=>this.notifyFinished()).catch(yr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),F6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oL(t){const e=aL.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function eR(t,e,n=1){const[i,a]=oL(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return TA(u)?parseFloat(u):u}return L0(a)?eR(a,e,n+1):a}function $0(t,e){return t?.[e]??t?.default??t}const tR=new Set(["width","height","top","left","right","bottom",...Dl]),lL={test:t=>t==="auto",parse:t=>t},nR=t=>e=>e.test(t),rR=[Ol,Le,ai,Ps,J5,Z5,lL],Cw=t=>rR.find(nR(t));function cL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xA(t):!0}const uL=new Set(["brightness","contrast","saturate","opacity"]);function hL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(U0)||[];if(!i)return t;const a=n.replace(i,"");let l=uL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const fL=/\b([a-z-]*)\(.*?\)/gu,ly={...na,getAnimatableNone:t=>{const e=t.match(fL);return e?e.map(hL).join(" "):t}},Iw={...Ol,transform:Math.round},dL={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:Ps,skewX:Ps,skewY:Ps,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:du,originX:yw,originY:yw,originZ:Le},K0={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...dL,zIndex:Iw,fillOpacity:du,strokeOpacity:du,numOctaves:Iw},mL={...K0,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:ly,WebkitFilter:ly},iR=t=>mL[t];function sR(t,e){let n=iR(t);return n!==ly&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pL=new Set(["auto","none","0"]);function gL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!pL.has(l)&&mu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=sR(n,a)}class yL extends G0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),L0(p))){const v=eR(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!tR.has(i)||e.length!==2)return;const[a,l]=e,u=Cw(a),f=Cw(l);if(u!==f)if(Sw(u)&&Sw(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ka[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||cL(e[a]))&&i.push(a);i.length&&gL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ka[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function vL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const aR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function EL(t){return wA(t)&&"offsetHeight"in t}const Ow=30,_L=t=>!isNaN(parseFloat(t));class bL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_L(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new P0);const i=this.events[e].add(n);return e==="change"?()=>{i(),St.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ow)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ow);return SA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new bL(t,e)}const{schedule:Y0}=kA(queueMicrotask,!1),Ar={x:!1,y:!1};function oR(){return Ar.x||Ar.y}function TL(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function lR(t,e){const n=vL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Dw(t){return!(t.pointerType==="touch"||oR())}function wL(t,e,n={}){const[i,a,l]=lR(t,n),u=f=>{if(!Dw(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{Dw(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const cR=(t,e)=>e?t===e?!0:cR(t,e.parentElement):!1,Q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(t){return xL.has(t.tagName)||t.tabIndex!==-1}const Cf=new WeakSet;function Pw(t){return e=>{e.key==="Enter"&&t(e)}}function ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Pw(()=>{if(Cf.has(n))return;ug(n,"down");const a=Pw(()=>{ug(n,"up")}),l=()=>ug(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Mw(t){return Q0(t)&&!oR()}function RL(t,e,n={}){const[i,a,l]=lR(t,n),u=f=>{const m=f.currentTarget;if(!Mw(f))return;Cf.add(m);const p=e(m,f),v=(A,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Cf.has(m)&&Cf.delete(m),Mw(A)&&typeof p=="function"&&p(A,{success:C})},_=A=>{v(A,m===window||m===document||n.useGlobalTarget||cR(m,A.target))},b=A=>{v(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),EL(f)&&(f.addEventListener("focus",p=>AL(p,a)),!SL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function uR(t){return wA(t)&&"ownerSVGElement"in t}function NL(t){return uR(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),CL=[...rR,Yt,na],IL=t=>CL.find(nR(t)),hR=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OL(t=!0){const e=O.useContext(N0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const fR=O.createContext({strict:!1}),Vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in Vw)wl[t]={isEnabled:e=>Vw[t].some(n=>!!e[n])};function DL(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const PL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PL.has(t)}let dR=t=>!ad(t);function ML(t){typeof t=="function"&&(dR=e=>e.startsWith("on")?!ad(e):t(e))}try{ML(require("@emotion/is-prop-valid").default)}catch{}function VL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(dR(a)||n===!0&&ad(a)||!e&&!ad(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Vd=O.createContext({});function kd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pu(t){return typeof t=="string"||Array.isArray(t)}const X0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W0=["initial",...X0];function Ld(t){return kd(t.animate)||W0.some(e=>pu(t[e]))}function mR(t){return!!(Ld(t)||t.variants)}function kL(t,e){if(Ld(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(i)?i:void 0}}return t.inherit!==!1?e:{}}function LL(t){const{initial:e,animate:n}=kL(t,O.useContext(Vd));return O.useMemo(()=>({initial:e,animate:n}),[kw(e),kw(n)])}function kw(t){return Array.isArray(t)?t.join(" "):t}const gu={};function UL(t){for(const e in t)gu[e]=t[e],k0(e)&&(gu[e].isCSSVariable=!0)}function pR(t,{layout:e,layoutId:n}){return Pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gu[t]||t==="opacity")}const jL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BL=Dl.length;function FL(t,e,n){let i="",a=!0;for(let l=0;l<BL;l++){const u=Dl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=aR(f,K0[u]);if(!m){a=!1;const v=jL[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Z0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Pl.has(m)){u=!0;continue}else if(k0(m)){a[m]=p;continue}else{const v=aR(p,K0[m]);m.startsWith("origin")?(f=!0,l[m]=v):i[m]=v}}if(e.transform||(u||n?i.transform=FL(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}const J0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gR(t,e,n){for(const i in e)!In(e[i])&&!pR(i,n)&&(t[i]=e[i])}function zL({transformTemplate:t},e){return O.useMemo(()=>{const n=J0();return Z0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function qL(t,e){const n=t.style||{},i={};return gR(i,n,t),Object.assign(i,zL(t,e)),i}function HL(t,e){const n={},i=qL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const GL={offset:"stroke-dashoffset",array:"stroke-dasharray"},$L={offset:"strokeDashoffset",array:"strokeDasharray"};function KL(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?GL:$L;t[l.offset]=Le.transform(-i);const u=Le.transform(e),f=Le.transform(n);t[l.array]=`${u} ${f}`}function yR(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,v){if(Z0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&KL(_,a,l,u,!1)}const vR=()=>({...J0(),attrs:{}}),ER=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YL(t,e,n,i){const a=O.useMemo(()=>{const l=vR();return yR(l,e,ER(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};gR(l,t.style,t),a.style={...l,...a.style}}return a}const QL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ev(t){return typeof t!="string"||t.includes("-")?!1:!!(QL.indexOf(t)>-1||/[A-Z]/u.test(t))}function XL(t,e,n,{latestValues:i},a,l=!1){const f=(ev(t)?YL:HL)(e,i,a,t),m=VL(e,typeof t=="string",l),p=t!==O.Fragment?{...m,...f,ref:n}:{},{children:v}=e,_=O.useMemo(()=>In(v)?v.get():v,[v]);return O.createElement(t,{...p,children:_})}function Lw(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function tv(t,e,n,i){if(typeof e=="function"){const[a,l]=Lw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Lw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return In(t)?t.get():t}function WL({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:ZL(n,i,a,t),renderState:e()}}function ZL(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=If(l[b]);let{initial:u,animate:f}=t;const m=Ld(t),p=mR(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?f:u;if(_&&typeof _!="boolean"&&!kd(_)){const b=Array.isArray(_)?_:[_];for(let A=0;A<b.length;A++){const C=tv(t,b[A]);if(C){const{transitionEnd:P,transition:I,...B}=C;for(const U in B){let q=B[U];if(Array.isArray(q)){const ie=v?q.length-1:0;q=q[ie]}q!==null&&(a[U]=q)}for(const U in P)a[U]=P[U]}}}return a}const _R=t=>(e,n)=>{const i=O.useContext(Vd),a=O.useContext(N0),l=()=>WL(t,e,i,a);return n?l():D5(l)};function nv(t,e,n){const{style:i}=t,a={};for(const l in i)(In(i[l])||e.style&&In(e.style[l])||pR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const JL=_R({scrapeMotionValuesFromProps:nv,createRenderState:J0});function bR(t,e,n){const i=nv(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=Dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const e9=_R({scrapeMotionValuesFromProps:bR,createRenderState:vR}),t9=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n9(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):il(n)&&(n.current=i))},[e])}const rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r9="framerAppearId",TR="data-"+rv(r9),wR=O.createContext({});function i9(t,e,n,i,a){const{visualElement:l}=O.useContext(Vd),u=O.useContext(fR),f=O.useContext(N0),m=O.useContext(hR).reducedMotion,p=O.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,_=O.useContext(wR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&s9(p.current,n,a,_);const b=O.useRef(!1);O.useInsertionEffect(()=>{v&&b.current&&v.update(n,f)});const A=n[TR],C=O.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return P5(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),O.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),C.current=!1),v.enteringChildren=void 0)}),v}function s9(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&il(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function xR(t){if(t)return t.options.allowProjection!==!1?t.projection:xR(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,i){n&&DL(n);const a=ev(t)?e9:JL;function l(f,m){let p;const v={...O.useContext(hR),...f,layoutId:a9(f)},{isStatic:_}=v,b=LL(f),A=a(f,_);if(!_&&R0){o9();const C=l9(v);p=C.MeasureLayout,b.visualElement=i9(t,A,v,i,C.ProjectionNode)}return Qg.jsxs(Vd.Provider,{value:b,children:[p&&b.visualElement?Qg.jsx(p,{visualElement:b.visualElement,...v}):null,XL(t,f,n9(A,b.visualElement,m),A,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[t9]=t,u}function a9({layoutId:t}){const e=O.useContext(bA).id;return e&&t!==void 0?e+"-"+t:t}function o9(t,e){O.useContext(fR).strict}function l9(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function c9(t,e){if(typeof Proxy>"u")return hg;const n=new Map,i=(l,u)=>hg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,hg(u,void 0,t,e)),n.get(u))})}function SR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function u9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function fg(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Fa(t){return cy(t)||AR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AR(t){return Uw(t.x)||Uw(t.y)}function Uw(t){return t&&t!=="0%"}function od(t,e,n){const i=t-n,a=e*i;return n+a}function jw(t,e,n,i,a){return a!==void 0&&(t=od(t,a,i)),od(t,n,i)+e}function uy(t,e=0,n=1,i,a){t.min=jw(t.min,e,n,i,a),t.max=jw(t.max,e,n,i,a)}function RR(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const Bw=.999999999999,Fw=1.0000000000001;function f9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,RR(t,u)),i&&Fa(l.latestValues)&&al(t,l.latestValues))}e.x<Fw&&e.x>Bw&&(e.x=1),e.y<Fw&&e.y>Bw&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function zw(t,e,n,i,a=.5){const l=Nt(t.min,t.max,a);uy(t,e,n,l,i)}function al(t,e){zw(t.x,e.x,e.scaleX,e.scale,e.originX),zw(t.y,e.y,e.scaleY,e.scale,e.originY)}function NR(t,e){return SR(h9(t.getBoundingClientRect(),e))}function d9(t,e,n){const i=NR(t,n),{scroll:a}=e;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:qw(),y:qw()}),Hw=()=>({min:0,max:0}),jt=()=>({x:Hw(),y:Hw()}),hy={current:null},CR={current:!1};function m9(){if(CR.current=!0,!!R0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=t.matches;t.addEventListener("change",e),e()}else hy.current=!1}const p9=new WeakMap;function g9(t,e,n){for(const i in e){const a=e[i],l=n[i];if(In(a))t.addValue(i,a);else if(In(l))t.addValue(i,Tl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Tl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y9{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=zn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,St.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ld(n),this.isVariantNode=mR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const A=_[b];m[b]!==void 0&&In(A)&&A.set(m[b])}}mount(e){this.current=e,p9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),CR.current||m9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Pl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&St.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Gw.length;i++){const a=Gw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(TA(i)||xA(i))?i=parseFloat(i):!IL(i)&&na.test(n)&&(i=sR(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=tv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new P0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Y0.render(this.render)}}class IR extends y9{constructor(){super(...arguments),this.KeyframeResolver=yL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OR(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function v9(t){return window.getComputedStyle(t)}class E9 extends IR{constructor(){super(...arguments),this.type="html",this.renderInstance=OR}readValueFromInstance(e,n){if(Pl.has(n))return this.projection?.isProjecting?ny(n):k6(e,n);{const i=v9(e),a=(k0(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NR(e,n)}build(e,n,i){Z0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return nv(e,n,i)}}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _9(t,e,n,i){OR(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(DR.has(a)?a:rv(a),e.attrs[a])}class b9 extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pl.has(n)){const i=iR(n);return i&&i.default||0}return n=DR.has(n)?n:rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return bR(e,n,i)}build(e,n,i){yR(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){_9(e,n,i,a)}mount(e){this.isSVGTag=ER(e.tagName),super.mount(e)}}const T9=(t,e)=>ev(t)?new b9(e):new E9(e,{allowProjection:t!==O.Fragment});function dl(t,e,n){const i=t.getProps();return tv(i,e,n!==void 0?n:i.custom,t)}const fy=t=>Array.isArray(t);function w9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function x9(t){return fy(t)?t[t.length-1]||0:t}function S9(t,e){const n=dl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=x9(l[u]);w9(t,u,f)}}function A9(t){return!!(In(t)&&t.add)}function dy(t,e){const n=t.getValue("willChange");if(A9(n))return n.add(e);if(!n&&es.WillChange){const i=new es.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function PR(t){return t.props[TR]}const R9=t=>t!==null;function N9(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(R9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const C9={type:"spring",stiffness:500,damping:25,restSpeed:10},I9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O9={type:"keyframes",duration:.8},D9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P9=(t,{keyframes:e})=>e.length>2?O9:Pl.has(t)?t.startsWith("scale")?I9(e[1]):C9:D9;function M9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const iv=(t,e,n,i={},a,l)=>u=>{const f=$0(i,t)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-si(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};M9(f)||Object.assign(v,P9(t,v)),v.duration&&(v.duration=si(v.duration)),v.repeatDelay&&(v.repeatDelay=si(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(oy(v),v.delay===0&&(_=!0)),(es.instantAnimations||es.skipAnimations)&&(_=!0,oy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=N9(v.keyframes,f);if(b!==void 0){St.update(()=>{v.onUpdate(b),v.onComplete()});return}}return f.isSync?new H0(v):new sL(v)};function V9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function MR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),b=f[v];if(b===void 0||p&&V9(p,v))continue;const A={delay:n,...$0(l||{},v)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!A.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const B=PR(t);if(B){const U=window.MotionHandoffAnimation(B,v,St);U!==null&&(A.startTime=U,P=!0)}}dy(t,v),_.start(iv(v,_,b,t.shouldReduceMotion&&tR.has(v)?{type:!1}:A,t,P));const I=_.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{St.update(()=>{u&&S9(t,u)})}),m}function VR(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function my(t,e,n={}){const i=dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(MR(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:_}=a;return k9(t,e,m,p,v,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function k9(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(my(m,e,{...u,delay:n+(typeof i=="function"?0:i)+VR(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function L9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>my(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=my(t,e,n);else{const a=typeof e=="function"?dl(t,e,n.custom):e;i=Promise.all(MR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function kR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const U9=W0.length;function LR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U9;n++){const i=W0[n],a=t.props[i];(pu(a)||a===!1)&&(e[i]=a)}return e}const j9=[...X0].reverse(),B9=X0.length;function F9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>L9(t,n,i)))}function z9(t){let e=F9(t),n=$w(),i=!0;const a=m=>(p,v)=>{const _=dl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:A,...C}=_;p={...p,...C,...A}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,v=LR(t.parent)||{},_=[],b=new Set;let A={},C=1/0;for(let I=0;I<B9;I++){const B=j9[I],U=n[B],q=p[B]!==void 0?p[B]:v[B],ie=pu(q),H=B===m?U.isActive:null;H===!1&&(C=I);let J=q===v[B]&&q!==p[B]&&ie;if(J&&i&&t.manuallyAnimateOnMount&&(J=!1),U.protectedKeys={...A},!U.isActive&&H===null||!q&&!U.prevProp||kd(q)||typeof q=="boolean")continue;const V=q9(U.prevProp,q);let x=V||B===m&&U.isActive&&!J&&ie||I>C&&ie,N=!1;const M=Array.isArray(q)?q:[q];let j=M.reduce(a(B),{});H===!1&&(j={});const{prevResolvedValues:z={}}=U,k={...z,...j},qe=ne=>{x=!0,b.has(ne)&&(N=!0,b.delete(ne)),U.needsAnimating[ne]=!0;const ye=t.getValue(ne);ye&&(ye.liveStyle=!1)};for(const ne in k){const ye=j[ne],Ae=z[ne];if(A.hasOwnProperty(ne))continue;let D=!1;fy(ye)&&fy(Ae)?D=!kR(ye,Ae):D=ye!==Ae,D?ye!=null?qe(ne):b.add(ne):ye!==void 0&&b.has(ne)?qe(ne):U.protectedKeys[ne]=!0}U.prevProp=q,U.prevResolvedValues=j,U.isActive&&(A={...A,...j}),i&&t.blockInitialAnimation&&(x=!1);const de=J&&V;x&&(!de||N)&&_.push(...M.map(ne=>{const ye={type:B};if(typeof ne=="string"&&i&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,D=dl(Ae,ne);if(Ae.enteringChildren&&D){const{delayChildren:re}=D.transition||{};ye.delay=VR(Ae.enteringChildren,t,re)}}return{animation:ne,options:ye}}))}if(b.size){const I={};if(typeof p.initial!="boolean"){const B=dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(I.transition=B.transition)}b.forEach(B=>{const U=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),I[B]=U??null}),_.push({animation:I})}let P=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const v=u(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=$w(),i=!0}}}function q9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kR(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $w(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H9 extends aa{constructor(e){super(e),e.animationState||(e.animationState=z9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G9=0;class $9 extends aa{constructor(){super(...arguments),this.id=G9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K9={animation:{Feature:H9},exit:{Feature:$9}};function yu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const Y9=t=>e=>Q0(e)&&t(e,ku(e));function Zc(t,e,n,i){return yu(t,e,Y9(n),i)}const UR=1e-4,Q9=1-UR,X9=1+UR,jR=.01,W9=0-jR,Z9=0+jR;function kn(t){return t.max-t.min}function J9(t,e,n){return Math.abs(t-e)<=n}function Kw(t,e,n,i=.5){t.origin=i,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Q9&&t.scale<=X9||isNaN(t.scale))&&(t.scale=1),(t.translate>=W9&&t.translate<=Z9||isNaN(t.translate))&&(t.translate=0)}function Jc(t,e,n,i){Kw(t.x,e.x,n.x,i?i.originX:void 0),Kw(t.y,e.y,n.y,i?i.originY:void 0)}function Yw(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function eU(t,e,n){Yw(t.x,e.x,n.x),Yw(t.y,e.y,n.y)}function Qw(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function eu(t,e,n){Qw(t.x,e.x,n.x),Qw(t.y,e.y,n.y)}function dr(t){return[t("x"),t("y")]}const BR=({current:t})=>t?t.ownerDocument.defaultView:null,Xw=(t,e)=>Math.abs(t-e);function tU(t,e){const n=Xw(t.x,e.x),i=Xw(t.y,e.y);return Math.sqrt(n**2+i**2)}class FR{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,C=tU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!C)return;const{point:P}=b,{timestamp:I}=vn;this.history.push({...P,timestamp:I});const{onStart:B,onMove:U}=this.handlers;A||(B&&B(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,A)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=dg(A,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(b,A)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=mg(b.type==="pointercancel"?this.lastMoveEventInfo:dg(A,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,B),P&&P(b,B)},!Q0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=ku(e),m=dg(f,this.transformPagePoint),{point:p}=m,{timestamp:v}=vn;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,mg(m,this.history)),this.removeListeners=Pu(Zc(this.contextWindow,"pointermove",this.handlePointerMove),Zc(this.contextWindow,"pointerup",this.handlePointerUp),Zc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Ww(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:Ww(t,zR(e)),offset:Ww(t,nU(e)),velocity:rU(e,.1)}}function nU(t){return t[0]}function zR(t){return t[t.length-1]}function rU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=zR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>si(e)));)n--;if(!i)return{x:0,y:0};const l=gr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function iU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Nt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Nt(n,t,i.max):Math.min(t,n)),t}function Zw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sU(t,{top:e,left:n,bottom:i,right:a}){return{x:Zw(t.x,n,a),y:Zw(t.y,e,i)}}function Jw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function aU(t,e){return{x:Jw(t.x,e.x),y:Jw(t.y,e.y)}}function oU(t,e){let n=.5;const i=kn(t),a=kn(e);return a>i?n=fu(e.min,e.max-i,t.min):i>a&&(n=fu(t.min,t.max-a,e.min)),Ji(0,1,n)}function lU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function cU(t=py){return t===!1?t=0:t===!0&&(t=py),{x:e1(t,"left","right"),y:e1(t,"top","bottom")}}function e1(t,e,n){return{min:t1(t,e),max:t1(t,n)}}function t1(t,e){return typeof t=="number"?t:t[e]||0}const uU=new WeakMap;class hU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(_).point)},u=(_,b)=>{const{drag:A,dragPropagation:C,onDragStart:P}=this.getProps();if(A&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TL(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(B=>{let U=this.getAxisMotionValue(B).get()||0;if(ai.test(U)){const{projection:q}=this.visualElement;if(q&&q.layout){const ie=q.layout.layoutBox[B];ie&&(U=kn(ie)*(parseFloat(U)/100))}}this.originPoint[B]=U}),P&&St.postRender(()=>P(_,b)),dy(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:A,dragDirectionLock:C,onDirectionLock:P,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=b;if(C&&this.currentDirection===null){this.currentDirection=fU(B),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,B),this.updateAxis("y",b.point,B),this.visualElement.render(),I&&I(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>dr(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new FR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:BR(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&St.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!pf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=iU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=sU(i.layoutBox,e):this.constraints=!1,this.elastic=cU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d9(i,a.root,this.visualElement.getTransformPagePoint());let u=aU(a.layout.layoutBox,l);if(n){const f=n(u9(u));this.hasMutatedConstraints=!!f,f&&(u=SR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=dr(v=>{if(!pf(v,n,this.currentDirection))return;let _=m&&m[v]||{};u&&(_={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:i?e[v]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return dy(this.visualElement,e),i.start(iv(e,i,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:i}=this.getProps();if(!pf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Nt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!il(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};dr(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=oU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dr(u=>{if(!pf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Nt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;uU.set(this.visualElement,this);const e=this.visualElement.current,n=Zc(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();il(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),St.read(i);const u=yu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(dr(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=py,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dU extends aa{constructor(e){super(e),this.removeGroupControls=yr,this.removeListeners=yr,this.controls=new hU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const n1=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class mU extends aa{constructor(){super(...arguments),this.removePointerDownListener=yr}onPointerDown(e){this.session=new FR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:n1(e),onStart:n1(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&St.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Zc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=r1(t,e.target.x),i=r1(t,e.target.y);return`${n}% ${i}%`}},pU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=na.parse(t);if(a.length>5)return i;const l=na.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Nt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let pg=!1;class gU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;UL(yU),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),pg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,pg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||St.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;pg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qR(t){const[e,n]=OL(),i=O.useContext(bA);return Qg.jsx(gU,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(wR),isPresent:e,safeToRemove:n})}const yU={borderRadius:{...Lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lc,borderTopRightRadius:Lc,borderBottomLeftRadius:Lc,borderBottomRightRadius:Lc,boxShadow:pU};function vU(t,e,n){const i=In(t)?t:Tl(t);return i.start(iv("",i,e,n)),i.animation}const EU=(t,e)=>t.depth-e.depth;class _U{constructor(){this.children=[],this.isDirty=!1}add(e){C0(this.children,e),this.isDirty=!0}remove(e){I0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(e)}}function bU(t,e){const n=zn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ta(i),t(l-e))};return St.setup(i,!0),()=>ta(i)}const HR=["TopLeft","TopRight","BottomLeft","BottomRight"],TU=HR.length,i1=t=>typeof t=="string"?parseFloat(t):t,s1=t=>typeof t=="number"||Le.test(t);function wU(t,e,n,i,a,l){a?(t.opacity=Nt(0,n.opacity??1,xU(i)),t.opacityExit=Nt(e.opacity??1,0,SU(i))):l&&(t.opacity=Nt(e.opacity??1,n.opacity??1,i));for(let u=0;u<TU;u++){const f=`border${HR[u]}Radius`;let m=a1(e,f),p=a1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||s1(m)===s1(p)?(t[f]=Math.max(Nt(i1(m),i1(p),i),0),(ai.test(p)||ai.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,i))}function a1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xU=GR(0,.5,DA),SU=GR(.5,.95,yr);function GR(t,e,n){return i=>i<t?0:i>e?1:n(fu(t,e,i))}function o1(t,e){t.min=e.min,t.max=e.max}function fr(t,e){o1(t.x,e.x),o1(t.y,e.y)}function l1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c1(t,e,n,i,a){return t-=e,t=od(t,1/n,i),a!==void 0&&(t=od(t,1/a,i)),t}function AU(t,e=0,n=1,i=.5,a,l=t,u=t){if(ai.test(e)&&(e=parseFloat(e),e=Nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Nt(l.min,l.max,i);t===l&&(f-=e),t.min=c1(t.min,e,n,f,a),t.max=c1(t.max,e,n,f,a)}function u1(t,e,[n,i,a],l,u){AU(t,e[n],e[i],e[a],e.scale,l,u)}const RU=["x","scaleX","originX"],NU=["y","scaleY","originY"];function h1(t,e,n,i){u1(t.x,e,RU,n?n.x:void 0,i?i.x:void 0),u1(t.y,e,NU,n?n.y:void 0,i?i.y:void 0)}function f1(t){return t.translate===0&&t.scale===1}function $R(t){return f1(t.x)&&f1(t.y)}function d1(t,e){return t.min===e.min&&t.max===e.max}function CU(t,e){return d1(t.x,e.x)&&d1(t.y,e.y)}function m1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KR(t,e){return m1(t.x,e.x)&&m1(t.y,e.y)}function p1(t){return kn(t.x)/kn(t.y)}function g1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IU{constructor(){this.members=[]}add(e){C0(this.members,e),e.scheduleRender()}remove(e){if(I0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OU(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:b,skewX:A,skewY:C}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),_&&(i+=`rotateX(${_}deg) `),b&&(i+=`rotateY(${b}deg) `),A&&(i+=`skewX(${A}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const gg=["","X","Y","Z"],DU=1e3;let PU=0;function yg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function YR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=PR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&YR(i)}function QR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=PU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kU),this.nodes.forEach(BU),this.nodes.forEach(FU),this.nodes.forEach(LU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new _U)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new P0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uR(u)&&!NL(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const b=()=>this.root.updateBlockedByResize=!1;St.read(()=>{_=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,v&&v(),v=bU(b,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(E1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||$U,{onLayoutAnimationStart:P,onLayoutAnimationComplete:I}=p.getProps(),B=!this.targetLayout||!KR(this.targetLayout,A),U=!_&&b;if(this.options.layoutRoot||this.resumeFrom||U||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...$0(C,"layout"),onPlay:P,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,U)}else _||E1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jU),this.nodes.forEach(MU),this.nodes.forEach(VU)):this.nodes.forEach(v1),this.clearAllSnapshots();const f=zn.now();vn.delta=Ji(0,1e3/60,f-vn.timestamp),vn.timestamp=f,vn.isProcessing=!0,sg.update.process(vn),sg.preRender.process(vn),sg.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UU),this.sharedNodes.forEach(qU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!$R(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Fa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),KU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return jt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(YU))){const{scroll:p}=this.root;p&&(sl(f.x,p.offset.x),sl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=jt();if(fr(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:_}=p;p!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&fr(f,u),sl(f.x,v.offset.x),sl(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const m=jt();fr(m,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&al(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Fa(v.latestValues)&&al(m,v.latestValues)}return Fa(this.latestValues)&&al(m,this.latestValues),m}removeTransform(u){const f=jt();fr(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Fa(p.latestValues))continue;cy(p.latestValues)&&p.updateSnapshot();const v=jt(),_=p.measurePageBox();fr(v,_),h1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Fa(this.latestValues)&&h1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),eu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),RR(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),eu(this.relativeTargetOrigin,this.target,b.target),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||AR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;fr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;f9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=jt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l1(this.prevProjectionDelta.x,this.projectionDelta.x),l1(this.prevProjectionDelta.y,this.projectionDelta.y)),Jc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!g1(this.projectionDelta.x,this.prevProjectionDelta.x)||!g1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=jt(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,P=A!==C,I=this.getStack(),B=!I||I.members.length<=1,U=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(GU));this.animationProgress=0;let q;this.mixTargetDelta=ie=>{const H=ie/1e3;_1(_.x,u.x,H),_1(_.y,u.y,H),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HU(this.relativeTarget,this.relativeTargetOrigin,b,H),q&&CU(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=jt()),fr(q,this.relativeTarget)),P&&(this.animationValues=v,wU(v,p,this.latestValues,H,U,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=vU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&XR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||jt();const _=kn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const b=kn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}fr(f,m),al(f,v),Jc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new IU),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&yg("z",u,p,this.animationValues);for(let v=0;v<gg.length;v++)yg(`rotate${gg[v]}`,u,p,this.animationValues),yg(`skew${gg[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=If(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=If(f?.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=OU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),u.transform=_;const{x:b,y:A}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in gu){if(v[C]===void 0)continue;const{correct:P,applyTo:I,isCSSVariable:B}=gu[C],U=_==="none"?v[C]:P(v[C],p);if(I){const q=I.length;for(let ie=0;ie<q;ie++)u[I[ie]]=U}else B?this.options.visualElement.renderState.vars[C]=U:u[C]=U}this.options.layoutId&&(u.pointerEvents=p===this?If(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(y1),this.root.sharedNodes.clear()}}}function MU(t){t.updateLayout()}function VU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?dr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=kn(_);_.min=n[v].min,_.max=_.min+b}):XR(a,e.layoutBox,n)&&dr(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=kn(n[v]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=ol();Jc(u,n,e.layoutBox);const f=ol();l?Jc(f,t.applyTransform(i,!0),e.measuredBox):Jc(f,n,e.layoutBox);const m=!$R(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:b}=v;if(_&&b){const A=jt();eu(A,e.layoutBox,_.layoutBox);const C=jt();eu(C,n,b.layoutBox),KR(A,C)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UU(t){t.clearSnapshot()}function y1(t){t.clearMeasurements()}function v1(t){t.isLayoutDirty=!1}function jU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function E1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BU(t){t.resolveTargetDelta()}function FU(t){t.calcProjection()}function zU(t){t.resetSkewAndRotation()}function qU(t){t.removeLeadSnapshot()}function _1(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function b1(t,e,n,i){t.min=Nt(e.min,n.min,i),t.max=Nt(e.max,n.max,i)}function HU(t,e,n,i){b1(t.x,e.x,n.x,i),b1(t.y,e.y,n.y,i)}function GU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $U={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w1=T1("applewebkit/")&&!T1("chrome/")?Math.round:yr;function x1(t){t.min=w1(t.min),t.max=w1(t.max)}function KU(t){x1(t.x),x1(t.y)}function XR(t,e,n){return t==="position"||t==="preserve-aspect"&&!J9(p1(e),p1(n),.2)}function YU(t){return t!==t.root&&t.scroll?.wasRoot}const QU=QR({attachResizeListener:(t,e)=>yu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},WR=QR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new QU({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XU={pan:{Feature:mU},drag:{Feature:dU,ProjectionNode:WR,MeasureLayout:qR}};function S1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&St.postRender(()=>l(e,ku(e)))}class WU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=wL(e,(n,i)=>(S1(this.node,i,"Start"),a=>S1(this.node,a,"End"))))}unmount(){}}class ZU extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pu(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&St.postRender(()=>l(e,ku(e)))}class JU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=RL(e,(n,i)=>(A1(this.node,i,"Start"),(a,{success:l})=>A1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,Eg=new WeakMap,e7=t=>{const e=gy.get(t.target);e&&e(t)},t7=t=>{t.forEach(e7)};function n7({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const i=Eg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(t7,{root:t,...e})),i[a]}function r7(t,e,n){const i=n7(e);return gy.set(t,n),i.observe(t),()=>{gy.delete(t),i.unobserve(t)}}const i7={some:0,all:1};class s7 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:i7[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=p?v:_;b&&b(m)};return r7(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a7(e,n))&&this.startObserver()}unmount(){}}function a7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const o7={inView:{Feature:s7},tap:{Feature:JU},focus:{Feature:ZU},hover:{Feature:WU}},l7={layout:{ProjectionNode:WR,MeasureLayout:qR}},c7={...K9,...o7,...XU,...l7},R1=c9(c7,T9),u7=()=>{const[t,e]=O.useState([]),[n,i]=O.useState(!0),[a,l]=O.useState(null),[u,f]=O.useState(null),[m,p]=O.useState(null),[v,_]=O.useState(!1),[b,A]=O.useState(!1),[C,P]=O.useState(null),[I,B]=O.useState(null),U=O.useRef({}),q=O.useCallback(()=>{try{const de=localStorage.getItem("orders");if(!de)return[];const K=JSON.parse(de);return Array.isArray(K)?K:[]}catch(de){return console.error("Error reading orders from localStorage:",de),[]}},[]),ie=O.useCallback(de=>{try{localStorage.setItem("orders",JSON.stringify(Array.isArray(de)?de:[]))}catch(K){console.error("Error saving orders to localStorage:",K)}},[]),H=O.useCallback(()=>{try{const de=localStorage.getItem("cancellationRequests");if(!de)return[];const K=JSON.parse(de);return Array.isArray(K)?K:[]}catch(de){return console.error("Error reading cancellation requests from localStorage:",de),[]}},[]),J=O.useCallback(de=>{try{localStorage.setItem("cancellationRequests",JSON.stringify(Array.isArray(de)?de:[]))}catch(K){console.error("Error saving cancellation requests to localStorage:",K)}},[]),V=O.useCallback(()=>{i(!0),l(null);try{const de=q();e(de)}catch(de){console.error("Error fetching local orders:",de),l("Failed to load your orders.")}finally{i(!1)}},[q]);O.useEffect(()=>{V()},[V]),O.useEffect(()=>{const de=t.map(ne=>ne.id).filter(Boolean),K=Object.keys(U.current);de.forEach(ne=>{if(U.current[ne])return;const ye=Cn(Zs(ci,"orders"),Ir("id","==",ne)),Ae=lk(ye,D=>{if(!D.empty){const re=D.docs[0].data();e(ge=>ge.map(le=>le.id===ne?{...le,status:re.status??le.status,timestamp:re.timestamp??le.timestamp}:le));try{const le=q().map(_e=>_e.id===ne?{..._e,status:re.status??_e.status,timestamp:re.timestamp??_e.timestamp}:_e);ie(le)}catch(ge){console.error("Failed to persist updated order status to localStorage:",ge)}}},D=>{console.error(`Firestore listener error for order ${ne}:`,D)});U.current[ne]=Ae}),K.forEach(ne=>{if(!de.includes(ne)){try{U.current[ne]?.()}catch{}delete U.current[ne]}})},[t,q,ie]),O.useEffect(()=>()=>{Object.values(U.current).forEach(de=>{try{de?.()}catch{}}),U.current={}},[]);const x=O.useCallback(de=>{try{if(U.current[de]){try{U.current[de]()}catch{}delete U.current[de]}const ne=q().filter(ye=>ye.id!==de);ie(ne),e(ne),f("Order removed successfully!"),A(!1),B(null)}catch(K){console.error("Error removing order:",K),p("Failed to remove order.")}},[q,ie]),N=de=>{B(de),A(!0)},M=async de=>{if(!de){console.error("❌ Order ID is missing, cannot send cancellation"),p("Order ID not found. Please try again.");return}try{await hA(Zs(ci,"cancellations"),{orderId:de,message:`User requested to cancel order #${de}`,timestamp:uk()});const K=H(),ne={orderId:de,message:`User requested to cancel order #${de}`,timestamp:new Date().toISOString()};J([...K,ne]);const Ae=q().map(D=>D.id===de?{...D,cancellationRequested:!0}:D);ie(Ae),e(Ae),f("✅ Your cancel request has been sent to admin."),_(!1),P(null)}catch(K){console.error("Error sending cancel request:",K),p("❌ Failed to send cancel request.")}},j=de=>{P(de),_(!0)},z=de=>(de||[]).reduce((K,ne)=>K+(Number(ne.price)||0)*(Number(ne.qty)||0),0),k=de=>{switch(de){case"Pending":return{bgColor:"bg-yellow-100",textColor:"text-yellow-800",icon:g.createElement(Yg,{className:"w-4 h-4"})};case"In Transit":case"Shipped":return{bgColor:"bg-blue-100",textColor:"text-blue-800",icon:g.createElement(z3,{className:"w-4 h-4"})};case"Delivered":return{bgColor:"bg-green-100",textColor:"text-green-800",icon:g.createElement(nd,{className:"w-4 h-4"})};case"Cancelled":return{bgColor:"bg-red-100",textColor:"text-red-800",icon:g.createElement(Bs,{className:"w-4 h-4"})};default:return{bgColor:"bg-gray-100",textColor:"text-gray-800",icon:g.createElement(M3,{className:"w-4 h-4"})}}},qe=de=>{if(!de)return"N/A";let K;return de?.seconds?K=new Date(de.seconds*1e3):typeof de=="string"?K=new Date(de):K=new Date(de),K.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})};return O.useEffect(()=>{if(u||m){const de=setTimeout(()=>{f(null),p(null)},3e3);return()=>clearTimeout(de)}},[u,m]),n?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex justify-center items-center"},g.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})):a?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},g.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},a),g.createElement("button",{onClick:V,className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Try Again")):t.length===0?g.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},g.createElement(vr,{className:"w-24 h-24 text-gray-300 mb-6"}),g.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Orders"),g.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't placed any orders yet."),g.createElement(Mr,{to:"/",className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Start Shopping")):g.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},(u||m)&&g.createElement("div",{className:"fixed top-4 right-4 z-50"},u&&g.createElement("div",{className:"mb-2 p-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},g.createElement(nd,{className:"w-5 h-5 mr-2"}),u),m&&g.createElement("div",{className:"mb-2 p-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},g.createElement(Yg,{className:"w-5 h-5 mr-2"}),m)),g.createElement("div",{className:"max-w-6xl mx-auto"},g.createElement(R1.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12"},g.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-red-700"},"My Orders"),g.createElement("div",{className:"w-24 h-1 bg-red-600 mx-auto mt-4 rounded-full"})),g.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((de,K)=>{const ne=k(de.status),ye=z(de.items||[]),Ae=de.status!=="Cancelled"&&de.status!=="Delivered"&&!de.cancellationRequested;return g.createElement(R1.div,{key:de.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:K*.08},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},g.createElement("div",{className:"p-5 border-b border-gray-100"},g.createElement("div",{className:"flex justify-between items-start mb-3"},g.createElement("div",null,g.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Order ",de.id),g.createElement("div",{className:"flex items-center text-gray-500 mt-1"},g.createElement(E3,{className:"w-4 h-4 mr-1"}),g.createElement("span",{className:"text-sm"},qe(de.timestamp)))),g.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${ne.bgColor} ${ne.textColor}`},ne.icon,g.createElement("span",{className:"ml-1"},de.status)))),g.createElement("div",{className:"p-5"},g.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-3"},"Products Ordered"),g.createElement("div",{className:"space-y-4"},(de.items||[]).map((D,re)=>g.createElement("div",{key:D.id||re,className:"flex items-center"},g.createElement("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},g.createElement("img",{src:D.image||(Array.isArray(D.images)?D.images[0]:D.images),alt:D.name,className:"w-full h-full object-cover"})),g.createElement("div",{className:"ml-4 flex-1 min-w-0"},g.createElement("h5",{className:"text-sm font-medium text-gray-900 truncate"},D.name),g.createElement("div",{className:"flex justify-between mt-1"},g.createElement("span",{className:"text-sm text-gray-500"},"Qty: ",D.qty),g.createElement("span",{className:"text-sm font-medium text-gray-900"},"$",(Number(D.price)*Number(D.qty)).toFixed(2)))))))),g.createElement("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100"},g.createElement("div",{className:"flex justify-between items-center"},g.createElement("span",{className:"text-base font-medium text-gray-900"},"Grand Total"),g.createElement("span",{className:"text-lg font-bold text-red-700"},"$",ye.toFixed(2)))),g.createElement("div",{className:"flex justify-between items-center px-5 py-3"},Ae?g.createElement("button",{onClick:()=>j(de.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},g.createElement(Bs,{className:"w-4 h-4"})," Cancel order"):g.createElement("span",{className:"text-gray-400 text-sm flex items-center gap-2 cursor-not-allowed"},g.createElement(Bs,{className:"w-4 h-4"}),de.cancellationRequested?"Cancellation Requested":"The order is cancelled"),g.createElement("button",{onClick:()=>N(de.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},g.createElement(Bs,{className:"w-4 h-4"})," Remove")))}))),v&&g.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},g.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Cancellation"),g.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to request cancellation for order #",C,"? The admin will review your request."),g.createElement("div",{className:"flex justify-end space-x-3"},g.createElement("button",{onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"No, Keep Order"),g.createElement("button",{onClick:()=>M(C),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Yes, Request Cancellation")))),b&&g.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},g.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},g.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Removal"),g.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to remove order #",I," from your orders list? This will only remove it from your view."),g.createElement("div",{className:"flex justify-end space-x-3"},g.createElement("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Cancel"),g.createElement("button",{onClick:()=>x(I),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Remove Order")))))};function h7(){const[t,e]=O.useState([]),[n,i]=O.useState(!1),[a,l]=O.useState(!1),[u,f]=O.useState([]),[m,p]=O.useState(""),v=B=>{e(U=>U.find(ie=>ie.id===B.id)?U.map(ie=>ie.id===B.id?{...ie,qty:ie.qty+1}:ie):[...U,{...B,qty:1}])},_=B=>e(t.map(U=>U.id===B?{...U,qty:U.qty+1}:U)),b=B=>e(t.map(U=>U.id===B?{...U,qty:U.qty>1?U.qty-1:1}:U)),A=B=>e(t.filter(U=>U.id!==B)),C=()=>e([]),P=()=>t.reduce((B,U)=>B+U.qty,0),I=()=>t.reduce((B,U)=>B+parseFloat(U.price)*U.qty,0);return g.createElement(HC,null,g.createElement(v5,{cartItemCount:P(),onCartClick:()=>i(!0),onSearch:p}),g.createElement(E5,{isOpen:n,onClose:()=>i(!1),cart:t,onIncreaseQty:_,onDecreaseQty:b,onRemoveItem:A,onClearCart:C,onCheckout:()=>{l(!0),i(!1)},total:I()}),g.createElement(S5,{isOpen:a,onClose:()=>l(!1),cart:t,total:I(),onOrderSuccess:C}),g.createElement(bC,null,g.createElement(Bi,{path:"/",element:g.createElement(h3,{onAddToCart:v,onAddToFavorites:B=>f([...u,B]),onRemoveFromFavorites:B=>f(u.filter(U=>U.id!==B)),favorites:u,searchQuery:m})}),g.createElement(Bi,{path:"/men",element:g.createElement(e5,{onAddToCart:v})}),g.createElement(Bi,{path:"/orders",element:g.createElement(u7,{onAddToCart:v})}),g.createElement(Bi,{path:"/women",element:g.createElement(l5,{onAddToCart:v})}),g.createElement(Bi,{path:"/kids",element:g.createElement(g5,{onAddToCart:v})}),g.createElement(Bi,{path:"/favorites",element:g.createElement(y5,{favorites:u,onAddToCart:v})}),g.createElement(Bi,{path:"/product/:id",element:g.createElement(R5,{onAddToCart:v})}),g.createElement(Bi,{path:"/contact",element:g.createElement(C5,null)})),g.createElement(N5,null))}IN.createRoot(document.getElementById("root")).render(g.createElement(O.StrictMode,null,g.createElement(h7,null)));export{uw as A,E3 as C,A0 as E,ea as H,g3 as I,R3 as L,C3 as M,M3 as P,g as R,vr as S,EA as T,H3 as U,_A as W,Bs as X,Ft as a,Yg as b,Zs as c,ci as d,nd as e,vA as f,Du as g,hw as h,fw as i,D3 as j,k3 as k,U3 as l,z3 as m,O as r};
