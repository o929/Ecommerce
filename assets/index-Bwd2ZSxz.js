const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSlider-D80-WTXh.js","assets/chevron-right-DHmay2s9.js","assets/HeroSlider-D93dPRfE.css","assets/lucide-react-DFx8kI6m.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yg={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function VR(){if(Pb)return ct;Pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function B(z,W,me){this.props=z,this.context=W,this.refs=U,this.updater=me||O}B.prototype.isReactComponent={},B.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function K(){}K.prototype=B.prototype;function G(z,W,me){this.props=z,this.context=W,this.refs=U,this.updater=me||O}var Q=G.prototype=new K;Q.constructor=G,V(Q,B.prototype),Q.isPureReactComponent=!0;var _e=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function j(z,W,me,oe,Ne,Pe){return me=Pe.ref,{$$typeof:t,type:z,key:W,ref:me!==void 0?me:null,props:Pe}}function N(z,W){return j(z.type,W,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return W[me]})}var q=/\/+/g;function Y(z,W){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):W.toString(36)}function H(){}function Ze(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(H,H):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ue(z,W,me,oe,Ne){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(Pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case t:case e:Te=!0;break;case b:return Te=z._init,Ue(Te(z._payload),W,me,oe,Ne)}}if(Te)return Ne=Ne(z),Te=oe===""?"."+Y(z,0):oe,_e(Ne)?(me="",Te!=null&&(me=Te.replace(q,"$&/")+"/"),Ue(Ne,W,me,"",function(qt){return qt})):Ne!=null&&(M(Ne)&&(Ne=N(Ne,me+(Ne.key==null||z&&z.key===Ne.key?"":(""+Ne.key).replace(q,"$&/")+"/")+Te)),W.push(Ne)),1;Te=0;var ht=oe===""?".":oe+":";if(_e(z))for(var Qe=0;Qe<z.length;Qe++)oe=z[Qe],Pe=ht+Y(oe,Qe),Te+=Ue(oe,W,me,Pe,Ne);else if(Qe=A(z),typeof Qe=="function")for(z=Qe.call(z),Qe=0;!(oe=z.next()).done;)oe=oe.value,Pe=ht+Y(oe,Qe++),Te+=Ue(oe,W,me,Pe,Ne);else if(Pe==="object"){if(typeof z.then=="function")return Ue(Ze(z),W,me,oe,Ne);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function re(z,W,me){if(z==null)return z;var oe=[],Ne=0;return Ue(z,oe,"","",function(Pe){return W.call(me,Pe,Ne++)}),oe}function ge(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var pe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function $e(){}return ct.Children={map:re,forEach:function(z,W,me){re(z,function(){W.apply(this,arguments)},me)},count:function(z){var W=0;return re(z,function(){W++}),W},toArray:function(z){return re(z,function(W){return W})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ct.Component=B,ct.Fragment=n,ct.Profiler=o,ct.PureComponent=G,ct.StrictMode=r,ct.Suspense=y,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return J.H.useMemoCache(z)}},ct.cache=function(z){return function(){return z.apply(null,arguments)}},ct.cloneElement=function(z,W,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=V({},z.props),Ne=z.key,Pe=void 0;if(W!=null)for(Te in W.ref!==void 0&&(Pe=void 0),W.key!==void 0&&(Ne=""+W.key),W)!ue.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(oe[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)oe.children=me;else if(1<Te){for(var ht=Array(Te),Qe=0;Qe<Te;Qe++)ht[Qe]=arguments[Qe+2];oe.children=ht}return j(z.type,Ne,void 0,void 0,Pe,oe)},ct.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},ct.createElement=function(z,W,me){var oe,Ne={},Pe=null;if(W!=null)for(oe in W.key!==void 0&&(Pe=""+W.key),W)ue.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ne[oe]=W[oe]);var Te=arguments.length-2;if(Te===1)Ne.children=me;else if(1<Te){for(var ht=Array(Te),Qe=0;Qe<Te;Qe++)ht[Qe]=arguments[Qe+2];Ne.children=ht}if(z&&z.defaultProps)for(oe in Te=z.defaultProps,Te)Ne[oe]===void 0&&(Ne[oe]=Te[oe]);return j(z,Pe,void 0,void 0,null,Ne)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:m,render:z}},ct.isValidElement=M,ct.lazy=function(z){return{$$typeof:b,_payload:{_status:-1,_result:z},_init:ge}},ct.memo=function(z,W){return{$$typeof:v,type:z,compare:W===void 0?null:W}},ct.startTransition=function(z){var W=J.T,me={};J.T=me;try{var oe=z(),Ne=J.S;Ne!==null&&Ne(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then($e,pe)}catch(Pe){pe(Pe)}finally{J.T=W}},ct.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ct.use=function(z){return J.H.use(z)},ct.useActionState=function(z,W,me){return J.H.useActionState(z,W,me)},ct.useCallback=function(z,W){return J.H.useCallback(z,W)},ct.useContext=function(z){return J.H.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z,W){return J.H.useDeferredValue(z,W)},ct.useEffect=function(z,W,me){var oe=J.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,W)},ct.useId=function(){return J.H.useId()},ct.useImperativeHandle=function(z,W,me){return J.H.useImperativeHandle(z,W,me)},ct.useInsertionEffect=function(z,W){return J.H.useInsertionEffect(z,W)},ct.useLayoutEffect=function(z,W){return J.H.useLayoutEffect(z,W)},ct.useMemo=function(z,W){return J.H.useMemo(z,W)},ct.useOptimistic=function(z,W){return J.H.useOptimistic(z,W)},ct.useReducer=function(z,W,me){return J.H.useReducer(z,W,me)},ct.useRef=function(z){return J.H.useRef(z)},ct.useState=function(z){return J.H.useState(z)},ct.useSyncExternalStore=function(z,W,me){return J.H.useSyncExternalStore(z,W,me)},ct.useTransition=function(){return J.H.useTransition()},ct.version="19.1.1",ct}var Ib;function cm(){return Ib||(Ib=1,yg.exports=VR()),yg.exports}var k=cm();const _=Gx(k);var _g={exports:{}},eh={},vg={exports:{}},Eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function UR(){return Ob||(Ob=1,(function(t){function e(re,ge){var pe=re.length;re.push(ge);e:for(;0<pe;){var $e=pe-1>>>1,z=re[$e];if(0<o(z,ge))re[$e]=ge,re[pe]=z,pe=$e;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ge=re[0],pe=re.pop();if(pe!==ge){re[0]=pe;e:for(var $e=0,z=re.length,W=z>>>1;$e<W;){var me=2*($e+1)-1,oe=re[me],Ne=me+1,Pe=re[Ne];if(0>o(oe,pe))Ne<z&&0>o(Pe,oe)?(re[$e]=Pe,re[Ne]=pe,$e=Ne):(re[$e]=oe,re[me]=pe,$e=me);else if(Ne<z&&0>o(Pe,pe))re[$e]=Pe,re[Ne]=pe,$e=Ne;else break e}}return ge}function o(re,ge){var pe=re.sortIndex-ge.sortIndex;return pe!==0?pe:re.id-ge.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var y=[],v=[],b=1,x=null,A=3,O=!1,V=!1,U=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function _e(re){for(var ge=n(v);ge!==null;){if(ge.callback===null)r(v);else if(ge.startTime<=re)r(v),ge.sortIndex=ge.expirationTime,e(y,ge);else break;ge=n(v)}}function J(re){if(U=!1,_e(re),!V)if(n(y)!==null)V=!0,ue||(ue=!0,Y());else{var ge=n(v);ge!==null&&Ue(J,ge.startTime-re)}}var ue=!1,j=-1,N=5,M=-1;function F(){return B?!0:!(t.unstable_now()-M<N)}function q(){if(B=!1,ue){var re=t.unstable_now();M=re;var ge=!0;try{e:{V=!1,U&&(U=!1,G(j),j=-1),O=!0;var pe=A;try{t:{for(_e(re),x=n(y);x!==null&&!(x.expirationTime>re&&F());){var $e=x.callback;if(typeof $e=="function"){x.callback=null,A=x.priorityLevel;var z=$e(x.expirationTime<=re);if(re=t.unstable_now(),typeof z=="function"){x.callback=z,_e(re),ge=!0;break t}x===n(y)&&r(y),_e(re)}else r(y);x=n(y)}if(x!==null)ge=!0;else{var W=n(v);W!==null&&Ue(J,W.startTime-re),ge=!1}}break e}finally{x=null,A=pe,O=!1}ge=void 0}}finally{ge?Y():ue=!1}}}var Y;if(typeof Q=="function")Y=function(){Q(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ze=H.port2;H.port1.onmessage=q,Y=function(){Ze.postMessage(null)}}else Y=function(){K(q,0)};function Ue(re,ge){j=K(function(){re(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(re){switch(A){case 1:case 2:case 3:var ge=3;break;default:ge=A}var pe=A;A=ge;try{return re()}finally{A=pe}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=A;A=re;try{return ge()}finally{A=pe}},t.unstable_scheduleCallback=function(re,ge,pe){var $e=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?$e+pe:$e):pe=$e,re){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=pe+z,re={id:b++,callback:ge,priorityLevel:re,startTime:pe,expirationTime:z,sortIndex:-1},pe>$e?(re.sortIndex=pe,e(v,re),n(y)===null&&re===n(v)&&(U?(G(j),j=-1):U=!0,Ue(J,pe-$e))):(re.sortIndex=z,e(y,re),V||O||(V=!0,ue||(ue=!0,Y()))),re},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(re){var ge=A;return function(){var pe=A;A=ge;try{return re.apply(this,arguments)}finally{A=pe}}}})(Eg)),Eg}var Mb;function zR(){return Mb||(Mb=1,vg.exports=UR()),vg.exports}var bg={exports:{}},mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function BR(){if(Db)return mi;Db=1;var t=cm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,v,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:v,implementation:b}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mi.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(y,v,null,b)},mi.flushSync=function(y){var v=h.T,b=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=v,r.p=b,r.d.f()}},mi.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},mi.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},mi.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:O}):b==="script"&&r.d.X(y,{crossOrigin:x,integrity:A,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mi.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},mi.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin);r.d.L(y,b,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mi.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=m(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},mi.requestFormReset=function(y){r.d.r(y)},mi.unstable_batchedUpdates=function(y,v){return y(v)},mi.useFormState=function(y,v,b){return h.H.useFormState(y,v,b)},mi.useFormStatus=function(){return h.H.useHostTransitionStatus()},mi.version="19.1.1",mi}var Lb;function $x(){if(Lb)return bg.exports;Lb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=BR(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function jR(){if(kb)return eh;kb=1;var t=zR(),e=cm(),n=$x();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function h(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,f=s;;){var g=l.return;if(g===null)break;var E=g.alternate;if(E===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===l)return m(g),i;if(E===f)return m(g),s;E=E.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=E;else{for(var R=!1,I=g.child;I;){if(I===l){R=!0,l=g,f=E;break}if(I===f){R=!0,f=g,l=E;break}I=I.sibling}if(!R){for(I=E.child;I;){if(I===l){R=!0,l=E,f=g;break}if(I===f){R=!0,f=E,l=g;break}I=I.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function Ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case ue:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case _e:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:Ze(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return Ze(i(s))}catch{}}return null}var Ue=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},$e=[],z=-1;function W(i){return{current:i}}function me(i){0>z||(i.current=$e[z],$e[z]=null,z--)}function oe(i,s){z++,$e[z]=i.current,i.current=s}var Ne=W(null),Pe=W(null),Te=W(null),ht=W(null);function Qe(i,s){switch(oe(Te,s),oe(Pe,i),oe(Ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?rb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=rb(s),i=sb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(Ne),oe(Ne,i)}function qt(){me(Ne),me(Pe),me(Te)}function Gt(i){i.memoizedState!==null&&oe(ht,i);var s=Ne.current,l=sb(s,i.type);s!==l&&(oe(Pe,i),oe(Ne,l))}function Pt(i){Pe.current===i&&(me(Ne),me(Pe)),ht.current===i&&(me(ht),Wc._currentValue=pe)}var Wt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,Dr=t.unstable_shouldYield,us=t.unstable_requestPaint,jn=t.unstable_now,ji=t.unstable_getCurrentPriorityLevel,Fs=t.unstable_ImmediatePriority,ur=t.unstable_UserBlockingPriority,bi=t.unstable_NormalPriority,Lr=t.unstable_LowPriority,Fi=t.unstable_IdlePriority,Hs=t.log,Re=t.unstable_setDisableYieldValue,te=null,ye=null;function Ce(i){if(typeof Hs=="function"&&Re(i),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(te,i)}catch{}}var He=Math.clz32?Math.clz32:de,at=Math.log,yt=Math.LN2;function de(i){return i>>>=0,i===0?32:31-(at(i)/yt|0)|0}var be=256,ke=4194304;function Oe(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Le(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,E=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var I=f&134217727;return I!==0?(f=I&~E,f!==0?g=Oe(f):(R&=I,R!==0?g=Oe(R):l||(l=I&~i,l!==0&&(g=Oe(l))))):(I=f&~E,I!==0?g=Oe(I):R!==0?g=Oe(R):l||(l=f&~i,l!==0&&(g=Oe(l)))),g===0?0:s!==0&&s!==g&&(s&E)===0&&(E=g&-g,l=s&-s,E>=l||E===32&&(l&4194048)!==0)?s:g}function We(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function It(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var i=be;return be<<=1,(be&4194048)===0&&(be=256),i}function Tt(){var i=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),i}function Mt(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ct(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sn(i,s,l,f,g,E){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,Z=i.expirationTimes,ae=i.hiddenUpdates;for(l=R&~l;0<l;){var ve=31-He(l),xe=1<<ve;I[ve]=0,Z[ve]=-1;var le=ae[ve];if(le!==null)for(ae[ve]=null,ve=0;ve<le.length;ve++){var ce=le[ve];ce!==null&&(ce.lane&=-536870913)}l&=~xe}f!==0&&Ln(i,f,0),E!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=E&~(R&~s))}function Ln(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-He(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function wi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-He(l),g=1<<f;g&s|i[f]&s&&(i[f]|=s),l&=~g}}function Ti(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function kr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hi(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:xb(i.type))}function Pa(i,s){var l=ge.p;try{return ge.p=i,s()}finally{ge.p=l}}var Xt=Math.random().toString(36).slice(2),vn="__reactFiber$"+Xt,pn="__reactProps$"+Xt,Oi="__reactContainer$"+Xt,li="__reactEvents$"+Xt,Fe="__reactListeners$"+Xt,Vr="__reactHandles$"+Xt,Wo="__reactResources$"+Xt,cs="__reactMarker$"+Xt;function Ur(i){delete i[vn],delete i[pn],delete i[li],delete i[Fe],delete i[Vr]}function qi(i){var s=i[vn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Oi]||l[vn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=ub(i);i!==null;){if(l=i[vn])return l;i=ub(i)}return s}i=l,l=i.parentNode}return null}function Gi(i){if(i=i[vn]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Xn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Fn(i){var s=i[Wo];return s||(s=i[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(i){i[cs]=!0}var Yo=new Set,Ia={};function $i(i,s){cr(i,s),cr(i+"Capture",s)}function cr(i,s){for(Ia[i]=s,i=0;i<s.length;i++)Yo.add(s[i])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},Gs={};function Kl(i){return Wt.call(Gs,i)?!0:Wt.call(qs,i)?!1:Zl.test(i)?Gs[i]=!0:(qs[i]=!0,!1)}function hs(i,s,l){if(Kl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function hr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function kn(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}var zr,fs;function fr(i){if(zr===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);zr=s&&s[1]||"",fs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+i+fs}var $s=!1;function dr(i,s){if(!i||$s)return"";$s=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ce){var le=ce}Reflect.construct(i,[],xe)}else{try{xe.call()}catch(ce){le=ce}i.call(xe.prototype)}}else{try{throw Error()}catch(ce){le=ce}(xe=i())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ce){if(ce&&le&&typeof ce.stack=="string")return[ce.stack,le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),R=E[0],I=E[1];if(R&&I){var Z=R.split(`
`),ae=I.split(`
`);for(g=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ae.length&&!ae[g].includes("DetermineComponentFrameRoot");)g++;if(f===Z.length||g===ae.length)for(f=Z.length-1,g=ae.length-1;1<=f&&0<=g&&Z[f]!==ae[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Z[f]!==ae[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Z[f]!==ae[g]){var ve=`
`+Z[f].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=f&&0<=g);break}}}finally{$s=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fr(l):""}function dt(i){switch(i.tag){case 26:case 27:case 5:return fr(i.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return dr(i.type,!1);case 11:return dr(i.type.render,!1);case 1:return dr(i.type,!0);case 31:return fr("Activity");default:return""}}function Dt(i){try{var s="";do s+=dt(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function An(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ds(i){var s=mr(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,E=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,E.call(this,R)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ms(i){i._valueTracker||(i._valueTracker=ds(i))}function st(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=mr(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function Vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xo=/[\n"\\]/g;function nn(i){return i.replace(Xo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qt(i,s,l,f,g,E,R,I){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+An(s)):i.value!==""+An(s)&&(i.value=""+An(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?Zi(i,R,An(s)):l!=null?Zi(i,R,An(l)):f!=null&&i.removeAttribute("value"),g==null&&E!=null&&(i.defaultChecked=!!E),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+An(I):i.removeAttribute("name")}function Zs(i,s,l,f,g,E,R,I){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),s!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||s!=null))return;l=l!=null?""+An(l):"",s=s!=null?""+An(s):l,I||s===i.value||(i.value=s),i.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=I?i.checked:!!f,i.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Zi(i,s,l){s==="number"&&Vt(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Qn(i,s,l,f){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+An(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Je(i,s,l){if(s!=null&&(s=""+An(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+An(l):""}function xi(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(r(92));if(Ue(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=An(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Hn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oa(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||Ki.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Br(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&l[g]!==f&&Oa(i,g,f)}else for(var E in s)s.hasOwnProperty(E)&&Oa(i,E,s[E])}function Ks(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(i){return Ma.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pr=null,Yi=null;function Jo(i){var s=Gi(i);if(s&&(i=s.stateNode)){var l=i[pn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qt(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var g=f[pn]||null;if(!g)throw Error(r(90));Qt(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&st(f)}break e;case"textarea":Je(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Qn(i,!!l.multiple,s,!1)}}}var Ke=!1;function Si(i,s,l){if(Ke)return i(s,l);Ke=!0;try{var f=i(s);return f}finally{if(Ke=!1,(pr!==null||Yi!==null)&&(Bf(),pr&&(s=pr,i=Yi,Yi=pr=null,Jo(s),i)))for(s=0;s<i.length;s++)Jo(i[s])}}function xt(i,s){var l=i.stateNode;if(l===null)return null;var f=l[pn]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Mi)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ui=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ui=!1}var Di=null,ci=null,Xi=null;function Fr(){if(Xi)return Xi;var i,s=ci,l=s.length,f,g="value"in Di?Di.value:Di.textContent,E=g.length;for(i=0;i<l&&s[i]===g[i];i++);var R=l-i;for(f=1;f<=R&&s[l-f]===g[E-f];f++);return Xi=g.slice(i,1<f?1-f:void 0)}function Bt(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function qn(){return!0}function Da(){return!1}function En(i){function s(l,f,g,E,R){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(E):E[I]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qn:Da,this.isPropagationStopped=Da,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),s}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=En(Rt),Hr=b({},Rt,{view:0,detail:0}),Wl=En(Hr),Ys,ut,gr,Vn=b({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gr&&(gr&&i.type==="mousemove"?(Ys=i.screenX-gr.screenX,ut=i.screenY-gr.screenY):ut=Ys=0,gr=i),Ys)},movementY:function(i){return"movementY"in i?i.movementY:ut}}),Gn=En(Vn),el=b({},Vn,{dataTransfer:0}),fc=En(el),qr=b({},Hr,{relatedTarget:0}),La=En(qr),ka=b({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=En(ka),Yl=b({},Rt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gs=En(Yl),dc=b({},Rt,{data:0}),hi=En(dc),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Qi[i])?!!s[i]:!1}function ys(){return Ua}var za=b({},Hr,{key:function(i){if(i.key){var s=Xs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Bt(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(i){return i.type==="keypress"?Bt(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bt(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=En(za),nl=b({},Vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=En(nl),Gr=b({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Xl=En(Gr),Fa=b({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ql=En(Fa),il=b({},Vn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qs=En(il),Cn=b({},Rt,{newState:0,oldState:0}),yr=En(Cn),Jl=[9,13,27,32],fi=Mi&&"CompositionEvent"in window,d=null;Mi&&"documentMode"in document&&(d=document.documentMode);var T=Mi&&"TextEvent"in window&&!d,C=Mi&&(!fi||d&&8<d&&11>=d),D=" ",ne=!1;function fe(i,s){switch(i){case"keyup":return Jl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _t=!1;function gn(i,s){switch(i){case"compositionend":return Ie(s);case"keypress":return s.which!==32?null:(ne=!0,D);case"textInput":return i=s.data,i===D&&ne?null:i;default:return null}}function vt(i,s){if(_t)return i==="compositionend"||!fi&&fe(i,s)?(i=Fr(),Xi=ci=Di=null,_t=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return C&&s.locale!=="ko"?null:s.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Lt[i.type]:s==="textarea"}function $r(i,s,l,f){pr?Yi?Yi.push(f):Yi=[f]:pr=f,s=$f(s,"onChange"),0<s.length&&(l=new Ws("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var $t=null,_r=null;function vr(i){JE(i,0)}function eu(i){var s=Xn(i);if(st(s))return i}function Ha(i,s){if(i==="change")return s}var mc=!1;if(Mi){var qa;if(Mi){var pc="oninput"in document;if(!pc){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),pc=typeof Zr.oninput=="function"}qa=pc}else qa=!1;mc=qa&&(!document.documentMode||9<document.documentMode)}function rl(){$t&&($t.detachEvent("onpropertychange",sf),_r=$t=null)}function sf(i){if(i.propertyName==="value"&&eu(_r)){var s=[];$r(s,_r,i,Jn(i)),Si(vr,s)}}function gc(i,s,l){i==="focusin"?(rl(),$t=s,_r=l,$t.attachEvent("onpropertychange",sf)):i==="focusout"&&rl()}function jm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eu(_r)}function Kr(i,s){if(i==="click")return eu(s)}function Fm(i,s){if(i==="input"||i==="change")return eu(s)}function Ga(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ai=typeof Object.is=="function"?Object.is:Ga;function Ci(i,s){if(Ai(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Wt.call(s,g)||!Ai(i[g],s[g]))return!1}return!0}function sl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yc(i,s){var l=sl(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sl(l)}}function tu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?tu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function al(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vt(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Vt(i.document)}return s}function ol(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nu=Mi&&"documentMode"in document&&11>=document.documentMode,Ji=null,$a=null,Js=null,iu=!1;function af(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;iu||Ji==null||Ji!==Vt(f)||(f=Ji,"selectionStart"in f&&ol(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Js&&Ci(Js,f)||(Js=f,f=$f($a,"onSelect"),0<f.length&&(s=new Ws("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=Ji)))}function Er(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Za={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},ru={},of={};Mi&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function _s(i){if(ru[i])return ru[i];if(!Za[i])return i;var s=Za[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in of)return ru[i]=s[l];return i}var lf=_s("animationend"),er=_s("animationiteration"),ll=_s("animationstart"),Hm=_s("transitionrun"),su=_s("transitionstart"),qm=_s("transitioncancel"),_c=_s("transitionend"),uf=new Map,ea="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ea.push("scrollEnd");function tr(i,s){uf.set(i,s),$i(s,[i])}var ta=new WeakMap;function Ri(i,s){if(typeof i=="object"&&i!==null){var l=ta.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Dt(s)},ta.set(i,s),s)}return{value:i,source:s,stack:Dt(s)}}var Ni=[],Ka=0,nr=0;function ul(){for(var i=Ka,s=nr=Ka=0;s<i;){var l=Ni[s];Ni[s++]=null;var f=Ni[s];Ni[s++]=null;var g=Ni[s];Ni[s++]=null;var E=Ni[s];if(Ni[s++]=null,f!==null&&g!==null){var R=f.pending;R===null?g.next=g:(g.next=R.next,R.next=g),f.pending=g}E!==0&&hl(l,g,E)}}function cl(i,s,l,f){Ni[Ka++]=i,Ni[Ka++]=s,Ni[Ka++]=l,Ni[Ka++]=f,nr|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function na(i,s,l,f){return cl(i,s,l,f),vs(i)}function Wa(i,s){return cl(i,null,null,s),vs(i)}function hl(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,E=i.return;E!==null;)E.childLanes|=l,f=E.alternate,f!==null&&(f.childLanes|=l),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(g=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,g&&s!==null&&(g=31-He(l),i=E.hiddenUpdates,f=i[g],f===null?i[g]=[s]:f.push(s),s.lane=l|536870912),E):null}function vs(i){if(50<jc)throw jc=0,jp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ia={};function cf(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(i,s,l,f){return new cf(i,s,l,f)}function au(i){return i=i.prototype,!(!i||!i.isReactComponent)}function br(i,s){var l=i.alternate;return l===null?(l=Pi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function fl(i,s,l,f,g,E){var R=0;if(f=i,typeof i=="function")au(i)&&(R=1);else if(typeof i=="string")R=xR(i,l,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Pi(31,l,s,g),i.elementType=M,i.lanes=E,i;case V:return Es(l.children,g,E,s);case U:R=8,g|=24;break;case B:return i=Pi(12,l,s,g|2),i.elementType=B,i.lanes=E,i;case J:return i=Pi(13,l,s,g),i.elementType=J,i.lanes=E,i;case ue:return i=Pi(19,l,s,g),i.elementType=ue,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case Q:R=10;break e;case G:R=9;break e;case _e:R=11;break e;case j:R=14;break e;case N:R=16,f=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Pi(R,l,s,g),s.elementType=i,s.type=f,s.lanes=E,s}function Es(i,s,l,f){return i=Pi(7,i,f,s),i.lanes=l,i}function Ec(i,s,l){return i=Pi(6,i,null,s),i.lanes=l,i}function ou(i,s,l){return s=Pi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ra=[],Ya=0,a=null,c=0,p=[],w=0,S=null,P=1,$="";function ie(i,s){ra[Ya++]=c,ra[Ya++]=a,a=i,c=s}function he(i,s,l){p[w++]=P,p[w++]=$,p[w++]=S,S=i;var f=P;i=$;var g=32-He(f)-1;f&=~(1<<g),l+=1;var E=32-He(s)+g;if(30<E){var R=g-g%5;E=(f&(1<<R)-1).toString(32),f>>=R,g-=R,P=1<<32-He(s)+g|l<<g|f,$=E+i}else P=1<<E|l<<g|f,$=i}function Ae(i){i.return!==null&&(ie(i,1),he(i,1,0))}function De(i){for(;i===a;)a=ra[--Ya],ra[Ya]=null,c=ra[--Ya],ra[Ya]=null;for(;i===S;)S=p[--w],p[w]=null,$=p[--w],p[w]=null,P=p[--w],p[w]=null}var ze=null,je=null,rt=!1,en=null,cn=!1,$n=Error(r(519));function Li(i){var s=Error(r(418,""));throw Qa(Ri(s,i)),$n}function hf(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[vn]=i,s[pn]=f,l){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(l=0;l<Hc.length;l++)gt(Hc[l],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":gt("invalid",s),Zs(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ms(s);break;case"select":gt("invalid",s);break;case"textarea":gt("invalid",s),xi(s,f.value,f.defaultValue,f.children),ms(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||ib(s.textContent,l)?(f.popover!=null&&(gt("beforetoggle",s),gt("toggle",s)),f.onScroll!=null&&gt("scroll",s),f.onScrollEnd!=null&&gt("scrollend",s),f.onClick!=null&&(s.onclick=Zf),s=!0):s=!1,s||Li(i)}function ff(i){for(ze=i.return;ze;)switch(ze.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:ze=ze.return}}function dl(i){if(i!==ze)return!1;if(!rt)return ff(i),rt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ig(i.type,i.memoizedProps)),l=!l),l&&je&&Li(i),ff(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){je=Qr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}je=null}}else s===27?(s=je,mo(i.type)?(i=og,og=null,je=i):je=s):je=ze?Qr(i.stateNode.nextSibling):null;return!0}function Xa(){je=ze=null,rt=!1}function df(){var i=en;return i!==null&&(Ui===null?Ui=i:Ui.push.apply(Ui,i),en=null),i}function Qa(i){en===null?en=[i]:en.push(i)}var an=W(null),wr=null,Wr=null;function bs(i,s,l){oe(an,s._currentValue),s._currentValue=l}function Yr(i){i._currentValue=an.current,me(an)}function ml(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function lu(i,s,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){var R=g.child;E=E.firstContext;e:for(;E!==null;){var I=E;E=g;for(var Z=0;Z<s.length;Z++)if(I.context===s[Z]){E.lanes|=l,I=E.alternate,I!==null&&(I.lanes|=l),ml(E.return,l,i),f||(R=null);break e}E=I.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(r(341));R.lanes|=l,E=R.alternate,E!==null&&(E.lanes|=l),ml(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function pl(i,s,l,f){i=null;for(var g=s,E=!1;g!==null;){if(!E){if((g.flags&524288)!==0)E=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var I=g.type;Ai(g.pendingProps.value,R.value)||(i!==null?i.push(I):i=[I])}}else if(g===ht.current){if(R=g.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Wc):i=[Wc])}g=g.return}i!==null&&lu(s,i,l,f),s.flags|=262144}function mf(i){for(i=i.firstContext;i!==null;){if(!Ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function gl(i){wr=i,Wr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function di(i){return Hv(wr,i)}function pf(i,s){return wr===null&&gl(i),Hv(i,s)}function Hv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Wr===null){if(i===null)throw Error(r(308));Wr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wr=Wr.next=s;return l}var T2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},x2=t.unstable_scheduleCallback,S2=t.unstable_NormalPriority,Un={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new T2,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&x2(S2,function(){i.controller.abort()})}var wc=null,$m=0,uu=0,cu=null;function A2(i,s){if(wc===null){var l=wc=[];$m=0,uu=Kp(),cu={status:"pending",value:void 0,then:function(f){l.push(f)}}}return $m++,s.then(qv,qv),s}function qv(){if(--$m===0&&wc!==null){cu!==null&&(cu.status="fulfilled");var i=wc;wc=null,uu=0,cu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function C2(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var Gv=re.S;re.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&A2(i,s),Gv!==null&&Gv(i,s)};var yl=W(null);function Zm(){var i=yl.current;return i!==null?i:tn.pooledCache}function gf(i,s){s===null?oe(yl,yl.current):oe(yl,s.pool)}function $v(){var i=Zm();return i===null?null:{parent:Un._currentValue,pool:i}}var Tc=Error(r(460)),Zv=Error(r(474)),yf=Error(r(542)),Km={then:function(){}};function Kv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _f(){}function Wv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(_f,_f),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xv(i),i;default:if(typeof s.status=="string")s.then(_f,_f);else{if(i=tn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xv(i),i}throw xc=s,Tc}}var xc=null;function Yv(){if(xc===null)throw Error(r(459));var i=xc;return xc=null,i}function Xv(i){if(i===Tc||i===yf)throw Error(r(483))}var Ja=!1;function Wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function to(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ut&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=vs(i),hl(i,null,l),s}return cl(i,f,s,l),vs(i)}function Sc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,wi(i,l)}}function Xm(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?g=E=R:E=E.next=R,l=l.next}while(l!==null);E===null?g=E=s:E=E.next=s}else g=E=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Qm=!1;function Ac(){if(Qm){var i=cu;if(i!==null)throw i}}function Cc(i,s,l,f){Qm=!1;var g=i.updateQueue;Ja=!1;var E=g.firstBaseUpdate,R=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var Z=I,ae=Z.next;Z.next=null,R===null?E=ae:R.next=ae,R=Z;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==R&&(I===null?ve.firstBaseUpdate=ae:I.next=ae,ve.lastBaseUpdate=Z))}if(E!==null){var xe=g.baseState;R=0,ve=ae=Z=null,I=E;do{var le=I.lane&-536870913,ce=le!==I.lane;if(ce?(St&le)===le:(f&le)===le){le!==0&&le===uu&&(Qm=!0),ve!==null&&(ve=ve.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var nt=i,Ye=I;le=s;var Ht=l;switch(Ye.tag){case 1:if(nt=Ye.payload,typeof nt=="function"){xe=nt.call(Ht,xe,le);break e}xe=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Ye.payload,le=typeof nt=="function"?nt.call(Ht,xe,le):nt,le==null)break e;xe=b({},xe,le);break e;case 2:Ja=!0}}le=I.callback,le!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=g.callbacks,ce===null?g.callbacks=[le]:ce.push(le))}else ce={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(ae=ve=ce,Z=xe):ve=ve.next=ce,R|=le;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;ce=I,I=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);ve===null&&(Z=xe),g.baseState=Z,g.firstBaseUpdate=ae,g.lastBaseUpdate=ve,E===null&&(g.shared.lanes=0),uo|=R,i.lanes=R,i.memoizedState=xe}}function Qv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Jv(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Qv(l[i],s)}var hu=W(null),vf=W(0);function e0(i,s){i=ha,oe(vf,i),oe(hu,s),ha=i|s.baseLanes}function Jm(){oe(vf,ha),oe(hu,hu.current)}function ep(){ha=vf.current,me(hu),me(vf)}var no=0,ft=null,jt=null,Rn=null,Ef=!1,fu=!1,_l=!1,bf=0,Rc=0,du=null,R2=0;function bn(){throw Error(r(321))}function tp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ai(i[l],s[l]))return!1;return!0}function np(i,s,l,f,g,E){return no=E,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=i===null||i.memoizedState===null?V0:U0,_l=!1,E=l(f,g),_l=!1,fu&&(E=n0(s,l,f,g)),t0(i),E}function t0(i){re.H=Cf;var s=jt!==null&&jt.next!==null;if(no=0,Rn=jt=ft=null,Ef=!1,Rc=0,du=null,s)throw Error(r(300));i===null||Zn||(i=i.dependencies,i!==null&&mf(i)&&(Zn=!0))}function n0(i,s,l,f){ft=i;var g=0;do{if(fu&&(du=null),Rc=0,fu=!1,25<=g)throw Error(r(301));if(g+=1,Rn=jt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}re.H=L2,E=s(l,f)}while(fu);return E}function N2(){var i=re.H,s=i.useState()[0];return s=typeof s.then=="function"?Nc(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(ft.flags|=1024),s}function ip(){var i=bf!==0;return bf=0,i}function rp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function sp(i){if(Ef){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ef=!1}no=0,Rn=jt=ft=null,fu=!1,Rc=bf=0,du=null}function ki(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?ft.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function Nn(){if(jt===null){var i=ft.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=Rn===null?ft.memoizedState:Rn.next;if(s!==null)Rn=s,jt=i;else{if(i===null)throw ft.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Rn===null?ft.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(i){var s=Rc;return Rc+=1,du===null&&(du=[]),i=Wv(du,i,s),s=ft,(Rn===null?s.memoizedState:Rn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?V0:U0),i}function wf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nc(i);if(i.$$typeof===Q)return di(i)}throw Error(r(438,String(i)))}function op(i){var s=null,l=ft.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=ft.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ap(),ft.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=F;return s.index++,l}function sa(i,s){return typeof s=="function"?s(i):s}function Tf(i){var s=Nn();return lp(s,jt,i)}function lp(i,s,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,E=f.pending;if(E!==null){if(g!==null){var R=g.next;g.next=E.next,E.next=R}s.baseQueue=g=E,f.pending=null}if(E=i.baseState,g===null)i.memoizedState=E;else{s=g.next;var I=R=null,Z=null,ae=s,ve=!1;do{var xe=ae.lane&-536870913;if(xe!==ae.lane?(St&xe)===xe:(no&xe)===xe){var le=ae.revertLane;if(le===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),xe===uu&&(ve=!0);else if((no&le)===le){ae=ae.next,le===uu&&(ve=!0);continue}else xe={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(I=Z=xe,R=E):Z=Z.next=xe,ft.lanes|=le,uo|=le;xe=ae.action,_l&&l(E,xe),E=ae.hasEagerState?ae.eagerState:l(E,xe)}else le={lane:xe,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Z===null?(I=Z=le,R=E):Z=Z.next=le,ft.lanes|=xe,uo|=xe;ae=ae.next}while(ae!==null&&ae!==s);if(Z===null?R=E:Z.next=I,!Ai(E,i.memoizedState)&&(Zn=!0,ve&&(l=cu,l!==null)))throw l;i.memoizedState=E,i.baseState=R,i.baseQueue=Z,f.lastRenderedState=E}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function up(i){var s=Nn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,E=s.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do E=i(E,R.action),R=R.next;while(R!==g);Ai(E,s.memoizedState)||(Zn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),l.lastRenderedState=E}return[E,f]}function i0(i,s,l){var f=ft,g=Nn(),E=rt;if(E){if(l===void 0)throw Error(r(407));l=l()}else l=s();var R=!Ai((jt||g).memoizedState,l);R&&(g.memoizedState=l,Zn=!0),g=g.queue;var I=a0.bind(null,f,g,i);if(Pc(2048,8,I,[i]),g.getSnapshot!==s||R||Rn!==null&&Rn.memoizedState.tag&1){if(f.flags|=2048,mu(9,xf(),s0.bind(null,f,g,l,s),null),tn===null)throw Error(r(349));E||(no&124)!==0||r0(f,s,l)}return l}function r0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s=ap(),ft.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function s0(i,s,l,f){s.value=l,s.getSnapshot=f,o0(s)&&l0(i)}function a0(i,s,l){return l(function(){o0(s)&&l0(i)})}function o0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ai(i,l)}catch{return!0}}function l0(i){var s=Wa(i,2);s!==null&&or(s,i,2)}function cp(i){var s=ki();if(typeof i=="function"){var l=i;if(i=l(),_l){Ce(!0);try{l()}finally{Ce(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:i},s}function u0(i,s,l,f){return i.baseState=l,lp(i,jt,typeof f=="function"?f:sa)}function P2(i,s,l,f,g){if(Af(i))throw Error(r(485));if(i=s.action,i!==null){var E={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};re.T!==null?l(!0):E.isTransition=!1,f(E),l=s.pending,l===null?(E.next=s.pending=E,c0(s,E)):(E.next=l.next,s.pending=l.next=E)}}function c0(i,s){var l=s.action,f=s.payload,g=i.state;if(s.isTransition){var E=re.T,R={};re.T=R;try{var I=l(g,f),Z=re.S;Z!==null&&Z(R,I),h0(i,s,I)}catch(ae){hp(i,s,ae)}finally{re.T=E}}else try{E=l(g,f),h0(i,s,E)}catch(ae){hp(i,s,ae)}}function h0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){f0(i,s,f)},function(f){return hp(i,s,f)}):f0(i,s,l)}function f0(i,s,l){s.status="fulfilled",s.value=l,d0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,c0(i,l)))}function hp(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,d0(s),s=s.next;while(s!==f)}i.action=null}function d0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function m0(i,s){return s}function p0(i,s){if(rt){var l=tn.formState;if(l!==null){e:{var f=ft;if(rt){if(je){t:{for(var g=je,E=cn;g.nodeType!==8;){if(!E){g=null;break t}if(g=Qr(g.nextSibling),g===null){g=null;break t}}E=g.data,g=E==="F!"||E==="F"?g:null}if(g){je=Qr(g.nextSibling),f=g.data==="F!";break e}}Li(f)}f=!1}f&&(s=l[0])}}return l=ki(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:s},l.queue=f,l=D0.bind(null,ft,f),f.dispatch=l,f=cp(!1),E=gp.bind(null,ft,!1,f.queue),f=ki(),g={state:s,dispatch:null,action:i,pending:null},f.queue=g,l=P2.bind(null,ft,g,E,l),g.dispatch=l,f.memoizedState=i,[s,l,!1]}function g0(i){var s=Nn();return y0(s,jt,i)}function y0(i,s,l){if(s=lp(i,s,m0)[0],i=Tf(sa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Nc(s)}catch(R){throw R===Tc?yf:R}else f=s;s=Nn();var g=s.queue,E=g.dispatch;return l!==s.memoizedState&&(ft.flags|=2048,mu(9,xf(),I2.bind(null,g,l),null)),[f,E,i]}function I2(i,s){i.action=s}function _0(i){var s=Nn(),l=jt;if(l!==null)return y0(s,l,i);Nn(),s=s.memoizedState,l=Nn();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function mu(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=ft.updateQueue,s===null&&(s=ap(),ft.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function xf(){return{destroy:void 0,resource:void 0}}function v0(){return Nn().memoizedState}function Sf(i,s,l,f){var g=ki();f=f===void 0?null:f,ft.flags|=i,g.memoizedState=mu(1|s,xf(),l,f)}function Pc(i,s,l,f){var g=Nn();f=f===void 0?null:f;var E=g.memoizedState.inst;jt!==null&&f!==null&&tp(f,jt.memoizedState.deps)?g.memoizedState=mu(s,E,l,f):(ft.flags|=i,g.memoizedState=mu(1|s,E,l,f))}function E0(i,s){Sf(8390656,8,i,s)}function b0(i,s){Pc(2048,8,i,s)}function w0(i,s){return Pc(4,2,i,s)}function T0(i,s){return Pc(4,4,i,s)}function x0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function S0(i,s,l){l=l!=null?l.concat([i]):null,Pc(4,4,x0.bind(null,s,i),l)}function fp(){}function A0(i,s){var l=Nn();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&tp(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function C0(i,s){var l=Nn();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&tp(s,f[1]))return f[0];if(f=i(),_l){Ce(!0);try{i()}finally{Ce(!1)}}return l.memoizedState=[f,s],f}function dp(i,s,l){return l===void 0||(no&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=PE(),ft.lanes|=i,uo|=i,l)}function R0(i,s,l,f){return Ai(l,s)?l:hu.current!==null?(i=dp(i,l,f),Ai(i,s)||(Zn=!0),i):(no&42)===0?(Zn=!0,i.memoizedState=l):(i=PE(),ft.lanes|=i,uo|=i,s)}function N0(i,s,l,f,g){var E=ge.p;ge.p=E!==0&&8>E?E:8;var R=re.T,I={};re.T=I,gp(i,!1,s,l);try{var Z=g(),ae=re.S;if(ae!==null&&ae(I,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ve=C2(Z,f);Ic(i,s,ve,ar(i))}else Ic(i,s,f,ar(i))}catch(xe){Ic(i,s,{then:function(){},status:"rejected",reason:xe},ar())}finally{ge.p=E,re.T=R}}function O2(){}function mp(i,s,l,f){if(i.tag!==5)throw Error(r(476));var g=P0(i).queue;N0(i,g,s,pe,l===null?O2:function(){return I0(i),l(f)})}function P0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function I0(i){var s=P0(i).next.queue;Ic(i,s,{},ar())}function pp(){return di(Wc)}function O0(){return Nn().memoizedState}function M0(){return Nn().memoizedState}function M2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ar();i=eo(l);var f=to(s,i,l);f!==null&&(or(f,s,l),Sc(f,s,l)),s={cache:Gm()},i.payload=s;return}s=s.return}}function D2(i,s,l){var f=ar();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Af(i)?L0(s,l):(l=na(i,s,l,f),l!==null&&(or(l,i,f),k0(l,s,f)))}function D0(i,s,l){var f=ar();Ic(i,s,l,f)}function Ic(i,s,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Af(i))L0(s,g);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var R=s.lastRenderedState,I=E(R,l);if(g.hasEagerState=!0,g.eagerState=I,Ai(I,R))return cl(i,s,g,0),tn===null&&ul(),!1}catch{}finally{}if(l=na(i,s,g,f),l!==null)return or(l,i,f),k0(l,s,f),!0}return!1}function gp(i,s,l,f){if(f={lane:2,revertLane:Kp(),action:f,hasEagerState:!1,eagerState:null,next:null},Af(i)){if(s)throw Error(r(479))}else s=na(i,l,f,2),s!==null&&or(s,i,2)}function Af(i){var s=i.alternate;return i===ft||s!==null&&s===ft}function L0(i,s){fu=Ef=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function k0(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,wi(i,l)}}var Cf={readContext:di,use:wf,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},V0={readContext:di,use:wf,useCallback:function(i,s){return ki().memoizedState=[i,s===void 0?null:s],i},useContext:di,useEffect:E0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Sf(4194308,4,x0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Sf(4194308,4,i,s)},useInsertionEffect:function(i,s){Sf(4,2,i,s)},useMemo:function(i,s){var l=ki();s=s===void 0?null:s;var f=i();if(_l){Ce(!0);try{i()}finally{Ce(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=ki();if(l!==void 0){var g=l(s);if(_l){Ce(!0);try{l(s)}finally{Ce(!1)}}}else g=s;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=D2.bind(null,ft,i),[f.memoizedState,i]},useRef:function(i){var s=ki();return i={current:i},s.memoizedState=i},useState:function(i){i=cp(i);var s=i.queue,l=D0.bind(null,ft,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:fp,useDeferredValue:function(i,s){var l=ki();return dp(l,i,s)},useTransition:function(){var i=cp(!1);return i=N0.bind(null,ft,i.queue,!0,!1),ki().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=ft,g=ki();if(rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),tn===null)throw Error(r(349));(St&124)!==0||r0(f,s,l)}g.memoizedState=l;var E={value:l,getSnapshot:s};return g.queue=E,E0(a0.bind(null,f,E,i),[i]),f.flags|=2048,mu(9,xf(),s0.bind(null,f,E,l,s),null),l},useId:function(){var i=ki(),s=tn.identifierPrefix;if(rt){var l=$,f=P;l=(f&~(1<<32-He(f)-1)).toString(32)+l,s="«"+s+"R"+l,l=bf++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=R2++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:pp,useFormState:p0,useActionState:p0,useOptimistic:function(i){var s=ki();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=gp.bind(null,ft,!0,l),l.dispatch=s,[i,s]},useMemoCache:op,useCacheRefresh:function(){return ki().memoizedState=M2.bind(null,ft)}},U0={readContext:di,use:wf,useCallback:A0,useContext:di,useEffect:b0,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:T0,useMemo:C0,useReducer:Tf,useRef:v0,useState:function(){return Tf(sa)},useDebugValue:fp,useDeferredValue:function(i,s){var l=Nn();return R0(l,jt.memoizedState,i,s)},useTransition:function(){var i=Tf(sa)[0],s=Nn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:i0,useId:O0,useHostTransitionStatus:pp,useFormState:g0,useActionState:g0,useOptimistic:function(i,s){var l=Nn();return u0(l,jt,i,s)},useMemoCache:op,useCacheRefresh:M0},L2={readContext:di,use:wf,useCallback:A0,useContext:di,useEffect:b0,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:T0,useMemo:C0,useReducer:up,useRef:v0,useState:function(){return up(sa)},useDebugValue:fp,useDeferredValue:function(i,s){var l=Nn();return jt===null?dp(l,i,s):R0(l,jt.memoizedState,i,s)},useTransition:function(){var i=up(sa)[0],s=Nn().memoizedState;return[typeof i=="boolean"?i:Nc(i),s]},useSyncExternalStore:i0,useId:O0,useHostTransitionStatus:pp,useFormState:_0,useActionState:_0,useOptimistic:function(i,s){var l=Nn();return jt!==null?u0(l,jt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:op,useCacheRefresh:M0},pu=null,Oc=0;function Rf(i){var s=Oc;return Oc+=1,pu===null&&(pu=[]),Wv(pu,i,s)}function Mc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nf(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function z0(i){var s=i._init;return s(i._payload)}function B0(i){function s(ee,X){if(i){var se=ee.deletions;se===null?(ee.deletions=[X],ee.flags|=16):se.push(X)}}function l(ee,X){if(!i)return null;for(;X!==null;)s(ee,X),X=X.sibling;return null}function f(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function g(ee,X){return ee=br(ee,X),ee.index=0,ee.sibling=null,ee}function E(ee,X,se){return ee.index=se,i?(se=ee.alternate,se!==null?(se=se.index,se<X?(ee.flags|=67108866,X):se):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function R(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function I(ee,X,se,we){return X===null||X.tag!==6?(X=Ec(se,ee.mode,we),X.return=ee,X):(X=g(X,se),X.return=ee,X)}function Z(ee,X,se,we){var Be=se.type;return Be===V?ve(ee,X,se.props.children,we,se.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&z0(Be)===X.type)?(X=g(X,se.props),Mc(X,se),X.return=ee,X):(X=fl(se.type,se.key,se.props,null,ee.mode,we),Mc(X,se),X.return=ee,X)}function ae(ee,X,se,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=ou(se,ee.mode,we),X.return=ee,X):(X=g(X,se.children||[]),X.return=ee,X)}function ve(ee,X,se,we,Be){return X===null||X.tag!==7?(X=Es(se,ee.mode,we,Be),X.return=ee,X):(X=g(X,se),X.return=ee,X)}function xe(ee,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Ec(""+X,ee.mode,se),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return se=fl(X.type,X.key,X.props,null,ee.mode,se),Mc(se,X),se.return=ee,se;case O:return X=ou(X,ee.mode,se),X.return=ee,X;case N:var we=X._init;return X=we(X._payload),xe(ee,X,se)}if(Ue(X)||Y(X))return X=Es(X,ee.mode,se,null),X.return=ee,X;if(typeof X.then=="function")return xe(ee,Rf(X),se);if(X.$$typeof===Q)return xe(ee,pf(ee,X),se);Nf(ee,X)}return null}function le(ee,X,se,we){var Be=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Be!==null?null:I(ee,X,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return se.key===Be?Z(ee,X,se,we):null;case O:return se.key===Be?ae(ee,X,se,we):null;case N:return Be=se._init,se=Be(se._payload),le(ee,X,se,we)}if(Ue(se)||Y(se))return Be!==null?null:ve(ee,X,se,we,null);if(typeof se.then=="function")return le(ee,X,Rf(se),we);if(se.$$typeof===Q)return le(ee,X,pf(ee,se),we);Nf(ee,se)}return null}function ce(ee,X,se,we,Be){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ee=ee.get(se)||null,I(X,ee,""+we,Be);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return ee=ee.get(we.key===null?se:we.key)||null,Z(X,ee,we,Be);case O:return ee=ee.get(we.key===null?se:we.key)||null,ae(X,ee,we,Be);case N:var mt=we._init;return we=mt(we._payload),ce(ee,X,se,we,Be)}if(Ue(we)||Y(we))return ee=ee.get(se)||null,ve(X,ee,we,Be,null);if(typeof we.then=="function")return ce(ee,X,se,Rf(we),Be);if(we.$$typeof===Q)return ce(ee,X,se,pf(X,we),Be);Nf(X,we)}return null}function nt(ee,X,se,we){for(var Be=null,mt=null,qe=X,Xe=X=0,Wn=null;qe!==null&&Xe<se.length;Xe++){qe.index>Xe?(Wn=qe,qe=null):Wn=qe.sibling;var Nt=le(ee,qe,se[Xe],we);if(Nt===null){qe===null&&(qe=Wn);break}i&&qe&&Nt.alternate===null&&s(ee,qe),X=E(Nt,X,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt,qe=Wn}if(Xe===se.length)return l(ee,qe),rt&&ie(ee,Xe),Be;if(qe===null){for(;Xe<se.length;Xe++)qe=xe(ee,se[Xe],we),qe!==null&&(X=E(qe,X,Xe),mt===null?Be=qe:mt.sibling=qe,mt=qe);return rt&&ie(ee,Xe),Be}for(qe=f(qe);Xe<se.length;Xe++)Wn=ce(qe,ee,Xe,se[Xe],we),Wn!==null&&(i&&Wn.alternate!==null&&qe.delete(Wn.key===null?Xe:Wn.key),X=E(Wn,X,Xe),mt===null?Be=Wn:mt.sibling=Wn,mt=Wn);return i&&qe.forEach(function(vo){return s(ee,vo)}),rt&&ie(ee,Xe),Be}function Ye(ee,X,se,we){if(se==null)throw Error(r(151));for(var Be=null,mt=null,qe=X,Xe=X=0,Wn=null,Nt=se.next();qe!==null&&!Nt.done;Xe++,Nt=se.next()){qe.index>Xe?(Wn=qe,qe=null):Wn=qe.sibling;var vo=le(ee,qe,Nt.value,we);if(vo===null){qe===null&&(qe=Wn);break}i&&qe&&vo.alternate===null&&s(ee,qe),X=E(vo,X,Xe),mt===null?Be=vo:mt.sibling=vo,mt=vo,qe=Wn}if(Nt.done)return l(ee,qe),rt&&ie(ee,Xe),Be;if(qe===null){for(;!Nt.done;Xe++,Nt=se.next())Nt=xe(ee,Nt.value,we),Nt!==null&&(X=E(Nt,X,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt);return rt&&ie(ee,Xe),Be}for(qe=f(qe);!Nt.done;Xe++,Nt=se.next())Nt=ce(qe,ee,Xe,Nt.value,we),Nt!==null&&(i&&Nt.alternate!==null&&qe.delete(Nt.key===null?Xe:Nt.key),X=E(Nt,X,Xe),mt===null?Be=Nt:mt.sibling=Nt,mt=Nt);return i&&qe.forEach(function(kR){return s(ee,kR)}),rt&&ie(ee,Xe),Be}function Ht(ee,X,se,we){if(typeof se=="object"&&se!==null&&se.type===V&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case A:e:{for(var Be=se.key;X!==null;){if(X.key===Be){if(Be=se.type,Be===V){if(X.tag===7){l(ee,X.sibling),we=g(X,se.props.children),we.return=ee,ee=we;break e}}else if(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&z0(Be)===X.type){l(ee,X.sibling),we=g(X,se.props),Mc(we,se),we.return=ee,ee=we;break e}l(ee,X);break}else s(ee,X);X=X.sibling}se.type===V?(we=Es(se.props.children,ee.mode,we,se.key),we.return=ee,ee=we):(we=fl(se.type,se.key,se.props,null,ee.mode,we),Mc(we,se),we.return=ee,ee=we)}return R(ee);case O:e:{for(Be=se.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){l(ee,X.sibling),we=g(X,se.children||[]),we.return=ee,ee=we;break e}else{l(ee,X);break}else s(ee,X);X=X.sibling}we=ou(se,ee.mode,we),we.return=ee,ee=we}return R(ee);case N:return Be=se._init,se=Be(se._payload),Ht(ee,X,se,we)}if(Ue(se))return nt(ee,X,se,we);if(Y(se)){if(Be=Y(se),typeof Be!="function")throw Error(r(150));return se=Be.call(se),Ye(ee,X,se,we)}if(typeof se.then=="function")return Ht(ee,X,Rf(se),we);if(se.$$typeof===Q)return Ht(ee,X,pf(ee,se),we);Nf(ee,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(l(ee,X.sibling),we=g(X,se),we.return=ee,ee=we):(l(ee,X),we=Ec(se,ee.mode,we),we.return=ee,ee=we),R(ee)):l(ee,X)}return function(ee,X,se,we){try{Oc=0;var Be=Ht(ee,X,se,we);return pu=null,Be}catch(qe){if(qe===Tc||qe===yf)throw qe;var mt=Pi(29,qe,null,ee.mode);return mt.lanes=we,mt.return=ee,mt}finally{}}}var gu=B0(!0),j0=B0(!1),Tr=W(null),ws=null;function io(i){var s=i.alternate;oe(zn,zn.current&1),oe(Tr,i),ws===null&&(s===null||hu.current!==null||s.memoizedState!==null)&&(ws=i)}function F0(i){if(i.tag===22){if(oe(zn,zn.current),oe(Tr,i),ws===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ws=i)}}else ro()}function ro(){oe(zn,zn.current),oe(Tr,Tr.current)}function aa(i){me(Tr),ws===i&&(ws=null),me(zn)}var zn=W(0);function Pf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ag(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function yp(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:b({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var _p={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=ar(),g=eo(f);g.payload=s,l!=null&&(g.callback=l),s=to(i,g,f),s!==null&&(or(s,i,f),Sc(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=ar(),g=eo(f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=to(i,g,f),s!==null&&(or(s,i,f),Sc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ar(),f=eo(l);f.tag=2,s!=null&&(f.callback=s),s=to(i,f,l),s!==null&&(or(s,i,l),Sc(s,i,l))}};function H0(i,s,l,f,g,E,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,E,R):s.prototype&&s.prototype.isPureReactComponent?!Ci(l,f)||!Ci(g,E):!0}function q0(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&_p.enqueueReplaceState(s,s.state,null)}function vl(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=b({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var If=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function G0(i){If(i)}function $0(i){console.error(i)}function Z0(i){If(i)}function Of(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function K0(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function vp(i,s,l){return l=eo(l),l.tag=3,l.payload={element:null},l.callback=function(){Of(i,s)},l}function W0(i){return i=eo(i),i.tag=3,i}function Y0(i,s,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var E=f.value;i.payload=function(){return g(E)},i.callback=function(){K0(s,l,f)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){K0(s,l,f),typeof g!="function"&&(co===null?co=new Set([this]):co.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function k2(i,s,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&pl(s,l,g,!0),l=Tr.current,l!==null){switch(l.tag){case 13:return ws===null?Hp():l.alternate===null&&yn===0&&(yn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Km?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Gp(i,f,g)),!1;case 22:return l.flags|=65536,f===Km?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Gp(i,f,g)),!1}throw Error(r(435,l.tag))}return Gp(i,f,g),Hp(),!1}if(rt)return s=Tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==$n&&(i=Error(r(422),{cause:f}),Qa(Ri(i,l)))):(f!==$n&&(s=Error(r(423),{cause:f}),Qa(Ri(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=Ri(f,l),g=vp(i.stateNode,f,g),Xm(i,g),yn!==4&&(yn=2)),!1;var E=Error(r(520),{cause:f});if(E=Ri(E,l),Bc===null?Bc=[E]:Bc.push(E),yn!==4&&(yn=2),s===null)return!0;f=Ri(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=vp(l.stateNode,f,i),Xm(l,i),!1;case 1:if(s=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(co===null||!co.has(E))))return l.flags|=65536,g&=-g,l.lanes|=g,g=W0(g),Y0(g,i,l,f),Xm(l,g),!1}l=l.return}while(l!==null);return!1}var X0=Error(r(461)),Zn=!1;function ei(i,s,l,f){s.child=i===null?j0(s,null,l,f):gu(s,i.child,l,f)}function Q0(i,s,l,f,g){l=l.render;var E=s.ref;if("ref"in f){var R={};for(var I in f)I!=="ref"&&(R[I]=f[I])}else R=f;return gl(s),f=np(i,s,l,R,E,g),I=ip(),i!==null&&!Zn?(rp(i,s,g),oa(i,s,g)):(rt&&I&&Ae(s),s.flags|=1,ei(i,s,f,g),s.child)}function J0(i,s,l,f,g){if(i===null){var E=l.type;return typeof E=="function"&&!au(E)&&E.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=E,eE(i,s,E,f,g)):(i=fl(l.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!Cp(i,g)){var R=E.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(R,f)&&i.ref===s.ref)return oa(i,s,g)}return s.flags|=1,i=br(E,f),i.ref=s.ref,i.return=s,s.child=i}function eE(i,s,l,f,g){if(i!==null){var E=i.memoizedProps;if(Ci(E,f)&&i.ref===s.ref)if(Zn=!1,s.pendingProps=f=E,Cp(i,g))(i.flags&131072)!==0&&(Zn=!0);else return s.lanes=i.lanes,oa(i,s,g)}return Ep(i,s,l,f,g)}function tE(i,s,l){var f=s.pendingProps,g=f.children,E=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=E!==null?E.baseLanes|l:l,i!==null){for(g=s.child=i.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;s.childLanes=E&~f}else s.childLanes=0,s.child=null;return nE(i,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(s,E!==null?E.cachePool:null),E!==null?e0(s,E):Jm(),F0(s);else return s.lanes=s.childLanes=536870912,nE(i,s,E!==null?E.baseLanes|l:l,l)}else E!==null?(gf(s,E.cachePool),e0(s,E),ro(),s.memoizedState=null):(i!==null&&gf(s,null),Jm(),ro());return ei(i,s,g,l),s.child}function nE(i,s,l,f){var g=Zm();return g=g===null?null:{parent:Un._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&gf(s,null),Jm(),F0(s),i!==null&&pl(i,s,f,!0),null}function Mf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Ep(i,s,l,f,g){return gl(s),l=np(i,s,l,f,void 0,g),f=ip(),i!==null&&!Zn?(rp(i,s,g),oa(i,s,g)):(rt&&f&&Ae(s),s.flags|=1,ei(i,s,l,g),s.child)}function iE(i,s,l,f,g,E){return gl(s),s.updateQueue=null,l=n0(s,f,l,g),t0(i),f=ip(),i!==null&&!Zn?(rp(i,s,E),oa(i,s,E)):(rt&&f&&Ae(s),s.flags|=1,ei(i,s,l,E),s.child)}function rE(i,s,l,f,g){if(gl(s),s.stateNode===null){var E=ia,R=l.contextType;typeof R=="object"&&R!==null&&(E=di(R)),E=new l(f,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=_p,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=f,E.state=s.memoizedState,E.refs={},Wm(s),R=l.contextType,E.context=typeof R=="object"&&R!==null?di(R):ia,E.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(yp(s,l,R,f),E.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&_p.enqueueReplaceState(E,E.state,null),Cc(s,f,E,g),Ac(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){E=s.stateNode;var I=s.memoizedProps,Z=vl(l,I);E.props=Z;var ae=E.context,ve=l.contextType;R=ia,typeof ve=="object"&&ve!==null&&(R=di(ve));var xe=l.getDerivedStateFromProps;ve=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ve||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I||ae!==R)&&q0(s,E,f,R),Ja=!1;var le=s.memoizedState;E.state=le,Cc(s,f,E,g),Ac(),ae=s.memoizedState,I||le!==ae||Ja?(typeof xe=="function"&&(yp(s,l,xe,f),ae=s.memoizedState),(Z=Ja||H0(s,l,Z,f,le,ae,R))?(ve||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ae),E.props=f,E.state=ae,E.context=R,f=Z):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,Ym(i,s),R=s.memoizedProps,ve=vl(l,R),E.props=ve,xe=s.pendingProps,le=E.context,ae=l.contextType,Z=ia,typeof ae=="object"&&ae!==null&&(Z=di(ae)),I=l.getDerivedStateFromProps,(ae=typeof I=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==xe||le!==Z)&&q0(s,E,f,Z),Ja=!1,le=s.memoizedState,E.state=le,Cc(s,f,E,g),Ac();var ce=s.memoizedState;R!==xe||le!==ce||Ja||i!==null&&i.dependencies!==null&&mf(i.dependencies)?(typeof I=="function"&&(yp(s,l,I,f),ce=s.memoizedState),(ve=Ja||H0(s,l,ve,f,le,ce,Z)||i!==null&&i.dependencies!==null&&mf(i.dependencies))?(ae||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ce,Z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ce,Z)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=ce),E.props=f,E.state=ce,E.context=Z,f=ve):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&le===i.memoizedState||(s.flags|=1024),f=!1)}return E=f,Mf(i,s),f=(s.flags&128)!==0,E||f?(E=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,i!==null&&f?(s.child=gu(s,i.child,null,g),s.child=gu(s,null,l,g)):ei(i,s,l,g),s.memoizedState=E.state,i=s.child):i=oa(i,s,g),i}function sE(i,s,l,f){return Xa(),s.flags|=256,ei(i,s,l,f),s.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(i){return{baseLanes:i,cachePool:$v()}}function Tp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=xr),i}function aE(i,s,l){var f=s.pendingProps,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=i!==null&&i.memoizedState===null?!1:(zn.current&2)!==0),R&&(g=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(g?io(s):ro(),rt){var I=je,Z;if(Z=I){e:{for(Z=I,I=cn;Z.nodeType!==8;){if(!I){I=null;break e}if(Z=Qr(Z.nextSibling),Z===null){I=null;break e}}I=Z}I!==null?(s.memoizedState={dehydrated:I,treeContext:S!==null?{id:P,overflow:$}:null,retryLane:536870912,hydrationErrors:null},Z=Pi(18,null,null,0),Z.stateNode=I,Z.return=s,s.child=Z,ze=s,je=null,Z=!0):Z=!1}Z||Li(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return ag(I)?s.lanes=32:s.lanes=536870912,null;aa(s)}return I=f.children,f=f.fallback,g?(ro(),g=s.mode,I=Df({mode:"hidden",children:I},g),f=Es(f,g,l,null),I.return=s,f.return=s,I.sibling=f,s.child=I,g=s.child,g.memoizedState=wp(l),g.childLanes=Tp(i,R,l),s.memoizedState=bp,f):(io(s),xp(s,I))}if(Z=i.memoizedState,Z!==null&&(I=Z.dehydrated,I!==null)){if(E)s.flags&256?(io(s),s.flags&=-257,s=Sp(i,s,l)):s.memoizedState!==null?(ro(),s.child=i.child,s.flags|=128,s=null):(ro(),g=f.fallback,I=s.mode,f=Df({mode:"visible",children:f.children},I),g=Es(g,I,l,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,gu(s,i.child,null,l),f=s.child,f.memoizedState=wp(l),f.childLanes=Tp(i,R,l),s.memoizedState=bp,s=g);else if(io(s),ag(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var ae=R.dgst;R=ae,f=Error(r(419)),f.stack="",f.digest=R,Qa({value:f,source:null,stack:null}),s=Sp(i,s,l)}else if(Zn||pl(i,s,l,!1),R=(l&i.childLanes)!==0,Zn||R){if(R=tn,R!==null&&(f=l&-l,f=(f&42)!==0?1:Ti(f),f=(f&(R.suspendedLanes|l))!==0?0:f,f!==0&&f!==Z.retryLane))throw Z.retryLane=f,Wa(i,f),or(R,i,f),X0;I.data==="$?"||Hp(),s=Sp(i,s,l)}else I.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=Z.treeContext,je=Qr(I.nextSibling),ze=s,rt=!0,en=null,cn=!1,i!==null&&(p[w++]=P,p[w++]=$,p[w++]=S,P=i.id,$=i.overflow,S=s),s=xp(s,f.children),s.flags|=4096);return s}return g?(ro(),g=f.fallback,I=s.mode,Z=i.child,ae=Z.sibling,f=br(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,ae!==null?g=br(ae,g):(g=Es(g,I,l,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,I=i.child.memoizedState,I===null?I=wp(l):(Z=I.cachePool,Z!==null?(ae=Un._currentValue,Z=Z.parent!==ae?{parent:ae,pool:ae}:Z):Z=$v(),I={baseLanes:I.baseLanes|l,cachePool:Z}),g.memoizedState=I,g.childLanes=Tp(i,R,l),s.memoizedState=bp,f):(io(s),l=i.child,i=l.sibling,l=br(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=l,s.memoizedState=null,l)}function xp(i,s){return s=Df({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Df(i,s){return i=Pi(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Sp(i,s,l){return gu(s,i.child,null,l),i=xp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function oE(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),ml(i.return,s,l)}function Ap(i,s,l,f,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=l,E.tailMode=g)}function lE(i,s,l){var f=s.pendingProps,g=f.revealOrder,E=f.tail;if(ei(i,s,f.children,l),f=zn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oE(i,l,s);else if(i.tag===19)oE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(oe(zn,f),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Pf(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Ap(s,!1,g,l,E);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Pf(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Ap(s,!0,l,null,E);break;case"together":Ap(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oa(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),uo|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(pl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=br(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=br(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Cp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&mf(i)))}function V2(i,s,l){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),bs(s,Un,i.memoizedState.cache),Xa();break;case 27:case 5:Gt(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:bs(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(io(s),s.flags|=128,null):(l&s.child.childLanes)!==0?aE(i,s,l):(io(s),i=oa(i,s,l),i!==null?i.sibling:null);io(s);break;case 19:var g=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(pl(i,s,l,!1),f=(l&s.childLanes)!==0),g){if(f)return lE(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(zn,zn.current),f)break;return null;case 22:case 23:return s.lanes=0,tE(i,s,l);case 24:bs(s,Un,i.memoizedState.cache)}return oa(i,s,l)}function uE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zn=!0;else{if(!Cp(i,l)&&(s.flags&128)===0)return Zn=!1,V2(i,s,l);Zn=(i.flags&131072)!==0}else Zn=!1,rt&&(s.flags&1048576)!==0&&he(s,c,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,g=f._init;if(f=g(f._payload),s.type=f,typeof f=="function")au(f)?(i=vl(f,i),s.tag=1,s=rE(null,s,f,i,l)):(s.tag=0,s=Ep(null,s,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===_e){s.tag=11,s=Q0(null,s,f,i,l);break e}else if(g===j){s.tag=14,s=J0(null,s,f,i,l);break e}}throw s=Ze(f)||f,Error(r(306,s,""))}}return s;case 0:return Ep(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,g=vl(f,s.pendingProps),rE(i,s,f,g,l);case 3:e:{if(Qe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var E=s.memoizedState;g=E.element,Ym(i,s),Cc(s,f,null,l);var R=s.memoizedState;if(f=R.cache,bs(s,Un,f),f!==E.cache&&lu(s,[Un],l,!0),Ac(),f=R.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=sE(i,s,f,l);break e}else if(f!==g){g=Ri(Error(r(424)),s),Qa(g),s=sE(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(je=Qr(i.firstChild),ze=s,rt=!0,en=null,cn=!0,l=j0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xa(),f===g){s=oa(i,s,l);break e}ei(i,s,f,l)}s=s.child}return s;case 26:return Mf(i,s),i===null?(l=db(s.type,null,s.pendingProps,null))?s.memoizedState=l:rt||(l=s.type,i=s.pendingProps,f=Kf(Te.current).createElement(l),f[vn]=s,f[pn]=i,ni(f,l,i),un(f),s.stateNode=f):s.memoizedState=db(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Gt(s),i===null&&rt&&(f=s.stateNode=cb(s.type,s.pendingProps,Te.current),ze=s,cn=!0,g=je,mo(s.type)?(og=g,je=Qr(f.firstChild)):je=g),ei(i,s,s.pendingProps.children,l),Mf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((g=f=je)&&(f=hR(f,s.type,s.pendingProps,cn),f!==null?(s.stateNode=f,ze=s,je=Qr(f.firstChild),cn=!1,g=!0):g=!1),g||Li(s)),Gt(s),g=s.type,E=s.pendingProps,R=i!==null?i.memoizedProps:null,f=E.children,ig(g,E)?f=null:R!==null&&ig(g,R)&&(s.flags|=32),s.memoizedState!==null&&(g=np(i,s,N2,null,null,l),Wc._currentValue=g),Mf(i,s),ei(i,s,f,l),s.child;case 6:return i===null&&rt&&((i=l=je)&&(l=fR(l,s.pendingProps,cn),l!==null?(s.stateNode=l,ze=s,je=null,i=!0):i=!1),i||Li(s)),null;case 13:return aE(i,s,l);case 4:return Qe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=gu(s,null,f,l):ei(i,s,f,l),s.child;case 11:return Q0(i,s,s.type,s.pendingProps,l);case 7:return ei(i,s,s.pendingProps,l),s.child;case 8:return ei(i,s,s.pendingProps.children,l),s.child;case 12:return ei(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,bs(s,s.type,f.value),ei(i,s,f.children,l),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,gl(s),g=di(g),f=f(g),s.flags|=1,ei(i,s,f,l),s.child;case 14:return J0(i,s,s.type,s.pendingProps,l);case 15:return eE(i,s,s.type,s.pendingProps,l);case 19:return lE(i,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},i===null?(l=Df(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=br(i.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return tE(i,s,l);case 24:return gl(s),f=di(Un),i===null?(g=Zm(),g===null&&(g=tn,E=Gm(),g.pooledCache=E,E.refCount++,E!==null&&(g.pooledCacheLanes|=l),g=E),s.memoizedState={parent:f,cache:g},Wm(s),bs(s,Un,g)):((i.lanes&l)!==0&&(Ym(i,s),Cc(s,null,null,l),Ac()),g=i.memoizedState,E=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bs(s,Un,f)):(f=E.cache,bs(s,Un,f),f!==g.cache&&lu(s,[Un],l,!0))),ei(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function la(i){i.flags|=4}function cE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_b(s)){if(s=Tr.current,s!==null&&((St&4194048)===St?ws!==null:(St&62914560)!==St&&(St&536870912)===0||s!==ws))throw xc=Km,Zv;i.flags|=8192}}function Lf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Tt():536870912,i.lanes|=s,Eu|=s)}function Dc(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function hn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function U2(i,s,l){var f=s.pendingProps;switch(De(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Yr(Un),qt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dl(s)?la(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,df())),hn(s),null;case 26:return l=s.memoizedState,i===null?(la(s),l!==null?(hn(s),cE(s,l)):(hn(s),s.flags&=-16777217)):l?l!==i.memoizedState?(la(s),hn(s),cE(s,l)):(hn(s),s.flags&=-16777217):(i.memoizedProps!==f&&la(s),hn(s),s.flags&=-16777217),null;case 27:Pt(s),l=Te.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&la(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return hn(s),null}i=Ne.current,dl(s)?hf(s):(i=cb(g,f,l),s.stateNode=i,la(s))}return hn(s),null;case 5:if(Pt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&la(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return hn(s),null}if(i=Ne.current,dl(s))hf(s);else{switch(g=Kf(Te.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[vn]=s,i[pn]=f;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(ni(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&la(s)}}return hn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&la(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Te.current,dl(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,g=ze,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[vn]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||ib(i.nodeValue,l)),i||Li(s)}else i=Kf(i).createTextNode(f),i[vn]=s,s.stateNode=i}return hn(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=dl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[vn]=s}else Xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),g=!1}else g=df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(aa(s),s):(aa(s),null)}if(aa(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var E=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==g&&(f.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Lf(s,s.updateQueue),hn(s),null;case 4:return qt(),i===null&&Qp(s.stateNode.containerInfo),hn(s),null;case 10:return Yr(s.type),hn(s),null;case 19:if(me(zn),g=s.memoizedState,g===null)return hn(s),null;if(f=(s.flags&128)!==0,E=g.rendering,E===null)if(f)Dc(g,!1);else{if(yn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(E=Pf(i),E!==null){for(s.flags|=128,Dc(g,!1),i=E.updateQueue,s.updateQueue=i,Lf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)vc(l,i),l=l.sibling;return oe(zn,zn.current&1|2),s.child}i=i.sibling}g.tail!==null&&jn()>Uf&&(s.flags|=128,f=!0,Dc(g,!1),s.lanes=4194304)}else{if(!f)if(i=Pf(E),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Lf(s,i),Dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return hn(s),null}else 2*jn()-g.renderingStartTime>Uf&&l!==536870912&&(s.flags|=128,f=!0,Dc(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(i=g.last,i!==null?i.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=jn(),s.sibling=null,i=zn.current,oe(zn,f?i&1|2:i&1),s):(hn(s),null);case 22:case 23:return aa(s),ep(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),l=s.updateQueue,l!==null&&Lf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&me(yl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Yr(Un),hn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function z2(i,s){switch(De(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Yr(Un),qt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pt(s),null;case 13:if(aa(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return me(zn),null;case 4:return qt(),null;case 10:return Yr(s.type),null;case 22:case 23:return aa(s),ep(),i!==null&&me(yl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Yr(Un),null;case 25:return null;default:return null}}function hE(i,s){switch(De(s),s.tag){case 3:Yr(Un),qt();break;case 26:case 27:case 5:Pt(s);break;case 4:qt();break;case 13:aa(s);break;case 19:me(zn);break;case 10:Yr(s.type);break;case 22:case 23:aa(s),ep(),i!==null&&me(yl);break;case 24:Yr(Un)}}function Lc(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var E=l.create,R=l.inst;f=E(),R.destroy=f}l=l.next}while(l!==g)}}catch(I){Zt(s,s.return,I)}}function so(i,s,l){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var E=g.next;f=E;do{if((f.tag&i)===i){var R=f.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,g=s;var Z=l,ae=I;try{ae()}catch(ve){Zt(g,Z,ve)}}}f=f.next}while(f!==E)}}catch(ve){Zt(s,s.return,ve)}}function fE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Jv(s,l)}catch(f){Zt(i,i.return,f)}}}function dE(i,s,l){l.props=vl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Zt(i,s,f)}}function kc(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){Zt(i,s,g)}}function Ts(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Zt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Zt(i,s,g)}else l.current=null}function mE(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Zt(i,i.return,g)}}function Rp(i,s,l){try{var f=i.stateNode;aR(f,i.type,l,s),f[pn]=s}catch(g){Zt(i,i.return,g)}}function pE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mo(i.type)||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pp(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Zf));else if(f!==4&&(f===27&&mo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Pp(i,s,l),i=i.sibling;i!==null;)Pp(i,s,l),i=i.sibling}function kf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&mo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(kf(i,s,l),i=i.sibling;i!==null;)kf(i,s,l),i=i.sibling}function gE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ni(s,f,l),s[vn]=i,s[pn]=l}catch(E){Zt(i,i.return,E)}}var ua=!1,wn=!1,Ip=!1,yE=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function B2(i,s){if(i=i.containerInfo,tg=ed,i=al(i),ol(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var R=0,I=-1,Z=-1,ae=0,ve=0,xe=i,le=null;t:for(;;){for(var ce;xe!==l||g!==0&&xe.nodeType!==3||(I=R+g),xe!==E||f!==0&&xe.nodeType!==3||(Z=R+f),xe.nodeType===3&&(R+=xe.nodeValue.length),(ce=xe.firstChild)!==null;)le=xe,xe=ce;for(;;){if(xe===i)break t;if(le===l&&++ae===g&&(I=R),le===E&&++ve===f&&(Z=R),(ce=xe.nextSibling)!==null)break;xe=le,le=xe.parentNode}xe=ce}l=I===-1||Z===-1?null:{start:I,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(ng={focusedElem:i,selectionRange:l},ed=!1,Kn=s;Kn!==null;)if(s=Kn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Kn=i;else for(;Kn!==null;){switch(s=Kn,E=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,l=s,g=E.memoizedProps,E=E.memoizedState,f=l.stateNode;try{var nt=vl(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(nt,E),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ye){Zt(l,l.return,Ye)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)sg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kn=i;break}Kn=s.return}}function _E(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ao(i,l),f&4&&Lc(5,l);break;case 1:if(ao(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(R){Zt(l,l.return,R)}else{var g=vl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Zt(l,l.return,R)}}f&64&&fE(l),f&512&&kc(l,l.return);break;case 3:if(ao(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Jv(i,s)}catch(R){Zt(l,l.return,R)}}break;case 27:s===null&&f&4&&gE(l);case 26:case 5:ao(i,l),s===null&&f&4&&mE(l),f&512&&kc(l,l.return);break;case 12:ao(i,l);break;case 13:ao(i,l),f&4&&bE(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=W2.bind(null,l),dR(i,l))));break;case 22:if(f=l.memoizedState!==null||ua,!f){s=s!==null&&s.memoizedState!==null||wn,g=ua;var E=wn;ua=f,(wn=s)&&!E?oo(i,l,(l.subtreeFlags&8772)!==0):ao(i,l),ua=g,wn=E}break;case 30:break;default:ao(i,l)}}function vE(i){var s=i.alternate;s!==null&&(i.alternate=null,vE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ur(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var on=null,Vi=!1;function ca(i,s,l){for(l=l.child;l!==null;)EE(i,s,l),l=l.sibling}function EE(i,s,l){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:wn||Ts(l,s),ca(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wn||Ts(l,s);var f=on,g=Vi;mo(l.type)&&(on=l.stateNode,Vi=!1),ca(i,s,l),Gc(l.stateNode),on=f,Vi=g;break;case 5:wn||Ts(l,s);case 6:if(f=on,g=Vi,on=null,ca(i,s,l),on=f,Vi=g,on!==null)if(Vi)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(l.stateNode)}catch(E){Zt(l,s,E)}else try{on.removeChild(l.stateNode)}catch(E){Zt(l,s,E)}break;case 18:on!==null&&(Vi?(i=on,lb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Jc(i)):lb(on,l.stateNode));break;case 4:f=on,g=Vi,on=l.stateNode.containerInfo,Vi=!0,ca(i,s,l),on=f,Vi=g;break;case 0:case 11:case 14:case 15:wn||so(2,l,s),wn||so(4,l,s),ca(i,s,l);break;case 1:wn||(Ts(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&dE(l,s,f)),ca(i,s,l);break;case 21:ca(i,s,l);break;case 22:wn=(f=wn)||l.memoizedState!==null,ca(i,s,l),wn=f;break;default:ca(i,s,l)}}function bE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jc(i)}catch(l){Zt(s,s.return,l)}}function j2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new yE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new yE),s;default:throw Error(r(435,i.tag))}}function Op(i,s){var l=j2(i);s.forEach(function(f){var g=Y2.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function ir(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],E=i,R=s,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(mo(I.type)){on=I.stateNode,Vi=!1;break e}break;case 5:on=I.stateNode,Vi=!1;break e;case 3:case 4:on=I.stateNode.containerInfo,Vi=!0;break e}I=I.return}if(on===null)throw Error(r(160));EE(E,R,g),on=null,Vi=!1,E=g.alternate,E!==null&&(E.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)wE(s,i),s=s.sibling}var Xr=null;function wE(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ir(s,i),rr(i),f&4&&(so(3,i,i.return),Lc(3,i),so(5,i,i.return));break;case 1:ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),f&64&&ua&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Xr;if(ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),f&4){var E=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":E=g.getElementsByTagName("title")[0],(!E||E[cs]||E[vn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=g.createElement(f),g.head.insertBefore(E,g.querySelector("head > title"))),ni(E,f,l),E[vn]=i,un(E),f=E;break e;case"link":var R=gb("link","href",g).get(f+(l.href||""));if(R){for(var I=0;I<R.length;I++)if(E=R[I],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(I,1);break t}}E=g.createElement(f),ni(E,f,l),g.head.appendChild(E);break;case"meta":if(R=gb("meta","content",g).get(f+(l.content||""))){for(I=0;I<R.length;I++)if(E=R[I],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(I,1);break t}}E=g.createElement(f),ni(E,f,l),g.head.appendChild(E);break;default:throw Error(r(468,f))}E[vn]=i,un(E),f=E}i.stateNode=f}else yb(g,i.type,i.stateNode);else i.stateNode=pb(g,f,i.memoizedProps);else E!==f?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,f===null?yb(g,i.type,i.stateNode):pb(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,l.memoizedProps)}break;case 27:ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),l!==null&&f&4&&Rp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ir(s,i),rr(i),f&512&&(wn||l===null||Ts(l,l.return)),i.flags&32){g=i.stateNode;try{Hn(g,"")}catch(ce){Zt(i,i.return,ce)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,Rp(i,g,l!==null?l.memoizedProps:g)),f&1024&&(Ip=!0);break;case 6:if(ir(s,i),rr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(ce){Zt(i,i.return,ce)}}break;case 3:if(Xf=null,g=Xr,Xr=Wf(s.containerInfo),ir(s,i),Xr=g,rr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Jc(s.containerInfo)}catch(ce){Zt(i,i.return,ce)}Ip&&(Ip=!1,TE(i));break;case 4:f=Xr,Xr=Wf(i.stateNode.containerInfo),ir(s,i),rr(i),Xr=f;break;case 12:ir(s,i),rr(i);break;case 13:ir(s,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Up=jn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Op(i,f)));break;case 22:g=i.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,ae=ua,ve=wn;if(ua=ae||g,wn=ve||Z,ir(s,i),wn=ve,ua=ae,rr(i),f&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||Z||ua||wn||El(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){Z=l=s;try{if(E=Z.stateNode,g)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=Z.stateNode;var xe=Z.memoizedProps.style,le=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ce){Zt(Z,Z.return,ce)}}}else if(s.tag===6){if(l===null){Z=s;try{Z.stateNode.nodeValue=g?"":Z.memoizedProps}catch(ce){Zt(Z,Z.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Op(i,l))));break;case 19:ir(s,i),rr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Op(i,f)));break;case 30:break;case 21:break;default:ir(s,i),rr(i)}}function rr(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(pE(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,E=Np(i);kf(i,E,g);break;case 5:var R=l.stateNode;l.flags&32&&(Hn(R,""),l.flags&=-33);var I=Np(i);kf(i,I,R);break;case 3:case 4:var Z=l.stateNode.containerInfo,ae=Np(i);Pp(i,ae,Z);break;default:throw Error(r(161))}}catch(ve){Zt(i,i.return,ve)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function TE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;TE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ao(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_E(i,s.alternate,s),s=s.sibling}function El(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:so(4,s,s.return),El(s);break;case 1:Ts(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&dE(s,s.return,l),El(s);break;case 27:Gc(s.stateNode);case 26:case 5:Ts(s,s.return),El(s);break;case 22:s.memoizedState===null&&El(s);break;case 30:El(s);break;default:El(s)}i=i.sibling}}function oo(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=i,E=s,R=E.flags;switch(E.tag){case 0:case 11:case 15:oo(g,E,l),Lc(4,E);break;case 1:if(oo(g,E,l),f=E,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ae){Zt(f,f.return,ae)}if(f=E,g=f.updateQueue,g!==null){var I=f.stateNode;try{var Z=g.shared.hiddenCallbacks;if(Z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Z.length;g++)Qv(Z[g],I)}catch(ae){Zt(f,f.return,ae)}}l&&R&64&&fE(E),kc(E,E.return);break;case 27:gE(E);case 26:case 5:oo(g,E,l),l&&f===null&&R&4&&mE(E),kc(E,E.return);break;case 12:oo(g,E,l);break;case 13:oo(g,E,l),l&&R&4&&bE(g,E);break;case 22:E.memoizedState===null&&oo(g,E,l),kc(E,E.return);break;case 30:break;default:oo(g,E,l)}s=s.sibling}}function Mp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bc(l))}function Dp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i))}function xs(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xE(i,s,l,f),s=s.sibling}function xE(i,s,l,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:xs(i,s,l,f),g&2048&&Lc(9,s);break;case 1:xs(i,s,l,f);break;case 3:xs(i,s,l,f),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i)));break;case 12:if(g&2048){xs(i,s,l,f),i=s.stateNode;try{var E=s.memoizedProps,R=E.id,I=E.onPostCommit;typeof I=="function"&&I(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){Zt(s,s.return,Z)}}else xs(i,s,l,f);break;case 13:xs(i,s,l,f);break;case 23:break;case 22:E=s.stateNode,R=s.alternate,s.memoizedState!==null?E._visibility&2?xs(i,s,l,f):Vc(i,s):E._visibility&2?xs(i,s,l,f):(E._visibility|=2,yu(i,s,l,f,(s.subtreeFlags&10256)!==0)),g&2048&&Mp(R,s);break;case 24:xs(i,s,l,f),g&2048&&Dp(s.alternate,s);break;default:xs(i,s,l,f)}}function yu(i,s,l,f,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var E=i,R=s,I=l,Z=f,ae=R.flags;switch(R.tag){case 0:case 11:case 15:yu(E,R,I,Z,g),Lc(8,R);break;case 23:break;case 22:var ve=R.stateNode;R.memoizedState!==null?ve._visibility&2?yu(E,R,I,Z,g):Vc(E,R):(ve._visibility|=2,yu(E,R,I,Z,g)),g&&ae&2048&&Mp(R.alternate,R);break;case 24:yu(E,R,I,Z,g),g&&ae&2048&&Dp(R.alternate,R);break;default:yu(E,R,I,Z,g)}s=s.sibling}}function Vc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,g=f.flags;switch(f.tag){case 22:Vc(l,f),g&2048&&Mp(f.alternate,f);break;case 24:Vc(l,f),g&2048&&Dp(f.alternate,f);break;default:Vc(l,f)}s=s.sibling}}var Uc=8192;function _u(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)SE(i),i=i.sibling}function SE(i){switch(i.tag){case 26:_u(i),i.flags&Uc&&i.memoizedState!==null&&AR(Xr,i.memoizedState,i.memoizedProps);break;case 5:_u(i);break;case 3:case 4:var s=Xr;Xr=Wf(i.stateNode.containerInfo),_u(i),Xr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uc,Uc=16777216,_u(i),Uc=s):_u(i));break;default:_u(i)}}function AE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Kn=f,RE(f,i)}AE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CE(i),i=i.sibling}function CE(i){switch(i.tag){case 0:case 11:case 15:zc(i),i.flags&2048&&so(9,i,i.return);break;case 3:zc(i);break;case 12:zc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Vf(i)):zc(i);break;default:zc(i)}}function Vf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Kn=f,RE(f,i)}AE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:so(8,s,s.return),Vf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vf(s));break;default:Vf(s)}i=i.sibling}}function RE(i,s){for(;Kn!==null;){var l=Kn;switch(l.tag){case 0:case 11:case 15:so(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:bc(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Kn=f;else e:for(l=i;Kn!==null;){f=Kn;var g=f.sibling,E=f.return;if(vE(f),f===l){Kn=null;break e}if(g!==null){g.return=E,Kn=g;break e}Kn=E}}}var F2={getCacheForType:function(i){var s=di(Un),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},H2=typeof WeakMap=="function"?WeakMap:Map,Ut=0,tn=null,pt=null,St=0,zt=0,sr=null,lo=!1,vu=!1,Lp=!1,ha=0,yn=0,uo=0,bl=0,kp=0,xr=0,Eu=0,Bc=null,Ui=null,Vp=!1,Up=0,Uf=1/0,zf=null,co=null,ti=0,ho=null,bu=null,wu=0,zp=0,Bp=null,NE=null,jc=0,jp=null;function ar(){if((Ut&2)!==0&&St!==0)return St&-St;if(re.T!==null){var i=uu;return i!==0?i:Kp()}return Hi()}function PE(){xr===0&&(xr=(St&536870912)===0||rt?Ot():536870912);var i=Tr.current;return i!==null&&(i.flags|=32),xr}function or(i,s,l){(i===tn&&(zt===2||zt===9)||i.cancelPendingCommit!==null)&&(Tu(i,0),fo(i,St,xr,!1)),Ct(i,l),((Ut&2)===0||i!==tn)&&(i===tn&&((Ut&2)===0&&(bl|=l),yn===4&&fo(i,St,xr,!1)),Ss(i))}function IE(i,s,l){if((Ut&6)!==0)throw Error(r(327));var f=!l&&(s&124)===0&&(s&i.expiredLanes)===0||We(i,s),g=f?$2(i,s):qp(i,s,!0),E=f;do{if(g===0){vu&&!f&&fo(i,s,0,!1);break}else{if(l=i.current.alternate,E&&!q2(l)){g=qp(i,s,!1),E=!1;continue}if(g===2){if(E=s,i.errorRecoveryDisabledLanes&E)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var I=i;g=Bc;var Z=I.current.memoizedState.isDehydrated;if(Z&&(Tu(I,R).flags|=256),R=qp(I,R,!1),R!==2){if(Lp&&!Z){I.errorRecoveryDisabledLanes|=E,bl|=E,g=4;break e}E=Ui,Ui=g,E!==null&&(Ui===null?Ui=E:Ui.push.apply(Ui,E))}g=R}if(E=!1,g!==2)continue}}if(g===1){Tu(i,0),fo(i,s,0,!0);break}e:{switch(f=i,E=g,E){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fo(f,s,xr,!lo);break e;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Up+300-jn(),10<g)){if(fo(f,s,xr,!lo),Le(f,0,!0)!==0)break e;f.timeoutHandle=ab(OE.bind(null,f,l,Ui,zf,Vp,s,xr,bl,Eu,lo,E,2,-0,0),g);break e}OE(f,l,Ui,zf,Vp,s,xr,bl,Eu,lo,E,0,-0,0)}}break}while(!0);Ss(i)}function OE(i,s,l,f,g,E,R,I,Z,ae,ve,xe,le,ce){if(i.timeoutHandle=-1,xe=s.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:SR},SE(s),xe=CR(),xe!==null)){i.cancelPendingCommit=xe(zE.bind(null,i,s,E,l,f,g,R,I,Z,ve,1,le,ce)),fo(i,E,R,!ae);return}zE(i,s,E,l,f,g,R,I,Z)}function q2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],E=g.getSnapshot;g=g.value;try{if(!Ai(E(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fo(i,s,l,f){s&=~kp,s&=~bl,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var g=s;0<g;){var E=31-He(g),R=1<<E;f[E]=-1,g&=~R}l!==0&&Ln(i,l,s)}function Bf(){return(Ut&6)===0?(Fc(0),!1):!0}function Fp(){if(pt!==null){if(zt===0)var i=pt.return;else i=pt,Wr=wr=null,sp(i),pu=null,Oc=0,i=pt;for(;i!==null;)hE(i.alternate,i),i=i.return;pt=null}}function Tu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,lR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Fp(),tn=i,pt=l=br(i.current,null),St=s,zt=0,sr=null,lo=!1,vu=We(i,s),Lp=!1,Eu=xr=kp=bl=uo=yn=0,Ui=Bc=null,Vp=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var g=31-He(f),E=1<<g;s|=i[g],f&=~E}return ha=s,ul(),l}function ME(i,s){ft=null,re.H=Cf,s===Tc||s===yf?(s=Yv(),zt=3):s===Zv?(s=Yv(),zt=4):zt=s===X0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,pt===null&&(yn=1,Of(i,Ri(s,i.current)))}function DE(){var i=re.H;return re.H=Cf,i===null?Cf:i}function LE(){var i=re.A;return re.A=F2,i}function Hp(){yn=4,lo||(St&4194048)!==St&&Tr.current!==null||(vu=!0),(uo&134217727)===0&&(bl&134217727)===0||tn===null||fo(tn,St,xr,!1)}function qp(i,s,l){var f=Ut;Ut|=2;var g=DE(),E=LE();(tn!==i||St!==s)&&(zf=null,Tu(i,s)),s=!1;var R=yn;e:do try{if(zt!==0&&pt!==null){var I=pt,Z=sr;switch(zt){case 8:Fp(),R=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(s=!0);var ae=zt;if(zt=0,sr=null,xu(i,I,Z,ae),l&&vu){R=0;break e}break;default:ae=zt,zt=0,sr=null,xu(i,I,Z,ae)}}G2(),R=yn;break}catch(ve){ME(i,ve)}while(!0);return s&&i.shellSuspendCounter++,Wr=wr=null,Ut=f,re.H=g,re.A=E,pt===null&&(tn=null,St=0,ul()),R}function G2(){for(;pt!==null;)kE(pt)}function $2(i,s){var l=Ut;Ut|=2;var f=DE(),g=LE();tn!==i||St!==s?(zf=null,Uf=jn()+500,Tu(i,s)):vu=We(i,s);e:do try{if(zt!==0&&pt!==null){s=pt;var E=sr;t:switch(zt){case 1:zt=0,sr=null,xu(i,s,E,1);break;case 2:case 9:if(Kv(E)){zt=0,sr=null,VE(s);break}s=function(){zt!==2&&zt!==9||tn!==i||(zt=7),Ss(i)},E.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Kv(E)?(zt=0,sr=null,VE(s)):(zt=0,sr=null,xu(i,s,E,7));break;case 5:var R=null;switch(pt.tag){case 26:R=pt.memoizedState;case 5:case 27:var I=pt;if(!R||_b(R)){zt=0,sr=null;var Z=I.sibling;if(Z!==null)pt=Z;else{var ae=I.return;ae!==null?(pt=ae,jf(ae)):pt=null}break t}}zt=0,sr=null,xu(i,s,E,5);break;case 6:zt=0,sr=null,xu(i,s,E,6);break;case 8:Fp(),yn=6;break e;default:throw Error(r(462))}}Z2();break}catch(ve){ME(i,ve)}while(!0);return Wr=wr=null,re.H=f,re.A=g,Ut=l,pt!==null?0:(tn=null,St=0,ul(),yn)}function Z2(){for(;pt!==null&&!Dr();)kE(pt)}function kE(i){var s=uE(i.alternate,i,ha);i.memoizedProps=i.pendingProps,s===null?jf(i):pt=s}function VE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=iE(l,s,s.pendingProps,s.type,void 0,St);break;case 11:s=iE(l,s,s.pendingProps,s.type.render,s.ref,St);break;case 5:sp(s);default:hE(l,s),s=pt=vc(s,ha),s=uE(l,s,ha)}i.memoizedProps=i.pendingProps,s===null?jf(i):pt=s}function xu(i,s,l,f){Wr=wr=null,sp(s),pu=null,Oc=0;var g=s.return;try{if(k2(i,g,s,l,St)){yn=1,Of(i,Ri(l,i.current)),pt=null;return}}catch(E){if(g!==null)throw pt=g,E;yn=1,Of(i,Ri(l,i.current)),pt=null;return}s.flags&32768?(rt||f===1?i=!0:vu||(St&536870912)!==0?i=!1:(lo=i=!0,(f===2||f===9||f===3||f===6)&&(f=Tr.current,f!==null&&f.tag===13&&(f.flags|=16384))),UE(s,i)):jf(s)}function jf(i){var s=i;do{if((s.flags&32768)!==0){UE(s,lo);return}i=s.return;var l=U2(s.alternate,s,ha);if(l!==null){pt=l;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=i}while(s!==null);yn===0&&(yn=5)}function UE(i,s){do{var l=z2(i.alternate,i);if(l!==null){l.flags&=32767,pt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){pt=i;return}pt=i=l}while(i!==null);yn=6,pt=null}function zE(i,s,l,f,g,E,R,I,Z){i.cancelPendingCommit=null;do Ff();while(ti!==0);if((Ut&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(E=s.lanes|s.childLanes,E|=nr,sn(i,l,E,R,I,Z),i===tn&&(pt=tn=null,St=0),bu=s,ho=i,wu=l,zp=E,Bp=g,NE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,X2(bi,function(){return qE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=re.T,re.T=null,g=ge.p,ge.p=2,R=Ut,Ut|=4;try{B2(i,s,l)}finally{Ut=R,ge.p=g,re.T=f}}ti=1,BE(),jE(),FE()}}function BE(){if(ti===1){ti=0;var i=ho,s=bu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var f=ge.p;ge.p=2;var g=Ut;Ut|=4;try{wE(s,i);var E=ng,R=al(i.containerInfo),I=E.focusedElem,Z=E.selectionRange;if(R!==I&&I&&I.ownerDocument&&tu(I.ownerDocument.documentElement,I)){if(Z!==null&&ol(I)){var ae=Z.start,ve=Z.end;if(ve===void 0&&(ve=ae),"selectionStart"in I)I.selectionStart=ae,I.selectionEnd=Math.min(ve,I.value.length);else{var xe=I.ownerDocument||document,le=xe&&xe.defaultView||window;if(le.getSelection){var ce=le.getSelection(),nt=I.textContent.length,Ye=Math.min(Z.start,nt),Ht=Z.end===void 0?Ye:Math.min(Z.end,nt);!ce.extend&&Ye>Ht&&(R=Ht,Ht=Ye,Ye=R);var ee=yc(I,Ye),X=yc(I,Ht);if(ee&&X&&(ce.rangeCount!==1||ce.anchorNode!==ee.node||ce.anchorOffset!==ee.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var se=xe.createRange();se.setStart(ee.node,ee.offset),ce.removeAllRanges(),Ye>Ht?(ce.addRange(se),ce.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),ce.addRange(se))}}}}for(xe=[],ce=I;ce=ce.parentNode;)ce.nodeType===1&&xe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<xe.length;I++){var we=xe[I];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}ed=!!tg,ng=tg=null}finally{Ut=g,ge.p=f,re.T=l}}i.current=s,ti=2}}function jE(){if(ti===2){ti=0;var i=ho,s=bu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var f=ge.p;ge.p=2;var g=Ut;Ut|=4;try{_E(i,s.alternate,s)}finally{Ut=g,ge.p=f,re.T=l}}ti=3}}function FE(){if(ti===4||ti===3){ti=0,us();var i=ho,s=bu,l=wu,f=NE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ti=5:(ti=0,bu=ho=null,HE(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(co=null),kr(l),s=s.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(te,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=re.T,g=ge.p,ge.p=2,re.T=null;try{for(var E=i.onRecoverableError,R=0;R<f.length;R++){var I=f[R];E(I.value,{componentStack:I.stack})}}finally{re.T=s,ge.p=g}}(wu&3)!==0&&Ff(),Ss(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===jp?jc++:(jc=0,jp=i):jc=0,Fc(0)}}function HE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bc(s)))}function Ff(i){return BE(),jE(),FE(),qE()}function qE(){if(ti!==5)return!1;var i=ho,s=zp;zp=0;var l=kr(wu),f=re.T,g=ge.p;try{ge.p=32>l?32:l,re.T=null,l=Bp,Bp=null;var E=ho,R=wu;if(ti=0,bu=ho=null,wu=0,(Ut&6)!==0)throw Error(r(331));var I=Ut;if(Ut|=4,CE(E.current),xE(E,E.current,R,l),Ut=I,Fc(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(te,E)}catch{}return!0}finally{ge.p=g,re.T=f,HE(i,s)}}function GE(i,s,l){s=Ri(l,s),s=vp(i.stateNode,s,2),i=to(i,s,2),i!==null&&(Ct(i,2),Ss(i))}function Zt(i,s,l){if(i.tag===3)GE(i,i,l);else for(;s!==null;){if(s.tag===3){GE(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){i=Ri(l,i),l=W0(2),f=to(s,l,2),f!==null&&(Y0(l,f,s,i),Ct(f,2),Ss(f));break}}s=s.return}}function Gp(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new H2;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(Lp=!0,g.add(l),i=K2.bind(null,i,s,l),s.then(i,i))}function K2(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,tn===i&&(St&l)===l&&(yn===4||yn===3&&(St&62914560)===St&&300>jn()-Up?(Ut&2)===0&&Tu(i,0):kp|=l,Eu===St&&(Eu=0)),Ss(i)}function $E(i,s){s===0&&(s=Tt()),i=Wa(i,s),i!==null&&(Ct(i,s),Ss(i))}function W2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),$E(i,l)}function Y2(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),$E(i,l)}function X2(i,s){return Yt(i,s)}var Hf=null,Su=null,$p=!1,qf=!1,Zp=!1,wl=0;function Ss(i){i!==Su&&i.next===null&&(Su===null?Hf=Su=i:Su=Su.next=i),qf=!0,$p||($p=!0,J2())}function Fc(i,s){if(!Zp&&qf){Zp=!0;do for(var l=!1,f=Hf;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var E=0;else{var R=f.suspendedLanes,I=f.pingedLanes;E=(1<<31-He(42|i)+1)-1,E&=g&~(R&~I),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,YE(f,E))}else E=St,E=Le(f,f===tn?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||We(f,E)||(l=!0,YE(f,E));f=f.next}while(l);Zp=!1}}function Q2(){ZE()}function ZE(){qf=$p=!1;var i=0;wl!==0&&(oR()&&(i=wl),wl=0);for(var s=jn(),l=null,f=Hf;f!==null;){var g=f.next,E=KE(f,s);E===0?(f.next=null,l===null?Hf=g:l.next=g,g===null&&(Su=l)):(l=f,(i!==0||(E&3)!==0)&&(qf=!0)),f=g}Fc(i)}function KE(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var R=31-He(E),I=1<<R,Z=g[R];Z===-1?((I&l)===0||(I&f)!==0)&&(g[R]=It(I,s)):Z<=s&&(i.expiredLanes|=I),E&=~I}if(s=tn,l=St,l=Le(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(zt===2||zt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Mr(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||We(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&Mr(f),kr(l)){case 2:case 8:l=ur;break;case 32:l=bi;break;case 268435456:l=Fi;break;default:l=bi}return f=WE.bind(null,i),l=Yt(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&Mr(f),i.callbackPriority=2,i.callbackNode=null,2}function WE(i,s){if(ti!==0&&ti!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ff()&&i.callbackNode!==l)return null;var f=St;return f=Le(i,i===tn?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(IE(i,f,s),KE(i,jn()),i.callbackNode!=null&&i.callbackNode===l?WE.bind(null,i):null)}function YE(i,s){if(Ff())return null;IE(i,s,!0)}function J2(){uR(function(){(Ut&6)!==0?Yt(Fs,Q2):ZE()})}function Kp(){return wl===0&&(wl=Ot()),wl}function XE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ps(""+i)}function QE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function eR(i,s,l,f,g){if(s==="submit"&&l&&l.stateNode===g){var E=XE((g[pn]||null).action),R=f.submitter;R&&(s=(s=R[pn]||null)?XE(s.formAction):R.getAttribute("formAction"),s!==null&&(E=s,R=null));var I=new Ws("action","action",null,f,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(wl!==0){var Z=R?QE(g,R):new FormData(g);mp(l,{pending:!0,data:Z,method:g.method,action:E},null,Z)}}else typeof E=="function"&&(I.preventDefault(),Z=R?QE(g,R):new FormData(g),mp(l,{pending:!0,data:Z,method:g.method,action:E},E,Z))},currentTarget:g}]})}}for(var Wp=0;Wp<ea.length;Wp++){var Yp=ea[Wp],tR=Yp.toLowerCase(),nR=Yp[0].toUpperCase()+Yp.slice(1);tr(tR,"on"+nR)}tr(lf,"onAnimationEnd"),tr(er,"onAnimationIteration"),tr(ll,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(Hm,"onTransitionRun"),tr(su,"onTransitionStart"),tr(qm,"onTransitionCancel"),tr(_c,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function JE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var E=void 0;if(s)for(var R=f.length-1;0<=R;R--){var I=f[R],Z=I.instance,ae=I.currentTarget;if(I=I.listener,Z!==E&&g.isPropagationStopped())break e;E=I,g.currentTarget=ae;try{E(g)}catch(ve){If(ve)}g.currentTarget=null,E=Z}else for(R=0;R<f.length;R++){if(I=f[R],Z=I.instance,ae=I.currentTarget,I=I.listener,Z!==E&&g.isPropagationStopped())break e;E=I,g.currentTarget=ae;try{E(g)}catch(ve){If(ve)}g.currentTarget=null,E=Z}}}}function gt(i,s){var l=s[li];l===void 0&&(l=s[li]=new Set);var f=i+"__bubble";l.has(f)||(eb(s,i,2,!1),l.add(f))}function Xp(i,s,l){var f=0;s&&(f|=4),eb(l,i,f,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Qp(i){if(!i[Gf]){i[Gf]=!0,Yo.forEach(function(l){l!=="selectionchange"&&(iR.has(l)||Xp(l,!1,i),Xp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,Xp("selectionchange",!1,s))}}function eb(i,s,l,f){switch(xb(s)){case 2:var g=PR;break;case 8:g=IR;break;default:g=fg}l=g.bind(null,s,l,i),g=void 0,!ui||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function Jp(i,s,l,f,g){var E=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var I=f.stateNode.containerInfo;if(I===g)break;if(R===4)for(R=f.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;I!==null;){if(R=qi(I),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){f=E=R;continue e}I=I.parentNode}}f=f.return}Si(function(){var ae=E,ve=Jn(l),xe=[];e:{var le=uf.get(i);if(le!==void 0){var ce=Ws,nt=i;switch(i){case"keypress":if(Bt(l)===0)break e;case"keydown":case"keyup":ce=Ba;break;case"focusin":nt="focus",ce=La;break;case"focusout":nt="blur",ce=La;break;case"beforeblur":case"afterblur":ce=La;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Xl;break;case lf:case er:case ll:ce=Va;break;case _c:ce=Ql;break;case"scroll":case"scrollend":ce=Wl;break;case"wheel":ce=Qs;break;case"copy":case"cut":case"paste":ce=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ja;break;case"toggle":case"beforetoggle":ce=yr}var Ye=(s&4)!==0,Ht=!Ye&&(i==="scroll"||i==="scrollend"),ee=Ye?le!==null?le+"Capture":null:le;Ye=[];for(var X=ae,se;X!==null;){var we=X;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||ee===null||(we=xt(X,ee),we!=null&&Ye.push(qc(X,we,se))),Ht)break;X=X.return}0<Ye.length&&(le=new ce(le,nt,null,l,ve),xe.push({event:le,listeners:Ye}))}}if((s&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",le&&l!==Wi&&(nt=l.relatedTarget||l.fromElement)&&(qi(nt)||nt[Oi]))break e;if((ce||le)&&(le=ve.window===ve?ve:(le=ve.ownerDocument)?le.defaultView||le.parentWindow:window,ce?(nt=l.relatedTarget||l.toElement,ce=ae,nt=nt?qi(nt):null,nt!==null&&(Ht=u(nt),Ye=nt.tag,nt!==Ht||Ye!==5&&Ye!==27&&Ye!==6)&&(nt=null)):(ce=null,nt=ae),ce!==nt)){if(Ye=Gn,we="onMouseLeave",ee="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Ye=ja,we="onPointerLeave",ee="onPointerEnter",X="pointer"),Ht=ce==null?le:Xn(ce),se=nt==null?le:Xn(nt),le=new Ye(we,X+"leave",ce,l,ve),le.target=Ht,le.relatedTarget=se,we=null,qi(ve)===ae&&(Ye=new Ye(ee,X+"enter",nt,l,ve),Ye.target=se,Ye.relatedTarget=Ht,we=Ye),Ht=we,ce&&nt)t:{for(Ye=ce,ee=nt,X=0,se=Ye;se;se=Au(se))X++;for(se=0,we=ee;we;we=Au(we))se++;for(;0<X-se;)Ye=Au(Ye),X--;for(;0<se-X;)ee=Au(ee),se--;for(;X--;){if(Ye===ee||ee!==null&&Ye===ee.alternate)break t;Ye=Au(Ye),ee=Au(ee)}Ye=null}else Ye=null;ce!==null&&tb(xe,le,ce,Ye,!1),nt!==null&&Ht!==null&&tb(xe,Ht,nt,Ye,!0)}}e:{if(le=ae?Xn(ae):window,ce=le.nodeName&&le.nodeName.toLowerCase(),ce==="select"||ce==="input"&&le.type==="file")var Be=Ha;else if(Jt(le))if(mc)Be=Fm;else{Be=jm;var mt=gc}else ce=le.nodeName,!ce||ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&Ks(ae.elementType)&&(Be=Ha):Be=Kr;if(Be&&(Be=Be(i,ae))){$r(xe,Be,l,ve);break e}mt&&mt(i,le,ae),i==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&Zi(le,"number",le.value)}switch(mt=ae?Xn(ae):window,i){case"focusin":(Jt(mt)||mt.contentEditable==="true")&&(Ji=mt,$a=ae,Js=null);break;case"focusout":Js=$a=Ji=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,af(xe,l,ve);break;case"selectionchange":if(nu)break;case"keydown":case"keyup":af(xe,l,ve)}var qe;if(fi)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else _t?fe(i,l)&&(Xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(C&&l.locale!=="ko"&&(_t||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&_t&&(qe=Fr()):(Di=ve,ci="value"in Di?Di.value:Di.textContent,_t=!0)),mt=$f(ae,Xe),0<mt.length&&(Xe=new hi(Xe,i,null,l,ve),xe.push({event:Xe,listeners:mt}),qe?Xe.data=qe:(qe=Ie(l),qe!==null&&(Xe.data=qe)))),(qe=T?gn(i,l):vt(i,l))&&(Xe=$f(ae,"onBeforeInput"),0<Xe.length&&(mt=new hi("onBeforeInput","beforeinput",null,l,ve),xe.push({event:mt,listeners:Xe}),mt.data=qe)),eR(xe,i,ae,l,ve)}JE(xe,s)})}function qc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function $f(i,s){for(var l=s+"Capture",f=[];i!==null;){var g=i,E=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||E===null||(g=xt(i,l),g!=null&&f.unshift(qc(i,g,E)),g=xt(i,s),g!=null&&f.push(qc(i,g,E))),i.tag===3)return f;i=i.return}return[]}function Au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tb(i,s,l,f,g){for(var E=s._reactName,R=[];l!==null&&l!==f;){var I=l,Z=I.alternate,ae=I.stateNode;if(I=I.tag,Z!==null&&Z===f)break;I!==5&&I!==26&&I!==27||ae===null||(Z=ae,g?(ae=xt(l,E),ae!=null&&R.unshift(qc(l,ae,Z))):g||(ae=xt(l,E),ae!=null&&R.push(qc(l,ae,Z)))),l=l.return}R.length!==0&&i.push({event:s,listeners:R})}var rR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function nb(i){return(typeof i=="string"?i:""+i).replace(rR,`
`).replace(sR,"")}function ib(i,s){return s=nb(s),nb(i)===s}function Zf(){}function Ft(i,s,l,f,g,E){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Hn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Hn(i,""+f);break;case"className":hr(i,"class",f);break;case"tabIndex":hr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(i,l,f);break;case"style":Br(i,f,E);break;case"data":if(s!=="object"){hr(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ps(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(s!=="input"&&Ft(i,s,"name",g.name,g,null),Ft(i,s,"formEncType",g.formEncType,g,null),Ft(i,s,"formMethod",g.formMethod,g,null),Ft(i,s,"formTarget",g.formTarget,g,null)):(Ft(i,s,"encType",g.encType,g,null),Ft(i,s,"method",g.method,g,null),Ft(i,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ps(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Zf);break;case"onScroll":f!=null&&gt("scroll",i);break;case"onScrollEnd":f!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=ps(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":gt("beforetoggle",i),gt("toggle",i),hs(i,"popover",f);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":hs(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qo.get(l)||l,hs(i,l,f))}}function eg(i,s,l,f,g,E){switch(l){case"style":Br(i,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Hn(i,f):(typeof f=="number"||typeof f=="bigint")&&Hn(i,""+f);break;case"onScroll":f!=null&&gt("scroll",i);break;case"onScrollEnd":f!=null&&gt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),E=i[pn]||null,E=E!=null?E[l]:null,typeof E=="function"&&i.removeEventListener(s,E,g),typeof f=="function")){typeof E!="function"&&E!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):hs(i,l,f)}}}function ni(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var f=!1,g=!1,E;for(E in l)if(l.hasOwnProperty(E)){var R=l[E];if(R!=null)switch(E){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,E,R,l,null)}}g&&Ft(i,s,"srcSet",l.srcSet,l,null),f&&Ft(i,s,"src",l.src,l,null);return;case"input":gt("invalid",i);var I=E=R=g=null,Z=null,ae=null;for(f in l)if(l.hasOwnProperty(f)){var ve=l[f];if(ve!=null)switch(f){case"name":g=ve;break;case"type":R=ve;break;case"checked":Z=ve;break;case"defaultChecked":ae=ve;break;case"value":E=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:Ft(i,s,f,ve,l,null)}}Zs(i,E,I,Z,ae,R,g,!1),ms(i);return;case"select":gt("invalid",i),f=R=E=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":E=I;break;case"defaultValue":R=I;break;case"multiple":f=I;default:Ft(i,s,g,I,l,null)}s=E,l=R,i.multiple=!!f,s!=null?Qn(i,!!f,s,!1):l!=null&&Qn(i,!!f,l,!0);return;case"textarea":gt("invalid",i),E=g=f=null;for(R in l)if(l.hasOwnProperty(R)&&(I=l[R],I!=null))switch(R){case"value":f=I;break;case"defaultValue":g=I;break;case"children":E=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ft(i,s,R,I,l,null)}xi(i,f,g,E),ms(i);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(f=l[Z],f!=null))switch(Z){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ft(i,s,Z,f,l,null)}return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(f=0;f<Hc.length;f++)gt(Hc[f],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in l)if(l.hasOwnProperty(ae)&&(f=l[ae],f!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,ae,f,l,null)}return;default:if(Ks(s)){for(ve in l)l.hasOwnProperty(ve)&&(f=l[ve],f!==void 0&&eg(i,s,ve,f,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(f=l[I],f!=null&&Ft(i,s,I,f,l,null))}function aR(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,E=null,R=null,I=null,Z=null,ae=null,ve=null;for(ce in l){var xe=l[ce];if(l.hasOwnProperty(ce)&&xe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":Z=xe;default:f.hasOwnProperty(ce)||Ft(i,s,ce,null,f,xe)}}for(var le in f){var ce=f[le];if(xe=l[le],f.hasOwnProperty(le)&&(ce!=null||xe!=null))switch(le){case"type":E=ce;break;case"name":g=ce;break;case"checked":ae=ce;break;case"defaultChecked":ve=ce;break;case"value":R=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:ce!==xe&&Ft(i,s,le,ce,f,xe)}}Qt(i,R,I,Z,ae,ve,E,g);return;case"select":ce=R=I=le=null;for(E in l)if(Z=l[E],l.hasOwnProperty(E)&&Z!=null)switch(E){case"value":break;case"multiple":ce=Z;default:f.hasOwnProperty(E)||Ft(i,s,E,null,f,Z)}for(g in f)if(E=f[g],Z=l[g],f.hasOwnProperty(g)&&(E!=null||Z!=null))switch(g){case"value":le=E;break;case"defaultValue":I=E;break;case"multiple":R=E;default:E!==Z&&Ft(i,s,g,E,f,Z)}s=I,l=R,f=ce,le!=null?Qn(i,!!l,le,!1):!!f!=!!l&&(s!=null?Qn(i,!!l,s,!0):Qn(i,!!l,l?[]:"",!1));return;case"textarea":ce=le=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ft(i,s,I,null,f,g)}for(R in f)if(g=f[R],E=l[R],f.hasOwnProperty(R)&&(g!=null||E!=null))switch(R){case"value":le=g;break;case"defaultValue":ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==E&&Ft(i,s,R,g,f,E)}Je(i,le,ce);return;case"option":for(var nt in l)if(le=l[nt],l.hasOwnProperty(nt)&&le!=null&&!f.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Ft(i,s,nt,null,f,le)}for(Z in f)if(le=f[Z],ce=l[Z],f.hasOwnProperty(Z)&&le!==ce&&(le!=null||ce!=null))switch(Z){case"selected":i.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ft(i,s,Z,le,f,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in l)le=l[Ye],l.hasOwnProperty(Ye)&&le!=null&&!f.hasOwnProperty(Ye)&&Ft(i,s,Ye,null,f,le);for(ae in f)if(le=f[ae],ce=l[ae],f.hasOwnProperty(ae)&&le!==ce&&(le!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:Ft(i,s,ae,le,f,ce)}return;default:if(Ks(s)){for(var Ht in l)le=l[Ht],l.hasOwnProperty(Ht)&&le!==void 0&&!f.hasOwnProperty(Ht)&&eg(i,s,Ht,void 0,f,le);for(ve in f)le=f[ve],ce=l[ve],!f.hasOwnProperty(ve)||le===ce||le===void 0&&ce===void 0||eg(i,s,ve,le,f,ce);return}}for(var ee in l)le=l[ee],l.hasOwnProperty(ee)&&le!=null&&!f.hasOwnProperty(ee)&&Ft(i,s,ee,null,f,le);for(xe in f)le=f[xe],ce=l[xe],!f.hasOwnProperty(xe)||le===ce||le==null&&ce==null||Ft(i,s,xe,le,f,ce)}var tg=null,ng=null;function Kf(i){return i.nodeType===9?i:i.ownerDocument}function rb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ig(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function oR(){var i=window.event;return i&&i.type==="popstate"?i===rg?!1:(rg=i,!0):(rg=null,!1)}var ab=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(i){return ob.resolve(null).then(i).catch(cR)}:ab;function cR(i){setTimeout(function(){throw i})}function mo(i){return i==="head"}function lb(i,s){var l=s,f=0,g=0;do{var E=l.nextSibling;if(i.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(0<f&&8>f){l=f;var R=i.ownerDocument;if(l&1&&Gc(R.documentElement),l&2&&Gc(R.body),l&4)for(l=R.head,Gc(l),R=l.firstChild;R;){var I=R.nextSibling,Z=R.nodeName;R[cs]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=I}}if(g===0){i.removeChild(E),Jc(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=E}while(l);Jc(s)}function sg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sg(l),Ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function hR(i,s,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[cs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var E=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function fR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Qr(i.nextSibling),i===null))return null;return i}function ag(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function dR(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Qr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var og=null;function ub(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function cb(i,s,l){switch(s=Kf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ur(i)}var Sr=new Map,hb=new Set;function Wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fa=ge.d;ge.d={f:mR,r:pR,D:gR,C:yR,L:_R,m:vR,X:bR,S:ER,M:wR};function mR(){var i=fa.f(),s=Bf();return i||s}function pR(i){var s=Gi(i);s!==null&&s.tag===5&&s.type==="form"?I0(s):fa.r(i)}var Cu=typeof document>"u"?null:document;function fb(i,s,l){var f=Cu;if(f&&typeof s=="string"&&s){var g=nn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),hb.has(g)||(hb.add(g),i={rel:i,crossOrigin:l,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),ni(s,"link",i),un(s),f.head.appendChild(s)))}}function gR(i){fa.D(i),fb("dns-prefetch",i,null)}function yR(i,s){fa.C(i,s),fb("preconnect",i,s)}function _R(i,s,l){fa.L(i,s,l);var f=Cu;if(f&&i&&s){var g='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+nn(l.imageSizes)+'"]')):g+='[href="'+nn(i)+'"]';var E=g;switch(s){case"style":E=Ru(i);break;case"script":E=Nu(i)}Sr.has(E)||(i=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Sr.set(E,i),f.querySelector(g)!==null||s==="style"&&f.querySelector($c(E))||s==="script"&&f.querySelector(Zc(E))||(s=f.createElement("link"),ni(s,"link",i),un(s),f.head.appendChild(s)))}}function vR(i,s){fa.m(i,s);var l=Cu;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+nn(f)+'"][href="'+nn(i)+'"]',E=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Nu(i)}if(!Sr.has(E)&&(i=b({rel:"modulepreload",href:i},s),Sr.set(E,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zc(E)))return}f=l.createElement("link"),ni(f,"link",i),un(f),l.head.appendChild(f)}}}function ER(i,s,l){fa.S(i,s,l);var f=Cu;if(f&&i){var g=Fn(f).hoistableStyles,E=Ru(i);s=s||"default";var R=g.get(E);if(!R){var I={loading:0,preload:null};if(R=f.querySelector($c(E)))I.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Sr.get(E))&&lg(i,l);var Z=R=f.createElement("link");un(Z),ni(Z,"link",i),Z._p=new Promise(function(ae,ve){Z.onload=ae,Z.onerror=ve}),Z.addEventListener("load",function(){I.loading|=1}),Z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Yf(R,s,f)}R={type:"stylesheet",instance:R,count:1,state:I},g.set(E,R)}}}function bR(i,s){fa.X(i,s);var l=Cu;if(l&&i){var f=Fn(l).hoistableScripts,g=Nu(i),E=f.get(g);E||(E=l.querySelector(Zc(g)),E||(i=b({src:i,async:!0},s),(s=Sr.get(g))&&ug(i,s),E=l.createElement("script"),un(E),ni(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(g,E))}}function wR(i,s){fa.M(i,s);var l=Cu;if(l&&i){var f=Fn(l).hoistableScripts,g=Nu(i),E=f.get(g);E||(E=l.querySelector(Zc(g)),E||(i=b({src:i,async:!0,type:"module"},s),(s=Sr.get(g))&&ug(i,s),E=l.createElement("script"),un(E),ni(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(g,E))}}function db(i,s,l,f){var g=(g=Te.current)?Wf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ru(l.href),l=Fn(g).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ru(l.href);var E=Fn(g).hoistableStyles,R=E.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,R),(E=g.querySelector($c(i)))&&!E._p&&(R.instance=E,R.state.loading=5),Sr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sr.set(i,l),E||TR(g,i,l,R.state))),s&&f===null)throw Error(r(528,""));return R}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nu(l),l=Fn(g).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ru(i){return'href="'+nn(i)+'"'}function $c(i){return'link[rel="stylesheet"]['+i+"]"}function mb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function TR(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),ni(s,"link",l),un(s),i.head.appendChild(s))}function Nu(i){return'[src="'+nn(i)+'"]'}function Zc(i){return"script[async]"+i}function pb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+nn(l.href)+'"]');if(f)return s.instance=f,un(f),f;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),un(f),ni(f,"style",g),Yf(f,l.precedence,i),s.instance=f;case"stylesheet":g=Ru(l.href);var E=i.querySelector($c(g));if(E)return s.state.loading|=4,s.instance=E,un(E),E;f=mb(l),(g=Sr.get(g))&&lg(f,g),E=(i.ownerDocument||i).createElement("link"),un(E);var R=E;return R._p=new Promise(function(I,Z){R.onload=I,R.onerror=Z}),ni(E,"link",f),s.state.loading|=4,Yf(E,l.precedence,i),s.instance=E;case"script":return E=Nu(l.src),(g=i.querySelector(Zc(E)))?(s.instance=g,un(g),g):(f=l,(g=Sr.get(E))&&(f=b({},l),ug(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),un(g),ni(g,"link",f),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Yf(f,l.precedence,i));return s.instance}function Yf(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,E=g,R=0;R<f.length;R++){var I=f[R];if(I.dataset.precedence===s)E=I;else if(E!==g)break}E?E.parentNode.insertBefore(i,E.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ug(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function gb(i,s,l){if(Xf===null){var f=new Map,g=Xf=new Map;g.set(l,f)}else g=Xf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var E=l[g];if(!(E[cs]||E[vn]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(s)||"";R=i+R;var I=f.get(R);I?I.push(E):f.set(R,[E])}}return f}function yb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function xR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _b(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Kc=null;function SR(){}function AR(i,s,l){if(Kc===null)throw Error(r(475));var f=Kc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Ru(l.href),E=i.querySelector($c(g));if(E){i=E._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Qf.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=E,un(E);return}E=i.ownerDocument||i,l=mb(l),(g=Sr.get(g))&&lg(l,g),E=E.createElement("link"),un(E);var R=E;R._p=new Promise(function(I,Z){R.onload=I,R.onerror=Z}),ni(E,"link",l),s.instance=E}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Qf.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function CR(){if(Kc===null)throw Error(r(475));var i=Kc;return i.stylesheets&&i.count===0&&cg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&cg(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Qf(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jf=null;function cg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jf=new Map,s.forEach(RR,i),Jf=null,Qf.call(i))}function RR(i,s){if(!(s.state.loading&4)){var l=Jf.get(i);if(l)var f=l.get(null);else{l=new Map,Jf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<g.length;E++){var R=g[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),f=R)}f&&l.set(null,f)}g=s.instance,R=g.getAttribute("data-precedence"),E=l.get(R)||f,E===f&&l.set(null,g),l.set(R,g),this.count++,f=Qf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),E?E.parentNode.insertBefore(g,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Wc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function NR(i,s,l,f,g,E,R,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function vb(i,s,l,f,g,E,R,I,Z,ae,ve,xe){return i=new NR(i,s,l,R,I,Z,ae,xe),s=1,E===!0&&(s|=24),E=Pi(3,null,null,s),i.current=E,E.stateNode=i,s=Gm(),s.refCount++,i.pooledCache=s,s.refCount++,E.memoizedState={element:f,isDehydrated:l,cache:s},Wm(E),i}function Eb(i){return i?(i=ia,i):ia}function bb(i,s,l,f,g,E){g=Eb(g),f.context===null?f.context=g:f.pendingContext=g,f=eo(s),f.payload={element:l},E=E===void 0?null:E,E!==null&&(f.callback=E),l=to(i,f,s),l!==null&&(or(l,i,s),Sc(l,i,s))}function wb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function hg(i,s){wb(i,s),(i=i.alternate)&&wb(i,s)}function Tb(i){if(i.tag===13){var s=Wa(i,67108864);s!==null&&or(s,i,67108864),hg(i,67108864)}}var ed=!0;function PR(i,s,l,f){var g=re.T;re.T=null;var E=ge.p;try{ge.p=2,fg(i,s,l,f)}finally{ge.p=E,re.T=g}}function IR(i,s,l,f){var g=re.T;re.T=null;var E=ge.p;try{ge.p=8,fg(i,s,l,f)}finally{ge.p=E,re.T=g}}function fg(i,s,l,f){if(ed){var g=dg(f);if(g===null)Jp(i,s,f,td,l),Sb(i,f);else if(MR(g,i,s,l,f))f.stopPropagation();else if(Sb(i,f),s&4&&-1<OR.indexOf(i)){for(;g!==null;){var E=Gi(g);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=Oe(E.pendingLanes);if(R!==0){var I=E;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var Z=1<<31-He(R);I.entanglements[1]|=Z,R&=~Z}Ss(E),(Ut&6)===0&&(Uf=jn()+500,Fc(0))}}break;case 13:I=Wa(E,2),I!==null&&or(I,E,2),Bf(),hg(E,2)}if(E=dg(f),E===null&&Jp(i,s,f,td,l),E===g)break;g=E}g!==null&&f.stopPropagation()}else Jp(i,s,f,null,l)}}function dg(i){return i=Jn(i),mg(i)}var td=null;function mg(i){if(td=null,i=qi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return td=i,null}function xb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case Fs:return 2;case ur:return 8;case bi:case Lr:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var pg=!1,po=null,go=null,yo=null,Yc=new Map,Xc=new Map,_o=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(i,s){switch(i){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(s.pointerId)}}function Qc(i,s,l,f,g,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:E,targetContainers:[g]},s!==null&&(s=Gi(s),s!==null&&Tb(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function MR(i,s,l,f,g){switch(s){case"focusin":return po=Qc(po,i,s,l,f,g),!0;case"dragenter":return go=Qc(go,i,s,l,f,g),!0;case"mouseover":return yo=Qc(yo,i,s,l,f,g),!0;case"pointerover":var E=g.pointerId;return Yc.set(E,Qc(Yc.get(E)||null,i,s,l,f,g)),!0;case"gotpointercapture":return E=g.pointerId,Xc.set(E,Qc(Xc.get(E)||null,i,s,l,f,g)),!0}return!1}function Ab(i){var s=qi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){i.blockedOn=s,Pa(i.priority,function(){if(l.tag===13){var f=ar();f=Ti(f);var g=Wa(l,f);g!==null&&or(g,l,f),hg(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=dg(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Wi=f,l.target.dispatchEvent(f),Wi=null}else return s=Gi(l),s!==null&&Tb(s),i.blockedOn=l,!1;s.shift()}return!0}function Cb(i,s,l){nd(i)&&l.delete(s)}function DR(){pg=!1,po!==null&&nd(po)&&(po=null),go!==null&&nd(go)&&(go=null),yo!==null&&nd(yo)&&(yo=null),Yc.forEach(Cb),Xc.forEach(Cb)}function id(i,s){i.blockedOn===s&&(i.blockedOn=null,pg||(pg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DR)))}var rd=null;function Rb(i){rd!==i&&(rd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rd===i&&(rd=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],g=i[s+2];if(typeof f!="function"){if(mg(f||l)===null)continue;break}var E=Gi(l);E!==null&&(i.splice(s,3),s-=3,mp(E,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Jc(i){function s(Z){return id(Z,i)}po!==null&&id(po,i),go!==null&&id(go,i),yo!==null&&id(yo,i),Yc.forEach(s),Xc.forEach(s);for(var l=0;l<_o.length;l++){var f=_o[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<_o.length&&(l=_o[0],l.blockedOn===null);)Ab(l),l.blockedOn===null&&_o.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],E=l[f+1],R=g[pn]||null;if(typeof E=="function")R||Rb(l);else if(R){var I=null;if(E&&E.hasAttribute("formAction")){if(g=E,R=E[pn]||null)I=R.formAction;else if(mg(g)!==null)continue}else I=R.action;typeof I=="function"?l[f+1]=I:(l.splice(f,3),f-=3),Rb(l)}}}function gg(i){this._internalRoot=i}sd.prototype.render=gg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,f=ar();bb(l,f,i,s,null,null)},sd.prototype.unmount=gg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;bb(i.current,2,null,i,null,null),Bf(),s[Oi]=null}};function sd(i){this._internalRoot=i}sd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_o.length&&s!==0&&s<_o[l].priority;l++);_o.splice(l,0,i),l===0&&Ab(i)}};var Nb=e.version;if(Nb!=="19.1.1")throw Error(r(527,Nb,"19.1.1"));ge.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var LR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{te=ad.inject(LR),ye=ad}catch{}}return eh.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,f="",g=G0,E=$0,R=Z0,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=vb(i,1,!1,null,null,l,f,g,E,R,I,null),i[Oi]=s.current,Qp(i),new gg(s)},eh.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var f=!1,g="",E=G0,R=$0,I=Z0,Z=null,ae=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ae=l.formState)),s=vb(i,1,!0,s,l??null,f,g,E,R,I,Z,ae),s.context=Eb(null),l=s.current,f=ar(),f=Ti(f),g=eo(f),g.callback=null,to(l,g,f),l=f,s.current.lanes=l,Ct(s,l),Ss(s),i[Oi]=s.current,Qp(i),new sd(s)},eh.version="19.1.1",eh}var Vb;function FR(){if(Vb)return _g.exports;Vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=jR(),_g.exports}var HR=FR();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ub="popstate";function qR(t={}){function e(o,u){let{pathname:h="/",search:m="",hash:y=""}=zl(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ny("",{pathname:h,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");m=v===-1?y:y.slice(0,v)}return m+"#"+(typeof u=="string"?u:wh(u))}function r(o,u){ss(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return $R(e,n,r,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GR(){return Math.random().toString(36).substring(2,10)}function zb(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:n,key:e&&e.key||r||GR()}}function wh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $R(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",y=null,v=b();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let B=b(),K=B==null?null:B-v;v=B,y&&y({action:m,location:U.location,delta:K})}function A(B,K){m="PUSH";let G=ny(U.location,B,K);n&&n(G,B),v=b()+1;let Q=zb(G,v),_e=U.createHref(G);try{h.pushState(Q,"",_e)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(_e)}u&&y&&y({action:m,location:U.location,delta:1})}function O(B,K){m="REPLACE";let G=ny(U.location,B,K);n&&n(G,B),v=b();let Q=zb(G,v),_e=U.createHref(G);h.replaceState(Q,"",_e),u&&y&&y({action:m,location:U.location,delta:0})}function V(B){return ZR(B)}let U={get action(){return m},get location(){return t(o,h)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Ub,x),y=B,()=>{o.removeEventListener(Ub,x),y=null}},createHref(B){return e(o,B)},createURL:V,encodeLocation(B){let K=V(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:O,go(B){return h.go(B)}};return U}function ZR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zx(t,e,n="/"){return KR(t,e,n,!1)}function KR(t,e,n,r){let o=typeof e=="string"?zl(e):e,u=wa(o.pathname||"/",n);if(u==null)return null;let h=Kx(t);WR(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=aN(u);m=rN(h[y],v,r)}return m}function Kx(t,e=[],n=[],r="",o=!1){let u=(h,m,y=o,v)=>{let b={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&y)return;dn(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let x=ga([r,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(dn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Kx(h.children,e,A,x,y)),!(h.path==null&&!h.index)&&e.push({path:x,score:nN(x,h.index),routesMeta:A})};return t.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let y of Wx(h.path))u(h,m,!0,y)}),e}function Wx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=Wx(r.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>t.startsWith("/")&&y===""?"/":y)}function WR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YR=/^:[\w-]+$/,XR=3,QR=2,JR=1,eN=10,tN=-2,Bb=t=>t==="*";function nN(t,e){let n=t.split("/"),r=n.length;return n.some(Bb)&&(r+=tN),e&&(r+=QR),n.filter(o=>!Bb(o)).reduce((o,u)=>o+(YR.test(u)?XR:u===""?JR:eN),r)}function iN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function rN(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",h=[];for(let m=0;m<r.length;++m){let y=r[m],v=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",x=Dd({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},b),A=y.route;if(!x&&v&&n&&!r[r.length-1].route.index&&(x=Dd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:ga([u,x.pathname]),pathnameBase:cN(ga([u,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(u=ga([u,x.pathnameBase]))}return h}function Dd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:b,isOptional:x},A)=>{if(b==="*"){let V=m[A]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[A];return x&&!O?v[b]=void 0:v[b]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:t}}function sN(t,e=!1,n=!0){ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function aN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ss(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?zl(t):t;return{pathname:n?n.startsWith("/")?n:lN(n,e):e,search:hN(r),hash:fN(o)}}function lN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yx(t){let e=uN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Xx(t,e,n,r=!1){let o;typeof t=="string"?o=zl(t):(o={...t},dn(!o.pathname||!o.pathname.includes("?"),wg("?","pathname","search",o)),dn(!o.pathname||!o.pathname.includes("#"),wg("#","pathname","hash",o)),dn(!o.search||!o.search.includes("#"),wg("#","search","hash",o)));let u=t===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let x=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),x-=1;o.pathname=A.join("/")}m=x>=0?e[x]:"/"}let y=oN(o,m),v=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||b)&&(y.pathname+="/"),y}var ga=t=>t.join("/").replace(/\/\/+/g,"/"),cN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Qx=["POST","PUT","PATCH","DELETE"];new Set(Qx);var mN=["GET",...Qx];new Set(mN);var nc=k.createContext(null);nc.displayName="DataRouter";var hm=k.createContext(null);hm.displayName="DataRouterState";k.createContext(!1);var Jx=k.createContext({isTransitioning:!1});Jx.displayName="ViewTransition";var pN=k.createContext(new Map);pN.displayName="Fetchers";var gN=k.createContext(null);gN.displayName="Await";var Us=k.createContext(null);Us.displayName="Navigation";var zh=k.createContext(null);zh.displayName="Location";var zs=k.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var e_=k.createContext(null);e_.displayName="RouteError";function yN(t,{relative:e}={}){dn(Bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Us),{hash:o,pathname:u,search:h}=jh(t,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ga([n,u])),r.createHref({pathname:m,search:h,hash:o})}function Bh(){return k.useContext(zh)!=null}function qo(){return dn(Bh(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(zh).location}var e1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t1(t){k.useContext(Us).static||k.useLayoutEffect(t)}function n1(){let{isDataRoute:t}=k.useContext(zs);return t?IN():_N()}function _N(){dn(Bh(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(nc),{basename:e,navigator:n}=k.useContext(Us),{matches:r}=k.useContext(zs),{pathname:o}=qo(),u=JSON.stringify(Yx(r)),h=k.useRef(!1);return t1(()=>{h.current=!0}),k.useCallback((y,v={})=>{if(ss(h.current,e1),!h.current)return;if(typeof y=="number"){n.go(y);return}let b=Xx(y,JSON.parse(u),o,v.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ga([e,b.pathname])),(v.replace?n.replace:n.push)(b,v.state,v)},[e,n,u,o,t])}k.createContext(null);function vN(){let{matches:t}=k.useContext(zs),e=t[t.length-1];return e?e.params:{}}function jh(t,{relative:e}={}){let{matches:n}=k.useContext(zs),{pathname:r}=qo(),o=JSON.stringify(Yx(n));return k.useMemo(()=>Xx(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function EN(t,e){return i1(t,e)}function i1(t,e,n,r,o){dn(Bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Us),{matches:h}=k.useContext(zs),m=h[h.length-1],y=m?m.params:{},v=m?m.pathname:"/",b=m?m.pathnameBase:"/",x=m&&m.route;{let G=x&&x.path||"";r1(v,!x||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=qo(),O;if(e){let G=typeof e=="string"?zl(e):e;dn(b==="/"||G.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${G.pathname}" was given in the \`location\` prop.`),O=G}else O=A;let V=O.pathname||"/",U=V;if(b!=="/"){let G=b.replace(/^\//,"").split("/");U="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let B=Zx(t,{pathname:U});ss(x||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ss(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=SN(B&&B.map(G=>Object.assign({},G,{params:Object.assign({},y,G.params),pathname:ga([b,u.encodeLocation?u.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?b:ga([b,u.encodeLocation?u.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,r,o);return e&&K?k.createElement(zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function bN(){let t=PN(),e=dN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var wN=k.createElement(bN,null),TN=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(zs.Provider,{value:this.props.routeContext},k.createElement(e_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xN({routeContext:t,match:e,children:n}){let r=k.useContext(nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(zs.Provider,{value:t},n)}function SN(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=n?.errors;if(h!=null){let v=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);dn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,y=-1;if(n)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=v),b.route.id){let{loaderData:x,errors:A}=n,O=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||O){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((v,b,x)=>{let A,O=!1,V=null,U=null;n&&(A=h&&b.route.id?h[b.route.id]:void 0,V=b.route.errorElement||wN,m&&(y<0&&x===0?(r1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,U=null):y===x&&(O=!0,U=b.route.hydrateFallbackElement||null)));let B=e.concat(u.slice(0,x+1)),K=()=>{let G;return A?G=V:O?G=U:b.route.Component?G=k.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,k.createElement(xN,{match:b,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?k.createElement(TN,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:K(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:r}):K()},null)}function t_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AN(t){let e=k.useContext(nc);return dn(e,t_(t)),e}function CN(t){let e=k.useContext(hm);return dn(e,t_(t)),e}function RN(t){let e=k.useContext(zs);return dn(e,t_(t)),e}function n_(t){let e=RN(t),n=e.matches[e.matches.length-1];return dn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NN(){return n_("useRouteId")}function PN(){let t=k.useContext(e_),e=CN("useRouteError"),n=n_("useRouteError");return t!==void 0?t:e.errors?.[n]}function IN(){let{router:t}=AN("useNavigate"),e=n_("useNavigate"),n=k.useRef(!1);return t1(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{ss(n.current,e1),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var jb={};function r1(t,e,n){!e&&!jb[t]&&(jb[t]=!0,ss(!1,n))}k.memo(ON);function ON({routes:t,future:e,state:n,unstable_onError:r}){return i1(t,void 0,n,r,e)}function da(t){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){dn(!Bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=zl(n));let{pathname:y="/",search:v="",hash:b="",state:x=null,key:A="default"}=n,O=k.useMemo(()=>{let V=wa(y,h);return V==null?null:{location:{pathname:V,search:v,hash:b,state:x,key:A},navigationType:r}},[h,y,v,b,x,A,r]);return ss(O!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:k.createElement(Us.Provider,{value:m},k.createElement(zh.Provider,{children:e,value:O}))}function DN({children:t,location:e}){return EN(iy(t),e)}function iy(t,e=[]){let n=[];return k.Children.forEach(t,(r,o)=>{if(!k.isValidElement(r))return;let u=[...e,o];if(r.type===k.Fragment){n.push.apply(n,iy(r.props.children,u));return}dn(r.type===da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=iy(r.props.children,u)),n.push(h)}),n}var _d="get",vd="application/x-www-form-urlencoded";function fm(t){return t!=null&&typeof t.tagName=="string"}function LN(t){return fm(t)&&t.tagName.toLowerCase()==="button"}function kN(t){return fm(t)&&t.tagName.toLowerCase()==="form"}function VN(t){return fm(t)&&t.tagName.toLowerCase()==="input"}function UN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zN(t,e){return t.button===0&&(!e||e==="_self")&&!UN(t)}var od=null;function BN(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(t){return t!=null&&!jN.has(t)?(ss(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function FN(t,e){let n,r,o,u,h;if(kN(t)){let m=t.getAttribute("action");r=m?wa(m,e):null,n=t.getAttribute("method")||_d,o=Tg(t.getAttribute("enctype"))||vd,u=new FormData(t)}else if(LN(t)||VN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||m.getAttribute("action");if(r=y?wa(y,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||_d,o=Tg(t.getAttribute("formenctype"))||Tg(m.getAttribute("enctype"))||vd,u=new FormData(m,t),!BN()){let{name:v,type:b,value:x}=t;if(b==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,x)}}else{if(fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,r=null,o=vd,h=t}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&wa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $N(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await qN(u,n);return h.links?h.links():[]}return[]}));return YN(r.flat(1).filter(GN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fb(t,e,n,r,o,u){let h=(y,v)=>n[v]?y.route.id!==n[v].route.id:!0,m=(y,v)=>n[v].pathname!==y.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,v)=>h(y,v)||m(y,v)):u==="data"?e.filter((y,v)=>{let b=r.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(h(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ZN(t,e,{includeHydrateFallback:n}={}){return KN(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function KN(t){return[...new Set(t)]}function WN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YN(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(WN(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function s1(){let t=k.useContext(nc);return i_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XN(){let t=k.useContext(hm);return i_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var r_=k.createContext(void 0);r_.displayName="FrameworkContext";function a1(){let t=k.useContext(r_);return i_(t,"You must render this element inside a <HydratedRouter> element"),t}function QN(t,e){let n=k.useContext(r_),[r,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:b,onTouchStart:x}=e,A=k.useRef(null);k.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let U=K=>{K.forEach(G=>{h(G.isIntersecting)})},B=new IntersectionObserver(U,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[t]),k.useEffect(()=>{if(r){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[r]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?t!=="intent"?[u,A,{}]:[u,A,{onFocus:th(m,O),onBlur:th(y,V),onMouseEnter:th(v,O),onMouseLeave:th(b,V),onTouchStart:th(x,O)}]:[!1,A,{}]}function th(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JN({page:t,...e}){let{router:n}=s1(),r=k.useMemo(()=>Zx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(tP,{page:t,matches:r,...e}):null}function eP(t){let{manifest:e,routeModules:n}=a1(),[r,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return $N(t,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[t,e,n]),r}function tP({page:t,matches:e,...n}){let r=qo(),{manifest:o,routeModules:u}=a1(),{basename:h}=s1(),{loaderData:m,matches:y}=XN(),v=k.useMemo(()=>Fb(t,e,y,o,r,"data"),[t,e,y,o,r]),b=k.useMemo(()=>Fb(t,e,y,o,r,"assets"),[t,e,y,o,r]),x=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let V=new Set,U=!1;if(e.forEach(K=>{let G=o.routes[K.route.id];!G||!G.hasLoader||(!v.some(Q=>Q.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:V.add(K.route.id))}),V.size===0)return[];let B=HN(t,h,"data");return U&&V.size>0&&B.searchParams.set("_routes",e.filter(K=>V.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[h,m,r,o,v,e,t,u]),A=k.useMemo(()=>ZN(b,o),[b,o]),O=eP(b);return k.createElement(k.Fragment,null,x.map(V=>k.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>k.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:U})=>k.createElement("link",{key:V,nonce:n.nonce,...U})))}function nP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o1&&(window.__reactRouterVersion="7.9.1")}catch{}function iP({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=qR({window:n,v5Compat:!0}));let o=r.current,[u,h]=k.useState({action:o.action,location:o.location}),m=k.useCallback(y=>{k.startTransition(()=>h(y))},[h]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(MN,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:v,preventScrollReset:b,viewTransition:x,...A},O){let{basename:V}=k.useContext(Us),U=typeof v=="string"&&l1.test(v),B,K=!1;if(typeof v=="string"&&U&&(B=v,o1))try{let M=new URL(window.location.href),F=v.startsWith("//")?new URL(M.protocol+v):new URL(v),q=wa(F.pathname,V);F.origin===M.origin&&q!=null?v=q+F.search+F.hash:K=!0}catch{ss(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=yN(v,{relative:o}),[Q,_e,J]=QN(r,A),ue=aP(v,{replace:h,state:m,target:y,preventScrollReset:b,relative:o,viewTransition:x});function j(M){e&&e(M),M.defaultPrevented||ue(M)}let N=k.createElement("a",{...A,...J,href:B||G,onClick:K||u?e:j,ref:nP(O,_e),target:y,"data-discover":!U&&n==="render"?"true":void 0});return Q&&!U?k.createElement(k.Fragment,null,N,k.createElement(JN,{page:G})):N});ls.displayName="Link";var wo=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...v},b){let x=jh(h,{relative:v.relative}),A=qo(),O=k.useContext(hm),{navigator:V,basename:U}=k.useContext(Us),B=O!=null&&hP(x)&&m===!0,K=V.encodeLocation?V.encodeLocation(x).pathname:x.pathname,G=A.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,K=K.toLowerCase()),Q&&U&&(Q=wa(Q,U)||Q);const _e=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let J=G===K||!o&&G.startsWith(K)&&G.charAt(_e)==="/",ue=Q!=null&&(Q===K||!o&&Q.startsWith(K)&&Q.charAt(K.length)==="/"),j={isActive:J,isPending:ue,isTransitioning:B},N=J?e:void 0,M;typeof r=="function"?M=r(j):M=[r,J?"active":null,ue?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let F=typeof u=="function"?u(j):u;return k.createElement(ls,{...v,"aria-current":N,className:M,ref:b,style:F,to:h,viewTransition:m},typeof y=="function"?y(j):y)});wo.displayName="NavLink";var rP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=_d,action:m,onSubmit:y,relative:v,preventScrollReset:b,viewTransition:x,...A},O)=>{let V=uP(),U=cP(m,{relative:v}),B=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&l1.test(m),G=Q=>{if(y&&y(Q),Q.defaultPrevented)return;Q.preventDefault();let _e=Q.nativeEvent.submitter,J=_e?.getAttribute("formmethod")||h;V(_e||Q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:o,state:u,relative:v,preventScrollReset:b,viewTransition:x})};return k.createElement("form",{ref:O,method:B,action:U,onSubmit:r?y:G,...A,"data-discover":!K&&t==="render"?"true":void 0})});rP.displayName="Form";function sP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(t){let e=k.useContext(nc);return dn(e,sP(t)),e}function aP(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=n1(),y=qo(),v=jh(t,{relative:u});return k.useCallback(b=>{if(zN(b,e)){b.preventDefault();let x=n!==void 0?n:wh(y)===wh(v);m(t,{replace:x,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[y,m,v,n,r,e,t,o,u,h])}var oP=0,lP=()=>`__${String(++oP)}__`;function uP(){let{router:t}=u1("useSubmit"),{basename:e}=k.useContext(Us),n=NN();return k.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:y,body:v}=FN(r,e);if(o.navigate===!1){let b=o.fetcherKey||lP();await t.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function cP(t,{relative:e}={}){let{basename:n}=k.useContext(Us),r=k.useContext(zs);dn(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...jh(t||".",{relative:e})},h=qo();if(t==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(b=>b==="")){m.delete("index"),y.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();u.search=b?`?${b}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ga([n,u.pathname])),wh(u)}function hP(t,{relative:e}={}){let n=k.useContext(Jx);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=u1("useViewTransitionState"),o=jh(t,{relative:e});if(!n.isTransitioning)return!1;let u=wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dd(o.pathname,h)!=null||Dd(o.pathname,u)!=null}$x();const fP=()=>{};var Hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},dP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],h=t[n++],m=t[n++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=t[n++],h=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],h=o+1<t.length,m=h?t[o+1]:0,y=o+2<t.length,v=y?t[o+2]:0,b=u>>2,x=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,O=v&63;y||(O=64,h||(A=64)),r.push(n[b],n[x],n[A],n[O])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const v=o<t.length?n[t.charAt(o)]:64;++o;const x=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||m==null||v==null||x==null)throw new mP;const A=u<<2|m>>4;if(r.push(A),v!==64){const O=m<<4&240|v>>2;if(r.push(O),x!==64){const V=v<<6&192|x;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pP=function(t){const e=c1(t);return h1.encodeByteArray(e,!0)},Ld=function(t){return pP(t).replace(/\./g,"")},f1=function(t){try{return h1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=()=>gP().__FIREBASE_DEFAULTS__,_P=()=>{if(typeof process>"u"||typeof Hb>"u")return;const t=Hb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f1(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return fP()||yP()||_P()||vP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d1=t=>dm()?.emulatorHosts?.[t],m1=t=>{const e=d1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p1=()=>dm()?.config,g1=t=>dm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ld(JSON.stringify(n)),Ld(JSON.stringify(h)),""].join(".")}const fh={};function bP(){const t={prod:[],emulator:[]};for(const e of Object.keys(fh))fh[e]?t.emulator.push(e):t.prod.push(e);return t}function wP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qb=!1;function a_(t,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||fh[t]===e||fh[t]||qb)return;fh[t]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=bP().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{qb=!0,h()},A}function b(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=wP(r),O=n("text"),V=document.getElementById(O)||document.createElement("span"),U=n("learnmore"),B=document.getElementById(U)||document.createElement("a"),K=n("preprendIcon"),G=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),b(B,U);const _e=v();y(G,K),Q.append(G,V,B,_e),document.body.appendChild(Q)}u?(V.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function xP(){const t=dm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RP(){const t=Ei();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NP(){return!xP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PP(){try{return typeof indexedDB=="object"}catch{return!1}}function IP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="FirebaseError";class Bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OP,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?MP(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Bs(o,m,r)}}function MP(t,e){return t.replace(DP,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DP=/\{\$([^}]+)}/g;function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],h=e[o];if(Gb(u)&&Gb(h)){if(!Ml(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Gb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kP(t,e){const n=new VP(t,e);return n.subscribe.bind(n)}class VP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=xg),o.error===void 0&&(o.error=xg),o.complete===void 0&&(o.complete=xg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jP(e))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xl){return this.instances.has(e)}getOptions(e=xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xl){return this.component?this.component.multipleInstances?e:xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BP(t){return t===xl?void 0:t}function jP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const HP={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},qP=Et.INFO,GP={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},$P=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=GP[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=qP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const ZP=(t,e)=>e.some(n=>t instanceof n);let $b,Zb;function KP(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _1=new WeakMap,ry=new WeakMap,v1=new WeakMap,Sg=new WeakMap,l_=new WeakMap;function YP(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",h)},u=()=>{n(No(t.result)),o()},h=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&_1.set(n,t)}).catch(()=>{}),l_.set(e,t),e}function XP(t){if(ry.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",h),t.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",h),t.addEventListener("abort",h)});ry.set(t,e)}let sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QP(t){sy=t(sy)}function JP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ag(this),e,...n);return v1.set(r,e.sort?e.sort():[e]),No(r)}:WP().includes(t)?function(...e){return t.apply(Ag(this),e),No(_1.get(this))}:function(...e){return No(t.apply(Ag(this),e))}}function eI(t){return typeof t=="function"?JP(t):(t instanceof IDBTransaction&&XP(t),ZP(t,KP())?new Proxy(t,sy):t)}function No(t){if(t instanceof IDBRequest)return YP(t);if(Sg.has(t))return Sg.get(t);const e=eI(t);return e!==t&&(Sg.set(t,e),l_.set(e,t)),e}const Ag=t=>l_.get(t);function tI(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(t,e),m=No(h);return r&&h.addEventListener("upgradeneeded",y=>{r(No(h.result),y.oldVersion,y.newVersion,No(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const nI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],Cg=new Map;function Kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=iI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nI.includes(n)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&y.done]))[0]};return Cg.set(e,u),u}QP(t=>({...t,get:(e,n,r)=>Kb(e,n)||t.get(e,n,r),has:(e,n)=>!!Kb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sI(t){return t.getComponent()?.type==="VERSION"}const ay="@firebase/app",Wb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new o_("@firebase/app"),aI="@firebase/app-compat",oI="@firebase/analytics-compat",lI="@firebase/analytics",uI="@firebase/app-check-compat",cI="@firebase/app-check",hI="@firebase/auth",fI="@firebase/auth-compat",dI="@firebase/database",mI="@firebase/data-connect",pI="@firebase/database-compat",gI="@firebase/functions",yI="@firebase/functions-compat",_I="@firebase/installations",vI="@firebase/installations-compat",EI="@firebase/messaging",bI="@firebase/messaging-compat",wI="@firebase/performance",TI="@firebase/performance-compat",xI="@firebase/remote-config",SI="@firebase/remote-config-compat",AI="@firebase/storage",CI="@firebase/storage-compat",RI="@firebase/firestore",NI="@firebase/ai",PI="@firebase/firestore-compat",II="firebase",OI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",MI={[ay]:"fire-core",[aI]:"fire-core-compat",[lI]:"fire-analytics",[oI]:"fire-analytics-compat",[cI]:"fire-app-check",[uI]:"fire-app-check-compat",[hI]:"fire-auth",[fI]:"fire-auth-compat",[dI]:"fire-rtdb",[mI]:"fire-data-connect",[pI]:"fire-rtdb-compat",[gI]:"fire-fn",[yI]:"fire-fn-compat",[_I]:"fire-iid",[vI]:"fire-iid-compat",[EI]:"fire-fcm",[bI]:"fire-fcm-compat",[wI]:"fire-perf",[TI]:"fire-perf-compat",[xI]:"fire-rc",[SI]:"fire-rc-compat",[AI]:"fire-gcs",[CI]:"fire-gcs-compat",[RI]:"fire-fst",[PI]:"fire-fst-compat",[NI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,DI=new Map,ly=new Map;function Yb(t,e){try{t.container.addComponent(e)}catch(n){Ta.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(ly.has(e))return Ta.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,t);for(const n of kd.values())Yb(n,t);for(const n of DI.values())Yb(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new Fh("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=OI;function E1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:oy,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Po.create("bad-app-name",{appName:String(o)});if(n||(n=p1()),!n)throw Po.create("no-options");const u=kd.get(o);if(u){if(Ml(n,u.options)&&Ml(r,u.config))return u;throw Po.create("duplicate-app",{appName:o})}const h=new FP(o);for(const y of ly.values())h.addComponent(y);const m=new kI(n,r,h);return kd.set(o,m),m}function u_(t=oy){const e=kd.get(t);if(!e&&t===oy&&p1())return E1();if(!e)throw Po.create("no-app",{appName:t});return e}function Cs(t,e,n){let r=MI[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ta.warn(h.join(" "));return}Dl(new Mo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firebase-heartbeat-database",UI=1,Th="firebase-heartbeat-store";let Rg=null;function b1(){return Rg||(Rg=tI(VI,UI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function zI(t){try{const n=(await b1()).transaction(Th),r=await n.objectStore(Th).get(w1(t));return await n.done,r}catch(e){if(e instanceof Bs)Ta.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e?.message});Ta.warn(n.message)}}}async function Xb(t,e){try{const r=(await b1()).transaction(Th,"readwrite");await r.objectStore(Th).put(e,w1(t)),await r.done}catch(n){if(n instanceof Bs)Ta.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n?.message});Ta.warn(r.message)}}}function w1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,jI=30;class FI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jI){const o=GI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ta.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qb(),{heartbeatsToSend:n,unsentEntries:r}=HI(this._heartbeatsCache.heartbeats),o=Ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ta.warn(e),""}}}function Qb(){return new Date().toISOString().substring(0,10)}function HI(t,e=BI){const n=[];let r=t.slice();for(const o of t){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Jb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?IP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jb(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}function GI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){Dl(new Mo("platform-logger",e=>new rI(e),"PRIVATE")),Dl(new Mo("heartbeat",e=>new FI(e),"PRIVATE")),Cs(ay,Wb,t),Cs(ay,Wb,"esm2020"),Cs("fire-js","")}$I("");function T1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=T1,x1=new Fh("auth","Firebase",T1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new o_("@firebase/auth");function KI(t,...e){Vd.logLevel<=Et.WARN&&Vd.warn(`Auth (${jl}): ${t}`,...e)}function Ed(t,...e){Vd.logLevel<=Et.ERROR&&Vd.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,...e){throw c_(t,...e)}function Rs(t,...e){return c_(t,...e)}function S1(t,e,n){const r={...ZI(),[e]:n};return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function ya(t){return S1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x1.create(t,...e)}function et(t,e,...n){if(!t)throw c_(e,...n)}function ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function xa(t,e){t||ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){return typeof self<"u"&&self.location?.href||""}function WI(){return ew()==="http:"||ew()==="https:"}function ew(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WI()||AP()||"connection"in navigator)?navigator.onLine:!0}function XI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,xa(n>e,"Short delay should be less than long delay!"),this.isMobile=TP()||CP()}get(){return YI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){xa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eO=new qh(3e4,6e4);function Go(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $o(t,e,n,r,o={}){return C1(t,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=Hh({key:t.config.apiKey,...h}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const v={method:e,headers:y,...u};return SP()||(v.referrerPolicy="no-referrer"),t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(v.credentials="include"),A1.fetch()(await R1(t,t.config.apiHost,n,m),v)})}async function C1(t,e,n){t._canInitEmulator=!1;const r={...QI,...e};try{const o=new nO(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ld(t,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",h);if(y==="USER_DISABLED")throw ld(t,"user-disabled",h);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw S1(t,b,v);as(t,b)}}catch(o){if(o instanceof Bs)throw o;as(t,"network-request-failed",{message:String(o)})}}async function Gh(t,e,n,r,o={}){const u=await $o(t,e,n,r,o);return"mfaPendingCredential"in u&&as(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function R1(t,e,n,r){const o=`${e}${n}?${r}`,u=t,h=u.config.emulator?h_(t.config,o):`${t.config.apiScheme}://${o}`;return JI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function tO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rs(this.auth,"network-request-failed")),eO.get())})}}function ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Rs(t,e,r);return o.customData._tokenResponse=n,o}function tw(t){return t!==void 0&&t.enterprise!==void 0}class iO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rO(t,e){return $o(t,"GET","/v2/recaptchaConfig",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function Ud(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aO(t,e=!1){const n=ai(t),r=await n.getIdToken(e),o=f_(r);et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:dh(Ng(o.auth_time)),issuedAtTime:dh(Ng(o.iat)),expirationTime:dh(Ng(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ng(t){return Number(t)*1e3}function f_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const o=f1(n);return o?JSON.parse(o):(Ed("Failed to decode base64 JWT payload"),null)}catch(o){return Ed("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nw(t){const e=f_(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bs&&oO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){const e=t.auth,n=await t.getIdToken(),r=await xh(t,Ud(e,{idToken:n}));et(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?N1(o.providerUserInfo):[],h=cO(t.providerData,u),m=t.isAnonymous,y=!(t.email&&o.passwordHash)&&!h?.length,v=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function uO(t){const e=ai(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function N1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e){const n=await C1(t,{},async()=>{const r=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,h=await R1(t,o,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(y.credentials="include"),A1.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fO(t,e){return $o(t,"POST","/v2/accounts:revokeToken",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await hO(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new Bu;return r&&(et(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(et(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(et(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new lO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xh(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aO(this,e)}reload(){return uO(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await xh(this,sO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:O,providerData:V,stsTokenManager:U}=n;et(x&&U,e,"internal-error");const B=Bu.fromJSON(this.name,U);et(typeof x=="string",e,"internal-error"),Eo(r,e.name),Eo(o,e.name),et(typeof A=="boolean",e,"internal-error"),et(typeof O=="boolean",e,"internal-error"),Eo(u,e.name),Eo(h,e.name),Eo(m,e.name),Eo(y,e.name),Eo(v,e.name),Eo(b,e.name);const K=new es({uid:x,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:v,lastLoginAt:b});return V&&Array.isArray(V)&&(K.providerData=V.map(G=>({...G}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new Bu;o.updateFromServerResponse(n);const u=new es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await zd(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?N1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Bu;m.updateFromIdToken(r);const y=new es({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;function pa(t){xa(t instanceof Function,"Expected a class definition");let e=iw.get(t);return e?(xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P1.type="NONE";const rw=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=bd(this.userKey,o.apiKey,u),this.fullPersistenceKey=bd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ud(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(pa(rw),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||pa(rw);const h=bd(r,e.config.apiKey,e.name);let m=null;for(const v of n)try{const b=await v._get(h);if(b){let x;if(typeof b=="string"){const A=await Ud(e,{idToken:b}).catch(()=>{});if(!A)break;x=await es._fromGetAccountInfoResponse(e,A,b)}else x=es._fromJSON(e,b);v!==u&&(m=x),u=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ju(u,e,r):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new ju(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(V1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function I1(t=Ei()){return/firefox\//i.test(t)}function O1(t=Ei()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(t=Ei()){return/crios\//i.test(t)}function D1(t=Ei()){return/iemobile/i.test(t)}function L1(t=Ei()){return/android/i.test(t)}function k1(t=Ei()){return/blackberry/i.test(t)}function V1(t=Ei()){return/webos/i.test(t)}function d_(t=Ei()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dO(t=Ei()){return d_(t)&&!!window.navigator?.standalone}function mO(){return RP()&&document.documentMode===10}function U1(t=Ei()){return d_(t)||L1(t)||V1(t)||k1(t)||/windows phone/i.test(t)||D1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e=[]){let n;switch(t){case"Browser":n=sw(Ei());break;case"Worker":n=`${sw(Ei())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e={}){return $o(t,"GET","/v2/passwordPolicy",Go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=6;class _O{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aw(this),this.idTokenSubscription=new aw(this),this.beforeStateQueue=new pO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ud(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(ya(this));const n=e?ai(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gO(this),n=new _O(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{h=!0,y()}}else{const y=e.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fl(t){return ai(t)}class aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=kP(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EO(t){pm=t}function B1(t){return pm.loadJS(t)}function bO(){return pm.recaptchaEnterpriseScript}function wO(){return pm.gapiScript}function TO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xO{constructor(){this.enterprise=new SO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class SO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AO="recaptcha-enterprise",j1="NO_RECAPTCHA";class CO{constructor(e){this.type=AO,this.auth=Fl(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{rO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new iO(y);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(y=>{m(y)})})}function o(u,h,m){const y=window.grecaptcha;tw(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(j1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&tw(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=bO();y.length!==0&&(y+=m),B1(y).then(()=>{o(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function ow(t,e,n,r=!1,o=!1){const u=new CO(t);let h;if(o)h=j1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hy(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ow(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ow(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){const n=mm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ml(u,e??{}))return o;as(o,"already-initialized")}return n.initialize({options:e})}function NO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function PO(t,e,n){const r=Fl(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=F1(e),{host:h,port:m}=IO(e),y=m===null?"":`:${m}`,v={url:`${u}//${h}${y}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Ml(v,r.config.emulator)&&Ml(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Bl(h)?(s_(`${u}//${h}${y}`),a_("Auth",!0)):OO()}function F1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IO(t){const e=F1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:lw(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:lw(h)}}}function lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,n){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function MO(t,e){return $o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return Gh(t,"POST","/v1/accounts:signInWithPassword",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}async function kO(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends m_{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Sh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(e,n,"signInWithPassword",DO);case"emailLink":return LO(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(e,r,"signUpPassword",MO);case"emailLink":return kO(e,{idToken:n,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e){return Gh(t,"POST","/v1/accounts:signInWithIdp",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="http://localhost";class Ll extends m_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):as("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new Ll(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:VO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zO(t){const e=rh(sh(t)).link,n=e?rh(sh(e)).deep_link_id:null,r=rh(sh(t)).deep_link_id;return(r?rh(sh(r)).link:null)||r||n||e||t}class p_{constructor(e){const n=rh(sh(e)),r=n.apiKey??null,o=n.oobCode??null,u=UO(n.mode??null);et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zO(e);try{return new p_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,n){return Sh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p_.parseLink(n);return et(r,"argument-error"),Sh._fromEmailAndCode(e,r.code,r.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends H1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends $h{constructor(){super("facebook.com")}static credential(e){return Ll._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ll._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends $h{constructor(){super("github.com")}static credential(e){return Ll._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends $h{constructor(){super("twitter.com")}static credential(e,n){return Ll._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){return Gh(t,"POST","/v1/accounts:signUp",Go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await es._fromIdTokenResponse(e,r,o),h=uw(r);return new kl({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=uw(r);return new kl({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Bs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Bd(e,n,r,o)}}function q1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(t,u,e,r):u})}async function jO(t,e,n=!1){const r=await xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(ya(r));const o="reauthenticate";try{const u=await xh(t,q1(r,o,e,t),n);et(u.idToken,r,"internal-error");const h=f_(u.idToken);et(h,r,"internal-error");const{sub:m}=h;return et(t.uid===m,r,"user-mismatch"),kl._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&as(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t,e,n=!1){if(lr(t.app))return Promise.reject(ya(t));const r="signIn",o=await q1(t,r,e),u=await kl._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function HO(t,e){return G1(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(lr(t.app))return Promise.reject(ya(t));const r=Fl(t),h=await hy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BO).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&$1(t),y}),m=await kl._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function GO(t,e,n){return lr(t.app)?Promise.reject(ya(t)):HO(ai(t),ic.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$1(t),r})}function $O(t,e,n,r){return ai(t).onIdTokenChanged(e,n,r)}function ZO(t,e,n){return ai(t).beforeAuthStateChanged(e,n)}function KO(t,e,n,r){return ai(t).onAuthStateChanged(e,n,r)}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e3,YO=10;class K1 extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);mO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const XO=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W1.type="SESSION";const Y1=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async v=>v(n.origin,u)),y=await QO(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const v=g_("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(x){const A=x;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function eM(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function tM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nM(){return navigator?.serviceWorker?.controller||null}function iM(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebaseLocalStorageDb",rM=1,Fd="firebaseLocalStorage",J1="fbase_key";class Zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function sM(){const t=indexedDB.deleteDatabase(Q1);return new Zh(t).toPromise()}function fy(){const t=indexedDB.open(Q1,rM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fd,{keyPath:J1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),await sM(),e(await fy()))})})}async function cw(t,e,n){const r=ym(t,!0).put({[J1]:e,value:n});return new Zh(r).toPromise()}async function aM(t,e){const n=ym(t,!1).get(e),r=await new Zh(n).toPromise();return r===void 0?null:r.value}function hw(t,e){const n=ym(t,!0).delete(e);return new Zh(n).toPromise()}const oM=800,lM=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new JO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await cw(e,jd,"1"),await hw(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ym(o,!1).getAll();return new Zh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const uM=eS;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e){return e?pa(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends m_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hM(t){return G1(t.auth,new y_(t),t.bypassAuthState)}function fM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),FO(n,new y_(t),t.bypassAuthState)}async function dM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),jO(n,new y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hM;case"linkViaPopup":case"linkViaRedirect":return dM;case"reauthViaPopup":case"reauthViaRedirect":return fM;default:as(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new qh(2e3,1e4);class Du extends tS{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mM.get())};e()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="pendingRedirect",wd=new Map;class gM extends tS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await yM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yM(t,e){const n=EM(e),r=vM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _M(t,e){wd.set(t._key(),e)}function vM(t){return pa(t._redirectPersistence)}function EM(t){return bd(pM,t.config.apiKey,t.name)}async function bM(t,e,n=!1){if(lr(t.app))return Promise.reject(ya(t));const r=Fl(t),o=cM(r,e),h=await new gM(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=600*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(fw(e))}saveEventToCache(e){this.cachedEventUids.add(fw(e)),this.lastProcessedEventTime=Date.now()}}function fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e={}){return $o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function RM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SM(t);for(const n of e)try{if(NM(n))return}catch{}as(t,"unauthorized-domain")}function NM(t){const e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!CM.test(n))return!1;if(AM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new qh(3e4,6e4);function dw(){const t=Ns().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IM(t){return new Promise((e,n)=>{function r(){dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dw(),n(Rs(t,"network-request-failed"))},timeout:PM.get()})}if(Ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ns().gapi?.load)r();else{const o=TO("iframefcb");return Ns()[o]=()=>{gapi.load?r():n(Rs(t,"network-request-failed"))},B1(`${wO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Td=null,e})}let Td=null;function OM(t){return Td=Td||IM(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new qh(5e3,15e3),DM="__/auth/iframe",LM="emulator/auth/iframe",kM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UM(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,LM):`https://${t.config.authDomain}/${DM}`,r={apiKey:e.apiKey,appName:t.name,v:jl},o=VM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Hh(r).slice(1)}`}async function zM(t){const e=await OM(t),n=Ns().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:UM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Rs(t,"network-request-failed"),m=Ns().setTimeout(()=>{u(h)},MM.get());function y(){Ns().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,FM=600,HM="_blank",qM="http://localhost";class mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(t,e,n,r=jM,o=FM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...BM,width:r.toString(),height:o.toString(),top:u,left:h},v=Ei().toLowerCase();n&&(m=M1(v)?HM:n),I1(v)&&(e=e||qM,y.scrollbars="yes");const b=Object.entries(y).reduce((A,[O,V])=>`${A}${O}=${V},`,"");if(dO(v)&&m!=="_self")return $M(e||"",m),new mw(null);const x=window.open(e||"",m,b);et(x,t,"popup-blocked");try{x.focus()}catch{}return new mw(x)}function $M(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="__/auth/handler",KM="emulator/auth/handler",WM=encodeURIComponent("fac");async function pw(t,e,n,r,o,u){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:o};if(e instanceof H1){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",LP(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))h[b]=x}if(e instanceof $h){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(h.scopes=b.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await t._getAppCheckToken(),v=y?`#${WM}=${encodeURIComponent(y)}`:"";return`${YM(t)}?${Hh(m).slice(1)}${v}`}function YM({config:t}){return t.emulator?h_(t,KM):`https://${t.authDomain}/${ZM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=bM,this._overrideRedirectResult=_M}async _openPopup(e,n,r,o){xa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await pw(e,n,r,uy(),o);return GM(e,u,g_())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await pw(e,n,r,uy(),o);return eM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xa(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zM(e),r=new TM(e);return n.register("authEvent",o=>(et(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pg,{type:Pg},o=>{const u=o?.[0]?.[Pg];u!==void 0&&n(!!u),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U1()||O1()||d_()}}const QM=XM;var gw="@firebase/auth",yw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(t){Dl(new Mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;et(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z1(t)},v=new vO(r,o,u,y);return NO(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new Mo("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(r=>new JM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(gw,yw,eD(t)),Cs(gw,yw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=300,iD=g1("authIdTokenMaxAge")||nD;let _w=null;const rD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iD)return;const o=n?.token;_w!==o&&(_w=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sD(t=u_()){const e=mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RO(t,{popupRedirectResolver:QM,persistence:[uM,XO,Y1]}),r=g1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=rD(u.toString());ZO(n,h,()=>h(n.currentUser)),$O(n,m=>h(m))}}const o=d1("auth");return o&&PO(n,`http://${o}`),n}function aD(){return document.getElementsByTagName("head")?.[0]??document}EO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Rs("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");var oD="firebase",lD="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(oD,lD,"app");var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,iS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function M(){}M.prototype=N.prototype,j.D=N.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(F,q,Y){for(var H=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)H[Ze-2]=arguments[Ze];return N.prototype[q].apply(F,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,N,M){M||(M=0);var F=Array(16);if(typeof N=="string")for(var q=0;16>q;++q)F[q]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(q=0;16>q;++q)F[q]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=j.g[0],M=j.g[1],q=j.g[2];var Y=j.g[3],H=N+(Y^M&(q^Y))+F[0]+3614090360&4294967295;N=M+(H<<7&4294967295|H>>>25),H=Y+(q^N&(M^q))+F[1]+3905402710&4294967295,Y=N+(H<<12&4294967295|H>>>20),H=q+(M^Y&(N^M))+F[2]+606105819&4294967295,q=Y+(H<<17&4294967295|H>>>15),H=M+(N^q&(Y^N))+F[3]+3250441966&4294967295,M=q+(H<<22&4294967295|H>>>10),H=N+(Y^M&(q^Y))+F[4]+4118548399&4294967295,N=M+(H<<7&4294967295|H>>>25),H=Y+(q^N&(M^q))+F[5]+1200080426&4294967295,Y=N+(H<<12&4294967295|H>>>20),H=q+(M^Y&(N^M))+F[6]+2821735955&4294967295,q=Y+(H<<17&4294967295|H>>>15),H=M+(N^q&(Y^N))+F[7]+4249261313&4294967295,M=q+(H<<22&4294967295|H>>>10),H=N+(Y^M&(q^Y))+F[8]+1770035416&4294967295,N=M+(H<<7&4294967295|H>>>25),H=Y+(q^N&(M^q))+F[9]+2336552879&4294967295,Y=N+(H<<12&4294967295|H>>>20),H=q+(M^Y&(N^M))+F[10]+4294925233&4294967295,q=Y+(H<<17&4294967295|H>>>15),H=M+(N^q&(Y^N))+F[11]+2304563134&4294967295,M=q+(H<<22&4294967295|H>>>10),H=N+(Y^M&(q^Y))+F[12]+1804603682&4294967295,N=M+(H<<7&4294967295|H>>>25),H=Y+(q^N&(M^q))+F[13]+4254626195&4294967295,Y=N+(H<<12&4294967295|H>>>20),H=q+(M^Y&(N^M))+F[14]+2792965006&4294967295,q=Y+(H<<17&4294967295|H>>>15),H=M+(N^q&(Y^N))+F[15]+1236535329&4294967295,M=q+(H<<22&4294967295|H>>>10),H=N+(q^Y&(M^q))+F[1]+4129170786&4294967295,N=M+(H<<5&4294967295|H>>>27),H=Y+(M^q&(N^M))+F[6]+3225465664&4294967295,Y=N+(H<<9&4294967295|H>>>23),H=q+(N^M&(Y^N))+F[11]+643717713&4294967295,q=Y+(H<<14&4294967295|H>>>18),H=M+(Y^N&(q^Y))+F[0]+3921069994&4294967295,M=q+(H<<20&4294967295|H>>>12),H=N+(q^Y&(M^q))+F[5]+3593408605&4294967295,N=M+(H<<5&4294967295|H>>>27),H=Y+(M^q&(N^M))+F[10]+38016083&4294967295,Y=N+(H<<9&4294967295|H>>>23),H=q+(N^M&(Y^N))+F[15]+3634488961&4294967295,q=Y+(H<<14&4294967295|H>>>18),H=M+(Y^N&(q^Y))+F[4]+3889429448&4294967295,M=q+(H<<20&4294967295|H>>>12),H=N+(q^Y&(M^q))+F[9]+568446438&4294967295,N=M+(H<<5&4294967295|H>>>27),H=Y+(M^q&(N^M))+F[14]+3275163606&4294967295,Y=N+(H<<9&4294967295|H>>>23),H=q+(N^M&(Y^N))+F[3]+4107603335&4294967295,q=Y+(H<<14&4294967295|H>>>18),H=M+(Y^N&(q^Y))+F[8]+1163531501&4294967295,M=q+(H<<20&4294967295|H>>>12),H=N+(q^Y&(M^q))+F[13]+2850285829&4294967295,N=M+(H<<5&4294967295|H>>>27),H=Y+(M^q&(N^M))+F[2]+4243563512&4294967295,Y=N+(H<<9&4294967295|H>>>23),H=q+(N^M&(Y^N))+F[7]+1735328473&4294967295,q=Y+(H<<14&4294967295|H>>>18),H=M+(Y^N&(q^Y))+F[12]+2368359562&4294967295,M=q+(H<<20&4294967295|H>>>12),H=N+(M^q^Y)+F[5]+4294588738&4294967295,N=M+(H<<4&4294967295|H>>>28),H=Y+(N^M^q)+F[8]+2272392833&4294967295,Y=N+(H<<11&4294967295|H>>>21),H=q+(Y^N^M)+F[11]+1839030562&4294967295,q=Y+(H<<16&4294967295|H>>>16),H=M+(q^Y^N)+F[14]+4259657740&4294967295,M=q+(H<<23&4294967295|H>>>9),H=N+(M^q^Y)+F[1]+2763975236&4294967295,N=M+(H<<4&4294967295|H>>>28),H=Y+(N^M^q)+F[4]+1272893353&4294967295,Y=N+(H<<11&4294967295|H>>>21),H=q+(Y^N^M)+F[7]+4139469664&4294967295,q=Y+(H<<16&4294967295|H>>>16),H=M+(q^Y^N)+F[10]+3200236656&4294967295,M=q+(H<<23&4294967295|H>>>9),H=N+(M^q^Y)+F[13]+681279174&4294967295,N=M+(H<<4&4294967295|H>>>28),H=Y+(N^M^q)+F[0]+3936430074&4294967295,Y=N+(H<<11&4294967295|H>>>21),H=q+(Y^N^M)+F[3]+3572445317&4294967295,q=Y+(H<<16&4294967295|H>>>16),H=M+(q^Y^N)+F[6]+76029189&4294967295,M=q+(H<<23&4294967295|H>>>9),H=N+(M^q^Y)+F[9]+3654602809&4294967295,N=M+(H<<4&4294967295|H>>>28),H=Y+(N^M^q)+F[12]+3873151461&4294967295,Y=N+(H<<11&4294967295|H>>>21),H=q+(Y^N^M)+F[15]+530742520&4294967295,q=Y+(H<<16&4294967295|H>>>16),H=M+(q^Y^N)+F[2]+3299628645&4294967295,M=q+(H<<23&4294967295|H>>>9),H=N+(q^(M|~Y))+F[0]+4096336452&4294967295,N=M+(H<<6&4294967295|H>>>26),H=Y+(M^(N|~q))+F[7]+1126891415&4294967295,Y=N+(H<<10&4294967295|H>>>22),H=q+(N^(Y|~M))+F[14]+2878612391&4294967295,q=Y+(H<<15&4294967295|H>>>17),H=M+(Y^(q|~N))+F[5]+4237533241&4294967295,M=q+(H<<21&4294967295|H>>>11),H=N+(q^(M|~Y))+F[12]+1700485571&4294967295,N=M+(H<<6&4294967295|H>>>26),H=Y+(M^(N|~q))+F[3]+2399980690&4294967295,Y=N+(H<<10&4294967295|H>>>22),H=q+(N^(Y|~M))+F[10]+4293915773&4294967295,q=Y+(H<<15&4294967295|H>>>17),H=M+(Y^(q|~N))+F[1]+2240044497&4294967295,M=q+(H<<21&4294967295|H>>>11),H=N+(q^(M|~Y))+F[8]+1873313359&4294967295,N=M+(H<<6&4294967295|H>>>26),H=Y+(M^(N|~q))+F[15]+4264355552&4294967295,Y=N+(H<<10&4294967295|H>>>22),H=q+(N^(Y|~M))+F[6]+2734768916&4294967295,q=Y+(H<<15&4294967295|H>>>17),H=M+(Y^(q|~N))+F[13]+1309151649&4294967295,M=q+(H<<21&4294967295|H>>>11),H=N+(q^(M|~Y))+F[4]+4149444226&4294967295,N=M+(H<<6&4294967295|H>>>26),H=Y+(M^(N|~q))+F[11]+3174756917&4294967295,Y=N+(H<<10&4294967295|H>>>22),H=q+(N^(Y|~M))+F[2]+718787259&4294967295,q=Y+(H<<15&4294967295|H>>>17),H=M+(Y^(q|~N))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(q+(H<<21&4294967295|H>>>11))&4294967295,j.g[2]=j.g[2]+q&4294967295,j.g[3]=j.g[3]+Y&4294967295}r.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var M=N-this.blockSize,F=this.B,q=this.h,Y=0;Y<N;){if(q==0)for(;Y<=M;)o(this,j,Y),Y+=this.blockSize;if(typeof j=="string"){for(;Y<N;)if(F[q++]=j.charCodeAt(Y++),q==this.blockSize){o(this,F),q=0;break}}else for(;Y<N;)if(F[q++]=j[Y++],q==this.blockSize){o(this,F),q=0;break}}this.h=q,this.o+=N},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var M=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=M&255,M/=256;for(this.u(j),j=Array(16),N=M=0;4>N;++N)for(var F=0;32>F;F+=8)j[M++]=this.g[N]>>>F&255;return j};function u(j,N){var M=m;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=N(j)}function h(j,N){this.h=N;for(var M=[],F=!0,q=j.length-1;0<=q;q--){var Y=j[q]|0;F&&Y==N||(M[q]=Y,F=!1)}this.g=M}var m={};function y(j){return-128<=j&&128>j?u(j,function(N){return new h([N|0],0>N?-1:0)}):new h([j|0],0>j?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return x;if(0>j)return B(v(-j));for(var N=[],M=1,F=0;j>=M;F++)N[F]=j/M|0,M*=4294967296;return new h(N,0)}function b(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return B(b(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=v(Math.pow(N,8)),F=x,q=0;q<j.length;q+=8){var Y=Math.min(8,j.length-q),H=parseInt(j.substring(q,q+Y),N);8>Y?(Y=v(Math.pow(N,Y)),F=F.j(Y).add(v(H))):(F=F.j(M),F=F.add(v(H)))}return F}var x=y(0),A=y(1),O=y(16777216);t=h.prototype,t.m=function(){if(U(this))return-B(this).m();for(var j=0,N=1,M=0;M<this.g.length;M++){var F=this.i(M);j+=(0<=F?F:4294967296+F)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(V(this))return"0";if(U(this))return"-"+B(this).toString(j);for(var N=v(Math.pow(j,6)),M=this,F="";;){var q=_e(M,N).g;M=K(M,q.j(N));var Y=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=q,V(M))return Y+F;for(;6>Y.length;)Y="0"+Y;F=Y+F}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function V(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function U(j){return j.h==-1}t.l=function(j){return j=K(this,j),U(j)?-1:V(j)?0:1};function B(j){for(var N=j.g.length,M=[],F=0;F<N;F++)M[F]=~j.g[F];return new h(M,~j.h).add(A)}t.abs=function(){return U(this)?B(this):this},t.add=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0,q=0;q<=N;q++){var Y=F+(this.i(q)&65535)+(j.i(q)&65535),H=(Y>>>16)+(this.i(q)>>>16)+(j.i(q)>>>16);F=H>>>16,Y&=65535,H&=65535,M[q]=H<<16|Y}return new h(M,M[M.length-1]&-2147483648?-1:0)};function K(j,N){return j.add(B(N))}t.j=function(j){if(V(this)||V(j))return x;if(U(this))return U(j)?B(this).j(B(j)):B(B(this).j(j));if(U(j))return B(this.j(B(j)));if(0>this.l(O)&&0>j.l(O))return v(this.m()*j.m());for(var N=this.g.length+j.g.length,M=[],F=0;F<2*N;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var q=0;q<j.g.length;q++){var Y=this.i(F)>>>16,H=this.i(F)&65535,Ze=j.i(q)>>>16,Ue=j.i(q)&65535;M[2*F+2*q]+=H*Ue,G(M,2*F+2*q),M[2*F+2*q+1]+=Y*Ue,G(M,2*F+2*q+1),M[2*F+2*q+1]+=H*Ze,G(M,2*F+2*q+1),M[2*F+2*q+2]+=Y*Ze,G(M,2*F+2*q+2)}for(F=0;F<N;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=N;F<2*N;F++)M[F]=0;return new h(M,0)};function G(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function Q(j,N){this.g=j,this.h=N}function _e(j,N){if(V(N))throw Error("division by zero");if(V(j))return new Q(x,x);if(U(j))return N=_e(B(j),N),new Q(B(N.g),B(N.h));if(U(N))return N=_e(j,B(N)),new Q(B(N.g),N.h);if(30<j.g.length){if(U(j)||U(N))throw Error("slowDivide_ only works with positive integers.");for(var M=A,F=N;0>=F.l(j);)M=J(M),F=J(F);var q=ue(M,1),Y=ue(F,1);for(F=ue(F,2),M=ue(M,2);!V(F);){var H=Y.add(F);0>=H.l(j)&&(q=q.add(M),Y=H),F=ue(F,1),M=ue(M,1)}return N=K(j,q.j(N)),new Q(q,N)}for(q=x;0<=j.l(N);){for(M=Math.max(1,Math.floor(j.m()/N.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),Y=v(M),H=Y.j(N);U(H)||0<H.l(j);)M-=F,Y=v(M),H=Y.j(N);V(Y)&&(Y=A),q=q.add(Y),j=K(j,H)}return new Q(q,j)}t.A=function(j){return _e(this,j).h},t.and=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)&j.i(F);return new h(M,this.h&j.h)},t.or=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)|j.i(F);return new h(M,this.h|j.h)},t.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)^j.i(F);return new h(M,this.h^j.h)};function J(j){for(var N=j.g.length+1,M=[],F=0;F<N;F++)M[F]=j.i(F)<<1|j.i(F-1)>>>31;return new h(M,j.h)}function ue(j,N){var M=N>>5;N%=32;for(var F=j.g.length-M,q=[],Y=0;Y<F;Y++)q[Y]=0<N?j.i(Y+M)>>>N|j.i(Y+M+1)<<32-N:j.i(Y+M);return new h(q,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iS=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=b,Io=h}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rS,ah,sS,xd,dy,aS,oS,lS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,C){return d==Array.prototype||d==Object.prototype||(d[T]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var T=0;T<d.length;++T){var C=d[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function o(d,T){if(T)e:{var C=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var ne=d[D];if(!(ne in C))break e;C=C[ne]}d=d[d.length-1],D=C[d],T=T(D),T!=D&&T!=null&&e(C,d,{configurable:!0,writable:!0,value:T})}}function u(d,T){d instanceof String&&(d+="");var C=0,D=!1,ne={next:function(){if(!D&&C<d.length){var fe=C++;return{value:T(fe,d[fe]),done:!1}}return D=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}o("Array.prototype.values",function(d){return d||function(){return u(this,function(T,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function v(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function b(d,T,C){return d.call.apply(d.bind,arguments)}function x(d,T,C){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,D),d.apply(T,ne)}}return function(){return d.apply(T,arguments)}}function A(d,T,C){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:x,A.apply(null,arguments)}function O(d,T){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function V(d,T){function C(){}C.prototype=T.prototype,d.aa=T.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(D,ne,fe){for(var Ie=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Ie[_t-2]=arguments[_t];return T.prototype[ne].apply(D,Ie)}}function U(d){const T=d.length;if(0<T){const C=Array(T);for(let D=0;D<T;D++)C[D]=d[D];return C}return[]}function B(d,T){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(y(D)){const ne=d.length||0,fe=D.length||0;d.length=ne+fe;for(let Ie=0;Ie<fe;Ie++)d[ne+Ie]=D[Ie]}else d.push(D)}}class K{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function G(d){return/^[\s\xa0]*$/.test(d)}function Q(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function _e(d){return _e[" "](d),d}_e[" "]=function(){};var J=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ue(d,T,C){for(const D in d)T.call(C,d[D],D,d)}function j(d,T){for(const C in d)T.call(void 0,d[C],C,d)}function N(d){const T={};for(const C in d)T[C]=d[C];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,T){let C,D;for(let ne=1;ne<arguments.length;ne++){D=arguments[ne];for(C in D)d[C]=D[C];for(let fe=0;fe<M.length;fe++)C=M[fe],Object.prototype.hasOwnProperty.call(D,C)&&(d[C]=D[C])}}function q(d){var T=1;d=d.split(":");const C=[];for(;0<T&&d.length;)C.push(d.shift()),T--;return d.length&&C.push(d.join(":")),C}function Y(d){m.setTimeout(()=>{throw d},0)}function H(){var d=$e;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Ze{constructor(){this.h=this.g=null}add(T,C){const D=Ue.get();D.set(T,C),this.h?this.h.next=D:this.g=D,this.h=D}}var Ue=new K(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,pe=!1,$e=new Ze,z=()=>{const d=m.Promise.resolve(void 0);ge=()=>{d.then(W)}};var W=()=>{for(var d;d=H();){try{d.h.call(d.g)}catch(C){Y(C)}var T=Ue;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}pe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};m.addEventListener("test",C,T),m.removeEventListener("test",C,T)}catch{}return d})();function Pe(d,T){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(J){e:{try{_e(T.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(T=null)}}else C=="mouseover"?T=d.fromElement:C=="mouseout"&&(T=d.toElement);this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Te[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}V(Pe,oe);var Te={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function qt(d,T,C,D,ne){this.listener=d,this.proxy=null,this.src=T,this.type=C,this.capture=!!D,this.ha=ne,this.key=++Qe,this.da=this.fa=!1}function Gt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pt(d){this.src=d,this.g={},this.h=0}Pt.prototype.add=function(d,T,C,D,ne){var fe=d.toString();d=this.g[fe],d||(d=this.g[fe]=[],this.h++);var Ie=Yt(d,T,D,ne);return-1<Ie?(T=d[Ie],C||(T.fa=!1)):(T=new qt(T,this.src,fe,!!D,ne),T.fa=C,d.push(T)),T};function Wt(d,T){var C=T.type;if(C in d.g){var D=d.g[C],ne=Array.prototype.indexOf.call(D,T,void 0),fe;(fe=0<=ne)&&Array.prototype.splice.call(D,ne,1),fe&&(Gt(T),d.g[C].length==0&&(delete d.g[C],d.h--))}}function Yt(d,T,C,D){for(var ne=0;ne<d.length;++ne){var fe=d[ne];if(!fe.da&&fe.listener==T&&fe.capture==!!C&&fe.ha==D)return ne}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),Dr={};function us(d,T,C,D,ne){if(Array.isArray(T)){for(var fe=0;fe<T.length;fe++)us(d,T[fe],C,D,ne);return null}return C=Re(C),d&&d[ht]?d.K(T,C,v(D)?!!D.capture:!1,ne):jn(d,T,C,!1,D,ne)}function jn(d,T,C,D,ne,fe){if(!T)throw Error("Invalid event type");var Ie=v(ne)?!!ne.capture:!!ne,_t=Fi(d);if(_t||(d[Mr]=_t=new Pt(d)),C=_t.add(T,C,D,Ie,fe),C.proxy)return C;if(D=ji(),C.proxy=D,D.src=d,D.listener=C,d.addEventListener)Ne||(ne=Ie),ne===void 0&&(ne=!1),d.addEventListener(T.toString(),D,ne);else if(d.attachEvent)d.attachEvent(bi(T.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ji(){function d(C){return T.call(d.src,d.listener,C)}const T=Lr;return d}function Fs(d,T,C,D,ne){if(Array.isArray(T))for(var fe=0;fe<T.length;fe++)Fs(d,T[fe],C,D,ne);else D=v(D)?!!D.capture:!!D,C=Re(C),d&&d[ht]?(d=d.i,T=String(T).toString(),T in d.g&&(fe=d.g[T],C=Yt(fe,C,D,ne),-1<C&&(Gt(fe[C]),Array.prototype.splice.call(fe,C,1),fe.length==0&&(delete d.g[T],d.h--)))):d&&(d=Fi(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Yt(T,C,D,ne)),(C=-1<d?T[d]:null)&&ur(C))}function ur(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[ht])Wt(T.i,d);else{var C=d.type,D=d.proxy;T.removeEventListener?T.removeEventListener(C,D,d.capture):T.detachEvent?T.detachEvent(bi(C),D):T.addListener&&T.removeListener&&T.removeListener(D),(C=Fi(T))?(Wt(C,d),C.h==0&&(C.src=null,T[Mr]=null)):Gt(d)}}}function bi(d){return d in Dr?Dr[d]:Dr[d]="on"+d}function Lr(d,T){if(d.da)d=!0;else{T=new Pe(T,this);var C=d.listener,D=d.ha||d.src;d.fa&&ur(d),d=C.call(D,T)}return d}function Fi(d){return d=d[Mr],d instanceof Pt?d:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(d){return typeof d=="function"?d:(d[Hs]||(d[Hs]=function(T){return d.handleEvent(T)}),d[Hs])}function te(){me.call(this),this.i=new Pt(this),this.M=this,this.F=null}V(te,me),te.prototype[ht]=!0,te.prototype.removeEventListener=function(d,T,C,D){Fs(this,d,T,C,D)};function ye(d,T){var C,D=d.F;if(D)for(C=[];D;D=D.F)C.push(D);if(d=d.M,D=T.type||T,typeof T=="string")T=new oe(T,d);else if(T instanceof oe)T.target=T.target||d;else{var ne=T;T=new oe(D,d),F(T,ne)}if(ne=!0,C)for(var fe=C.length-1;0<=fe;fe--){var Ie=T.g=C[fe];ne=Ce(Ie,D,!0,T)&&ne}if(Ie=T.g=d,ne=Ce(Ie,D,!0,T)&&ne,ne=Ce(Ie,D,!1,T)&&ne,C)for(fe=0;fe<C.length;fe++)Ie=T.g=C[fe],ne=Ce(Ie,D,!1,T)&&ne}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var C=d.g[T],D=0;D<C.length;D++)Gt(C[D]);delete d.g[T],d.h--}}this.F=null},te.prototype.K=function(d,T,C,D){return this.i.add(String(d),T,!1,C,D)},te.prototype.L=function(d,T,C,D){return this.i.add(String(d),T,!0,C,D)};function Ce(d,T,C,D){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var ne=!0,fe=0;fe<T.length;++fe){var Ie=T[fe];if(Ie&&!Ie.da&&Ie.capture==C){var _t=Ie.listener,gn=Ie.ha||Ie.src;Ie.fa&&Wt(d.i,Ie),ne=_t.call(gn,D)!==!1&&ne}}return ne&&!D.defaultPrevented}function He(d,T,C){if(typeof d=="function")C&&(d=A(d,C));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:m.setTimeout(d,T||0)}function at(d){d.g=He(()=>{d.g=null,d.i&&(d.i=!1,at(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class yt extends me{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(d){me.call(this),this.h=d,this.g={}}V(de,me);var be=[];function ke(d){ue(d.g,function(T,C){this.g.hasOwnProperty(C)&&ur(T)},d),d.g={}}de.prototype.N=function(){de.aa.N.call(this),ke(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=m.JSON.stringify,Le=m.JSON.parse,We=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function It(){}It.prototype.h=null;function Ot(d){return d.h||(d.h=d.i())}function Tt(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ct(){oe.call(this,"d")}V(Ct,oe);function sn(){oe.call(this,"c")}V(sn,oe);var Ln={},wi=null;function Ti(){return wi=wi||new te}Ln.La="serverreachability";function kr(d){oe.call(this,Ln.La,d)}V(kr,oe);function Hi(d){const T=Ti();ye(T,new kr(T))}Ln.STAT_EVENT="statevent";function Pa(d,T){oe.call(this,Ln.STAT_EVENT,d),this.stat=T}V(Pa,oe);function Xt(d){const T=Ti();ye(T,new Pa(T,d))}Ln.Ma="timingevent";function vn(d,T){oe.call(this,Ln.Ma,d),this.size=T}V(vn,oe);function pn(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},T)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function li(d,T,C,D,ne,fe){d.info(function(){if(d.g)if(fe)for(var Ie="",_t=fe.split("&"),gn=0;gn<_t.length;gn++){var vt=_t[gn].split("=");if(1<vt.length){var Lt=vt[0];vt=vt[1];var Jt=Lt.split("_");Ie=2<=Jt.length&&Jt[1]=="type"?Ie+(Lt+"="+vt+"&"):Ie+(Lt+"=redacted&")}}else Ie=null;else Ie=fe;return"XMLHTTP REQ ("+D+") [attempt "+ne+"]: "+T+`
`+C+`
`+Ie})}function Fe(d,T,C,D,ne,fe,Ie){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ne+"]: "+T+`
`+C+`
`+fe+" "+Ie})}function Vr(d,T,C,D){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+cs(d,C)+(D?" "+D:"")})}function Wo(d,T){d.info(function(){return"TIMEOUT: "+T})}Oi.prototype.info=function(){};function cs(d,T){if(!d.g)return T;if(!T)return null;try{var C=JSON.parse(T);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var D=C[d];if(!(2>D.length)){var ne=D[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ie=1;Ie<ne.length;Ie++)ne[Ie]=""}}}}return Oe(C)}catch{return T}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function Xn(){}V(Xn,It),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Gi=new Xn;function Fn(d,T,C,D){this.j=d,this.i=T,this.l=C,this.R=D||1,this.U=new de(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var Yo={},Ia={};function $i(d,T,C){d.L=1,d.v=xi(Qt(T)),d.m=C,d.P=!0,cr(d,null)}function cr(d,T){d.F=Date.now(),Gs(d),d.A=Qt(d.v);var C=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Jo(C.i,"t",D),d.C=0,C=d.j.J,d.h=new un,d.g=Ql(d.j,C?T:null,!d.m),0<d.O&&(d.M=new yt(A(d.Y,d,d.g),d.O)),T=d.U,C=d.g,D=d.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(be[0]=ne.toString()),ne=be);for(var fe=0;fe<ne.length;fe++){var Ie=us(C,ne[fe],D||T.handleEvent,!1,T.h||T);if(!Ie)break;T.g[Ie.key]=Ie}T=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),Hi(),li(d.i,d.u,d.A,d.l,d.R,d.m)}Fn.prototype.ca=function(d){d=d.target;const T=this.M;T&&Gn(d)==3?T.j():this.Y(d)},Fn.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=Gn(this.g);var T=this.g.Ba();const $r=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||Jt!=4||T==7||(T==8||0>=$r?Hi(3):Hi(2)),hs(this);var C=this.g.Z();this.X=C;t:if(Zl(this)){var D=el(this.g);d="";var ne=D.length,fe=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),hr(this);var Ie="";break t}this.h.i=new m.TextDecoder}for(T=0;T<ne;T++)this.h.h=!0,d+=this.h.i.decode(D[T],{stream:!(fe&&T==ne-1)});D.length=0,this.h.g+=d,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=C==200,Fe(this.i,this.u,this.A,this.l,this.R,Jt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,gn=this.g;if((_t=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_t)){var vt=_t;break t}}vt=null}if(C=vt)Vr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,C);else{this.o=!1,this.s=3,Xt(12),kn(this),hr(this);break e}}if(this.P){C=!0;let $t;for(;!this.J&&this.C<Ie.length;)if($t=qs(this,Ie),$t==Ia){Jt==4&&(this.s=4,Xt(14),C=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Yo){this.s=4,Xt(15),Vr(this.i,this.l,Ie,"[Invalid Chunk]"),C=!1;break}else Vr(this.i,this.l,$t,null),zr(this,$t);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||Ie.length!=0||this.h.h||(this.s=1,Xt(16),C=!1),this.o=this.o&&C,!C)Vr(this.i,this.l,Ie,"[Invalid Chunked Response]"),kn(this),hr(this);else if(0<Ie.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),ys(Lt),Lt.M=!0,Xt(11))}}else Vr(this.i,this.l,Ie,null),zr(this,Ie);Jt==4&&kn(this),this.o&&!this.J&&(Jt==4?nl(this.j,this):(this.o=!1,Gs(this)))}else fc(this.g),C==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),kn(this),hr(this)}}}catch{}finally{}};function Zl(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qs(d,T){var C=d.C,D=T.indexOf(`
`,C);return D==-1?Ia:(C=Number(T.substring(C,D)),isNaN(C)?Yo:(D+=1,D+C>T.length?Ia:(T=T.slice(D,D+C),d.C=D+C,T)))}Fn.prototype.cancel=function(){this.J=!0,kn(this)};function Gs(d){d.S=Date.now()+d.I,Kl(d,d.I)}function Kl(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=pn(A(d.ba,d),T)}function hs(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Fn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Wo(this.i,this.A),this.L!=2&&(Hi(),Xt(17)),kn(this),this.s=2,hr(this)):Kl(this,this.S-d)};function hr(d){d.j.G==0||d.J||nl(d.j,d)}function kn(d){hs(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,ke(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function zr(d,T){try{var C=d.j;if(C.G!=0&&(C.g==d||dt(C.h,d))){if(!d.K&&dt(C.h,d)&&C.G==3){try{var D=C.Da.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ne=D;if(ne[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)Ba(C),Va(C);else break e;Ua(C),Xt(18)}}else C.za=ne[1],0<C.za-C.T&&37500>ne[2]&&C.F&&C.v==0&&!C.C&&(C.C=pn(A(C.Za,C),6e3));if(1>=dr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Gr(C,11)}else if((d.K||C.g==d)&&Ba(C),!G(T))for(ne=C.Da.g.parse(T),T=0;T<ne.length;T++){let vt=ne[T];if(C.T=vt[0],vt=vt[1],C.G==2)if(vt[0]=="c"){C.K=vt[1],C.ia=vt[2];const Lt=vt[3];Lt!=null&&(C.la=Lt,C.j.info("VER="+C.la));const Jt=vt[4];Jt!=null&&(C.Aa=Jt,C.j.info("SVER="+C.Aa));const $r=vt[5];$r!=null&&typeof $r=="number"&&0<$r&&(D=1.5*$r,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const $t=d.g;if($t){const _r=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var fe=D.h;fe.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Dt(fe,fe.h),fe.h=null))}if(D.D){const vr=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;vr&&(D.ya=vr,Je(D.I,D.D,vr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var Ie=d;if(D.qa=Fa(D,D.J?D.ia:null,D.W),Ie.K){An(D.h,Ie);var _t=Ie,gn=D.L;gn&&(_t.I=gn),_t.B&&(hs(_t),Gs(_t)),D.g=Ie}else Qi(D);0<C.i.length&&gs(C)}else vt[0]!="stop"&&vt[0]!="close"||Gr(C,7);else C.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Gr(C,7):ka(C):vt[0]!="noop"&&C.l&&C.l.ta(vt),C.v=0)}}Hi(4)}catch{}}var fs=class{constructor(d,T){this.g=d,this.map=T}};function fr(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function dr(d){return d.h?1:d.g?d.g.size:0}function dt(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Dt(d,T){d.g?d.g.add(T):d.h=T}function An(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}fr.prototype.cancel=function(){if(this.i=mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function mr(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const C of d.g.values())T=T.concat(C.D);return T}return U(d.i)}function ds(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var T=[],C=d.length,D=0;D<C;D++)T.push(d[D]);return T}T=[],C=0;for(D in d)T[C++]=d[D];return T}function ms(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var T=[];d=d.length;for(var C=0;C<d;C++)T.push(C);return T}T=[],C=0;for(const D in d)T[C++]=D;return T}}}function st(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var C=ms(d),D=ds(d),ne=D.length,fe=0;fe<ne;fe++)T.call(void 0,D[fe],C&&C[fe],d)}var Vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(d,T){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var D=d[C].indexOf("="),ne=null;if(0<=D){var fe=d[C].substring(0,D);ne=d[C].substring(D+1)}else fe=d[C];T(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function nn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof nn){this.h=d.h,Zs(this,d.j),this.o=d.o,this.g=d.g,Zi(this,d.s),this.l=d.l;var T=d.i,C=new Wi;C.i=T.i,T.g&&(C.g=new Map(T.g),C.h=T.h),Qn(this,C),this.m=d.m}else d&&(T=String(d).match(Vt))?(this.h=!1,Zs(this,T[1]||"",!0),this.o=Hn(T[2]||""),this.g=Hn(T[3]||"",!0),Zi(this,T[4]),this.l=Hn(T[5]||"",!0),Qn(this,T[6]||"",!0),this.m=Hn(T[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}nn.prototype.toString=function(){var d=[],T=this.j;T&&d.push(Ki(T,Br,!0),":");var C=this.g;return(C||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Ki(T,Br,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Ki(C,C.charAt(0)=="/"?Qo:Ks,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Ki(C,ps)),d.join("")};function Qt(d){return new nn(d)}function Zs(d,T,C){d.j=C?Hn(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function Zi(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function Qn(d,T,C){T instanceof Wi?(d.i=T,Si(d.i,d.h)):(C||(T=Ki(T,Ma)),d.i=new Wi(T,d.h))}function Je(d,T,C){d.i.set(T,C)}function xi(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hn(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ki(d,T,C){return typeof d=="string"?(d=encodeURI(d).replace(T,Oa),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Oa(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Br=/[#\/\?@]/g,Ks=/[#\?:]/g,Qo=/[#\?]/g,Ma=/[#\?@]/g,ps=/#/g;function Wi(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Jn(d){d.g||(d.g=new Map,d.h=0,d.i&&Xo(d.i,function(T,C){d.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=Wi.prototype,t.add=function(d,T){Jn(this),this.i=null,d=Ke(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(T),this.h+=1,this};function pr(d,T){Jn(d),T=Ke(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Yi(d,T){return Jn(d),T=Ke(d,T),d.g.has(T)}t.forEach=function(d,T){Jn(this),this.g.forEach(function(C,D){C.forEach(function(ne){d.call(T,ne,D,this)},this)},this)},t.na=function(){Jn(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),C=[];for(let D=0;D<T.length;D++){const ne=d[D];for(let fe=0;fe<ne.length;fe++)C.push(T[D])}return C},t.V=function(d){Jn(this);let T=[];if(typeof d=="string")Yi(this,d)&&(T=T.concat(this.g.get(Ke(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)T=T.concat(d[C])}return T},t.set=function(d,T){return Jn(this),this.i=null,d=Ke(this,d),Yi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},t.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function Jo(d,T,C){pr(d,T),0<C.length&&(d.i=null,d.g.set(Ke(d,T),U(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var C=0;C<T.length;C++){var D=T[C];const fe=encodeURIComponent(String(D)),Ie=this.V(D);for(D=0;D<Ie.length;D++){var ne=fe;Ie[D]!==""&&(ne+="="+encodeURIComponent(String(Ie[D]))),d.push(ne)}}return this.i=d.join("&")};function Ke(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function Si(d,T){T&&!d.j&&(Jn(d),d.i=null,d.g.forEach(function(C,D){var ne=D.toLowerCase();D!=ne&&(pr(this,D),Jo(this,ne,C))},d)),d.j=T}function xt(d,T){const C=new Oi;if(m.Image){const D=new Image;D.onload=O(ui,C,"TestLoadImage: loaded",!0,T,D),D.onerror=O(ui,C,"TestLoadImage: error",!1,T,D),D.onabort=O(ui,C,"TestLoadImage: abort",!1,T,D),D.ontimeout=O(ui,C,"TestLoadImage: timeout",!1,T,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else T(!1)}function Mi(d,T){const C=new Oi,D=new AbortController,ne=setTimeout(()=>{D.abort(),ui(C,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:D.signal}).then(fe=>{clearTimeout(ne),fe.ok?ui(C,"TestPingServer: ok",!0,T):ui(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ne),ui(C,"TestPingServer: error",!1,T)})}function ui(d,T,C,D,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),D(C)}catch{}}function jr(){this.g=new We}function Di(d,T,C){const D=C||"";try{st(d,function(ne,fe){let Ie=ne;v(ne)&&(Ie=Oe(ne)),T.push(D+fe+"="+encodeURIComponent(Ie))})}catch(ne){throw T.push(D+"type="+encodeURIComponent("_badmap")),ne}}function ci(d){this.l=d.Ub||null,this.j=d.eb||!1}V(ci,It),ci.prototype.g=function(){return new Xi(this.l,this.j)},ci.prototype.i=(function(d){return function(){return d}})({});function Xi(d,T){te.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Xi,te),t=Xi.prototype,t.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,qn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||m).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Bt(this):qn(this),this.readyState==3&&Fr(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Bt(this))},t.Qa=function(d){this.g&&(this.response=d,Bt(this))},t.ga=function(){this.g&&Bt(this)};function Bt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,qn(d)}t.setRequestHeader=function(d,T){this.u.append(d,T)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=T.next();return d.join(`\r
`)};function qn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Da(d){let T="";return ue(d,function(C,D){T+=D,T+=":",T+=C,T+=`\r
`}),T}function En(d,T,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=Da(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Je(d,T,C))}function Rt(d){te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Rt,te);var Ws=/^https?$/i,Hr=["POST","PUT"];t=Rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,T,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?Ot(this.o):Ot(Gi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(fe){Wl(this,fe);return}if(d=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ne in D)C.set(ne,D[ne]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const fe of D.keys())C.set(fe,D.get(fe));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hr,T,void 0))||D||ne||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ie]of C)this.g.setRequestHeader(fe,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vn(this),this.u=!0,this.g.send(d),this.u=!1}catch(fe){Wl(this,fe)}};function Wl(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,Ys(d),gr(d)}function Ys(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ye(this,"complete"),ye(this,"abort"),gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ut(this):this.bb())},t.bb=function(){ut(this)};function ut(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)He(d.Ea,0,d);else if(ye(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const Ie=d.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var D;if(D=Ie===0){var ne=String(d.D).match(Vt)[1]||null;!ne&&m.self&&m.self.location&&(ne=m.self.location.protocol.slice(0,-1)),D=!Ws.test(ne?ne.toLowerCase():"")}C=D}if(C)ye(d,"complete"),ye(d,"success");else{d.m=6;try{var fe=2<Gn(d)?d.g.statusText:""}catch{fe=""}d.l=fe+" ["+d.Z()+"]",Ys(d)}}finally{gr(d)}}}}function gr(d,T){if(d.g){Vn(d);const C=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||ye(d,"ready");try{C.onreadystatechange=D}catch{}}}function Vn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Le(T)}};function el(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function fc(d){const T={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(G(d[D]))continue;var C=q(d[D]);const ne=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const fe=T[ne]||[];T[ne]=fe,fe.push(C)}j(T,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(d,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||T}function La(d){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,d),this.cb=qr("retryDelaySeedMs",1e4,d),this.Wa=qr("forwardChannelMaxRetries",2,d),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(d&&d.concurrentRequestLimit),this.Da=new jr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=La.prototype,t.la=8,t.G=1,t.connect=function(d,T,C,D){Xt(0),this.W=d,this.H=T||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Fa(this,null,this.W),gs(this)};function ka(d){if(Yl(d),d.G==3){var T=d.U++,C=Qt(d.I);if(Je(C,"SID",d.K),Je(C,"RID",T),Je(C,"TYPE","terminate"),Xs(d,C),T=new Fn(d,d.j,T),T.L=2,T.v=xi(Qt(C)),C=!1,m.navigator&&m.navigator.sendBeacon)try{C=m.navigator.sendBeacon(T.v.toString(),"")}catch{}!C&&m.Image&&(new Image().src=T.v,C=!0),C||(T.g=Ql(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Gs(T)}Xl(d)}function Va(d){d.g&&(ys(d),d.g.cancel(),d.g=null)}function Yl(d){Va(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function gs(d){if(!$s(d.h)&&!d.s){d.s=!0;var T=d.Ga;ge||z(),pe||(ge(),pe=!0),$e.add(T,d),d.B=0}}function dc(d,T){return dr(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=pn(A(d.Ga,d,T),ja(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ne=new Fn(this,this.j,d);let fe=this.o;if(this.S&&(fe?(fe=N(fe),F(fe,this.S)):fe=this.S),this.m!==null||this.O||(ne.H=fe,fe=null),this.P)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,4096<T){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=tl(this,ne,T),C=Qt(this.I),Je(C,"RID",d),Je(C,"CVER",22),this.D&&Je(C,"X-HTTP-Session-Id",this.D),Xs(this,C),fe&&(this.O?T="headers="+encodeURIComponent(String(Da(fe)))+"&"+T:this.m&&En(C,this.m,fe)),Dt(this.h,ne),this.Ua&&Je(C,"TYPE","init"),this.P?(Je(C,"$req",T),Je(C,"SID","null"),ne.T=!0,$i(ne,C,null)):$i(ne,C,T),this.G=2}}else this.G==3&&(d?hi(this,d):this.i.length==0||$s(this.h)||hi(this))};function hi(d,T){var C;T?C=T.l:C=d.U++;const D=Qt(d.I);Je(D,"SID",d.K),Je(D,"RID",C),Je(D,"AID",d.T),Xs(d,D),d.m&&d.o&&En(D,d.m,d.o),C=new Fn(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),T&&(d.i=T.D.concat(d.i)),T=tl(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Dt(d.h,C),$i(C,D,T)}function Xs(d,T){d.H&&ue(d.H,function(C,D){Je(T,D,C)}),d.l&&st({},function(C,D){Je(T,D,C)})}function tl(d,T,C){C=Math.min(d.i.length,C);var D=d.l?A(d.l.Na,d.l,d):null;e:{var ne=d.i;let fe=-1;for(;;){const Ie=["count="+C];fe==-1?0<C?(fe=ne[0].g,Ie.push("ofs="+fe)):fe=0:Ie.push("ofs="+fe);let _t=!0;for(let gn=0;gn<C;gn++){let vt=ne[gn].g;const Lt=ne[gn].map;if(vt-=fe,0>vt)fe=Math.max(0,ne[gn].g-100),_t=!1;else try{Di(Lt,Ie,"req"+vt+"_")}catch{D&&D(Lt)}}if(_t){D=Ie.join("&");break e}}}return d=d.i.splice(0,C),T.D=d,D}function Qi(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;ge||z(),pe||(ge(),pe=!0),$e.add(T,d),d.v=0}}function Ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=pn(A(d.Fa,d),ja(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=pn(A(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Va(this),za(this))};function ys(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function za(d){d.g=new Fn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=Qt(d.qa);Je(T,"RID","rpc"),Je(T,"SID",d.K),Je(T,"AID",d.T),Je(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(T,"TO",d.ja),Je(T,"TYPE","xmlhttp"),Xs(d,T),d.m&&d.o&&En(T,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=xi(Qt(T)),C.m=null,C.P=!0,cr(C,d)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),Ua(this),Xt(19))};function Ba(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function nl(d,T){var C=null;if(d.g==T){Ba(d),ys(d),d.g=null;var D=2}else if(dt(d.h,T))C=T.D,An(d.h,T),D=1;else return;if(d.G!=0){if(T.o)if(D==1){C=T.m?T.m.length:0,T=Date.now()-T.F;var ne=d.B;D=Ti(),ye(D,new vn(D,C)),gs(d)}else Qi(d);else if(ne=T.s,ne==3||ne==0&&0<T.X||!(D==1&&dc(d,T)||D==2&&Ua(d)))switch(C&&0<C.length&&(T=d.h,T.i=T.i.concat(C)),ne){case 1:Gr(d,5);break;case 4:Gr(d,10);break;case 3:Gr(d,6);break;default:Gr(d,2)}}}function ja(d,T){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*T}function Gr(d,T){if(d.j.info("Error code "+T),T==2){var C=A(d.fb,d),D=d.Xa;const ne=!D;D=new nn(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zs(D,"https"),xi(D),ne?xt(D.toString(),C):Mi(D.toString(),C)}else Xt(2);d.G=0,d.l&&d.l.sa(T),Xl(d),Yl(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Xl(d){if(d.G=0,d.ka=[],d.l){const T=mr(d.h);(T.length!=0||d.i.length!=0)&&(B(d.ka,T),B(d.ka,d.i),d.h.i.length=0,U(d.i),d.i.length=0),d.l.ra()}}function Fa(d,T,C){var D=C instanceof nn?Qt(C):new nn(C);if(D.g!="")T&&(D.g=T+"."+D.g),Zi(D,D.s);else{var ne=m.location;D=ne.protocol,T=T?T+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new nn(null);D&&Zs(fe,D),T&&(fe.g=T),ne&&Zi(fe,ne),C&&(fe.l=C),D=fe}return C=d.D,T=d.ya,C&&T&&Je(D,C,T),Je(D,"VER",d.la),Xs(d,D),D}function Ql(d,T,C){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new Rt(new ci({eb:C})):new Rt(d.pa),T.Ha(d.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}t=il.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qs(){}Qs.prototype.g=function(d,T){return new Cn(d,T)};function Cn(d,T){te.call(this),this.g=new La(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!G(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!G(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new fi(this)}V(Cn,te),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){ka(this.g)},Cn.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=Oe(d),d=C);T.i.push(new fs(T.Ya++,d)),T.G==3&&gs(T)},Cn.prototype.N=function(){this.g.l=null,delete this.j,ka(this.g),delete this.g,Cn.aa.N.call(this)};function yr(d){Ct.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const C in T){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}V(yr,Ct);function Jl(){sn.call(this),this.status=1}V(Jl,sn);function fi(d){this.g=d}V(fi,il),fi.prototype.ua=function(){ye(this.g,"a")},fi.prototype.ta=function(d){ye(this.g,new yr(d))},fi.prototype.sa=function(d){ye(this.g,new Jl)},fi.prototype.ra=function(){ye(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,lS=function(){return new Qs},oS=function(){return Ti()},aS=Ln,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,xd=Ur,qi.COMPLETE="complete",sS=qi,Tt.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",te.prototype.listen=te.prototype.K,ah=Tt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,rS=Rt}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const Ew="@firebase/firestore",bw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new o_("@firebase/firestore");function Pu(){return Vl.logLevel}function Ve(t,...e){if(Vl.logLevel<=Et.DEBUG){const n=e.map(__);Vl.debug(`Firestore (${rc}): ${t}`,...n)}}function Sa(t,...e){if(Vl.logLevel<=Et.ERROR){const n=e.map(__);Vl.error(`Firestore (${rc}): ${t}`,...n)}}function $u(t,...e){if(Vl.logLevel<=Et.WARN){const n=e.map(__);Vl.warn(`Firestore (${rc}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uS(t,r,n)}function uS(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sa(r),new Error(r)}function kt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||uS(e,o,r)}function lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gi.UNAUTHENTICATED)))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _a,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _a)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new cS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new gi(e)}}class fD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=u=>{u.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ww(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ww(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function my(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),u=e.charAt(r);if(o!==u)return Ig(o)===Ig(u)?bt(o,u):Ig(o)?1:-1}return bt(t.length,e.length)}const gD=55296,yD=57343;function Ig(t){const e=t.charCodeAt(0);return e>=gD&&e<=yD}function Zu(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=As.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return bt(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),o=As.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?As.extractNumericId(e).compare(As.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Kt extends As{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const _D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends As{construct(e,n,r){return new si(e,n,r)}static isValidIdentifier(e){return _D.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===py}static keyField(){return new si([py])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Me(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Me(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Me(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new Me(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(n)}static emptyPath(){return new si([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Kt.fromString(e))}static fromName(e){return new Ge(Kt.fromString(e).popFirst(5))}static empty(){return new Ge(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e,n){if(!n)throw new Me(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vD(t,e,n,r){if(e===!0&&r===!0)throw new Me(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tw(t){if(!Ge.isDocumentKey(t))throw new Me(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xw(t){if(Ge.isDocumentKey(t))throw new Me(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new Me(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kh(t,e){if(!fS(t))throw new Me(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const h=t[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Me(Ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Aw=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Aw);return new rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sw)throw new Me(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Aw}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kh(e,rn._jsonSchema))return new rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:Mn("string",rn._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new rn(0,0))}static max(){return new ot(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function ED(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ot.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Do(o,Ge.empty(),e)}function bD(t){return new Do(t.readTime,t.key,Ah)}class Do{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Do(ot.min(),Ge.empty(),Ah)}static max(){return new Do(ot.max(),Ge.empty(),Ah)}}function wD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==TD)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,r)=>{n(e)}))}static reject(e){return new Se(((n,r)=>{r(e)}))}static waitFor(e){return new Se(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(y=>r(y)))})),h=!0,u===o&&n()}))}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next((o=>o?Se.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new Se(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;n(e[v]).next((b=>{h[v]=b,++m,m===u&&r(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new Se(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function SD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-1;function Em(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function AD(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="";function CD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cw(e)),e=RD(t.get(n),e);return Cw(e)}function RD(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case dS:n+="";break;default:n+=u}}return n}function Cw(t){return t+dS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||ri.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??ri.RED,this.left=o??ri.EMPTY,this.right=u??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new ri(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ri.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1;ri.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(si.comparator)}static empty(){return new ts([])}unionWith(e){let n=new Bn(si.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pS("Invalid base64 string: "+u):u}})(e);return new oi(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new oi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const ND=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=ND.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?oi.fromBase64String(t):oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="server_timestamp",yS="__type__",_S="__previous_value__",vS="__local_write_time__";function bm(t){return(t?.mapValue?.fields||{})[yS]?.stringValue===gS}function wm(t){const e=t.mapValue.fields[_S];return bm(e)?wm(e):e}function Ch(t){const e=Lo(t.mapValue.fields[vS].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,o,u,h,m,y,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const qd="(default)";class Rh{constructor(e,n){this.projectId=e,this.database=n||qd}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="__type__",ID="__max__",hd={mapValue:{}},bS="__vector__",Gd="value";function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bm(t)?4:MD(t)?9007199254740991:OD(t)?10:11:tt(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=Vo(t);if(n!==Vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ch(t).isEqual(Ch(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Lo(o.timestampValue),m=Lo(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,u){return ko(o.bytesValue).isEqual(ko(u.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,u){return xn(o.geoPointValue.latitude)===xn(u.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(u.geoPointValue.longitude)})(t,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xn(o.integerValue)===xn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xn(o.doubleValue),m=xn(u.doubleValue);return h===m?Hd(h)===Hd(m):isNaN(h)&&isNaN(m)}return!1})(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Rw(h)!==Rw(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!ks(h[y],m[y])))return!1;return!0})(t,e);default:return tt(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=Vo(t),r=Vo(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=xn(u.integerValue||u.doubleValue),y=xn(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(Ch(t),Ch(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(u,h){const m=ko(u),y=ko(h);return m.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const b=bt(m[v],y[v]);if(b!==0)return b}return bt(m.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=bt(xn(u.latitude),xn(h.latitude));return m!==0?m:bt(xn(u.longitude),xn(h.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Iw(t.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},v=m[Gd]?.arrayValue,b=y[Gd]?.arrayValue,x=bt(v?.values?.length||0,b?.values?.length||0);return x!==0?x:Iw(v,b)})(t.mapValue,e.mapValue);case 11:return(function(u,h){if(u===hd.mapValue&&h===hd.mapValue)return 0;if(u===hd.mapValue)return 1;if(h===hd.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=h.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let x=0;x<y.length&&x<b.length;++x){const A=my(y[x],b[x]);if(A!==0)return A;const O=Ku(m[y[x]],v[b[x]]);if(O!==0)return O}return bt(y.length,b.length)})(t.mapValue,e.mapValue);default:throw tt(23264,{he:n})}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Lo(t),r=Lo(e),o=bt(n.seconds,r.seconds);return o!==0?o:bt(n.nanos,r.nanos)}function Iw(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Ku(n[o],r[o]);if(u)return u}return bt(n.length,r.length)}function Wu(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=gy(u);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${gy(n.fields[h])}`;return o+"}"})(t.mapValue):tt(61005,{value:t})}function Sd(t){switch(Vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(t);return e?16+Sd(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Sd(u)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Hl(r.fields,((u,h)=>{o+=u.length+Sd(h)})),o})(t.mapValue);default:throw tt(13486,{value:t})}}function $d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yy(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function Ow(t){return!!t&&"nullValue"in t}function Mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function OD(t){return(t?.mapValue?.fields||{})[ES]?.stringValue===bS}function mh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return{...t}}function MD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ID}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=si.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=mh(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ad(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Hl(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Rr(mh(this.value))}}function wS(t){const e=[];return Hl(t.fields,((n,r)=>{const o=new si([n]);if(Ad(r)){const u=wS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new yi(e,0,ot.min(),ot.min(),ot.min(),Rr.empty(),0)}static newFoundDocument(e,n,r,o){return new yi(e,1,n,ot.min(),r,o,0)}static newNoDocument(e,n){return new yi(e,2,n,ot.min(),ot.min(),Rr.empty(),0)}static newUnknownDocument(e,n){return new yi(e,3,n,ot.min(),ot.min(),Rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.position=e,this.inclusive=n}}function Dw(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const u=e[o],h=t.position[o];if(u.field.isKeyField()?r=Ge.comparator(Ge.fromName(h.referenceValue),n.key):r=Ku(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function DD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class On extends TS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kD(e,n,r):n==="array-contains"?new zD(e,r):n==="in"?new BD(e,r):n==="not-in"?new jD(e,r):n==="array-contains-any"?new FD(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VD(e,r):new UD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return xS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xS(t){return t.op==="and"}function SS(t){return LD(t)&&xS(t)}function LD(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function _y(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(SS(t))return t.filters.map((e=>_y(e))).join(",");{const e=t.filters.map((n=>_y(n))).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof On?(function(r,o){return o instanceof On&&r.op===o.op&&r.field.isEqual(o.field)&&ks(r.value,o.value)})(t,e):t instanceof os?(function(r,o){return o instanceof os&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&AS(h,o.filters[m])),!0):!1})(t,e):void tt(19439)}function CS(t){return t instanceof On?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(CS).join(" ,")+"}"})(t):"Filter"}class kD extends On{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class VD extends On{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UD extends On{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RS(t,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class zD extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&Nh(n.arrayValue,this.value)}}class BD extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class jD extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class FD extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function kw(t,e=null,n=[],r=[],o=null,u=null,h=null){return new HD(t,e,n,r,o,u,h)}function w_(t){const e=lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_y(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wu(r))).join(",")),e.Te=n}return e.Te}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function vy(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qD(t,e,n,r,o,u,h,m){return new oc(t,e,n,r,o,u,h,m)}function Tm(t){return new oc(t)}function Vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x_(t){return t.collectionGroup!==null}function Hu(t){const e=lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bn(si.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Zd(u,r))})),n.has(si.keyField().canonicalString())||e.Ie.push(new Zd(si.keyField(),r))}return e.Ie}function Ps(t){const e=lt(t);return e.Ee||(e.Ee=GD(e,Hu(t))),e.Ee}function GD(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Zd(o.field,u)}));const n=t.endAt?new Yu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yu(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ey(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return T_(Ps(t),Ps(e))&&t.limitType===e.limitType}function NS(t){return`${w_(Ps(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>CS(o))).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Wu(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Wu(o))).join(",")),`Target(${r})`})(Ps(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(t,e)&&(function(r,o){for(const u of Hu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,y){const v=Dw(h,m,y);return h.inclusive?v<=0:v<0})(r.startAt,Hu(r),o)||r.endAt&&!(function(h,m,y){const v=Dw(h,m,y);return h.inclusive?v>=0:v>0})(r.endAt,Hu(r),o))})(t,e)}function $D(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PS(t){return(e,n)=>{let r=!1;for(const o of Hu(t)){const u=ZD(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function ZD(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,h,m){const y=h.data.field(u),v=m.data.field(u);return y!==null&&v!==null?Ku(y,v):tt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return mS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new mn(Ge.comparator);function Aa(){return KD}const IS=new mn(Ge.comparator);function oh(...t){let e=IS;for(const n of t)e=e.insert(n.key,n);return e}function OS(t){let e=IS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Al(){return ph()}function MS(){return ph()}function ph(){return new ql((t=>t.toString()),((t,e)=>t.isEqual(e)))}const WD=new mn(Ge.comparator),YD=new Bn(Ge.comparator);function wt(...t){let e=YD;for(const n of t)e=e.add(n);return e}const XD=new Bn(bt);function QD(){return XD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function JD(t,e){return AD(e)?DS(e):S_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function eL(t,e,n){return t instanceof Ph?(function(o,u){const h={fields:{[yS]:{stringValue:gS},[vS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bm(u)&&(u=wm(u)),u&&(h.fields[_S]=u),{mapValue:h}})(n,e):t instanceof Ih?kS(t,e):t instanceof Oh?VS(t,e):(function(o,u){const h=LS(o,u),m=Uw(h)+Uw(o.Ae);return yy(h)&&yy(o.Ae)?DS(m):S_(o.serializer,m)})(t,e)}function tL(t,e,n){return t instanceof Ih?kS(t,e):t instanceof Oh?VS(t,e):n}function LS(t,e){return t instanceof Wd?(function(r){return yy(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ph extends Am{}class Ih extends Am{constructor(e){super(),this.elements=e}}function kS(t,e){const n=US(e);for(const r of t.elements)n.some((o=>ks(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Oh extends Am{constructor(e){super(),this.elements=e}}function VS(t,e){let n=US(e);for(const r of t.elements)n=n.filter((o=>!ks(o,r)));return{arrayValue:{values:n}}}class Wd extends Am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Uw(t){return xn(t.integerValue||t.doubleValue)}function US(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.field=e,this.transform=n}}function iL(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Ih&&o instanceof Ih||r instanceof Oh&&o instanceof Oh?Zu(r.elements,o.elements,ks):r instanceof Wd&&o instanceof Wd?ks(r.Ae,o.Ae):r instanceof Ph&&o instanceof Ph})(t.transform,e.transform)}class rL{constructor(e,n){this.version=e,this.transformResults=n}}class Ea{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ea}static exists(e){return new Ea(void 0,e)}static updateTime(e){return new Ea(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cm{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jS(t.key,Ea.none()):new Wh(t.key,t.data,Ea.none());{const n=t.data,r=Rr.empty();let o=new Bn(si.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Gl(t.key,r,new ts(o.toArray()),Ea.none())}}function sL(t,e,n){t instanceof Wh?(function(o,u,h){const m=o.value.clone(),y=Bw(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Gl?(function(o,u,h){if(!Cd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Bw(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(BS(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(t,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,r){return t instanceof Wh?(function(u,h,m,y){if(!Cd(u.precondition,h))return m;const v=u.value.clone(),b=jw(u.fieldTransforms,y,h);return v.setAll(b),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gl?(function(u,h,m,y){if(!Cd(u.precondition,h))return m;const v=jw(u.fieldTransforms,y,h),b=h.data;return b.setAll(BS(u)),b.setAll(v),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(u,h,m){return Cd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(t,e,n)}function aL(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),u=LS(r.transform,o||null);u!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,u))}return n||null}function zw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Zu(r,o,((u,h)=>iL(u,h)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends Cm{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gl extends Cm{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Bw(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,tL(h,m,n[o]))}return r}function jw(t,e,n){const r=new Map;for(const o of t){const u=o.transform,h=n.data.field(o.field);r.set(o.field,eL(u,h,e))}return r}class jS extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oL extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sL(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const y=zS(h,m);y!==null&&r.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,((n,r)=>zw(n,r)))&&Zu(this.baseMutations,e.baseMutations,((n,r)=>zw(n,r)))}}class A_{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return WD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new A_(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,At;function hL(t){switch(t){case Ee.OK:return tt(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function FS(t){if(t===void 0)return Sa("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case Pn.OK:return Ee.OK;case Pn.CANCELLED:return Ee.CANCELLED;case Pn.UNKNOWN:return Ee.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return Ee.INTERNAL;case Pn.UNAVAILABLE:return Ee.UNAVAILABLE;case Pn.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Pn.NOT_FOUND:return Ee.NOT_FOUND;case Pn.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Pn.ABORTED:return Ee.ABORTED;case Pn.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Pn.DATA_LOSS:return Ee.DATA_LOSS;default:return tt(39323,{code:t})}}(At=Pn||(Pn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Io([4294967295,4294967295],0);function Fw(t){const e=fL().encode(t),n=new iS;return n.update(e),new Uint8Array(n.digest())}function Hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Io([n,r],0),new Io([o,u],0)]}class C_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(r<0)throw new lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Io.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Io.fromNumber(r)));return o.compare(dL)===1&&(o=new Io([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Fw(e),[r,o]=Hw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new C_(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Fw(e),[r,o]=Hw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(ot.min(),o,new mn(bt),Aa(),wt())}}class Yh{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yh(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class HS{constructor(e,n){this.targetId=e,this.Ce=n}}class qS{constructor(e,n,r=oi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class qw{constructor(){this.ve=0,this.Fe=Gw(),this.Me=oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),r=wt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:tt(38017,{changeType:u})}})),new Yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Gw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Aa(),this.Je=fd(),this.He=fd(),this.Ye=new mn(bt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vy(u))if(r===0){const h=new Ge(u.path);this.et(n,h,yi.newNoDocument(h,ot.min()))}else kt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ko(r).toUint8Array()}catch(y){if(y instanceof pS)return $u("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new C_(h,o,u)}catch(y){return $u(y instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&vy(m.target)){const y=new Ge(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,yi.newNoDocument(y,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=wt();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rm(e,n,this.Ye,this.je,r);return this.je=Aa(),this.Je=fd(),this.He=fd(),this.Ye=new mn(bt),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(bt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fd(){return new mn(Ge.comparator)}function Gw(){return new mn(Ge.comparator)}const pL={asc:"ASCENDING",desc:"DESCENDING"},gL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yL={and:"AND",or:"OR"};class _L{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vL(t,e){return Yd(t,e.toTimestamp())}function Is(t){return kt(!!t,49232),ot.fromTimestamp((function(n){const r=Lo(n);return new rn(r.seconds,r.nanos)})(t))}function R_(t,e){return wy(t,e).canonicalString()}function wy(t,e){const n=(function(o){return new Kt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $S(t){const e=Kt.fromString(t);return kt(XS(e),10190,{key:e.toString()}),e}function Ty(t,e){return R_(t.databaseId,e.path)}function Og(t,e){const n=$S(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(KS(n))}function ZS(t,e){return R_(t.databaseId,e)}function EL(t){const e=$S(t);return e.length===4?Kt.emptyPath():KS(e)}function xy(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $w(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function bL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:tt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,b){return v.useProto3Json?(kt(b===void 0||typeof b=="string",58123),oi.fromBase64String(b||"")):(kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),oi.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const b=v.code===void 0?Ee.UNKNOWN:FS(v.code);return new Me(b,v.message||"")})(h);n=new qS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Og(t,r.document.name),u=Is(r.document.updateTime),h=r.document.createTime?Is(r.document.createTime):ot.min(),m=new Rr({mapValue:{fields:r.document.fields}}),y=yi.newFoundDocument(o,u,h,m),v=r.targetIds||[],b=r.removedTargetIds||[];n=new Rd(v,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Og(t,r.document),u=r.readTime?Is(r.readTime):ot.min(),h=yi.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Rd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Og(t,r.document),u=r.removedTargetIds||[];n=new Rd([],u,o,null)}else{if(!("filter"in e))return tt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new cL(o,u),m=r.targetId;n=new HS(m,h)}}return n}function wL(t,e){let n;if(e instanceof Wh)n={update:$w(t,e.key,e.value)};else if(e instanceof jS)n={delete:Ty(t,e.key)};else if(e instanceof Gl)n={update:$w(t,e.key,e.data),updateMask:IL(e.fieldMask)};else{if(!(e instanceof oL))return tt(16599,{Vt:e.type});n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ih)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Oh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wd)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw tt(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vL(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:tt(27497)})(t,e.precondition)),n}function TL(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map((n=>(function(o,u){let h=o.updateTime?Is(o.updateTime):Is(u);return h.isEqual(ot.min())&&(h=Is(u)),new rL(h,o.transformResults||[])})(n,e)))):[]}function xL(t,e){return{documents:[ZS(t,e.path)]}}function SL(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZS(t,o);const u=(function(v){if(v.length!==0)return YS(os.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((b=>(function(A){return{field:Ou(A.field),direction:RL(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=by(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function AL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){kt(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(x){const A=WS(x);return A instanceof os&&SS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(x){return x.map((A=>(function(V){return new Zd(Mu(V.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let A;return A=typeof x=="object"?x.value:x,Em(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(x){const A=!!x.before,O=x.values||[];return new Yu(O,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(x){const A=!x.before,O=x.values||[];return new Yu(O,A)})(n.endAt)),qD(e,o,h,u,m,"F",y,v)}function CL(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mu(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mu(n.unaryFilter.field);return On.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Mu(n.unaryFilter.field);return On.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Mu(n.unaryFilter.field);return On.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return On.create(Mu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((r=>WS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(n.compositeFilter.op))})(t):tt(30097,{filter:t})}function RL(t){return pL[t]}function NL(t){return gL[t]}function PL(t){return yL[t]}function Ou(t){return{fieldPath:t.canonicalString()}}function Mu(t){return si.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof On?(function(n){if(n.op==="=="){if(Mw(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NAN"}};if(Ow(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mw(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NAN"}};if(Ow(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(n.field),op:NL(n.op),value:n.value}}})(t):t instanceof os?(function(n){const r=n.getFilters().map((o=>YS(o)));return r.length===1?r[0]:{compositeFilter:{op:PL(n.op),filters:r}}})(t):tt(54877,{filter:t})}function IL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,o,u=ot.min(),h=ot.min(),m=oi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.yt=e}}function ML(t){const e=AL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.Cn=new LL}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Do.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class LL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Bn(Kt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class zi{static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(QS,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LruGarbageCollector",kL=1048576;function Ww([t,e],[n,r]){const o=bt(t,n);return o===0?bt(e,r):o}class VL{constructor(e){this.Ir=e,this.buffer=new Bn(Ww),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ww(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(Kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ac(n)?Ve(Kw,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.Vr(3e5)}))}}class zL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(vm.ce);const r=new VL(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Zw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,m,y,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,n)))).next((x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(v=Date.now(),Pu()<=Et.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${x} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function BL(t,e){return new zL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.changes=new ql((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&gh(r.mutation,o,ts.empty(),rn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,wt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=wt()){const o=Al();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=oh();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=Al();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,wt())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=Aa();const h=ph(),m=(function(){return ph()})();return n.forEach(((y,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Gl)?u=u.insert(v.key,v):b!==void 0?(h.set(v.key,b.mutation.getFieldMask()),gh(b.mutation,v,b.mutation.getFieldMask(),rn.now())):h.set(v.key,ts.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,b)=>h.set(v,b))),n.forEach(((v,b)=>m.set(v,new FL(b,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=ph();let o=new mn(((h,m)=>h-m)),u=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let b=r.get(y)||ts.empty();b=m.applyToLocalView(v,b),r.set(y,b);const x=(o.get(m.batchId)||wt()).add(y);o=o.insert(m.batchId,x)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,b=y.value,x=MS();b.forEach((A=>{if(!u.has(A)){const O=zS(n.get(A),r.get(A));O!==null&&x.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,x))}return Se.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):Se.resolve(Al());let m=Ah,y=u;return h.next((v=>Se.forEach(v,((b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?Se.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{y=y.insert(b,A)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,wt()))).next((b=>({batchId:m,changes:OS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((r=>{let o=oh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=oh();return this.indexManager.getCollectionParents(e,u).next((m=>Se.forEach(m,(y=>{const v=(function(x,A){return new oc(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((b=>{b.forEach(((x,A)=>{h=h.insert(x,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((y,v)=>{const b=v.getKey();h.get(b)===null&&(h=h.insert(b,yi.newInvalidDocument(b)))}));let m=oh();return h.forEach(((y,v)=>{const b=u.get(y);b!==void 0&&gh(b.mutation,v,ts.empty(),rn.now()),Sm(n,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Is(o.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ML(o.bundledQuery),readTime:Is(o.readTime)}})(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.overlays=new mn(Ge.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Al();return Se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),Se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const o=Al(),u=n.length+1,h=new Ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new mn(((v,b)=>v-b));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let b=u.get(v.largestBatchId);b===null&&(b=Al(),u=u.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const m=Al(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>m.set(v,b))),!(m.size()>=o)););return Se.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new uL(n,r));let u=this.qr.get(n);u===void 0&&(u=wt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.sessionToken=oi.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Qr=new Bn(Yn.$r),this.Ur=new Bn(Yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Yn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ge(new Kt([])),r=new Yn(n,e),o=new Yn(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new Kt([])),r=new Yn(n,e),o=new Yn(n,e+1);let u=wt();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Yn.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new lL(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Yn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?E_:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),o=new Yn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(bt);return n.forEach((o=>{const u=new Yn(o,0),h=new Yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const h=new Yn(new Ge(u),0);let m=new Bn(bt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Yr)),!0)}),h),Se.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(n.mutations,(o=>{const u=new Yn(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Yn(n,0),o=this.Zr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.ri=e,this.docs=(function(){return new mn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(e,n){let r=Aa();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():yi.newInvalidDocument(o))})),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Aa();const h=n.path,m=new Ge(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||wD(bD(b),r)<=0||(o.has(b.key)||Sm(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){tt(9500)}ii(e,n){return Se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new WL(this)}getSize(e){return Se.resolve(this.size)}}class WL extends jL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.persistence=e,this.si=new ql((n=>w_(n)),T_),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new N_,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Se.waitFor(u).next((()=>o))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new vm(0),this.li=!1,this.li=!0,this.hi=new $L,this.referenceDelegate=e(this),this.Pi=new YL(this),this.indexManager=new DL,this.remoteDocumentCache=(function(o){return new KL(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OL(n),this.Ii=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ZL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const o=new XL(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class XL extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Ri=new N_,this.Vi=null}static mi(e){return new P_(e)}get fi(){if(this.Vi)return this.Vi;throw tt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const o=Ge.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ot.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.pi=new ql((r=>CD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=BL(this,n)}static mi(e,n){return new Xd(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?Se.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(r++,u.removeEntry(h,ot.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,r){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=wt(),o=wt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new I_(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NP()?8:SD(Ei())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new QL;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Pu()<=Et.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Pu()<=Et.DEBUG&&Ve("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Pu()<=Et.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Se.resolve())}ys(e,n){if(Vw(n))return Se.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Kd(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=wt(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(n,m);return this.Cs(n,v,h,y.readTime)?this.ys(e,Kd(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,r,o){return Vw(n)||o.isEqual(ot.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?Se.resolve(null):(Pu()<=Et.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Iu(n)),this.vs(e,h,n,ED(o,Ah)).next((m=>m)))}))}Ds(e,n){let r=new Bn(PS(e));return n.forEach(((o,u)=>{Sm(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Pu()<=Et.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.ps.getDocumentsMatchingQuery(e,n,Do.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LocalStore",ek=3e8;class tk{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mn(bt),this.xs=new ql((u=>w_(u)),T_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function nk(t,e,n,r){return new tk(t,e,n,r)}async function eA(t,e){const n=lt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let y=wt();for(const v of o){h.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of u){m.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function ik(t,e){const n=lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,b){const x=v.batch,A=x.keys();let O=Se.resolve();return A.forEach((V=>{O=O.next((()=>b.getEntry(y,V))).next((U=>{const B=v.docVersions.get(V);kt(B!==null,48541),U.version.compareTo(B)<0&&(x.applyToRemoteDocument(U,v),U.isValidDocument()&&(U.setReadTime(v.commitVersion),b.addEntry(U)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(y,x)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=wt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function tA(t){const e=lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rk(t,e){const n=lt(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,x)=>{const A=o.get(x);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,x))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(oi.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),o=o.insert(x,O),(function(U,B,K){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ek?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,O,b)&&m.push(n.Pi.updateTargetData(u,O))}));let y=Aa(),v=wt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(sk(u,h,e.documentUpdates).next((b=>{y=b.ks,v=b.qs}))),!r.isEqual(ot.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return Se.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function sk(t,e,n){let r=wt(),o=wt();return n.forEach((u=>r=r.add(u))),e.getEntries(t,r).next((u=>{let h=Aa();return n.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(ot.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):Ve(O_,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function ak(t,e){const n=lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=E_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ok(t,e){const n=lt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,Se.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new Co(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Sy(t,e,n){const r=lt(t),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ac(h))throw h;Ve(O_,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Yw(t,e,n){const r=lt(t);let o=ot.min(),u=wt();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,b){const x=lt(y),A=x.xs.get(b);return A!==void 0?Se.resolve(x.Ms.get(A)):x.Pi.getTargetData(v,b)})(r,h,Ps(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:ot.min(),n?u:wt()))).next((m=>(lk(r,$D(e),m),{documents:m,Qs:u})))))}function lk(t,e,n){let r=t.Os.get(e)||ot.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),t.Os.set(e,r)}class Xw{constructor(){this.activeTargetIds=QD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uk{constructor(){this.Mo=new Xw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="ConnectivityMonitor";class Jw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(Qw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(Qw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function Ay(){return dd===null?dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===qd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=Ay(),m=this.zo(e,n.toUriEncodedString());Ve(Mg,`Sending RPC '${e}' ${h}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:v}=new URL(m),b=Bl(v);return this.Jo(e,m,y,r,b).then((x=>(Ve(Mg,`Received RPC '${e}' ${h}: `,x),x)),(x=>{throw $u(Mg,`RPC '${e}' ${h} failed with error: `,x,"url: ",m,"request:",r),x}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=hk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="WebChannelConnection";class mk extends fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=Ay();return new Promise(((m,y)=>{const v=new rS;v.setWithCredentials(!0),v.listenOnce(sS.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case xd.NO_ERROR:const x=v.getResponseJson();Ve(pi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),m(x);break;case xd.TIMEOUT:Ve(pi,`RPC '${e}' ${h} timed out`),y(new Me(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const A=v.getStatus();if(Ve(pi,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let O=v.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const U=(function(K){const G=K.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(G)>=0?G:Ee.UNKNOWN})(V.status);y(new Me(U,V.message))}else y(new Me(Ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Me(Ee.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Ve(pi,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);Ve(pi,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Ay(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=lS(),m=oS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const b=u.join("");Ve(pi,`Creating RPC '${e}' stream ${o}: ${b}`,y);const x=h.createWebChannel(b,y);this.I_(x);let A=!1,O=!1;const V=new dk({Yo:B=>{O?Ve(pi,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(A||(Ve(pi,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),Ve(pi,`RPC '${e}' stream ${o} sending:`,B),x.send(B))},Zo:()=>x.close()}),U=(B,K,G)=>{B.listen(K,(Q=>{try{G(Q)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return U(x,ah.EventType.OPEN,(()=>{O||(Ve(pi,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),U(x,ah.EventType.CLOSE,(()=>{O||(O=!0,Ve(pi,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(x))})),U(x,ah.EventType.ERROR,(B=>{O||(O=!0,$u(pi,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),V.a_(new Me(Ee.UNAVAILABLE,"The operation could not be completed")))})),U(x,ah.EventType.MESSAGE,(B=>{if(!O){const K=B.data[0];kt(!!K,16349);const G=K,Q=G?.error||G[0]?.error;if(Q){Ve(pi,`RPC '${e}' stream ${o} received error:`,Q);const _e=Q.status;let J=(function(N){const M=Pn[N];if(M!==void 0)return FS(M)})(_e),ue=Q.message;J===void 0&&(J=Ee.INTERNAL,ue="Unknown error status: "+_e+" with message "+Q.message),O=!0,V.a_(new Me(J,ue)),x.close()}else Ve(pi,`RPC '${e}' stream ${o} received:`,K),V.u_(K)}})),U(m,aS.STAT_EVENT,(B=>{B.stat===dy.PROXY?Ve(pi,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===dy.NOPROXY&&Ve(pi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return new _L(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="PersistentStream";class iA{constructor(e,n,r,o,u,h,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(Sa(n.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new Me(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ve(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pk extends iA{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bL(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ot.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ot.min():h.readTime?Is(h.readTime):ot.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xy(this.serializer),n.addTarget=(function(u,h){let m;const y=h.target;if(m=vy(y)?{documents:xL(u,y)}:{query:SL(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=GS(u,h.resumeToken);const v=by(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(ot.min())>0){m.readTime=Yd(u,h.snapshotVersion.toTimestamp());const v=by(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=CL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.q_(n)}}class gk extends iA{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TL(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{}class _k extends yk{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Me(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,wy(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(Ee.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,wy(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Me(Ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sa(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="RemoteStore";class Ek{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{$l(this)&&(Ve(Ul,"Restarting streams for network reachability change."),await(async function(y){const v=lt(y);v.Ea.add(4),await Xh(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Pm(v)})(this))}))})),this.Ra=new vk(r,o)}}async function Pm(t){if($l(t))for(const e of t.da)await e(!0)}async function Xh(t){for(const e of t.da)await e(!1)}function rA(t,e){const n=lt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k_(n)?L_(n):lc(n).O_()&&D_(n,e))}function M_(t,e){const n=lt(t),r=lc(n);n.Ia.delete(e),r.O_()&&sA(n,e),n.Ia.size===0&&(r.O_()?r.L_():$l(n)&&n.Ra.set("Unknown"))}function D_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Y_(e)}function sA(t,e){t.Va.Ue(e),lc(t).Z_(e)}function L_(t){t.Va=new mL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function k_(t){return $l(t)&&!lc(t).x_()&&t.Ia.size>0}function $l(t){return lt(t).Ea.size===0}function aA(t){t.Va=void 0}async function bk(t){t.Ra.set("Online")}async function wk(t){t.Ia.forEach(((e,n)=>{D_(t,e)}))}async function Tk(t,e){aA(t),k_(t)?(t.Ra.ha(e),L_(t)):t.Ra.set("Unknown")}async function xk(t,e,n){if(t.Ra.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){Ve(Ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof Rd?t.Va.Ze(e):e instanceof HS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ot.min()))try{const r=await tA(t.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(v);b&&u.Ia.set(v,b.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(oi.EMPTY_BYTE_STRING,b.snapshotVersion)),sA(u,y);const x=new Co(b.target,y,v,b.sequenceNumber);D_(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(r){Ve(Ul,"Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!ac(e))throw e;t.Ea.add(1),await Xh(t),t.Ra.set("Offline"),n||(n=()=>tA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(Ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pm(t)}))}function oA(t,e){return e().catch((n=>Qd(t,n,e)))}async function Im(t){const e=lt(t),n=Uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E_;for(;Sk(e);)try{const o=await ak(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Ak(e,o)}catch(o){await Qd(e,o)}lA(e)&&uA(e)}function Sk(t){return $l(t)&&t.Ta.length<10}function Ak(t,e){t.Ta.push(e);const n=Uo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lA(t){return $l(t)&&!Uo(t).x_()&&t.Ta.length>0}function uA(t){Uo(t).start()}async function Ck(t){Uo(t).ra()}async function Rk(t){const e=Uo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Nk(t,e,n){const r=t.Ta.shift(),o=A_.from(r,e,n);await oA(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Im(t)}async function Pk(t,e){e&&Uo(t).X_&&await(async function(r,o){if((function(h){return hL(h)&&h!==Ee.ABORTED})(o.code)){const u=r.Ta.shift();Uo(r).B_(),await oA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Im(r)}})(t,e),lA(t)&&uA(t)}async function tT(t,e){const n=lt(t);n.asyncQueue.verifyOperationInProgress(),Ve(Ul,"RemoteStore received new credentials");const r=$l(n);n.Ea.add(3),await Xh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pm(n)}async function Ik(t,e){const n=lt(t);e?(n.Ea.delete(2),await Pm(n)):e||(n.Ea.add(2),await Xh(n),n.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=(function(n,r,o){const u=lt(n);return u.sa(),new pk(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Xo:bk.bind(null,t),t_:wk.bind(null,t),r_:Tk.bind(null,t),H_:xk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),k_(t)?L_(t):t.Ra.set("Unknown")):(await t.ma.stop(),aA(t))}))),t.ma}function Uo(t){return t.fa||(t.fa=(function(n,r,o){const u=lt(n);return u.sa(),new gk(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ck.bind(null,t),r_:Pk.bind(null,t),ta:Rk.bind(null,t),na:Nk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Im(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(Ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new V_(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(Sa("AsyncQueue",`${e}: ${t}`),ac(t))return new Me(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=oh(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.ga=new mn(Ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):tt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qu{constructor(e,n,r,o,u,h,m,y,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Qu(e,n,qu.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mk{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=lt(n),u=o.queries;o.queries=iT(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new Me(Ee.ABORTED,"Firestore shutting down"))}}function iT(){return new ql((t=>NS(t)),xm)}async function z_(t,e){const n=lt(t);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Ok,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=U_(h,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&j_(n)}async function B_(t,e){const n=lt(t),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dk(t,e){const n=lt(t);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&j_(n)}function Lk(t,e,n){const r=lt(t),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function j_(t){t.Ca.forEach((e=>{e.next()}))}var Cy,rT;(rT=Cy||(Cy={})).Ma="default",rT.Cache="cache";class F_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class kk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=PS(e),this.tu=new qu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const A=o.get(b),O=Sm(this.query,x)?x:null,V=!!A&&this.mutatedKeys.has(A.key),U=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;A&&O?A.data.isEqual(O.data)?V!==U&&(r.track({type:3,doc:O}),B=!0):this.su(A,O)||(r.track({type:2,doc:O}),B=!0,(y&&this.eu(O,y)>0||v&&this.eu(O,v)<0)&&(m=!0)):!A&&O?(r.track({type:0,doc:O}),B=!0):A&&!O&&(r.track({type:1,doc:A}),B=!0,(y||v)&&(m=!0)),B&&(O?(h=h.add(O),u=U?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,x)=>(function(O,V){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Rt:B})}};return U(O)-U(V)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new Qu(this.query,e.tu,u,h,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new hA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new cA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const H_="SyncEngine";class Vk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Uk{constructor(e){this.key=e,this.hu=!1}}class zk{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ql((m=>NS(m)),xm),this.Iu=new Map,this.Eu=new Set,this.du=new mn(Ge.comparator),this.Au=new Map,this.Ru=new N_,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bk(t,e,n=!0){const r=yA(t);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fA(r,e,n,!0),o}async function jk(t,e){const n=yA(t);await fA(n,e,!0,!1)}async function fA(t,e,n,r){const o=await ok(t.localStore,Ps(e)),u=o.targetId,h=t.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await Fk(t,e,u,h==="current",o.resumeToken)),t.isPrimaryClient&&n&&rA(t.remoteStore,o),m}async function Fk(t,e,n,r,o){t.pu=(x,A,O)=>(async function(U,B,K,G){let Q=B.view.ru(K);Q.Cs&&(Q=await Yw(U.localStore,B.query,!1).then((({documents:j})=>B.view.ru(j,Q))));const _e=G&&G.targetChanges.get(B.targetId),J=G&&G.targetMismatches.get(B.targetId)!=null,ue=B.view.applyChanges(Q,U.isPrimaryClient,_e,J);return aT(U,B.targetId,ue.au),ue.snapshot})(t,x,A,O);const u=await Yw(t.localStore,e,!0),h=new kk(e,u.Qs),m=h.ru(u.documents),y=Yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),v=h.applyChanges(m,t.isPrimaryClient,y);aT(t,n,v.au);const b=new Vk(e,n,h);return t.Tu.set(e,b),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),v.snapshot}async function Hk(t,e,n){const r=lt(t),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!xm(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Sy(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&M_(r.remoteStore,o.targetId),Ry(r,o.targetId)})).catch(sc)):(Ry(r,o.targetId),await Sy(r.localStore,o.targetId,!0))}async function qk(t,e){const n=lt(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function Gk(t,e,n){const r=Qk(t);try{const o=await(function(h,m){const y=lt(h),v=rn.now(),b=m.reduce(((O,V)=>O.add(V.key)),wt());let x,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let V=Aa(),U=wt();return y.Ns.getEntries(O,b).next((B=>{V=B,V.forEach(((K,G)=>{G.isValidDocument()||(U=U.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,V))).next((B=>{x=B;const K=[];for(const G of m){const Q=aL(G,x.get(G.key).overlayedDocument);Q!=null&&K.push(new Gl(G.key,Q,wS(Q.value.mapValue),Ea.exists(!0)))}return y.mutationQueue.addMutationBatch(O,v,K,m)})).next((B=>{A=B;const K=B.applyToLocalDocumentSet(x,U);return y.documentOverlayCache.saveOverlays(O,B.batchId,K)}))})).then((()=>({batchId:A.batchId,changes:OS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new mn(bt)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v})(r,o.batchId,n),await Qh(r,o.changes),await Im(r.remoteStore)}catch(o){const u=U_(o,"Failed to persist write");n.reject(u)}}async function dA(t,e){const n=lt(t);try{const r=await rk(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?kt(h.hu,14607):o.removedDocuments.size>0&&(kt(h.hu,42227),h.hu=!1))})),await Qh(n,r,e)}catch(r){await sc(r)}}function sT(t,e,n){const r=lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=lt(h);y.onlineState=m;let v=!1;y.queries.forEach(((b,x)=>{for(const A of x.Sa)A.va(m)&&(v=!0)})),v&&j_(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $k(t,e,n){const r=lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new mn(Ge.comparator);h=h.insert(u,yi.newNoDocument(u,ot.min()));const m=wt().add(u),y=new Rm(ot.min(),new Map,new mn(bt),h,m);await dA(r,y),r.du=r.du.remove(u),r.Au.delete(e),q_(r)}else await Sy(r.localStore,e,!1).then((()=>Ry(r,e,n))).catch(sc)}async function Zk(t,e){const n=lt(t),r=e.batch.batchId;try{const o=await ik(n.localStore,e);pA(n,r,null),mA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qh(n,o)}catch(o){await sc(o)}}async function Kk(t,e,n){const r=lt(t);try{const o=await(function(h,m){const y=lt(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,m).next((x=>(kt(x!==null,37113),b=x.keys(),y.mutationQueue.removeMutationBatch(v,x)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(r.localStore,e);pA(r,e,n),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qh(r,o)}catch(o){await sc(o)}}function mA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pA(t,e,n){const r=lt(t);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ry(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||gA(t,r)}))}function gA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(M_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),q_(t))}function aT(t,e,n){for(const r of n)r instanceof cA?(t.Ru.addReference(r.key,e),Wk(t,r)):r instanceof hA?(Ve(H_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||gA(t,r.key)):tt(19791,{wu:r})}function Wk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(H_,"New document in limbo: "+n),t.Eu.add(r),q_(t))}function q_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ge(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new Uk(n)),t.du=t.du.insert(n,r),rA(t.remoteStore,new Co(Ps(Tm(n.path)),r,"TargetPurposeLimboResolution",vm.ce))}}async function Qh(t,e,n){const r=lt(t),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{h.push(r.pu(y,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const b=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){o.push(v);const b=I_.As(y.targetId,v);u.push(b)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(y,v){const b=lt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Se.forEach(v,(A=>Se.forEach(A.Es,(O=>b.persistence.referenceDelegate.addReference(x,A.targetId,O))).next((()=>Se.forEach(A.ds,(O=>b.persistence.referenceDelegate.removeReference(x,A.targetId,O)))))))))}catch(x){if(!ac(x))throw x;Ve(O_,"Failed to update sequence numbers: "+x)}for(const x of v){const A=x.targetId;if(!x.fromCache){const O=b.Ms.get(A),V=O.snapshotVersion,U=O.withLastLimboFreeSnapshotVersion(V);b.Ms=b.Ms.insert(A,U)}}})(r.localStore,u))}async function Yk(t,e){const n=lt(t);if(!n.currentUser.isEqual(e)){Ve(H_,"User change. New user:",e.toKey());const r=await eA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new Me(Ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qh(n,r.Ls)}}function Xk(t,e){const n=lt(t),r=n.Au.get(e);if(r&&r.hu)return wt().add(r.key);{let o=wt();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function yA(t){const e=lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$k.bind(null,e),e.Pu.H_=Dk.bind(null,e.eventManager),e.Pu.yu=Lk.bind(null,e.eventManager),e}function Qk(t){const e=lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kk.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nk(this.persistence,new JL,e.initialUser,this.serializer)}Cu(e){return new JS(P_.mi,this.serializer)}Du(e){return new uk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class Jk extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new JS((r=>Xd.mi(r,n)),this.serializer)}}class Ny{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await Ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mk})()}createDatastore(e){const n=Nm(e.databaseInfo.databaseId),r=(function(u){return new mk(u)})(e.databaseInfo);return(function(u,h,m,y){return new _k(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new Ek(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>sT(this.syncEngine,n,0)),(function(){return Jw.v()?new Jw:new ck})())}createSyncEngine(e,n){return(function(o,u,h,m,y,v,b){const x=new zk(o,u,h,m,y,v);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=lt(n);Ve(Ul,"RemoteStore shutting down."),r.Ea.add(5),await Xh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class e4{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=gi.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{Ve(zo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(Ve(zo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lg(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await eA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t4(t);Ve(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>tT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>tT(e.remoteStore,o))),t._onlineComponents=e}async function t4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(zo,"Using user provided OfflineComponentProvider");try{await Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await Lg(t,new Jd)}}else Ve(zo,"Using default OfflineComponentProvider"),await Lg(t,new Jk(void 0));return t._offlineComponents}async function _A(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(zo,"Using user provided OnlineComponentProvider"),await oT(t,t._uninitializedComponentsProvider._online)):(Ve(zo,"Using default OnlineComponentProvider"),await oT(t,new Ny))),t._onlineComponents}function n4(t){return _A(t).then((e=>e.syncEngine))}async function em(t){const e=await _A(t),n=e.eventManager;return n.onListen=Bk.bind(null,e.syncEngine),n.onUnlisten=Hk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qk.bind(null,e.syncEngine),n}function i4(t,e,n={}){const r=new _a;return t.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const b=new G_({next:A=>{b.Nu(),h.enqueueAndForget((()=>B_(u,x)));const O=A.docs.has(m);!O&&A.fromCache?v.reject(new Me(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&y&&y.source==="server"?v.reject(new Me(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),x=new F_(Tm(m.path),b,{includeMetadataChanges:!0,qa:!0});return z_(u,x)})(await em(t),t.asyncQueue,e,n,r))),r.promise}function r4(t,e,n={}){const r=new _a;return t.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,v){const b=new G_({next:A=>{b.Nu(),h.enqueueAndForget((()=>B_(u,x))),A.fromCache&&y.source==="server"?v.reject(new Me(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),x=new F_(m,b,{includeMetadataChanges:!0,qa:!0});return z_(u,x)})(await em(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firestore.googleapis.com",uT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=uT}else this.host=e.host,this.ssl=e.ssl??uT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kL)throw new Me(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Me(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uD;switch(r.type){case"firstParty":return new dD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lT.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),lT.delete(n),r.terminate())})(this),Promise.resolve()}}function s4(t,e,n,r={}){t=va(t,Om);const o=Bl(e),u=t._getSettings(),h={...u,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(s_(`https://${m}`),a_("Firestore",!0)),u.host!==EA&&u.host!==m&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!Ml(y,h)&&(t._setSettings(y),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=gi.MOCK_USER;else{v=y1(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Me(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new gi(x)}t._authCredentials=new cD(new cS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kh(n,Dn._jsonSchema))return new Dn(e,r||null,new Ge(Kt.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:Mn("string",Dn._jsonSchemaVersion),referencePath:Mn("string")};class Oo extends Na{constructor(e,n,r){super(e,n,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Ge(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function ba(t,e,...n){if(t=ai(t),hS("collection","path",e),t instanceof Om){const r=Kt.fromString(e,...n);return xw(r),new Oo(t,null,r)}{if(!(t instanceof Dn||t instanceof Oo))throw new Me(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return xw(r),new Oo(t.firestore,null,r)}}function $_(t,e,...n){if(t=ai(t),arguments.length===1&&(e=v_.newId()),hS("doc","path",e),t instanceof Om){const r=Kt.fromString(e,...n);return Tw(r),new Dn(t,null,new Ge(r))}{if(!(t instanceof Dn||t instanceof Oo))throw new Me(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return Tw(r),new Dn(t.firestore,t instanceof Oo?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="AsyncQueue";class fT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const r=Dg();r&&Ve(hT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ac(e))throw e;Ve(hT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Sa("INTERNAL UNHANDLED ERROR: ",dT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=V_.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&tt(47125,{Pc:dT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(t,["next","error","complete"])}class Ju extends Om{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new fT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fT(e),this._firestoreClient=void 0,await e}}}function a4(t,e){const n=typeof t=="object"?t:u_(),r=typeof t=="string"?t:qd,o=mm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=m1("firestore");u&&s4(o,...u)}return o}function Mm(t){if(t._terminated)throw new Me(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o4(t),t._firestoreClient}function o4(t){const e=t._freezeSettings(),n=(function(o,u,h,m){return new PD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new e4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(oi.fromBase64String(e))}catch(n){throw new Me(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kh(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:Mn("string",Nr._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function l4(){return new Dm(py)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Kh(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Mn("string",Os._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kh(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new Me(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Mn("string",Ms._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=/^__.*__$/;class c4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}function bA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ac:t})}}class K_{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bA(this.Ac)&&u4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nm(e)}Cc(e,n,r,o=!1){return new K_({Ac:e,methodName:n,Dc:r,path:si.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W_(t){const e=t._freezeSettings(),n=Nm(t._databaseId);return new h4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f4(t,e,n,r,o,u={}){const h=t.Cc(u.merge||u.mergeFields?2:0,e,n,o);SA("Data must be an object, but it was:",h,r);const m=TA(r,h);let y,v;if(u.merge)y=new ts(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const A=d4(e,x,n);if(!h.contains(A))throw new Me(Ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);p4(b,A)||b.push(A)}y=new ts(b),v=h.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,v=h.fieldTransforms;return new c4(new Rr(m),y,v)}class Y_ extends Z_{_toFieldTransform(e){return new nL(e.path,new Ph)}isEqual(e){return e instanceof Y_}}function wA(t,e,n,r=!1){return X_(n,t.Cc(r?4:3,e))}function X_(t,e){if(xA(t=ai(t)))return SA("Unsupported field value:",e,t),TA(t,e);if(t instanceof Z_)return(function(r,o){if(!bA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let y=X_(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(t,e)}return(function(r,o){if((r=ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=rn.fromDate(r);return{timestampValue:Yd(o.serializer,u)}}if(r instanceof rn){const u=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(o.serializer,u)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:GS(o.serializer,r._byteString)};if(r instanceof Dn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:R_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ms)return(function(h,m){return{mapValue:{fields:{[ES]:{stringValue:bS},[Gd]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return S_(m.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${_m(r)}`)})(t,e)}function TA(t,e){const n={};return mS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,((r,o)=>{const u=X_(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function xA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Os||t instanceof Nr||t instanceof Dn||t instanceof Z_||t instanceof Ms)}function SA(t,e,n){if(!xA(n)||!fS(n)){const r=_m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function d4(t,e,n){if((e=ai(e))instanceof Dm)return e._internalPath;if(typeof e=="string")return AA(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const m4=new RegExp("[~\\*/\\[\\]]");function AA(t,e,n){if(e.search(m4)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dm(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${r}`),h&&(y+=` in document ${o}`),y+=")"),new Me(Ee.INVALID_ARGUMENT,m+t+y)}function p4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g4 extends Q_{data(){return super.data()}}function J_(t,e){return typeof e=="string"?AA(t,e):e instanceof Dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class tv extends ev{}function _i(t,e,...n){let r=[];e instanceof ev&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((y=>y instanceof nv)).length,m=u.filter((y=>y instanceof Lm)).length;if(h>1||h>0&&m>0)throw new Me(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Lm extends tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lm(e,n,r)}_apply(e){const n=this._parse(e);return RA(e._query,n),new Na(e.firestore,e.converter,Ey(e._query,n))}_parse(e){const n=W_(e.firestore);return(function(u,h,m,y,v,b,x){let A;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Me(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){gT(x,b);const V=[];for(const U of x)V.push(pT(y,u,U));A={arrayValue:{values:V}}}else A=pT(y,u,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||gT(x,b),A=wA(m,h,x,b==="in"||b==="not-in");return On.create(v,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function is(t,e,n){const r=e,o=J_("where",t);return Lm._create(o,r,n)}class nv extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)RA(h,y),h=Ey(h,y)})(e._query,n),new Na(e.firestore,e.converter,Ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends tv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){return new Na(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}function Bo(t){return iv._create("limit",t,"F")}class rv extends tv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=y4(e,this.type,this._docOrFields,this._inclusive);return new Na(e.firestore,e.converter,(function(o,u){return new oc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,n))}}function km(...t){return rv._create("startAfter",t,!1)}function y4(t,e,n,r){if(n[0]=ai(n[0]),n[0]instanceof Q_)return(function(u,h,m,y,v){if(!y)throw new Me(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const b=[];for(const x of Hu(u))if(x.field.isKeyField())b.push($d(h,y.key));else{const A=y.data.field(x.field);if(bm(A))throw new Me(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const O=x.field.canonicalString();throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new Yu(b,v)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=W_(t.firestore);return(function(h,m,y,v,b,x){const A=h.explicitOrderBy;if(b.length>A.length)throw new Me(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<b.length;V++){const U=b[V];if(A[V].field.isKeyField()){if(typeof U!="string")throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof U}`);if(!x_(h)&&U.indexOf("/")!==-1)throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${U}' contains a slash.`);const B=h.path.child(Kt.fromString(U));if(!Ge.isDocumentKey(B))throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${B}' is not because it contains an odd number of segments.`);const K=new Ge(B);O.push($d(m,K))}else{const B=wA(y,v,U);O.push(B)}}return new Yu(O,x)})(t._query,t.firestore._databaseId,o,e,n,r)}}function pT(t,e,n){if(typeof(n=ai(n))=="string"){if(n==="")throw new Me(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x_(e)&&n.indexOf("/")!==-1)throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!Ge.isDocumentKey(r))throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $d(t,new Ge(r))}if(n instanceof Dn)return $d(t,n._key);throw new Me(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function gT(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Me(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _4{convertValue(e,n="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hl(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Gd].arrayValue?.values?.map((r=>xn(r.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Os(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);kt(XS(r),9688,{name:e});const o=new Rh(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return o.isEqual(n)||Sa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends Q_{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(J_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:Mn("string",Nl._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Nd extends Nl{data(e={}){return super.data(e)}}class Pl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Nd(this._firestore,this._userDataWriter,r.key,r,new uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Nd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Nd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:E4(m.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){t=va(t,Dn);const e=va(t.firestore,Ju);return i4(Mm(e),t._key).then((n=>PA(e,t,n)))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Mn("string",Pl._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class sv extends _4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function Jh(t){t=va(t,Na);const e=va(t.firestore,Ju),n=Mm(e),r=new sv(e);return CA(t._query),r4(n,t._query).then((o=>new Pl(e,r,t,o)))}function Py(t,e){const n=va(t.firestore,Ju),r=$_(t),o=v4(t.converter,e);return w4(n,[f4(W_(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Ea.exists(!1))]).then((()=>r))}function b4(t,...e){t=ai(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||mT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mT(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,h,m;if(t instanceof Dn)h=va(t.firestore,Ju),m=Tm(t._key.path),u={next:y=>{e[r]&&e[r](PA(h,t,y))},error:e[r+1],complete:e[r+2]};else{const y=va(t,Na);h=va(y.firestore,Ju),m=y._query;const v=new sv(h);u={next:b=>{e[r]&&e[r](new Pl(h,v,y,b))},error:e[r+1],complete:e[r+2]},CA(t._query)}return(function(v,b,x,A){const O=new G_(A),V=new F_(b,O,x);return v.asyncQueue.enqueueAndForget((async()=>z_(await em(v),V))),()=>{O.Nu(),v.asyncQueue.enqueueAndForget((async()=>B_(await em(v),V)))}})(Mm(h),m,o,u)}function w4(t,e){return(function(r,o){const u=new _a;return r.asyncQueue.enqueueAndForget((async()=>Gk(await n4(r),o,u))),u.promise})(Mm(t),e)}function PA(t,e,n){const r=n.docs.get(e._key),o=new sv(t);return new Nl(t,o,e._key,r,new uh(n.hasPendingWrites,n.fromCache),e.converter)}function yT(){return new Y_("serverTimestamp")}(function(e,n=!0){(function(o){rc=o})(jl),Dl(new Mo("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Ju(new hD(r.getProvider("auth-internal")),new mD(h,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Me(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(v.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Cs(Ew,bw,e),Cs(Ew,bw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebasestorage.googleapis.com",T4="storageBucket",x4=120*1e3,S4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Bs{constructor(e,n,r=0){super(kg(e),`Firebase Storage: ${n} (${kg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function kg(t){return"storage/"+t}function A4(){const t="An unknown error occurred, please check the error payload for server response.";return new js(Vs.UNKNOWN,t)}function C4(){return new js(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R4(){return new js(Vs.CANCELED,"User canceled the upload/download.")}function N4(t){return new js(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function P4(t){return new js(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _T(t){return new js(Vs.INVALID_ARGUMENT,t)}function OA(){return new js(Vs.APP_DELETED,"The Firebase app was deleted.")}function I4(t){return new js(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw P4(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(_e){_e.path.charAt(_e.path.length-1)==="/"&&(_e.path_=_e.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),y={bucket:1,path:3};function v(_e){_e.path_=decodeURIComponent(_e.path)}const b="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${b}/b/${o}/o${A}`,"i"),V={bucket:1,path:3},U=n===IA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",K=new RegExp(`^https?://${U}/${o}/${B}`,"i"),Q=[{regex:m,indices:y,postModify:u},{regex:O,indices:V,postModify:v},{regex:K,indices:{bucket:1,path:2},postModify:v}];for(let _e=0;_e<Q.length;_e++){const J=Q[_e],ue=J.regex.exec(e);if(ue){const j=ue[J.indices.bucket];let N=ue[J.indices.path];N||(N=""),r=new ns(j,N),J.postModify(r);break}}if(r==null)throw N4(e);return r}}class O4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e,n){let r=1,o=null,u=null,h=!1,m=0;function y(){return m===2}let v=!1;function b(...B){v||(v=!0,e.apply(null,B))}function x(B){o=setTimeout(()=>{o=null,t(O,y())},B)}function A(){u&&clearTimeout(u)}function O(B,...K){if(v){A();return}if(B){A(),b.call(null,B,...K);return}if(y()||h){A(),b.call(null,B,...K);return}r<64&&(r*=2);let Q;m===1?(m=2,Q=0):Q=(r+Math.random())*1e3,x(Q)}let V=!1;function U(B){V||(V=!0,A(),!v&&(o!==null?(B||(m=2),clearTimeout(o),x(0)):B||(m=1)))}return x(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function D4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){return t!==void 0}function vT(t,e,n,r){if(r<e)throw _T(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _T(`Invalid value for '${t}'. Expected ${n} or less.`)}function k4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var nm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nm||(nm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,o,u,h,m,y,v,b,x,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=x,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,U)=>{this.resolve_=V,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new md(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const y=m.loaded,v=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===nm.NO_ERROR,y=u.getStatus();if(!m||V4(y,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===nm.ABORT;r(!1,new md(!1,null,b));return}const v=this.successCodes_.indexOf(y)!==-1;r(!0,new md(v,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());L4(y)?u(y):u()}catch(y){h(y)}else if(m!==null){const y=A4();y.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,y)):h(y)}else if(o.canceled){const y=this.appDelete_?OA():R4();h(y)}else{const y=C4();h(y)}};this.canceled_?n(!1,new md(!1,null,!0)):this.backoffId_=M4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class md{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function z4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function H4(t,e,n,r,o,u,h=!0,m=!1){const y=k4(t.urlParams),v=t.url+y,b=Object.assign({},t.headers);return j4(b,e),z4(b,n),B4(b,u),F4(b,r),new U4(v,t.method,b,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new im(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G4(this._location.path)}get storage(){return this._service}get parent(){const e=q4(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new im(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw I4(e)}}function ET(t,e){const n=e?.[T4];return n==null?null:ns.makeFromBucketSpec(n,t)}function $4(t,e,n,r={}){t.host=`${e}:${n}`;const o=Bl(e);o&&(s_(`https://${t.host}/b`),a_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(t._overrideAuthToken=typeof u=="string"?u:y1(u,t.app.options.projectId))}class Z4{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=IA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x4,this._maxUploadRetryTime=S4,this._requests=new Set,o!=null?this._bucket=ns.makeFromBucketSpec(o,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new im(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new O4(OA());{const h=H4(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const bT="@firebase/storage",wT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="storage";function K4(t=u_(),e){t=ai(t);const r=mm(t,MA).getImmediate({identifier:e}),o=m1("storage");return o&&W4(r,...o),r}function W4(t,e,n,r={}){$4(t,e,n,r)}function Y4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Z4(n,r,o,e,jl)}function X4(){Dl(new Mo(MA,Y4,"PUBLIC").setMultipleInstances(!0)),Cs(bT,wT,""),Cs(bT,wT,"esm2020")}X4();const Q4={apiKey:"AIzaSyAGm3bzsCxYSARcgVn41ta_EOut9fauWr0",authDomain:"ecommerce-74229.firebaseapp.com",projectId:"ecommerce-74229",storageBucket:"ecommerce-74229.firebasestorage.app",messagingSenderId:"47160479095",appId:"1:47160479095:web:0dd3a844d5d5c3847ea572",measurementId:"G-47FYXTR59Z"},av=E1(Q4),rs=a4(av);K4(av);const ov=sD(av),J4="modulepreload",eV=function(t){return"/Ecommerce/"+t},TT={},Zo=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let y=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=y(n.map(v=>{if(v=eV(v),v in TT)return;TT[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const A=document.createElement("link");if(A.rel=b?"stylesheet":J4,b||(A.as="script"),A.crossOrigin="",A.href=v,m&&A.setAttribute("nonce",m),document.head.appendChild(A),b)return new Promise((O,V)=>{A.addEventListener("load",O),A.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var Vg={exports:{}},xT;function tV(){return xT||(xT=1,(()=>{var t={296:(o,u,h)=>{var m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,x=parseInt,A=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,O=typeof self=="object"&&self&&self.Object===Object&&self,V=A||O||Function("return this")(),U=Object.prototype.toString,B=Math.max,K=Math.min,G=function(){return V.Date.now()};function Q(J){var ue=typeof J;return!!J&&(ue=="object"||ue=="function")}function _e(J){if(typeof J=="number")return J;if((function(N){return typeof N=="symbol"||(function(M){return!!M&&typeof M=="object"})(N)&&U.call(N)=="[object Symbol]"})(J))return NaN;if(Q(J)){var ue=typeof J.valueOf=="function"?J.valueOf():J;J=Q(ue)?ue+"":ue}if(typeof J!="string")return J===0?J:+J;J=J.replace(m,"");var j=v.test(J);return j||b.test(J)?x(J.slice(2),j?2:8):y.test(J)?NaN:+J}o.exports=function(J,ue,j){var N,M,F,q,Y,H,Ze=0,Ue=!1,re=!1,ge=!0;if(typeof J!="function")throw new TypeError("Expected a function");function pe(oe){var Ne=N,Pe=M;return N=M=void 0,Ze=oe,q=J.apply(Pe,Ne)}function $e(oe){var Ne=oe-H;return H===void 0||Ne>=ue||Ne<0||re&&oe-Ze>=F}function z(){var oe=G();if($e(oe))return W(oe);Y=setTimeout(z,(function(Ne){var Pe=ue-(Ne-H);return re?K(Pe,F-(Ne-Ze)):Pe})(oe))}function W(oe){return Y=void 0,ge&&N?pe(oe):(N=M=void 0,q)}function me(){var oe=G(),Ne=$e(oe);if(N=arguments,M=this,H=oe,Ne){if(Y===void 0)return(function(Pe){return Ze=Pe,Y=setTimeout(z,ue),Ue?pe(Pe):q})(H);if(re)return Y=setTimeout(z,ue),pe(H)}return Y===void 0&&(Y=setTimeout(z,ue)),q}return ue=_e(ue)||0,Q(j)&&(Ue=!!j.leading,F=(re="maxWait"in j)?B(_e(j.maxWait)||0,ue):F,ge="trailing"in j?!!j.trailing:ge),me.cancel=function(){Y!==void 0&&clearTimeout(Y),Ze=0,N=H=M=Y=void 0},me.flush=function(){return Y===void 0?q:W(G())},me}},96:(o,u,h)=>{var m="Expected a function",y=NaN,v="[object Symbol]",b=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,O=/^0o[0-7]+$/i,V=parseInt,U=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,B=typeof self=="object"&&self&&self.Object===Object&&self,K=U||B||Function("return this")(),G=Object.prototype.toString,Q=Math.max,_e=Math.min,J=function(){return K.Date.now()};function ue(N){var M=typeof N;return!!N&&(M=="object"||M=="function")}function j(N){if(typeof N=="number")return N;if((function(q){return typeof q=="symbol"||(function(Y){return!!Y&&typeof Y=="object"})(q)&&G.call(q)==v})(N))return y;if(ue(N)){var M=typeof N.valueOf=="function"?N.valueOf():N;N=ue(M)?M+"":M}if(typeof N!="string")return N===0?N:+N;N=N.replace(b,"");var F=A.test(N);return F||O.test(N)?V(N.slice(2),F?2:8):x.test(N)?y:+N}o.exports=function(N,M,F){var q=!0,Y=!0;if(typeof N!="function")throw new TypeError(m);return ue(F)&&(q="leading"in F?!!F.leading:q,Y="trailing"in F?!!F.trailing:Y),(function(H,Ze,Ue){var re,ge,pe,$e,z,W,me=0,oe=!1,Ne=!1,Pe=!0;if(typeof H!="function")throw new TypeError(m);function Te(Pt){var Wt=re,Yt=ge;return re=ge=void 0,me=Pt,$e=H.apply(Yt,Wt)}function ht(Pt){var Wt=Pt-W;return W===void 0||Wt>=Ze||Wt<0||Ne&&Pt-me>=pe}function Qe(){var Pt=J();if(ht(Pt))return qt(Pt);z=setTimeout(Qe,(function(Wt){var Yt=Ze-(Wt-W);return Ne?_e(Yt,pe-(Wt-me)):Yt})(Pt))}function qt(Pt){return z=void 0,Pe&&re?Te(Pt):(re=ge=void 0,$e)}function Gt(){var Pt=J(),Wt=ht(Pt);if(re=arguments,ge=this,W=Pt,Wt){if(z===void 0)return(function(Yt){return me=Yt,z=setTimeout(Qe,Ze),oe?Te(Yt):$e})(W);if(Ne)return z=setTimeout(Qe,Ze),Te(W)}return z===void 0&&(z=setTimeout(Qe,Ze)),$e}return Ze=j(Ze)||0,ue(Ue)&&(oe=!!Ue.leading,pe=(Ne="maxWait"in Ue)?Q(j(Ue.maxWait)||0,Ze):pe,Pe="trailing"in Ue?!!Ue.trailing:Pe),Gt.cancel=function(){z!==void 0&&clearTimeout(z),me=0,re=W=ge=z=void 0},Gt.flush=function(){return z===void 0?$e:qt(J())},Gt})(N,M,{leading:q,maxWait:M,trailing:Y})}},703:(o,u,h)=>{var m=h(414);function y(){}function v(){}v.resetWarningCache=y,o.exports=function(){function b(O,V,U,B,K,G){if(G!==m){var Q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Q.name="Invariant Violation",Q}}function x(){return b}b.isRequired=b;var A={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:x,element:b,elementType:b,instanceOf:x,node:b,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:v,resetWarningCache:y};return A.PropTypes=A,A}},697:(o,u,h)=>{o.exports=h(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(o){var u=e[o];if(u!==void 0)return u.exports;var h=e[o]={exports:{}};return t[o](h,h.exports,n),h.exports}n.n=o=>{var u=o&&o.__esModule?()=>o.default:()=>o;return n.d(u,{a:u}),u},n.d=(o,u)=>{for(var h in u)n.o(u,h)&&!n.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:u[h]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Wt,LazyLoadImage:()=>Hs,trackWindowScroll:()=>$e});const o=cm();var u=n.n(o),h=n(697);function m(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function y(Re){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},y(Re)}function v(Re,te){var ye=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);te&&(Ce=Ce.filter((function(He){return Object.getOwnPropertyDescriptor(Re,He).enumerable}))),ye.push.apply(ye,Ce)}return ye}function b(Re,te,ye){return(te=A(te))in Re?Object.defineProperty(Re,te,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Re[te]=ye,Re}function x(Re,te){for(var ye=0;ye<te.length;ye++){var Ce=te[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,A(Ce.key),Ce)}}function A(Re){var te=(function(ye,Ce){if(y(ye)!=="object"||ye===null)return ye;var He=ye[Symbol.toPrimitive];if(He!==void 0){var at=He.call(ye,"string");if(y(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)})(Re);return y(te)==="symbol"?te:String(te)}function O(Re,te){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},O(Re,te)}function V(Re){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},V(Re)}var U=function(Re){Re.forEach((function(te){te.isIntersecting&&te.target.onVisible()}))},B={},K=(function(Re){(function(de,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(be&&be.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),be&&O(de,be)})(yt,Re);var te,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var de,be=V(Ce);if(He){var ke=V(this).constructor;de=Reflect.construct(be,arguments,ke)}else de=be.apply(this,arguments);return(function(Oe,Le){if(Le&&(y(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Oe)})(this,de)});function yt(de){var be;if((function(Oe,Le){if(!(Oe instanceof Le))throw new TypeError("Cannot call a class as a function")})(this,yt),(be=at.call(this,de)).supportsObserver=!de.scrollPosition&&de.useIntersectionObserver&&m(),be.supportsObserver){var ke=de.threshold;be.observer=(function(Oe){return B[Oe]=B[Oe]||new IntersectionObserver(U,{rootMargin:Oe+"px"}),B[Oe]})(ke)}return be}return te=yt,ye=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,be=this.placeholder.getBoundingClientRect(),ke=this.placeholder.style,Oe=parseInt(ke.getPropertyValue("margin-left"),10)||0,Le=parseInt(ke.getPropertyValue("margin-top"),10)||0;return{bottom:de.y+be.bottom+Le,left:de.x+be.left+Oe,right:de.x+be.right+Oe,top:de.y+be.top+Le}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var de=this.props,be=de.scrollPosition,ke=de.threshold,Oe=this.getPlaceholderBoundingBox(be),Le=be.y+window.innerHeight,We=be.x,It=be.x+window.innerWidth,Ot=be.y;return Ot-ke<=Oe.bottom&&Le+ke>=Oe.top&&We-ke<=Oe.right&&It+ke>=Oe.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var de=this,be=this.props,ke=be.className,Oe=be.height,Le=be.placeholder,We=be.style,It=be.width;if(Le&&typeof Le.type!="function")return u().cloneElement(Le,{ref:function(Tt){return de.placeholder=Tt}});var Ot=(function(Tt){for(var Mt=1;Mt<arguments.length;Mt++){var Ct=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?v(Object(Ct),!0).forEach((function(sn){b(Tt,sn,Ct[sn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(Ct)):v(Object(Ct)).forEach((function(sn){Object.defineProperty(Tt,sn,Object.getOwnPropertyDescriptor(Ct,sn))}))}return Tt})({display:"inline-block"},We);return It!==void 0&&(Ot.width=It),Oe!==void 0&&(Ot.height=Oe),u().createElement("span",{className:ke,ref:function(Tt){return de.placeholder=Tt},style:Ot},Le)}}],ye&&x(te.prototype,ye),Object.defineProperty(te,"prototype",{writable:!1}),yt})(u().Component);K.propTypes={onVisible:h.PropTypes.func.isRequired,className:h.PropTypes.string,height:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),placeholder:h.PropTypes.element,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,scrollPosition:h.PropTypes.shape({x:h.PropTypes.number.isRequired,y:h.PropTypes.number.isRequired}),width:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string])},K.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const G=K;var Q=n(296),_e=n.n(Q),J=n(96),ue=n.n(J),j=function(Re){var te=getComputedStyle(Re,null);return te.getPropertyValue("overflow")+te.getPropertyValue("overflow-y")+te.getPropertyValue("overflow-x")};const N=function(Re){if(!(Re instanceof HTMLElement))return window;for(var te=Re;te&&te instanceof HTMLElement;){if(/(scroll|auto)/.test(j(te)))return te;te=te.parentNode}return window};function M(Re){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},M(Re)}var F=["delayMethod","delayTime"];function q(){return q=Object.assign?Object.assign.bind():function(Re){for(var te=1;te<arguments.length;te++){var ye=arguments[te];for(var Ce in ye)Object.prototype.hasOwnProperty.call(ye,Ce)&&(Re[Ce]=ye[Ce])}return Re},q.apply(this,arguments)}function Y(Re,te){for(var ye=0;ye<te.length;ye++){var Ce=te[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(M(at)!=="object"||at===null)return at;var de=at[Symbol.toPrimitive];if(de!==void 0){var be=de.call(at,"string");if(M(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),M(He)==="symbol"?He:String(He)),Ce)}var He}function H(Re,te){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},H(Re,te)}function Ze(Re,te){if(te&&(M(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(Re)}function Ue(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function re(Re){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},re(Re)}var ge=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},pe=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const $e=function(Re){var te=(function(ye){(function(ke,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),Oe&&H(ke,Oe)})(be,ye);var Ce,He,at,yt,de=(at=be,yt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var ke,Oe=re(at);if(yt){var Le=re(this).constructor;ke=Reflect.construct(Oe,arguments,Le)}else ke=Oe.apply(this,arguments);return Ze(this,ke)});function be(ke){var Oe;if((function(We,It){if(!(We instanceof It))throw new TypeError("Cannot call a class as a function")})(this,be),(Oe=de.call(this,ke)).useIntersectionObserver=ke.useIntersectionObserver&&m(),Oe.useIntersectionObserver)return Ze(Oe);var Le=Oe.onChangeScroll.bind(Ue(Oe));return ke.delayMethod==="debounce"?Oe.delayedScroll=_e()(Le,ke.delayTime):ke.delayMethod==="throttle"&&(Oe.delayedScroll=ue()(Le,ke.delayTime)),Oe.state={scrollPosition:{x:ge(),y:pe()}},Oe.baseComponentRef=u().createRef(),Oe}return Ce=be,(He=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||N(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=N(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ge(),y:pe()}})}},{key:"render",value:function(){var ke=this.props,Oe=(ke.delayMethod,ke.delayTime,(function(We,It){if(We==null)return{};var Ot,Tt,Mt=(function(sn,Ln){if(sn==null)return{};var wi,Ti,kr={},Hi=Object.keys(sn);for(Ti=0;Ti<Hi.length;Ti++)wi=Hi[Ti],Ln.indexOf(wi)>=0||(kr[wi]=sn[wi]);return kr})(We,It);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(We);for(Tt=0;Tt<Ct.length;Tt++)Ot=Ct[Tt],It.indexOf(Ot)>=0||Object.prototype.propertyIsEnumerable.call(We,Ot)&&(Mt[Ot]=We[Ot])}return Mt})(ke,F)),Le=this.useIntersectionObserver?null:this.state.scrollPosition;return u().createElement(Re,q({forwardRef:this.baseComponentRef,scrollPosition:Le},Oe))}}])&&Y(Ce.prototype,He),Object.defineProperty(Ce,"prototype",{writable:!1}),be})(u().Component);return te.propTypes={delayMethod:h.PropTypes.oneOf(["debounce","throttle"]),delayTime:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool},te.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},te};function z(Re){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},z(Re)}function W(Re,te){for(var ye=0;ye<te.length;ye++){var Ce=te[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(z(at)!=="object"||at===null)return at;var de=at[Symbol.toPrimitive];if(de!==void 0){var be=de.call(at,"string");if(z(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),z(He)==="symbol"?He:String(He)),Ce)}var He}function me(Re,te){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},me(Re,te)}function oe(Re){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},oe(Re)}var Ne=(function(Re){(function(de,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(be&&be.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),be&&me(de,be)})(yt,Re);var te,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var de,be=oe(Ce);if(He){var ke=oe(this).constructor;de=Reflect.construct(be,arguments,ke)}else de=be.apply(this,arguments);return(function(Oe,Le){if(Le&&(z(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Oe)})(this,de)});function yt(de){return(function(be,ke){if(!(be instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,yt),at.call(this,de)}return te=yt,(ye=[{key:"render",value:function(){return u().createElement(G,this.props)}}])&&W(te.prototype,ye),Object.defineProperty(te,"prototype",{writable:!1}),yt})(u().Component);const Pe=$e(Ne);function Te(Re){return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},Te(Re)}function ht(Re,te){for(var ye=0;ye<te.length;ye++){var Ce=te[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,(He=(function(at,yt){if(Te(at)!=="object"||at===null)return at;var de=at[Symbol.toPrimitive];if(de!==void 0){var be=de.call(at,"string");if(Te(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)})(Ce.key),Te(He)==="symbol"?He:String(He)),Ce)}var He}function Qe(Re,te){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},Qe(Re,te)}function qt(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function Gt(Re){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},Gt(Re)}var Pt=(function(Re){(function(de,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(be&&be.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),be&&Qe(de,be)})(yt,Re);var te,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var de,be=Gt(Ce);if(He){var ke=Gt(this).constructor;de=Reflect.construct(be,arguments,ke)}else de=be.apply(this,arguments);return(function(Oe,Le){if(Le&&(Te(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(Oe)})(this,de)});function yt(de){var be;(function(It,Ot){if(!(It instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,yt),be=at.call(this,de);var ke=de.afterLoad,Oe=de.beforeLoad,Le=de.scrollPosition,We=de.visibleByDefault;return be.state={visible:We},We&&(Oe(),ke()),be.onVisible=be.onVisible.bind(qt(be)),be.isScrollTracked=!!(Le&&Number.isFinite(Le.x)&&Le.x>=0&&Number.isFinite(Le.y)&&Le.y>=0),be}return te=yt,(ye=[{key:"componentDidUpdate",value:function(de,be){be.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var de=this.props,be=de.className,ke=de.delayMethod,Oe=de.delayTime,Le=de.height,We=de.placeholder,It=de.scrollPosition,Ot=de.style,Tt=de.threshold,Mt=de.useIntersectionObserver,Ct=de.width;return this.isScrollTracked||Mt&&m()?u().createElement(G,{className:be,height:Le,onVisible:this.onVisible,placeholder:We,scrollPosition:It,style:Ot,threshold:Tt,useIntersectionObserver:Mt,width:Ct}):u().createElement(Pe,{className:be,delayMethod:ke,delayTime:Oe,height:Le,onVisible:this.onVisible,placeholder:We,style:Ot,threshold:Tt,width:Ct})}}])&&ht(te.prototype,ye),Object.defineProperty(te,"prototype",{writable:!1}),yt})(u().Component);Pt.propTypes={afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool},Pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Wt=Pt;function Yt(Re){return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},Yt(Re)}var Mr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Dr(Re,te){var ye=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);te&&(Ce=Ce.filter((function(He){return Object.getOwnPropertyDescriptor(Re,He).enumerable}))),ye.push.apply(ye,Ce)}return ye}function us(Re){for(var te=1;te<arguments.length;te++){var ye=arguments[te]!=null?arguments[te]:{};te%2?Dr(Object(ye),!0).forEach((function(Ce){jn(Re,Ce,ye[Ce])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(ye)):Dr(Object(ye)).forEach((function(Ce){Object.defineProperty(Re,Ce,Object.getOwnPropertyDescriptor(ye,Ce))}))}return Re}function jn(Re,te,ye){return(te=ur(te))in Re?Object.defineProperty(Re,te,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Re[te]=ye,Re}function ji(){return ji=Object.assign?Object.assign.bind():function(Re){for(var te=1;te<arguments.length;te++){var ye=arguments[te];for(var Ce in ye)Object.prototype.hasOwnProperty.call(ye,Ce)&&(Re[Ce]=ye[Ce])}return Re},ji.apply(this,arguments)}function Fs(Re,te){for(var ye=0;ye<te.length;ye++){var Ce=te[ye];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Re,ur(Ce.key),Ce)}}function ur(Re){var te=(function(ye,Ce){if(Yt(ye)!=="object"||ye===null)return ye;var He=ye[Symbol.toPrimitive];if(He!==void 0){var at=He.call(ye,"string");if(Yt(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)})(Re);return Yt(te)==="symbol"?te:String(te)}function bi(Re,te){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Ce){return ye.__proto__=Ce,ye},bi(Re,te)}function Lr(Re){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},Lr(Re)}var Fi=(function(Re){(function(de,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(be&&be.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),be&&bi(de,be)})(yt,Re);var te,ye,Ce,He,at=(Ce=yt,He=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var de,be=Lr(Ce);if(He){var ke=Lr(this).constructor;de=Reflect.construct(be,arguments,ke)}else de=be.apply(this,arguments);return(function(Oe,Le){if(Le&&(Yt(Le)==="object"||typeof Le=="function"))return Le;if(Le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We})(Oe)})(this,de)});function yt(de){var be;return(function(ke,Oe){if(!(ke instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,yt),(be=at.call(this,de)).state={loaded:!1},be}return te=yt,(ye=[{key:"onImageLoad",value:function(){var de=this;return this.state.loaded?null:function(be){de.props.onLoad(be),de.props.afterLoad(),de.setState({loaded:!0})}}},{key:"getImg",value:function(){var de=this.props,be=(de.afterLoad,de.beforeLoad,de.delayMethod,de.delayTime,de.effect,de.placeholder,de.placeholderSrc,de.scrollPosition,de.threshold,de.useIntersectionObserver,de.visibleByDefault,de.wrapperClassName,de.wrapperProps,(function(ke,Oe){if(ke==null)return{};var Le,We,It=(function(Tt,Mt){if(Tt==null)return{};var Ct,sn,Ln={},wi=Object.keys(Tt);for(sn=0;sn<wi.length;sn++)Ct=wi[sn],Mt.indexOf(Ct)>=0||(Ln[Ct]=Tt[Ct]);return Ln})(ke,Oe);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(ke);for(We=0;We<Ot.length;We++)Le=Ot[We],Oe.indexOf(Le)>=0||Object.prototype.propertyIsEnumerable.call(ke,Le)&&(It[Le]=ke[Le])}return It})(de,Mr));return u().createElement("img",ji({},be,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var de=this.props,be=de.beforeLoad,ke=de.className,Oe=de.delayMethod,Le=de.delayTime,We=de.height,It=de.placeholder,Ot=de.scrollPosition,Tt=de.style,Mt=de.threshold,Ct=de.useIntersectionObserver,sn=de.visibleByDefault,Ln=de.width;return u().createElement(Wt,{beforeLoad:be,className:ke,delayMethod:Oe,delayTime:Le,height:We,placeholder:It,scrollPosition:Ot,style:Tt,threshold:Mt,useIntersectionObserver:Ct,visibleByDefault:sn,width:Ln},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(de){var be=this.props,ke=be.effect,Oe=be.height,Le=be.placeholderSrc,We=be.width,It=be.wrapperClassName,Ot=be.wrapperProps,Tt=this.state.loaded,Mt=Tt?" lazy-load-image-loaded":"",Ct=Tt||!Le?{}:{backgroundImage:"url(".concat(Le,")"),backgroundSize:"100% 100%"};return u().createElement("span",ji({className:It+" lazy-load-image-background "+ke+Mt,style:us(us({},Ct),{},{color:"transparent",display:"inline-block",height:Oe,width:We})},Ot),de)}},{key:"render",value:function(){var de=this.props,be=de.effect,ke=de.placeholderSrc,Oe=de.visibleByDefault,Le=de.wrapperClassName,We=de.wrapperProps,It=this.getLazyLoadImage();return(be||ke)&&!Oe||Le||We?this.getWrappedLazyLoadImage(It):It}}])&&Fs(te.prototype,ye),Object.defineProperty(te,"prototype",{writable:!1}),yt})(u().Component);Fi.propTypes={onLoad:h.PropTypes.func,afterLoad:h.PropTypes.func,beforeLoad:h.PropTypes.func,delayMethod:h.PropTypes.string,delayTime:h.PropTypes.number,effect:h.PropTypes.string,placeholderSrc:h.PropTypes.string,threshold:h.PropTypes.number,useIntersectionObserver:h.PropTypes.bool,visibleByDefault:h.PropTypes.bool,wrapperClassName:h.PropTypes.string,wrapperProps:h.PropTypes.object},Fi.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Hs=Fi})(),Vg.exports=r})()),Vg.exports}var DA=tV();const nV="/Ecommerce/assets/women-Dfw609QD.jpg",iV="/Ecommerce/assets/man-BNem_KT8.jpg",rV="/Ecommerce/assets/kid-aD3lXmzM.jpg",sV=k.lazy(()=>Zo(()=>import("./HeroSlider-D80-WTXh.js"),__vite__mapDeps([0,1,2]))),aV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.ShoppingCart}))),lv=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.WifiOff}))),oV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Heart}))),lV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Search}))),uV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.X}))),cV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.Grid}))),hV=k.lazy(()=>Zo(()=>import("./lucide-react-DFx8kI6m.js"),__vite__mapDeps([3,1])).then(t=>({default:t.List})));class fV extends _.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?_.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100"},_.createElement("div",{className:"text-center p-6 bg-white rounded-2xl shadow-xl max-w-md mx-auto"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(lv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-red-600 mb-3"},"Something went wrong"),_.createElement("p",{className:"text-gray-600 mb-6"},"We're experiencing technical difficulties. Please try again later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):this.props.children}}const dV=(t,e)=>{let n;return function(...o){const u=()=>{clearTimeout(n),t(...o)};clearTimeout(n),n=setTimeout(u,e)}},mV={products:[],loading:!1,searchQuery:"",favoriteState:[],lastVisible:null,hasMore:!0,page:1,viewMode:"grid"};function pV(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const gV=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},yV=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},Ug=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const[o,u]=k.useState(!1),[h,m]=k.useState(!1),y=parseFloat(t.price),v=parseFloat(t.newPrice),b=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},b?_.createElement(DA.LazyLoadImage,{src:b,alt:t.name,effect:"",className:`w-full h-full object-cover transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>m(!0),placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRkNGQ0ZDIi8+Cjwvc3ZnPgo="}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image")))),!o&&!h&&b&&_.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse"},_.createElement("div",{className:"w-10 h-10 bg-gray-300 rounded-full"})),h&&_.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 p-2"},_.createElement(lv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mb-1"}),_.createElement("p",{className:"text-gray-500 text-xs"},"Image unavailable")),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(oV,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`}))),y>v&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((y-v)/y*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},y>v&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",y.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",v.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(aV,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),_V=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),vV=_.memo(({searchQuery:t,setSearchQuery:e,filteredCount:n})=>{const r=k.useCallback(dV(o=>e(o),300),[e]);return _.createElement("div",{className:"w-full mb-10 mx-auto px-4"},_.createElement("div",{className:"max-w-2xl mx-auto"},_.createElement("div",{className:"relative"},_.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_.createElement(lV,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})),_.createElement("input",{type:"text",placeholder:"Search products...",defaultValue:t,onChange:o=>r(o.target.value),className:"w-full pl-9 pr-9 py-3 border border-gray-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 text-sm","aria-label":"Search products"}),t&&_.createElement("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search"},_.createElement(uV,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 hover:text-gray-600"}))),t.trim()!==""&&_.createElement("div",{className:"mt-2 text-center"},_.createElement("p",{className:"text-gray-700 text-sm"},"Searching for ",_.createElement("span",{className:"font-semibold text-red-700"},'"',t,'"')),_.createElement("p",{className:"text-gray-600 text-xs"},"Found ",_.createElement("span",{className:"font-bold"},n)," result",n!==1?"s":""))))}),EV=_.memo(()=>{const t=[{name:"men",img:iV},{name:"women",img:nV},{name:"kids",img:rV}];return _.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},_.createElement("div",{className:"text-center mb-6"},_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-1"},"Shop by Category"),_.createElement("p",{className:"text-gray-600 text-sm max-w-2xl mx-auto"},"Browse our collections and find the perfect items for you")),_.createElement("div",{className:"flex justify-center gap-4 sm:gap-8 md:gap-16"},t.map(e=>_.createElement("div",{key:e.name,className:"flex flex-col items-center group"},_.createElement("button",{onClick:()=>{document.getElementById(`${e.name}-section`)?.scrollIntoView({behavior:"smooth"})},className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1 border-4 border-white shadow-lg","aria-label":`View ${e.name} products`},_.createElement(DA.LazyLoadImage,{src:e.img,alt:`${e.name} category`,effect:"blur",className:"w-full h-full object-cover"}),_.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),_.createElement("span",{className:"mt-2 text-sm sm:text-base font-medium text-gray-800 capitalize group-hover:text-red-700 transition-colors"},e.name)))))}),zg=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),bV=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const[r,o]=k.useReducer(pV,mV),{products:u,loading:h,searchQuery:m,favoriteState:y,lastVisible:v,hasMore:b,page:x,viewMode:A}=r,O=12,V=k.useRef(y);k.useEffect(()=>{V.current=y},[y]),k.useEffect(()=>{const ue=gV();o({type:"SET_FAVORITE_STATE",payload:ue})},[]);const U=k.useCallback(async(ue=1,j=m)=>{ue===1&&(o({type:"SET_LOADING",payload:!0}),o({type:"RESET_PAGINATION"}));try{let N=ba(rs,"products");j.trim()!==""&&(N=_i(N,is("name",">=",j),is("name","<=",j+""))),ue>1&&v?N=_i(N,km(v),Bo(O)):N=_i(N,Bo(O));const M=await Jh(N),F=M.docs.map(q=>({id:q.id,...q.data()}));o(ue===1?{type:"SET_PRODUCTS",payload:F}:{type:"SET_PRODUCTS",payload:[...u,...F]}),o({type:"SET_LAST_VISIBLE",payload:M.docs[M.docs.length-1]}),o({type:"SET_HAS_MORE",payload:M.docs.length===O}),o({type:"SET_PAGE",payload:ue})}catch(N){console.error("Error fetching products:",N)}finally{o({type:"SET_LOADING",payload:!1})}},[m,v,u,O]);k.useEffect(()=>{U()},[]),k.useEffect(()=>{m!==r.searchQuery&&U(1,m)},[m]);const B=k.useCallback(()=>{!h&&b&&U(x+1)},[h,b,x,U]),K=k.useCallback(ue=>{const j=Array.isArray(V.current)?[...V.current]:typeof V.current=="object"&&V.current!==null?Object.values(V.current):[],N=j.includes(ue);let M;if(N?M=j.filter(F=>F!==ue):M=[...j,ue],yV(M),o({type:"SET_FAVORITE_STATE",payload:M}),e){const F=u.find(q=>q.id===ue);F&&e(F)}},[e,u]),G=Array.isArray(y)?y:typeof y=="object"&&y!==null?Object.values(y):[],Q=u.filter(ue=>ue.category==="men"),_e=u.filter(ue=>ue.category==="women"),J=u.filter(ue=>ue.category==="kids");return h&&u.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Our Products"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((ue,j)=>_.createElement(_V,{key:j}))))):u.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(lv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement(fV,null,_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement(k.Suspense,{fallback:_.createElement("div",{className:"h-64 bg-gray-200 animate-pulse"})},_.createElement(sV,null)),_.createElement(EV,null),_.createElement(vV,{searchQuery:m,setSearchQuery:ue=>o({type:"SET_SEARCH_QUERY",payload:ue}),filteredCount:u.length}),_.createElement("div",{className:"max-w-7xl mx-auto px-4 mb-4 hidden sm:flex justify-end"},_.createElement("div",{className:"inline-flex rounded-md shadow-sm",role:"group"},_.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"grid"}),className:`px-3 py-2 text-sm font-medium rounded-l-lg ${A==="grid"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},_.createElement(cV,{className:"w-4 h-4 sm:w-5 sm:h-5"})),_.createElement("button",{type:"button",onClick:()=>o({type:"SET_VIEW_MODE",payload:"list"}),className:`px-3 py-2 text-sm font-medium rounded-r-md ${A==="list"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`},_.createElement(hV,{className:"w-4 h-4 sm:w-5 sm:h-5"})))),Q.length>0&&_.createElement("div",{id:"men-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(zg,{title:"Men's Collection",count:Q.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},Q.map(ue=>_.createElement(Ug,{key:ue.id,product:ue,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(ue.id)})))),_e.length>0&&_.createElement("div",{id:"women-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(zg,{title:"Women's Collection",count:_e.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},_e.map(ue=>_.createElement(Ug,{key:ue.id,product:ue,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(ue.id)})))),J.length>0&&_.createElement("div",{id:"kids-section",className:"max-w-7xl mx-auto px-4 py-4"},_.createElement(zg,{title:"Kids' Collection",count:J.length}),_.createElement("div",{className:`grid gap-3 sm:gap-4 md:gap-6 ${A==="grid"?"grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`},J.map(ue=>_.createElement(Ug,{key:ue.id,product:ue,onAddToCart:t,onAddToFavorites:K,isFav:G.includes(ue.id)})))),b&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:B,disabled:h,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},h?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products"))))},wV=_.memo(bV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ST=t=>{const e=xV(t);return e.charAt(0).toUpperCase()+e.slice(1)},LA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),SV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:h,...m},y)=>k.createElement("svg",{ref:y,...AV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LA("lucide",o),...!u&&!SV(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,b])=>k.createElement(v,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(t,e)=>{const n=k.forwardRef(({className:r,...o},u)=>k.createElement(CV,{ref:u,iconNode:e,className:LA(`lucide-${TV(ST(t))}`,`lucide-${t}`,r),...o}));return n.displayName=ST(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AT=Sn("arrow-left",RV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],PV=Sn("calendar",NV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Iy=Sn("circle-alert",IV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rm=Sn("circle-check-big",OV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],uv=Sn("expand",MV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M10.5 4.893a5.5 5.5 0 0 1 1.091.931.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 1.872-1.002 3.356-2.187 4.655",key:"1inpfl"}],["path",{d:"m16.967 16.967-3.459 3.346a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 2.747-4.761",key:"vbc6x7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kA=Sn("heart-off",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jo=Sn("heart",LV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],CT=Sn("house",kV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UV=Sn("list",VV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BV=Sn("mail",zV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],RT=Sn("map-pin",jV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M5 12h14",key:"1ays0h"}]],VA=Sn("minus",FV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qV=Sn("package",HV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$V=Sn("phone",GV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UA=Sn("plus",ZV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Or=Sn("shopping-cart",KV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zA=Sn("trash-2",WV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],XV=Sn("truck",YV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JV=Sn("user",QV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BA=Sn("wifi-off",e3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ro=Sn("x",t3),n3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function i3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const r3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},s3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},a3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newprice||t.newPrice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(uv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),o3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),l3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),u3=({onAddToCart:t,searchQuery:e})=>{const[n,r]=k.useReducer(i3,n3),{products:o,loading:u,favoriteState:h,lastVisible:m,hasMore:y,page:v}=n,b=12;k.useEffect(()=>{const U=r3();r({type:"SET_FAVORITE_STATE",payload:U})},[]);const x=k.useCallback(async(U=1)=>{U===1&&(r({type:"SET_LOADING",payload:!0}),r({type:"RESET_PAGINATION"}));try{let B=ba(rs,"products");B=_i(B,is("category","==","men")),e&&e.trim()!==""&&(B=_i(B,is("name",">=",e),is("name","<=",e+""))),U>1&&m?B=_i(B,km(m),Bo(b)):B=_i(B,Bo(b));const K=await Jh(B),G=K.docs.map(Q=>({id:Q.id,...Q.data()}));r(U===1?{type:"SET_PRODUCTS",payload:G}:{type:"SET_PRODUCTS",payload:[...o,...G]}),r({type:"SET_LAST_VISIBLE",payload:K.docs[K.docs.length-1]}),r({type:"SET_HAS_MORE",payload:K.docs.length===b}),r({type:"SET_PAGE",payload:U})}catch(B){console.error("Error fetching men products:",B)}finally{r({type:"SET_LOADING",payload:!1})}},[e,m,o,b]);k.useEffect(()=>{x()},[]),k.useEffect(()=>{e&&x(1)},[e]);const A=k.useCallback(U=>{const B=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],K=B.includes(U);let G;K?G=B.filter(Q=>Q!==U):G=[...B,U],s3(G),r({type:"SET_FAVORITE_STATE",payload:G})},[h]),O=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],V=k.useCallback(()=>{!u&&y&&x(v+1)},[u,y,v,x]);return u&&o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Men's Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((U,B)=>_.createElement(o3,{key:B}))))):o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(BA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(l3,{title:"Men's Collection",count:o.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of men's products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(U=>_.createElement(a3,{key:U.id,product:U,onAddToCart:t,onAddToFavorites:A,isFav:O.includes(U.id)}))),y&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:V,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},c3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function h3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const f3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},d3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},m3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newprice||t.newPrice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(uv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),p3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),g3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),y3=({onAddToCart:t,searchQuery:e})=>{const[n,r]=k.useReducer(h3,c3),{products:o,loading:u,favoriteState:h,lastVisible:m,hasMore:y,page:v}=n,b=12;k.useEffect(()=>{const U=f3();r({type:"SET_FAVORITE_STATE",payload:U})},[]);const x=k.useCallback(async(U=1)=>{U===1&&(r({type:"SET_LOADING",payload:!0}),r({type:"RESET_PAGINATION"}));try{let B=ba(rs,"products");B=_i(B,is("category","==","women")),e&&e.trim()!==""&&(B=_i(B,is("name",">=",e),is("name","<=",e+""))),U>1&&m?B=_i(B,km(m),Bo(b)):B=_i(B,Bo(b));const K=await Jh(B),G=K.docs.map(Q=>({id:Q.id,...Q.data()}));r(U===1?{type:"SET_PRODUCTS",payload:G}:{type:"SET_PRODUCTS",payload:[...o,...G]}),r({type:"SET_LAST_VISIBLE",payload:K.docs[K.docs.length-1]}),r({type:"SET_HAS_MORE",payload:K.docs.length===b}),r({type:"SET_PAGE",payload:U})}catch(B){console.error("Error fetching women products:",B)}finally{r({type:"SET_LOADING",payload:!1})}},[e,m,o,b]);k.useEffect(()=>{x()},[]),k.useEffect(()=>{e&&x(1)},[e]);const A=k.useCallback(U=>{const B=Array.isArray(h)?[...h]:typeof h=="object"&&h!==null?Object.values(h):[],K=B.includes(U);let G;K?G=B.filter(Q=>Q!==U):G=[...B,U],d3(G),r({type:"SET_FAVORITE_STATE",payload:G})},[h]),O=Array.isArray(h)?h:typeof h=="object"&&h!==null?Object.values(h):[],V=k.useCallback(()=>{!u&&y&&x(v+1)},[u,y,v,x]);return u&&o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Women's Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((U,B)=>_.createElement(p3,{key:B}))))):o.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(BA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(g3,{title:"Women's Collection",count:o.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of women's products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},o.map(U=>_.createElement(m3,{key:U.id,product:U,onAddToCart:t,onAddToFavorites:A,isFav:O.includes(U.id)}))),y&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:V,disabled:u,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},u?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},_3={products:[],loading:!1,favoriteState:[],lastVisible:null,hasMore:!0,page:1};function v3(t,e){switch(e.type){case"SET_PRODUCTS":return{...t,products:e.payload};case"SET_LOADING":return{...t,loading:e.payload};case"SET_FAVORITE_STATE":return{...t,favoriteState:Array.isArray(e.payload)?e.payload:[]};case"SET_LAST_VISIBLE":return{...t,lastVisible:e.payload};case"SET_HAS_MORE":return{...t,hasMore:e.payload};case"SET_PAGE":return{...t,page:e.payload};case"RESET_PAGINATION":return{...t,page:1,lastVisible:null,hasMore:!0,products:[]};default:return t}}const E3=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},b3=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},w3=_.memo(({product:t,onAddToCart:e,onAddToFavorites:n,isFav:r})=>{const o=parseFloat(t.price)||0,u=parseFloat(t.newPrice||t.newprice)||o,h=t.images&&t.images.length>0?t.images[0]:null;return _.createElement("div",{className:"group bg-white rounded-lg shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-100 aspect-[1/1]"},h?_.createElement("img",{src:h,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):_.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gray-200"},_.createElement("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center"},_.createElement("span",{className:"text-gray-500 text-xs"},"No Image"))),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("button",{onClick:()=>n(t.id),"aria-label":r?"Remove from favorites":"Add to favorites",className:`p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 shadow-sm ${r?"bg-pink-100 text-pink-600":"bg-white/80 text-gray-600 hover:bg-pink-50 hover:text-pink-600"}`},_.createElement(jo,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200 ${r?"fill-current":""}`})),_.createElement(ls,{to:`/product/${t.id}`,"aria-label":`View details for ${t.name}`},_.createElement("button",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full backdrop-blur-sm transition-all duration-300 bg-white/80 text-gray-600 hover:bg-gray-100 shadow-sm"},_.createElement(uv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3 transition-all duration-200"})))),o>u&&_.createElement("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 rounded-full text-xs font-bold shadow-md z-10"},Math.round((o-u)/o*100),"% OFF")),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("h3",{className:"font-bold text-sm sm:text-base text-gray-900 line-clamp-1"},t.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs font-medium capitalize"},t.category)),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},o>u&&_.createElement("span",{className:"line-through text-xs text-gray-500"},"$",o.toFixed(2)),_.createElement("span",{className:"text-sm sm:text-base font-bold text-red-700"},"$",u.toFixed(2))),_.createElement("button",{onClick:()=>e(t),className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors shadow-sm","aria-label":`Add ${t.name} to cart`},_.createElement(Or,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 max-[450px]:w-3 max-[450px]:h-3"})))))},(t,e)=>t.product.id===e.product.id&&t.isFav===e.isFav),T3=()=>_.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-pulse border border-gray-100 flex flex-col h-full"},_.createElement("div",{className:"relative overflow-hidden bg-gray-200 aspect-[1/1]"},_.createElement("div",{className:"absolute top-2 left-2 bg-gray-300 rounded-full px-1 py-0.5 sm:px-1.5 sm:py-0.5 max-[450px]:px-1 max-[450px]:py-0.5 w-12 h-4 max-[450px]:w-10 max-[450px]:h-3"}),_.createElement("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 z-10"},_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 rounded-full bg-gray-300 w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"}))),_.createElement("div",{className:"p-2 flex flex-col flex-grow"},_.createElement("div",{className:"flex justify-between items-start mb-1"},_.createElement("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),_.createElement("div",{className:"h-4 bg-gray-300 rounded-full w-12"})),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-full mb-1"}),_.createElement("div",{className:"h-3 bg-gray-300 rounded w-5/6 mb-2"}),_.createElement("div",{className:"flex items-center justify-between mt-auto"},_.createElement("div",{className:"flex items-center space-x-1"},_.createElement("div",{className:"h-3 bg-gray-300 rounded w-8"}),_.createElement("div",{className:"h-5 bg-gray-300 rounded w-14"})),_.createElement("div",{className:"p-1 sm:p-1.5 max-[450px]:p-1 bg-gray-300 rounded-lg w-6 h-6 sm:w-7 sm:h-7 max-[450px]:w-5 max-[450px]:h-5"})))),x3=_.memo(({title:t,count:e})=>_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900"},t),_.createElement("span",{className:"bg-red-100 text-red-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full"},e," ",e===1?"item":"items"))),S3=({onAddToCart:t})=>{const[e,n]=k.useReducer(v3,_3),{products:r,loading:o,favoriteState:u,lastVisible:h,hasMore:m,page:y}=e,v=12;k.useEffect(()=>{const V=E3();n({type:"SET_FAVORITE_STATE",payload:V})},[]);const b=k.useCallback(async(V=1)=>{V===1&&(n({type:"SET_LOADING",payload:!0}),n({type:"RESET_PAGINATION"}));try{let U=ba(rs,"products");U=_i(U,is("category","==","kids")),V>1&&h?U=_i(U,km(h),Bo(v)):U=_i(U,Bo(v));const B=await Jh(U),K=B.docs.map(G=>({id:G.id,...G.data()}));n(V===1?{type:"SET_PRODUCTS",payload:K}:{type:"SET_PRODUCTS",payload:[...r,...K]}),n({type:"SET_LAST_VISIBLE",payload:B.docs[B.docs.length-1]}),n({type:"SET_HAS_MORE",payload:B.docs.length===v}),n({type:"SET_PAGE",payload:V})}catch(U){console.error("Error fetching kids products:",U)}finally{n({type:"SET_LOADING",payload:!1})}},[h,r,v]);k.useEffect(()=>{b()},[]);const x=k.useCallback(V=>{const U=Array.isArray(u)?[...u]:typeof u=="object"&&u!==null?Object.values(u):[],B=U.includes(V);let K;B?K=U.filter(G=>G!==V):K=[...U,V],b3(K),n({type:"SET_FAVORITE_STATE",payload:K})},[u]),A=Array.isArray(u)?u:typeof u=="object"&&u!==null?Object.values(u):[],O=k.useCallback(()=>{!o&&m&&b(y+1)},[o,m,y,b]);return o&&r.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Kids' Collection"),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm"},"Discover our latest collection of premium products")),_.createElement("div",{className:"p-6 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 bg-gray-50"},Array.from({length:4}).map((V,U)=>_.createElement(T3,{key:U}))))):r.length===0?_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},_.createElement("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-2xl shadow-xl"},_.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},_.createElement(kA,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})),_.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3"},"No Products Available"),_.createElement("p",{className:"text-gray-600 mb-6 text-sm"},"We couldn't find any products at the moment. Please check back later."),_.createElement("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Refresh Page"))):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement(x3,{title:"Kids' Collection",count:r.length}),_.createElement("p",{className:"text-gray-600 text-sm"},"Browse our premium selection of kids' products")),_.createElement("div",{className:"grid gap-3 sm:gap-4 md:gap-6 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},r.map(V=>_.createElement(w3,{key:V.id,product:V,onAddToCart:t,onAddToFavorites:x,isFav:A.includes(V.id)}))),m&&_.createElement("div",{className:"flex justify-center my-8"},_.createElement("button",{onClick:O,disabled:o,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed text-sm"},o?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):"Load More Products")),_.createElement("div",{className:"mt-12 text-center"},_.createElement(ls,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))},A3=({onAddToCart:t})=>{const[e,n]=k.useState([]),[r,o]=k.useState(!0),[u,h]=k.useState(null),m=()=>{try{const x=localStorage.getItem("favorites");if(!x)return[];const A=JSON.parse(x);return Array.isArray(A)?A:[]}catch(x){return console.error("Error getting favorites from localStorage:",x),[]}},y=k.useCallback(async()=>{o(!0),h(null);try{const x=m();if(x.length===0){n([]),o(!1);return}const A=_i(ba(rs,"products"),is(l4(),"in",x)),V=(await Jh(A)).docs.map(U=>({id:U.id,...U.data()}));n(V)}catch(x){console.error("Error fetching favorite products:",x),h("Failed to load your favorites. Please try again later.")}finally{o(!1)}},[]),v=k.useCallback(x=>{try{const O=m().filter(V=>V!==x);localStorage.setItem("favorites",JSON.stringify(O)),n(V=>V.filter(U=>U.id!==x))}catch(A){console.error("Error removing favorite:",A)}},[]),b=k.useCallback(x=>{t&&t(x)},[t]);return k.useEffect(()=>{y()},[y]),r?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"flex justify-center items-center h-64"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})))):u?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"text-center"},_.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},u),_.createElement("button",{onClick:y,className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},"Try Again")))):e.length===0?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-16"},_.createElement("div",{className:"text-center"},_.createElement(kA,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Favorites"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't added any items to your favorites yet."),_.createElement(wo,{to:"/Ecommerce",className:"inline-flex items-center px-6 py-3 bg-red-700 text-white font-semibold rounded-lg hover:bg-red-800 transition-colors"},_.createElement(jo,{className:"w-5 h-5 mr-2"}),"Start Shopping")))):_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},_.createElement("div",{className:"mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Your Favorites"),_.createElement("p",{className:"text-gray-600"},"You have ",e.length," item",e.length!==1?"s":""," in your favorites")),_.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"},e.map(x=>_.createElement("div",{key:x.id,className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"},_.createElement("div",{className:"relative overflow-hidden"},_.createElement(ls,{to:`/product/${x.id}`,"aria-label":`View details for ${x.name}`},_.createElement("img",{src:x.images&&x.images.length>0?x.images[0]:"https://via.placeholder.com/300x300?text=No+Image",alt:x.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"})),_.createElement("button",{onClick:()=>v(x.id),className:"absolute top-3 right-3 p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-all duration-300 opacity-100 group-hover:opacity-100","aria-label":`Remove ${x.name} from favorites`},_.createElement(zA,{className:"w-4 h-4"})),parseFloat(x.price)>parseFloat(x.newprice||x.newPrice)&&_.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-2 py-1 rounded-lg text-xs font-semibold"},Math.round((1-parseFloat(x.newprice||x.newPrice)/parseFloat(x.price))*100),"% OFF"),_.createElement("div",{className:"absolute bottom-3 left-3 bg-pink-100 text-pink-600 p-1 rounded-full"},_.createElement(jo,{className:"w-4 h-4 fill-current"}))),_.createElement("div",{className:"p-3 sm:p-4"},_.createElement("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 mb-1 truncate"},x.name),_.createElement("div",{className:"mb-3"},_.createElement("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium capitalize"},x.category)),_.createElement("div",{className:"flex items-center justify-between mb-4"},_.createElement("div",{className:"flex items-center space-x-2"},_.createElement("span",{className:"line-through text-sm sm:text-base text-red-400"},"$",parseFloat(x.price).toFixed(2)),_.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900"},"$",parseFloat(x.newprice||x.newPrice).toFixed(2))),_.createElement("button",{onClick:()=>b(x),className:"bg-red-700 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-red-800 transition-colors flex items-center space-x-1 sm:space-x-2"},_.createElement(Or,{className:"w-4 h-4 sm:w-5 sm:h-5"}),_.createElement("span",{className:"text-xs sm:text-sm"},"Add"))))))),_.createElement("div",{className:"mt-12 text-center"},_.createElement(wo,{to:"/Ecommerce",className:"inline-flex mb-8 items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"},"Continue Shopping"))))};function C3({cartItemCount:t,onCartClick:e}){const[n,r]=k.useState(!1),[o,u]=k.useState(!1),h=qo(),m=["Home","Men","Women","Kids","Favorites","contact","Orders"];return k.useEffect(()=>{r(!1)},[h]),_.createElement(_.Fragment,null,_.createElement("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-md"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"flex items-center justify-between h-16"},_.createElement("div",{className:"flex items-center space-x-8"},_.createElement(wo,{to:"/",className:"flex items-center space-x-2"},_.createElement("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center  justify-center"},_.createElement("span",{className:"text-white font-bold text-lg"},"E")),_.createElement("h1",{className:"text-2xl font-bold text-red-700 ml-[-7px]"},"-commerce")),_.createElement("nav",{className:"hidden md:flex space-x-1"},m.map(y=>_.createElement(wo,{key:y,to:`/${y==="Home"?"":y.toLowerCase()}`,className:({isActive:v})=>`px-3 py-2 rounded-lg font-medium transition-all duration-300 ${v?"text-white bg-red-700 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},y)))),_.createElement("div",{className:"flex items-center"},_.createElement("div",{className:"relative"},_.createElement("button",{onClick:()=>{e(),u(!0)},className:"relative p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50"},_.createElement(Or,{className:"w-6 h-6"}),t>0&&_.createElement("span",{className:"absolute -top-1 -right-1 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-md animate-pulse"},t>99?"99+":t))),_.createElement("button",{className:"md:hidden p-2 text-gray-600 hover:text-red-700 transition-colors duration-300 rounded-full hover:bg-red-50 ml-2",onClick:()=>r(!n)},n?_.createElement(Ro,{className:"w-6 h-6"}):_.createElement(UV,{className:"w-6 h-6"})))))),n&&_.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>r(!1)}),_.createElement("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl border-l border-gray-200 transform transition-transform duration-300 ease-in-out z-50 ${n?"translate-x-0":"translate-x-full"}`},_.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100"},_.createElement("h2",{className:"text-lg font-bold text-red-700"},"Menu"),_.createElement("button",{onClick:()=>r(!1),className:"p-2 text-red-700 hover:bg-red-200 rounded-full transition-colors duration-300"},_.createElement(Ro,{className:"w-6 h-6"}))),_.createElement("div",{className:"p-4"},_.createElement("nav",{className:"flex flex-col space-y-1"},m.map(y=>{const v=y==="Home"?CT:y==="Favorites"?jo:null;return _.createElement(wo,{key:y,to:`/${y==="Home"?"":y.toLowerCase()}`,className:({isActive:b})=>`flex items-center p-3 rounded-lg transition-all duration-300 ${b?"bg-red-100 text-red-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>r(!1)},v&&_.createElement(v,{className:"w-5 h-5 mr-3"}),y)})))),_.createElement("nav",{className:"md:hidden flex justify-around items-center py-3 fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-lg z-40"},_.createElement(wo,{to:"/",className:({isActive:y})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${y?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(CT,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Home")),_.createElement(wo,{to:"/favorites",className:({isActive:y})=>`flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${y?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(jo,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Favorites")),_.createElement("button",{onClick:()=>{e(),u(!0)},className:`relative flex flex-col items-center justify-center transition-all duration-300 px-4 py-1 rounded-lg ${o?"text-red-700 scale-110":"text-gray-500"}`},_.createElement(Or,{className:"w-6 h-6"}),_.createElement("span",{className:"text-xs mt-1"},"Cart"),t>0&&_.createElement("span",{className:"absolute top-0 right-3 bg-red-700 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},t>99?"99+":t))))}function R3({isOpen:t,onClose:e,cart:n,onIncreaseQty:r,onDecreaseQty:o,onRemoveItem:u,onClearCart:h,onCheckout:m,total:y}){const[v,b]=k.useState(null),[x,A]=k.useState({}),[O,V]=k.useState(!1),U=(N,M="success")=>{b({text:N,type:M}),setTimeout(()=>b(null),2e3)};k.useEffect(()=>{const N=async()=>{const M={};for(const F of n)try{const q=await NA($_(rs,"products",F.id));q.exists()&&(M[F.id]=q.data().shippingPrice||0)}catch(q){console.error("Error fetching shipping price:",q)}A(M)};n.length>0&&N()},[n]);const B=N=>{o(N)},K=N=>{r(N)},G=(N,M)=>{u(N),U(`${M} removed from cart`)},Q=async()=>{V(!0);try{await m(),U("Checkout successful!")}catch{U("Checkout failed. Please try again.","error")}finally{V(!1)}},_e=y,J=_e*.2,ue=_e>0?15:0,j=_e-J+ue;return _.createElement("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`},_.createElement("div",{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:e}),_.createElement("div",{className:`fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`},_.createElement("div",{className:"flex flex-col h-full"},_.createElement("div",{className:"flex items-center justify-between p-5 bg-white border-b border-gray-200"},_.createElement("div",{className:"flex items-center space-x-2"},_.createElement("h2",{className:"text-xl font-bold text-gray-900 uppercase tracking-wide"},"YOUR CART"),n.length>0&&_.createElement("span",{className:"bg-gray-900 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},n.reduce((N,M)=>N+M.qty,0))),_.createElement("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200","aria-label":"Close cart"},_.createElement(Ro,{className:"w-5 h-5 text-gray-700"}))),v&&_.createElement("div",{className:`mx-4 mt-4 p-3 rounded-lg flex items-center space-x-2 ${v.type==="error"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`},_.createElement(rm,{className:"w-5 h-5"}),_.createElement("span",null,v.text)),_.createElement("div",{className:"flex-1 overflow-y-auto py-4 px-5"},n.length===0?_.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},_.createElement("div",{className:"bg-gray-100 p-4 rounded-full mb-4"},_.createElement(Or,{className:"w-16 h-16 text-gray-400"})),_.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Your cart is empty"),_.createElement("p",{className:"text-gray-600 mb-6 max-w-xs"},"Add some products to get started with your shopping"),_.createElement("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors duration-300"},"Continue Shopping")):_.createElement("div",{className:"space-y-4"},n.map(N=>_.createElement("div",{key:`${N.id}-${N.selectedSize||"default"}`,className:"flex items-start p-4 bg-white border border-gray-200 rounded-lg"},_.createElement("div",{className:"relative"},_.createElement("img",{src:N.image||(Array.isArray(N.images)?N.images[0]:N.images),alt:N.name,className:"w-20 h-20 object-cover rounded-lg",onError:M=>{M.target.src="/placeholder.jpg"}})),_.createElement("div",{className:"flex-1 min-w-0 ml-4"},_.createElement("h4",{className:"text-base font-medium text-gray-900"},N.name),N.selectedSize&&_.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Size: ",_.createElement("span",{className:"font-medium"},N.selectedSize)),N.selectedColor&&_.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",_.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:N.selectedColor},title:N.selectedColor})),_.createElement("div",{className:"flex items-center mt-2"},_.createElement("span",{className:"text-gray-900 font-medium"},"$",parseFloat(N.price).toFixed(2)),N.originalPrice&&N.originalPrice>N.price&&_.createElement("span",{className:"ml-2 text-sm text-gray-500 line-through"},"$",parseFloat(N.originalPrice).toFixed(2)))),_.createElement("div",{className:"flex flex-col items-end space-y-3"},_.createElement("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-md p-1"},_.createElement("button",{onClick:()=>B(N.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Decrease quantity"},_.createElement(VA,{className:"w-3 h-3"})),_.createElement("span",{className:"text-sm font-medium w-8 text-center"},N.qty),_.createElement("button",{onClick:()=>K(N.id),className:"w-7 h-7 flex items-center justify-center text-gray-700 hover:bg-gray-100 transition-colors duration-200","aria-label":"Increase quantity"},_.createElement(UA,{className:"w-3 h-3"}))),_.createElement("button",{onClick:()=>G(N.id,N.name),className:"text-gray-400 hover:text-red-600 p-1 transition-colors duration-200","aria-label":"Remove item"},_.createElement(zA,{className:"w-4 h-4"}))))))),n.length>0&&_.createElement("div",{className:"border-t border-gray-200 p-5 bg-white"},_.createElement("div",{className:"space-y-3 mb-6"},_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-gray-700 font-medium"},"Subtotal"),_.createElement("span",{className:"text-gray-900 font-medium"},"$",_e.toFixed(2))),_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-gray-700 font-medium"},"Shipping"),_.createElement("span",{className:"text-gray-900 font-medium"},"$",n.reduce((N,M)=>N+(x[M.id]||0),0).toFixed(2))),_.createElement("div",{className:"border-t border-gray-200 pt-3"},_.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},_.createElement("span",{className:"text-gray-900"},"Total"),_.createElement("span",{className:"text-gray-900"},"$",j.toFixed(2))))),_.createElement("button",{onClick:Q,disabled:O,className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center ${O?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800"} text-white`},O?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):_.createElement(_.Fragment,null,_.createElement(Or,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout")),_.createElement("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-700 hover:text-gray-900 transition-colors duration-300 text-sm font-medium"},"Continue Shopping")))))}const N3=(t,e)=>qO(ov,t,e),P3=(t,e)=>GO(ov,t,e);function I3(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[o,u]=k.useState(""),[h,m]=k.useState(!1),[y,v]=k.useState(""),b=async x=>{if(x.preventDefault(),m(!0),v(""),n!==o){v("Passwords do not match"),m(!1);return}try{await N3(t,n)}catch{v("An account already exists for this email.")}finally{m(!1)}};return _.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},_.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-400"}),_.createElement("div",{className:"p-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Create Account"),_.createElement("p",{className:"text-gray-600 mt-2"},"Join us today")),y&&_.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},y),_.createElement("form",{onSubmit:b},_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),_.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-2"},"Password"),_.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:x=>r(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-6"},_.createElement("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-medium mb-2"},"Confirm Password"),_.createElement("input",{id:"confirmPassword",type:"password",placeholder:"••••••••",value:o,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},h?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Creating account..."):"Sign Up")))))}function O3(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[o,u]=k.useState(!1),[h,m]=k.useState(""),[y,v]=k.useState(""),b=async x=>{x.preventDefault(),u(!0),m("");try{await P3(t,n),v("Signed in successfully!")}catch{m("Invalid email or password")}finally{u(!1)}};return _.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-indigo-100 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden w-full max-w-md"},_.createElement("div",{className:"p-1 bg-gradient-to-r from-red-500 to-indigo-300"}),_.createElement("div",{className:"p-8"},_.createElement("div",{className:"text-center mb-8"},_.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Welcome Back"),_.createElement("p",{className:"text-gray-600 mt-2"},"Sign in to your account")),h&&_.createElement("div",{className:"mb-6 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},h),y&&_.createElement("div",{className:"mb-6 p-3 bg-green-50 text-green-700 rounded-lg text-sm"},y),_.createElement("form",{onSubmit:b},_.createElement("div",{className:"mb-4"},_.createElement("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2"},"Email Address"),_.createElement("input",{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("div",{className:"mb-6"},_.createElement("div",{className:"flex justify-between items-center mb-2"},_.createElement("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium"},"Password"),_.createElement("a",{href:"#",className:"text-sm text-red-600 hover:text-red-800 transition duration-200"},"Forgot password?")),_.createElement("input",{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:x=>r(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition duration-200",required:!0})),_.createElement("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-indigo-400 text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition duration-200 flex items-center justify-center disabled:opacity-70"},o?_.createElement(_.Fragment,null,_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Signing in..."):"Sign In")))))}function M3(t,e){const n=k.useRef(e);k.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const D3=1;function L3(t){return Object.freeze({__version:D3,map:t})}function k3(t,e){return Object.freeze({...t,...e})}const cv=k.createContext(null);function jA(){const t=k.use(cv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function V3(t){function e(n,r){const{instance:o,context:u}=t(n).current;k.useImperativeHandle(r,()=>o);const{children:h}=n;return h==null?null:_.createElement(cv,{value:u},h)}return k.forwardRef(e)}function U3(t){function e(n,r){const{instance:o}=t(n).current;return k.useImperativeHandle(r,()=>o),null}return k.forwardRef(e)}function z3(t,e){const n=k.useRef(void 0);k.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function FA(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var ch={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var B3=ch.exports,NT;function j3(){return NT||(NT=1,(function(t,e){(function(n,r){r(e)})(B3,(function(n){var r="1.9.4";function o(a){var c,p,w,S;for(p=1,w=arguments.length;p<w;p++){S=arguments[p];for(c in S)a[c]=S[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function h(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var w=p.call(arguments,2);return function(){return a.apply(c,w.length?w.concat(p.call(arguments)):arguments)}}var m=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function v(a,c,p){var w,S,P,$;return $=function(){w=!1,S&&(P.apply(p,S),S=!1)},P=function(){w?S=arguments:(a.apply(p,arguments),setTimeout($,c),w=!0)},P}function b(a,c,p){var w=c[1],S=c[0],P=w-S;return a===w&&p?a:((a-S)%P+P)%P+S}function x(){return!1}function A(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function V(a){return O(a).split(/\s+/)}function U(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function B(a,c,p){var w=[];for(var S in a)w.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function G(a,c){return a.replace(K,function(p,w){var S=c[w];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(c)),S})}var Q=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function _e(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ue(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function N(a){var c=+new Date,p=Math.max(0,16-(c-j));return j=c+p,window.setTimeout(a,p)}var M=window.requestAnimationFrame||ue("RequestAnimationFrame")||N,F=window.cancelAnimationFrame||ue("CancelAnimationFrame")||ue("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function q(a,c,p){if(p&&M===N)a.call(c);else return M.call(window,h(a,c))}function Y(a){a&&F.call(window,a)}var H={__proto__:null,extend:o,create:u,bind:h,get lastId(){return m},stamp:y,throttle:v,wrapNum:b,falseFn:x,formatNum:A,trim:O,splitWords:V,setOptions:U,getParamString:B,template:G,isArray:Q,indexOf:_e,emptyImageUrl:J,requestFn:M,cancelFn:F,requestAnimFrame:q,cancelAnimFrame:Y};function Ze(){}Ze.extend=function(a){var c=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,w=u(p);w.constructor=c,c.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return a.statics&&o(c,a.statics),a.includes&&(Ue(a.includes),o.apply(null,[w].concat(a.includes))),o(w,a),delete w.statics,delete w.includes,w.options&&(w.options=p.options?u(p.options):{},o(w.options,a.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,$=w._initHooks.length;P<$;P++)w._initHooks[P].call(this)}},c},Ze.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Ze.mergeOptions=function(a){return o(this.prototype.options,a),this},Ze.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ue(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=Q(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c);else{a=V(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var w in a)this._off(w,a[w],c);else{a=V(a);for(var S=arguments.length===1,P=0,$=a.length;P<$;P++)S?this._off(a[P]):this._off(a[P],c,p)}return this},_on:function(a,c,p,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var S={fn:c,ctx:p};w&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,c,p){var w,S,P;if(this._events&&(w=this._events[a],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,P=w.length;S<P;S++)w[S].fn=x;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var $=this._listens(a,c,p);if($!==!1){var ie=w[$];this._firingCount&&(ie.fn=x,this._events[a]=w=w.slice()),w.splice($,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var w=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,$=S.length;P<$;P++){var ie=S[P],he=ie.fn;ie.once&&this.off(a,he,ie.ctx),he.call(ie.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(a,c,p,w){typeof a!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(w=!!c,S=void 0,p=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,p)!==!1)return!0;if(w){for(var $ in this._eventParents)if(this._eventParents[$].listens(a,c,p,w))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var w=this._events[a]||[];if(!c)return!!w.length;p===this&&(p=void 0);for(var S=0,P=w.length;S<P;S++)if(w[S].fn===c&&w[S].ctx===p)return S;return!1},once:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c,!0);else{a=V(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var ge=Ze.extend(re);function pe(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var $e=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(a){return this.clone()._add(z(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(z(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$e(this.x),this.y=$e(this.y),this},distanceTo:function(a){a=z(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=z(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=z(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function z(a,c,p){return a instanceof pe?a:Q(a)?new pe(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pe(a.x,a.y):new pe(a,c,p)}function W(a,c){if(a)for(var p=c?[a,c]:a,w=0,S=p.length;w<S;w++)this.extend(p[w])}W.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof pe||typeof a[0]=="number"||"x"in a)c=p=z(a);else if(a=me(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof pe?a=z(a):a=me(a),a instanceof W?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=me(a);var c=this.min,p=this.max,w=a.min,S=a.max,P=S.x>=c.x&&w.x<=p.x,$=S.y>=c.y&&w.y<=p.y;return P&&$},overlaps:function(a){a=me(a);var c=this.min,p=this.max,w=a.min,S=a.max,P=S.x>c.x&&w.x<p.x,$=S.y>c.y&&w.y<p.y;return P&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,w=Math.abs(c.x-p.x)*a,S=Math.abs(c.y-p.y)*a;return me(z(c.x-w,c.y-S),z(p.x+w,p.y+S))},equals:function(a){return a?(a=me(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function me(a,c){return!a||a instanceof W?a:new W(a,c)}function oe(a,c){if(a)for(var p=c?[a,c]:a,w=0,S=p.length;w<S;w++)this.extend(p[w])}oe.prototype={extend:function(a){var c=this._southWest,p=this._northEast,w,S;if(a instanceof Pe)w=a,S=a;else if(a instanceof oe){if(w=a._southWest,S=a._northEast,!w||!S)return this}else return a?this.extend(Te(a)||Ne(a)):this;return!c&&!p?(this._southWest=new Pe(w.lat,w.lng),this._northEast=new Pe(S.lat,S.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,w=Math.abs(c.lat-p.lat)*a,S=Math.abs(c.lng-p.lng)*a;return new oe(new Pe(c.lat-w,c.lng-S),new Pe(p.lat+w,p.lng+S))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Pe||"lat"in a?a=Te(a):a=Ne(a);var c=this._southWest,p=this._northEast,w,S;return a instanceof oe?(w=a.getSouthWest(),S=a.getNorthEast()):w=S=a,w.lat>=c.lat&&S.lat<=p.lat&&w.lng>=c.lng&&S.lng<=p.lng},intersects:function(a){a=Ne(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=c.lat&&w.lat<=p.lat,$=S.lng>=c.lng&&w.lng<=p.lng;return P&&$},overlaps:function(a){a=Ne(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>c.lat&&w.lat<p.lat,$=S.lng>c.lng&&w.lng<p.lng;return P&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Ne(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(a,c){return a instanceof oe?a:new oe(a,c)}function Pe(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Pe.prototype={equals:function(a,c){if(!a)return!1;a=Te(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+A(this.lat,a)+", "+A(this.lng,a)+")"},distanceTo:function(a){return Qe.distance(this,Te(a))},wrap:function(){return Qe.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function Te(a,c,p){return a instanceof Pe?a:Q(a)&&typeof a[0]!="object"?a.length===3?new Pe(a[0],a[1],a[2]):a.length===2?new Pe(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Pe(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Pe(a,c,p)}var ht={latLngToPoint:function(a,c){var p=this.projection.project(a),w=this.scale(c);return this.transformation._transform(p,w)},pointToLatLng:function(a,c){var p=this.scale(c),w=this.transformation.untransform(a,p);return this.projection.unproject(w)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),w=this.transformation.transform(c.min,p),S=this.transformation.transform(c.max,p);return new W(w,S)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?b(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?b(a.lat,this.wrapLat,!0):a.lat,w=a.alt;return new Pe(p,c,w)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),w=c.lat-p.lat,S=c.lng-p.lng;if(w===0&&S===0)return a;var P=a.getSouthWest(),$=a.getNorthEast(),ie=new Pe(P.lat-w,P.lng-S),he=new Pe($.lat-w,$.lng-S);return new oe(ie,he)}},Qe=o({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,w=a.lat*p,S=c.lat*p,P=Math.sin((c.lat-a.lat)*p/2),$=Math.sin((c.lng-a.lng)*p/2),ie=P*P+Math.cos(w)*Math.cos(S)*$*$,he=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*he}}),qt=6378137,Gt={R:qt,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,a.lat),-p),S=Math.sin(w*c);return new pe(this.R*a.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var c=180/Math.PI;return new Pe((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=qt*Math.PI;return new W([-a,-a],[a,a])})()};function Pt(a,c,p,w){if(Q(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=w}Pt.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new pe((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Wt(a,c,p,w){return new Pt(a,c,p,w)}var Yt=o({},Qe,{code:"EPSG:3857",projection:Gt,transformation:(function(){var a=.5/(Math.PI*Gt.R);return Wt(a,.5,-a,.5)})()}),Mr=o({},Yt,{code:"EPSG:900913"});function Dr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function us(a,c){var p="",w,S,P,$,ie,he;for(w=0,P=a.length;w<P;w++){for(ie=a[w],S=0,$=ie.length;S<$;S++)he=ie[S],p+=(S?"L":"M")+he.x+" "+he.y;p+=c?Fe.svg?"z":"x":""}return p||"M0 0"}var jn=document.documentElement.style,ji="ActiveXObject"in window,Fs=ji&&!document.addEventListener,ur="msLaunchUri"in navigator&&!("documentMode"in document),bi=li("webkit"),Lr=li("android"),Fi=li("android 2")||li("android 3"),Hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Re=Lr&&li("Google")&&Hs<537&&!("AudioNode"in window),te=!!window.opera,ye=!ur&&li("chrome"),Ce=li("gecko")&&!bi&&!te&&!ji,He=!ye&&li("safari"),at=li("phantom"),yt="OTransition"in jn,de=navigator.platform.indexOf("Win")===0,be=ji&&"transition"in jn,ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fi,Oe="MozPerspective"in jn,Le=!window.L_DISABLE_3D&&(be||ke||Oe)&&!yt&&!at,We=typeof orientation<"u"||li("mobile"),It=We&&bi,Ot=We&&ke,Tt=!window.PointerEvent&&window.MSPointerEvent,Mt=!!(window.PointerEvent||Tt),Ct="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(Ct||Mt),Ln=We&&te,wi=We&&Ce,Ti=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kr=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,c),window.removeEventListener("testPassiveEventSupport",x,c)}catch{}return a})(),Hi=(function(){return!!document.createElement("canvas").getContext})(),Pa=!!(document.createElementNS&&Dr("svg").createSVGRect),Xt=!!Pa&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),vn=!Pa&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),pn=navigator.platform.indexOf("Mac")===0,Oi=navigator.platform.indexOf("Linux")===0;function li(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Fe={ie:ji,ielt9:Fs,edge:ur,webkit:bi,android:Lr,android23:Fi,androidStock:Re,opera:te,chrome:ye,gecko:Ce,safari:He,phantom:at,opera12:yt,win:de,ie3d:be,webkit3d:ke,gecko3d:Oe,any3d:Le,mobile:We,mobileWebkit:It,mobileWebkit3d:Ot,msPointer:Tt,pointer:Mt,touch:sn,touchNative:Ct,mobileOpera:Ln,mobileGecko:wi,retina:Ti,passiveEvents:kr,canvas:Hi,svg:Pa,vml:vn,inlineSvg:Xt,mac:pn,linux:Oi},Vr=Fe.msPointer?"MSPointerDown":"pointerdown",Wo=Fe.msPointer?"MSPointerMove":"pointermove",cs=Fe.msPointer?"MSPointerUp":"pointerup",Ur=Fe.msPointer?"MSPointerCancel":"pointercancel",qi={touchstart:Vr,touchmove:Wo,touchend:cs,touchcancel:Ur},Gi={touchstart:Gs,touchmove:qs,touchend:qs,touchcancel:qs},Xn={},Fn=!1;function un(a,c,p){return c==="touchstart"&&Zl(),Gi[c]?(p=Gi[c].bind(this,p),a.addEventListener(qi[c],p,!1),p):(console.warn("wrong event specified:",c),x)}function Yo(a,c,p){if(!qi[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(qi[c],p,!1)}function Ia(a){Xn[a.pointerId]=a}function $i(a){Xn[a.pointerId]&&(Xn[a.pointerId]=a)}function cr(a){delete Xn[a.pointerId]}function Zl(){Fn||(document.addEventListener(Vr,Ia,!0),document.addEventListener(Wo,$i,!0),document.addEventListener(cs,cr,!0),document.addEventListener(Ur,cr,!0),Fn=!0)}function qs(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Xn)c.touches.push(Xn[p]);c.changedTouches=[c],a(c)}}function Gs(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Bt(c),qs(a,c)}function Kl(a){var c={},p,w;for(w in a)p=a[w],c[w]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var hs=200;function hr(a,c){a.addEventListener("dblclick",c);var p=0,w;function S(P){if(P.detail!==1){w=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var $=Da(P);if(!($.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!$.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var ie=Date.now();ie-p<=hs?(w++,w===2&&c(Kl(P))):w=1,p=ie}}}return a.addEventListener("click",S),{dblclick:c,simDblclick:S}}function kn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var zr=Zi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fs=Zi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fr=fs==="webkitTransition"||fs==="OTransition"?fs+"End":"transitionend";function $s(a){return typeof a=="string"?document.getElementById(a):a}function dr(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(a,null);p=w?w[c]:null}return p==="auto"?null:p}function dt(a,c,p){var w=document.createElement(a);return w.className=c||"",p&&p.appendChild(w),w}function Dt(a){var c=a.parentNode;c&&c.removeChild(a)}function An(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function mr(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ds(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function ms(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=nn(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function st(a,c){if(a.classList!==void 0)for(var p=V(c),w=0,S=p.length;w<S;w++)a.classList.add(p[w]);else if(!ms(a,c)){var P=nn(a);Xo(a,(P?P+" ":"")+c)}}function Vt(a,c){a.classList!==void 0?a.classList.remove(c):Xo(a,O((" "+nn(a)+" ").replace(" "+c+" "," ")))}function Xo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function nn(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Qt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Zs(a,c)}function Zs(a,c){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+w+"(opacity="+c+")"}function Zi(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Qn(a,c,p){var w=c||new pe(0,0);a.style[zr]=(Fe.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function Je(a,c){a._leaflet_pos=c,Fe.any3d?Qn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function xi(a){return a._leaflet_pos||new pe(0,0)}var Hn,Ki,Oa;if("onselectstart"in document)Hn=function(){Ke(window,"selectstart",Bt)},Ki=function(){xt(window,"selectstart",Bt)};else{var Br=Zi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Hn=function(){if(Br){var a=document.documentElement.style;Oa=a[Br],a[Br]="none"}},Ki=function(){Br&&(document.documentElement.style[Br]=Oa,Oa=void 0)}}function Ks(){Ke(window,"dragstart",Bt)}function Qo(){xt(window,"dragstart",Bt)}var Ma,ps;function Wi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Jn(),Ma=a,ps=a.style.outlineStyle,a.style.outlineStyle="none",Ke(window,"keydown",Jn))}function Jn(){Ma&&(Ma.style.outlineStyle=ps,Ma=void 0,ps=void 0,xt(window,"keydown",Jn))}function pr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Yi(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Jo={__proto__:null,TRANSFORM:zr,TRANSITION:fs,TRANSITION_END:fr,get:$s,getStyle:dr,create:dt,remove:Dt,empty:An,toFront:mr,toBack:ds,hasClass:ms,addClass:st,removeClass:Vt,setClass:Xo,getClass:nn,setOpacity:Qt,testProp:Zi,setTransform:Qn,setPosition:Je,getPosition:xi,get disableTextSelection(){return Hn},get enableTextSelection(){return Ki},disableImageDrag:Ks,enableImageDrag:Qo,preventOutline:Wi,restoreOutline:Jn,getSizedParentNode:pr,getScale:Yi};function Ke(a,c,p,w){if(c&&typeof c=="object")for(var S in c)jr(a,S,c[S],p);else{c=V(c);for(var P=0,$=c.length;P<$;P++)jr(a,c[P],p,w)}return this}var Si="_leaflet_events";function xt(a,c,p,w){if(arguments.length===1)Mi(a),delete a[Si];else if(c&&typeof c=="object")for(var S in c)Di(a,S,c[S],p);else if(c=V(c),arguments.length===2)Mi(a,function(ie){return _e(c,ie)!==-1});else for(var P=0,$=c.length;P<$;P++)Di(a,c[P],p,w);return this}function Mi(a,c){for(var p in a[Si]){var w=p.split(/\d/)[0];(!c||c(w))&&Di(a,w,null,null,p)}}var ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jr(a,c,p,w){var S=c+y(p)+(w?"_"+y(w):"");if(a[Si]&&a[Si][S])return this;var P=function(ie){return p.call(w||a,ie||window.event)},$=P;!Fe.touchNative&&Fe.pointer&&c.indexOf("touch")===0?P=un(a,c,P):Fe.touch&&c==="dblclick"?P=hr(a,P):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(ui[c]||c,P,Fe.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(P=function(ie){ie=ie||window.event,Hr(a,ie)&&$(ie)},a.addEventListener(ui[c],P,!1)):a.addEventListener(c,$,!1):a.attachEvent("on"+c,P),a[Si]=a[Si]||{},a[Si][S]=P}function Di(a,c,p,w,S){S=S||c+y(p)+(w?"_"+y(w):"");var P=a[Si]&&a[Si][S];if(!P)return this;!Fe.touchNative&&Fe.pointer&&c.indexOf("touch")===0?Yo(a,c,P):Fe.touch&&c==="dblclick"?kn(a,P):"removeEventListener"in a?a.removeEventListener(ui[c]||c,P,!1):a.detachEvent("on"+c,P),a[Si][S]=null}function ci(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Xi(a){return jr(a,"wheel",ci),this}function Fr(a){return Ke(a,"mousedown touchstart dblclick contextmenu",ci),a._leaflet_disable_click=!0,this}function Bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function qn(a){return Bt(a),ci(a),this}function Da(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function En(a,c){if(!c)return new pe(a.clientX,a.clientY);var p=Yi(c),w=p.boundingClientRect;return new pe((a.clientX-w.left)/p.x-c.clientLeft,(a.clientY-w.top)/p.y-c.clientTop)}var Rt=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ws(a){return Fe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Rt:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Hr(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Wl={__proto__:null,on:Ke,off:xt,stopPropagation:ci,disableScrollPropagation:Xi,disableClickPropagation:Fr,preventDefault:Bt,stop:qn,getPropagationPath:Da,getMousePosition:En,getWheelDelta:Ws,isExternalTarget:Hr,addListener:Ke,removeListener:xt},Ys=ge.extend({run:function(a,c,p,w){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=xi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Je(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ut=ge.extend({options:{crs:Yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=U(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Te(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fs&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,fr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(Te(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var w=this.getZoomScale(c),S=this.getSize().divideBy(2),P=a instanceof pe?a:this.latLngToContainerPoint(a),$=P.subtract(S).multiplyBy(1-1/w),ie=this.containerPointToLatLng(S.add($));return this.setView(ie,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Ne(a);var p=z(c.paddingTopLeft||c.padding||[0,0]),w=z(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(w));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=w.subtract(p).divideBy(2),$=this.project(a.getSouthWest(),S),ie=this.project(a.getNorthEast(),S),he=this.unproject($.add(ie).divideBy(2).add(P),S);return{center:he,zoom:S}},fitBounds:function(a,c){if(a=Ne(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=z(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){st(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Fe.any3d)return this.setView(a,c,p);this._stop();var w=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),$=this._zoom;a=Te(a),c=c===void 0?$:c;var ie=Math.max(P.x,P.y),he=ie*this.getZoomScale($,c),Ae=S.distanceTo(w)||1,De=1.42,ze=De*De;function je(an){var wr=an?-1:1,Wr=an?he:ie,bs=he*he-ie*ie+wr*ze*ze*Ae*Ae,Yr=2*Wr*ze*Ae,ml=bs/Yr,lu=Math.sqrt(ml*ml+1)-ml,pl=lu<1e-9?-18:Math.log(lu);return pl}function rt(an){return(Math.exp(an)-Math.exp(-an))/2}function en(an){return(Math.exp(an)+Math.exp(-an))/2}function cn(an){return rt(an)/en(an)}var $n=je(0);function Li(an){return ie*(en($n)/en($n+De*an))}function hf(an){return ie*(en($n)*cn($n+De*an)-rt($n))/ze}function ff(an){return 1-Math.pow(1-an,1.5)}var dl=Date.now(),Xa=(je(1)-$n)/De,df=p.duration?1e3*p.duration:1e3*Xa*.8;function Qa(){var an=(Date.now()-dl)/df,wr=ff(an)*Xa;an<=1?(this._flyToFrame=q(Qa,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(hf(wr)/Ae)),$),this.getScaleZoom(ie/Li(wr),$),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Qa.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=Ne(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,Ne(a));return p.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=z(c.paddingTopLeft||c.padding||[0,0]),w=z(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),$=this.getPixelBounds(),ie=me([$.min.add(p),$.max.subtract(w)]),he=ie.getSize();if(!ie.contains(P)){this._enforcingBounds=!0;var Ae=P.subtract(ie.getCenter()),De=ie.extend(P).getSize().subtract(he);S.x+=Ae.x<0?-De.x:De.x,S.y+=Ae.y<0?-De.y:De.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=c.divideBy(2).round(),S=p.divideBy(2).round(),P=w.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,w=new Pe(c,p),S=w.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var $=this.getBoundsZoom(S);this.setView(w,P.maxZoom?Math.min($,P.maxZoom):$)}var ie={latlng:w,bounds:S,timestamp:a.timestamp};for(var he in a.coords)typeof a.coords[he]=="number"&&(ie[he]=a.coords[he]);this.fire("locationfound",ie)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Dt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),w=dt("div",p,c||this._mapPane);return a&&(this._panes[a]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new oe(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=Ne(a),p=z(p||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),$=a.getNorthWest(),ie=a.getSouthEast(),he=this.getSize().subtract(p),Ae=me(this.project(ie,w),this.project($,w)).getSize(),De=Fe.any3d?this.options.zoomSnap:1,ze=he.x/Ae.x,je=he.y/Ae.y,rt=c?Math.max(ze,je):Math.min(ze,je);return w=this.getScaleZoom(rt,w),De&&(w=Math.round(w/(De/100))*(De/100),w=c?Math.ceil(w/De)*De:Math.floor(w/De)*De),Math.max(S,Math.min(P,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new W(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var w=p.zoom(a*p.scale(c));return isNaN(w)?1/0:w},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Te(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(z(a),c)},layerPointToLatLng:function(a){var c=z(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(Te(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Te(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ne(a))},distance:function(a,c){return this.options.crs.distance(Te(a),Te(c))},containerPointToLayerPoint:function(a){return z(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return z(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(z(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(a)))},mouseEventToContainerPoint:function(a){return En(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=$s(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,st(a,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=dr(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Je(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(st(a.markerPane,"leaflet-zoom-hide"),st(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Je(this._mapPane,new pe(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,p)._move(a,c)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,w){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),w?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Je(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?xt:Ke;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],w,S=c==="mouseout"||c==="mouseover",P=a.target||a.srcElement,$=!1;P;){if(w=this._targets[y(P)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){$=!0;break}if(w&&w.listens(c,!0)&&(S&&!Hr(P,a)||(p.push(w),S))||P===this._container)break;P=P.parentNode}return!p.length&&!$&&!S&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Wi(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var w=o({},a);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var S=this._findEventTargets(a,c);if(p){for(var P=[],$=0;$<p.length;$++)p[$].listens(c,!0)&&P.push(p[$]);S=P.concat(S)}if(S.length){c==="contextmenu"&&Bt(a);var ie=S[0],he={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ae=ie.getLatLng&&(!ie._radius||ie._radius<=10);he.containerPoint=Ae?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(a),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=Ae?ie.getLatLng():this.layerPointToLatLng(he.layerPoint)}for($=0;$<S.length;$++)if(S[$].fire(c,he,!0),he.originalEvent._stopped||S[$].options.bubblingMouseEvents===!1&&_e(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return xi(this._mapPane)||new pe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return me([this.project(a.getSouthWest(),c)._subtract(w),this.project(a.getNorthWest(),c)._subtract(w),this.project(a.getSouthEast(),c)._subtract(w),this.project(a.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var w=this.project(a,c),S=this.getSize().divideBy(2),P=new W(w.subtract(S),w.add(S)),$=this._getBoundsOffset(P,p,c);return Math.abs($.x)<=1&&Math.abs($.y)<=1?a:this.unproject(w.add($),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),w=new W(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(a,c,p){var w=me(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),S=w.min.subtract(a.min),P=w.max.subtract(a.max),$=this._rebound(S.x,-P.x),ie=this._rebound(S.y,-P.y);return new pe($,ie)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),w=Fe.any3d?this.options.zoomSnap:1;return w&&(a=Math.round(a/w)*w),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=zr,w=this._proxy.style[p];Qn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Qn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),S=this._getCenterOffset(a)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(S)?!1:(q(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,st(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gr(a,c){return new ut(a,c)}var Vn=Ze.extend({options:{position:"topright"},initialize:function(a){U(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),w=a._controlCorners[p];return st(c,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Gn=function(a){return new Vn(a)};ut.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=dt("div",c+"control-container",this._container);function w(S,P){var $=c+S+" "+c+P;a[S+P]=dt("div",$,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Dt(this._controlCorners[a]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var el=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,w){return p<w?-1:w<p?1:0}},initialize:function(a,c,p){U(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in a)this._addLayer(a[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){st(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(st(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=dt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Fr(c),Xi(c);var w=this._section=dt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ke(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=dt("a",a+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ke(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Bt(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=dt("div",a+"-base",w),this._separator=dt("div",a+"-separator",w),this._overlaysList=dt("div",a+"-overlays",w),c.appendChild(w)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;An(this._baseLayersList),An(this._overlaysList),this._layerControlInputs=[];var a,c,p,w,S=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),c=c||w.overlay,a=a||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),w;a.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(w),w.layerId=y(a.layer),Ke(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");c.appendChild(P),P.appendChild(w),P.appendChild(S);var $=a.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,w=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)c=a[P],p=this._getLayer(c.layerId).layer,c.checked?w.push(p):c.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])||this._map.addLayer(w[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,w=this._map.getZoom(),S=a.length-1;S>=0;S--)c=a[S],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ke(a,"click",Bt),this.expand();var c=this;setTimeout(function(){xt(a,"click",Bt),c._preventClick=!1})}}),fc=function(a,c,p){return new el(a,c,p)},qr=Vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=dt("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,w,S){var P=dt("a",p,w);return P.innerHTML=a,P.href="#",P.title=c,P.setAttribute("role","button"),P.setAttribute("aria-label",c),Fr(P),Ke(P,"click",qn),Ke(P,"click",S,this),Ke(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Vt(this._zoomInButton,c),Vt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(st(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(st(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qr,this.addControl(this.zoomControl))});var La=function(a){return new qr(a)},ka=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=dt("div",c),w=this.options;return this._addScales(w,c+"-line",p),a.on(w.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=dt("div",c,p)),a.imperial&&(this._iScale=dt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,w,S;c>5280?(p=c/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Va=function(a){return new ka(a)},Yl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gs=Vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?Yl+" ":"")+"Leaflet</a>"},initialize:function(a){U(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),Fr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new gs().addTo(this)});var dc=function(a){return new gs(a)};Vn.Layers=el,Vn.Zoom=qr,Vn.Scale=ka,Vn.Attribution=gs,Gn.layers=fc,Gn.zoom=La,Gn.scale=Va,Gn.attribution=dc;var hi=Ze.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(a,c){return a.addHandler(c,this),this};var Xs={Events:re},tl=Fe.touch?"touchstart mousedown":"mousedown",Qi=ge.extend({options:{clickTolerance:3},initialize:function(a,c,p,w){U(this,w),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Ke(this._dragStartTarget,tl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qi._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,tl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ms(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Qi._dragging===this&&this.finishDrag();return}if(!(Qi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Qi._dragging=this,this._preventOutline&&Wi(this._element),Ks(),Hn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=pr(this._element);this._startPoint=new pe(c.clientX,c.clientY),this._startPos=xi(this._element),this._parentScale=Yi(p);var w=a.type==="mousedown";Ke(document,w?"mousemove":"touchmove",this._onMove,this),Ke(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new pe(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,st(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),st(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Je(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),Qo(),Ki();var c=this._moved&&this._moving;this._moving=!1,Qi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(a,c,p){var w,S=[1,4,2,8],P,$,ie,he,Ae,De,ze,je;for(P=0,De=a.length;P<De;P++)a[P]._code=yr(a[P],c);for(ie=0;ie<4;ie++){for(ze=S[ie],w=[],P=0,De=a.length,$=De-1;P<De;$=P++)he=a[P],Ae=a[$],he._code&ze?Ae._code&ze||(je=Cn(Ae,he,ze,c,p),je._code=yr(je,c),w.push(je)):(Ae._code&ze&&(je=Cn(Ae,he,ze,c,p),je._code=yr(je,c),w.push(je)),w.push(he));a=w}return a}function ys(a,c){var p,w,S,P,$,ie,he,Ae,De;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ze=Te([0,0]),je=Ne(a),rt=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());rt<1700&&(ze=za(a));var en=a.length,cn=[];for(p=0;p<en;p++){var $n=Te(a[p]);cn.push(c.project(Te([$n.lat-ze.lat,$n.lng-ze.lng])))}for(ie=he=Ae=0,p=0,w=en-1;p<en;w=p++)S=cn[p],P=cn[w],$=S.y*P.x-P.y*S.x,he+=(S.x+P.x)*$,Ae+=(S.y+P.y)*$,ie+=$*3;ie===0?De=cn[0]:De=[he/ie,Ae/ie];var Li=c.unproject(z(De));return Te([Li.lat+ze.lat,Li.lng+ze.lng])}function za(a){for(var c=0,p=0,w=0,S=0;S<a.length;S++){var P=Te(a[S]);c+=P.lat,p+=P.lng,w++}return Te([c/w,p/w])}var Ba={__proto__:null,clipPolygon:Ua,polygonCenter:ys,centroid:za};function nl(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Ql(a,p),a=Xl(a,p),a}function ja(a,c,p){return Math.sqrt(fi(a,c,p,!0))}function Gr(a,c,p){return fi(a,c,p)}function Xl(a,c){var p=a.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(p);S[0]=S[p-1]=1,Fa(a,S,c,0,p-1);var P,$=[];for(P=0;P<p;P++)S[P]&&$.push(a[P]);return $}function Fa(a,c,p,w,S){var P=0,$,ie,he;for(ie=w+1;ie<=S-1;ie++)he=fi(a[ie],a[w],a[S],!0),he>P&&($=ie,P=he);P>p&&(c[$]=1,Fa(a,c,p,w,$),Fa(a,c,p,$,S))}function Ql(a,c){for(var p=[a[0]],w=1,S=0,P=a.length;w<P;w++)Jl(a[w],a[S])>c&&(p.push(a[w]),S=w);return S<P-1&&p.push(a[P-1]),p}var il;function Qs(a,c,p,w,S){var P=w?il:yr(a,p),$=yr(c,p),ie,he,Ae;for(il=$;;){if(!(P|$))return[a,c];if(P&$)return!1;ie=P||$,he=Cn(a,c,ie,p,S),Ae=yr(he,p),ie===P?(a=he,P=Ae):(c=he,$=Ae)}}function Cn(a,c,p,w,S){var P=c.x-a.x,$=c.y-a.y,ie=w.min,he=w.max,Ae,De;return p&8?(Ae=a.x+P*(he.y-a.y)/$,De=he.y):p&4?(Ae=a.x+P*(ie.y-a.y)/$,De=ie.y):p&2?(Ae=he.x,De=a.y+$*(he.x-a.x)/P):p&1&&(Ae=ie.x,De=a.y+$*(ie.x-a.x)/P),new pe(Ae,De,S)}function yr(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Jl(a,c){var p=c.x-a.x,w=c.y-a.y;return p*p+w*w}function fi(a,c,p,w){var S=c.x,P=c.y,$=p.x-S,ie=p.y-P,he=$*$+ie*ie,Ae;return he>0&&(Ae=((a.x-S)*$+(a.y-P)*ie)/he,Ae>1?(S=p.x,P=p.y):Ae>0&&(S+=$*Ae,P+=ie*Ae)),$=a.x-S,ie=a.y-P,w?$*$+ie*ie:new pe(S,P)}function d(a){return!Q(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function T(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function C(a,c){var p,w,S,P,$,ie,he,Ae;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var De=Te([0,0]),ze=Ne(a),je=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());je<1700&&(De=za(a));var rt=a.length,en=[];for(p=0;p<rt;p++){var cn=Te(a[p]);en.push(c.project(Te([cn.lat-De.lat,cn.lng-De.lng])))}for(p=0,w=0;p<rt-1;p++)w+=en[p].distanceTo(en[p+1])/2;if(w===0)Ae=en[0];else for(p=0,P=0;p<rt-1;p++)if($=en[p],ie=en[p+1],S=$.distanceTo(ie),P+=S,P>w){he=(P-w)/S,Ae=[ie.x-he*(ie.x-$.x),ie.y-he*(ie.y-$.y)];break}var $n=c.unproject(z(Ae));return Te([$n.lat+De.lat,$n.lng+De.lng])}var D={__proto__:null,simplify:nl,pointToSegmentDistance:ja,closestPointOnSegment:Gr,clipSegment:Qs,_getEdgeIntersection:Cn,_getBitCode:yr,_sqClosestPointOnSegment:fi,isFlat:d,_flat:T,polylineCenter:C},ne={project:function(a){return new pe(a.lng,a.lat)},unproject:function(a){return new Pe(a.y,a.x)},bounds:new W([-180,-90],[180,90])},fe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,w=a.lat*c,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),$=P*Math.sin(w),ie=Math.tan(Math.PI/4-w/2)/Math.pow((1-$)/(1+$),P/2);return w=-p*Math.log(Math.max(ie,1e-10)),new pe(a.lng*c*p,w)},unproject:function(a){for(var c=180/Math.PI,p=this.R,w=this.R_MINOR/p,S=Math.sqrt(1-w*w),P=Math.exp(-a.y/p),$=Math.PI/2-2*Math.atan(P),ie=0,he=.1,Ae;ie<15&&Math.abs(he)>1e-7;ie++)Ae=S*Math.sin($),Ae=Math.pow((1-Ae)/(1+Ae),S/2),he=Math.PI/2-2*Math.atan(P*Ae)-$,$+=he;return new Pe($*c,a.x*c/p)}},Ie={__proto__:null,LonLat:ne,Mercator:fe,SphericalMercator:Gt},_t=o({},Qe,{code:"EPSG:3395",projection:fe,transformation:(function(){var a=.5/(Math.PI*fe.R);return Wt(a,.5,-a,.5)})()}),gn=o({},Qe,{code:"EPSG:4326",projection:ne,transformation:Wt(1/180,1,-1/180,.5)}),vt=o({},ht,{projection:ne,transformation:Wt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,w=c.lat-a.lat;return Math.sqrt(p*p+w*w)},infinite:!0});ht.Earth=Qe,ht.EPSG3395=_t,ht.EPSG3857=Yt,ht.EPSG900913=Mr,ht.EPSG4326=gn,ht.Simple=vt;var Lt=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?Q(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jt=Lt.extend({initialize:function(a,c){U(this,c),this._layers={};var p,w;if(a)for(p=0,w=a.length;p<w;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[a]&&w[a].apply(w,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),$r=function(a,c){return new Jt(a,c)},$t=Jt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Jt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Jt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new oe;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),_r=function(a,c){return new $t(a,c)},vr=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){U(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(a,c){var p=this.options,w=p[c+"Size"];typeof w=="number"&&(w=[w,w]);var S=z(w),P=z(c==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Fe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function eu(a){return new vr(a)}var Ha=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ha.imagePath!="string"&&(Ha.imagePath=this._detectIconPath()),(this.options.imagePath||Ha.imagePath)+vr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,w,S){var P=w.exec(p);return P&&P[S]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=dt("div","leaflet-default-icon-path",document.body),c=dr(a,"background-image")||dr(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),mc=hi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Qi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),st(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=xi(c._icon),$=p.getPixelBounds(),ie=p.getPixelOrigin(),he=me($.min._subtract(ie).add(S),$.max._subtract(ie).subtract(S));if(!he.contains(P)){var Ae=z((Math.max(he.max.x,P.x)-he.max.x)/($.max.x-he.max.x)-(Math.min(he.min.x,P.x)-he.min.x)/($.min.x-he.min.x),(Math.max(he.max.y,P.y)-he.max.y)/($.max.y-he.max.y)-(Math.min(he.min.y,P.y)-he.min.y)/($.min.y-he.min.y)).multiplyBy(w);p.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Je(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=q(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,w=xi(c._icon),S=c._map.layerPointToLatLng(w);p&&Je(p,w),c._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),qa=Lt.extend({options:{icon:new Ha,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){U(this,c),this._latlng=Te(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),st(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(st(S,c),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Je(this._icon,a),this._shadow&&Je(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(st(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Qt(this._icon,a),this._shadow&&Qt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?z(c.iconSize):z(0,0),w=c.iconAnchor?z(c.iconAnchor):z(0,0);a.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pc(a,c){return new qa(a,c)}var Zr=Lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return U(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=Zr.extend({options:{fill:!0,radius:10},initialize:function(a,c){U(this,c),this._latlng=Te(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Zr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),w=[a+p,c+p];this._pxBounds=new W(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sf(a,c){return new rl(a,c)}var gc=rl.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),U(this,c),this._latlng=Te(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Zr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===Qe.distance){var S=Math.PI/180,P=this._mRadius/Qe.R/S,$=p.project([c+P,a]),ie=p.project([c-P,a]),he=$.add(ie).divideBy(2),Ae=p.unproject(he).lat,De=Math.acos((Math.cos(P*S)-Math.sin(c*S)*Math.sin(Ae*S))/(Math.cos(c*S)*Math.cos(Ae*S)))/S;(isNaN(De)||De===0)&&(De=P/Math.cos(Math.PI/180*c)),this._point=he.subtract(p.getPixelOrigin()),this._radius=isNaN(De)?0:he.x-p.project([Ae,a-De]).x,this._radiusY=he.y-$.y}else{var ze=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(ze).x}this._updateBounds()}});function jm(a,c,p){return new gc(a,c,p)}var Kr=Zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){U(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,w=fi,S,P,$=0,ie=this._parts.length;$<ie;$++)for(var he=this._parts[$],Ae=1,De=he.length;Ae<De;Ae++){S=he[Ae-1],P=he[Ae];var ze=w(a,S,P,!0);ze<c&&(c=ze,p=w(a,S,P))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=Te(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new oe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=d(a),w=0,S=a.length;w<S;w++)p?(c[w]=Te(a[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(a[w]);return c},_project:function(){var a=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new pe(a,a);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var w=a[0]instanceof Pe,S=a.length,P,$;if(w){for($=[],P=0;P<S;P++)$[P]=this._map.latLngToLayerPoint(a[P]),p.extend($[P]);c.push($)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,w,S,P,$,ie,he;for(p=0,S=0,P=this._rings.length;p<P;p++)for(he=this._rings[p],w=0,$=he.length;w<$-1;w++)ie=Qs(he[w],he[w+1],a,w,!0),ie&&(c[S]=c[S]||[],c[S].push(ie[0]),(ie[1]!==he[w+1]||w===$-2)&&(c[S].push(ie[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,w=a.length;p<w;p++)a[p]=nl(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,w,S,P,$,ie,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,P=this._parts.length;p<P;p++)for(ie=this._parts[p],w=0,$=ie.length,S=$-1;w<$;S=w++)if(!(!c&&w===0)&&ja(a,ie[S],ie[w])<=he)return!0;return!1}});function Fm(a,c){return new Kr(a,c)}Kr._flat=T;var Ga=Kr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ys(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Kr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Pe&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Kr.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new pe(c,c);if(a=new W(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,P;w<S;w++)P=Ua(this._rings[w],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,w,S,P,$,ie,he,Ae;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,he=this._parts.length;P<he;P++)for(p=this._parts[P],$=0,Ae=p.length,ie=Ae-1;$<Ae;ie=$++)w=p[$],S=p[ie],w.y>a.y!=S.y>a.y&&a.x<(S.x-w.x)*(a.y-w.y)/(S.y-w.y)+w.x&&(c=!c);return c||Kr.prototype._containsPoint.call(this,a,!0)}});function Ai(a,c){return new Ga(a,c)}var Ci=$t.extend({initialize:function(a,c){U(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=Q(a)?a:a.features,p,w,S;if(c){for(p=0,w=c.length;p<w;p++)S=c[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var $=sl(a,P);return $?($.feature=$a(a),$.defaultOptions=$.options,this.resetStyle($),P.onEachFeature&&P.onEachFeature(a,$),this.addLayer($)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function sl(a,c){var p=a.type==="Feature"?a.geometry:a,w=p?p.coordinates:null,S=[],P=c&&c.pointToLayer,$=c&&c.coordsToLatLng||tu,ie,he,Ae,De;if(!w&&!p)return null;switch(p.type){case"Point":return ie=$(w),yc(P,a,ie,c);case"MultiPoint":for(Ae=0,De=w.length;Ae<De;Ae++)ie=$(w[Ae]),S.push(yc(P,a,ie,c));return new $t(S);case"LineString":case"MultiLineString":return he=al(w,p.type==="LineString"?0:1,$),new Kr(he,c);case"Polygon":case"MultiPolygon":return he=al(w,p.type==="Polygon"?1:2,$),new Ga(he,c);case"GeometryCollection":for(Ae=0,De=p.geometries.length;Ae<De;Ae++){var ze=sl({geometry:p.geometries[Ae],type:"Feature",properties:a.properties},c);ze&&S.push(ze)}return new $t(S);case"FeatureCollection":for(Ae=0,De=p.features.length;Ae<De;Ae++){var je=sl(p.features[Ae],c);je&&S.push(je)}return new $t(S);default:throw new Error("Invalid GeoJSON object.")}}function yc(a,c,p,w){return a?a(c,p):new qa(p,w&&w.markersInheritOptions&&w)}function tu(a){return new Pe(a[1],a[0],a[2])}function al(a,c,p){for(var w=[],S=0,P=a.length,$;S<P;S++)$=c?al(a[S],c-1,p):(p||tu)(a[S]),w.push($);return w}function ol(a,c){return a=Te(a),a.alt!==void 0?[A(a.lng,c),A(a.lat,c),A(a.alt,c)]:[A(a.lng,c),A(a.lat,c)]}function nu(a,c,p,w){for(var S=[],P=0,$=a.length;P<$;P++)S.push(c?nu(a[P],d(a[P])?0:c-1,p,w):ol(a[P],w));return!c&&p&&S.length>0&&S.push(S[0].slice()),S}function Ji(a,c){return a.feature?o({},a.feature,{geometry:c}):$a(c)}function $a(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Js={toGeoJSON:function(a){return Ji(this,{type:"Point",coordinates:ol(this.getLatLng(),a)})}};qa.include(Js),gc.include(Js),rl.include(Js),Kr.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=nu(this._latlngs,c?1:0,!1,a);return Ji(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Ga.include({toGeoJSON:function(a){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),w=nu(this._latlngs,p?2:c?1:0,!0,a);return c||(w=[w]),Ji(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),Jt.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Ji(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(p)w.push(P.geometry);else{var $=$a(P);$.type==="FeatureCollection"?w.push.apply(w,$.features):w.push($)}}}),p?Ji(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function iu(a,c){return new Ci(a,c)}var af=iu,Er=Lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=Ne(c),U(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(st(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&mr(this._image),this},bringToBack:function(){return this._map&&ds(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ne(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:dt("img");if(st(c,"leaflet-image-layer"),this._zoomAnimated&&st(c,"leaflet-zoom-animated"),this.options.className&&st(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onload=h(this.fire,this,"load"),c.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Qn(this._image,p,c)},_reset:function(){var a=this._image,c=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Je(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Za=function(a,c,p){return new Er(a,c,p)},ru=Er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:dt("video");if(st(c,"leaflet-image-layer"),this._zoomAnimated&&st(c,"leaflet-zoom-animated"),this.options.className&&st(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onloadeddata=h(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),w=[],S=0;S<p.length;S++)w.push(p[S].src);this._url=p.length>0?w:[c.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var $=dt("source");$.src=this._url[P],c.appendChild($)}}});function of(a,c,p){return new ru(a,c,p)}var _s=Er.extend({_initImage:function(){var a=this._image=this._url;st(a,"leaflet-image-layer"),this._zoomAnimated&&st(a,"leaflet-zoom-animated"),this.options.className&&st(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function lf(a,c,p){return new _s(a,c,p)}var er=Lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Pe||Q(a))?(this._latlng=Te(a),U(this,c)):(U(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(h(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Te(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mr(this._container),this},bringToBack:function(){return this._map&&ds(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof $t){c=null;var p=this._source._layers;for(var w in p)if(p[w]._map){c=p[w];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=z(this.options.offset),p=this._getAnchor();this._zoomAnimated?Je(this._container,a.add(p)):c=c.add(a).add(p);var w=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(a,c,p,w){var S=c;return S instanceof a||(S=new a(w).setContent(c)),p&&S.setLatLng(p),S}}),Lt.include({_initOverlay:function(a,c,p,w){var S=p;return S instanceof a?(U(S,w),S._source=this):(S=c&&!w?c:new a(w,this),S.setContent(p)),S}});var ll=er.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,er.prototype.openOn.call(this,a)},onAdd:function(a){er.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zr||this._source.on("preclick",ci))},onRemove:function(a){er.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zr||this._source.off("preclick",ci))},getEvents:function(){var a=er.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=dt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=dt("div",a+"-content-wrapper",c);if(this._contentNode=dt("div",a+"-content",p),Fr(c),Xi(this._contentNode),Ke(c,"contextmenu",ci),this._tipContainer=dt("div",a+"-tip-container",c),this._tip=dt("div",a+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=dt("a",a+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(w,"click",function(S){Bt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&w>S?(c.height=S+"px",st(a,P)):Vt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Je(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(dr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,w=this._containerWidth,S=new pe(this._containerLeft,-p-this._containerBottom);S._add(xi(this._container));var P=a.layerPointToContainerPoint(S),$=z(this.options.autoPanPadding),ie=z(this.options.autoPanPaddingTopLeft||$),he=z(this.options.autoPanPaddingBottomRight||$),Ae=a.getSize(),De=0,ze=0;P.x+w+he.x>Ae.x&&(De=P.x+w-Ae.x+he.x),P.x-De-ie.x<0&&(De=P.x-ie.x),P.y+p+he.y>Ae.y&&(ze=P.y+p-Ae.y+he.y),P.y-ze-ie.y<0&&(ze=P.y-ie.y),(De||ze)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([De,ze]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hm=function(a,c){return new ll(a,c)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(a,c,p){return this._initOverlay(ll,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Lt.include({bindPopup:function(a,c){return this._popup=this._initOverlay(ll,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){qn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var su=er.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){er.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){er.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=er.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,w=this._map,S=this._container,P=w.latLngToContainerPoint(w.getCenter()),$=w.layerPointToContainerPoint(a),ie=this.options.direction,he=S.offsetWidth,Ae=S.offsetHeight,De=z(this.options.offset),ze=this._getAnchor();ie==="top"?(c=he/2,p=Ae):ie==="bottom"?(c=he/2,p=0):ie==="center"?(c=he/2,p=Ae/2):ie==="right"?(c=0,p=Ae/2):ie==="left"?(c=he,p=Ae/2):$.x<P.x?(ie="right",c=0,p=Ae/2):(ie="left",c=he+(De.x+ze.x)*2,p=Ae/2),a=a.subtract(z(c,p,!0)).add(De).add(ze),Vt(S,"leaflet-tooltip-right"),Vt(S,"leaflet-tooltip-left"),Vt(S,"leaflet-tooltip-top"),Vt(S,"leaflet-tooltip-bottom"),st(S,"leaflet-tooltip-"+ie),Je(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Qt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qm=function(a,c){return new su(a,c)};ut.include({openTooltip:function(a,c,p){return this._initOverlay(su,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Lt.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(su,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ke(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ke(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,w;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),w=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var _c=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(An(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=z(p.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function uf(a){return new _c(a)}vr.Default=Ha;var ea=Lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){U(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Dt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ds(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pe?a:new pe(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),w=0,S=c.length,P;w<S;w++)P=c[w].style.zIndex,c[w]!==this._container&&P&&(p=a(p,+P));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){Qt(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);Qt(S.el,P),P<1?c=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Y(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(Dt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[a],S=this._map;return w||(w=this._levels[a]={},w.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),w.zoom=a,this._setZoomTransform(w,S.getCenter(),S.getZoom()),x(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Dt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,w){var S=Math.floor(a/2),P=Math.floor(c/2),$=p-1,ie=new pe(+S,+P);ie.z=+$;var he=this._tileCoordsToKey(ie),Ae=this._tiles[he];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),$>w?this._retainParent(S,P,$,w):!1)},_retainChildren:function(a,c,p,w){for(var S=2*a;S<2*a+2;S++)for(var P=2*c;P<2*c+2;P++){var $=new pe(S,P);$.z=p+1;var ie=this._tileCoordsToKey($),he=this._tiles[ie];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);p+1<w&&this._retainChildren(S,P,p+1,w)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,w){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var w=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,p)).round();Fe.any3d?Qn(a.el,S,w):Je(a.el,S)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],w).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],w).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],w).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(p,this._tileZoom),S=c.project(a,this._tileZoom).floor(),P=c.getSize().divideBy(w*2);return new W(S.subtract(P),S.add(P))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(w),P=S.getCenter(),$=[],ie=this.options.keepBuffer,he=new W(S.getBottomLeft().subtract([ie,-ie]),S.getTopRight().add([ie,-ie]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var De=this._tiles[Ae].coords;(De.z!==this._tileZoom||!he.contains(new pe(De.x,De.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var ze=S.min.y;ze<=S.max.y;ze++)for(var je=S.min.x;je<=S.max.x;je++){var rt=new pe(je,ze);if(rt.z=this._tileZoom,!!this._isValidTile(rt)){var en=this._tiles[this._tileCoordsToKey(rt)];en?en.current=!0:$.push(rt)}}if($.sort(function($n,Li){return $n.distanceTo(P)-Li.distanceTo(P)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cn=document.createDocumentFragment();for(je=0;je<$.length;je++)this._addTile($[je],cn);this._level.el.appendChild(cn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(a);return Ne(this.options.bounds).overlaps(w)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),w=a.scaleBy(p),S=w.add(p),P=c.unproject(w,a.z),$=c.unproject(S,a.z);return[P,$]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new oe(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new pe(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(Dt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){st(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=x,a.onmousemove=x,Fe.ielt9&&this.options.opacity<1&&Qt(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),w=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&q(h(this._tileReady,this,a,null,S)),Je(S,p),this._tiles[w]={el:S,coords:a,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var w=this._tileCoordsToKey(a);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Qt(p.el,0),Y(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(st(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new pe(this._wrapX?b(a.x,this._wrapX):a.x,this._wrapY?b(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new W(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function tr(a){return new ea(a)}var ta=ea.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=U(this,c),c.detectRetina&&Fe.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Ke(p,"load",h(this._tileOnLoad,this,c,p)),Ke(p,"error",h(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Fe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return G(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Fe.ielt9?setTimeout(h(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(a=c-a),a+w},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=x,c.onerror=x,!c.complete)){c.src=J;var p=this._tiles[a].coords;Dt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",J),ea.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===J))return ea.prototype._tileReady.call(this,a,c,p)}});function Ri(a,c){return new ta(a,c)}var Ni=ta.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var w in c)w in this.options||(p[w]=c[w]);c=U(this,c);var S=c.detectRetina&&Fe.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ta.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,w=me(p.project(c[0]),p.project(c[1])),S=w.min,P=w.max,$=(this._wmsVersion>=1.3&&this._crs===gn?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ie=ta.prototype.getTileUrl.call(this,a);return ie+B(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ka(a,c){return new Ni(a,c)}ta.WMS=Ni,Ri.wms=Ka;var nr=Lt.extend({options:{padding:.1},initialize:function(a){U(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),st(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),P=w.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,c));Fe.any3d?Qn(this._container,P,p):Je(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new W(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ul=nr.extend({options:{tolerance:0},getEvents:function(){var a=nr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ke(a,"mousemove",this._onMouseMove,this),Ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,Dt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),w=Fe.retina?2:1;Je(c,a.min),c.width=w*p.x,c.height=w*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){nr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,w=c.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],w,S;for(S=0;S<c.length;S++){if(w=Number(c[S]),isNaN(w))return;p.push(w)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)a=w.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,w,S,P,$=a._parts,ie=$.length,he=this._ctx;if(ie){for(he.beginPath(),p=0;p<ie;p++){for(w=0,S=$[p].length;w<S;w++)P=$[p][w],he[w?"lineTo":"moveTo"](P.x,P.y);c&&he.closePath()}this._fillStroke(he,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,w=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||w)/w;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(c.x,c.y/S,w,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,w,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,w,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(a),w&&(st(this._container,"leaflet-interactive"),this._fireEvent([w],a,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function cl(a){return Fe.canvas?new ul(a):null}var na=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Wa={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=na("shape");st(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=na("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Dt(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,w=a.options,S=a._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(c||(c=a._stroke=na("stroke")),S.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=Q(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(S.removeChild(c),a._stroke=null),w.fill?(p||(p=a._fill=na("fill")),S.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),w=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){mr(a._container)},_bringToBack:function(a){ds(a._container)}},hl=Fe.vml?na:Dr,vs=nr.extend({_initContainer:function(){this._container=hl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nr.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Je(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=hl("path");a.options.className&&st(c,a.options.className),a.options.interactive&&st(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Dt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,us(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),w=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+w+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,P)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){mr(a._path)},_bringToBack:function(a){ds(a._path)}});Fe.vml&&vs.include(Wa);function ia(a){return Fe.svg||Fe.vml?new vs(a):null}ut.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||ia(a)}});var cf=Ga.extend({initialize:function(a,c){Ga.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ne(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Pi(a,c){return new cf(a,c)}vs.create=hl,vs.pointsToPath=us,Ci.geometryToLayer=sl,Ci.coordsToLatLng=tu,Ci.coordsToLatLngs=al,Ci.latLngToCoords=ol,Ci.latLngsToCoords=nu,Ci.getFeature=Ji,Ci.asFeature=$a,ut.mergeOptions({boxZoom:!0});var au=hi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Hn(),Ks(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ke(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),st(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new W(this._point,this._startPoint),p=c.getSize();Je(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Vt(this._container,"leaflet-crosshair")),Ki(),Qo(),xt(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var c=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",au),ut.mergeOptions({doubleClickZoom:!0});var br=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),w=c.options.zoomDelta,S=a.originalEvent.shiftKey?p-w:p+w;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(a.containerPoint,S)}});ut.addInitHook("addHandler","doubleClickZoom",br),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vc=hi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Qi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}st(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ne(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-c+p)%a+c-p,P=(w+c+p)%a-c-p,$=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(a){var c=this._map,p=c.options,w=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),w)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,$=p.easeLinearity,ie=S.multiplyBy($/P),he=ie.distanceTo([0,0]),Ae=Math.min(p.inertiaMaxSpeed,he),De=ie.multiplyBy(Ae/he),ze=Ae/(p.inertiaDeceleration*$),je=De.multiplyBy(-ze/2).round();!je.x&&!je.y?c.fire("moveend"):(je=c._limitOffset(je,c.options.maxBounds),q(function(){c.panBy(je,{duration:ze,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",vc),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fl=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,w=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,w,S;for(w=0,S=p.left.length;w<S;w++)c[p.left[w]]=[-1*a,0];for(w=0,S=p.right.length;w<S;w++)c[p.right[w]]=[a,0];for(w=0,S=p.down.length;w<S;w++)c[p.down[w]]=[0,a];for(w=0,S=p.up.length;w<S;w++)c[p.up[w]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,w,S;for(w=0,S=p.zoomIn.length;w<S;w++)c[p.zoomIn[w]]=a;for(w=0,S=p.zoomOut.length;w<S;w++)c[p.zoomOut[w]]=-a},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,w;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[c],a.shiftKey&&(w=z(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(z(w),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(S)}else p.panBy(w)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;qn(a)}}});ut.addInitHook("addHandler","keyboard",fl),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Es=hi.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Ws(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),w),qn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,$=a._limitZoom(c+(this._delta>0?P:-P))-c;this._delta=0,this._startTime=null,$&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+$):a.setZoomAround(this._lastMousePos,c+$))}});ut.addInitHook("addHandler","scrollWheelZoom",Es);var Ec=600;ut.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var ou=hi.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new pe(c.clientX,c.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",Bt),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Ec),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){xt(document,"touchend",Bt),xt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new pe(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});ut.addInitHook("addHandler","tapHold",ou),ut.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var ra=hi.extend({addHooks:function(){st(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),Bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var $=h(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q($,this,!0),Bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",ra),ut.BoxZoom=au,ut.DoubleClickZoom=br,ut.Drag=vc,ut.Keyboard=fl,ut.ScrollWheelZoom=Es,ut.TapHold=ou,ut.TouchZoom=ra,n.Bounds=W,n.Browser=Fe,n.CRS=ht,n.Canvas=ul,n.Circle=gc,n.CircleMarker=rl,n.Class=Ze,n.Control=Vn,n.DivIcon=_c,n.DivOverlay=er,n.DomEvent=Wl,n.DomUtil=Jo,n.Draggable=Qi,n.Evented=ge,n.FeatureGroup=$t,n.GeoJSON=Ci,n.GridLayer=ea,n.Handler=hi,n.Icon=vr,n.ImageOverlay=Er,n.LatLng=Pe,n.LatLngBounds=oe,n.Layer=Lt,n.LayerGroup=Jt,n.LineUtil=D,n.Map=ut,n.Marker=qa,n.Mixin=Xs,n.Path=Zr,n.Point=pe,n.PolyUtil=Ba,n.Polygon=Ga,n.Polyline=Kr,n.Popup=ll,n.PosAnimation=Ys,n.Projection=Ie,n.Rectangle=cf,n.Renderer=nr,n.SVG=vs,n.SVGOverlay=_s,n.TileLayer=ta,n.Tooltip=su,n.Transformation=Pt,n.Util=H,n.VideoOverlay=ru,n.bind=h,n.bounds=me,n.canvas=cl,n.circle=jm,n.circleMarker=sf,n.control=Gn,n.divIcon=uf,n.extend=o,n.featureGroup=_r,n.geoJSON=iu,n.geoJson=af,n.gridLayer=tr,n.icon=eu,n.imageOverlay=Za,n.latLng=Te,n.latLngBounds=Ne,n.layerGroup=$r,n.map=gr,n.marker=pc,n.point=z,n.polygon=Ai,n.polyline=Fm,n.popup=Hm,n.rectangle=Pi,n.setOptions=U,n.stamp=y,n.svg=ia,n.svgOverlay=lf,n.tileLayer=Ri,n.tooltip=qm,n.transformation=Wt,n.version=r,n.videoOverlay=of;var Ya=window.L;n.noConflict=function(){return window.L=Ya,this},window.L=n}))})(ch,ch.exports)),ch.exports}var Vm=j3();const F3=Gx(Vm);function HA(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function qA(t,e){return e==null?function(r,o){const u=k.useRef(void 0);return u.current||(u.current=t(r,o)),u}:function(r,o){const u=k.useRef(void 0);u.current||(u.current=t(r,o));const h=k.useRef(r),{instance:m}=u.current;return k.useEffect(function(){h.current!==r&&(e(m,r,h.current),h.current=r)},[m,r,e]),u}}function H3(t,e){k.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function GA(t){return function(n){const r=jA(),o=t(FA(n,r),r);return M3(r.map,n.attribution),z3(o.current,n.eventHandlers),H3(o.current,r),o}}function q3(t,e){const n=qA(t,e),r=GA(n);return V3(r)}function G3(t,e){const n=qA(t,e),r=GA(n);return U3(r)}function $3(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function Z3(){return jA().map}function K3(t){const e=Z3();return k.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function W3({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:u,placeholder:h,style:m,whenReady:y,zoom:v,...b},x){const[A]=k.useState({className:o,id:u,style:m}),[O,V]=k.useState(null),U=k.useRef(void 0);k.useImperativeHandle(x,()=>O?.map??null,[O]);const B=k.useCallback(G=>{if(G!==null&&!U.current){const Q=new Vm.Map(G,b);U.current=Q,n!=null&&v!=null?Q.setView(n,v):t!=null&&Q.fitBounds(t,e),y!=null&&Q.whenReady(y),V(L3(Q))}},[]);k.useEffect(()=>()=>{O?.map.remove()},[O]);const K=O?_.createElement(cv,{value:O},r):h??null;return _.createElement("div",{...A,ref:B},K)}const Y3=k.forwardRef(W3),X3=q3(function({position:e,...n},r){const o=new Vm.Marker(e,n);return HA(o,k3(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Q3=G3(function({url:e,...n},r){const o=new Vm.TileLayer(e,FA(n,r));return HA(o,r)},function(e,n,r){$3(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),J3=new F3.Icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});function e5({setAddress:t}){const[e,n]=k.useState(null);return K3({click(r){n(r.latlng),t(`${r.latlng.lat}, ${r.latlng.lng}`)}}),e?_.createElement(X3,{position:e,icon:J3}):null}function t5({isOpen:t,onClose:e,total:n,cart:r,onOrderSuccess:o}){const[u,h]=k.useState({name:"",email:"",phone:"",address:""}),[m,y]=k.useState(!1),[v,b]=k.useState(""),[x,A]=k.useState({}),[O,V]=k.useState(null),[U,B]=k.useState(!1);k.useEffect(()=>{const J=KO(ov,ue=>{V(ue)});return()=>J()},[]);const K=J=>{h(ue=>({...ue,[J.target.name]:J.target.value})),x[J.target.name]&&A(ue=>({...ue,[J.target.name]:null}))},G=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(J=>{const{latitude:ue,longitude:j}=J.coords,N=`${ue},${j}`;h(M=>({...M,address:N}))},J=>{alert("Failed to get location: "+J.message)})},Q=()=>{const J={};return u.name.trim()||(J.name="Name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(J.email="Please enter a valid email address"):J.email="Email is required",u.phone.trim()?/^\+?[0-9\s\-()]{7,20}$/.test(u.phone.replace(/\s/g,""))||(J.phone="Please enter a valid phone number"):J.phone="Phone number is required",u.address.trim()||(J.address="Address is required"),A(J),Object.keys(J).length===0},_e=async J=>{if(J.preventDefault(),!Q()){b("Please correct the errors in the form.");return}if(!r||r.length===0){b("Your cart is empty.");return}try{y(!0);let ue=null;if(u.address.includes(",")){const[M,F]=u.address.split(",").map(Number);!isNaN(M)&&!isNaN(F)&&(ue={lat:M,lng:F})}const j={id:Date.now().toString(),client:u,items:r,total:n,status:"Pending",timestamp:new Date().toISOString(),location:ue,userId:O?.uid||null};await Py(ba(rs,"orders"),j);const N=JSON.parse(localStorage.getItem("orders"))||[];localStorage.setItem("orders",JSON.stringify([...N,j])),b("Order placed successfully!"),h({name:"",email:"",phone:"",address:""}),o?.(),setTimeout(()=>e(),2e3)}catch(ue){console.error("Error placing order:",ue),b("Failed to place order. Try again.")}finally{y(!1)}};return k.useEffect(()=>{if(v){const J=setTimeout(()=>b(""),3e3);return()=>clearTimeout(J)}},[v]),t?_.createElement(_.Fragment,null,v&&_.createElement("div",{className:"fixed inset-0 z-60 flex items-center justify-center pointer-events-none"},_.createElement("div",{className:`p-6 rounded-xl shadow-2xl max-w-md w-[80%] flex items-center space-x-3 pointer-events-auto transition-all duration-300 ${v.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`},v.includes("success")?_.createElement(rm,{className:"w-8 h-8 flex-shrink-0"}):_.createElement(Iy,{className:"w-8 h-8 flex-shrink-0"}),_.createElement("span",{className:"text-lg font-medium"},v))),_.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4"},_.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),_.createElement("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},_.createElement("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white text-gray-600 hover:text-red-600 rounded-full shadow-md transition-all","aria-label":"Close Checkout Modal"},_.createElement(Ro,{className:"w-5 h-5"})),_.createElement("div",{className:"bg-gradient-to-r from-red-700 to-red-600 p-6 text-white"},_.createElement("div",{className:"flex items-center space-x-3"},_.createElement(Or,{className:"w-8 h-8"}),_.createElement("h2",{className:"text-2xl font-bold"},"Checkout"))),_.createElement("div",{className:"flex-1 overflow-y-auto p-6"},O?_.createElement(_.Fragment,null,_.createElement("div",{className:"mb-8"},_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},_.createElement(Or,{className:"w-5 h-5 mr-2 text-red-600"}),"Order Summary"),_.createElement("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto"},r.map((J,ue)=>_.createElement("div",{key:`${J.id}-${ue}`,className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0"},_.createElement("div",{className:"flex items-center gap-4"},_.createElement("img",{src:J.image||(Array.isArray(J.images)?J.images[0]:J.images),alt:J.name,className:"w-16 h-16 object-cover rounded-lg"}),_.createElement("div",null,_.createElement("div",{className:"text-sm font-semibold text-gray-900"},J.name),_.createElement("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500"},_.createElement("span",null,"Qty: ",J.qty),J.selectedSize&&_.createElement("span",null,"Size: ",J.selectedSize),J.selectedColor&&_.createElement("p",{className:"text-sm text-gray-600 mt-1 flex items-center"},"Color:",_.createElement("span",{className:"ml-2 w-5 h-5 rounded-full border",style:{backgroundColor:J.selectedColor},title:J.selectedColor}))))),_.createElement("div",{className:"text-sm font-semibold text-gray-900"},"$",(J.qty*J.price).toFixed(2))))),_.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200"},_.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Total:"),_.createElement("span",{className:"text-xl font-bold text-red-700"},"$",n.toFixed(2)))),_.createElement("form",{onSubmit:_e,className:"space-y-5"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(JV,{className:"w-4 h-4 mr-2 text-red-600"}),"Full Name"),_.createElement("input",{type:"text",name:"name",value:u.name,onChange:K,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your full name",disabled:m}),x.name&&_.createElement("p",{className:"text-sm text-red-600"},x.name)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(BV,{className:"w-4 h-4 mr-2 text-red-600"}),"Email Address"),_.createElement("input",{type:"email",name:"email",value:u.email,onChange:K,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your email",disabled:m}),x.email&&_.createElement("p",{className:"text-sm text-red-600"},x.email)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement($V,{className:"w-4 h-4 mr-2 text-red-600"}),"Phone Number"),_.createElement("input",{type:"tel",name:"phone",value:u.phone,onChange:K,className:"w-full px-4 py-3 border rounded-lg",placeholder:"Enter your phone number",disabled:m}),x.phone&&_.createElement("p",{className:"text-sm text-red-600"},x.phone)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(RT,{className:"w-4 h-4 mr-2 text-red-600"}),"Shipping Address"),_.createElement("div",{className:"flex gap-2 mb-2"},_.createElement("input",{type:"text",name:"address",value:u.address,onChange:K,className:"flex-1 px-4 py-3 border rounded-lg",placeholder:"Coordinates will appear here",disabled:m,readOnly:!0}),_.createElement("button",{type:"button",onClick:G,className:"px-3 py-2 bg-red-600 text-white rounded-lg text-sm whitespace-nowrap"},"Use My Location")),x.address&&_.createElement("p",{className:"text-sm text-red-600"},x.address)),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},_.createElement(RT,{className:"w-4 h-4 mr-2 text-red-600"}),"Select Location on Map"),_.createElement("div",{className:"text-xs text-gray-500 mb-2"},"Click on the map to select your location"),_.createElement("div",{className:"w-full h-64 rounded-lg overflow-hidden border"},_.createElement(Y3,{center:[-1.9577,30.1127],zoom:13,style:{height:"100%",width:"100%"}},_.createElement(Q3,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles © Esri — Source: Esri, Maxar, Earthstar Geographics"}),_.createElement(e5,{setAddress:J=>h(ue=>({...ue,address:J}))}))),u.address&&_.createElement("p",{className:"text-xs text-gray-600 mt-1"},"Selected: ",u.address)),_.createElement("button",{type:"submit",disabled:m,className:"w-full bg-red-700 hover:bg-red-800 text-white py-3 px-4 rounded-lg font-medium"},m?"Processing Order...":"Place Order"))):_.createElement("div",null,U?_.createElement(I3,null):_.createElement(O3,null),_.createElement("p",{className:"mt-4 text-center text-sm text-gray-600"},U?"Already have an account?":"Don't have an account?"," ",_.createElement("button",{onClick:()=>B(!U),className:"text-red-600 hover:underline"},U?"Sign In":"Sign Up"))))))):null}const n5=()=>{try{const t=localStorage.getItem("favorites");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting favorites from localStorage:",t),[]}},PT=t=>{try{const e=Array.isArray(t)?t:[];localStorage.setItem("favorites",JSON.stringify(e))}catch(e){console.error("Error saving favorites to localStorage:",e)}},i5=({onAddToCart:t,onAddToFavorites:e,favorites:n=[]})=>{const{id:r}=vN(),o=n1(),[u,h]=k.useState(null),[m,y]=k.useState(!0),[v,b]=k.useState(null),[x,A]=k.useState(null),[O,V]=k.useState(null),[U,B]=k.useState(1),[K,G]=k.useState(""),[Q,_e]=k.useState(!1),[J,ue]=k.useState([]);k.useEffect(()=>{const Ue=n5();ue(Ue)},[]);const j=J.includes(r);k.useEffect(()=>{(async()=>{y(!0);try{const re=$_(rs,"products",r),ge=await NA(re);if(ge.exists()){const pe={id:ge.id,...ge.data()};h(pe),b(pe.images?.[0]||null),pe.colors&&pe.colors.length>0&&V(pe.colors[0])}else h(null)}catch(re){console.error("Error fetching product:",re),h(null)}finally{y(!1)}})()},[r]),k.useEffect(()=>{window.scrollTo(0,0)},[r]);const N=u?.sizes&&u.sizes.length>0,M=u?.colors&&u.colors.length>0,F=()=>{if(N&&!x){G("⚠️ Please select a size before adding to cart.");return}if(M&&!O){G("⚠️ Please select a color before adding to cart.");return}G("✅ Added to cart!"),t({id:u.id,name:u.name,price:u.newPrice||u.price,image:u.images?.[0]||"",selectedSize:x,selectedColor:O,quantity:U}),setTimeout(()=>G(""),3e3)},q=()=>{const Ue=[...J],re=u.id;if(j){const ge=Ue.filter(pe=>pe!==re);PT(ge),ue(ge),G("💔 Removed from favorites!")}else{const ge=[...Ue,re];PT(ge),ue(ge),e(u),G("❤️ Added to favorites!")}setTimeout(()=>G(""),3e3)},Y=()=>{_e(!0)},H=Ue=>{Ue<1||B(Ue)},Ze=()=>!u.newPrice||u.newPrice>=u.price?0:Math.round((u.price-u.newPrice)/u.price*100);return m?_.createElement("div",{className:"flex justify-center items-center min-h-[60vh]"},_.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-600"})):u?_.createElement("div",{className:"min-h-screen bg-white"},_.createElement("div",{className:"px-4 pt-4"},_.createElement("button",{onClick:()=>o(-1),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors"},_.createElement(AT,{className:"w-5 h-5 mr-1"})," Back")),_.createElement("div",{className:"px-4 pb-8 max-w-7xl mx-auto"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-8 py-6"},_.createElement("div",{className:"lg:w-1/2"},_.createElement("div",{className:"flex  gap-6"},_.createElement("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center"},v&&!Q?_.createElement("img",{src:v,alt:u.name,className:"w-full h-full object-cover",onError:Y}):_.createElement("div",{className:"text-center p-8"},_.createElement("div",{className:"text-5xl mb-2"},"🖼️"),_.createElement("p",{className:"text-gray-500"},"Image not available"))),_.createElement("div",{className:"flex flex-col gap-3  py-2"},u.images?.map((Ue,re)=>_.createElement("button",{key:re,onClick:()=>{b(Ue),_e(!1)},className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 ${v===Ue?"border-black":"border-gray-200 hover:border-gray-300"}`},_.createElement("img",{src:Ue,alt:`${u.name} thumbnail ${re+1}`,className:"w-full h-full object-cover",onError:ge=>{ge.target.src="/placeholder.jpg"}})))))),_.createElement("div",{className:"lg:w-1/2"},_.createElement("div",{className:"flex flex-col gap-6"},_.createElement("h1",{className:"text-3xl font-bold text-gray-900"},u.name),_.createElement("div",{className:"flex items-baseline gap-3"},_.createElement("span",{className:"text-2xl font-bold text-gray-900"},"$",u.newPrice||u.price),u.newPrice&&u.newPrice<u.price&&_.createElement(_.Fragment,null,_.createElement("span",{className:"text-lg text-gray-500 line-through"},"$",u.price),_.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},Ze(),"% OFF"))),M&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Color"),_.createElement("div",{className:"flex flex-wrap gap-2"},u.colors.map(Ue=>_.createElement("button",{key:Ue,onClick:()=>V(Ue),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${O===Ue?"border-black scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:Ue},title:Ue})))),N&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Size"),_.createElement("div",{className:"flex flex-wrap gap-2"},u.sizes.map(Ue=>_.createElement("button",{key:Ue,onClick:()=>A(Ue),className:`px-4 py-2 rounded-full border font-medium transition-all duration-200 ${x===Ue?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`},Ue))),N&&!x&&_.createElement("p",{className:"mt-1 text-sm text-red-500"},"Please select a size")),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-1"},"Quantity"),_.createElement("div",{className:"flex items-center border border-gray-300 rounded-lg w-32"},_.createElement("button",{onClick:()=>H(U-1),className:"p-2 text-gray-600 hover:bg-gray-100",disabled:U<=1},_.createElement(VA,{className:"w-4 h-4"})),_.createElement("span",{className:"flex-1 text-center"},U),_.createElement("button",{onClick:()=>H(U+1),className:"p-2 text-gray-600 hover:bg-gray-100"},_.createElement(UA,{className:"w-4 h-4"})))),_.createElement("div",{className:"flex flex-wrap gap-4"},_.createElement("button",{onClick:F,className:"flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-black hover:bg-gray-900 text-white font-medium py-3 px-6 rounded-lg shadow-sm transition-all duration-300"},_.createElement(Or,{className:"w-5 h-5"})," Add to Cart"),_.createElement("button",{onClick:q,className:`p-3 rounded-lg border transition-all duration-300 ${j?"bg-red-50 text-red-600 border-red-200":"bg-gray-50 text-gray-600 border-gray-300 hover:bg-gray-100"}`,title:j?"Remove from favorites":"Add to favorites"},_.createElement(jo,{className:`w-6 h-6 transition-all duration-300 ${j?"fill-red-600 text-red-600":""}`}))),_.createElement("h2",null,"Product description"),_.createElement("p",{className:"text-gray-700 break-words"},u.shortDescription||u.det?.substring(0,150)+"..."||"No description available."),K&&_.createElement("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200"},K)))))):_.createElement("div",{className:"text-center py-20 px-4"},_.createElement("div",{className:"max-w-md mx-auto bg-white rounded-xl p-8"},_.createElement("div",{className:"text-6xl mb-4"},"😕"),_.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2"},"Product Not Found"),_.createElement("p",{className:"text-gray-600 mb-6"},"This product may have been removed or doesn't exist."),_.createElement("button",{onClick:()=>o(-1),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},_.createElement(AT,{className:"w-4 h-4 mr-2"})," Go Back")))},r5=({navLinks:t=[],socialLinks:e=[],contactInfo:n={},copyrightYear:r=new Date().getFullYear()})=>{const[o,u]=k.useState(""),[h,m]=k.useState(""),[y,v]=k.useState(!1),[b,x]=k.useState(!1),A=async O=>{if(O.preventDefault(),!o.trim()){m("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){m("Please enter a valid email address");return}x(!0),m("");try{await new Promise(V=>setTimeout(V,1e3)),console.log("Subscribed email:",o),v(!0),u("")}catch(V){console.error("Subscription error:",V),m("Subscription failed. Please try again.")}finally{x(!1)}};return _.createElement("footer",{className:"bg-gray-900 text-white pt-16 pb-8"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Navigation"),_.createElement("ul",{className:"space-y-2"},t.map((O,V)=>_.createElement("li",{key:V},_.createElement("a",{href:O.url,className:"text-gray-300 hover:text-white transition-colors","aria-label":`Navigate to ${O.name}`},O.name))))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),_.createElement("ul",{className:"space-y-3"},n.email&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),_.createElement("a",{href:`mailto:${n.email}`,className:"text-gray-300 hover:text-white transition-colors"},n.email)),n.phone&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),_.createElement("a",{href:`tel:${n.phone}`,className:"text-gray-300 hover:text-white transition-colors"},n.phone)),n.address&&_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),_.createElement("span",{className:"text-gray-300"},n.address)))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Follow Us"),_.createElement("div",{className:"flex space-x-4"},e.map((O,V)=>_.createElement("a",{key:V,href:O.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-300 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Follow us on ${O.name}`},O.icon&&_.createElement("span",{className:"w-5 h-5"},O.icon))))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold mb-4"},"Newsletter"),_.createElement("p",{className:"text-gray-300 mb-4"},"Subscribe to get updates on new products and special offers."),y?_.createElement("div",{className:"bg-green-800 border border-green-700 rounded-lg p-4"},_.createElement("div",{className:"flex items-center"},_.createElement("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),_.createElement("span",{className:"text-green-300"},"Thank you for subscribing!"))):_.createElement("form",{onSubmit:A,className:"space-y-3"},_.createElement("div",null,_.createElement("label",{htmlFor:"footer-email",className:"sr-only"},"Email address"),_.createElement("input",{type:"email",id:"footer-email",value:o,onChange:O=>u(O.target.value),placeholder:"Your email address",className:`w-full px-4 py-2 bg-gray-800 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white placeholder-gray-400 transition-colors ${h?"border-red-500":"border-gray-700"}`,"aria-invalid":!!h,"aria-describedby":h?"footer-email-error":void 0}),h&&_.createElement("p",{id:"footer-email-error",className:"mt-1 text-sm text-red-400"},h)),_.createElement("button",{type:"submit",disabled:b,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},b?"Subscribing...":"Subscribe")))),_.createElement("div",{className:"pt-8 border-t border-gray-800 text-center text-gray-400 text-sm"},_.createElement("p",null,"© ",r," Your Company Name. All rights reserved."))))},s5=()=>{const[t,e]=k.useState({name:"",email:"",subject:"",message:""}),[n,r]=k.useState({name:"",email:"",subject:"",message:""}),[o,u]=k.useState(!1),[h,m]=k.useState(!1),y=()=>{let x=!0;const A={name:"",email:"",subject:"",message:""};return t.name.trim()||(A.name="Name is required",x=!1),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(A.email="Please enter a valid email address",x=!1):(A.email="Email is required",x=!1),t.subject.trim()||(A.subject="Subject is required",x=!1),t.message.trim()||(A.message="Message is required",x=!1),r(A),x},v=x=>{const{name:A,value:O}=x.target;e(V=>({...V,[A]:O})),n[A]&&r(V=>({...V,[A]:""}))},b=async x=>{if(x.preventDefault(),!!y()){m(!0);try{await new Promise(A=>setTimeout(A,1e3)),console.log("Form submitted:",t),u(!0),e({name:"",email:"",subject:"",message:""})}catch(A){console.error("Submission error:",A)}finally{m(!1)}}};return _.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"max-w-7xl mx-auto"},_.createElement("div",{className:"text-center mb-12"},_.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},"Contact Us"),_.createElement("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto"},"Have questions or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.")),_.createElement("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden"},_.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 md:p-10"},_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a message"),o?_.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6"},_.createElement("div",{className:"flex items-center"},_.createElement("svg",{className:"w-6 h-6 text-green-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),_.createElement("h3",{className:"text-lg font-medium text-green-800"},"Thank you for your message!")),_.createElement("p",{className:"mt-2 text-green-700"},"We've received your message and will get back to you soon."),_.createElement("button",{onClick:()=>u(!1),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Send Another Message")):_.createElement("form",{onSubmit:b,noValidate:!0},_.createElement("div",{className:"space-y-6"},_.createElement("div",null,_.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"text",id:"name",name:"name",value:t.name,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.name?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.name,"aria-describedby":n.name?"name-error":void 0}),n.name&&_.createElement("p",{id:"name-error",className:"mt-1 text-sm text-red-600"},n.name)),_.createElement("div",null,_.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.email?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.email,"aria-describedby":n.email?"email-error":void 0}),n.email&&_.createElement("p",{id:"email-error",className:"mt-1 text-sm text-red-600"},n.email)),_.createElement("div",null,_.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1"},"Subject ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.subject?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.subject,"aria-describedby":n.subject?"subject-error":void 0}),n.subject&&_.createElement("p",{id:"subject-error",className:"mt-1 text-sm text-red-600"},n.subject)),_.createElement("div",null,_.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1"},"Message ",_.createElement("span",{className:"text-red-500","aria-hidden":"true"},"*")),_.createElement("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors ${n.message?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n.message,"aria-describedby":n.message?"message-error":void 0}),n.message&&_.createElement("p",{id:"message-error",className:"mt-1 text-sm text-red-600"},n.message)),_.createElement("div",null,_.createElement("button",{type:"submit",disabled:h,className:"w-full py-3 px-6 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"},h?_.createElement("span",{className:"flex items-center justify-center"},_.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sending..."):"Send Message"))))),_.createElement("div",{className:"bg-gray-50 rounded-xl p-6 md:p-8"},_.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Contact Information"),_.createElement("div",{className:"space-y-6"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Get in Touch"),_.createElement("ul",{className:"space-y-3"},_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),_.createElement("span",{className:"text-gray-700"},"contact@example.com")),_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),_.createElement("span",{className:"text-gray-700"},"+1 (555) 123-4567")),_.createElement("li",{className:"flex items-start"},_.createElement("svg",{className:"w-6 h-6 text-red-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})),_.createElement("span",{className:"text-gray-700"},"123 Business Street, Suite 100",_.createElement("br",null),"San Francisco, CA 94107")))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Business Hours"),_.createElement("ul",{className:"space-y-2"},_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Monday - Friday"),_.createElement("span",{className:"text-gray-900 font-medium"},"9:00 AM - 6:00 PM")),_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Saturday"),_.createElement("span",{className:"text-gray-900 font-medium"},"10:00 AM - 4:00 PM")),_.createElement("li",{className:"flex justify-between"},_.createElement("span",{className:"text-gray-700"},"Sunday"),_.createElement("span",{className:"text-gray-900 font-medium"},"Closed")))),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Find Us"),_.createElement("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden"},_.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15946.304657256276!2d30.838408750000003!3d-2.30997585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19c4d90047751e43%3A0x4d924a6ee700e1e5!2sMahama%20business%20center!5e0!3m2!1sen!2srw!4v1758882269137!5m2!1sen!2srw",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})))))))))};var Bg={exports:{}},nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function a5(){if(IT)return nh;IT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:h,ref:o!==void 0?o:null,props:u}}return nh.Fragment=e,nh.jsx=n,nh.jsxs=n,nh}var OT;function o5(){return OT||(OT=1,Bg.exports=a5()),Bg.exports}var Oy=o5();const $A=k.createContext({});function l5(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const hv=typeof window<"u",u5=hv?k.useLayoutEffect:k.useEffect,fv=k.createContext(null);function dv(t,e){t.indexOf(e)===-1&&t.push(e)}function mv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ca=(t,e,n)=>n>e?e:n<t?t:n;let pv=()=>{};const Ra={},ZA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KA(t){return typeof t=="object"&&t!==null}const WA=t=>/^0[^.\s]+$/u.test(t);function gv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ir=t=>t,c5=(t,e)=>n=>e(t(n)),ef=(...t)=>t.reduce(c5),Mh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class yv{constructor(){this.subscriptions=[]}add(e){return dv(this.subscriptions,e),()=>mv(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=t=>t*1e3,Pr=t=>t/1e3;function YA(t,e){return e?t*(1e3/e):0}const XA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,h5=1e-7,f5=12;function d5(t,e,n,r,o){let u,h,m=0;do h=e+(n-e)/2,u=XA(h,r,o)-t,u>0?n=h:e=h;while(Math.abs(u)>h5&&++m<f5);return h}function tf(t,e,n,r){if(t===e&&n===r)return Ir;const o=u=>d5(u,0,1,t,n);return u=>u===0||u===1?u:XA(o(u),e,r)}const QA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JA=t=>e=>1-t(1-e),eC=tf(.33,1.53,.69,.99),_v=JA(eC),tC=QA(_v),nC=t=>(t*=2)<1?.5*_v(t):.5*(2-Math.pow(2,-10*(t-1))),vv=t=>1-Math.sin(Math.acos(t)),iC=JA(vv),rC=QA(vv),m5=tf(.42,0,1,1),p5=tf(0,0,.58,1),sC=tf(.42,0,.58,1),g5=t=>Array.isArray(t)&&typeof t[0]!="number",aC=t=>Array.isArray(t)&&typeof t[0]=="number",y5={linear:Ir,easeIn:m5,easeInOut:sC,easeOut:p5,circIn:vv,circInOut:rC,circOut:iC,backIn:_v,backInOut:tC,backOut:eC,anticipate:nC},_5=t=>typeof t=="string",MT=t=>{if(aC(t)){pv(t.length===4);const[e,n,r,o]=t;return tf(e,n,r,o)}else if(_5(t))return y5[t];return t},pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function v5(t,e){let n=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(b){h.has(b)&&(v.schedule(b),t()),b(m)}const v={schedule:(b,x=!1,A=!1)=>{const V=A&&o?n:r;return x&&h.add(b),V.has(b)||V.add(b),b},cancel:b=>{r.delete(b),h.delete(b)},process:b=>{if(m=b,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(y),n.clear(),o=!1,u&&(u=!1,v.process(b))}};return v}const E5=40;function oC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,h=pd.reduce((Q,_e)=>(Q[_e]=v5(u),Q),{}),{setup:m,read:y,resolveKeyframes:v,preUpdate:b,update:x,preRender:A,render:O,postRender:V}=h,U=()=>{const Q=Ra.useManualTiming?o.timestamp:performance.now();n=!1,Ra.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,E5),1)),o.timestamp=Q,o.isProcessing=!0,m.process(o),y.process(o),v.process(o),b.process(o),x.process(o),A.process(o),O.process(o),V.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(U))},B=()=>{n=!0,r=!0,o.isProcessing||t(U)};return{schedule:pd.reduce((Q,_e)=>{const J=h[_e];return Q[_e]=(ue,j=!1,N=!1)=>(n||B(),J.schedule(ue,j,N)),Q},{}),cancel:Q=>{for(let _e=0;_e<pd.length;_e++)h[pd[_e]].cancel(Q)},state:o,steps:h}}const{schedule:ln,cancel:Fo,state:ii,steps:jg}=oC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0);let Pd;function b5(){Pd=void 0}const Bi={now:()=>(Pd===void 0&&Bi.set(ii.isProcessing||Ra.useManualTiming?ii.timestamp:performance.now()),Pd),set:t=>{Pd=t,queueMicrotask(b5)}},lC=t=>e=>typeof e=="string"&&e.startsWith(t),Ev=lC("--"),w5=lC("var(--"),bv=t=>w5(t)?T5.test(t.split("/*")[0].trim()):!1,T5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dh={...uc,transform:t=>Ca(0,1,t)},gd={...uc,default:1},yh=t=>Math.round(t*1e5)/1e5,wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x5(t){return t==null}const S5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tv=(t,e)=>n=>!!(typeof n=="string"&&S5.test(n)&&n.startsWith(t)||e&&!x5(n)&&Object.prototype.hasOwnProperty.call(n,e)),uC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,h,m]=r.match(wv);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},A5=t=>Ca(0,255,t),Fg={...uc,transform:t=>Math.round(A5(t))},Cl={test:Tv("rgb","red"),parse:uC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fg.transform(t)+", "+Fg.transform(e)+", "+Fg.transform(n)+", "+yh(Dh.transform(r))+")"};function C5(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const My={test:Tv("#"),parse:C5,transform:Cl.transform},nf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=nf("deg"),Ls=nf("%"),it=nf("px"),R5=nf("vh"),N5=nf("vw"),DT={...Ls,parse:t=>Ls.parse(t)/100,transform:t=>Ls.transform(t*100)},Lu={test:Tv("hsl","hue"),parse:uC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ls.transform(yh(e))+", "+Ls.transform(yh(n))+", "+yh(Dh.transform(r))+")"},In={test:t=>Cl.test(t)||My.test(t)||Lu.test(t),parse:t=>Cl.test(t)?Cl.parse(t):Lu.test(t)?Lu.parse(t):My.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cl.transform(t):Lu.transform(t),getAnimatableNone:t=>{const e=In.parse(t);return e.alpha=0,In.transform(e)}},P5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function I5(t){return isNaN(t)&&typeof t=="string"&&(t.match(wv)?.length||0)+(t.match(P5)?.length||0)>0}const cC="number",hC="color",O5="var",M5="var(",LT="${}",D5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=e.replace(D5,y=>(In.test(y)?(r.color.push(u),o.push(hC),n.push(In.parse(y))):y.startsWith(M5)?(r.var.push(u),o.push(O5),n.push(y)):(r.number.push(u),o.push(cC),n.push(parseFloat(y))),++u,LT)).split(LT);return{values:n,split:m,indexes:r,types:o}}function fC(t){return Lh(t).values}function dC(t){const{split:e,types:n}=Lh(t),r=e.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=e[h],o[h]!==void 0){const m=n[h];m===cC?u+=yh(o[h]):m===hC?u+=In.transform(o[h]):u+=o[h]}return u}}const L5=t=>typeof t=="number"?0:In.test(t)?In.getAnimatableNone(t):t;function k5(t){const e=fC(t);return dC(t)(e.map(L5))}const Ho={test:I5,parse:fC,createTransformer:dC,getAnimatableNone:k5};function Hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,h=0;if(!e)o=u=h=n;else{const m=n<.5?n*(1+e):n+e-n*e,y=2*n-m;o=Hg(y,m,t+1/3),u=Hg(y,m,t),h=Hg(y,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function sm(t,e){return n=>n>0?e:t}const fn=(t,e,n)=>t+(e-t)*n,qg=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},U5=[My,Cl,Lu],z5=t=>U5.find(e=>e.test(t));function kT(t){const e=z5(t);if(!e)return!1;let n=e.parse(t);return e===Lu&&(n=V5(n)),n}const VT=(t,e)=>{const n=kT(t),r=kT(e);if(!n||!r)return sm(t,e);const o={...n};return u=>(o.red=qg(n.red,r.red,u),o.green=qg(n.green,r.green,u),o.blue=qg(n.blue,r.blue,u),o.alpha=fn(n.alpha,r.alpha,u),Cl.transform(o))},Dy=new Set(["none","hidden"]);function B5(t,e){return Dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function j5(t,e){return n=>fn(t,e,n)}function xv(t){return typeof t=="number"?j5:typeof t=="string"?bv(t)?sm:In.test(t)?VT:q5:Array.isArray(t)?mC:typeof t=="object"?In.test(t)?VT:F5:sm}function mC(t,e){const n=[...t],r=n.length,o=t.map((u,h)=>xv(u)(u,e[h]));return u=>{for(let h=0;h<r;h++)n[h]=o[h](u);return n}}function F5(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=xv(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function H5(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],h=t.indexes[u][r[u]],m=t.values[h]??0;n[o]=m,r[u]++}return n}const q5=(t,e)=>{const n=Ho.createTransformer(e),r=Lh(t),o=Lh(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dy.has(t)&&!o.values.length||Dy.has(e)&&!r.values.length?B5(t,e):ef(mC(H5(r,o),o.values),n):sm(t,e)};function pC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fn(t,e,n):xv(t)(t,e)}const G5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ln.update(e,n),stop:()=>Fo(e),now:()=>ii.isProcessing?ii.timestamp:Bi.now()}},gC=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},am=2e4;function Sv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<am;)e+=n,r=t.next(e);return e>=am?1/0:e}function $5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Sv(r),am);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Pr(o)}}const Z5=5;function yC(t,e,n){const r=Math.max(e-Z5,0);return YA(n-t(r),e-r)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gg=.001;function K5({duration:t=_n.duration,bounce:e=_n.bounce,velocity:n=_n.velocity,mass:r=_n.mass}){let o,u,h=1-e;h=Ca(_n.minDamping,_n.maxDamping,h),t=Ca(_n.minDuration,_n.maxDuration,Pr(t)),h<1?(o=v=>{const b=v*h,x=b*t,A=b-n,O=Ly(v,h),V=Math.exp(-x);return Gg-A/O*V},u=v=>{const x=v*h*t,A=x*n+n,O=Math.pow(h,2)*Math.pow(v,2)*t,V=Math.exp(-x),U=Ly(Math.pow(v,2),h);return(-o(v)+Gg>0?-1:1)*((A-O)*V)/U}):(o=v=>{const b=Math.exp(-v*t),x=(v-n)*t+1;return-Gg+b*x},u=v=>{const b=Math.exp(-v*t),x=(n-v)*(t*t);return b*x});const m=5/t,y=Y5(o,u,m);if(t=Ds(t),isNaN(y))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const v=Math.pow(y,2)*r;return{stiffness:v,damping:h*2*Math.sqrt(r*v),duration:t}}}const W5=12;function Y5(t,e,n){let r=n;for(let o=1;o<W5;o++)r=r-t(r)/e(r);return r}function Ly(t,e){return t*Math.sqrt(1-e*e)}const X5=["duration","bounce"],Q5=["stiffness","damping","mass"];function UT(t,e){return e.some(n=>t[n]!==void 0)}function J5(t){let e={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!UT(t,Q5)&&UT(t,X5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*Ca(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:_n.mass,stiffness:o,damping:u}}else{const n=K5(t);e={...e,...n,mass:_n.mass},e.isResolvedFromDuration=!0}return e}function om(t=_n.visualDuration,e=_n.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:v,mass:b,duration:x,velocity:A,isResolvedFromDuration:O}=J5({...n,velocity:-Pr(n.velocity||0)}),V=A||0,U=v/(2*Math.sqrt(y*b)),B=h-u,K=Pr(Math.sqrt(y/b)),G=Math.abs(B)<5;r||(r=G?_n.restSpeed.granular:_n.restSpeed.default),o||(o=G?_n.restDelta.granular:_n.restDelta.default);let Q;if(U<1){const J=Ly(K,U);Q=ue=>{const j=Math.exp(-U*K*ue);return h-j*((V+U*K*B)/J*Math.sin(J*ue)+B*Math.cos(J*ue))}}else if(U===1)Q=J=>h-Math.exp(-K*J)*(B+(V+K*B)*J);else{const J=K*Math.sqrt(U*U-1);Q=ue=>{const j=Math.exp(-U*K*ue),N=Math.min(J*ue,300);return h-j*((V+U*K*B)*Math.sinh(N)+J*B*Math.cosh(N))/J}}const _e={calculatedDuration:O&&x||null,next:J=>{const ue=Q(J);if(O)m.done=J>=x;else{let j=J===0?V:0;U<1&&(j=J===0?Ds(V):yC(Q,J,ue));const N=Math.abs(j)<=r,M=Math.abs(h-ue)<=o;m.done=N&&M}return m.value=m.done?h:ue,m},toString:()=>{const J=Math.min(Sv(_e),am),ue=gC(j=>_e.next(J*j).value,J,30);return J+"ms "+ue},toTransition:()=>{}};return _e}om.applyToOptions=t=>{const e=$5(t,100,om);return t.ease=e.ease,t.duration=Ds(e.duration),t.type="keyframes",t};function ky({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:m,max:y,restDelta:v=.5,restSpeed:b}){const x=t[0],A={done:!1,value:x},O=N=>m!==void 0&&N<m||y!==void 0&&N>y,V=N=>m===void 0?y:y===void 0||Math.abs(m-N)<Math.abs(y-N)?m:y;let U=n*e;const B=x+U,K=h===void 0?B:h(B);K!==B&&(U=K-x);const G=N=>-U*Math.exp(-N/r),Q=N=>K+G(N),_e=N=>{const M=G(N),F=Q(N);A.done=Math.abs(M)<=v,A.value=A.done?K:F};let J,ue;const j=N=>{O(A.value)&&(J=N,ue=om({keyframes:[A.value,V(A.value)],velocity:yC(Q,N,A.value),damping:o,stiffness:u,restDelta:v,restSpeed:b}))};return j(0),{calculatedDuration:null,next:N=>{let M=!1;return!ue&&J===void 0&&(M=!0,_e(N),j(N)),J!==void 0&&N>=J?ue.next(N-J):(!M&&_e(N),A)}}}function e6(t,e,n){const r=[],o=n||Ra.mix||pC,u=t.length-1;for(let h=0;h<u;h++){let m=o(t[h],t[h+1]);if(e){const y=Array.isArray(e)?e[h]||Ir:e;m=ef(y,m)}r.push(m)}return r}function t6(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(pv(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=e6(e,r,o),y=m.length,v=b=>{if(h&&b<t[0])return e[0];let x=0;if(y>1)for(;x<t.length-2&&!(b<t[x+1]);x++);const A=Mh(t[x],t[x+1],b);return m[x](A)};return n?b=>v(Ca(t[0],t[u-1],b)):v}function n6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Mh(0,e,r);t.push(fn(n,1,o))}}function i6(t){const e=[0];return n6(e,t.length-1),e}function r6(t,e){return t.map(n=>n*e)}function s6(t,e){return t.map(()=>e||sC).splice(0,t.length-1)}function _h({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=g5(r)?r.map(MT):MT(r),u={done:!1,value:e[0]},h=r6(n&&n.length===e.length?n:i6(e),t),m=t6(h,e,{ease:Array.isArray(o)?o:s6(e,o)});return{calculatedDuration:t,next:y=>(u.value=m(y),u.done=y>=t,u)}}const a6=t=>t!==null;function Av(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(a6),m=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const o6={decay:ky,inertia:ky,tween:_h,keyframes:_h,spring:om};function _C(t){typeof t.type=="string"&&(t.type=o6[t.type])}class Cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const l6=t=>t/100;class Rv extends Cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bi.now()&&this.tick(Bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_C(e);const{type:n=_h,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=e;let{keyframes:m}=e;const y=n||_h;y!==_h&&typeof m[0]!="number"&&(this.mixKeyframes=ef(l6,pC(m[0],m[1])),m=[0,100]);const v=y({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=Sv(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:b,repeat:x,repeatType:A,repeatDelay:O,type:V,onUpdate:U,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const K=this.currentTime-v*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?K<0:K>o;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,_e=r;if(x){const N=Math.min(this.currentTime,o)/m;let M=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&M--,M=Math.min(M,x+1),!!(M%2)&&(A==="reverse"?(F=1-F,O&&(F-=O/m)):A==="mirror"&&(_e=h)),Q=Ca(0,1,F)*m}const J=G?{done:!1,value:b[0]}:_e.next(Q);u&&(J.value=u(J.value));let{done:ue}=J;!G&&y!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return j&&V!==ky&&(J.value=Av(b,this.options,B,this.speed)),U&&U(J.value),j&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){e=Ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=G5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Rl=t=>t*180/Math.PI,Vy=t=>{const e=Rl(Math.atan2(t[1],t[0]));return Uy(e)},c6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vy,rotateZ:Vy,skewX:t=>Rl(Math.atan(t[1])),skewY:t=>Rl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Uy=t=>(t=t%360,t<0&&(t+=360),t),zT=Vy,BT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),h6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:jT,scale:t=>(BT(t)+jT(t))/2,rotateX:t=>Uy(Rl(Math.atan2(t[6],t[5]))),rotateY:t=>Uy(Rl(Math.atan2(-t[2],t[0]))),rotateZ:zT,rotate:zT,skewX:t=>Rl(Math.atan(t[4])),skewY:t=>Rl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zy(t){return t.includes("scale")?1:0}function By(t,e){if(!t||t==="none")return zy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=h6,o=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=c6,o=m}if(!o)return zy(e);const u=r[e],h=o[1].split(",").map(d6);return typeof u=="function"?u(h):h[u]}const f6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return By(n,e)};function d6(t){return parseFloat(t.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hc=new Set(cc),FT=t=>t===uc||t===it,m6=new Set(["x","y","z"]),p6=cc.filter(t=>!m6.has(t));function g6(t){const e=[];return p6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Il={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>By(e,"x"),y:(t,{transform:e})=>By(e,"y")};Il.translateX=Il.x;Il.translateY=Il.y;const Ol=new Set;let jy=!1,Fy=!1,Hy=!1;function vC(){if(Fy){const t=Array.from(Ol).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=g6(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,h])=>{r.getValue(u)?.set(h)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fy=!1,jy=!1,Ol.forEach(t=>t.complete(Hy)),Ol.clear()}function EC(){Ol.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fy=!0)})}function y6(){Hy=!0,EC(),vC(),Hy=!1}class Nv{constructor(e,n,r,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ol.add(this),jy||(jy=!0,ln.read(EC),ln.resolveKeyframes(vC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o?.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const m=r.readValue(n,h);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}u6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ol.delete(this)}cancel(){this.state==="scheduled"&&(Ol.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _6=t=>t.startsWith("--");function v6(t,e,n){_6(e)?t.style.setProperty(e,n):t.style[e]=n}const E6=gv(()=>window.ScrollTimeline!==void 0),b6={};function w6(t,e){const n=gv(t);return()=>b6[e]??n()}const bC=w6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function wC(t,e){if(t)return typeof t=="function"?bC()?gC(t,e):"ease-out":aC(t)?hh(t):Array.isArray(t)?t.map(n=>wC(n,e)||HT.easeOut):HT[t]}function T6(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:m="easeOut",times:y}={},v=void 0){const b={[e]:n};y&&(b.offset=y);const x=wC(m,o);Array.isArray(x)&&(b.easing=x);const A={delay:r,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return v&&(A.pseudoElement=v),t.animate(b,A)}function TC(t){return typeof t=="function"&&"applyToOptions"in t}function x6({type:t,...e}){return TC(t)&&bC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class S6 extends Cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,pv(typeof e.type!="string");const v=x6(e);this.animation=T6(n,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=Av(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):v6(n,r,b),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&E6()?(this.animation.timeline=e,Ir):n(this)}}const xC={anticipate:nC,backInOut:tC,circInOut:rC};function A6(t){return t in xC}function C6(t){typeof t.ease=="string"&&A6(t.ease)&&(t.ease=xC[t.ease])}const qT=10;class R6 extends S6{constructor(e){C6(e),_C(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Rv({...h,autoplay:!1}),y=Ds(this.finishedTime??this.time);n.setWithVelocity(m.sample(y-qT).value,m.sample(y).value,qT),m.stop()}}const GT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ho.test(t)||t==="0")&&!t.startsWith("url("));function N6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function P6(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],h=GT(o,e),m=GT(u,e);return!h||!m?!1:N6(t)||(n==="spring"||TC(n))&&r}function qy(t){t.duration=0,t.type="keyframes"}const I6=new Set(["opacity","clipPath","filter","transform"]),O6=gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:h}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=e.owner.getProps();return O6()&&n&&I6.has(n)&&(n!=="transform"||!v)&&!y&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const D6=40;class L6 extends Cv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:m,name:y,motionValue:v,element:b,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bi.now();const A={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:h,name:y,motionValue:v,element:b,...x},O=b?.KeyframeResolver||Nv;this.keyframeResolver=new O(m,(V,U,B)=>this.onKeyframesResolved(V,U,A,!B),y,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:m,delay:y,isHandoff:v,onUpdate:b}=r;this.resolvedAt=Bi.now(),P6(e,u,h,m)||((Ra.instantAnimations||!y)&&b?.(Av(e,r,n)),e[0]=e[e.length-1],qy(r),r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>D6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},O=!v&&M6(A)?new R6({...A,element:A.motionValue.owner.current}):new Rv(A);O.finished.then(()=>this.notifyFinished()).catch(Ir),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const k6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V6(t){const e=k6.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function SC(t,e,n=1){const[r,o]=V6(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const h=u.trim();return ZA(h)?parseFloat(h):h}return bv(o)?SC(o,e,n+1):o}function Pv(t,e){return t?.[e]??t?.default??t}const AC=new Set(["width","height","top","left","right","bottom",...cc]),U6={test:t=>t==="auto",parse:t=>t},CC=t=>e=>e.test(t),RC=[uc,it,Ls,bo,N5,R5,U6],$T=t=>RC.find(CC(t));function z6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WA(t):!0}const B6=new Set(["brightness","contrast","saturate","opacity"]);function j6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wv)||[];if(!r)return t;const o=n.replace(r,"");let u=B6.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const F6=/\b([a-z-]*)\(.*?\)/gu,Gy={...Ho,getAnimatableNone:t=>{const e=t.match(F6);return e?e.map(j6).join(" "):t}},ZT={...uc,transform:Math.round},H6={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:gd,scaleX:gd,scaleY:gd,scaleZ:gd,skew:bo,skewX:bo,skewY:bo,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Dh,originX:DT,originY:DT,originZ:it},Iv={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it,...H6,zIndex:ZT,fillOpacity:Dh,strokeOpacity:Dh,numOctaves:ZT},q6={...Iv,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Gy,WebkitFilter:Gy},NC=t=>q6[t];function PC(t,e){let n=NC(t);return n!==Gy&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G6=new Set(["auto","none","0"]);function $6(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!G6.has(u)&&Lh(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=PC(n,o)}class Z6 extends Nv{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),bv(v))){const b=SC(v,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!AC.has(r)||e.length!==2)return;const[o,u]=e,h=$T(o),m=$T(u);if(h!==m)if(FT(h)&&FT(m))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Il[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||z6(e[o]))&&r.push(o);r.length&&$6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=Il[n](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{e.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function K6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const IC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W6(t){return KA(t)&&"offsetHeight"in t}const KT=30,Y6=t=>!isNaN(parseFloat(t));class X6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Bi.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KT);return YA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ec(t,e){return new X6(t,e)}const{schedule:Ov}=oC(queueMicrotask,!1),Jr={x:!1,y:!1};function OC(){return Jr.x||Jr.y}function Q6(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function MC(t,e){const n=K6(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function WT(t){return!(t.pointerType==="touch"||OC())}function J6(t,e,n={}){const[r,o,u]=MC(t,n),h=m=>{if(!WT(m))return;const{target:y}=m,v=e(y,m);if(typeof v!="function"||!y)return;const b=x=>{WT(x)&&(v(x),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,o)};return r.forEach(m=>{m.addEventListener("pointerenter",h,o)}),u}const DC=(t,e)=>e?t===e?!0:DC(t,e.parentElement):!1,Mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t9(t){return e9.has(t.tagName)||t.tabIndex!==-1}const Id=new WeakSet;function YT(t){return e=>{e.key==="Enter"&&t(e)}}function $g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YT(()=>{if(Id.has(n))return;$g(n,"down");const o=YT(()=>{$g(n,"up")}),u=()=>$g(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XT(t){return Mv(t)&&!OC()}function i9(t,e,n={}){const[r,o,u]=MC(t,n),h=m=>{const y=m.currentTarget;if(!XT(m))return;Id.add(y);const v=e(y,m),b=(O,V)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",A),Id.has(y)&&Id.delete(y),XT(O)&&typeof v=="function"&&v(O,{success:V})},x=O=>{b(O,y===window||y===document||n.useGlobalTarget||DC(y,O.target))},A=O=>{b(O,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",A,o)};return r.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",h,o),W6(m)&&(m.addEventListener("focus",v=>n9(v,o)),!t9(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function LC(t){return KA(t)&&"ownerSVGElement"in t}function r9(t){return LC(t)&&t.tagName==="svg"}const vi=t=>!!(t&&t.getVelocity),s9=[...RC,In,Ho],a9=t=>s9.find(CC(t)),kC=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function o9(t=!0){const e=k.useContext(fv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=k.useId();k.useEffect(()=>{if(t)return o(u)},[t]);const h=k.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,h]:[!0]}const VC=k.createContext({strict:!1}),QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tc={};for(const t in QT)tc[t]={isEnabled:e=>QT[t].some(n=>!!e[n])};function l9(t){for(const e in t)tc[e]={...tc[e],...t[e]}}const u9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||u9.has(t)}let UC=t=>!lm(t);function c9(t){typeof t=="function"&&(UC=e=>e.startsWith("on")?!lm(e):t(e))}try{c9(require("@emotion/is-prop-valid").default)}catch{}function h9(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(UC(o)||n===!0&&lm(o)||!e&&!lm(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Um=k.createContext({});function zm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kh(t){return typeof t=="string"||Array.isArray(t)}const Dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lv=["initial",...Dv];function Bm(t){return zm(t.animate)||Lv.some(e=>kh(t[e]))}function zC(t){return!!(Bm(t)||t.variants)}function f9(t,e){if(Bm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kh(n)?n:void 0,animate:kh(r)?r:void 0}}return t.inherit!==!1?e:{}}function d9(t){const{initial:e,animate:n}=f9(t,k.useContext(Um));return k.useMemo(()=>({initial:e,animate:n}),[JT(e),JT(n)])}function JT(t){return Array.isArray(t)?t.join(" "):t}const Vh={};function m9(t){for(const e in t)Vh[e]=t[e],Ev(e)&&(Vh[e].isCSSVariable=!0)}function BC(t,{layout:e,layoutId:n}){return hc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vh[t]||t==="opacity")}const p9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g9=cc.length;function y9(t,e,n){let r="",o=!0;for(let u=0;u<g9;u++){const h=cc[u],m=t[h];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(h.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||n){const v=IC(m,Iv[h]);if(!y){o=!1;const b=p9[h]||h;r+=`${b}(${v}) `}n&&(e[h]=v)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function kv(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let h=!1,m=!1;for(const y in e){const v=e[y];if(hc.has(y)){h=!0;continue}else if(Ev(y)){o[y]=v;continue}else{const b=IC(v,Iv[y]);y.startsWith("origin")?(m=!0,u[y]=b):r[y]=b}}if(e.transform||(h||n?r.transform=y9(e,t.transform,n):r.transform&&(r.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:b=0}=u;r.transformOrigin=`${y} ${v} ${b}`}}const Vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jC(t,e,n){for(const r in e)!vi(e[r])&&!BC(r,n)&&(t[r]=e[r])}function _9({transformTemplate:t},e){return k.useMemo(()=>{const n=Vv();return kv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function v9(t,e){const n=t.style||{},r={};return jC(r,n,t),Object.assign(r,_9(t,e)),r}function E9(t,e){const n={},r=v9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const b9={offset:"stroke-dashoffset",array:"stroke-dasharray"},w9={offset:"strokeDashoffset",array:"strokeDasharray"};function T9(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?b9:w9;t[u.offset]=it.transform(-r);const h=it.transform(e),m=it.transform(n);t[u.array]=`${h} ${m}`}function FC(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...m},y,v,b){if(kv(t,m,v),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:A}=t;x.transform&&(A.transform=x.transform,delete x.transform),(A.transform||x.transformOrigin)&&(A.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),A.transform&&(A.transformBox=b?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),o!==void 0&&T9(x,o,u,h,!1)}const HC=()=>({...Vv(),attrs:{}}),qC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function x9(t,e,n,r){const o=k.useMemo(()=>{const u=HC();return FC(u,e,qC(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};jC(u,t.style,t),o.style={...u,...o.style}}return o}const S9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uv(t){return typeof t!="string"||t.includes("-")?!1:!!(S9.indexOf(t)>-1||/[A-Z]/u.test(t))}function A9(t,e,n,{latestValues:r},o,u=!1){const m=(Uv(t)?x9:E9)(e,r,o,t),y=h9(e,typeof t=="string",u),v=t!==k.Fragment?{...y,...m,ref:n}:{},{children:b}=e,x=k.useMemo(()=>vi(b)?b.get():b,[b]);return k.createElement(t,{...v,children:x})}function ex(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zv(t,e,n,r){if(typeof e=="function"){const[o,u]=ex(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=ex(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function Od(t){return vi(t)?t.get():t}function C9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:R9(n,r,o,t),renderState:e()}}function R9(t,e,n,r){const o={},u=r(t,{});for(const A in u)o[A]=Od(u[A]);let{initial:h,animate:m}=t;const y=Bm(t),v=zC(t);e&&v&&!y&&t.inherit!==!1&&(h===void 0&&(h=e.initial),m===void 0&&(m=e.animate));let b=n?n.initial===!1:!1;b=b||h===!1;const x=b?m:h;if(x&&typeof x!="boolean"&&!zm(x)){const A=Array.isArray(x)?x:[x];for(let O=0;O<A.length;O++){const V=zv(t,A[O]);if(V){const{transitionEnd:U,transition:B,...K}=V;for(const G in K){let Q=K[G];if(Array.isArray(Q)){const _e=b?Q.length-1:0;Q=Q[_e]}Q!==null&&(o[G]=Q)}for(const G in U)o[G]=U[G]}}}return o}const GC=t=>(e,n)=>{const r=k.useContext(Um),o=k.useContext(fv),u=()=>C9(t,e,r,o);return n?u():l5(u)};function Bv(t,e,n){const{style:r}=t,o={};for(const u in r)(vi(r[u])||e.style&&vi(e.style[u])||BC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const N9=GC({scrapeMotionValuesFromProps:Bv,createRenderState:Vv});function $C(t,e,n){const r=Bv(t,e,n);for(const o in t)if(vi(t[o])||vi(e[o])){const u=cc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const P9=GC({scrapeMotionValuesFromProps:$C,createRenderState:HC}),I9=Symbol.for("motionComponentSymbol");function ku(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O9(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ku(n)&&(n.current=r))},[e])}const jv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M9="framerAppearId",ZC="data-"+jv(M9),KC=k.createContext({});function D9(t,e,n,r,o){const{visualElement:u}=k.useContext(Um),h=k.useContext(VC),m=k.useContext(fv),y=k.useContext(kC).reducedMotion,v=k.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const b=v.current,x=k.useContext(KC);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&L9(v.current,n,o,x);const A=k.useRef(!1);k.useInsertionEffect(()=>{b&&A.current&&b.update(n,m)});const O=n[ZC],V=k.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return u5(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),V.current&&b.animationState&&b.animationState.animateChanges())}),k.useEffect(()=>{b&&(!V.current&&b.animationState&&b.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),V.current=!1),b.enteringChildren=void 0)}),b}function L9(t,e,n,r){const{layoutId:o,layout:u,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:v,layoutCrossfade:b}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WC(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||m&&ku(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:y,layoutRoot:v})}function WC(t){if(t)return t.options.allowProjection!==!1?t.projection:WC(t.parent)}function Zg(t,{forwardMotionProps:e=!1}={},n,r){n&&l9(n);const o=Uv(t)?P9:N9;function u(m,y){let v;const b={...k.useContext(kC),...m,layoutId:k9(m)},{isStatic:x}=b,A=d9(m),O=o(m,x);if(!x&&hv){V9();const V=U9(b);v=V.MeasureLayout,A.visualElement=D9(t,O,b,r,V.ProjectionNode)}return Oy.jsxs(Um.Provider,{value:A,children:[v&&A.visualElement?Oy.jsx(v,{visualElement:A.visualElement,...b}):null,A9(t,m,O9(O,A.visualElement,y),O,x,e)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=k.forwardRef(u);return h[I9]=t,h}function k9({layoutId:t}){const e=k.useContext($A).id;return e&&t!==void 0?e+"-"+t:t}function V9(t,e){k.useContext(VC).strict}function U9(t){const{drag:e,layout:n}=tc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function z9(t,e){if(typeof Proxy>"u")return Zg;const n=new Map,r=(u,h)=>Zg(u,h,t,e),o=(u,h)=>r(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?r:(n.has(h)||n.set(h,Zg(h,void 0,t,e)),n.get(h))})}function YC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function B9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function j9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kg(t){return t===void 0||t===1}function $y({scale:t,scaleX:e,scaleY:n}){return!Kg(t)||!Kg(e)||!Kg(n)}function Sl(t){return $y(t)||XC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XC(t){return tx(t.x)||tx(t.y)}function tx(t){return t&&t!=="0%"}function um(t,e,n){const r=t-n,o=e*r;return n+o}function nx(t,e,n,r,o){return o!==void 0&&(t=um(t,o,r)),um(t,n,r)+e}function Zy(t,e=0,n=1,r,o){t.min=nx(t.min,e,n,r,o),t.max=nx(t.max,e,n,r,o)}function QC(t,{x:e,y:n}){Zy(t.x,e.translate,e.scale,e.originPoint),Zy(t.y,n.translate,n.scale,n.originPoint)}const ix=.999999999999,rx=1.0000000000001;function F9(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,h;for(let m=0;m<o;m++){u=n[m],h=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Uu(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,QC(t,h)),r&&Sl(u.latestValues)&&Uu(t,u.latestValues))}e.x<rx&&e.x>ix&&(e.x=1),e.y<rx&&e.y>ix&&(e.y=1)}function Vu(t,e){t.min=t.min+e,t.max=t.max+e}function sx(t,e,n,r,o=.5){const u=fn(t.min,t.max,o);Zy(t,e,n,u,r)}function Uu(t,e){sx(t.x,e.x,e.scaleX,e.scale,e.originX),sx(t.y,e.y,e.scaleY,e.scale,e.originY)}function JC(t,e){return YC(j9(t.getBoundingClientRect(),e))}function H9(t,e,n){const r=JC(t,n),{scroll:o}=e;return o&&(Vu(r.x,o.offset.x),Vu(r.y,o.offset.y)),r}const ax=()=>({translate:0,scale:1,origin:0,originPoint:0}),zu=()=>({x:ax(),y:ax()}),ox=()=>({min:0,max:0}),Tn=()=>({x:ox(),y:ox()}),Ky={current:null},e2={current:!1};function q9(){if(e2.current=!0,!!hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ky.current=t.matches;t.addEventListener("change",e),e()}else Ky.current=!1}const G9=new WeakMap;function $9(t,e,n){for(const r in e){const o=e[r],u=n[r];if(vi(o))t.addValue(r,o);else if(vi(u))t.addValue(r,ec(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const h=t.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=t.getStaticValue(r);t.addValue(r,ec(h!==void 0?h:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Bi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ln.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Bm(n),this.isVariantNode=zC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in x){const O=x[A];y[A]!==void 0&&vi(O)&&O.set(y[A])}}mount(e){this.current=e,G9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e2.current||q9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ky.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fo(this.notifyUpdate),Fo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hc.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ln.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tc){const n=tc[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lx.length;r++){const o=lx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=e[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=$9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ec(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZA(r)||WA(r))?r=parseFloat(r):!a9(r)&&Ho.test(n)&&(r=PC(e,n)),this.setBaseTarget(e,vi(r)?r.get():r)),vi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=zv(this.props,n,this.presenceContext?.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!vi(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ov.render(this.render)}}class t2 extends Z9{constructor(){super(...arguments),this.KeyframeResolver=Z6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n2(t,{style:e,vars:n},r,o){const u=t.style;let h;for(h in e)u[h]=e[h];o?.applyProjectionStyles(u,r);for(h in n)u.setProperty(h,n[h])}function K9(t){return window.getComputedStyle(t)}class W9 extends t2{constructor(){super(...arguments),this.type="html",this.renderInstance=n2}readValueFromInstance(e,n){if(hc.has(n))return this.projection?.isProjecting?zy(n):f6(e,n);{const r=K9(e),o=(Ev(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JC(e,n)}build(e,n,r){kv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Bv(e,n,r)}}const i2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y9(t,e,n,r){n2(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(i2.has(o)?o:jv(o),e.attrs[o])}class X9 extends t2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hc.has(n)){const r=NC(n);return r&&r.default||0}return n=i2.has(n)?n:jv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $C(e,n,r)}build(e,n,r){FC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){Y9(e,n,r,o)}mount(e){this.isSVGTag=qC(e.tagName),super.mount(e)}}const Q9=(t,e)=>Uv(t)?new X9(e):new W9(e,{allowProjection:t!==k.Fragment});function Gu(t,e,n){const r=t.getProps();return zv(r,e,n!==void 0?n:r.custom,t)}const Wy=t=>Array.isArray(t);function J9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ec(n))}function eU(t){return Wy(t)?t[t.length-1]||0:t}function tU(t,e){const n=Gu(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const h in u){const m=eU(u[h]);J9(t,h,m)}}function nU(t){return!!(vi(t)&&t.add)}function Yy(t,e){const n=t.getValue("willChange");if(nU(n))return n.add(e);if(!n&&Ra.WillChange){const r=new Ra.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function r2(t){return t.props[ZC]}const iU=t=>t!==null;function rU(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(iU),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const sU={type:"spring",stiffness:500,damping:25,restSpeed:10},aU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oU={type:"keyframes",duration:.8},lU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uU=(t,{keyframes:e})=>e.length>2?oU:hc.has(t)?t.startsWith("scale")?aU(e[1]):sU:lU;function cU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:m,from:y,elapsed:v,...b}){return!!Object.keys(b).length}const Fv=(t,e,n,r={},o,u)=>h=>{const m=Pv(r,t)||{},y=m.delay||r.delay||0;let{elapsed:v=0}=r;v=v-Ds(y);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-v,onUpdate:A=>{e.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:u?void 0:o};cU(m)||Object.assign(b,uU(t,b)),b.duration&&(b.duration=Ds(b.duration)),b.repeatDelay&&(b.repeatDelay=Ds(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let x=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(qy(b),b.delay===0&&(x=!0)),(Ra.instantAnimations||Ra.skipAnimations)&&(x=!0,qy(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,x&&!u&&e.get()!==void 0){const A=rU(b.keyframes,m);if(A!==void 0){ln.update(()=>{b.onUpdate(A),b.onComplete()});return}}return m.isSync?new Rv(b):new L6(b)};function hU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s2(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...m}=e;r&&(u=r);const y=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const b in m){const x=t.getValue(b,t.latestValues[b]??null),A=m[b];if(A===void 0||v&&hU(v,b))continue;const O={delay:n,...Pv(u||{},b)},V=x.get();if(V!==void 0&&!x.isAnimating&&!Array.isArray(A)&&A===V&&!O.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const K=r2(t);if(K){const G=window.MotionHandoffAnimation(K,b,ln);G!==null&&(O.startTime=G,U=!0)}}Yy(t,b),x.start(Fv(b,x,A,t.shouldReduceMotion&&AC.has(b)?{type:!1}:O,t,U));const B=x.animation;B&&y.push(B)}return h&&Promise.all(y).then(()=>{ln.update(()=>{h&&tU(t,h)})}),y}function a2(t,e,n,r=0,o=1){const u=Array.from(t).sort((v,b)=>v.sortNodePosition(b)).indexOf(e),h=t.size,m=(h-1)*r;return typeof n=="function"?n(u,h):o===1?u*r:m-u*r}function Xy(t,e,n={}){const r=Gu(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(s2(t,r,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=o;return fU(t,e,y,v,b,x,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[y,v]=m==="beforeChildren"?[u,h]:[h,u];return y().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function fU(t,e,n=0,r=0,o=0,u=1,h){const m=[];for(const y of t.variantChildren)y.notify("AnimationStart",e),m.push(Xy(y,e,{...h,delay:n+(typeof r=="function"?0:r)+a2(t.variantChildren,y,r,o,u)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function dU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Xy(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=Xy(t,e,n);else{const o=typeof e=="function"?Gu(t,e,n.custom):e;r=Promise.all(s2(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function o2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mU=Lv.length;function l2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?l2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mU;n++){const r=Lv[n],o=t.props[r];(kh(o)||o===!1)&&(e[r]=o)}return e}const pU=[...Dv].reverse(),gU=Dv.length;function yU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dU(t,n,r)))}function _U(t){let e=yU(t),n=ux(),r=!0;const o=y=>(v,b)=>{const x=Gu(t,b,y==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:A,transitionEnd:O,...V}=x;v={...v,...V,...O}}return v};function u(y){e=y(t)}function h(y){const{props:v}=t,b=l2(t.parent)||{},x=[],A=new Set;let O={},V=1/0;for(let B=0;B<gU;B++){const K=pU[B],G=n[K],Q=v[K]!==void 0?v[K]:b[K],_e=kh(Q),J=K===y?G.isActive:null;J===!1&&(V=B);let ue=Q===b[K]&&Q!==v[K]&&_e;if(ue&&r&&t.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...O},!G.isActive&&J===null||!Q&&!G.prevProp||zm(Q)||typeof Q=="boolean")continue;const j=vU(G.prevProp,Q);let N=j||K===y&&G.isActive&&!ue&&_e||B>V&&_e,M=!1;const F=Array.isArray(Q)?Q:[Q];let q=F.reduce(o(K),{});J===!1&&(q={});const{prevResolvedValues:Y={}}=G,H={...Y,...q},Ze=ge=>{N=!0,A.has(ge)&&(M=!0,A.delete(ge)),G.needsAnimating[ge]=!0;const pe=t.getValue(ge);pe&&(pe.liveStyle=!1)};for(const ge in H){const pe=q[ge],$e=Y[ge];if(O.hasOwnProperty(ge))continue;let z=!1;Wy(pe)&&Wy($e)?z=!o2(pe,$e):z=pe!==$e,z?pe!=null?Ze(ge):A.add(ge):pe!==void 0&&A.has(ge)?Ze(ge):G.protectedKeys[ge]=!0}G.prevProp=Q,G.prevResolvedValues=q,G.isActive&&(O={...O,...q}),r&&t.blockInitialAnimation&&(N=!1);const Ue=ue&&j;N&&(!Ue||M)&&x.push(...F.map(ge=>{const pe={type:K};if(typeof ge=="string"&&r&&!Ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:$e}=t,z=Gu($e,ge);if($e.enteringChildren&&z){const{delayChildren:W}=z.transition||{};pe.delay=a2($e.enteringChildren,t,W)}}return{animation:ge,options:pe}}))}if(A.size){const B={};if(typeof v.initial!="boolean"){const K=Gu(t,Array.isArray(v.initial)?v.initial[0]:v.initial);K&&K.transition&&(B.transition=K.transition)}A.forEach(K=>{const G=t.getBaseTarget(K),Q=t.getValue(K);Q&&(Q.liveStyle=!0),B[K]=G??null}),x.push({animation:B})}let U=!!x.length;return r&&(v.initial===!1||v.initial===v.animate)&&!t.manuallyAnimateOnMount&&(U=!1),r=!1,U?e(x):Promise.resolve()}function m(y,v){if(n[y].isActive===v)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(y,v)),n[y].isActive=v;const b=h(y);for(const x in n)n[x].protectedKeys={};return b}return{animateChanges:h,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=ux(),r=!0}}}function vU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o2(e,t):!1}function Tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ux(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class Ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EU extends Ko{constructor(e){super(e),e.animationState||(e.animationState=_U(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bU=0;class wU extends Ko{constructor(){super(...arguments),this.id=bU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TU={animation:{Feature:EU},exit:{Feature:wU}};function Uh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rf(t){return{point:{x:t.pageX,y:t.pageY}}}const xU=t=>e=>Mv(e)&&t(e,rf(e));function vh(t,e,n,r){return Uh(t,e,xU(n),r)}const u2=1e-4,SU=1-u2,AU=1+u2,c2=.01,CU=0-c2,RU=0+c2;function Ii(t){return t.max-t.min}function NU(t,e,n){return Math.abs(t-e)<=n}function cx(t,e,n,r=.5){t.origin=r,t.originPoint=fn(e.min,e.max,t.origin),t.scale=Ii(n)/Ii(e),t.translate=fn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SU&&t.scale<=AU||isNaN(t.scale))&&(t.scale=1),(t.translate>=CU&&t.translate<=RU||isNaN(t.translate))&&(t.translate=0)}function Eh(t,e,n,r){cx(t.x,e.x,n.x,r?r.originX:void 0),cx(t.y,e.y,n.y,r?r.originY:void 0)}function hx(t,e,n){t.min=n.min+e.min,t.max=t.min+Ii(e)}function PU(t,e,n){hx(t.x,e.x,n.x),hx(t.y,e.y,n.y)}function fx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ii(e)}function bh(t,e,n){fx(t.x,e.x,n.x),fx(t.y,e.y,n.y)}function Cr(t){return[t("x"),t("y")]}const h2=({current:t})=>t?t.ownerDocument.defaultView:null,dx=(t,e)=>Math.abs(t-e);function IU(t,e){const n=dx(t.x,e.x),r=dx(t.y,e.y);return Math.sqrt(n**2+r**2)}class f2{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Yg(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,V=IU(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!V)return;const{point:U}=A,{timestamp:B}=ii;this.history.push({...U,timestamp:B});const{onStart:K,onMove:G}=this.handlers;O||(K&&K(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,A)},this.handlePointerMove=(A,O)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Wg(O,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(A,O)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=Yg(A.type==="pointercancel"?this.lastMoveEventInfo:Wg(O,this.transformPagePoint),this.history);this.startEvent&&V&&V(A,K),U&&U(A,K)},!Mv(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=h,this.contextWindow=o||window;const m=rf(e),y=Wg(m,this.transformPagePoint),{point:v}=y,{timestamp:b}=ii;this.history=[{...v,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Yg(y,this.history)),this.removeListeners=ef(vh(this.contextWindow,"pointermove",this.handlePointerMove),vh(this.contextWindow,"pointerup",this.handlePointerUp),vh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fo(this.updatePoint)}}function Wg(t,e){return e?{point:e(t.point)}:t}function mx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:mx(t,d2(e)),offset:mx(t,OU(e)),velocity:MU(e,.1)}}function OU(t){return t[0]}function d2(t){return t[t.length-1]}function MU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=d2(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ds(e)));)n--;if(!r)return{x:0,y:0};const u=Pr(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function DU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fn(n,t,r.max):Math.min(t,n)),t}function px(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LU(t,{top:e,left:n,bottom:r,right:o}){return{x:px(t.x,n,o),y:px(t.y,e,r)}}function gx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kU(t,e){return{x:gx(t.x,e.x),y:gx(t.y,e.y)}}function VU(t,e){let n=.5;const r=Ii(t),o=Ii(e);return o>r?n=Mh(e.min,e.max-r,t.min):r>o&&(n=Mh(t.min,t.max-o,e.min)),Ca(0,1,n)}function UU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qy=.35;function zU(t=Qy){return t===!1?t=0:t===!0&&(t=Qy),{x:yx(t,"left","right"),y:yx(t,"top","bottom")}}function yx(t,e,n){return{min:_x(t,e),max:_x(t,n)}}function _x(t,e){return typeof t=="number"?t:t[e]||0}const BU=new WeakMap;class jU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rf(x).point)},h=(x,A)=>{const{drag:O,dragPropagation:V,onDragStart:U}=this.getProps();if(O&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q6(O),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(K=>{let G=this.getAxisMotionValue(K).get()||0;if(Ls.test(G)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const _e=Q.layout.layoutBox[K];_e&&(G=Ii(_e)*(parseFloat(G)/100))}}this.originPoint[K]=G}),U&&ln.postRender(()=>U(x,A)),Yy(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},m=(x,A)=>{this.latestPointerEvent=x,this.latestPanInfo=A;const{dragPropagation:O,dragDirectionLock:V,onDirectionLock:U,onDrag:B}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:K}=A;if(V&&this.currentDirection===null){this.currentDirection=FU(K),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",A.point,K),this.updateAxis("y",A.point,K),this.visualElement.render(),B&&B(x,A)},y=(x,A)=>{this.latestPointerEvent=x,this.latestPanInfo=A,this.stop(x,A),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Cr(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new f2(e,{onSessionStart:u,onStart:h,onMove:m,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:h2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&ln.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!yd(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(h=DU(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ku(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=LU(r.layoutBox,e):this.constraints=!1,this.elastic=zU(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=UU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ku(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=H9(r,o.root,this.visualElement.getTransformPagePoint());let h=kU(o.layout.layoutBox,u);if(n){const m=n(B9(h));this.hasMutatedConstraints=!!m,m&&(h=YC(m))}return h}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},v=Cr(b=>{if(!yd(b,n,this.currentDirection))return;let x=y&&y[b]||{};h&&(x={min:0,max:0});const A=o?200:1e6,O=o?40:1e7,V={type:"inertia",velocity:r?e[b]:0,bounceStiffness:A,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(b,V)});return Promise.all(v).then(m)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yy(this.visualElement,e),r.start(Fv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cr(n=>{const{drag:r}=this.getProps();if(!yd(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:h,max:m}=o.layout.layoutBox[n];u.set(e[n]-fn(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ku(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Cr(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const y=m.get();o[h]=VU({min:y,max:y},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cr(h=>{if(!yd(h,e,null))return;const m=this.getAxisMotionValue(h),{min:y,max:v}=this.constraints[h];m.set(fn(y,v,o[h]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=vh(e,"pointerdown",y=>{const{drag:v,dragListener:b=!0}=this.getProps();v&&b&&this.start(y)}),r=()=>{const{dragConstraints:y}=this.getProps();ku(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ln.read(r);const h=Uh(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(Cr(b=>{const x=this.getAxisMotionValue(b);x&&(this.originPoint[b]+=y[b].translate,x.set(x.get()+y[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=Qy,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:m}}}function yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HU extends Ko{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new jU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const vx=t=>(e,n)=>{t&&ln.postRender(()=>t(e,n))};class qU extends Ko{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new f2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:vx(e),onStart:vx(n),onMove:r,onEnd:(u,h)=>{delete this.session,o&&ln.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=vh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ex(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ih={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(it.test(t))t=parseFloat(t);else return t;const n=Ex(t,e.target.x),r=Ex(t,e.target.y);return`${n}% ${r}%`}},GU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Ho.parse(t);if(o.length>5)return r;const u=Ho.createTransformer(t),h=typeof o[0]!="number"?1:0,m=n.x.scale*e.x,y=n.y.scale*e.y;o[0+h]/=m,o[1+h]/=y;const v=fn(m,y,.5);return typeof o[2+h]=="number"&&(o[2+h]/=v),typeof o[3+h]=="number"&&(o[3+h]/=v),u(o)}};let Xg=!1;class $U extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;m9(ZU),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),Xg&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,Xg=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||ln.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ov.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;Xg=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m2(t){const[e,n]=o9(),r=k.useContext($A);return Oy.jsx($U,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(KC),isPresent:e,safeToRemove:n})}const ZU={borderRadius:{...ih,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ih,borderTopRightRadius:ih,borderBottomLeftRadius:ih,borderBottomRightRadius:ih,boxShadow:GU};function KU(t,e,n){const r=vi(t)?t:ec(t);return r.start(Fv("",r,e,n)),r.animation}const WU=(t,e)=>t.depth-e.depth;class YU{constructor(){this.children=[],this.isDirty=!1}add(e){dv(this.children,e),this.isDirty=!0}remove(e){mv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WU),this.isDirty=!1,this.children.forEach(e)}}function XU(t,e){const n=Bi.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(Fo(r),t(u-e))};return ln.setup(r,!0),()=>Fo(r)}const p2=["TopLeft","TopRight","BottomLeft","BottomRight"],QU=p2.length,bx=t=>typeof t=="string"?parseFloat(t):t,wx=t=>typeof t=="number"||it.test(t);function JU(t,e,n,r,o,u){o?(t.opacity=fn(0,n.opacity??1,ez(r)),t.opacityExit=fn(e.opacity??1,0,tz(r))):u&&(t.opacity=fn(e.opacity??1,n.opacity??1,r));for(let h=0;h<QU;h++){const m=`border${p2[h]}Radius`;let y=Tx(e,m),v=Tx(n,m);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||wx(y)===wx(v)?(t[m]=Math.max(fn(bx(y),bx(v),r),0),(Ls.test(v)||Ls.test(y))&&(t[m]+="%")):t[m]=v}(e.rotate||n.rotate)&&(t.rotate=fn(e.rotate||0,n.rotate||0,r))}function Tx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ez=g2(0,.5,iC),tz=g2(.5,.95,Ir);function g2(t,e,n){return r=>r<t?0:r>e?1:n(Mh(t,e,r))}function xx(t,e){t.min=e.min,t.max=e.max}function Ar(t,e){xx(t.x,e.x),xx(t.y,e.y)}function Sx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ax(t,e,n,r,o){return t-=e,t=um(t,1/n,r),o!==void 0&&(t=um(t,1/o,r)),t}function nz(t,e=0,n=1,r=.5,o,u=t,h=t){if(Ls.test(e)&&(e=parseFloat(e),e=fn(h.min,h.max,e/100)-h.min),typeof e!="number")return;let m=fn(u.min,u.max,r);t===u&&(m-=e),t.min=Ax(t.min,e,n,m,o),t.max=Ax(t.max,e,n,m,o)}function Cx(t,e,[n,r,o],u,h){nz(t,e[n],e[r],e[o],e.scale,u,h)}const iz=["x","scaleX","originX"],rz=["y","scaleY","originY"];function Rx(t,e,n,r){Cx(t.x,e,iz,n?n.x:void 0,r?r.x:void 0),Cx(t.y,e,rz,n?n.y:void 0,r?r.y:void 0)}function Nx(t){return t.translate===0&&t.scale===1}function y2(t){return Nx(t.x)&&Nx(t.y)}function Px(t,e){return t.min===e.min&&t.max===e.max}function sz(t,e){return Px(t.x,e.x)&&Px(t.y,e.y)}function Ix(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _2(t,e){return Ix(t.x,e.x)&&Ix(t.y,e.y)}function Ox(t){return Ii(t.x)/Ii(t.y)}function Mx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class az{constructor(){this.members=[]}add(e){dv(this.members,e),e.scheduleRender()}remove(e){if(mv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oz(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,h=n?.z||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:v,rotate:b,rotateX:x,rotateY:A,skewX:O,skewY:V}=n;v&&(r=`perspective(${v}px) ${r}`),b&&(r+=`rotate(${b}deg) `),x&&(r+=`rotateX(${x}deg) `),A&&(r+=`rotateY(${A}deg) `),O&&(r+=`skewX(${O}deg) `),V&&(r+=`skewY(${V}deg) `)}const m=t.x.scale*e.x,y=t.y.scale*e.y;return(m!==1||y!==1)&&(r+=`scale(${m}, ${y})`),r||"none"}const Qg=["","X","Y","Z"],lz=1e3;let uz=0;function Jg(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function v2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ln,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&v2(r)}function E2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},m=e?.()){this.id=uz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fz),this.nodes.forEach(gz),this.nodes.forEach(yz),this.nodes.forEach(dz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new YU)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new yv),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const y=this.eventHandlers.get(h);y&&y.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=LC(h)&&!r9(h),this.instance=h;const{layoutId:m,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),t){let b,x=0;const A=()=>this.root.updateBlockedByResize=!1;ln.read(()=>{x=window.innerWidth}),t(h,()=>{const O=window.innerWidth;O!==x&&(x=O,this.root.updateBlockedByResize=!0,b&&b(),b=XU(A,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,this.nodes.forEach(kx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x,hasRelativeLayoutChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||v.getDefaultTransition()||wz,{onLayoutAnimationStart:U,onLayoutAnimationComplete:B}=v.getProps(),K=!this.targetLayout||!_2(this.targetLayout,O),G=!x&&A;if(this.options.layoutRoot||this.resumeFrom||G||x&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Pv(V,"layout"),onPlay:U,onComplete:B};(v.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(b,G)}else x||kx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_z),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&v2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const x=this.path[b];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pz),this.nodes.forEach(cz),this.nodes.forEach(hz)):this.nodes.forEach(Lx),this.clearAllSnapshots();const m=Bi.now();ii.delta=Ca(0,1e3/60,m-ii.timestamp),ii.timestamp=m,ii.isProcessing=!0,jg.update.process(ii),jg.preRender.process(ii),jg.render.process(ii),ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mz),this.sharedNodes.forEach(vz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ii(this.snapshot.measuredBox.x)&&!Ii(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const y=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!y2(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;h&&this.instance&&(m||Sl(this.latestValues)||b)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return h&&(y=this.removeTransform(y)),Tz(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return Tn();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xz))){const{scroll:v}=this.root;v&&(Vu(m.x,v.offset.x),Vu(m.y,v.offset.y))}return m}removeElementScroll(h){const m=Tn();if(Ar(m,h),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&Ar(m,h),Vu(m.x,b.offset.x),Vu(m.y,b.offset.y))}return m}applyTransform(h,m=!1){const y=Tn();Ar(y,h);for(let v=0;v<this.path.length;v++){const b=this.path[v];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Uu(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Sl(b.latestValues)&&Uu(y,b.latestValues)}return Sl(this.latestValues)&&Uu(y,this.latestValues),y}removeTransform(h){const m=Tn();Ar(m,h);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!Sl(v.latestValues))continue;$y(v.latestValues)&&v.updateSnapshot();const b=Tn(),x=v.measurePageBox();Ar(b,x),Rx(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return Sl(this.latestValues)&&Rx(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:x}=this.options;if(!(!this.layout||!(b||x))){if(this.resolvedRelativeTargetAt=ii.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),bh(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),QC(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),bh(this.relativeTargetOrigin,this.target,A.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$y(this.parent.latestValues)||XC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ii.timestamp&&(y=!1),y)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;Ar(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,A=this.treeScale.y;F9(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Tn());const{target:O}=h;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sx(this.prevProjectionDelta.x,this.projectionDelta.x),Sx(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==A||!Mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zu(),this.projectionDelta=zu(),this.projectionDeltaWithTransform=zu()}setAnimationOrigin(h,m=!1){const y=this.snapshot,v=y?y.latestValues:{},b={...this.latestValues},x=zu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=Tn(),O=y?y.source:void 0,V=this.layout?this.layout.source:void 0,U=O!==V,B=this.getStack(),K=!B||B.members.length<=1,G=!!(U&&!K&&this.options.crossfade===!0&&!this.path.some(bz));this.animationProgress=0;let Q;this.mixTargetDelta=_e=>{const J=_e/1e3;Vx(x.x,h.x,J),Vx(x.y,h.y,J),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bh(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ez(this.relativeTarget,this.relativeTargetOrigin,A,J),Q&&sz(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Tn()),Ar(Q,this.relativeTarget)),U&&(this.animationValues=b,JU(b,v,this.latestValues,J,G,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{Md.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ec(0)),this.currentAnimation=KU(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:y,layout:v,latestValues:b}=h;if(!(!m||!y||!v)){if(this!==h&&this.layout&&v&&b2(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||Tn();const x=Ii(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+x;const A=Ii(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+A}Ar(m,y),Uu(m,b),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new az),this.sharedNodes.get(h).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const v={};y.z&&Jg("z",h,v,this.animationValues);for(let b=0;b<Qg.length;b++)Jg(`rotate${Qg[b]}`,h,v,this.animationValues),Jg(`skew${Qg[b]}`,h,v,this.animationValues);h.render();for(const b in v)h.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Od(m?.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Od(m?.pointerEvents)||""),this.hasProjected&&!Sl(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let x=oz(this.projectionDeltaWithTransform,this.treeScale,b);y&&(x=y(b,x)),h.transform=x;const{x:A,y:O}=this.projectionDelta;h.transformOrigin=`${A.origin*100}% ${O.origin*100}% 0`,v.animationValues?h.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const V in Vh){if(b[V]===void 0)continue;const{correct:U,applyTo:B,isCSSVariable:K}=Vh[V],G=x==="none"?b[V]:U(b[V],v);if(B){const Q=B.length;for(let _e=0;_e<Q;_e++)h[B[_e]]=G}else K?this.options.visualElement.renderState.vars[V]=G:h[V]=G}this.options.layoutId&&(h.pointerEvents=v===this?Od(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(Dx),this.root.sharedNodes.clear()}}}function cz(t){t.updateLayout()}function hz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?Cr(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],A=Ii(x);x.min=n[b].min,x.max=x.min+A}):b2(o,e.layoutBox,n)&&Cr(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],A=Ii(n[b]);x.max=x.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+A)});const h=zu();Eh(h,n,e.layoutBox);const m=zu();u?Eh(m,t.applyTransform(r,!0),e.measuredBox):Eh(m,n,e.layoutBox);const y=!y2(h);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:A}=b;if(x&&A){const O=Tn();bh(O,e.layoutBox,x.layoutBox);const V=Tn();bh(V,n,A.layoutBox),_2(O,V)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=O,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function fz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mz(t){t.clearSnapshot()}function Dx(t){t.clearMeasurements()}function Lx(t){t.isLayoutDirty=!1}function pz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gz(t){t.resolveTargetDelta()}function yz(t){t.calcProjection()}function _z(t){t.resetSkewAndRotation()}function vz(t){t.removeLeadSnapshot()}function Vx(t,e,n){t.translate=fn(e.translate,0,n),t.scale=fn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ux(t,e,n,r){t.min=fn(e.min,n.min,r),t.max=fn(e.max,n.max,r)}function Ez(t,e,n,r){Ux(t.x,e.x,n.x,r),Ux(t.y,e.y,n.y,r)}function bz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wz={duration:.45,ease:[.4,0,.1,1]},zx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bx=zx("applewebkit/")&&!zx("chrome/")?Math.round:Ir;function jx(t){t.min=Bx(t.min),t.max=Bx(t.max)}function Tz(t){jx(t.x),jx(t.y)}function b2(t,e,n){return t==="position"||t==="preserve-aspect"&&!NU(Ox(e),Ox(n),.2)}function xz(t){return t!==t.root&&t.scroll?.wasRoot}const Sz=E2({attachResizeListener:(t,e)=>Uh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},w2=E2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ey.current){const t=new Sz({});t.mount(window),t.setOptions({layoutScroll:!0}),ey.current=t}return ey.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Az={pan:{Feature:qU},drag:{Feature:HU,ProjectionNode:w2,MeasureLayout:m2}};function Fx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ln.postRender(()=>u(e,rf(e)))}class Cz extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=J6(e,(n,r)=>(Fx(this.node,r,"Start"),o=>Fx(this.node,o,"End"))))}unmount(){}}class Rz extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ef(Uh(this.node.current,"focus",()=>this.onFocus()),Uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ln.postRender(()=>u(e,rf(e)))}class Nz extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=i9(e,(n,r)=>(Hx(this.node,r,"Start"),(o,{success:u})=>Hx(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jy=new WeakMap,ty=new WeakMap,Pz=t=>{const e=Jy.get(t.target);e&&e(t)},Iz=t=>{t.forEach(Pz)};function Oz({root:t,...e}){const n=t||document;ty.has(n)||ty.set(n,{});const r=ty.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Iz,{root:t,...e})),r[o]}function Mz(t,e,n){const r=Oz(e);return Jy.set(t,n),r.observe(t),()=>{Jy.delete(t),r.unobserve(t)}}const Dz={some:0,all:1};class Lz extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,h={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Dz[o]},m=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:x}=this.node.getProps(),A=v?b:x;A&&A(y)};return Mz(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kz(e,n))&&this.startObserver()}unmount(){}}function kz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Vz={inView:{Feature:Lz},tap:{Feature:Nz},focus:{Feature:Rz},hover:{Feature:Cz}},Uz={layout:{ProjectionNode:w2,MeasureLayout:m2}},zz={...TU,...Vz,...Az,...Uz},qx=z9(zz,Q9),Bz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[o,u]=k.useState(null),[h,m]=k.useState(null),[y,v]=k.useState(null),[b,x]=k.useState(!1),[A,O]=k.useState(!1),[V,U]=k.useState(null),[B,K]=k.useState(null),[G,Q]=k.useState({}),[_e,J]=k.useState(!1),ue=async W=>{const me=G[W];if(!me||!me.trim()){v("Message cannot be empty");return}J(!0);try{await Py(ba(rs,"orderMessages"),{orderId:W,message:me.trim(),timestamp:yT(),sender:"customer"}),Q(oe=>{const Ne={...oe};return delete Ne[W],Ne}),m("Message sent successfully!")}catch(oe){console.error("Error sending message:",oe),v("Failed to send message.")}finally{J(!1)}},j=W=>new Date(W).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"}),N=(W,me)=>{Q(oe=>({...oe,[W]:me}))},M=k.useRef({}),F=k.useCallback(()=>{try{const W=localStorage.getItem("orders");if(!W)return[];const me=JSON.parse(W);return Array.isArray(me)?me:[]}catch(W){return console.error("Error reading orders from localStorage:",W),[]}},[]),q=k.useCallback(W=>{try{localStorage.setItem("orders",JSON.stringify(Array.isArray(W)?W:[]))}catch(me){console.error("Error saving orders to localStorage:",me)}},[]),Y=k.useCallback(()=>{try{const W=localStorage.getItem("cancellationRequests");if(!W)return[];const me=JSON.parse(W);return Array.isArray(me)?me:[]}catch(W){return console.error("Error reading cancellation requests from localStorage:",W),[]}},[]),H=k.useCallback(W=>{try{localStorage.setItem("cancellationRequests",JSON.stringify(Array.isArray(W)?W:[]))}catch(me){console.error("Error saving cancellation requests to localStorage:",me)}},[]),Ze=k.useCallback(()=>{r(!0),u(null);try{const W=F();e(W)}catch(W){console.error("Error fetching local orders:",W),u("Failed to load your orders.")}finally{r(!1)}},[F]);k.useEffect(()=>{Ze()},[Ze]),k.useEffect(()=>{const W=t.map(oe=>oe.id).filter(Boolean),me=Object.keys(M.current);W.forEach(oe=>{if(M.current[oe])return;const Ne=_i(ba(rs,"orders"),is("id","==",oe)),Pe=b4(Ne,Te=>{if(!Te.empty){const ht=Te.docs[0].data();e(Qe=>Qe.map(qt=>qt.id===oe?{...qt,status:ht.status??qt.status,timestamp:ht.timestamp??qt.timestamp}:qt));try{const qt=F().map(Gt=>Gt.id===oe?{...Gt,status:ht.status??Gt.status,timestamp:ht.timestamp??Gt.timestamp}:Gt);q(qt)}catch(Qe){console.error("Failed to persist updated order status to localStorage:",Qe)}}},Te=>{console.error(`Firestore listener error for order ${oe}:`,Te)});M.current[oe]=Pe}),me.forEach(oe=>{if(!W.includes(oe)){try{M.current[oe]?.()}catch{}delete M.current[oe]}})},[t,F,q]),k.useEffect(()=>()=>{Object.values(M.current).forEach(W=>{try{W?.()}catch{}}),M.current={}},[]);const Ue=k.useCallback(W=>{try{if(M.current[W]){try{M.current[W]()}catch{}delete M.current[W]}const oe=F().filter(Ne=>Ne.id!==W);q(oe),e(oe),m("Order removed successfully!"),O(!1),K(null)}catch(me){console.error("Error removing order:",me),v("Failed to remove order.")}},[F,q]),re=W=>{K(W),O(!0)},ge=async W=>{if(!W){console.error("❌ Order ID is missing, cannot send cancellation"),v("Order ID not found. Please try again.");return}try{await Py(ba(rs,"cancellations"),{orderId:W,message:`User requested to cancel order #${W}`,timestamp:yT()});const me=Y(),oe={orderId:W,message:`User requested to cancel order #${W}`,timestamp:new Date().toISOString()};H([...me,oe]);const Pe=F().map(Te=>Te.id===W?{...Te,cancellationRequested:!0}:Te);q(Pe),e(Pe),m("✅ Your cancel request has been sent to admin."),x(!1),U(null)}catch(me){console.error("Error sending cancel request:",me),v("❌ Failed to send cancel request.")}},pe=W=>{U(W),x(!0)},$e=W=>(W||[]).reduce((me,oe)=>me+(Number(oe.price)||0)*(Number(oe.qty)||0),0),z=W=>{switch(W){case"Pending":return{bgColor:"bg-yellow-100",textColor:"text-yellow-800",icon:_.createElement(Iy,{className:"w-4 h-4"})};case"In Transit":case"Shipped":return{bgColor:"bg-blue-100",textColor:"text-blue-800",icon:_.createElement(XV,{className:"w-4 h-4"})};case"Delivered":return{bgColor:"bg-green-100",textColor:"text-green-800",icon:_.createElement(rm,{className:"w-4 h-4"})};case"Cancelled":return{bgColor:"bg-red-100",textColor:"text-red-800",icon:_.createElement(Ro,{className:"w-4 h-4"})};default:return{bgColor:"bg-gray-100",textColor:"text-gray-800",icon:_.createElement(qV,{className:"w-4 h-4"})}}};return k.useEffect(()=>{if(h||y){const W=setTimeout(()=>{m(null),v(null)},3e3);return()=>clearTimeout(W)}},[h,y]),n?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex justify-center items-center"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-700"})):o?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},_.createElement("div",{className:"text-red-500 text-5xl mb-4"},"⚠️"),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Oops!"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},o),_.createElement("button",{onClick:Ze,className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Try Again")):t.length===0?_.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 flex flex-col justify-center items-center"},_.createElement(Or,{className:"w-24 h-24 text-gray-300 mb-6"}),_.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Your Orders"),_.createElement("p",{className:"text-gray-600 text-lg mb-8"},"You haven't placed any orders yet."),_.createElement(ls,{to:"/",className:"px-6 py-3 bg-red-700 text-white rounded-lg"},"Start Shopping")):_.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8"},(h||y)&&_.createElement("div",{className:"fixed top-4 right-4 z-50"},h&&_.createElement("div",{className:"mb-2 p-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},_.createElement(rm,{className:"w-5 h-5 mr-2"}),h),y&&_.createElement("div",{className:"mb-2 p-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center"},_.createElement(Iy,{className:"w-5 h-5 mr-2"}),y)),_.createElement("div",{className:"max-w-6xl mx-auto"},_.createElement(qx.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12"},_.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-red-700"},"My Orders"),_.createElement("div",{className:"w-24 h-1 bg-red-600 mx-auto mt-4 rounded-full"})),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((W,me)=>{const oe=z(W.status),Ne=$e(W.items||[]),Pe=W.status!=="Cancelled"&&W.status!=="Delivered"&&!W.cancellationRequested;return _.createElement(qx.div,{key:W.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:me*.08},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},_.createElement("div",{className:"p-5 border-b border-gray-100"},_.createElement("div",{className:"flex justify-between items-start mb-3"},_.createElement("div",null,_.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Order ",W.id),_.createElement("div",{className:"flex items-center text-gray-500 mt-1"},_.createElement(PV,{className:"w-4 h-4 mr-1"}),_.createElement("span",{className:"text-sm"},j(W.timestamp)))),_.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${oe.bgColor} ${oe.textColor}`},oe.icon,_.createElement("span",{className:"ml-1"},W.status)))),_.createElement("div",{className:"p-5"},_.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-3"},"Products Ordered"),_.createElement("div",{className:"space-y-4"},(W.items||[]).map((Te,ht)=>_.createElement("div",{key:Te.id||ht,className:"flex items-center"},_.createElement("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},_.createElement("img",{src:Te.image||(Array.isArray(Te.images)?Te.images[0]:Te.images),alt:Te.name,className:"w-full h-full object-cover"})),_.createElement("div",{className:"ml-4 flex-1 min-w-0"},_.createElement("h5",{className:"text-sm font-medium text-gray-900 truncate"},Te.name),_.createElement("div",{className:"flex justify-between mt-1"},_.createElement("span",{className:"text-sm text-gray-500"},"Qty: ",Te.qty),_.createElement("span",{className:"text-sm font-medium text-gray-900"},"$",(Number(Te.price)*Number(Te.qty)).toFixed(2)))))))),_.createElement("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100"},_.createElement("div",{className:"flex justify-between items-center"},_.createElement("span",{className:"text-base font-medium text-gray-900"},"Grand Total"),_.createElement("span",{className:"text-lg font-bold text-red-700"},"$",Ne.toFixed(2)))),_.createElement("div",{className:"flex justify-between items-center px-5 py-3"},Pe?_.createElement("button",{onClick:()=>pe(W.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},_.createElement(Ro,{className:"w-4 h-4"})," Cancel order"):_.createElement("span",{className:"text-gray-400 text-sm flex items-center gap-2 cursor-not-allowed"},_.createElement(Ro,{className:"w-4 h-4"}),W.cancellationRequested?"Cancellation Requested":"The order is cancelled"),_.createElement("button",{onClick:()=>re(W.id),className:"text-red-500 hover:text-red-700 flex items-center gap-2 text-sm font-medium"},_.createElement(Ro,{className:"w-4 h-4"})," Remove")),_.createElement("div",{className:"p-5 border-t border-gray-100 w-full"},_.createElement("div",{className:"mb-2"},_.createElement("label",{htmlFor:`message-${W.id}`,className:"block text-sm font-medium text-gray-700 mb-1"},"Message to Delivery"),_.createElement("textarea",{id:`message-${W.id}`,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type your message here...",value:G[W.id]||"",onChange:Te=>N(W.id,Te.target.value),rows:3})),_.createElement("button",{onClick:()=>ue(W.id),disabled:_e||!G[W.id]?.trim(),className:"mt-2 px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors w-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},_e?_.createElement(_.Fragment,null,_.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."):"Send Message")))}))),b&&_.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},_.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Cancellation"),_.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to request cancellation for order #",V,"? The admin will review your request."),_.createElement("div",{className:"flex justify-end space-x-3"},_.createElement("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"No, Keep Order"),_.createElement("button",{onClick:()=>ge(V),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Yes, Request Cancellation")))),A&&_.createElement("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4"},_.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},_.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Confirm Removal"),_.createElement("p",{className:"text-gray-600 mb-6"},"Are you sure you want to remove order #",B," from your orders list? This will only remove it from your view."),_.createElement("div",{className:"flex justify-end space-x-3"},_.createElement("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Cancel"),_.createElement("button",{onClick:()=>Ue(B),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors"},"Remove Order")))))};function jz(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[o,u]=k.useState(!1),[h,m]=k.useState([]),[y,v]=k.useState(""),b=K=>{e(G=>G.find(_e=>_e.id===K.id)?G.map(_e=>_e.id===K.id?{..._e,qty:_e.qty+1}:_e):[...G,{...K,qty:1}])},x=K=>e(t.map(G=>G.id===K?{...G,qty:G.qty+1}:G)),A=K=>e(t.map(G=>G.id===K?{...G,qty:G.qty>1?G.qty-1:1}:G)),O=K=>e(t.filter(G=>G.id!==K)),V=()=>e([]),U=()=>t.reduce((K,G)=>K+G.qty,0),B=()=>t.reduce((K,G)=>K+parseFloat(G.price)*G.qty,0);return _.createElement(iP,null,_.createElement(C3,{cartItemCount:U(),onCartClick:()=>r(!0),onSearch:v}),_.createElement(R3,{isOpen:n,onClose:()=>r(!1),cart:t,onIncreaseQty:x,onDecreaseQty:A,onRemoveItem:O,onClearCart:V,onCheckout:()=>{u(!0),r(!1)},total:B()}),_.createElement(t5,{isOpen:o,onClose:()=>u(!1),cart:t,total:B(),onOrderSuccess:V}),_.createElement(DN,null,_.createElement(da,{path:"/",element:_.createElement(wV,{onAddToCart:b,onAddToFavorites:K=>m([...h,K]),onRemoveFromFavorites:K=>m(h.filter(G=>G.id!==K)),favorites:h,searchQuery:y})}),_.createElement(da,{path:"/men",element:_.createElement(u3,{onAddToCart:b})}),_.createElement(da,{path:"/orders",element:_.createElement(Bz,{onAddToCart:b})}),_.createElement(da,{path:"/women",element:_.createElement(y3,{onAddToCart:b})}),_.createElement(da,{path:"/kids",element:_.createElement(S3,{onAddToCart:b})}),_.createElement(da,{path:"/favorites",element:_.createElement(A3,{favorites:h,onAddToCart:b})}),_.createElement(da,{path:"/product/:id",element:_.createElement(i5,{onAddToCart:b})}),_.createElement(da,{path:"/contact",element:_.createElement(s5,null)})),_.createElement(r5,null))}HR.createRoot(document.getElementById("root")).render(_.createElement(k.StrictMode,null,_.createElement(jz,null)));export{AT as A,PV as C,uv as E,jo as H,CV as I,UV as L,BV as M,qV as P,_ as R,Or as S,zA as T,JV as U,BA as W,Ro as X,Sn as a,Iy as b,ba as c,rs as d,rm as e,kA as f,Jh as g,CT as h,RT as i,VA as j,$V as k,UA as l,XV as m,k as r};
